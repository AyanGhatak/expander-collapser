!function(t){function e(a){if(n[a])return n[a].exports;var o=n[a]={exports:{},id:a,loaded:!1};return t[a].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){(function(t){"use strict";var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=n(2),o=n(3);!function(n,a){"object"===e(t)&&t.exports?t.exports=n.document?a(n):function(t){if(!t.document)throw new Error("Window with document not present");return a(t,!0)}:n.DateRangeChooser=a(n,!0)}("undefined"!=typeof window?window:void 0,function(t,e){var n=t.FusionCharts;t.FusionCalendar;n.register("extension",["private","expander-collapser",function(){var t=this.hcLib.DateTimeFormatter;n.registerComponent("extensions","expander-collapser",a({FusionCharts:n,DateTimeFormatter:t})),n.registerComponent("extensions","expander-collapser2",a({FusionCharts:n,DateTimeFormatter:t})),n.registerComponent("extensions","SidePanel",o({FusionCharts:n,DateTimeFormatter:t}))}])})}).call(e,n(1)(t))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}}();t.exports=function(t){var e=function(){function e(){if(n(this,e),"function"!=typeof t.FusionCharts)throw new Error("Unable to find FusionCharts.");this.toolbox=t.FusionCharts.getComponent("api","toolbox"),this.btns={contextualObj:{},calculatedObj:{}},this.HorizontalToolbar=this.toolbox.HorizontalToolbar,this.ComponentGroup=this.toolbox.ComponentGroup,this.createObjectAssign()}return a(e,[{key:"createObjectAssign",value:function(){"function"!=typeof Object.assign&&(Object.assign=function(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),a=1;a<arguments.length;a++){var o=arguments[a];if(null!=o)for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])}return n})}},{key:"createD3Button",value:function(t){var e,n,a,o,i,r=this.extData.button,s=this.graphics.paper,l=s.getInstances().d3,c=this;e=t.text,n=t.config,i=l.button(e).setConfig(n),i.namespace("fusioncharts"),i.appendSelector("standarperiodselector"),c.addCssRules(i.getIndividualClassNames(i.getClassName()),r),a=r.states;for(o in a)c.addCssRules(i.getIndividualClassNames(i.config.states[o]),r.states[o]);return t.eventListeners&&i.attachEventHandlers({click:t.eventListeners.click.bind(i)}),i}},{key:"createD3Label",value:function(t){var e,n,a,o=this.extData.label,i=this,r={paper:i.graphics.paper,chart:i.chart,smartLabel:i.smartLabel,chartContainer:i.graphics.container};return e=t.text,n=t.config,a=new i.toolbox.Label(e,r,n),i.addCssRules(a.getIndividualClassNames(a.getClassName()),o),a}},{key:"init",value:function(t){var e=this;return t(["graphics","chart","canvasConfig","MarkerManager","reactiveModel","globalReactiveModel","spaceManagerInstance","smartLabel","extData","chartInstance",function(t,n,a,o,i,r,s,l,c,u){e.graphics=t,e.chart=n,e.markerManager=o,e.canvasConfig=a,e.reactiveModel=i,e.globalReactiveModel=r,e.spaceManagerInstance=s,e.smartLabel=l,e.extDataUser=c,e.chartInstance=u}]),e.extData={disabled:!1,"default-select":"ALL","all-button":!0,"contextual-button":!0,"calculated-button":!0,posWrtCanvas:"top","anchor-align":"right",layout:"inline",position:"top",alignment:"left",orientation:"horizontal",customMultipliers:{millisecond:[1,500],second:[1,5,15,30],minute:[1,5,15,30],hour:[1,3,6,12],day:[1,7,15],month:[1,3,6],year:[1,3,5]},padding:0,button:{height:22,radius:1,className:"standard-period-selector",container:{style:{fill:"#FFFFFF","stroke-width":"1px",stroke:"#CED5D4",labelFill:"#4b4b4b",strokeWidth:"1px"}},text:{style:{fontFamily:'"Lucida Grande", sans-serif',"font-size":"13px",fill:"#4b4b4b","line-height":"1px","letter-spacing":"-0.04em"}},states:{hover:{className:"standard-period-selector-state-hover",container:{style:{cursor:"pointer",fill:"#f7f7f7"}}}}},label:{className:"standard-period-selector-label",text:{style:{"font-weight":"bold","font-family":'"Lucida Grande", sans-serif',"font-size":"13px",fill:"#4b4b4b"}},container:{height:22}}},e.config=e.extData,Object.assign(e.extData,e.extDataUser),e.measurement={},e.toolbar=e.createToolbar(),e}},{key:"createToolbar",value:function(){window.count||(window.count=0),window.count+=1;var t,e,n,a,o=this,i={paper:o.graphics.paper,chart:o.chart,smartLabel:o.smartLabel,chartContainer:o.graphics.container},r={fill:"#fff",borderThickness:0};t=new o.HorizontalToolbar(i),t.setConfig(r),n=this.group=new o.toolbox.ComponentGroup(i),n.setConfig(r),e={height:22,text:"Zoom:",group:n,config:{height:22}},o.componentArr=[],o.componentArr.push({instance:o.createD3Label(e),priority:1});for(var r={},s=o.getModuleName(),l=0;l<6;l++)a={},a.instance=o.createD3Button({text:"BUTTON"+l,config:{margin:{right:5,left:5}},group:n}),a.id="id",a.priority=2,this.componentArr.push(a);return this.expandButton={instance:o.createD3Button({text:">>",config:{margin:{right:2,left:2}},group:n,eventListeners:{click:function(){var t=(o.fullview,o.previousWidth),e=o.maxSpace,n=e.width-t;console.log("diff",n),o.spaceManagerInstance.cacheByName(s).adjustWidth(n)}}})},this.expandButton.logicalSpace=a.instance.getLogicalSpace(),this.expandButton.priority=0,t.addComponent(n),o.toolbar=t,t}},{key:"addCssRules",value:function(t,e){var n,a,o=this.graphics.paper;for(n in t)switch(a=t[n],n){case"container":e.container&&o.cssAddRule("."+a,e.container.style);break;case"text":e.text&&o.cssAddRule("."+a,e.text.style)}}},{key:"addSymbols",value:function(t){var e,n,a=this.group;for(e=0,n=t.length;e<n;e++)a.addSymbol(t[e].instance)}},{key:"getLogicalSpace",value:function(t,e){var n,a,o=(this.buttons,[this.expandButton]);return this.group.emptyList(),this.addSymbols(o),n=this.toolbar.getLogicalSpace(t,e),console.log("minWidth",n.width),this.group.emptyList(),this.addSymbols(this.componentArr),this.maxSpace=a=this.toolbar.getLogicalSpace(t,e),{width:{max:a.width,min:n.width},height:a.height}}},{key:"getModuleName",value:function(){return"ExpanderCollapser"+window.count}},{key:"placeInCanvas",value:function(){var t=this;t.spaceManagerInstance.add([{name:function(){return t.getModuleName()},ref:function(t){return t[0]},self:function(){return t},priority:function(){return 2},layout:function(e){return e[t.config.layout]},orientation:[{type:function(e){return e[t.config.orientation]},position:[{type:function(e){return e[t.config.position]},alignment:[{type:function(e){return e[t.config.alignment]},dimensions:[function(){var e=this.getParentComponentGroup();return t.getLogicalSpace(e.getWidth(),e.getHeight())}]}]}]}]}])}},{key:"setDrawingConfiguration",value:function(t,e,n,a,o){var i=this.measurement;return i.x=t,i.y=e,i.width=n,i.height=a,this.parentGroup=o,this}},{key:"getDrawableComponentList",value:function(t,e){var n,a,o,i,r,s=this.componentArr,l=0,c=[],u=this.group,p=this.toolbar,h=u.config.padding,d=u.config.margin,f=p.config.padding,g=f.left+f.right+h.left+h.right+d.left+d.right;for(t-=g,o=0,n=s.length;o<n;o++){if(a=s[o],i=a.instance.getLogicalSpace(),this.previousWidth=l,l+=i.width,l>t){l-=i.width;break}c.push(a.instance)}return i=this.expandButton.instance.getLogicalSpace(),c.length!==n&&(l+=i.width,l>t&&(r=c.pop(),l-=r.getLogicalSpace().width),c.push(this.expandButton.instance)),this.previousWidth=l+g,c}},{key:"draw",value:function(t,e,n,a,o){var i=this,r=i.measurement,s=i.toolbar,l=void 0;t=void 0===t?r.x:t,e=void 0===e?r.y:e,n=void 0===n?r.width:n,a=void 0===a?r.height:a,o=void 0===o?i.parentGroup:o,n&&a&&(this.group.emptyList(),l=this.getDrawableComponentList(n,a),this.group.addSymbol(l),s.getLogicalSpace(n,a),s.draw(t,e,o))}}]),e}();return e}},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}}();t.exports=function(t){var e=function(){function e(){if(n(this,e),"function"!=typeof t.FusionCharts)throw new Error("Unable to find FusionCharts.");this.toolbox=t.FusionCharts.getComponent("api","toolbox"),this.btns={contextualObj:{},calculatedObj:{}},this.HorizontalToolbar=this.toolbox.HorizontalToolbar,this.ComponentGroup=this.toolbox.ComponentGroup,this.createObjectAssign()}return a(e,[{key:"createObjectAssign",value:function(){"function"!=typeof Object.assign&&(Object.assign=function(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),a=1;a<arguments.length;a++){var o=arguments[a];if(null!=o)for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])}return n})}},{key:"createD3Button",value:function(t){var e,n,a,o,i,r=this.extData.button,s=this.graphics.paper,l=s.getInstances().d3,c=this;e=t.text,n=t.config,i=l.button(e).setConfig(n),i.namespace("fusioncharts"),i.appendSelector("standarperiodselector"),c.addCssRules(i.getIndividualClassNames(i.getClassName()),r),a=r.states;for(o in a)c.addCssRules(i.getIndividualClassNames(i.config.states[o]),r.states[o]);return t.eventListeners&&i.attachEventHandlers({click:t.eventListeners.click.bind(i)}),i}},{key:"createD3Label",value:function(t){var e,n,a,o=this.extData.label,i=this,r={paper:i.graphics.paper,chart:i.chart,smartLabel:i.smartLabel,chartContainer:i.graphics.container};return e=t.text,n=t.config,a=new i.toolbox.Label(e,r,n),i.addCssRules(a.getIndividualClassNames(a.getClassName()),o),a}},{key:"init",value:function(t){var e=this;return t(["graphics","chart","canvasConfig","MarkerManager","reactiveModel","globalReactiveModel","spaceManagerInstance","smartLabel","extData","chartInstance","dataset",function(t,n,a,o,i,r,s,l,c,u,p){e.graphics=t,e.chart=n,e.markerManager=o,e.canvasConfig=a,e.reactiveModel=i,e.globalReactiveModel=r,e.spaceManagerInstance=s,e.smartLabel=l,e.extDataUser=c,e.chartInstance=u}]),e.extData={disabled:!1,"default-select":"ALL","all-button":!0,"contextual-button":!0,"calculated-button":!0,posWrtCanvas:"top","anchor-align":"right",layout:"inline",position:"top",alignment:"right",orientation:"horizontal",customMultipliers:{millisecond:[1,500],second:[1,5,15,30],minute:[1,5,15,30],hour:[1,3,6,12],day:[1,7,15],month:[1,3,6],year:[1,3,5]},padding:0,button:{height:22,radius:1,className:"standard-period-selector",container:{style:{fill:"#FFFFFF","stroke-width":"1px",stroke:"#CED5D4",labelFill:"#4b4b4b",strokeWidth:"1px"}},text:{style:{fontFamily:'"Lucida Grande", sans-serif',"font-size":"13px",fill:"#4b4b4b","line-height":"1px","letter-spacing":"-0.04em"}},states:{hover:{className:"standard-period-selector-state-hover",container:{style:{cursor:"pointer",fill:"#f7f7f7"}}}}},label:{className:"standard-period-selector-label",text:{style:{"font-weight":"bold","font-family":'"Lucida Grande", sans-serif',"font-size":"13px",fill:"#4b4b4b"}},container:{height:22}}},e.config=e.extData,Object.assign(e.extData,e.extDataUser),e.measurement={},e.toolbar=e.createToolbar(),e}},{key:"createToolbar",value:function(){window.count||(window.count=0),window.count+=1;var t,e,n,a=this,o={paper:a.graphics.paper,chart:a.chart,smartLabel:a.smartLabel,chartContainer:a.graphics.container},i={fill:"#fff",borderThickness:0};t=new a.HorizontalToolbar(o),t.setConfig(i),n=this.group=new a.toolbox.ComponentGroup(o),n.setConfig(i),e={height:22,text:"Zoom:",group:n,config:{height:22}},a.componentArr=[];var i={};a.getModuleName();return this.componentArr.push({instance:a.createD3Button({text:"Set Min",config:{margin:{right:5,left:5}},group:n,eventListeners:{click:function(){a.showPopup()}}}),id:"id",priority:2},{instance:a.createD3Button({text:"Show KPI",config:{margin:{right:5,left:5}},group:n,eventListeners:{click:function(){a.showKPI=!a.showKPI,tsInstance.resizeTo()}}}),id:"id",priority:2}),d3.select("html").on("click",function(){a.hidePopup()}),t.addComponent(n),a.toolbar=t,t}},{key:"addCssRules",value:function(t,e){var n,a,o=this.graphics.paper;for(n in t)switch(a=t[n],n){case"container":e.container&&o.cssAddRule("."+a,e.container.style);break;case"text":e.text&&o.cssAddRule("."+a,e.text.style)}}},{key:"addSymbols",value:function(t){var e,n,a=this.group;for(e=0,n=t.length;e<n;e++)a.addSymbol(t[e].instance)}},{key:"showPopup",value:function(){var t,e,n,a=this.graphics.paper,o=a.getInstances().d3,i=this,r=this.graphics.container,s=r.offsetWidth-(this.showKPI?100:0),l=r.offsetHeight;t=this.selection,t||(t=this.selection=o.select(r).append("div")),t.style("display","block"),t.style("position","absolute").style("left","0px").style("top","0px").style("width",s+"px").style("height",l+"px").style("background","#7f7f7f").style("opacity","0.3"),e=t.selectAll("input").data([{text:"Set Min"}]),n=t.selectAll("span").data([{text:"Set Min"}]),o.event.stopPropagation(),e.enter().append("input").merge(e).style("position","absolute").style("top",l/2+"px").style("left",s/2+"px").on("keypress",function(){var t=(i.globalReactiveModel,i.chartInstance),e=t.apiInstance.getComponentStore(),n=e.getCanvasByIndex(0),a=n.getComposition(),r=a.dataset,s={};13===o.event.keyCode&&(r.forEachSeries(function(t,e,n){var a,o,i,r,l=-(1/0),c=+(1/0),u=0,p=[];for(a=n.start;a<n.end;a++)o=e[a],l=Math.max(l,o),c=Math.min(c,o),u+=o;for(i=u/(n.end-n.start),s.sum=u,a=n.start;a<n.end;a++)o=e[a],p.push(Math.pow(o-i,2));for(u=0,a=0;a<p.length;a++)o=p[a],u+=o;r=u/p.length,s.sd=r,s.max=l,s.min=c,s.mean=i}),console.log(s))}).on("click",function(){o.event.stopPropagation()}),n.enter().append("span").merge(n).html("Set Min").style("position","absolute").style("top",l/2+"px").style("left",s/2-60+"px").style("color","#000000").style("opacity",1),o.event.stopPropagation()}},{key:"hidePopup",value:function(){this.selection&&this.selection.style("display","none")}},{key:"getLogicalSpace",value:function(t,e){var n,a,o=(this.buttons,this.componentArr);return this.group.emptyList(),this.addSymbols(o),n=this.toolbar.getLogicalSpace(t,e),console.log("minWidth",n.width),this.group.emptyList(),this.addSymbols(this.componentArr),this.maxSpace=a=this.toolbar.getLogicalSpace(t,e),{width:{max:a.width,min:n.width},height:a.height}}},{key:"getSidePanelSpace",value:function(t,e){return{width:this.showKPI?100:0,height:this.showKPI?1:0}}},{key:"getModuleName",value:function(){return"ExpanderCollapser"+window.count}},{key:"placeInCanvas",value:function(){var t=this;t.spaceManagerInstance.add([{name:function(){return t.getModuleName()},ref:function(t){return t[0]},self:function(){return t},priority:function(){return 2},layout:function(e){return e[t.config.layout]},orientation:[{type:function(e){return e[t.config.orientation]},position:[{type:function(e){return e[t.config.position]},alignment:[{type:function(e){return e[t.config.alignment]},dimensions:[function(){var e=this.getParentComponentGroup();return t.getLogicalSpace(e.getWidth(),e.getHeight())}]}]}]}]}]),t.spaceManagerInstance.add([{name:function(){return"sidepanel"},ref:function(t){return t[0]},self:function(){return t},priority:function(){return 2},layout:function(t){return t.block},orientation:[{type:function(t){return t.vertical},position:[{type:function(t){return t.right},alignment:[{type:function(t){return t.middle},dimensions:[function(){var e=this.getParentComponentGroup();return t.getSidePanelSpace(e.getWidth(),e.getHeight())}]}]}]}]}])}},{key:"setDrawingConfiguration",value:function(t,e,n,a,o){var i=this.measurement;return i.x=t,i.y=e,i.width=n,i.height=a,this.parentGroup=o,this}},{key:"draw",value:function(t,e,n,a,o){var i=this,r=i.measurement,s=i.toolbar;t=void 0===t?r.x:t,e=void 0===e?r.y:e,n=void 0===n?r.width:n,a=void 0===a?r.height:a,o=void 0===o?i.parentGroup:o,n&&a&&(s.draw(t,e,o),this.showKPI?this.drawPanel(t+n,e):this.hidePanel())}},{key:"drawPanel",value:function(t,e){function n(t,e,n,a){var o=t.join(":"),i=e.selectAll("."+n).data([1]);i=i.enter().append("div").merge(i).attr("class",n).html(o).style("position","relative");for(var r in a)i.style(r,a[r]);return i}var a,o={left:"10px","font-weight":"normal",padding:"2px"},i={padding:"10px","font-weight":"bold"},r=[{head:{text:["Visible Data"],style:i},style:{margin:"5px"},children:[{text:["Maximum",30],style:o},{text:["Minimum",30],style:o},{text:["Standard Deviation",30],style:o},{text:["Average",30],style:o}]},{head:{text:["Full Data"],style:i},style:{margin:"5px"},children:[{text:["Maximum",30],style:o},{text:["Minimum",30],style:o},{text:["Standard Deviation",30],style:o},{text:["Average",30],style:o}]}],s=d3.select(this.graphics.container).selectAll(".test").data([1]);s=s.enter().append("div").merge(s).attr("class","test").style("left",t+"px").style("position","absolute").style("display","block").style("top",e+"px");for(var l=0,c=r.length;l<c;l+=1)if(n([],s,r[l].head.text[0]+"_container",r[l].style),a=n(r[l].head.text,s,r[l].head.text[0],r[l].head.style),r[l].children)for(var u=0,p=r[l].children.length;u<p;u+=1)n(r[l].children[u].text,a,r[l].text+"_"+r[l].children[u].text[0],r[l].children[u].style)}},{key:"hidePanel",value:function(){d3.select(this.graphics.container).select(".test").remove()}}]),e}();return e}}]);
//# sourceMappingURL=expander-collapser-es5.min.js.map