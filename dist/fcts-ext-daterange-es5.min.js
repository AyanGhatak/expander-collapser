!function(t){function e(i){if(n[i])return n[i].exports;var s=n[i]={exports:{},id:i,loaded:!1};return t[i].call(s.exports,s,s.exports,e),s.loaded=!0,s.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){(function(t){"use strict";var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=n(2);window.dr=new i,function(n,i){"object"===e(t)&&t.exports?t.exports=n.document?i(n):function(t){if(!t.document)throw new Error("Window with document not present");return i(t,!0)}:n.DateRangeChooser=i(n,!0)}("undefined"!=typeof window?window:void 0,function(t,e){var n=t.FusionCharts;n.register("extension",["private","date-range-chooser",function(){n.registerComponent("extensions","date-range-chooser",i({FusionCharts:n}))}])})}).call(e,n(1)(t))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(3);t.exports=function(t){var e=function(){function e(){i(this,e),this.startDt=0,this.endDt=0,this.startDataset=0,this.endDataset=0,this.toolbox=t.FusionCharts.getComponent("api","toolbox"),this.HorizontalToolbar=this.toolbox.HorizontalToolbar,this.ComponentGroup=this.toolbox.ComponentGroup,this.SymbolStore=this.toolbox.SymbolStore,this.startText={attr:function(){}},this.endText={attr:function(){}}}return s(e,[{key:"dateFormatter",value:function(t,e){t=new Date(t);var n=[t.getUTCDate(),t.getUTCMonth()+1,t.getUTCFullYear()];return n=n.join(e)}},{key:"swapDates",value:function(){var t=this.dateRange.startDate;this.dateRange.startDate=this.dateRange.endDate,this.dateRange.endDate=t}},{key:"syncRange",value:function(){}},{key:"getFormattedDate",value:function(t){return this.chart.getFormattedDate(t)}},{key:"getTimestamp",value:function(t){return this.chart.getTimestamp(t)}},{key:"setConfig",value:function(t){}},{key:"getConfig",value:function(){return{calendarVisible:"false"}}},{key:"init",value:function(t){var e=this;return t(["xAxis","yAxis","graphics","chart","dataset","PlotManager","canvasConfig","MarkerManager","reactiveModel","globalReactiveModel","spaceManagerInstance","extData","smartLabel",function(t,n,i,s,r,a,o,u,l,h,d,c,f){console.log(c),e.xAxis=t,e.yAxis=n,e.graphics=i,e.chart=s,e.dataset=r,e.plotManager=a,e.markerManager=u,e.canvasConfig=o,e.reactiveModel=l,e.globalReactiveModel=h,e.spaceManagerInstance=d,e.smartLabel=f}]),this.spaceManagerInstance=e.spaceManagerInstance,this.globalReactiveModel=e.globalReactiveModel,this.startDt=e.globalReactiveModel.model["x-axis-visible-range-start"],this.endDt=e.globalReactiveModel.model["x-axis-visible-range-end"],this.startDataset=e.globalReactiveModel.model["x-axis-absolute-range-start"],this.endDataset=e.globalReactiveModel.model["x-axis-absolute-range-end"],this.toolbars=[],this.measurement={},this.toolbars.push(this.createToolbar()),this}},{key:"createToolbar",value:function(){var t,e,n,i,s,a,o=this;return o.fromDate={},o.toDate={},s=r(this.startDt,"x").format("DD-MM-YYYY"),a=r(this.endDt,"x").format("DD-MM-YYYY"),t=new this.HorizontalToolbar({paper:this.graphics.paper,chart:this.chart,smartLabel:this.smartLabel,chartContainer:this.graphics.container}),t.setConfig({fill:"#FFFFFF",borderThickness:0}),i=new this.toolbox.ComponentGroup({paper:this.graphics.paper,chart:this.chart,smartLabel:this.smartLabel,chartContainer:this.graphics.container}),i.setConfig({fill:"#FFFFFF",borderThickness:0}),e=new this.toolbox.Label("From:",{smartLabel:this.smartLabel,paper:this.graphics.paper},{text:{style:{"font-size":"13","font-family":'"Lucida Grande", sans-serif',fill:"#4B4B4B"}}}),n=new this.toolbox.Label("To:",{smartLabel:this.smartLabel,paper:this.graphics.paper},{text:{style:{"font-size":"13","font-family":'"Lucida Grande", sans-serif',fill:"#4B4B4B"}}}),o.fromDate=new this.toolbox.InputTextBoxSymbol({width:120,height:22},{paper:this.graphics.paper,chart:this.chart,smartLabel:this.smartLabel,chartContainer:this.graphics.container},{strokeWidth:1,stroke:"#ced5d4",symbolStrokeWidth:0,radius:2,margin:{right:22},btnTextStyle:{"font-family":'"Lucida Grande", sans-serif',fontSize:13},label:s,labelFill:"#696969"}),o.fromDate.setStateConfig({pressed:{config:{pressed:{fill:"#FFFFFF","stroke-width":1,stroke:"#1E1F1F"},normal:{fill:"#FFFFFF","stroke-width":1,stroke:"#1E1F1F"},hover:{fill:"#FFFFFF","stroke-width":1,stroke:"#0000FF"}}}}),o.toDate=new this.toolbox.InputTextBoxSymbol({width:120,height:22},{paper:this.graphics.paper,chart:this.chart,smartLabel:this.smartLabel,chartContainer:this.graphics.container},{strokeWidth:1,stroke:"#ced5d4",symbolStrokeWidth:0,radius:2,btnTextStyle:{"font-family":'"Lucida Grande", sans-serif',fontSize:13},label:a,labelFill:"#696969"}),o.toDate.setStateConfig({pressed:{config:{pressed:{fill:"#FFFFFF","stroke-width":1,stroke:"#1E1F1F"},normal:{fill:"#FFFFFF","stroke-width":1,stroke:"#1E1F1F"},hover:{fill:"#FFFFFF","stroke-width":1,stroke:"#1E1F1F"}}}}),o.fromDate.attachEventHandlers({click:{fn:function(){o.fromDate.edit(),o.fromDate.updateVisual("pressed")}},textOnBlur:function(){o.fromDate.blur(),o.startDate=o.fromDate.getText(),o.fromDate.updateVisual("enabled")}}),o.toDate.attachEventHandlers({click:{fn:function(){o.toDate.edit(),o.toDate.updateVisual("pressed")}},textOnBlur:function(){o.toDate.blur(),o.endDate=o.toDate.getText(),o.toDate.updateVisual("enabled")}}),this.SymbolStore.register("textBoxIcon",function(t,e,n,i,s,r,a){var o=t-i/2+r/2,u=t+i/2-r/2,l=e-s/2+a/2,h=e+s/2-a/2;return["M",o,l,"L",u,l,"L",u,h,"L",o,h,"Z"]}),i.addSymbol(e),i.addSymbol(o.fromDate),i.addSymbol(n),i.addSymbol(o.toDate),t.addComponent(i),t}},{key:"getLogicalSpace",value:function(t,e){var n,i,s,r=0,a=0;for(t/=2,i=0,s=this.toolbars.length;i<s;i++)n=this.toolbars[i].getLogicalSpace(t,e),r=Math.max(n.width,r),a+=n.height,this.toolbars[i].width=n.width,this.toolbars[i].height=n.height;return a+=this.padding,{width:r,height:a}}},{key:"placeInCanvas",value:function(){var t=this;t.padding=5,t.spaceManagerInstance.add([{name:function(){return"DateRangeChooserToolbox"},ref:function(t){return t[0]},self:function(){return t},priority:function(){return 2},layout:function(t){return t.inline},orientation:[{type:function(t){return t.horizontal},position:[{type:function(t){return t.top},alignment:[{type:function(t){return t.right},dimensions:[function(){var e=this.getParentComponentGroup();return t.getLogicalSpace(e.getWidth(),e.getHeight())}]}]}]}]}])}},{key:"setDrawingConfiguration",value:function(t,e,n,i,s){var r=this.measurement;return r.x=t,r.y=e,r.width=n,r.height=i,this.parentGroup=s,this}},{key:"draw",value:function(t,e,n,i,s){var a,o,u,l=this.measurement,h=this.toolbars,d=this.globalReactiveModel,c=this;if(t=void 0===t?l.x:t,e=void 0===e?l.y:e,n=void 0===n?l.width:n,i=void 0===i?l.height:i,s=void 0===s?this.parentGroup:s,n&&i)for(o=0,a=h.length;o<a;o++)u=h[o],u.draw(t,e,s);d.onPropsChange(["x-axis-visible-range-start","x-axis-visible-range-end"],function(t,e){c.fromDate.blur(r(t[1],"x").format("DD-MM-YYYY")),c.toDate.blur(r(e[1],"x").format("DD-MM-YYYY"))})}},{key:"startDate",get:function(){return this.startDt},set:function(t){var e=parseInt(r(t,"DD-MM-YYYY").format("x")),n=this.globalReactiveModel.model["x-axis-absolute-range-start"];e<=this.endDt&&e>=n?(this.startDt=e,this.globalReactiveModel.model["x-axis-visible-range-start"]=this.startDt):console.error("From Date error state!")}},{key:"endDate",get:function(){return this.endDt},set:function(t){var e=parseInt(r(t,"DD-MM-YYYY").format("x")),n=this.globalReactiveModel.model["x-axis-absolute-range-end"];e>=this.startDt&&e<=n?(this.endDt=e,this.globalReactiveModel.model["x-axis-visible-range-end"]=this.endDt):console.error("To Date error state!")}}]),e}();return e}},function(t,e,n){(function(t){!function(e,n){t.exports=n()}(this,function(){"use strict";function e(){return gi.apply(null,arguments)}function n(t){gi=t}function i(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function s(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function r(t){var e;for(e in t)return!1;return!0}function a(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function o(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function u(t,e){var n,i=[];for(n=0;n<t.length;++n)i.push(e(t[n],n));return i}function l(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function h(t,e){for(var n in e)l(e,n)&&(t[n]=e[n]);return l(e,"toString")&&(t.toString=e.toString),l(e,"valueOf")&&(t.valueOf=e.valueOf),t}function d(t,e,n,i){return pe(t,e,n,i,!0).utc()}function c(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null}}function f(t){return null==t._pf&&(t._pf=c()),t._pf}function m(t){if(null==t._isValid){var e=f(t),n=pi.call(e.parsedDateParts,function(t){return null!=t}),i=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n);if(t._strict&&(i=i&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return i;t._isValid=i}return t._isValid}function _(t){var e=d(NaN);return null!=t?h(f(e),t):f(e).userInvalidated=!0,e}function g(t){return void 0===t}function y(t,e){var n,i,s;if(g(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),g(e._i)||(t._i=e._i),g(e._f)||(t._f=e._f),g(e._l)||(t._l=e._l),g(e._strict)||(t._strict=e._strict),g(e._tzm)||(t._tzm=e._tzm),g(e._isUTC)||(t._isUTC=e._isUTC),g(e._offset)||(t._offset=e._offset),g(e._pf)||(t._pf=f(e)),g(e._locale)||(t._locale=e._locale),vi.length>0)for(n in vi)i=vi[n],s=e[i],g(s)||(t[i]=s);return t}function p(t){y(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),wi===!1&&(wi=!0,e.updateOffset(this),wi=!1)}function v(t){return t instanceof p||null!=t&&null!=t._isAMomentObject}function w(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function D(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=w(e)),n}function M(t,e,n){var i,s=Math.min(t.length,e.length),r=Math.abs(t.length-e.length),a=0;for(i=0;i<s;i++)(n&&t[i]!==e[i]||!n&&D(t[i])!==D(e[i]))&&a++;return a+r}function k(t){e.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function S(t,n){var i=!0;return h(function(){if(null!=e.deprecationHandler&&e.deprecationHandler(null,t),i){for(var s,r=[],a=0;a<arguments.length;a++){if(s="","object"==typeof arguments[a]){s+="\n["+a+"] ";for(var o in arguments[0])s+=o+": "+arguments[0][o]+", ";s=s.slice(0,-2)}else s=arguments[a];r.push(s)}k(t+"\nArguments: "+Array.prototype.slice.call(r).join("")+"\n"+(new Error).stack),i=!1}return n.apply(this,arguments)},n)}function Y(t,n){null!=e.deprecationHandler&&e.deprecationHandler(t,n),Di[t]||(k(n),Di[t]=!0)}function b(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function x(t){var e,n;for(n in t)e=t[n],b(e)?this[n]=e:this["_"+n]=e;this._config=t,this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function F(t,e){var n,i=h({},t);for(n in e)l(e,n)&&(s(t[n])&&s(e[n])?(i[n]={},h(i[n],t[n]),h(i[n],e[n])):null!=e[n]?i[n]=e[n]:delete i[n]);for(n in t)l(t,n)&&!l(e,n)&&s(t[n])&&(i[n]=h({},i[n]));return i}function T(t){null!=t&&this.set(t)}function O(t,e,n){var i=this._calendar[t]||this._calendar.sameElse;return b(i)?i.call(e,n):i}function P(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])}function W(){return this._invalidDate}function R(t){return this._ordinal.replace("%d",t)}function C(t,e,n,i){var s=this._relativeTime[n];return b(s)?s(t,e,n,i):s.replace(/%d/i,t)}function L(t,e){var n=this._relativeTime[t>0?"future":"past"];return b(n)?n(e):n.replace(/%s/i,e)}function U(t,e){var n=t.toLowerCase();Pi[n]=Pi[n+"s"]=Pi[e]=t}function G(t){return"string"==typeof t?Pi[t]||Pi[t.toLowerCase()]:void 0}function H(t){var e,n,i={};for(n in t)l(t,n)&&(e=G(n),e&&(i[e]=t[n]));return i}function V(t,e){Wi[t]=e}function E(t){var e=[];for(var n in t)e.push({unit:n,priority:Wi[n]});return e.sort(function(t,e){return t.priority-e.priority}),e}function I(t,n){return function(i){return null!=i?(N(this,t,i),e.updateOffset(this,n),this):j(this,t)}}function j(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function N(t,e,n){t.isValid()&&t._d["set"+(t._isUTC?"UTC":"")+e](n)}function A(t){return t=G(t),b(this[t])?this[t]():this}function z(t,e){if("object"==typeof t){t=H(t);for(var n=E(t),i=0;i<n.length;i++)this[n[i].unit](t[n[i].unit])}else if(t=G(t),b(this[t]))return this[t](e);return this}function Z(t,e,n){var i=""+Math.abs(t),s=e-i.length,r=t>=0;return(r?n?"+":"":"-")+Math.pow(10,Math.max(0,s)).toString().substr(1)+i}function B(t,e,n,i){var s=i;"string"==typeof i&&(s=function(){return this[i]()}),t&&(Ui[t]=s),e&&(Ui[e[0]]=function(){return Z(s.apply(this,arguments),e[1],e[2])}),n&&(Ui[n]=function(){return this.localeData().ordinal(s.apply(this,arguments),t)})}function $(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function q(t){var e,n,i=t.match(Ri);for(e=0,n=i.length;e<n;e++)Ui[i[e]]?i[e]=Ui[i[e]]:i[e]=$(i[e]);return function(e){var s,r="";for(s=0;s<n;s++)r+=i[s]instanceof Function?i[s].call(e,t):i[s];return r}}function J(t,e){return t.isValid()?(e=Q(e,t.localeData()),Li[e]=Li[e]||q(e),Li[e](t)):t.localeData().invalidDate()}function Q(t,e){function n(t){return e.longDateFormat(t)||t}var i=5;for(Ci.lastIndex=0;i>=0&&Ci.test(t);)t=t.replace(Ci,n),Ci.lastIndex=0,i-=1;return t}function X(t,e,n){ts[t]=b(e)?e:function(t,i){return t&&n?n:e}}function K(t,e){return l(ts,t)?ts[t](e._strict,e._locale):new RegExp(tt(t))}function tt(t){return et(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,i,s){return e||n||i||s}))}function et(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function nt(t,e){var n,i=e;for("string"==typeof t&&(t=[t]),a(e)&&(i=function(t,n){n[e]=D(t)}),n=0;n<t.length;n++)es[t[n]]=i}function it(t,e){nt(t,function(t,n,i,s){i._w=i._w||{},e(t,i._w,i,s)})}function st(t,e,n){null!=e&&l(es,t)&&es[t](e,n._a,n,t)}function rt(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function at(t,e){return t?i(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||cs).test(e)?"format":"standalone"][t.month()]:this._months}function ot(t,e){return t?i(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[cs.test(e)?"format":"standalone"][t.month()]:this._monthsShort}function ut(t,e,n){var i,s,r,a=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)r=d([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(r,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(r,"").toLocaleLowerCase();return n?"MMM"===e?(s=ds.call(this._shortMonthsParse,a),s!==-1?s:null):(s=ds.call(this._longMonthsParse,a),s!==-1?s:null):"MMM"===e?(s=ds.call(this._shortMonthsParse,a),s!==-1?s:(s=ds.call(this._longMonthsParse,a),s!==-1?s:null)):(s=ds.call(this._longMonthsParse,a),s!==-1?s:(s=ds.call(this._shortMonthsParse,a),s!==-1?s:null))}function lt(t,e,n){var i,s,r;if(this._monthsParseExact)return ut.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(s=d([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(s,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(s,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(r="^"+this.months(s,"")+"|^"+this.monthsShort(s,""),this._monthsParse[i]=new RegExp(r.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[i].test(t))return i;if(n&&"MMM"===e&&this._shortMonthsParse[i].test(t))return i;if(!n&&this._monthsParse[i].test(t))return i}}function ht(t,e){var n;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=D(e);else if(e=t.localeData().monthsParse(e),!a(e))return t;return n=Math.min(t.date(),rt(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function dt(t){return null!=t?(ht(this,t),e.updateOffset(this,!0),this):j(this,"Month")}function ct(){return rt(this.year(),this.month())}function ft(t){return this._monthsParseExact?(l(this,"_monthsRegex")||_t.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(l(this,"_monthsShortRegex")||(this._monthsShortRegex=_s),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function mt(t){return this._monthsParseExact?(l(this,"_monthsRegex")||_t.call(this),t?this._monthsStrictRegex:this._monthsRegex):(l(this,"_monthsRegex")||(this._monthsRegex=gs),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function _t(){function t(t,e){return e.length-t.length}var e,n,i=[],s=[],r=[];for(e=0;e<12;e++)n=d([2e3,e]),i.push(this.monthsShort(n,"")),s.push(this.months(n,"")),r.push(this.months(n,"")),r.push(this.monthsShort(n,""));for(i.sort(t),s.sort(t),r.sort(t),e=0;e<12;e++)i[e]=et(i[e]),s[e]=et(s[e]);for(e=0;e<24;e++)r[e]=et(r[e]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}function gt(t){return yt(t)?366:365}function yt(t){return t%4===0&&t%100!==0||t%400===0}function pt(){return yt(this.year())}function vt(t,e,n,i,s,r,a){var o=new Date(t,e,n,i,s,r,a);return t<100&&t>=0&&isFinite(o.getFullYear())&&o.setFullYear(t),o}function wt(t){var e=new Date(Date.UTC.apply(null,arguments));return t<100&&t>=0&&isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t),e}function Dt(t,e,n){var i=7+e-n,s=(7+wt(t,0,i).getUTCDay()-e)%7;return-s+i-1}function Mt(t,e,n,i,s){var r,a,o=(7+n-i)%7,u=Dt(t,i,s),l=1+7*(e-1)+o+u;return l<=0?(r=t-1,a=gt(r)+l):l>gt(t)?(r=t+1,a=l-gt(t)):(r=t,a=l),{year:r,dayOfYear:a}}function kt(t,e,n){var i,s,r=Dt(t.year(),e,n),a=Math.floor((t.dayOfYear()-r-1)/7)+1;return a<1?(s=t.year()-1,i=a+St(s,e,n)):a>St(t.year(),e,n)?(i=a-St(t.year(),e,n),s=t.year()+1):(s=t.year(),i=a),{week:i,year:s}}function St(t,e,n){var i=Dt(t,e,n),s=Dt(t+1,e,n);return(gt(t)-i+s)/7}function Yt(t){return kt(t,this._week.dow,this._week.doy).week}function bt(){return this._week.dow}function xt(){return this._week.doy}function Ft(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")}function Tt(t){var e=kt(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")}function Ot(t,e){return"string"!=typeof t?t:isNaN(t)?(t=e.weekdaysParse(t),"number"==typeof t?t:null):parseInt(t,10)}function Pt(t,e){return"string"==typeof t?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function Wt(t,e){return t?i(this._weekdays)?this._weekdays[t.day()]:this._weekdays[this._weekdays.isFormat.test(e)?"format":"standalone"][t.day()]:this._weekdays}function Rt(t){return t?this._weekdaysShort[t.day()]:this._weekdaysShort}function Ct(t){return t?this._weekdaysMin[t.day()]:this._weekdaysMin}function Lt(t,e,n){var i,s,r,a=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)r=d([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(r,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(r,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(r,"").toLocaleLowerCase();return n?"dddd"===e?(s=ds.call(this._weekdaysParse,a),s!==-1?s:null):"ddd"===e?(s=ds.call(this._shortWeekdaysParse,a),s!==-1?s:null):(s=ds.call(this._minWeekdaysParse,a),s!==-1?s:null):"dddd"===e?(s=ds.call(this._weekdaysParse,a),s!==-1?s:(s=ds.call(this._shortWeekdaysParse,a),s!==-1?s:(s=ds.call(this._minWeekdaysParse,a),s!==-1?s:null))):"ddd"===e?(s=ds.call(this._shortWeekdaysParse,a),s!==-1?s:(s=ds.call(this._weekdaysParse,a),s!==-1?s:(s=ds.call(this._minWeekdaysParse,a),s!==-1?s:null))):(s=ds.call(this._minWeekdaysParse,a),s!==-1?s:(s=ds.call(this._weekdaysParse,a),s!==-1?s:(s=ds.call(this._shortWeekdaysParse,a),s!==-1?s:null)))}function Ut(t,e,n){var i,s,r;if(this._weekdaysParseExact)return Lt.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(s=d([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(s,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(s,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(s,"").replace(".",".?")+"$","i")),this._weekdaysParse[i]||(r="^"+this.weekdays(s,"")+"|^"+this.weekdaysShort(s,"")+"|^"+this.weekdaysMin(s,""),this._weekdaysParse[i]=new RegExp(r.replace(".",""),"i")),n&&"dddd"===e&&this._fullWeekdaysParse[i].test(t))return i;if(n&&"ddd"===e&&this._shortWeekdaysParse[i].test(t))return i;if(n&&"dd"===e&&this._minWeekdaysParse[i].test(t))return i;if(!n&&this._weekdaysParse[i].test(t))return i}}function Gt(t){if(!this.isValid())return null!=t?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=Ot(t,this.localeData()),this.add(t-e,"d")):e}function Ht(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")}function Vt(t){if(!this.isValid())return null!=t?this:NaN;if(null!=t){var e=Pt(t,this.localeData());return this.day(this.day()%7?e:e-7)}return this.day()||7}function Et(t){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||Nt.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(l(this,"_weekdaysRegex")||(this._weekdaysRegex=Ms),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function It(t){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||Nt.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(l(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=ks),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function jt(t){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||Nt.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(l(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Ss),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Nt(){function t(t,e){return e.length-t.length}var e,n,i,s,r,a=[],o=[],u=[],l=[];for(e=0;e<7;e++)n=d([2e3,1]).day(e),i=this.weekdaysMin(n,""),s=this.weekdaysShort(n,""),r=this.weekdays(n,""),a.push(i),o.push(s),u.push(r),l.push(i),l.push(s),l.push(r);for(a.sort(t),o.sort(t),u.sort(t),l.sort(t),e=0;e<7;e++)o[e]=et(o[e]),u[e]=et(u[e]),l[e]=et(l[e]);this._weekdaysRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function At(){return this.hours()%12||12}function zt(){return this.hours()||24}function Zt(t,e){B(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function Bt(t,e){return e._meridiemParse}function $t(t){return"p"===(t+"").toLowerCase().charAt(0)}function qt(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}function Jt(t){return t?t.toLowerCase().replace("_","-"):t}function Qt(t){for(var e,n,i,s,r=0;r<t.length;){for(s=Jt(t[r]).split("-"),e=s.length,n=Jt(t[r+1]),n=n?n.split("-"):null;e>0;){if(i=Xt(s.slice(0,e).join("-")))return i;if(n&&n.length>=e&&M(s,n,!0)>=e-1)break;e--}r++}return null}function Xt(e){var n=null;if(!Ts[e]&&"undefined"!=typeof t&&t&&t.exports)try{n=Ys._abbr,!function(){var t=new Error('Cannot find module "./locale"');throw t.code="MODULE_NOT_FOUND",t}(),Kt(n)}catch(t){}return Ts[e]}function Kt(t,e){var n;return t&&(n=g(e)?ne(t):te(t,e),n&&(Ys=n)),Ys._abbr}function te(t,e){if(null!==e){var n=Fs;if(e.abbr=t,null!=Ts[t])Y("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=Ts[t]._config;else if(null!=e.parentLocale){if(null==Ts[e.parentLocale])return Os[e.parentLocale]||(Os[e.parentLocale]=[]),Os[e.parentLocale].push({name:t,config:e}),null;n=Ts[e.parentLocale]._config}return Ts[t]=new T(F(n,e)),Os[t]&&Os[t].forEach(function(t){te(t.name,t.config)}),Kt(t),Ts[t]}return delete Ts[t],null}function ee(t,e){if(null!=e){var n,i=Fs;null!=Ts[t]&&(i=Ts[t]._config),e=F(i,e),n=new T(e),n.parentLocale=Ts[t],Ts[t]=n,Kt(t)}else null!=Ts[t]&&(null!=Ts[t].parentLocale?Ts[t]=Ts[t].parentLocale:null!=Ts[t]&&delete Ts[t]);return Ts[t]}function ne(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Ys;if(!i(t)){if(e=Xt(t))return e;t=[t]}return Qt(t)}function ie(){return Si(Ts)}function se(t){var e,n=t._a;return n&&f(t).overflow===-2&&(e=n[is]<0||n[is]>11?is:n[ss]<1||n[ss]>rt(n[ns],n[is])?ss:n[rs]<0||n[rs]>24||24===n[rs]&&(0!==n[as]||0!==n[os]||0!==n[us])?rs:n[as]<0||n[as]>59?as:n[os]<0||n[os]>59?os:n[us]<0||n[us]>999?us:-1,f(t)._overflowDayOfYear&&(e<ns||e>ss)&&(e=ss),f(t)._overflowWeeks&&e===-1&&(e=ls),f(t)._overflowWeekday&&e===-1&&(e=hs),f(t).overflow=e),t}function re(t){var e,n,i,s,r,a,o=t._i,u=Ps.exec(o)||Ws.exec(o);if(u){for(f(t).iso=!0,e=0,n=Cs.length;e<n;e++)if(Cs[e][1].exec(u[1])){s=Cs[e][0],i=Cs[e][2]!==!1;break}if(null==s)return void(t._isValid=!1);if(u[3]){for(e=0,n=Ls.length;e<n;e++)if(Ls[e][1].exec(u[3])){r=(u[2]||" ")+Ls[e][0];break}if(null==r)return void(t._isValid=!1)}if(!i&&null!=r)return void(t._isValid=!1);if(u[4]){if(!Rs.exec(u[4]))return void(t._isValid=!1);a="Z"}t._f=s+(r||"")+(a||""),de(t)}else t._isValid=!1}function ae(t){var n=Us.exec(t._i);return null!==n?void(t._d=new Date(+n[1])):(re(t),void(t._isValid===!1&&(delete t._isValid,e.createFromInputFallback(t))))}function oe(t,e,n){return null!=t?t:null!=e?e:n}function ue(t){var n=new Date(e.now());return t._useUTC?[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()]:[n.getFullYear(),n.getMonth(),n.getDate()]}function le(t){var e,n,i,s,r=[];if(!t._d){for(i=ue(t),t._w&&null==t._a[ss]&&null==t._a[is]&&he(t),t._dayOfYear&&(s=oe(t._a[ns],i[ns]),t._dayOfYear>gt(s)&&(f(t)._overflowDayOfYear=!0),n=wt(s,0,t._dayOfYear),t._a[is]=n.getUTCMonth(),t._a[ss]=n.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=r[e]=i[e];for(;e<7;e++)t._a[e]=r[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[rs]&&0===t._a[as]&&0===t._a[os]&&0===t._a[us]&&(t._nextDay=!0,t._a[rs]=0),t._d=(t._useUTC?wt:vt).apply(null,r),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[rs]=24)}}function he(t){var e,n,i,s,r,a,o,u;if(e=t._w,null!=e.GG||null!=e.W||null!=e.E)r=1,a=4,n=oe(e.GG,t._a[ns],kt(ve(),1,4).year),i=oe(e.W,1),s=oe(e.E,1),(s<1||s>7)&&(u=!0);else{r=t._locale._week.dow,a=t._locale._week.doy;var l=kt(ve(),r,a);n=oe(e.gg,t._a[ns],l.year),i=oe(e.w,l.week),null!=e.d?(s=e.d,(s<0||s>6)&&(u=!0)):null!=e.e?(s=e.e+r,(e.e<0||e.e>6)&&(u=!0)):s=r}i<1||i>St(n,r,a)?f(t)._overflowWeeks=!0:null!=u?f(t)._overflowWeekday=!0:(o=Mt(n,i,s,r,a),t._a[ns]=o.year,t._dayOfYear=o.dayOfYear)}function de(t){if(t._f===e.ISO_8601)return void re(t);t._a=[],f(t).empty=!0;var n,i,s,r,a,o=""+t._i,u=o.length,l=0;for(s=Q(t._f,t._locale).match(Ri)||[],n=0;n<s.length;n++)r=s[n],i=(o.match(K(r,t))||[])[0],i&&(a=o.substr(0,o.indexOf(i)),a.length>0&&f(t).unusedInput.push(a),o=o.slice(o.indexOf(i)+i.length),l+=i.length),Ui[r]?(i?f(t).empty=!1:f(t).unusedTokens.push(r),st(r,i,t)):t._strict&&!i&&f(t).unusedTokens.push(r);f(t).charsLeftOver=u-l,o.length>0&&f(t).unusedInput.push(o),t._a[rs]<=12&&f(t).bigHour===!0&&t._a[rs]>0&&(f(t).bigHour=void 0),f(t).parsedDateParts=t._a.slice(0),f(t).meridiem=t._meridiem,t._a[rs]=ce(t._locale,t._a[rs],t._meridiem),le(t),se(t)}function ce(t,e,n){var i;return null==n?e:null!=t.meridiemHour?t.meridiemHour(e,n):null!=t.isPM?(i=t.isPM(n),i&&e<12&&(e+=12),i||12!==e||(e=0),e):e}function fe(t){var e,n,i,s,r;if(0===t._f.length)return f(t).invalidFormat=!0,void(t._d=new Date(NaN));for(s=0;s<t._f.length;s++)r=0,e=y({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[s],de(e),m(e)&&(r+=f(e).charsLeftOver,r+=10*f(e).unusedTokens.length,f(e).score=r,(null==i||r<i)&&(i=r,n=e));h(t,n||e)}function me(t){if(!t._d){var e=H(t._i);t._a=u([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],function(t){return t&&parseInt(t,10)}),le(t)}}function _e(t){var e=new p(se(ge(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function ge(t){var e=t._i,n=t._f;return t._locale=t._locale||ne(t._l),null===e||void 0===n&&""===e?_({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),v(e)?new p(se(e)):(o(e)?t._d=e:i(n)?fe(t):n?de(t):ye(t),m(t)||(t._d=null),t))}function ye(t){var n=t._i;void 0===n?t._d=new Date(e.now()):o(n)?t._d=new Date(n.valueOf()):"string"==typeof n?ae(t):i(n)?(t._a=u(n.slice(0),function(t){return parseInt(t,10)}),le(t)):"object"==typeof n?me(t):a(n)?t._d=new Date(n):e.createFromInputFallback(t)}function pe(t,e,n,a,o){var u={};return n!==!0&&n!==!1||(a=n,n=void 0),(s(t)&&r(t)||i(t)&&0===t.length)&&(t=void 0),u._isAMomentObject=!0,u._useUTC=u._isUTC=o,u._l=n,u._i=t,u._f=e,u._strict=a,_e(u)}function ve(t,e,n,i){return pe(t,e,n,i,!1)}function we(t,e){var n,s;if(1===e.length&&i(e[0])&&(e=e[0]),!e.length)return ve();for(n=e[0],s=1;s<e.length;++s)e[s].isValid()&&!e[s][t](n)||(n=e[s]);return n}function De(){var t=[].slice.call(arguments,0);return we("isBefore",t)}function Me(){var t=[].slice.call(arguments,0);return we("isAfter",t)}function ke(t){var e=H(t),n=e.year||0,i=e.quarter||0,s=e.month||0,r=e.week||0,a=e.day||0,o=e.hour||0,u=e.minute||0,l=e.second||0,h=e.millisecond||0;this._milliseconds=+h+1e3*l+6e4*u+1e3*o*60*60,this._days=+a+7*r,this._months=+s+3*i+12*n,this._data={},this._locale=ne(),this._bubble()}function Se(t){return t instanceof ke}function Ye(t){return t<0?Math.round(-1*t)*-1:Math.round(t)}function be(t,e){B(t,0,0,function(){var t=this.utcOffset(),n="+";return t<0&&(t=-t,n="-"),n+Z(~~(t/60),2)+e+Z(~~t%60,2)})}function xe(t,e){var n=(e||"").match(t);if(null===n)return null;var i=n[n.length-1]||[],s=(i+"").match(Es)||["-",0,0],r=+(60*s[1])+D(s[2]);return 0===r?0:"+"===s[0]?r:-r}function Fe(t,n){var i,s;return n._isUTC?(i=n.clone(),s=(v(t)||o(t)?t.valueOf():ve(t).valueOf())-i.valueOf(),i._d.setTime(i._d.valueOf()+s),e.updateOffset(i,!1),i):ve(t).local()}function Te(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function Oe(t,n){var i,s=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"==typeof t){if(t=xe(Qi,t),null===t)return this}else Math.abs(t)<16&&(t*=60);return!this._isUTC&&n&&(i=Te(this)),this._offset=t,this._isUTC=!0,null!=i&&this.add(i,"m"),s!==t&&(!n||this._changeInProgress?Ze(this,Ie(t-s,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?s:Te(this)}function Pe(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function We(t){return this.utcOffset(0,t);
}function Re(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Te(this),"m")),this}function Ce(){if(null!=this._tzm)this.utcOffset(this._tzm);else if("string"==typeof this._i){var t=xe(Ji,this._i);null!=t?this.utcOffset(t):this.utcOffset(0,!0)}return this}function Le(t){return!!this.isValid()&&(t=t?ve(t).utcOffset():0,(this.utcOffset()-t)%60===0)}function Ue(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Ge(){if(!g(this._isDSTShifted))return this._isDSTShifted;var t={};if(y(t,this),t=ge(t),t._a){var e=t._isUTC?d(t._a):ve(t._a);this._isDSTShifted=this.isValid()&&M(t._a,e.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function He(){return!!this.isValid()&&!this._isUTC}function Ve(){return!!this.isValid()&&this._isUTC}function Ee(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function Ie(t,e){var n,i,s,r=t,o=null;return Se(t)?r={ms:t._milliseconds,d:t._days,M:t._months}:a(t)?(r={},e?r[e]=t:r.milliseconds=t):(o=Is.exec(t))?(n="-"===o[1]?-1:1,r={y:0,d:D(o[ss])*n,h:D(o[rs])*n,m:D(o[as])*n,s:D(o[os])*n,ms:D(Ye(1e3*o[us]))*n}):(o=js.exec(t))?(n="-"===o[1]?-1:1,r={y:je(o[2],n),M:je(o[3],n),w:je(o[4],n),d:je(o[5],n),h:je(o[6],n),m:je(o[7],n),s:je(o[8],n)}):null==r?r={}:"object"==typeof r&&("from"in r||"to"in r)&&(s=Ae(ve(r.from),ve(r.to)),r={},r.ms=s.milliseconds,r.M=s.months),i=new ke(r),Se(t)&&l(t,"_locale")&&(i._locale=t._locale),i}function je(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function Ne(t,e){var n={milliseconds:0,months:0};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function Ae(t,e){var n;return t.isValid()&&e.isValid()?(e=Fe(e,t),t.isBefore(e)?n=Ne(t,e):(n=Ne(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function ze(t,e){return function(n,i){var s,r;return null===i||isNaN(+i)||(Y(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),r=n,n=i,i=r),n="string"==typeof n?+n:n,s=Ie(n,i),Ze(this,s,t),this}}function Ze(t,n,i,s){var r=n._milliseconds,a=Ye(n._days),o=Ye(n._months);t.isValid()&&(s=null==s||s,r&&t._d.setTime(t._d.valueOf()+r*i),a&&N(t,"Date",j(t,"Date")+a*i),o&&ht(t,j(t,"Month")+o*i),s&&e.updateOffset(t,a||o))}function Be(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function $e(t,n){var i=t||ve(),s=Fe(i,this).startOf("day"),r=e.calendarFormat(this,s)||"sameElse",a=n&&(b(n[r])?n[r].call(this,i):n[r]);return this.format(a||this.localeData().calendar(r,this,ve(i)))}function qe(){return new p(this)}function Je(t,e){var n=v(t)?t:ve(t);return!(!this.isValid()||!n.isValid())&&(e=G(g(e)?"millisecond":e),"millisecond"===e?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf())}function Qe(t,e){var n=v(t)?t:ve(t);return!(!this.isValid()||!n.isValid())&&(e=G(g(e)?"millisecond":e),"millisecond"===e?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf())}function Xe(t,e,n,i){return i=i||"()",("("===i[0]?this.isAfter(t,n):!this.isBefore(t,n))&&(")"===i[1]?this.isBefore(e,n):!this.isAfter(e,n))}function Ke(t,e){var n,i=v(t)?t:ve(t);return!(!this.isValid()||!i.isValid())&&(e=G(e||"millisecond"),"millisecond"===e?this.valueOf()===i.valueOf():(n=i.valueOf(),this.clone().startOf(e).valueOf()<=n&&n<=this.clone().endOf(e).valueOf()))}function tn(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function en(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function nn(t,e,n){var i,s,r,a;return this.isValid()?(i=Fe(t,this),i.isValid()?(s=6e4*(i.utcOffset()-this.utcOffset()),e=G(e),"year"===e||"month"===e||"quarter"===e?(a=sn(this,i),"quarter"===e?a/=3:"year"===e&&(a/=12)):(r=this-i,a="second"===e?r/1e3:"minute"===e?r/6e4:"hour"===e?r/36e5:"day"===e?(r-s)/864e5:"week"===e?(r-s)/6048e5:r),n?a:w(a)):NaN):NaN}function sn(t,e){var n,i,s=12*(e.year()-t.year())+(e.month()-t.month()),r=t.clone().add(s,"months");return e-r<0?(n=t.clone().add(s-1,"months"),i=(e-r)/(r-n)):(n=t.clone().add(s+1,"months"),i=(e-r)/(n-r)),-(s+i)||0}function rn(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function an(){var t=this.clone().utc();return 0<t.year()&&t.year()<=9999?b(Date.prototype.toISOString)?this.toDate().toISOString():J(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):J(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function on(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="";this.isLocal()||(t=0===this.utcOffset()?"moment.utc":"moment.parseZone",e="Z");var n="["+t+'("]',i=0<this.year()&&this.year()<=9999?"YYYY":"YYYYYY",s="-MM-DD[T]HH:mm:ss.SSS",r=e+'[")]';return this.format(n+i+s+r)}function un(t){t||(t=this.isUtc()?e.defaultFormatUtc:e.defaultFormat);var n=J(this,t);return this.localeData().postformat(n)}function ln(t,e){return this.isValid()&&(v(t)&&t.isValid()||ve(t).isValid())?Ie({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function hn(t){return this.from(ve(),t)}function dn(t,e){return this.isValid()&&(v(t)&&t.isValid()||ve(t).isValid())?Ie({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function cn(t){return this.to(ve(),t)}function fn(t){var e;return void 0===t?this._locale._abbr:(e=ne(t),null!=e&&(this._locale=e),this)}function mn(){return this._locale}function _n(t){switch(t=G(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this}function gn(t){return t=G(t),void 0===t||"millisecond"===t?this:("date"===t&&(t="day"),this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms"))}function yn(){return this._d.valueOf()-6e4*(this._offset||0)}function pn(){return Math.floor(this.valueOf()/1e3)}function vn(){return new Date(this.valueOf())}function wn(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function Dn(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function Mn(){return this.isValid()?this.toISOString():null}function kn(){return m(this)}function Sn(){return h({},f(this))}function Yn(){return f(this).overflow}function bn(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function xn(t,e){B(0,[t,t.length],0,e)}function Fn(t){return Wn.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Tn(t){return Wn.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function On(){return St(this.year(),1,4)}function Pn(){var t=this.localeData()._week;return St(this.year(),t.dow,t.doy)}function Wn(t,e,n,i,s){var r;return null==t?kt(this,i,s).year:(r=St(t,i,s),e>r&&(e=r),Rn.call(this,t,e,n,i,s))}function Rn(t,e,n,i,s){var r=Mt(t,e,n,i,s),a=wt(r.year,0,r.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}function Cn(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)}function Ln(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")}function Un(t,e){e[us]=D(1e3*("0."+t))}function Gn(){return this._isUTC?"UTC":""}function Hn(){return this._isUTC?"Coordinated Universal Time":""}function Vn(t){return ve(1e3*t)}function En(){return ve.apply(null,arguments).parseZone()}function In(t){return t}function jn(t,e,n,i){var s=ne(),r=d().set(i,e);return s[n](r,t)}function Nn(t,e,n){if(a(t)&&(e=t,t=void 0),t=t||"",null!=e)return jn(t,e,n,"month");var i,s=[];for(i=0;i<12;i++)s[i]=jn(t,i,n,"month");return s}function An(t,e,n,i){"boolean"==typeof t?(a(e)&&(n=e,e=void 0),e=e||""):(e=t,n=e,t=!1,a(e)&&(n=e,e=void 0),e=e||"");var s=ne(),r=t?s._week.dow:0;if(null!=n)return jn(e,(n+r)%7,i,"day");var o,u=[];for(o=0;o<7;o++)u[o]=jn(e,(o+r)%7,i,"day");return u}function zn(t,e){return Nn(t,e,"months")}function Zn(t,e){return Nn(t,e,"monthsShort")}function Bn(t,e,n){return An(t,e,n,"weekdays")}function $n(t,e,n){return An(t,e,n,"weekdaysShort")}function qn(t,e,n){return An(t,e,n,"weekdaysMin")}function Jn(){var t=this._data;return this._milliseconds=Ks(this._milliseconds),this._days=Ks(this._days),this._months=Ks(this._months),t.milliseconds=Ks(t.milliseconds),t.seconds=Ks(t.seconds),t.minutes=Ks(t.minutes),t.hours=Ks(t.hours),t.months=Ks(t.months),t.years=Ks(t.years),this}function Qn(t,e,n,i){var s=Ie(e,n);return t._milliseconds+=i*s._milliseconds,t._days+=i*s._days,t._months+=i*s._months,t._bubble()}function Xn(t,e){return Qn(this,t,e,1)}function Kn(t,e){return Qn(this,t,e,-1)}function ti(t){return t<0?Math.floor(t):Math.ceil(t)}function ei(){var t,e,n,i,s,r=this._milliseconds,a=this._days,o=this._months,u=this._data;return r>=0&&a>=0&&o>=0||r<=0&&a<=0&&o<=0||(r+=864e5*ti(ii(o)+a),a=0,o=0),u.milliseconds=r%1e3,t=w(r/1e3),u.seconds=t%60,e=w(t/60),u.minutes=e%60,n=w(e/60),u.hours=n%24,a+=w(n/24),s=w(ni(a)),o+=s,a-=ti(ii(s)),i=w(o/12),o%=12,u.days=a,u.months=o,u.years=i,this}function ni(t){return 4800*t/146097}function ii(t){return 146097*t/4800}function si(t){var e,n,i=this._milliseconds;if(t=G(t),"month"===t||"year"===t)return e=this._days+i/864e5,n=this._months+ni(e),"month"===t?n:n/12;switch(e=this._days+Math.round(ii(this._months)),t){case"week":return e/7+i/6048e5;case"day":return e+i/864e5;case"hour":return 24*e+i/36e5;case"minute":return 1440*e+i/6e4;case"second":return 86400*e+i/1e3;case"millisecond":return Math.floor(864e5*e)+i;default:throw new Error("Unknown unit "+t)}}function ri(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*D(this._months/12)}function ai(t){return function(){return this.as(t)}}function oi(t){return t=G(t),this[t+"s"]()}function ui(t){return function(){return this._data[t]}}function li(){return w(this.days()/7)}function hi(t,e,n,i,s){return s.relativeTime(e||1,!!n,t,i)}function di(t,e,n){var i=Ie(t).abs(),s=_r(i.as("s")),r=_r(i.as("m")),a=_r(i.as("h")),o=_r(i.as("d")),u=_r(i.as("M")),l=_r(i.as("y")),h=s<gr.s&&["s",s]||r<=1&&["m"]||r<gr.m&&["mm",r]||a<=1&&["h"]||a<gr.h&&["hh",a]||o<=1&&["d"]||o<gr.d&&["dd",o]||u<=1&&["M"]||u<gr.M&&["MM",u]||l<=1&&["y"]||["yy",l];return h[2]=e,h[3]=+t>0,h[4]=n,hi.apply(null,h)}function ci(t){return void 0===t?_r:"function"==typeof t&&(_r=t,!0)}function fi(t,e){return void 0!==gr[t]&&(void 0===e?gr[t]:(gr[t]=e,!0))}function mi(t){var e=this.localeData(),n=di(this,!t,e);return t&&(n=e.pastFuture(+this,n)),e.postformat(n)}function _i(){var t,e,n,i=yr(this._milliseconds)/1e3,s=yr(this._days),r=yr(this._months);t=w(i/60),e=w(t/60),i%=60,t%=60,n=w(r/12),r%=12;var a=n,o=r,u=s,l=e,h=t,d=i,c=this.asSeconds();return c?(c<0?"-":"")+"P"+(a?a+"Y":"")+(o?o+"M":"")+(u?u+"D":"")+(l||h||d?"T":"")+(l?l+"H":"")+(h?h+"M":"")+(d?d+"S":""):"P0D"}var gi,yi;yi=Array.prototype.some?Array.prototype.some:function(t){for(var e=Object(this),n=e.length>>>0,i=0;i<n;i++)if(i in e&&t.call(this,e[i],i,e))return!0;return!1};var pi=yi,vi=e.momentProperties=[],wi=!1,Di={};e.suppressDeprecationWarnings=!1,e.deprecationHandler=null;var Mi;Mi=Object.keys?Object.keys:function(t){var e,n=[];for(e in t)l(t,e)&&n.push(e);return n};var ki,Si=Mi,Yi={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},bi={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},xi="Invalid date",Fi="%d",Ti=/\d{1,2}/,Oi={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Pi={},Wi={},Ri=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Ci=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Li={},Ui={},Gi=/\d/,Hi=/\d\d/,Vi=/\d{3}/,Ei=/\d{4}/,Ii=/[+-]?\d{6}/,ji=/\d\d?/,Ni=/\d\d\d\d?/,Ai=/\d\d\d\d\d\d?/,zi=/\d{1,3}/,Zi=/\d{1,4}/,Bi=/[+-]?\d{1,6}/,$i=/\d+/,qi=/[+-]?\d+/,Ji=/Z|[+-]\d\d:?\d\d/gi,Qi=/Z|[+-]\d\d(?::?\d\d)?/gi,Xi=/[+-]?\d+(\.\d{1,3})?/,Ki=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,ts={},es={},ns=0,is=1,ss=2,rs=3,as=4,os=5,us=6,ls=7,hs=8;ki=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1};var ds=ki;B("M",["MM",2],"Mo",function(){return this.month()+1}),B("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),B("MMMM",0,0,function(t){return this.localeData().months(this,t)}),U("month","M"),V("month",8),X("M",ji),X("MM",ji,Hi),X("MMM",function(t,e){return e.monthsShortRegex(t)}),X("MMMM",function(t,e){return e.monthsRegex(t)}),nt(["M","MM"],function(t,e){e[is]=D(t)-1}),nt(["MMM","MMMM"],function(t,e,n,i){var s=n._locale.monthsParse(t,i,n._strict);null!=s?e[is]=s:f(n).invalidMonth=t});var cs=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,fs="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ms="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),_s=Ki,gs=Ki;B("Y",0,0,function(){var t=this.year();return t<=9999?""+t:"+"+t}),B(0,["YY",2],0,function(){return this.year()%100}),B(0,["YYYY",4],0,"year"),B(0,["YYYYY",5],0,"year"),B(0,["YYYYYY",6,!0],0,"year"),U("year","y"),V("year",1),X("Y",qi),X("YY",ji,Hi),X("YYYY",Zi,Ei),X("YYYYY",Bi,Ii),X("YYYYYY",Bi,Ii),nt(["YYYYY","YYYYYY"],ns),nt("YYYY",function(t,n){n[ns]=2===t.length?e.parseTwoDigitYear(t):D(t)}),nt("YY",function(t,n){n[ns]=e.parseTwoDigitYear(t)}),nt("Y",function(t,e){e[ns]=parseInt(t,10)}),e.parseTwoDigitYear=function(t){return D(t)+(D(t)>68?1900:2e3)};var ys=I("FullYear",!0);B("w",["ww",2],"wo","week"),B("W",["WW",2],"Wo","isoWeek"),U("week","w"),U("isoWeek","W"),V("week",5),V("isoWeek",5),X("w",ji),X("ww",ji,Hi),X("W",ji),X("WW",ji,Hi),it(["w","ww","W","WW"],function(t,e,n,i){e[i.substr(0,1)]=D(t)});var ps={dow:0,doy:6};B("d",0,"do","day"),B("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),B("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),B("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),B("e",0,0,"weekday"),B("E",0,0,"isoWeekday"),U("day","d"),U("weekday","e"),U("isoWeekday","E"),V("day",11),V("weekday",11),V("isoWeekday",11),X("d",ji),X("e",ji),X("E",ji),X("dd",function(t,e){return e.weekdaysMinRegex(t)}),X("ddd",function(t,e){return e.weekdaysShortRegex(t)}),X("dddd",function(t,e){return e.weekdaysRegex(t)}),it(["dd","ddd","dddd"],function(t,e,n,i){var s=n._locale.weekdaysParse(t,i,n._strict);null!=s?e.d=s:f(n).invalidWeekday=t}),it(["d","e","E"],function(t,e,n,i){e[i]=D(t)});var vs="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),ws="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Ds="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Ms=Ki,ks=Ki,Ss=Ki;B("H",["HH",2],0,"hour"),B("h",["hh",2],0,At),B("k",["kk",2],0,zt),B("hmm",0,0,function(){return""+At.apply(this)+Z(this.minutes(),2)}),B("hmmss",0,0,function(){return""+At.apply(this)+Z(this.minutes(),2)+Z(this.seconds(),2)}),B("Hmm",0,0,function(){return""+this.hours()+Z(this.minutes(),2)}),B("Hmmss",0,0,function(){return""+this.hours()+Z(this.minutes(),2)+Z(this.seconds(),2)}),Zt("a",!0),Zt("A",!1),U("hour","h"),V("hour",13),X("a",Bt),X("A",Bt),X("H",ji),X("h",ji),X("HH",ji,Hi),X("hh",ji,Hi),X("hmm",Ni),X("hmmss",Ai),X("Hmm",Ni),X("Hmmss",Ai),nt(["H","HH"],rs),nt(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t}),nt(["h","hh"],function(t,e,n){e[rs]=D(t),f(n).bigHour=!0}),nt("hmm",function(t,e,n){var i=t.length-2;e[rs]=D(t.substr(0,i)),e[as]=D(t.substr(i)),f(n).bigHour=!0}),nt("hmmss",function(t,e,n){var i=t.length-4,s=t.length-2;e[rs]=D(t.substr(0,i)),e[as]=D(t.substr(i,2)),e[os]=D(t.substr(s)),f(n).bigHour=!0}),nt("Hmm",function(t,e,n){var i=t.length-2;e[rs]=D(t.substr(0,i)),e[as]=D(t.substr(i))}),nt("Hmmss",function(t,e,n){var i=t.length-4,s=t.length-2;e[rs]=D(t.substr(0,i)),e[as]=D(t.substr(i,2)),e[os]=D(t.substr(s))});var Ys,bs=/[ap]\.?m?\.?/i,xs=I("Hours",!0),Fs={calendar:Yi,longDateFormat:bi,invalidDate:xi,ordinal:Fi,ordinalParse:Ti,relativeTime:Oi,months:fs,monthsShort:ms,week:ps,weekdays:vs,weekdaysMin:Ds,weekdaysShort:ws,meridiemParse:bs},Ts={},Os={},Ps=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Ws=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Rs=/Z|[+-]\d\d(?::?\d\d)?/,Cs=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Ls=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Us=/^\/?Date\((\-?\d+)/i;e.createFromInputFallback=S("value provided is not in a recognized ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),e.ISO_8601=function(){};var Gs=S("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=ve.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:_()}),Hs=S("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=ve.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:_()}),Vs=function(){return Date.now?Date.now():+new Date};be("Z",":"),be("ZZ",""),X("Z",Qi),X("ZZ",Qi),nt(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=xe(Qi,t)});var Es=/([\+\-]|\d\d)/gi;e.updateOffset=function(){};var Is=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,js=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;Ie.fn=ke.prototype;var Ns=ze(1,"add"),As=ze(-1,"subtract");e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var zs=S("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});B(0,["gg",2],0,function(){return this.weekYear()%100}),B(0,["GG",2],0,function(){return this.isoWeekYear()%100}),xn("gggg","weekYear"),xn("ggggg","weekYear"),xn("GGGG","isoWeekYear"),xn("GGGGG","isoWeekYear"),U("weekYear","gg"),U("isoWeekYear","GG"),V("weekYear",1),V("isoWeekYear",1),X("G",qi),X("g",qi),X("GG",ji,Hi),X("gg",ji,Hi),X("GGGG",Zi,Ei),X("gggg",Zi,Ei),X("GGGGG",Bi,Ii),X("ggggg",Bi,Ii),it(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,i){e[i.substr(0,2)]=D(t)}),it(["gg","GG"],function(t,n,i,s){n[s]=e.parseTwoDigitYear(t)}),B("Q",0,"Qo","quarter"),U("quarter","Q"),V("quarter",7),X("Q",Gi),nt("Q",function(t,e){e[is]=3*(D(t)-1)}),B("D",["DD",2],"Do","date"),U("date","D"),V("date",9),X("D",ji),X("DD",ji,Hi),X("Do",function(t,e){return t?e._ordinalParse:e._ordinalParseLenient}),nt(["D","DD"],ss),nt("Do",function(t,e){e[ss]=D(t.match(ji)[0],10)});var Zs=I("Date",!0);B("DDD",["DDDD",3],"DDDo","dayOfYear"),U("dayOfYear","DDD"),V("dayOfYear",4),X("DDD",zi),X("DDDD",Vi),nt(["DDD","DDDD"],function(t,e,n){n._dayOfYear=D(t)}),B("m",["mm",2],0,"minute"),U("minute","m"),V("minute",14),X("m",ji),X("mm",ji,Hi),nt(["m","mm"],as);var Bs=I("Minutes",!1);B("s",["ss",2],0,"second"),U("second","s"),V("second",15),X("s",ji),X("ss",ji,Hi),nt(["s","ss"],os);var $s=I("Seconds",!1);B("S",0,0,function(){return~~(this.millisecond()/100)}),B(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),B(0,["SSS",3],0,"millisecond"),B(0,["SSSS",4],0,function(){return 10*this.millisecond()}),B(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),B(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),B(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),B(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),B(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),U("millisecond","ms"),V("millisecond",16),X("S",zi,Gi),X("SS",zi,Hi),X("SSS",zi,Vi);var qs;for(qs="SSSS";qs.length<=9;qs+="S")X(qs,$i);for(qs="S";qs.length<=9;qs+="S")nt(qs,Un);var Js=I("Milliseconds",!1);B("z",0,0,"zoneAbbr"),B("zz",0,0,"zoneName");var Qs=p.prototype;Qs.add=Ns,Qs.calendar=$e,Qs.clone=qe,Qs.diff=nn,Qs.endOf=gn,Qs.format=un,Qs.from=ln,Qs.fromNow=hn,Qs.to=dn,Qs.toNow=cn,Qs.get=A,Qs.invalidAt=Yn,Qs.isAfter=Je,Qs.isBefore=Qe,Qs.isBetween=Xe,Qs.isSame=Ke,Qs.isSameOrAfter=tn,Qs.isSameOrBefore=en,Qs.isValid=kn,Qs.lang=zs,Qs.locale=fn,Qs.localeData=mn,Qs.max=Hs,Qs.min=Gs,Qs.parsingFlags=Sn,Qs.set=z,Qs.startOf=_n,Qs.subtract=As,Qs.toArray=wn,Qs.toObject=Dn,Qs.toDate=vn,Qs.toISOString=an,Qs.inspect=on,Qs.toJSON=Mn,Qs.toString=rn,Qs.unix=pn,Qs.valueOf=yn,Qs.creationData=bn,Qs.year=ys,Qs.isLeapYear=pt,Qs.weekYear=Fn,Qs.isoWeekYear=Tn,Qs.quarter=Qs.quarters=Cn,Qs.month=dt,Qs.daysInMonth=ct,Qs.week=Qs.weeks=Ft,Qs.isoWeek=Qs.isoWeeks=Tt,Qs.weeksInYear=Pn,Qs.isoWeeksInYear=On,Qs.date=Zs,Qs.day=Qs.days=Gt,Qs.weekday=Ht,Qs.isoWeekday=Vt,Qs.dayOfYear=Ln,Qs.hour=Qs.hours=xs,Qs.minute=Qs.minutes=Bs,Qs.second=Qs.seconds=$s,Qs.millisecond=Qs.milliseconds=Js,Qs.utcOffset=Oe,Qs.utc=We,Qs.local=Re,Qs.parseZone=Ce,Qs.hasAlignedHourOffset=Le,Qs.isDST=Ue,Qs.isLocal=He,Qs.isUtcOffset=Ve,Qs.isUtc=Ee,Qs.isUTC=Ee,Qs.zoneAbbr=Gn,Qs.zoneName=Hn,Qs.dates=S("dates accessor is deprecated. Use date instead.",Zs),Qs.months=S("months accessor is deprecated. Use month instead",dt),Qs.years=S("years accessor is deprecated. Use year instead",ys),Qs.zone=S("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Pe),Qs.isDSTShifted=S("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Ge);var Xs=T.prototype;Xs.calendar=O,Xs.longDateFormat=P,Xs.invalidDate=W,Xs.ordinal=R,Xs.preparse=In,Xs.postformat=In,Xs.relativeTime=C,Xs.pastFuture=L,Xs.set=x,Xs.months=at,Xs.monthsShort=ot,Xs.monthsParse=lt,Xs.monthsRegex=mt,Xs.monthsShortRegex=ft,Xs.week=Yt,Xs.firstDayOfYear=xt,Xs.firstDayOfWeek=bt,Xs.weekdays=Wt,Xs.weekdaysMin=Ct,Xs.weekdaysShort=Rt,Xs.weekdaysParse=Ut,Xs.weekdaysRegex=Et,Xs.weekdaysShortRegex=It,Xs.weekdaysMinRegex=jt,Xs.isPM=$t,Xs.meridiem=qt,Kt("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,n=1===D(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+n}}),e.lang=S("moment.lang is deprecated. Use moment.locale instead.",Kt),e.langData=S("moment.langData is deprecated. Use moment.localeData instead.",ne);var Ks=Math.abs,tr=ai("ms"),er=ai("s"),nr=ai("m"),ir=ai("h"),sr=ai("d"),rr=ai("w"),ar=ai("M"),or=ai("y"),ur=ui("milliseconds"),lr=ui("seconds"),hr=ui("minutes"),dr=ui("hours"),cr=ui("days"),fr=ui("months"),mr=ui("years"),_r=Math.round,gr={s:45,m:45,h:22,d:26,M:11},yr=Math.abs,pr=ke.prototype;return pr.abs=Jn,pr.add=Xn,pr.subtract=Kn,pr.as=si,pr.asMilliseconds=tr,pr.asSeconds=er,pr.asMinutes=nr,pr.asHours=ir,pr.asDays=sr,pr.asWeeks=rr,pr.asMonths=ar,pr.asYears=or,pr.valueOf=ri,pr._bubble=ei,pr.get=oi,pr.milliseconds=ur,pr.seconds=lr,pr.minutes=hr,pr.hours=dr,pr.days=cr,pr.weeks=li,pr.months=fr,pr.years=mr,pr.humanize=mi,pr.toISOString=_i,pr.toString=_i,pr.toJSON=_i,pr.locale=fn,pr.localeData=mn,pr.toIsoString=S("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",_i),pr.lang=zs,B("X",0,0,"unix"),B("x",0,0,"valueOf"),X("x",qi),X("X",Xi),nt("X",function(t,e,n){n._d=new Date(1e3*parseFloat(t,10))}),nt("x",function(t,e,n){n._d=new Date(D(t))}),e.version="2.17.0",n(ve),e.fn=Qs,e.min=De,e.max=Me,e.now=Vs,e.utc=d,e.unix=Vn,e.months=zn,e.isDate=o,e.locale=Kt,e.invalid=_,e.duration=Ie,e.isMoment=v,e.weekdays=Bn,e.parseZone=En,e.localeData=ne,e.isDuration=Se,e.monthsShort=Zn,e.weekdaysMin=qn,e.defineLocale=te,e.updateLocale=ee,e.locales=ie,e.weekdaysShort=$n,e.normalizeUnits=G,e.relativeTimeRounding=ci,e.relativeTimeThreshold=fi,e.calendarFormat=Be,e.prototype=Qs,e})}).call(e,n(1)(t))}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZmN0cy1leHQtZGF0ZXJhbmdlLWVzNS5taW4uanMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svYm9vdHN0cmFwIDAyMjUyMGY4MDIyN2Y2YTE5NjA5Iiwid2VicGFjazovLy8uL3NyYy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vKHdlYnBhY2spL2J1aWxkaW4vbW9kdWxlLmpzIiwid2VicGFjazovLy8uL3NyYy9mY3RzLWV4dC1kYXRlcmFuZ2UuanMiLCJ3ZWJwYWNrOi8vLy4vfi9tb21lbnQvbW9tZW50LmpzIl0sIm5hbWVzIjpbIm1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJpbnN0YWxsZWRNb2R1bGVzIiwiZXhwb3J0cyIsIm1vZHVsZSIsImlkIiwibG9hZGVkIiwiY2FsbCIsIm0iLCJjIiwicCIsIl90eXBlb2YiLCJTeW1ib2wiLCJpdGVyYXRvciIsIm9iaiIsImNvbnN0cnVjdG9yIiwicHJvdG90eXBlIiwiRGF0ZVJhbmdlIiwid2luZG93IiwiZHIiLCJlbnYiLCJmYWN0b3J5IiwiZG9jdW1lbnQiLCJ3aW4iLCJFcnJvciIsIkRhdGVSYW5nZUNob29zZXIiLCJ1bmRlZmluZWQiLCJfd2luZG93Iiwid2luZG93RXhpc3RzIiwiRkMiLCJGdXNpb25DaGFydHMiLCJyZWdpc3RlciIsInJlZ2lzdGVyQ29tcG9uZW50Iiwid2VicGFja1BvbHlmaWxsIiwiZGVwcmVjYXRlIiwicGF0aHMiLCJjaGlsZHJlbiIsIl9jbGFzc0NhbGxDaGVjayIsImluc3RhbmNlIiwiQ29uc3RydWN0b3IiLCJUeXBlRXJyb3IiLCJfY3JlYXRlQ2xhc3MiLCJkZWZpbmVQcm9wZXJ0aWVzIiwidGFyZ2V0IiwicHJvcHMiLCJpIiwibGVuZ3RoIiwiZGVzY3JpcHRvciIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5Iiwia2V5IiwicHJvdG9Qcm9wcyIsInN0YXRpY1Byb3BzIiwibW9tZW50IiwiZGVwIiwidGhpcyIsInN0YXJ0RHQiLCJlbmREdCIsInN0YXJ0RGF0YXNldCIsImVuZERhdGFzZXQiLCJ0b29sYm94IiwiZ2V0Q29tcG9uZW50IiwiSG9yaXpvbnRhbFRvb2xiYXIiLCJDb21wb25lbnRHcm91cCIsIlN5bWJvbFN0b3JlIiwic3RhcnRUZXh0IiwiYXR0ciIsImVuZFRleHQiLCJ2YWx1ZSIsImVwb2NoIiwic2VwYXJhdG9yIiwiRGF0ZSIsImZvcm1hdHRlZERhdGUiLCJnZXRVVENEYXRlIiwiZ2V0VVRDTW9udGgiLCJnZXRVVENGdWxsWWVhciIsImpvaW4iLCJ0ZW1wIiwiZGF0ZVJhbmdlIiwic3RhcnREYXRlIiwiZW5kRGF0ZSIsInRpbWVzdGFtcCIsImNoYXJ0IiwiZ2V0Rm9ybWF0dGVkRGF0ZSIsImRhdGVTdHJpbmciLCJnZXRUaW1lc3RhbXAiLCJjb25maWdPYmoiLCJjYWxlbmRhclZpc2libGUiLCJyZXF1aXJlIiwieEF4aXMiLCJ5QXhpcyIsImdyYXBoaWNzIiwiZGF0YXNldCIsInBsb3RNYW5hZ2VyIiwiY2FudmFzQ29uZmlnIiwibWFya2VyTWFuYWdlciIsInJlYWN0aXZlTW9kZWwiLCJnbG9iYWxSZWFjdGl2ZU1vZGVsIiwic3BhY2VNYW5hZ2VySW5zdGFuY2UiLCJleHREYXRhIiwic21hcnRMYWJlbCIsImNvbnNvbGUiLCJsb2ciLCJtb2RlbCIsInRvb2xiYXJzIiwibWVhc3VyZW1lbnQiLCJwdXNoIiwiY3JlYXRlVG9vbGJhciIsInRvb2xiYXIiLCJmcm9tRGF0ZUxhYmVsIiwidG9EYXRlTGFiZWwiLCJncm91cCIsImZyb21Gb3JtYXR0ZWREYXRlIiwidG9Gb3JtYXR0ZWREYXRlIiwic2VsZiIsImZyb21EYXRlIiwidG9EYXRlIiwiZm9ybWF0IiwicGFwZXIiLCJjaGFydENvbnRhaW5lciIsImNvbnRhaW5lciIsInNldENvbmZpZyIsImZpbGwiLCJib3JkZXJUaGlja25lc3MiLCJMYWJlbCIsInRleHQiLCJzdHlsZSIsImZvbnQtc2l6ZSIsImZvbnQtZmFtaWx5IiwiSW5wdXRUZXh0Qm94U3ltYm9sIiwid2lkdGgiLCJoZWlnaHQiLCJzdHJva2VXaWR0aCIsInN0cm9rZSIsInN5bWJvbFN0cm9rZVdpZHRoIiwicmFkaXVzIiwibWFyZ2luIiwicmlnaHQiLCJidG5UZXh0U3R5bGUiLCJmb250U2l6ZSIsImxhYmVsIiwibGFiZWxGaWxsIiwic2V0U3RhdGVDb25maWciLCJwcmVzc2VkIiwiY29uZmlnIiwic3Ryb2tlLXdpZHRoIiwibm9ybWFsIiwiaG92ZXIiLCJhdHRhY2hFdmVudEhhbmRsZXJzIiwiY2xpY2siLCJmbiIsImVkaXQiLCJ1cGRhdGVWaXN1YWwiLCJ0ZXh0T25CbHVyIiwiYmx1ciIsImdldFRleHQiLCJ4IiwieSIsInJhZCIsInciLCJoIiwicGFkWCIsInBhZFkiLCJ4MSIsIngyIiwieTEiLCJ5MiIsImFkZFN5bWJvbCIsImFkZENvbXBvbmVudCIsImF2YWlsYWJsZVdpZHRoIiwiYXZhaWxhYmxlSGVpZ2h0IiwibG9naWNhbFNwYWNlIiwibG4iLCJnZXRMb2dpY2FsU3BhY2UiLCJNYXRoIiwibWF4IiwicGFkZGluZyIsImFkZCIsIm5hbWUiLCJyZWYiLCJwcmlvcml0eSIsImxheW91dCIsImlubGluZSIsIm9yaWVudGF0aW9uIiwidHlwZSIsImhvcml6b250YWwiLCJwb3NpdGlvbiIsInRvcCIsImFsaWdubWVudCIsImRpbWVuc2lvbnMiLCJwYXJlbnQiLCJnZXRQYXJlbnRDb21wb25lbnRHcm91cCIsImdldFdpZHRoIiwiZ2V0SGVpZ2h0IiwibWVzIiwicGFyZW50R3JvdXAiLCJkcmF3Iiwib25Qcm9wc0NoYW5nZSIsInN0YXJ0IiwiZW5kIiwiZ2V0Iiwic2V0Iiwic3RhcnRUaW1lc3RhbXAiLCJwYXJzZUludCIsImFic29sdXRlU3RhcnQiLCJlcnJvciIsImVuZFRpbWVzdGFtcCIsImFic29sdXRlRW5kIiwiZ2xvYmFsIiwiaG9va3MiLCJob29rQ2FsbGJhY2siLCJhcHBseSIsImFyZ3VtZW50cyIsInNldEhvb2tDYWxsYmFjayIsImNhbGxiYWNrIiwiaXNBcnJheSIsImlucHV0IiwiQXJyYXkiLCJ0b1N0cmluZyIsImlzT2JqZWN0IiwiaXNPYmplY3RFbXB0eSIsImsiLCJpc051bWJlciIsImlzRGF0ZSIsIm1hcCIsImFyciIsInJlcyIsImhhc093blByb3AiLCJhIiwiYiIsImhhc093blByb3BlcnR5IiwiZXh0ZW5kIiwidmFsdWVPZiIsImNyZWF0ZVVUQyIsImxvY2FsZSIsInN0cmljdCIsImNyZWF0ZUxvY2FsT3JVVEMiLCJ1dGMiLCJkZWZhdWx0UGFyc2luZ0ZsYWdzIiwiZW1wdHkiLCJ1bnVzZWRUb2tlbnMiLCJ1bnVzZWRJbnB1dCIsIm92ZXJmbG93IiwiY2hhcnNMZWZ0T3ZlciIsIm51bGxJbnB1dCIsImludmFsaWRNb250aCIsImludmFsaWRGb3JtYXQiLCJ1c2VySW52YWxpZGF0ZWQiLCJpc28iLCJwYXJzZWREYXRlUGFydHMiLCJtZXJpZGllbSIsImdldFBhcnNpbmdGbGFncyIsIl9wZiIsImlzVmFsaWQiLCJfaXNWYWxpZCIsImZsYWdzIiwicGFyc2VkUGFydHMiLCJzb21lJDEiLCJpc05vd1ZhbGlkIiwiaXNOYU4iLCJfZCIsImdldFRpbWUiLCJpbnZhbGlkV2Vla2RheSIsIl9zdHJpY3QiLCJiaWdIb3VyIiwiaXNGcm96ZW4iLCJjcmVhdGVJbnZhbGlkIiwiTmFOIiwiaXNVbmRlZmluZWQiLCJjb3B5Q29uZmlnIiwidG8iLCJmcm9tIiwicHJvcCIsInZhbCIsIl9pc0FNb21lbnRPYmplY3QiLCJfaSIsIl9mIiwiX2wiLCJfdHptIiwiX2lzVVRDIiwiX29mZnNldCIsIl9sb2NhbGUiLCJtb21lbnRQcm9wZXJ0aWVzIiwiTW9tZW50IiwidXBkYXRlSW5Qcm9ncmVzcyIsInVwZGF0ZU9mZnNldCIsImlzTW9tZW50IiwiYWJzRmxvb3IiLCJudW1iZXIiLCJjZWlsIiwiZmxvb3IiLCJ0b0ludCIsImFyZ3VtZW50Rm9yQ29lcmNpb24iLCJjb2VyY2VkTnVtYmVyIiwiaXNGaW5pdGUiLCJjb21wYXJlQXJyYXlzIiwiYXJyYXkxIiwiYXJyYXkyIiwiZG9udENvbnZlcnQiLCJsZW4iLCJtaW4iLCJsZW5ndGhEaWZmIiwiYWJzIiwiZGlmZnMiLCJ3YXJuIiwibXNnIiwic3VwcHJlc3NEZXByZWNhdGlvbldhcm5pbmdzIiwiZmlyc3RUaW1lIiwiZGVwcmVjYXRpb25IYW5kbGVyIiwiYXJnIiwiYXJncyIsInNsaWNlIiwic3RhY2siLCJkZXByZWNhdGVTaW1wbGUiLCJkZXByZWNhdGlvbnMiLCJpc0Z1bmN0aW9uIiwiRnVuY3Rpb24iLCJfY29uZmlnIiwiX29yZGluYWxQYXJzZUxlbmllbnQiLCJSZWdFeHAiLCJfb3JkaW5hbFBhcnNlIiwic291cmNlIiwibWVyZ2VDb25maWdzIiwicGFyZW50Q29uZmlnIiwiY2hpbGRDb25maWciLCJMb2NhbGUiLCJjYWxlbmRhciIsIm1vbSIsIm5vdyIsIm91dHB1dCIsIl9jYWxlbmRhciIsImxvbmdEYXRlRm9ybWF0IiwiX2xvbmdEYXRlRm9ybWF0IiwiZm9ybWF0VXBwZXIiLCJ0b1VwcGVyQ2FzZSIsInJlcGxhY2UiLCJpbnZhbGlkRGF0ZSIsIl9pbnZhbGlkRGF0ZSIsIm9yZGluYWwiLCJfb3JkaW5hbCIsInJlbGF0aXZlVGltZSIsIndpdGhvdXRTdWZmaXgiLCJzdHJpbmciLCJpc0Z1dHVyZSIsIl9yZWxhdGl2ZVRpbWUiLCJwYXN0RnV0dXJlIiwiZGlmZiIsImFkZFVuaXRBbGlhcyIsInVuaXQiLCJzaG9ydGhhbmQiLCJsb3dlckNhc2UiLCJ0b0xvd2VyQ2FzZSIsImFsaWFzZXMiLCJub3JtYWxpemVVbml0cyIsInVuaXRzIiwibm9ybWFsaXplT2JqZWN0VW5pdHMiLCJpbnB1dE9iamVjdCIsIm5vcm1hbGl6ZWRQcm9wIiwibm9ybWFsaXplZElucHV0IiwiYWRkVW5pdFByaW9yaXR5IiwicHJpb3JpdGllcyIsImdldFByaW9yaXRpemVkVW5pdHMiLCJ1bml0c09iaiIsInUiLCJzb3J0IiwibWFrZUdldFNldCIsImtlZXBUaW1lIiwic2V0JDEiLCJzdHJpbmdHZXQiLCJzdHJpbmdTZXQiLCJwcmlvcml0aXplZCIsInplcm9GaWxsIiwidGFyZ2V0TGVuZ3RoIiwiZm9yY2VTaWduIiwiYWJzTnVtYmVyIiwiemVyb3NUb0ZpbGwiLCJzaWduIiwicG93Iiwic3Vic3RyIiwiYWRkRm9ybWF0VG9rZW4iLCJ0b2tlbiIsInBhZGRlZCIsImZ1bmMiLCJmb3JtYXRUb2tlbkZ1bmN0aW9ucyIsImxvY2FsZURhdGEiLCJyZW1vdmVGb3JtYXR0aW5nVG9rZW5zIiwibWF0Y2giLCJtYWtlRm9ybWF0RnVuY3Rpb24iLCJhcnJheSIsImZvcm1hdHRpbmdUb2tlbnMiLCJmb3JtYXRNb21lbnQiLCJleHBhbmRGb3JtYXQiLCJmb3JtYXRGdW5jdGlvbnMiLCJyZXBsYWNlTG9uZ0RhdGVGb3JtYXRUb2tlbnMiLCJsb2NhbEZvcm1hdHRpbmdUb2tlbnMiLCJsYXN0SW5kZXgiLCJ0ZXN0IiwiYWRkUmVnZXhUb2tlbiIsInJlZ2V4Iiwic3RyaWN0UmVnZXgiLCJyZWdleGVzIiwiaXNTdHJpY3QiLCJnZXRQYXJzZVJlZ2V4Rm9yVG9rZW4iLCJ1bmVzY2FwZUZvcm1hdCIsInMiLCJyZWdleEVzY2FwZSIsIm1hdGNoZWQiLCJwMSIsInAyIiwicDMiLCJwNCIsImFkZFBhcnNlVG9rZW4iLCJ0b2tlbnMiLCJhZGRXZWVrUGFyc2VUb2tlbiIsIl93IiwiYWRkVGltZVRvQXJyYXlGcm9tVG9rZW4iLCJfYSIsImRheXNJbk1vbnRoIiwieWVhciIsIm1vbnRoIiwiVVRDIiwibG9jYWxlTW9udGhzIiwiX21vbnRocyIsImlzRm9ybWF0IiwiTU9OVEhTX0lOX0ZPUk1BVCIsImxvY2FsZU1vbnRoc1Nob3J0IiwiX21vbnRoc1Nob3J0IiwiaGFuZGxlU3RyaWN0UGFyc2UiLCJtb250aE5hbWUiLCJpaSIsImxsYyIsInRvTG9jYWxlTG93ZXJDYXNlIiwiX21vbnRoc1BhcnNlIiwiX2xvbmdNb250aHNQYXJzZSIsIl9zaG9ydE1vbnRoc1BhcnNlIiwibW9udGhzU2hvcnQiLCJtb250aHMiLCJpbmRleE9mJDEiLCJsb2NhbGVNb250aHNQYXJzZSIsIl9tb250aHNQYXJzZUV4YWN0Iiwic2V0TW9udGgiLCJkYXlPZk1vbnRoIiwibW9udGhzUGFyc2UiLCJkYXRlIiwiZ2V0U2V0TW9udGgiLCJnZXREYXlzSW5Nb250aCIsIm1vbnRoc1Nob3J0UmVnZXgiLCJjb21wdXRlTW9udGhzUGFyc2UiLCJfbW9udGhzU2hvcnRTdHJpY3RSZWdleCIsIl9tb250aHNTaG9ydFJlZ2V4IiwiZGVmYXVsdE1vbnRoc1Nob3J0UmVnZXgiLCJtb250aHNSZWdleCIsIl9tb250aHNTdHJpY3RSZWdleCIsIl9tb250aHNSZWdleCIsImRlZmF1bHRNb250aHNSZWdleCIsImNtcExlblJldiIsInNob3J0UGllY2VzIiwibG9uZ1BpZWNlcyIsIm1peGVkUGllY2VzIiwiZGF5c0luWWVhciIsImlzTGVhcFllYXIiLCJnZXRJc0xlYXBZZWFyIiwiY3JlYXRlRGF0ZSIsImQiLCJNIiwibXMiLCJnZXRGdWxsWWVhciIsInNldEZ1bGxZZWFyIiwiY3JlYXRlVVRDRGF0ZSIsInNldFVUQ0Z1bGxZZWFyIiwiZmlyc3RXZWVrT2Zmc2V0IiwiZG93IiwiZG95IiwiZndkIiwiZndkbHciLCJnZXRVVENEYXkiLCJkYXlPZlllYXJGcm9tV2Vla3MiLCJ3ZWVrIiwid2Vla2RheSIsInJlc1llYXIiLCJyZXNEYXlPZlllYXIiLCJsb2NhbFdlZWtkYXkiLCJ3ZWVrT2Zmc2V0IiwiZGF5T2ZZZWFyIiwid2Vla09mWWVhciIsInJlc1dlZWsiLCJ3ZWVrc0luWWVhciIsIndlZWtPZmZzZXROZXh0IiwibG9jYWxlV2VlayIsIl93ZWVrIiwibG9jYWxlRmlyc3REYXlPZldlZWsiLCJsb2NhbGVGaXJzdERheU9mWWVhciIsImdldFNldFdlZWsiLCJnZXRTZXRJU09XZWVrIiwicGFyc2VXZWVrZGF5Iiwid2Vla2RheXNQYXJzZSIsInBhcnNlSXNvV2Vla2RheSIsImxvY2FsZVdlZWtkYXlzIiwiX3dlZWtkYXlzIiwiZGF5IiwibG9jYWxlV2Vla2RheXNTaG9ydCIsIl93ZWVrZGF5c1Nob3J0IiwibG9jYWxlV2Vla2RheXNNaW4iLCJfd2Vla2RheXNNaW4iLCJoYW5kbGVTdHJpY3RQYXJzZSQxIiwid2Vla2RheU5hbWUiLCJfd2Vla2RheXNQYXJzZSIsIl9zaG9ydFdlZWtkYXlzUGFyc2UiLCJfbWluV2Vla2RheXNQYXJzZSIsIndlZWtkYXlzTWluIiwid2Vla2RheXNTaG9ydCIsIndlZWtkYXlzIiwibG9jYWxlV2Vla2RheXNQYXJzZSIsIl93ZWVrZGF5c1BhcnNlRXhhY3QiLCJfZnVsbFdlZWtkYXlzUGFyc2UiLCJnZXRTZXREYXlPZldlZWsiLCJnZXREYXkiLCJnZXRTZXRMb2NhbGVEYXlPZldlZWsiLCJnZXRTZXRJU09EYXlPZldlZWsiLCJ3ZWVrZGF5c1JlZ2V4IiwiY29tcHV0ZVdlZWtkYXlzUGFyc2UiLCJfd2Vla2RheXNTdHJpY3RSZWdleCIsIl93ZWVrZGF5c1JlZ2V4IiwiZGVmYXVsdFdlZWtkYXlzUmVnZXgiLCJ3ZWVrZGF5c1Nob3J0UmVnZXgiLCJfd2Vla2RheXNTaG9ydFN0cmljdFJlZ2V4IiwiX3dlZWtkYXlzU2hvcnRSZWdleCIsImRlZmF1bHRXZWVrZGF5c1Nob3J0UmVnZXgiLCJ3ZWVrZGF5c01pblJlZ2V4IiwiX3dlZWtkYXlzTWluU3RyaWN0UmVnZXgiLCJfd2Vla2RheXNNaW5SZWdleCIsImRlZmF1bHRXZWVrZGF5c01pblJlZ2V4IiwibWlucCIsInNob3J0cCIsImxvbmdwIiwibWluUGllY2VzIiwiaEZvcm1hdCIsImhvdXJzIiwia0Zvcm1hdCIsImxvd2VyY2FzZSIsIm1pbnV0ZXMiLCJtYXRjaE1lcmlkaWVtIiwiX21lcmlkaWVtUGFyc2UiLCJsb2NhbGVJc1BNIiwiY2hhckF0IiwibG9jYWxlTWVyaWRpZW0iLCJpc0xvd2VyIiwibm9ybWFsaXplTG9jYWxlIiwiY2hvb3NlTG9jYWxlIiwibmFtZXMiLCJqIiwibmV4dCIsInNwbGl0IiwibG9hZExvY2FsZSIsIm9sZExvY2FsZSIsImxvY2FsZXMiLCJnbG9iYWxMb2NhbGUiLCJfYWJiciIsImUiLCJjb2RlIiwiZ2V0U2V0R2xvYmFsTG9jYWxlIiwidmFsdWVzIiwiZGF0YSIsImdldExvY2FsZSIsImRlZmluZUxvY2FsZSIsImJhc2VDb25maWciLCJhYmJyIiwicGFyZW50TG9jYWxlIiwibG9jYWxlRmFtaWxpZXMiLCJmb3JFYWNoIiwidXBkYXRlTG9jYWxlIiwibGlzdExvY2FsZXMiLCJrZXlzJDEiLCJjaGVja092ZXJmbG93IiwiTU9OVEgiLCJEQVRFIiwiWUVBUiIsIkhPVVIiLCJNSU5VVEUiLCJTRUNPTkQiLCJNSUxMSVNFQ09ORCIsIl9vdmVyZmxvd0RheU9mWWVhciIsIl9vdmVyZmxvd1dlZWtzIiwiV0VFSyIsIl9vdmVyZmxvd1dlZWtkYXkiLCJXRUVLREFZIiwiY29uZmlnRnJvbUlTTyIsImwiLCJhbGxvd1RpbWUiLCJkYXRlRm9ybWF0IiwidGltZUZvcm1hdCIsInR6Rm9ybWF0IiwiZXh0ZW5kZWRJc29SZWdleCIsImV4ZWMiLCJiYXNpY0lzb1JlZ2V4IiwiaXNvRGF0ZXMiLCJpc29UaW1lcyIsInR6UmVnZXgiLCJjb25maWdGcm9tU3RyaW5nQW5kRm9ybWF0IiwiY29uZmlnRnJvbVN0cmluZyIsImFzcE5ldEpzb25SZWdleCIsImNyZWF0ZUZyb21JbnB1dEZhbGxiYWNrIiwiZGVmYXVsdHMiLCJjdXJyZW50RGF0ZUFycmF5Iiwibm93VmFsdWUiLCJfdXNlVVRDIiwiZ2V0TW9udGgiLCJnZXREYXRlIiwiY29uZmlnRnJvbUFycmF5IiwiY3VycmVudERhdGUiLCJ5ZWFyVG9Vc2UiLCJkYXlPZlllYXJGcm9tV2Vla0luZm8iLCJfZGF5T2ZZZWFyIiwiX25leHREYXkiLCJzZXRVVENNaW51dGVzIiwiZ2V0VVRDTWludXRlcyIsIndlZWtZZWFyIiwid2Vla2RheU92ZXJmbG93IiwiR0ciLCJXIiwiRSIsImNyZWF0ZUxvY2FsIiwiY3VyV2VlayIsImdnIiwiSVNPXzg2MDEiLCJwYXJzZWRJbnB1dCIsInNraXBwZWQiLCJzdHJpbmdMZW5ndGgiLCJ0b3RhbFBhcnNlZElucHV0TGVuZ3RoIiwiaW5kZXhPZiIsIl9tZXJpZGllbSIsIm1lcmlkaWVtRml4V3JhcCIsImhvdXIiLCJpc1BtIiwibWVyaWRpZW1Ib3VyIiwiaXNQTSIsImNvbmZpZ0Zyb21TdHJpbmdBbmRBcnJheSIsInRlbXBDb25maWciLCJiZXN0TW9tZW50Iiwic2NvcmVUb0JlYXQiLCJjdXJyZW50U2NvcmUiLCJzY29yZSIsImNvbmZpZ0Zyb21PYmplY3QiLCJtaW51dGUiLCJzZWNvbmQiLCJtaWxsaXNlY29uZCIsImNyZWF0ZUZyb21Db25maWciLCJwcmVwYXJlQ29uZmlnIiwicHJlcGFyc2UiLCJjb25maWdGcm9tSW5wdXQiLCJpc1VUQyIsInBpY2tCeSIsIm1vbWVudHMiLCJEdXJhdGlvbiIsImR1cmF0aW9uIiwieWVhcnMiLCJxdWFydGVycyIsInF1YXJ0ZXIiLCJ3ZWVrcyIsImRheXMiLCJzZWNvbmRzIiwibWlsbGlzZWNvbmRzIiwiX21pbGxpc2Vjb25kcyIsIl9kYXlzIiwiX2RhdGEiLCJfYnViYmxlIiwiaXNEdXJhdGlvbiIsImFic1JvdW5kIiwicm91bmQiLCJvZmZzZXQiLCJ1dGNPZmZzZXQiLCJvZmZzZXRGcm9tU3RyaW5nIiwibWF0Y2hlciIsIm1hdGNoZXMiLCJjaHVuayIsInBhcnRzIiwiY2h1bmtPZmZzZXQiLCJjbG9uZVdpdGhPZmZzZXQiLCJjbG9uZSIsInNldFRpbWUiLCJsb2NhbCIsImdldERhdGVPZmZzZXQiLCJnZXRUaW1lem9uZU9mZnNldCIsImdldFNldE9mZnNldCIsImtlZXBMb2NhbFRpbWUiLCJsb2NhbEFkanVzdCIsIm1hdGNoU2hvcnRPZmZzZXQiLCJfY2hhbmdlSW5Qcm9ncmVzcyIsImFkZFN1YnRyYWN0IiwiY3JlYXRlRHVyYXRpb24iLCJnZXRTZXRab25lIiwic2V0T2Zmc2V0VG9VVEMiLCJzZXRPZmZzZXRUb0xvY2FsIiwic3VidHJhY3QiLCJzZXRPZmZzZXRUb1BhcnNlZE9mZnNldCIsInRab25lIiwibWF0Y2hPZmZzZXQiLCJoYXNBbGlnbmVkSG91ck9mZnNldCIsImlzRGF5bGlnaHRTYXZpbmdUaW1lIiwiaXNEYXlsaWdodFNhdmluZ1RpbWVTaGlmdGVkIiwiX2lzRFNUU2hpZnRlZCIsIm90aGVyIiwidG9BcnJheSIsImlzTG9jYWwiLCJpc1V0Y09mZnNldCIsImlzVXRjIiwicmV0IiwiZGlmZlJlcyIsImFzcE5ldFJlZ2V4IiwiaXNvUmVnZXgiLCJwYXJzZUlzbyIsIm1vbWVudHNEaWZmZXJlbmNlIiwiaW5wIiwicGFyc2VGbG9hdCIsInBvc2l0aXZlTW9tZW50c0RpZmZlcmVuY2UiLCJiYXNlIiwiaXNBZnRlciIsImlzQmVmb3JlIiwiY3JlYXRlQWRkZXIiLCJkaXJlY3Rpb24iLCJwZXJpb2QiLCJkdXIiLCJ0bXAiLCJpc0FkZGluZyIsImdldENhbGVuZGFyRm9ybWF0IiwibXlNb21lbnQiLCJjYWxlbmRhciQxIiwidGltZSIsImZvcm1hdHMiLCJzb2QiLCJzdGFydE9mIiwiY2FsZW5kYXJGb3JtYXQiLCJsb2NhbElucHV0IiwiZW5kT2YiLCJpc0JldHdlZW4iLCJpbmNsdXNpdml0eSIsImlzU2FtZSIsImlucHV0TXMiLCJpc1NhbWVPckFmdGVyIiwiaXNTYW1lT3JCZWZvcmUiLCJhc0Zsb2F0IiwidGhhdCIsInpvbmVEZWx0YSIsImRlbHRhIiwibW9udGhEaWZmIiwiYW5jaG9yMiIsImFkanVzdCIsIndob2xlTW9udGhEaWZmIiwiYW5jaG9yIiwidG9JU09TdHJpbmciLCJpbnNwZWN0Iiwiem9uZSIsInByZWZpeCIsImRhdGV0aW1lIiwic3VmZml4IiwiaW5wdXRTdHJpbmciLCJkZWZhdWx0Rm9ybWF0VXRjIiwiZGVmYXVsdEZvcm1hdCIsInBvc3Rmb3JtYXQiLCJodW1hbml6ZSIsImZyb21Ob3ciLCJ0b05vdyIsIm5ld0xvY2FsZURhdGEiLCJpc29XZWVrZGF5IiwidW5peCIsInRvT2JqZWN0IiwidG9KU09OIiwiaXNWYWxpZCQxIiwicGFyc2luZ0ZsYWdzIiwiaW52YWxpZEF0IiwiY3JlYXRpb25EYXRhIiwiYWRkV2Vla1llYXJGb3JtYXRUb2tlbiIsImdldHRlciIsImdldFNldFdlZWtZZWFyIiwiZ2V0U2V0V2Vla1llYXJIZWxwZXIiLCJnZXRTZXRJU09XZWVrWWVhciIsImlzb1dlZWsiLCJnZXRJU09XZWVrc0luWWVhciIsImdldFdlZWtzSW5ZZWFyIiwid2Vla0luZm8iLCJ3ZWVrc1RhcmdldCIsInNldFdlZWtBbGwiLCJkYXlPZlllYXJEYXRhIiwiZ2V0U2V0UXVhcnRlciIsImdldFNldERheU9mWWVhciIsInBhcnNlTXMiLCJnZXRab25lQWJiciIsImdldFpvbmVOYW1lIiwiY3JlYXRlVW5peCIsImNyZWF0ZUluWm9uZSIsInBhcnNlWm9uZSIsInByZVBhcnNlUG9zdEZvcm1hdCIsImdldCQxIiwiaW5kZXgiLCJmaWVsZCIsInNldHRlciIsImxpc3RNb250aHNJbXBsIiwib3V0IiwibGlzdFdlZWtkYXlzSW1wbCIsImxvY2FsZVNvcnRlZCIsInNoaWZ0IiwibGlzdE1vbnRocyIsImxpc3RNb250aHNTaG9ydCIsImxpc3RXZWVrZGF5cyIsImxpc3RXZWVrZGF5c1Nob3J0IiwibGlzdFdlZWtkYXlzTWluIiwibWF0aEFicyIsImFkZFN1YnRyYWN0JDEiLCJhZGQkMSIsInN1YnRyYWN0JDEiLCJhYnNDZWlsIiwiYnViYmxlIiwibW9udGhzRnJvbURheXMiLCJtb250aHNUb0RheXMiLCJkYXlzVG9Nb250aHMiLCJhcyIsInZhbHVlT2YkMSIsIm1ha2VBcyIsImFsaWFzIiwiZ2V0JDIiLCJtYWtlR2V0dGVyIiwic3Vic3RpdHV0ZVRpbWVBZ28iLCJyZWxhdGl2ZVRpbWUkMSIsInBvc05lZ0R1cmF0aW9uIiwidGhyZXNob2xkcyIsImdldFNldFJlbGF0aXZlVGltZVJvdW5kaW5nIiwicm91bmRpbmdGdW5jdGlvbiIsImdldFNldFJlbGF0aXZlVGltZVRocmVzaG9sZCIsInRocmVzaG9sZCIsImxpbWl0Iiwid2l0aFN1ZmZpeCIsInRvSVNPU3RyaW5nJDEiLCJhYnMkMSIsIlkiLCJEIiwidG90YWwiLCJhc1NlY29uZHMiLCJzb21lIiwiZnVuIiwidCIsImtleXMiLCJkZWZhdWx0Q2FsZW5kYXIiLCJzYW1lRGF5IiwibmV4dERheSIsIm5leHRXZWVrIiwibGFzdERheSIsImxhc3RXZWVrIiwic2FtZUVsc2UiLCJkZWZhdWx0TG9uZ0RhdGVGb3JtYXQiLCJMVFMiLCJMVCIsIkwiLCJMTCIsIkxMTCIsIkxMTEwiLCJkZWZhdWx0SW52YWxpZERhdGUiLCJkZWZhdWx0T3JkaW5hbCIsImRlZmF1bHRPcmRpbmFsUGFyc2UiLCJkZWZhdWx0UmVsYXRpdmVUaW1lIiwiZnV0dXJlIiwicGFzdCIsIm1tIiwiaGgiLCJkZCIsIk1NIiwieXkiLCJtYXRjaDEiLCJtYXRjaDIiLCJtYXRjaDMiLCJtYXRjaDQiLCJtYXRjaDYiLCJtYXRjaDF0bzIiLCJtYXRjaDN0bzQiLCJtYXRjaDV0bzYiLCJtYXRjaDF0bzMiLCJtYXRjaDF0bzQiLCJtYXRjaDF0bzYiLCJtYXRjaFVuc2lnbmVkIiwibWF0Y2hTaWduZWQiLCJtYXRjaFRpbWVzdGFtcCIsIm1hdGNoV29yZCIsIm8iLCJkZWZhdWx0TG9jYWxlTW9udGhzIiwiZGVmYXVsdExvY2FsZU1vbnRoc1Nob3J0IiwicGFyc2VUd29EaWdpdFllYXIiLCJnZXRTZXRZZWFyIiwiZGVmYXVsdExvY2FsZVdlZWsiLCJkZWZhdWx0TG9jYWxlV2Vla2RheXMiLCJkZWZhdWx0TG9jYWxlV2Vla2RheXNTaG9ydCIsImRlZmF1bHRMb2NhbGVXZWVrZGF5c01pbiIsIl9pc1BtIiwicG9zIiwicG9zMSIsInBvczIiLCJkZWZhdWx0TG9jYWxlTWVyaWRpZW1QYXJzZSIsImdldFNldEhvdXIiLCJvcmRpbmFsUGFyc2UiLCJtZXJpZGllbVBhcnNlIiwicHJvdG90eXBlTWluIiwicHJvdG90eXBlTWF4IiwibGFuZyIsImlzb1dlZWtZZWFyIiwiZ2V0U2V0RGF5T2ZNb250aCIsImdldFNldE1pbnV0ZSIsImdldFNldFNlY29uZCIsImdldFNldE1pbGxpc2Vjb25kIiwicHJvdG8iLCJpc29XZWVrcyIsImlzb1dlZWtzSW5ZZWFyIiwiaXNEU1QiLCJ6b25lQWJiciIsInpvbmVOYW1lIiwiZGF0ZXMiLCJpc0RTVFNoaWZ0ZWQiLCJwcm90byQxIiwiZmlyc3REYXlPZlllYXIiLCJmaXJzdERheU9mV2VlayIsImxhbmdEYXRhIiwiYXNNaWxsaXNlY29uZHMiLCJhc01pbnV0ZXMiLCJhc0hvdXJzIiwiYXNEYXlzIiwiYXNXZWVrcyIsImFzTW9udGhzIiwiYXNZZWFycyIsInByb3RvJDIiLCJ0b0lzb1N0cmluZyIsInZlcnNpb24iLCJpbnZhbGlkIiwicmVsYXRpdmVUaW1lUm91bmRpbmciLCJyZWxhdGl2ZVRpbWVUaHJlc2hvbGQiXSwibWFwcGluZ3MiOiJDQUFTLFNBQVVBLEdDSW5CLFFBQUFDLEdBQUFDLEdBR0EsR0FBQUMsRUFBQUQsR0FDQSxNQUFBQyxHQUFBRCxHQUFBRSxPQUdBLElBQUFDLEdBQUFGLEVBQUFELElBQ0FFLFdBQ0FFLEdBQUFKLEVBQ0FLLFFBQUEsRUFVQSxPQU5BUCxHQUFBRSxHQUFBTSxLQUFBSCxFQUFBRCxRQUFBQyxJQUFBRCxRQUFBSCxHQUdBSSxFQUFBRSxRQUFBLEVBR0FGLEVBQUFELFFBdkJBLEdBQUFELEtBcUNBLE9BVEFGLEdBQUFRLEVBQUFULEVBR0FDLEVBQUFTLEVBQUFQLEVBR0FGLEVBQUFVLEVBQUEsR0FHQVYsRUFBQSxLRE1NLFNBQVNJLEVBQVFELEVBQVNILElFNUNoQyxTQUFBSSxHQUFBLFlGZ0RDLElBQUlPLEdBQTRCLGtCQUFYQyxTQUFvRCxnQkFBcEJBLFFBQU9DLFNBQXdCLFNBQVVDLEdBQU8sYUFBY0EsSUFBUyxTQUFVQSxHQUFPLE1BQU9BLElBQXlCLGtCQUFYRixTQUF5QkUsRUFBSUMsY0FBZ0JILFFBQVVFLElBQVFGLE9BQU9JLFVBQVksZUFBa0JGLElFL0NqUUcsRUFBWWpCLEVBQVEsRUFFMUJrQixRQUFPQyxHQUFLLEdBQUlGLEdBRWYsU0FBV0csRUFBS0MsR0FDTyxXQUFsQlYsRUFBT1AsSUFBdUJBLEVBQU9ELFFBQ3ZDQyxFQUFPRCxRQUFVaUIsRUFBSUUsU0FDaEJELEVBQVFELEdBQU8sU0FBVUcsR0FDekIsSUFBS0EsRUFBSUQsU0FDUCxLQUFNLElB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TCxNQUFBNE4sRUFBQTNFLE1BTUFQLEVBQUE4c0IsUUFBQSxTQUVBMXNCLEVBQUF3WixJQUVBNVosRUFBQTNELEdBQUFvdkIsR0FDQXpyQixFQUFBMkYsT0FDQTNGLEVBQUFsQyxPQUNBa0MsRUFBQXVILE9BQ0F2SCxFQUFBNEIsSUFBQUosRUFDQXhCLEVBQUEyaUIsS0FBQXdCLEdBQ0Fua0IsRUFBQW1PLE9BQUE2VyxHQUNBaGxCLEVBQUFjLFNBQ0FkLEVBQUF5QixPQUFBc1UsR0FDQS9WLEVBQUErc0IsUUFBQXRwQixFQUNBekQsRUFBQTZiLFNBQUFtQyxHQUNBaGUsRUFBQTZFLFdBQ0E3RSxFQUFBOFMsU0FBQW9TLEdBQ0FsbEIsRUFBQXFrQixVQUFBRCxHQUNBcGtCLEVBQUErSyxXQUFBbUwsR0FDQWxXLEVBQUF5YyxjQUNBemMsRUFBQWtPLFlBQUErVyxHQUNBamxCLEVBQUE0UyxZQUFBd1MsR0FDQXBsQixFQUFBbVcsZ0JBQ0FuVyxFQUFBeVcsZ0JBQ0F6VyxFQUFBMFYsUUFBQWdCLEdBQ0ExVyxFQUFBNlMsY0FBQXNTLEdBQ0FubEIsRUFBQWdKLGlCQUNBaEosRUFBQWd0QixxQkFBQXhHLEdBQ0F4bUIsRUFBQWl0QixzQkFBQXZHLEdBQ0ExbUIsRUFBQTBnQixlQUFBUCxHQUNBbmdCLEVBQUFwTSxVQUFBNjNCLEdBRUF6ckIsTUxxb0I4QjdNLEtBQUtKLEVBQVNILEVBQW9CLEdBQUdJIiwiZmlsZSI6ImZjdHMtZXh0LWRhdGVyYW5nZS1lczUubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqKioqKi8gKGZ1bmN0aW9uKG1vZHVsZXMpIHsgLy8gd2VicGFja0Jvb3RzdHJhcFxuLyoqKioqKi8gXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuLyoqKioqKi8gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuLyoqKioqKi8gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKVxuLyoqKioqKi8gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4vKioqKioqLyBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuLyoqKioqKi8gXHRcdFx0ZXhwb3J0czoge30sXG4vKioqKioqLyBcdFx0XHRpZDogbW9kdWxlSWQsXG4vKioqKioqLyBcdFx0XHRsb2FkZWQ6IGZhbHNlXG4vKioqKioqLyBcdFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4vKioqKioqLyBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbi8qKioqKiovIFx0XHRtb2R1bGUubG9hZGVkID0gdHJ1ZTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbi8qKioqKiovIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4vKioqKioqLyBcdH1cbi8qKioqKiovXG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbi8qKioqKiovIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oMCk7XG4vKioqKioqLyB9KVxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKioqKiovIChbXG4vKiAwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24obW9kdWxlKSB7J3VzZSBzdHJpY3QnO1xuXHRcblx0dmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9O1xuXHRcblx0dmFyIERhdGVSYW5nZSA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cdFxuXHR3aW5kb3cuZHIgPSBuZXcgRGF0ZVJhbmdlKCk7XG5cdFxuXHQ7KGZ1bmN0aW9uIChlbnYsIGZhY3RvcnkpIHtcblx0ICBpZiAoKCBmYWxzZSA/ICd1bmRlZmluZWQnIDogX3R5cGVvZihtb2R1bGUpKSA9PT0gJ29iamVjdCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcblx0ICAgIG1vZHVsZS5leHBvcnRzID0gZW52LmRvY3VtZW50ID8gZmFjdG9yeShlbnYpIDogZnVuY3Rpb24gKHdpbikge1xuXHQgICAgICBpZiAoIXdpbi5kb2N1bWVudCkge1xuXHQgICAgICAgIHRocm93IG5ldyBFcnJvcignV2luZG93IHdpdGggZG9jdW1lbnQgbm90IHByZXNlbnQnKTtcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gZmFjdG9yeSh3aW4sIHRydWUpO1xuXHQgICAgfTtcblx0ICB9IGVsc2Uge1xuXHQgICAgZW52LkRhdGVSYW5nZUNob29zZXIgPSBmYWN0b3J5KGVudiwgdHJ1ZSk7XG5cdCAgfVxuXHR9KSh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6IHVuZGVmaW5lZCwgZnVuY3Rpb24gKF93aW5kb3csIHdpbmRvd0V4aXN0cykge1xuXHQgIHZhciBGQyA9IF93aW5kb3cuRnVzaW9uQ2hhcnRzO1xuXHQgIEZDLnJlZ2lzdGVyKCdleHRlbnNpb24nLCBbJ3ByaXZhdGUnLCAnZGF0ZS1yYW5nZS1jaG9vc2VyJywgZnVuY3Rpb24gKCkge1xuXHQgICAgRkMucmVnaXN0ZXJDb21wb25lbnQoJ2V4dGVuc2lvbnMnLCAnZGF0ZS1yYW5nZS1jaG9vc2VyJywgRGF0ZVJhbmdlKHsgRnVzaW9uQ2hhcnRzOiBGQyB9KSk7XG5cdCAgfV0pO1xuXHR9KTtcblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18oMSkobW9kdWxlKSkpXG5cbi8qKiovIH0sXG4vKiAxICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuXHRcdGlmKCFtb2R1bGUud2VicGFja1BvbHlmaWxsKSB7XG5cdFx0XHRtb2R1bGUuZGVwcmVjYXRlID0gZnVuY3Rpb24oKSB7fTtcblx0XHRcdG1vZHVsZS5wYXRocyA9IFtdO1xuXHRcdFx0Ly8gbW9kdWxlLnBhcmVudCA9IHVuZGVmaW5lZCBieSBkZWZhdWx0XG5cdFx0XHRtb2R1bGUuY2hpbGRyZW4gPSBbXTtcblx0XHRcdG1vZHVsZS53ZWJwYWNrUG9seWZpbGwgPSAxO1xuXHRcdH1cblx0XHRyZXR1cm4gbW9kdWxlO1xuXHR9XG5cblxuLyoqKi8gfSxcbi8qIDIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0LyoqXG5cdCAqIENsYXNzIHJlcHJlc2VudGluZyB0aGUgRGF0ZVJhbmdlLlxuXHQgKi9cblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cdFxuXHRmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXHRcblx0dmFyIG1vbWVudCA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChkZXApIHtcblx0ICB2YXIgRGF0ZVJhbmdlID0gZnVuY3Rpb24gKCkge1xuXHQgICAgZnVuY3Rpb24gRGF0ZVJhbmdlKCkge1xuXHQgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRGF0ZVJhbmdlKTtcblx0XG5cdCAgICAgIC8qKlxuXHQgICAgICAgKiBAcHJpdmF0ZVxuXHQgICAgICAgKi9cblx0XG5cdCAgICAgIHRoaXMuc3RhcnREdCA9IDA7XG5cdCAgICAgIHRoaXMuZW5kRHQgPSAwO1xuXHQgICAgICB0aGlzLnN0YXJ0RGF0YXNldCA9IDA7XG5cdCAgICAgIHRoaXMuZW5kRGF0YXNldCA9IDA7XG5cdCAgICAgIHRoaXMudG9vbGJveCA9IGRlcC5GdXNpb25DaGFydHMuZ2V0Q29tcG9uZW50KCdhcGknLCAndG9vbGJveCcpO1xuXHQgICAgICB0aGlzLkhvcml6b250YWxUb29sYmFyID0gdGhpcy50b29sYm94Lkhvcml6b250YWxUb29sYmFyO1xuXHQgICAgICB0aGlzLkNvbXBvbmVudEdyb3VwID0gdGhpcy50b29sYm94LkNvbXBvbmVudEdyb3VwO1xuXHQgICAgICB0aGlzLlN5bWJvbFN0b3JlID0gdGhpcy50b29sYm94LlN5bWJvbFN0b3JlO1xuXHQgICAgICB0aGlzLnN0YXJ0VGV4dCA9IHtcblx0ICAgICAgICBhdHRyOiBmdW5jdGlvbiBhdHRyKCkge31cblx0ICAgICAgfTtcblx0ICAgICAgdGhpcy5lbmRUZXh0ID0ge1xuXHQgICAgICAgIGF0dHI6IGZ1bmN0aW9uIGF0dHIoKSB7fVxuXHQgICAgICB9O1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogQW4gb2JqZWN0IHJlcHJlc2VudGluZyB0aGUgc3RhcnQgYW5kIGVuZCBkYXRlcy5cblx0ICAgICAqIEB0eXBlIHtEYXRlUmFuZ2UucmFuZ2V9XG5cdCAgICAgKi9cblx0XG5cdFxuXHQgICAgX2NyZWF0ZUNsYXNzKERhdGVSYW5nZSwgW3tcblx0ICAgICAga2V5OiAnZGF0ZUZvcm1hdHRlcicsXG5cdCAgICAgIHZhbHVlOiBmdW5jdGlvbiBkYXRlRm9ybWF0dGVyKGVwb2NoLCBzZXBhcmF0b3IpIHtcblx0ICAgICAgICBlcG9jaCA9IG5ldyBEYXRlKGVwb2NoKTtcblx0ICAgICAgICB2YXIgZm9ybWF0dGVkRGF0ZSA9IFtlcG9jaC5nZXRVVENEYXRlKCksIGVwb2NoLmdldFVUQ01vbnRoKCkgKyAxLCBlcG9jaC5nZXRVVENGdWxsWWVhcigpXTtcblx0ICAgICAgICBmb3JtYXR0ZWREYXRlID0gZm9ybWF0dGVkRGF0ZS5qb2luKHNlcGFyYXRvcik7XG5cdCAgICAgICAgcmV0dXJuIGZvcm1hdHRlZERhdGU7XG5cdCAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAga2V5OiAnc3dhcERhdGVzJyxcblx0XG5cdFxuXHQgICAgICAvKipcblx0ICAgICAgICogU3dhcHMgdGhlIHN0YXJ0IGRhdGUgYW5kIHRoZSBlbmQgZGF0ZSBvZiB0aGUgZGF0ZSByYW5nZVxuXHQgICAgICAgKiBAcHJpdmF0ZVxuXHQgICAgICAgKi9cblx0ICAgICAgdmFsdWU6IGZ1bmN0aW9uIHN3YXBEYXRlcygpIHtcblx0ICAgICAgICB2YXIgdGVtcCA9IHRoaXMuZGF0ZVJhbmdlLnN0YXJ0RGF0ZTtcblx0ICAgICAgICB0aGlzLmRhdGVSYW5nZS5zdGFydERhdGUgPSB0aGlzLmRhdGVSYW5nZS5lbmREYXRlO1xuXHQgICAgICAgIHRoaXMuZGF0ZVJhbmdlLmVuZERhdGUgPSB0ZW1wO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICAvKipcblx0ICAgICAgICogU3luY3MgdGhlIGRhdGVyYW5nZSBzaG93biBieSB0aGUgRnVzaW9uQ2hhcnRzIHRpbWUgc2VyaWVzIGNoYXJ0IGFuZCB0aGUgRGF0ZSBSYW5nZSBDaG9vc2VyXG5cdCAgICAgICAqIEBwcml2YXRlXG5cdCAgICAgICAqL1xuXHRcblx0ICAgIH0sIHtcblx0ICAgICAga2V5OiAnc3luY1JhbmdlJyxcblx0ICAgICAgdmFsdWU6IGZ1bmN0aW9uIHN5bmNSYW5nZSgpIHt9XG5cdFxuXHQgICAgICAvKipcblx0ICAgICAgICogUmV0dXJucyBhIGZvcm1hdHRlZCBkYXRlIHN0cmluZyBmcm9tIEZ1c2lvbkNoYXJ0cyB3aGVuIGdpdmVuIGEgVU5JWCB0aW1lc3RhbXBcblx0ICAgICAgICogQHBhcmFtICB7bnVtYmVyfSB0aW1lc3RhbXAgLSBBIFVOSVggdGltZXN0YW1wIHRvIGJlIGNvbnZlcnRlZCB0byBhIGRhdGUgc3RyaW5nXG5cdCAgICAgICAqIEByZXR1cm4ge3N0cmluZ30gLSBBIGRhdGUgc3RyaW5nIHdoaWNoIGlzIGVxdWl2YWxlbnQgdG8gdGhlIGdpdmVuIHRpbWVzdGFtcFxuXHQgICAgICAgKi9cblx0XG5cdCAgICB9LCB7XG5cdCAgICAgIGtleTogJ2dldEZvcm1hdHRlZERhdGUnLFxuXHQgICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Rm9ybWF0dGVkRGF0ZSh0aW1lc3RhbXApIHtcblx0ICAgICAgICByZXR1cm4gdGhpcy5jaGFydC5nZXRGb3JtYXR0ZWREYXRlKHRpbWVzdGFtcCk7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIC8qKlxuXHQgICAgICAgKiBSZXR1cm5zIGEgVU5JWCB0aW1lc3RhbXAgZnJvbSBGdXNpb25DaGFydHMgd2hlbiBnaXZlbiBhIGZvcm1hdHRlZCBkYXRlIHN0cmluZ1xuXHQgICAgICAgKiBAcGFyYW0gIHtzdHJpbmd9IGRhdGVTdHJpbmcgLSBBIGRhdGUgc3RyaW5nIHRvIGJlIGNvbnZlcnRlZCB0byBhIFVOSVggdGltZXN0YW1wXG5cdCAgICAgICAqIEByZXR1cm4ge251bWJlcn0gQSBVTklYIHRpbWVzdGFtcCB3aGljaCBpcyBlcXVpdmFsZW50IHRvIHRoZSBnaXZlbiBkYXRlIHN0cmluZ1xuXHQgICAgICAgKi9cblx0XG5cdCAgICB9LCB7XG5cdCAgICAgIGtleTogJ2dldFRpbWVzdGFtcCcsXG5cdCAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRUaW1lc3RhbXAoZGF0ZVN0cmluZykge1xuXHQgICAgICAgIHJldHVybiB0aGlzLmNoYXJ0LmdldFRpbWVzdGFtcChkYXRlU3RyaW5nKTtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgLyoqXG5cdCAgICAgICAqIFNldHMgdGhlIGNvbmZpZ3VyYWJsZSBvcHRpb25zIG9mIHRoZSBleHRlbnNpb24gKGUuZy4gY29zbWV0aWNzKVxuXHQgICAgICAgKiBAcGFyYW0ge09iamVjdH0gY29uZmlnT2JqIFRoZSBjb25maWd1cmF0aW9uIG9iamVjdCBjb250YWluaW5nIHZhcmlvdXMgZXh0ZW5zaW9uIG9wdGlvbnNcblx0ICAgICAgICovXG5cdFxuXHQgICAgfSwge1xuXHQgICAgICBrZXk6ICdzZXRDb25maWcnLFxuXHQgICAgICB2YWx1ZTogZnVuY3Rpb24gc2V0Q29uZmlnKGNvbmZpZ09iaikge31cblx0XG5cdCAgICAgIC8qKlxuXHQgICAgICAgKiBHZXRzIHRoZSBjb25maWd1cmFibGUgb3B0aW9ucyBvZiB0aGUgZXh0ZW5zaW9uIChlLmcuIGNvc21ldGljcylcblx0ICAgICAgICogQHJldHVybiB7b2JqZWN0fSBjb25maWdPYmogVGhlIGNvbmZpZ3VyYXRpb24gb2JqZWN0IGNvbnRhaW5pbmcgdmFyaW91cyBleHRlbnNpb24gb3B0aW9uc1xuXHQgICAgICAgKi9cblx0XG5cdCAgICB9LCB7XG5cdCAgICAgIGtleTogJ2dldENvbmZpZycsXG5cdCAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRDb25maWcoKSB7XG5cdCAgICAgICAgcmV0dXJuIHtcblx0ICAgICAgICAgIGNhbGVuZGFyVmlzaWJsZTogJ2ZhbHNlJ1xuXHQgICAgICAgIH07XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIC8qKlxuXHQgICAgICAgKiBGdXNpb25jaGFydHMgbGlmZSBjeWNsZSBtZXRob2QgZm9yIGV4dGVuc2lvblxuXHQgICAgICAgKi9cblx0XG5cdCAgICB9LCB7XG5cdCAgICAgIGtleTogJ2luaXQnLFxuXHQgICAgICB2YWx1ZTogZnVuY3Rpb24gaW5pdChyZXF1aXJlKSB7XG5cdCAgICAgICAgdmFyIGluc3RhbmNlID0gdGhpcztcblx0ICAgICAgICByZXF1aXJlKFsneEF4aXMnLCAneUF4aXMnLCAnZ3JhcGhpY3MnLCAnY2hhcnQnLCAnZGF0YXNldCcsICdQbG90TWFuYWdlcicsICdjYW52YXNDb25maWcnLCAnTWFya2VyTWFuYWdlcicsICdyZWFjdGl2ZU1vZGVsJywgJ2dsb2JhbFJlYWN0aXZlTW9kZWwnLCAnc3BhY2VNYW5hZ2VySW5zdGFuY2UnLCAnZXh0RGF0YScsICdzbWFydExhYmVsJywgZnVuY3Rpb24gKHhBeGlzLCB5QXhpcywgZ3JhcGhpY3MsIGNoYXJ0LCBkYXRhc2V0LCBwbG90TWFuYWdlciwgY2FudmFzQ29uZmlnLCBtYXJrZXJNYW5hZ2VyLCByZWFjdGl2ZU1vZGVsLCBnbG9iYWxSZWFjdGl2ZU1vZGVsLCBzcGFjZU1hbmFnZXJJbnN0YW5jZSwgZXh0RGF0YSwgc21hcnRMYWJlbCkge1xuXHQgICAgICAgICAgY29uc29sZS5sb2coZXh0RGF0YSk7XG5cdCAgICAgICAgICBpbnN0YW5jZS54QXhpcyA9IHhBeGlzO1xuXHQgICAgICAgICAgaW5zdGFuY2UueUF4aXMgPSB5QXhpcztcblx0ICAgICAgICAgIGluc3RhbmNlLmdyYXBoaWNzID0gZ3JhcGhpY3M7XG5cdCAgICAgICAgICBpbnN0YW5jZS5jaGFydCA9IGNoYXJ0O1xuXHQgICAgICAgICAgaW5zdGFuY2UuZGF0YXNldCA9IGRhdGFzZXQ7XG5cdCAgICAgICAgICBpbnN0YW5jZS5wbG90TWFuYWdlciA9IHBsb3RNYW5hZ2VyO1xuXHQgICAgICAgICAgaW5zdGFuY2UubWFya2VyTWFuYWdlciA9IG1hcmtlck1hbmFnZXI7XG5cdCAgICAgICAgICBpbnN0YW5jZS5jYW52YXNDb25maWcgPSBjYW52YXNDb25maWc7XG5cdCAgICAgICAgICBpbnN0YW5jZS5yZWFjdGl2ZU1vZGVsID0gcmVhY3RpdmVNb2RlbDtcblx0ICAgICAgICAgIGluc3RhbmNlLmdsb2JhbFJlYWN0aXZlTW9kZWwgPSBnbG9iYWxSZWFjdGl2ZU1vZGVsO1xuXHQgICAgICAgICAgaW5zdGFuY2Uuc3BhY2VNYW5hZ2VySW5zdGFuY2UgPSBzcGFjZU1hbmFnZXJJbnN0YW5jZTtcblx0ICAgICAgICAgIGluc3RhbmNlLnNtYXJ0TGFiZWwgPSBzbWFydExhYmVsO1xuXHQgICAgICAgIH1dKTtcblx0ICAgICAgICB0aGlzLnNwYWNlTWFuYWdlckluc3RhbmNlID0gaW5zdGFuY2Uuc3BhY2VNYW5hZ2VySW5zdGFuY2U7XG5cdCAgICAgICAgdGhpcy5nbG9iYWxSZWFjdGl2ZU1vZGVsID0gaW5zdGFuY2UuZ2xvYmFsUmVhY3RpdmVNb2RlbDtcblx0ICAgICAgICB0aGlzLnN0YXJ0RHQgPSBpbnN0YW5jZS5nbG9iYWxSZWFjdGl2ZU1vZGVsLm1vZGVsWyd4LWF4aXMtdmlzaWJsZS1yYW5nZS1zdGFydCddO1xuXHQgICAgICAgIHRoaXMuZW5kRHQgPSBpbnN0YW5jZS5nbG9iYWxSZWFjdGl2ZU1vZGVsLm1vZGVsWyd4LWF4aXMtdmlzaWJsZS1yYW5nZS1lbmQnXTtcblx0ICAgICAgICB0aGlzLnN0YXJ0RGF0YXNldCA9IGluc3RhbmNlLmdsb2JhbFJlYWN0aXZlTW9kZWwubW9kZWxbJ3gtYXhpcy1hYnNvbHV0ZS1yYW5nZS1zdGFydCddO1xuXHQgICAgICAgIHRoaXMuZW5kRGF0YXNldCA9IGluc3RhbmNlLmdsb2JhbFJlYWN0aXZlTW9kZWwubW9kZWxbJ3gtYXhpcy1hYnNvbHV0ZS1yYW5nZS1lbmQnXTtcblx0ICAgICAgICB0aGlzLnRvb2xiYXJzID0gW107XG5cdCAgICAgICAgdGhpcy5tZWFzdXJlbWVudCA9IHt9O1xuXHQgICAgICAgIHRoaXMudG9vbGJhcnMucHVzaCh0aGlzLmNyZWF0ZVRvb2xiYXIoKSk7XG5cdCAgICAgICAgcmV0dXJuIHRoaXM7XG5cdCAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAga2V5OiAnY3JlYXRlVG9vbGJhcicsXG5cdCAgICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVUb29sYmFyKCkge1xuXHQgICAgICAgIHZhciB0b29sYmFyLFxuXHQgICAgICAgICAgICBzZWxmID0gdGhpcyxcblx0ICAgICAgICAgICAgZnJvbURhdGVMYWJlbCxcblx0ICAgICAgICAgICAgdG9EYXRlTGFiZWwsXG5cdCAgICAgICAgICAgIGdyb3VwLFxuXHQgICAgICAgICAgICBmcm9tRm9ybWF0dGVkRGF0ZSxcblx0ICAgICAgICAgICAgdG9Gb3JtYXR0ZWREYXRlO1xuXHRcblx0ICAgICAgICBzZWxmLmZyb21EYXRlID0ge307XG5cdCAgICAgICAgc2VsZi50b0RhdGUgPSB7fTtcblx0XG5cdCAgICAgICAgZnJvbUZvcm1hdHRlZERhdGUgPSBtb21lbnQodGhpcy5zdGFydER0LCAneCcpLmZvcm1hdCgnREQtTU0tWVlZWScpO1xuXHRcblx0ICAgICAgICB0b0Zvcm1hdHRlZERhdGUgPSBtb21lbnQodGhpcy5lbmREdCwgJ3gnKS5mb3JtYXQoJ0RELU1NLVlZWVknKTtcblx0ICAgICAgICB0b29sYmFyID0gbmV3IHRoaXMuSG9yaXpvbnRhbFRvb2xiYXIoe1xuXHQgICAgICAgICAgcGFwZXI6IHRoaXMuZ3JhcGhpY3MucGFwZXIsXG5cdCAgICAgICAgICBjaGFydDogdGhpcy5jaGFydCxcblx0ICAgICAgICAgIHNtYXJ0TGFiZWw6IHRoaXMuc21hcnRMYWJlbCxcblx0ICAgICAgICAgIGNoYXJ0Q29udGFpbmVyOiB0aGlzLmdyYXBoaWNzLmNvbnRhaW5lclxuXHQgICAgICAgIH0pO1xuXHRcblx0ICAgICAgICB0b29sYmFyLnNldENvbmZpZyh7XG5cdCAgICAgICAgICAnZmlsbCc6ICcjRkZGRkZGJyxcblx0ICAgICAgICAgICdib3JkZXJUaGlja25lc3MnOiAwXG5cdCAgICAgICAgfSk7XG5cdFxuXHQgICAgICAgIGdyb3VwID0gbmV3IHRoaXMudG9vbGJveC5Db21wb25lbnRHcm91cCh7XG5cdCAgICAgICAgICBwYXBlcjogdGhpcy5ncmFwaGljcy5wYXBlcixcblx0ICAgICAgICAgIGNoYXJ0OiB0aGlzLmNoYXJ0LFxuXHQgICAgICAgICAgc21hcnRMYWJlbDogdGhpcy5zbWFydExhYmVsLFxuXHQgICAgICAgICAgY2hhcnRDb250YWluZXI6IHRoaXMuZ3JhcGhpY3MuY29udGFpbmVyXG5cdCAgICAgICAgfSk7XG5cdFxuXHQgICAgICAgIGdyb3VwLnNldENvbmZpZyh7XG5cdCAgICAgICAgICAnZmlsbCc6ICcjRkZGRkZGJyxcblx0ICAgICAgICAgICdib3JkZXJUaGlja25lc3MnOiAwXG5cdCAgICAgICAgfSk7XG5cdFxuXHQgICAgICAgIGZyb21EYXRlTGFiZWwgPSBuZXcgdGhpcy50b29sYm94LkxhYmVsKCdGcm9tOicsIHtcblx0ICAgICAgICAgIHNtYXJ0TGFiZWw6IHRoaXMuc21hcnRMYWJlbCxcblx0ICAgICAgICAgIHBhcGVyOiB0aGlzLmdyYXBoaWNzLnBhcGVyXG5cdCAgICAgICAgfSwge1xuXHQgICAgICAgICAgdGV4dDoge1xuXHQgICAgICAgICAgICBzdHlsZToge1xuXHQgICAgICAgICAgICAgICdmb250LXNpemUnOiAnMTMnLFxuXHQgICAgICAgICAgICAgICdmb250LWZhbWlseSc6ICdcIkx1Y2lkYSBHcmFuZGVcIiwgc2Fucy1zZXJpZicsXG5cdCAgICAgICAgICAgICAgLy8gJ2ZvbnQtd2VpZ2h0JzogJ2JvbGQnLFxuXHQgICAgICAgICAgICAgICdmaWxsJzogJyM0QjRCNEInXG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9KTtcblx0XG5cdCAgICAgICAgdG9EYXRlTGFiZWwgPSBuZXcgdGhpcy50b29sYm94LkxhYmVsKCdUbzonLCB7XG5cdCAgICAgICAgICBzbWFydExhYmVsOiB0aGlzLnNtYXJ0TGFiZWwsXG5cdCAgICAgICAgICBwYXBlcjogdGhpcy5ncmFwaGljcy5wYXBlclxuXHQgICAgICAgIH0sIHtcblx0ICAgICAgICAgIHRleHQ6IHtcblx0ICAgICAgICAgICAgc3R5bGU6IHtcblx0ICAgICAgICAgICAgICAnZm9udC1zaXplJzogJzEzJyxcblx0ICAgICAgICAgICAgICAnZm9udC1mYW1pbHknOiAnXCJMdWNpZGEgR3JhbmRlXCIsIHNhbnMtc2VyaWYnLFxuXHQgICAgICAgICAgICAgIC8vICdmb250LXdlaWdodCc6ICdib2xkJyxcblx0ICAgICAgICAgICAgICAnZmlsbCc6ICcjNEI0QjRCJ1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfSk7XG5cdFxuXHQgICAgICAgIHNlbGYuZnJvbURhdGUgPSBuZXcgdGhpcy50b29sYm94LklucHV0VGV4dEJveFN5bWJvbCh7XG5cdCAgICAgICAgICB3aWR0aDogMTIwLFxuXHQgICAgICAgICAgaGVpZ2h0OiAyMlxuXHQgICAgICAgIH0sIHtcblx0ICAgICAgICAgIHBhcGVyOiB0aGlzLmdyYXBoaWNzLnBhcGVyLFxuXHQgICAgICAgICAgY2hhcnQ6IHRoaXMuY2hhcnQsXG5cdCAgICAgICAgICBzbWFydExhYmVsOiB0aGlzLnNtYXJ0TGFiZWwsXG5cdCAgICAgICAgICBjaGFydENvbnRhaW5lcjogdGhpcy5ncmFwaGljcy5jb250YWluZXJcblx0ICAgICAgICB9LCB7XG5cdCAgICAgICAgICAnc3Ryb2tlV2lkdGgnOiAxLFxuXHQgICAgICAgICAgJ3N0cm9rZSc6ICcjY2VkNWQ0Jyxcblx0ICAgICAgICAgICdzeW1ib2xTdHJva2VXaWR0aCc6IDAsXG5cdCAgICAgICAgICAncmFkaXVzJzogMixcblx0ICAgICAgICAgICdtYXJnaW4nOiB7XG5cdCAgICAgICAgICAgICdyaWdodCc6IDIyXG5cdCAgICAgICAgICB9LFxuXHQgICAgICAgICAgJ2J0blRleHRTdHlsZSc6IHtcblx0ICAgICAgICAgICAgJ2ZvbnQtZmFtaWx5JzogJ1wiTHVjaWRhIEdyYW5kZVwiLCBzYW5zLXNlcmlmJyxcblx0ICAgICAgICAgICAgJ2ZvbnRTaXplJzogMTNcblx0ICAgICAgICAgIH0sXG5cdCAgICAgICAgICAnbGFiZWwnOiBmcm9tRm9ybWF0dGVkRGF0ZSxcblx0ICAgICAgICAgIC8vICdjdXN0b21Db25maWcnOiB7XG5cdCAgICAgICAgICAvLyAgICdlcnJvcmVkJzoge1xuXHQgICAgICAgICAgLy8gICAgICdob3Zlcic6IHtcblx0ICAgICAgICAgIC8vICAgICAgICdmaWxsJzogJyNGRkVGRUYnLFxuXHQgICAgICAgICAgLy8gICAgICAgJ3N0cm9rZS13aWR0aCc6IDEsXG5cdCAgICAgICAgICAvLyAgICAgICAnc3Ryb2tlJzogJyNEMjUzNTMnXG5cdCAgICAgICAgICAvLyAgICAgfSxcblx0ICAgICAgICAgIC8vICAgICAnbm9ybWFsJzoge1xuXHQgICAgICAgICAgLy8gICAgICAgJ2ZpbGwnOiAnI0ZGRUZFRicsXG5cdCAgICAgICAgICAvLyAgICAgICAnc3Ryb2tlLXdpZHRoJzogMSxcblx0ICAgICAgICAgIC8vICAgICAgICdzdHJva2UnOiAnI0QyNTM1Mydcblx0ICAgICAgICAgIC8vICAgICB9LFxuXHQgICAgICAgICAgLy8gICAgICdwcmVzc2VkJzoge1xuXHQgICAgICAgICAgLy8gICAgICAgJ2ZpbGwnOiAnI0ZGRUZFRicsXG5cdCAgICAgICAgICAvLyAgICAgICAnc3Ryb2tlLXdpZHRoJzogMSxcblx0ICAgICAgICAgIC8vICAgICAgICdzdHJva2UnOiAnI0QyNTM1Mydcblx0ICAgICAgICAgIC8vICAgICB9XG5cdCAgICAgICAgICAvLyAgIH1cblx0ICAgICAgICAgIC8vIH0sXG5cdCAgICAgICAgICAnbGFiZWxGaWxsJzogJyM2OTY5NjknXG5cdCAgICAgICAgfSk7XG5cdFxuXHQgICAgICAgIHNlbGYuZnJvbURhdGUuc2V0U3RhdGVDb25maWcoe1xuXHQgICAgICAgICAgcHJlc3NlZDoge1xuXHQgICAgICAgICAgICBjb25maWc6IHtcblx0ICAgICAgICAgICAgICBwcmVzc2VkOiB7XG5cdCAgICAgICAgICAgICAgICAnZmlsbCc6ICcjRkZGRkZGJyxcblx0ICAgICAgICAgICAgICAgICdzdHJva2Utd2lkdGgnOiAxLFxuXHQgICAgICAgICAgICAgICAgJ3N0cm9rZSc6ICcjMUUxRjFGJ1xuXHQgICAgICAgICAgICAgIH0sXG5cdCAgICAgICAgICAgICAgbm9ybWFsOiB7XG5cdCAgICAgICAgICAgICAgICAnZmlsbCc6ICcjRkZGRkZGJyxcblx0ICAgICAgICAgICAgICAgICdzdHJva2Utd2lkdGgnOiAxLFxuXHQgICAgICAgICAgICAgICAgJ3N0cm9rZSc6ICcjMUUxRjFGJ1xuXHQgICAgICAgICAgICAgIH0sXG5cdCAgICAgICAgICAgICAgaG92ZXI6IHtcblx0ICAgICAgICAgICAgICAgICdmaWxsJzogJyNGRkZGRkYnLFxuXHQgICAgICAgICAgICAgICAgJ3N0cm9rZS13aWR0aCc6IDEsXG5cdCAgICAgICAgICAgICAgICAvLyAnc3Ryb2tlJzogJyMxRTFGMUYnXG5cdCAgICAgICAgICAgICAgICAnc3Ryb2tlJzogJyMwMDAwRkYnXG5cdCAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfSk7XG5cdFxuXHQgICAgICAgIHNlbGYudG9EYXRlID0gbmV3IHRoaXMudG9vbGJveC5JbnB1dFRleHRCb3hTeW1ib2woe1xuXHQgICAgICAgICAgd2lkdGg6IDEyMCxcblx0ICAgICAgICAgIGhlaWdodDogMjJcblx0ICAgICAgICB9LCB7XG5cdCAgICAgICAgICBwYXBlcjogdGhpcy5ncmFwaGljcy5wYXBlcixcblx0ICAgICAgICAgIGNoYXJ0OiB0aGlzLmNoYXJ0LFxuXHQgICAgICAgICAgc21hcnRMYWJlbDogdGhpcy5zbWFydExhYmVsLFxuXHQgICAgICAgICAgY2hhcnRDb250YWluZXI6IHRoaXMuZ3JhcGhpY3MuY29udGFpbmVyXG5cdCAgICAgICAgfSwge1xuXHQgICAgICAgICAgJ3N0cm9rZVdpZHRoJzogMSxcblx0ICAgICAgICAgICdzdHJva2UnOiAnI2NlZDVkNCcsXG5cdCAgICAgICAgICAnc3ltYm9sU3Ryb2tlV2lkdGgnOiAwLFxuXHQgICAgICAgICAgJ3JhZGl1cyc6IDIsXG5cdCAgICAgICAgICAnYnRuVGV4dFN0eWxlJzoge1xuXHQgICAgICAgICAgICAnZm9udC1mYW1pbHknOiAnXCJMdWNpZGEgR3JhbmRlXCIsIHNhbnMtc2VyaWYnLFxuXHQgICAgICAgICAgICAnZm9udFNpemUnOiAxM1xuXHQgICAgICAgICAgfSxcblx0ICAgICAgICAgICdsYWJlbCc6IHRvRm9ybWF0dGVkRGF0ZSxcblx0ICAgICAgICAgIC8vICdjdXN0b21Db25maWcnOiB7XG5cdCAgICAgICAgICAvLyAgICdlcnJvcmVkJzoge1xuXHQgICAgICAgICAgLy8gICAgICdob3Zlcic6IHtcblx0ICAgICAgICAgIC8vICAgICAgICdmaWxsJzogJyNGRkVGRUYnLFxuXHQgICAgICAgICAgLy8gICAgICAgJ3N0cm9rZS13aWR0aCc6IDEsXG5cdCAgICAgICAgICAvLyAgICAgICAnc3Ryb2tlJzogJyNEMjUzNTMnXG5cdCAgICAgICAgICAvLyAgICAgfSxcblx0ICAgICAgICAgIC8vICAgICAnbm9ybWFsJzoge1xuXHQgICAgICAgICAgLy8gICAgICAgJ2ZpbGwnOiAnI0ZGRUZFRicsXG5cdCAgICAgICAgICAvLyAgICAgICAnc3Ryb2tlLXdpZHRoJzogMSxcblx0ICAgICAgICAgIC8vICAgICAgICdzdHJva2UnOiAnI0QyNTM1Mydcblx0ICAgICAgICAgIC8vICAgICB9LFxuXHQgICAgICAgICAgLy8gICAgICdwcmVzc2VkJzoge1xuXHQgICAgICAgICAgLy8gICAgICAgJ2ZpbGwnOiAnI0ZGRUZFRicsXG5cdCAgICAgICAgICAvLyAgICAgICAnc3Ryb2tlLXdpZHRoJzogMSxcblx0ICAgICAgICAgIC8vICAgICAgICdzdHJva2UnOiAnI0QyNTM1Mydcblx0ICAgICAgICAgIC8vICAgICB9XG5cdCAgICAgICAgICAvLyAgIH1cblx0ICAgICAgICAgIC8vIH0sXG5cdCAgICAgICAgICAnbGFiZWxGaWxsJzogJyM2OTY5NjknXG5cdCAgICAgICAgfSk7XG5cdFxuXHQgICAgICAgIHNlbGYudG9EYXRlLnNldFN0YXRlQ29uZmlnKHtcblx0ICAgICAgICAgIHByZXNzZWQ6IHtcblx0ICAgICAgICAgICAgY29uZmlnOiB7XG5cdCAgICAgICAgICAgICAgcHJlc3NlZDoge1xuXHQgICAgICAgICAgICAgICAgJ2ZpbGwnOiAnI0ZGRkZGRicsXG5cdCAgICAgICAgICAgICAgICAnc3Ryb2tlLXdpZHRoJzogMSxcblx0ICAgICAgICAgICAgICAgICdzdHJva2UnOiAnIzFFMUYxRidcblx0ICAgICAgICAgICAgICB9LFxuXHQgICAgICAgICAgICAgIG5vcm1hbDoge1xuXHQgICAgICAgICAgICAgICAgJ2ZpbGwnOiAnI0ZGRkZGRicsXG5cdCAgICAgICAgICAgICAgICAnc3Ryb2tlLXdpZHRoJzogMSxcblx0ICAgICAgICAgICAgICAgICdzdHJva2UnOiAnIzFFMUYxRidcblx0ICAgICAgICAgICAgICB9LFxuXHQgICAgICAgICAgICAgIGhvdmVyOiB7XG5cdCAgICAgICAgICAgICAgICAnZmlsbCc6ICcjRkZGRkZGJyxcblx0ICAgICAgICAgICAgICAgICdzdHJva2Utd2lkdGgnOiAxLFxuXHQgICAgICAgICAgICAgICAgJ3N0cm9rZSc6ICcjMUUxRjFGJ1xuXHQgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH0pO1xuXHRcblx0ICAgICAgICBzZWxmLmZyb21EYXRlLmF0dGFjaEV2ZW50SGFuZGxlcnMoe1xuXHQgICAgICAgICAgY2xpY2s6IHtcblx0ICAgICAgICAgICAgZm46IGZ1bmN0aW9uIGZuKCkge1xuXHQgICAgICAgICAgICAgIHNlbGYuZnJvbURhdGUuZWRpdCgpO1xuXHQgICAgICAgICAgICAgIHNlbGYuZnJvbURhdGUudXBkYXRlVmlzdWFsKCdwcmVzc2VkJyk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgIH0sXG5cdCAgICAgICAgICB0ZXh0T25CbHVyOiBmdW5jdGlvbiB0ZXh0T25CbHVyKCkge1xuXHQgICAgICAgICAgICBzZWxmLmZyb21EYXRlLmJsdXIoKTtcblx0ICAgICAgICAgICAgc2VsZi5zdGFydERhdGUgPSBzZWxmLmZyb21EYXRlLmdldFRleHQoKTtcblx0ICAgICAgICAgICAgc2VsZi5mcm9tRGF0ZS51cGRhdGVWaXN1YWwoJ2VuYWJsZWQnKTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9KTtcblx0XG5cdCAgICAgICAgc2VsZi50b0RhdGUuYXR0YWNoRXZlbnRIYW5kbGVycyh7XG5cdCAgICAgICAgICBjbGljazoge1xuXHQgICAgICAgICAgICBmbjogZnVuY3Rpb24gZm4oKSB7XG5cdCAgICAgICAgICAgICAgc2VsZi50b0RhdGUuZWRpdCgpO1xuXHQgICAgICAgICAgICAgIHNlbGYudG9EYXRlLnVwZGF0ZVZpc3VhbCgncHJlc3NlZCcpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICB9LFxuXHQgICAgICAgICAgdGV4dE9uQmx1cjogZnVuY3Rpb24gdGV4dE9uQmx1cigpIHtcblx0ICAgICAgICAgICAgc2VsZi50b0RhdGUuYmx1cigpO1xuXHQgICAgICAgICAgICBzZWxmLmVuZERhdGUgPSBzZWxmLnRvRGF0ZS5nZXRUZXh0KCk7XG5cdCAgICAgICAgICAgIHNlbGYudG9EYXRlLnVwZGF0ZVZpc3VhbCgnZW5hYmxlZCcpO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH0pO1xuXHRcblx0ICAgICAgICAvLyBUZW1wb3JhcnkuIFJlcXVpcmVkIHRvIHJlbmRlciB0aGUgdGV4dCBib3ggY29ycmVjdGx5LiBDb21tZW50aW5nIHRoaXMgb3V0IGRpc3RvcnRzIHRvb2xib3guXG5cdCAgICAgICAgdGhpcy5TeW1ib2xTdG9yZS5yZWdpc3RlcigndGV4dEJveEljb24nLCBmdW5jdGlvbiAoeCwgeSwgcmFkLCB3LCBoLCBwYWRYLCBwYWRZKSB7XG5cdCAgICAgICAgICB2YXIgeDEgPSB4IC0gdyAvIDIgKyBwYWRYIC8gMixcblx0ICAgICAgICAgICAgICB4MiA9IHggKyB3IC8gMiAtIHBhZFggLyAyLFxuXHQgICAgICAgICAgICAgIHkxID0geSAtIGggLyAyICsgcGFkWSAvIDIsXG5cdCAgICAgICAgICAgICAgeTIgPSB5ICsgaCAvIDIgLSBwYWRZIC8gMjtcblx0XG5cdCAgICAgICAgICByZXR1cm4gWydNJywgeDEsIHkxLCAnTCcsIHgyLCB5MSwgJ0wnLCB4MiwgeTIsICdMJywgeDEsIHkyLCAnWiddO1xuXHQgICAgICAgIH0pO1xuXHRcblx0ICAgICAgICBncm91cC5hZGRTeW1ib2woZnJvbURhdGVMYWJlbCk7XG5cdCAgICAgICAgZ3JvdXAuYWRkU3ltYm9sKHNlbGYuZnJvbURhdGUpO1xuXHQgICAgICAgIGdyb3VwLmFkZFN5bWJvbCh0b0RhdGVMYWJlbCk7XG5cdCAgICAgICAgZ3JvdXAuYWRkU3ltYm9sKHNlbGYudG9EYXRlKTtcblx0ICAgICAgICB0b29sYmFyLmFkZENvbXBvbmVudChncm91cCk7XG5cdCAgICAgICAgcmV0dXJuIHRvb2xiYXI7XG5cdCAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAga2V5OiAnZ2V0TG9naWNhbFNwYWNlJyxcblx0ICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldExvZ2ljYWxTcGFjZShhdmFpbGFibGVXaWR0aCwgYXZhaWxhYmxlSGVpZ2h0KSB7XG5cdCAgICAgICAgdmFyIGxvZ2ljYWxTcGFjZSxcblx0ICAgICAgICAgICAgd2lkdGggPSAwLFxuXHQgICAgICAgICAgICBoZWlnaHQgPSAwLFxuXHQgICAgICAgICAgICBpLFxuXHQgICAgICAgICAgICBsbjtcblx0XG5cdCAgICAgICAgYXZhaWxhYmxlV2lkdGggLz0gMjtcblx0XG5cdCAgICAgICAgZm9yIChpID0gMCwgbG4gPSB0aGlzLnRvb2xiYXJzLmxlbmd0aDsgaSA8IGxuOyBpKyspIHtcblx0ICAgICAgICAgIGxvZ2ljYWxTcGFjZSA9IHRoaXMudG9vbGJhcnNbaV0uZ2V0TG9naWNhbFNwYWNlKGF2YWlsYWJsZVdpZHRoLCBhdmFpbGFibGVIZWlnaHQpO1xuXHQgICAgICAgICAgd2lkdGggPSBNYXRoLm1heChsb2dpY2FsU3BhY2Uud2lkdGgsIHdpZHRoKTtcblx0ICAgICAgICAgIGhlaWdodCArPSBsb2dpY2FsU3BhY2UuaGVpZ2h0O1xuXHQgICAgICAgICAgdGhpcy50b29sYmFyc1tpXS53aWR0aCA9IGxvZ2ljYWxTcGFjZS53aWR0aDtcblx0ICAgICAgICAgIHRoaXMudG9vbGJhcnNbaV0uaGVpZ2h0ID0gbG9naWNhbFNwYWNlLmhlaWdodDtcblx0ICAgICAgICB9XG5cdCAgICAgICAgaGVpZ2h0ICs9IHRoaXMucGFkZGluZztcblx0ICAgICAgICByZXR1cm4ge1xuXHQgICAgICAgICAgd2lkdGg6IHdpZHRoLFxuXHQgICAgICAgICAgaGVpZ2h0OiBoZWlnaHRcblx0ICAgICAgICB9O1xuXHQgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgIGtleTogJ3BsYWNlSW5DYW52YXMnLFxuXHQgICAgICB2YWx1ZTogZnVuY3Rpb24gcGxhY2VJbkNhbnZhcygpIHtcblx0ICAgICAgICB2YXIgX3NlbGYgPSB0aGlzO1xuXHQgICAgICAgIF9zZWxmLnBhZGRpbmcgPSA1O1xuXHQgICAgICAgIF9zZWxmLnNwYWNlTWFuYWdlckluc3RhbmNlLmFkZChbe1xuXHQgICAgICAgICAgbmFtZTogZnVuY3Rpb24gbmFtZSgpIHtcblx0ICAgICAgICAgICAgcmV0dXJuICdEYXRlUmFuZ2VDaG9vc2VyVG9vbGJveCc7XG5cdCAgICAgICAgICB9LFxuXHQgICAgICAgICAgcmVmOiBmdW5jdGlvbiByZWYob2JqKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBvYmpbJzAnXTtcblx0ICAgICAgICAgIH0sXG5cdCAgICAgICAgICBzZWxmOiBmdW5jdGlvbiBzZWxmKCkge1xuXHQgICAgICAgICAgICByZXR1cm4gX3NlbGY7XG5cdCAgICAgICAgICB9LFxuXHQgICAgICAgICAgcHJpb3JpdHk6IGZ1bmN0aW9uIHByaW9yaXR5KCkge1xuXHQgICAgICAgICAgICByZXR1cm4gMjtcblx0ICAgICAgICAgIH0sXG5cdCAgICAgICAgICBsYXlvdXQ6IGZ1bmN0aW9uIGxheW91dChvYmopIHtcblx0ICAgICAgICAgICAgcmV0dXJuIG9iai5pbmxpbmU7XG5cdCAgICAgICAgICB9LFxuXHQgICAgICAgICAgb3JpZW50YXRpb246IFt7XG5cdCAgICAgICAgICAgIHR5cGU6IGZ1bmN0aW9uIHR5cGUob2JqKSB7XG5cdCAgICAgICAgICAgICAgcmV0dXJuIG9iai5ob3Jpem9udGFsO1xuXHQgICAgICAgICAgICB9LFxuXHQgICAgICAgICAgICBwb3NpdGlvbjogW3tcblx0ICAgICAgICAgICAgICB0eXBlOiBmdW5jdGlvbiB0eXBlKG9iaikge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIG9iai50b3A7XG5cdCAgICAgICAgICAgICAgfSxcblx0ICAgICAgICAgICAgICBhbGlnbm1lbnQ6IFt7XG5cdCAgICAgICAgICAgICAgICB0eXBlOiBmdW5jdGlvbiB0eXBlKG9iaikge1xuXHQgICAgICAgICAgICAgICAgICByZXR1cm4gb2JqLnJpZ2h0O1xuXHQgICAgICAgICAgICAgICAgfSxcblx0ICAgICAgICAgICAgICAgIGRpbWVuc2lvbnM6IFtmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgICAgICAgIHZhciBwYXJlbnQgPSB0aGlzLmdldFBhcmVudENvbXBvbmVudEdyb3VwKCk7XG5cdCAgICAgICAgICAgICAgICAgIHJldHVybiBfc2VsZi5nZXRMb2dpY2FsU3BhY2UocGFyZW50LmdldFdpZHRoKCksIHBhcmVudC5nZXRIZWlnaHQoKSk7XG5cdCAgICAgICAgICAgICAgICB9XVxuXHQgICAgICAgICAgICAgIH1dXG5cdCAgICAgICAgICAgIH1dXG5cdCAgICAgICAgICB9XVxuXHQgICAgICAgIH1dKTtcblx0ICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICBrZXk6ICdzZXREcmF3aW5nQ29uZmlndXJhdGlvbicsXG5cdCAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZXREcmF3aW5nQ29uZmlndXJhdGlvbih4LCB5LCB3aWR0aCwgaGVpZ2h0LCBncm91cCkge1xuXHQgICAgICAgIHZhciBtZXMgPSB0aGlzLm1lYXN1cmVtZW50O1xuXHQgICAgICAgIG1lcy54ID0geDtcblx0ICAgICAgICBtZXMueSA9IHk7XG5cdCAgICAgICAgbWVzLndpZHRoID0gd2lkdGg7XG5cdCAgICAgICAgbWVzLmhlaWdodCA9IGhlaWdodDtcblx0XG5cdCAgICAgICAgdGhpcy5wYXJlbnRHcm91cCA9IGdyb3VwO1xuXHRcblx0ICAgICAgICByZXR1cm4gdGhpcztcblx0ICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICBrZXk6ICdkcmF3Jyxcblx0ICAgICAgdmFsdWU6IGZ1bmN0aW9uIGRyYXcoeCwgeSwgd2lkdGgsIGhlaWdodCwgZ3JvdXApIHtcblx0ICAgICAgICB2YXIgbWVhc3VyZW1lbnQgPSB0aGlzLm1lYXN1cmVtZW50LFxuXHQgICAgICAgICAgICB0b29sYmFycyA9IHRoaXMudG9vbGJhcnMsXG5cdCAgICAgICAgICAgIGxuLFxuXHQgICAgICAgICAgICBpLFxuXHQgICAgICAgICAgICB0b29sYmFyLFxuXHQgICAgICAgICAgICBtb2RlbCA9IHRoaXMuZ2xvYmFsUmVhY3RpdmVNb2RlbCxcblx0ICAgICAgICAgICAgc2VsZiA9IHRoaXM7XG5cdFxuXHQgICAgICAgIHggPSB4ID09PSB1bmRlZmluZWQgPyBtZWFzdXJlbWVudC54IDogeDtcblx0ICAgICAgICB5ID0geSA9PT0gdW5kZWZpbmVkID8gbWVhc3VyZW1lbnQueSA6IHk7XG5cdCAgICAgICAgd2lkdGggPSB3aWR0aCA9PT0gdW5kZWZpbmVkID8gbWVhc3VyZW1lbnQud2lkdGggOiB3aWR0aDtcblx0ICAgICAgICBoZWlnaHQgPSBoZWlnaHQgPT09IHVuZGVmaW5lZCA/IG1lYXN1cmVtZW50LmhlaWdodCA6IGhlaWdodDtcblx0ICAgICAgICBncm91cCA9IGdyb3VwID09PSB1bmRlZmluZWQgPyB0aGlzLnBhcmVudEdyb3VwIDogZ3JvdXA7XG5cdCAgICAgICAgaWYgKHdpZHRoICYmIGhlaWdodCkge1xuXHQgICAgICAgICAgZm9yIChpID0gMCwgbG4gPSB0b29sYmFycy5sZW5ndGg7IGkgPCBsbjsgaSsrKSB7XG5cdCAgICAgICAgICAgIHRvb2xiYXIgPSB0b29sYmFyc1tpXTtcblx0ICAgICAgICAgICAgdG9vbGJhci5kcmF3KHgsIHksIGdyb3VwKTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIG1vZGVsLm9uUHJvcHNDaGFuZ2UoWyd4LWF4aXMtdmlzaWJsZS1yYW5nZS1zdGFydCcsICd4LWF4aXMtdmlzaWJsZS1yYW5nZS1lbmQnXSwgZnVuY3Rpb24gKHN0YXJ0LCBlbmQpIHtcblx0ICAgICAgICAgIC8vIHNlbGYuZnJvbURhdGUuYmx1cihuZXcgRGF0ZShzdGFydFsxXSkudG9Mb2NhbGVEYXRlU3RyaW5nKCkpO1xuXHQgICAgICAgICAgLy8gc2VsZi50b0RhdGUuYmx1cihuZXcgRGF0ZShlbmRbMV0pLnRvTG9jYWxlRGF0ZVN0cmluZygpKTtcblx0ICAgICAgICAgIHNlbGYuZnJvbURhdGUuYmx1cihtb21lbnQoc3RhcnRbMV0sICd4JykuZm9ybWF0KCdERC1NTS1ZWVlZJykpO1xuXHQgICAgICAgICAgc2VsZi50b0RhdGUuYmx1cihtb21lbnQoZW5kWzFdLCAneCcpLmZvcm1hdCgnREQtTU0tWVlZWScpKTtcblx0ICAgICAgICB9KTtcblx0ICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICBrZXk6ICdzdGFydERhdGUnLFxuXHQgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcblx0ICAgICAgICByZXR1cm4gdGhpcy5zdGFydER0O1xuXHQgICAgICB9LFxuXHQgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChzdGFydER0KSB7XG5cdCAgICAgICAgdmFyIHN0YXJ0VGltZXN0YW1wID0gcGFyc2VJbnQobW9tZW50KHN0YXJ0RHQsICdERC1NTS1ZWVlZJykuZm9ybWF0KCd4JykpLFxuXHQgICAgICAgICAgICBhYnNvbHV0ZVN0YXJ0ID0gdGhpcy5nbG9iYWxSZWFjdGl2ZU1vZGVsLm1vZGVsWyd4LWF4aXMtYWJzb2x1dGUtcmFuZ2Utc3RhcnQnXTtcblx0ICAgICAgICBpZiAoc3RhcnRUaW1lc3RhbXAgPD0gdGhpcy5lbmREdCAmJiBzdGFydFRpbWVzdGFtcCA+PSBhYnNvbHV0ZVN0YXJ0KSB7XG5cdCAgICAgICAgICB0aGlzLnN0YXJ0RHQgPSBzdGFydFRpbWVzdGFtcDtcblx0ICAgICAgICAgIHRoaXMuZ2xvYmFsUmVhY3RpdmVNb2RlbC5tb2RlbFsneC1heGlzLXZpc2libGUtcmFuZ2Utc3RhcnQnXSA9IHRoaXMuc3RhcnREdDtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgLy8gdGhpcy5mcm9tRGF0ZS51cGRhdGVWaXN1YWwoJ2Vycm9yZWQnKTtcblx0ICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Zyb20gRGF0ZSBlcnJvciBzdGF0ZSEnKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAga2V5OiAnZW5kRGF0ZScsXG5cdCAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuXHQgICAgICAgIHJldHVybiB0aGlzLmVuZER0O1xuXHQgICAgICB9LFxuXHQgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChlbmREdCkge1xuXHQgICAgICAgIHZhciBlbmRUaW1lc3RhbXAgPSBwYXJzZUludChtb21lbnQoZW5kRHQsICdERC1NTS1ZWVlZJykuZm9ybWF0KCd4JykpLFxuXHQgICAgICAgICAgICBhYnNvbHV0ZUVuZCA9IHRoaXMuZ2xvYmFsUmVhY3RpdmVNb2RlbC5tb2RlbFsneC1heGlzLWFic29sdXRlLXJhbmdlLWVuZCddO1xuXHQgICAgICAgIGlmIChlbmRUaW1lc3RhbXAgPj0gdGhpcy5zdGFydER0ICYmIGVuZFRpbWVzdGFtcCA8PSBhYnNvbHV0ZUVuZCkge1xuXHQgICAgICAgICAgdGhpcy5lbmREdCA9IGVuZFRpbWVzdGFtcDtcblx0ICAgICAgICAgIHRoaXMuZ2xvYmFsUmVhY3RpdmVNb2RlbC5tb2RlbFsneC1heGlzLXZpc2libGUtcmFuZ2UtZW5kJ10gPSB0aGlzLmVuZER0O1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAvLyB0aGlzLnRvRGF0ZS51cGRhdGVWaXN1YWwoJ2Vycm9yZWQnKTtcblx0ICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1RvIERhdGUgZXJyb3Igc3RhdGUhJyk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9XSk7XG5cdFxuXHQgICAgcmV0dXJuIERhdGVSYW5nZTtcblx0ICB9KCk7XG5cdFxuXHQgIHJldHVybiBEYXRlUmFuZ2U7XG5cdH07XG5cbi8qKiovIH0sXG4vKiAzICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24obW9kdWxlKSB7Ly8hIG1vbWVudC5qc1xuXHQvLyEgdmVyc2lvbiA6IDIuMTcuMFxuXHQvLyEgYXV0aG9ycyA6IFRpbSBXb29kLCBJc2tyZW4gQ2hlcm5ldiwgTW9tZW50LmpzIGNvbnRyaWJ1dG9yc1xuXHQvLyEgbGljZW5zZSA6IE1JVFxuXHQvLyEgbW9tZW50anMuY29tXG5cdFxuXHQ7KGZ1bmN0aW9uIChnbG9iYWwsIGZhY3RvcnkpIHtcblx0ICAgICB0cnVlID8gbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCkgOlxuXHQgICAgdHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kID8gZGVmaW5lKGZhY3RvcnkpIDpcblx0ICAgIGdsb2JhbC5tb21lbnQgPSBmYWN0b3J5KClcblx0fSh0aGlzLCAoZnVuY3Rpb24gKCkgeyAndXNlIHN0cmljdCc7XG5cdFxuXHR2YXIgaG9va0NhbGxiYWNrO1xuXHRcblx0ZnVuY3Rpb24gaG9va3MgKCkge1xuXHQgICAgcmV0dXJuIGhvb2tDYWxsYmFjay5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuXHR9XG5cdFxuXHQvLyBUaGlzIGlzIGRvbmUgdG8gcmVnaXN0ZXIgdGhlIG1ldGhvZCBjYWxsZWQgd2l0aCBtb21lbnQoKVxuXHQvLyB3aXRob3V0IGNyZWF0aW5nIGNpcmN1bGFyIGRlcGVuZGVuY2llcy5cblx0ZnVuY3Rpb24gc2V0SG9va0NhbGxiYWNrIChjYWxsYmFjaykge1xuXHQgICAgaG9va0NhbGxiYWNrID0gY2FsbGJhY2s7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGlzQXJyYXkoaW5wdXQpIHtcblx0ICAgIHJldHVybiBpbnB1dCBpbnN0YW5jZW9mIEFycmF5IHx8IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChpbnB1dCkgPT09ICdbb2JqZWN0IEFycmF5XSc7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGlzT2JqZWN0KGlucHV0KSB7XG5cdCAgICAvLyBJRTggd2lsbCB0cmVhdCB1bmRlZmluZWQgYW5kIG51bGwgYXMgb2JqZWN0IGlmIGl0IHdhc24ndCBmb3Jcblx0ICAgIC8vIGlucHV0ICE9IG51bGxcblx0ICAgIHJldHVybiBpbnB1dCAhPSBudWxsICYmIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChpbnB1dCkgPT09ICdbb2JqZWN0IE9iamVjdF0nO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBpc09iamVjdEVtcHR5KG9iaikge1xuXHQgICAgdmFyIGs7XG5cdCAgICBmb3IgKGsgaW4gb2JqKSB7XG5cdCAgICAgICAgLy8gZXZlbiBpZiBpdHMgbm90IG93biBwcm9wZXJ0eSBJJ2Qgc3RpbGwgY2FsbCBpdCBub24tZW1wdHlcblx0ICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gdHJ1ZTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gaXNOdW1iZXIoaW5wdXQpIHtcblx0ICAgIHJldHVybiB0eXBlb2YgaW5wdXQgPT09ICdudW1iZXInIHx8IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChpbnB1dCkgPT09ICdbb2JqZWN0IE51bWJlcl0nO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBpc0RhdGUoaW5wdXQpIHtcblx0ICAgIHJldHVybiBpbnB1dCBpbnN0YW5jZW9mIERhdGUgfHwgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGlucHV0KSA9PT0gJ1tvYmplY3QgRGF0ZV0nO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBtYXAoYXJyLCBmbikge1xuXHQgICAgdmFyIHJlcyA9IFtdLCBpO1xuXHQgICAgZm9yIChpID0gMDsgaSA8IGFyci5sZW5ndGg7ICsraSkge1xuXHQgICAgICAgIHJlcy5wdXNoKGZuKGFycltpXSwgaSkpO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIHJlcztcblx0fVxuXHRcblx0ZnVuY3Rpb24gaGFzT3duUHJvcChhLCBiKSB7XG5cdCAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGEsIGIpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBleHRlbmQoYSwgYikge1xuXHQgICAgZm9yICh2YXIgaSBpbiBiKSB7XG5cdCAgICAgICAgaWYgKGhhc093blByb3AoYiwgaSkpIHtcblx0ICAgICAgICAgICAgYVtpXSA9IGJbaV07XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIGlmIChoYXNPd25Qcm9wKGIsICd0b1N0cmluZycpKSB7XG5cdCAgICAgICAgYS50b1N0cmluZyA9IGIudG9TdHJpbmc7XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKGhhc093blByb3AoYiwgJ3ZhbHVlT2YnKSkge1xuXHQgICAgICAgIGEudmFsdWVPZiA9IGIudmFsdWVPZjtcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gYTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gY3JlYXRlVVRDIChpbnB1dCwgZm9ybWF0LCBsb2NhbGUsIHN0cmljdCkge1xuXHQgICAgcmV0dXJuIGNyZWF0ZUxvY2FsT3JVVEMoaW5wdXQsIGZvcm1hdCwgbG9jYWxlLCBzdHJpY3QsIHRydWUpLnV0YygpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBkZWZhdWx0UGFyc2luZ0ZsYWdzKCkge1xuXHQgICAgLy8gV2UgbmVlZCB0byBkZWVwIGNsb25lIHRoaXMgb2JqZWN0LlxuXHQgICAgcmV0dXJuIHtcblx0ICAgICAgICBlbXB0eSAgICAgICAgICAgOiBmYWxzZSxcblx0ICAgICAgICB1bnVzZWRUb2tlbnMgICAgOiBbXSxcblx0ICAgICAgICB1bnVzZWRJbnB1dCAgICAgOiBbXSxcblx0ICAgICAgICBvdmVyZmxvdyAgICAgICAgOiAtMixcblx0ICAgICAgICBjaGFyc0xlZnRPdmVyICAgOiAwLFxuXHQgICAgICAgIG51bGxJbnB1dCAgICAgICA6IGZhbHNlLFxuXHQgICAgICAgIGludmFsaWRNb250aCAgICA6IG51bGwsXG5cdCAgICAgICAgaW52YWxpZEZvcm1hdCAgIDogZmFsc2UsXG5cdCAgICAgICAgdXNlckludmFsaWRhdGVkIDogZmFsc2UsXG5cdCAgICAgICAgaXNvICAgICAgICAgICAgIDogZmFsc2UsXG5cdCAgICAgICAgcGFyc2VkRGF0ZVBhcnRzIDogW10sXG5cdCAgICAgICAgbWVyaWRpZW0gICAgICAgIDogbnVsbFxuXHQgICAgfTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gZ2V0UGFyc2luZ0ZsYWdzKG0pIHtcblx0ICAgIGlmIChtLl9wZiA9PSBudWxsKSB7XG5cdCAgICAgICAgbS5fcGYgPSBkZWZhdWx0UGFyc2luZ0ZsYWdzKCk7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gbS5fcGY7XG5cdH1cblx0XG5cdHZhciBzb21lO1xuXHRpZiAoQXJyYXkucHJvdG90eXBlLnNvbWUpIHtcblx0ICAgIHNvbWUgPSBBcnJheS5wcm90b3R5cGUuc29tZTtcblx0fSBlbHNlIHtcblx0ICAgIHNvbWUgPSBmdW5jdGlvbiAoZnVuKSB7XG5cdCAgICAgICAgdmFyIHQgPSBPYmplY3QodGhpcyk7XG5cdCAgICAgICAgdmFyIGxlbiA9IHQubGVuZ3RoID4+PiAwO1xuXHRcblx0ICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG5cdCAgICAgICAgICAgIGlmIChpIGluIHQgJiYgZnVuLmNhbGwodGhpcywgdFtpXSwgaSwgdCkpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICB9O1xuXHR9XG5cdFxuXHR2YXIgc29tZSQxID0gc29tZTtcblx0XG5cdGZ1bmN0aW9uIGlzVmFsaWQobSkge1xuXHQgICAgaWYgKG0uX2lzVmFsaWQgPT0gbnVsbCkge1xuXHQgICAgICAgIHZhciBmbGFncyA9IGdldFBhcnNpbmdGbGFncyhtKTtcblx0ICAgICAgICB2YXIgcGFyc2VkUGFydHMgPSBzb21lJDEuY2FsbChmbGFncy5wYXJzZWREYXRlUGFydHMsIGZ1bmN0aW9uIChpKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBpICE9IG51bGw7XG5cdCAgICAgICAgfSk7XG5cdCAgICAgICAgdmFyIGlzTm93VmFsaWQgPSAhaXNOYU4obS5fZC5nZXRUaW1lKCkpICYmXG5cdCAgICAgICAgICAgIGZsYWdzLm92ZXJmbG93IDwgMCAmJlxuXHQgICAgICAgICAgICAhZmxhZ3MuZW1wdHkgJiZcblx0ICAgICAgICAgICAgIWZsYWdzLmludmFsaWRNb250aCAmJlxuXHQgICAgICAgICAgICAhZmxhZ3MuaW52YWxpZFdlZWtkYXkgJiZcblx0ICAgICAgICAgICAgIWZsYWdzLm51bGxJbnB1dCAmJlxuXHQgICAgICAgICAgICAhZmxhZ3MuaW52YWxpZEZvcm1hdCAmJlxuXHQgICAgICAgICAgICAhZmxhZ3MudXNlckludmFsaWRhdGVkICYmXG5cdCAgICAgICAgICAgICghZmxhZ3MubWVyaWRpZW0gfHwgKGZsYWdzLm1lcmlkaWVtICYmIHBhcnNlZFBhcnRzKSk7XG5cdFxuXHQgICAgICAgIGlmIChtLl9zdHJpY3QpIHtcblx0ICAgICAgICAgICAgaXNOb3dWYWxpZCA9IGlzTm93VmFsaWQgJiZcblx0ICAgICAgICAgICAgICAgIGZsYWdzLmNoYXJzTGVmdE92ZXIgPT09IDAgJiZcblx0ICAgICAgICAgICAgICAgIGZsYWdzLnVudXNlZFRva2Vucy5sZW5ndGggPT09IDAgJiZcblx0ICAgICAgICAgICAgICAgIGZsYWdzLmJpZ0hvdXIgPT09IHVuZGVmaW5lZDtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIGlmIChPYmplY3QuaXNGcm96ZW4gPT0gbnVsbCB8fCAhT2JqZWN0LmlzRnJvemVuKG0pKSB7XG5cdCAgICAgICAgICAgIG0uX2lzVmFsaWQgPSBpc05vd1ZhbGlkO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBlbHNlIHtcblx0ICAgICAgICAgICAgcmV0dXJuIGlzTm93VmFsaWQ7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHQgICAgcmV0dXJuIG0uX2lzVmFsaWQ7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGNyZWF0ZUludmFsaWQgKGZsYWdzKSB7XG5cdCAgICB2YXIgbSA9IGNyZWF0ZVVUQyhOYU4pO1xuXHQgICAgaWYgKGZsYWdzICE9IG51bGwpIHtcblx0ICAgICAgICBleHRlbmQoZ2V0UGFyc2luZ0ZsYWdzKG0pLCBmbGFncyk7XG5cdCAgICB9XG5cdCAgICBlbHNlIHtcblx0ICAgICAgICBnZXRQYXJzaW5nRmxhZ3MobSkudXNlckludmFsaWRhdGVkID0gdHJ1ZTtcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gbTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gaXNVbmRlZmluZWQoaW5wdXQpIHtcblx0ICAgIHJldHVybiBpbnB1dCA9PT0gdm9pZCAwO1xuXHR9XG5cdFxuXHQvLyBQbHVnaW5zIHRoYXQgYWRkIHByb3BlcnRpZXMgc2hvdWxkIGFsc28gYWRkIHRoZSBrZXkgaGVyZSAobnVsbCB2YWx1ZSksXG5cdC8vIHNvIHdlIGNhbiBwcm9wZXJseSBjbG9uZSBvdXJzZWx2ZXMuXG5cdHZhciBtb21lbnRQcm9wZXJ0aWVzID0gaG9va3MubW9tZW50UHJvcGVydGllcyA9IFtdO1xuXHRcblx0ZnVuY3Rpb24gY29weUNvbmZpZyh0bywgZnJvbSkge1xuXHQgICAgdmFyIGksIHByb3AsIHZhbDtcblx0XG5cdCAgICBpZiAoIWlzVW5kZWZpbmVkKGZyb20uX2lzQU1vbWVudE9iamVjdCkpIHtcblx0ICAgICAgICB0by5faXNBTW9tZW50T2JqZWN0ID0gZnJvbS5faXNBTW9tZW50T2JqZWN0O1xuXHQgICAgfVxuXHQgICAgaWYgKCFpc1VuZGVmaW5lZChmcm9tLl9pKSkge1xuXHQgICAgICAgIHRvLl9pID0gZnJvbS5faTtcblx0ICAgIH1cblx0ICAgIGlmICghaXNVbmRlZmluZWQoZnJvbS5fZikpIHtcblx0ICAgICAgICB0by5fZiA9IGZyb20uX2Y7XG5cdCAgICB9XG5cdCAgICBpZiAoIWlzVW5kZWZpbmVkKGZyb20uX2wpKSB7XG5cdCAgICAgICAgdG8uX2wgPSBmcm9tLl9sO1xuXHQgICAgfVxuXHQgICAgaWYgKCFpc1VuZGVmaW5lZChmcm9tLl9zdHJpY3QpKSB7XG5cdCAgICAgICAgdG8uX3N0cmljdCA9IGZyb20uX3N0cmljdDtcblx0ICAgIH1cblx0ICAgIGlmICghaXNVbmRlZmluZWQoZnJvbS5fdHptKSkge1xuXHQgICAgICAgIHRvLl90em0gPSBmcm9tLl90em07XG5cdCAgICB9XG5cdCAgICBpZiAoIWlzVW5kZWZpbmVkKGZyb20uX2lzVVRDKSkge1xuXHQgICAgICAgIHRvLl9pc1VUQyA9IGZyb20uX2lzVVRDO1xuXHQgICAgfVxuXHQgICAgaWYgKCFpc1VuZGVmaW5lZChmcm9tLl9vZmZzZXQpKSB7XG5cdCAgICAgICAgdG8uX29mZnNldCA9IGZyb20uX29mZnNldDtcblx0ICAgIH1cblx0ICAgIGlmICghaXNVbmRlZmluZWQoZnJvbS5fcGYpKSB7XG5cdCAgICAgICAgdG8uX3BmID0gZ2V0UGFyc2luZ0ZsYWdzKGZyb20pO1xuXHQgICAgfVxuXHQgICAgaWYgKCFpc1VuZGVmaW5lZChmcm9tLl9sb2NhbGUpKSB7XG5cdCAgICAgICAgdG8uX2xvY2FsZSA9IGZyb20uX2xvY2FsZTtcblx0ICAgIH1cblx0XG5cdCAgICBpZiAobW9tZW50UHJvcGVydGllcy5sZW5ndGggPiAwKSB7XG5cdCAgICAgICAgZm9yIChpIGluIG1vbWVudFByb3BlcnRpZXMpIHtcblx0ICAgICAgICAgICAgcHJvcCA9IG1vbWVudFByb3BlcnRpZXNbaV07XG5cdCAgICAgICAgICAgIHZhbCA9IGZyb21bcHJvcF07XG5cdCAgICAgICAgICAgIGlmICghaXNVbmRlZmluZWQodmFsKSkge1xuXHQgICAgICAgICAgICAgICAgdG9bcHJvcF0gPSB2YWw7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIHRvO1xuXHR9XG5cdFxuXHR2YXIgdXBkYXRlSW5Qcm9ncmVzcyA9IGZhbHNlO1xuXHRcblx0Ly8gTW9tZW50IHByb3RvdHlwZSBvYmplY3Rcblx0ZnVuY3Rpb24gTW9tZW50KGNvbmZpZykge1xuXHQgICAgY29weUNvbmZpZyh0aGlzLCBjb25maWcpO1xuXHQgICAgdGhpcy5fZCA9IG5ldyBEYXRlKGNvbmZpZy5fZCAhPSBudWxsID8gY29uZmlnLl9kLmdldFRpbWUoKSA6IE5hTik7XG5cdCAgICBpZiAoIXRoaXMuaXNWYWxpZCgpKSB7XG5cdCAgICAgICAgdGhpcy5fZCA9IG5ldyBEYXRlKE5hTik7XG5cdCAgICB9XG5cdCAgICAvLyBQcmV2ZW50IGluZmluaXRlIGxvb3AgaW4gY2FzZSB1cGRhdGVPZmZzZXQgY3JlYXRlcyBuZXcgbW9tZW50XG5cdCAgICAvLyBvYmplY3RzLlxuXHQgICAgaWYgKHVwZGF0ZUluUHJvZ3Jlc3MgPT09IGZhbHNlKSB7XG5cdCAgICAgICAgdXBkYXRlSW5Qcm9ncmVzcyA9IHRydWU7XG5cdCAgICAgICAgaG9va3MudXBkYXRlT2Zmc2V0KHRoaXMpO1xuXHQgICAgICAgIHVwZGF0ZUluUHJvZ3Jlc3MgPSBmYWxzZTtcblx0ICAgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gaXNNb21lbnQgKG9iaikge1xuXHQgICAgcmV0dXJuIG9iaiBpbnN0YW5jZW9mIE1vbWVudCB8fCAob2JqICE9IG51bGwgJiYgb2JqLl9pc0FNb21lbnRPYmplY3QgIT0gbnVsbCk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGFic0Zsb29yIChudW1iZXIpIHtcblx0ICAgIGlmIChudW1iZXIgPCAwKSB7XG5cdCAgICAgICAgLy8gLTAgLT4gMFxuXHQgICAgICAgIHJldHVybiBNYXRoLmNlaWwobnVtYmVyKSB8fCAwO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihudW1iZXIpO1xuXHQgICAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiB0b0ludChhcmd1bWVudEZvckNvZXJjaW9uKSB7XG5cdCAgICB2YXIgY29lcmNlZE51bWJlciA9ICthcmd1bWVudEZvckNvZXJjaW9uLFxuXHQgICAgICAgIHZhbHVlID0gMDtcblx0XG5cdCAgICBpZiAoY29lcmNlZE51bWJlciAhPT0gMCAmJiBpc0Zpbml0ZShjb2VyY2VkTnVtYmVyKSkge1xuXHQgICAgICAgIHZhbHVlID0gYWJzRmxvb3IoY29lcmNlZE51bWJlcik7XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIHZhbHVlO1xuXHR9XG5cdFxuXHQvLyBjb21wYXJlIHR3byBhcnJheXMsIHJldHVybiB0aGUgbnVtYmVyIG9mIGRpZmZlcmVuY2VzXG5cdGZ1bmN0aW9uIGNvbXBhcmVBcnJheXMoYXJyYXkxLCBhcnJheTIsIGRvbnRDb252ZXJ0KSB7XG5cdCAgICB2YXIgbGVuID0gTWF0aC5taW4oYXJyYXkxLmxlbmd0aCwgYXJyYXkyLmxlbmd0aCksXG5cdCAgICAgICAgbGVuZ3RoRGlmZiA9IE1hdGguYWJzKGFycmF5MS5sZW5ndGggLSBhcnJheTIubGVuZ3RoKSxcblx0ICAgICAgICBkaWZmcyA9IDAsXG5cdCAgICAgICAgaTtcblx0ICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkrKykge1xuXHQgICAgICAgIGlmICgoZG9udENvbnZlcnQgJiYgYXJyYXkxW2ldICE9PSBhcnJheTJbaV0pIHx8XG5cdCAgICAgICAgICAgICghZG9udENvbnZlcnQgJiYgdG9JbnQoYXJyYXkxW2ldKSAhPT0gdG9JbnQoYXJyYXkyW2ldKSkpIHtcblx0ICAgICAgICAgICAgZGlmZnMrKztcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdCAgICByZXR1cm4gZGlmZnMgKyBsZW5ndGhEaWZmO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiB3YXJuKG1zZykge1xuXHQgICAgaWYgKGhvb2tzLnN1cHByZXNzRGVwcmVjYXRpb25XYXJuaW5ncyA9PT0gZmFsc2UgJiZcblx0ICAgICAgICAgICAgKHR5cGVvZiBjb25zb2xlICE9PSAgJ3VuZGVmaW5lZCcpICYmIGNvbnNvbGUud2Fybikge1xuXHQgICAgICAgIGNvbnNvbGUud2FybignRGVwcmVjYXRpb24gd2FybmluZzogJyArIG1zZyk7XG5cdCAgICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGRlcHJlY2F0ZShtc2csIGZuKSB7XG5cdCAgICB2YXIgZmlyc3RUaW1lID0gdHJ1ZTtcblx0XG5cdCAgICByZXR1cm4gZXh0ZW5kKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICBpZiAoaG9va3MuZGVwcmVjYXRpb25IYW5kbGVyICE9IG51bGwpIHtcblx0ICAgICAgICAgICAgaG9va3MuZGVwcmVjYXRpb25IYW5kbGVyKG51bGwsIG1zZyk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmIChmaXJzdFRpbWUpIHtcblx0ICAgICAgICAgICAgdmFyIGFyZ3MgPSBbXTtcblx0ICAgICAgICAgICAgdmFyIGFyZztcblx0ICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICAgICAgICAgIGFyZyA9ICcnO1xuXHQgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBhcmd1bWVudHNbaV0gPT09ICdvYmplY3QnKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgYXJnICs9ICdcXG5bJyArIGkgKyAnXSAnO1xuXHQgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiBhcmd1bWVudHNbMF0pIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgYXJnICs9IGtleSArICc6ICcgKyBhcmd1bWVudHNbMF1ba2V5XSArICcsICc7XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgICAgIGFyZyA9IGFyZy5zbGljZSgwLCAtMik7IC8vIFJlbW92ZSB0cmFpbGluZyBjb21tYSBhbmQgc3BhY2Vcblx0ICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICAgICAgYXJnID0gYXJndW1lbnRzW2ldO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgYXJncy5wdXNoKGFyZyk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgd2Fybihtc2cgKyAnXFxuQXJndW1lbnRzOiAnICsgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJncykuam9pbignJykgKyAnXFxuJyArIChuZXcgRXJyb3IoKSkuc3RhY2spO1xuXHQgICAgICAgICAgICBmaXJzdFRpbWUgPSBmYWxzZTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdCAgICB9LCBmbik7XG5cdH1cblx0XG5cdHZhciBkZXByZWNhdGlvbnMgPSB7fTtcblx0XG5cdGZ1bmN0aW9uIGRlcHJlY2F0ZVNpbXBsZShuYW1lLCBtc2cpIHtcblx0ICAgIGlmIChob29rcy5kZXByZWNhdGlvbkhhbmRsZXIgIT0gbnVsbCkge1xuXHQgICAgICAgIGhvb2tzLmRlcHJlY2F0aW9uSGFuZGxlcihuYW1lLCBtc2cpO1xuXHQgICAgfVxuXHQgICAgaWYgKCFkZXByZWNhdGlvbnNbbmFtZV0pIHtcblx0ICAgICAgICB3YXJuKG1zZyk7XG5cdCAgICAgICAgZGVwcmVjYXRpb25zW25hbWVdID0gdHJ1ZTtcblx0ICAgIH1cblx0fVxuXHRcblx0aG9va3Muc3VwcHJlc3NEZXByZWNhdGlvbldhcm5pbmdzID0gZmFsc2U7XG5cdGhvb2tzLmRlcHJlY2F0aW9uSGFuZGxlciA9IG51bGw7XG5cdFxuXHRmdW5jdGlvbiBpc0Z1bmN0aW9uKGlucHV0KSB7XG5cdCAgICByZXR1cm4gaW5wdXQgaW5zdGFuY2VvZiBGdW5jdGlvbiB8fCBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoaW5wdXQpID09PSAnW29iamVjdCBGdW5jdGlvbl0nO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBzZXQgKGNvbmZpZykge1xuXHQgICAgdmFyIHByb3AsIGk7XG5cdCAgICBmb3IgKGkgaW4gY29uZmlnKSB7XG5cdCAgICAgICAgcHJvcCA9IGNvbmZpZ1tpXTtcblx0ICAgICAgICBpZiAoaXNGdW5jdGlvbihwcm9wKSkge1xuXHQgICAgICAgICAgICB0aGlzW2ldID0gcHJvcDtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICB0aGlzWydfJyArIGldID0gcHJvcDtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdCAgICB0aGlzLl9jb25maWcgPSBjb25maWc7XG5cdCAgICAvLyBMZW5pZW50IG9yZGluYWwgcGFyc2luZyBhY2NlcHRzIGp1c3QgYSBudW1iZXIgaW4gYWRkaXRpb24gdG9cblx0ICAgIC8vIG51bWJlciArIChwb3NzaWJseSkgc3R1ZmYgY29taW5nIGZyb20gX29yZGluYWxQYXJzZUxlbmllbnQuXG5cdCAgICB0aGlzLl9vcmRpbmFsUGFyc2VMZW5pZW50ID0gbmV3IFJlZ0V4cCh0aGlzLl9vcmRpbmFsUGFyc2Uuc291cmNlICsgJ3wnICsgKC9cXGR7MSwyfS8pLnNvdXJjZSk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIG1lcmdlQ29uZmlncyhwYXJlbnRDb25maWcsIGNoaWxkQ29uZmlnKSB7XG5cdCAgICB2YXIgcmVzID0gZXh0ZW5kKHt9LCBwYXJlbnRDb25maWcpLCBwcm9wO1xuXHQgICAgZm9yIChwcm9wIGluIGNoaWxkQ29uZmlnKSB7XG5cdCAgICAgICAgaWYgKGhhc093blByb3AoY2hpbGRDb25maWcsIHByb3ApKSB7XG5cdCAgICAgICAgICAgIGlmIChpc09iamVjdChwYXJlbnRDb25maWdbcHJvcF0pICYmIGlzT2JqZWN0KGNoaWxkQ29uZmlnW3Byb3BdKSkge1xuXHQgICAgICAgICAgICAgICAgcmVzW3Byb3BdID0ge307XG5cdCAgICAgICAgICAgICAgICBleHRlbmQocmVzW3Byb3BdLCBwYXJlbnRDb25maWdbcHJvcF0pO1xuXHQgICAgICAgICAgICAgICAgZXh0ZW5kKHJlc1twcm9wXSwgY2hpbGRDb25maWdbcHJvcF0pO1xuXHQgICAgICAgICAgICB9IGVsc2UgaWYgKGNoaWxkQ29uZmlnW3Byb3BdICE9IG51bGwpIHtcblx0ICAgICAgICAgICAgICAgIHJlc1twcm9wXSA9IGNoaWxkQ29uZmlnW3Byb3BdO1xuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgZGVsZXRlIHJlc1twcm9wXTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgIH1cblx0ICAgIGZvciAocHJvcCBpbiBwYXJlbnRDb25maWcpIHtcblx0ICAgICAgICBpZiAoaGFzT3duUHJvcChwYXJlbnRDb25maWcsIHByb3ApICYmXG5cdCAgICAgICAgICAgICAgICAhaGFzT3duUHJvcChjaGlsZENvbmZpZywgcHJvcCkgJiZcblx0ICAgICAgICAgICAgICAgIGlzT2JqZWN0KHBhcmVudENvbmZpZ1twcm9wXSkpIHtcblx0ICAgICAgICAgICAgLy8gbWFrZSBzdXJlIGNoYW5nZXMgdG8gcHJvcGVydGllcyBkb24ndCBtb2RpZnkgcGFyZW50IGNvbmZpZ1xuXHQgICAgICAgICAgICByZXNbcHJvcF0gPSBleHRlbmQoe30sIHJlc1twcm9wXSk7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHQgICAgcmV0dXJuIHJlcztcblx0fVxuXHRcblx0ZnVuY3Rpb24gTG9jYWxlKGNvbmZpZykge1xuXHQgICAgaWYgKGNvbmZpZyAhPSBudWxsKSB7XG5cdCAgICAgICAgdGhpcy5zZXQoY29uZmlnKTtcblx0ICAgIH1cblx0fVxuXHRcblx0dmFyIGtleXM7XG5cdFxuXHRpZiAoT2JqZWN0LmtleXMpIHtcblx0ICAgIGtleXMgPSBPYmplY3Qua2V5cztcblx0fSBlbHNlIHtcblx0ICAgIGtleXMgPSBmdW5jdGlvbiAob2JqKSB7XG5cdCAgICAgICAgdmFyIGksIHJlcyA9IFtdO1xuXHQgICAgICAgIGZvciAoaSBpbiBvYmopIHtcblx0ICAgICAgICAgICAgaWYgKGhhc093blByb3Aob2JqLCBpKSkge1xuXHQgICAgICAgICAgICAgICAgcmVzLnB1c2goaSk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIHJlcztcblx0ICAgIH07XG5cdH1cblx0XG5cdHZhciBrZXlzJDEgPSBrZXlzO1xuXHRcblx0dmFyIGRlZmF1bHRDYWxlbmRhciA9IHtcblx0ICAgIHNhbWVEYXkgOiAnW1RvZGF5IGF0XSBMVCcsXG5cdCAgICBuZXh0RGF5IDogJ1tUb21vcnJvdyBhdF0gTFQnLFxuXHQgICAgbmV4dFdlZWsgOiAnZGRkZCBbYXRdIExUJyxcblx0ICAgIGxhc3REYXkgOiAnW1llc3RlcmRheSBhdF0gTFQnLFxuXHQgICAgbGFzdFdlZWsgOiAnW0xhc3RdIGRkZGQgW2F0XSBMVCcsXG5cdCAgICBzYW1lRWxzZSA6ICdMJ1xuXHR9O1xuXHRcblx0ZnVuY3Rpb24gY2FsZW5kYXIgKGtleSwgbW9tLCBub3cpIHtcblx0ICAgIHZhciBvdXRwdXQgPSB0aGlzLl9jYWxlbmRhcltrZXldIHx8IHRoaXMuX2NhbGVuZGFyWydzYW1lRWxzZSddO1xuXHQgICAgcmV0dXJuIGlzRnVuY3Rpb24ob3V0cHV0KSA/IG91dHB1dC5jYWxsKG1vbSwgbm93KSA6IG91dHB1dDtcblx0fVxuXHRcblx0dmFyIGRlZmF1bHRMb25nRGF0ZUZvcm1hdCA9IHtcblx0ICAgIExUUyAgOiAnaDptbTpzcyBBJyxcblx0ICAgIExUICAgOiAnaDptbSBBJyxcblx0ICAgIEwgICAgOiAnTU0vREQvWVlZWScsXG5cdCAgICBMTCAgIDogJ01NTU0gRCwgWVlZWScsXG5cdCAgICBMTEwgIDogJ01NTU0gRCwgWVlZWSBoOm1tIEEnLFxuXHQgICAgTExMTCA6ICdkZGRkLCBNTU1NIEQsIFlZWVkgaDptbSBBJ1xuXHR9O1xuXHRcblx0ZnVuY3Rpb24gbG9uZ0RhdGVGb3JtYXQgKGtleSkge1xuXHQgICAgdmFyIGZvcm1hdCA9IHRoaXMuX2xvbmdEYXRlRm9ybWF0W2tleV0sXG5cdCAgICAgICAgZm9ybWF0VXBwZXIgPSB0aGlzLl9sb25nRGF0ZUZvcm1hdFtrZXkudG9VcHBlckNhc2UoKV07XG5cdFxuXHQgICAgaWYgKGZvcm1hdCB8fCAhZm9ybWF0VXBwZXIpIHtcblx0ICAgICAgICByZXR1cm4gZm9ybWF0O1xuXHQgICAgfVxuXHRcblx0ICAgIHRoaXMuX2xvbmdEYXRlRm9ybWF0W2tleV0gPSBmb3JtYXRVcHBlci5yZXBsYWNlKC9NTU1NfE1NfEREfGRkZGQvZywgZnVuY3Rpb24gKHZhbCkge1xuXHQgICAgICAgIHJldHVybiB2YWwuc2xpY2UoMSk7XG5cdCAgICB9KTtcblx0XG5cdCAgICByZXR1cm4gdGhpcy5fbG9uZ0RhdGVGb3JtYXRba2V5XTtcblx0fVxuXHRcblx0dmFyIGRlZmF1bHRJbnZhbGlkRGF0ZSA9ICdJbnZhbGlkIGRhdGUnO1xuXHRcblx0ZnVuY3Rpb24gaW52YWxpZERhdGUgKCkge1xuXHQgICAgcmV0dXJuIHRoaXMuX2ludmFsaWREYXRlO1xuXHR9XG5cdFxuXHR2YXIgZGVmYXVsdE9yZGluYWwgPSAnJWQnO1xuXHR2YXIgZGVmYXVsdE9yZGluYWxQYXJzZSA9IC9cXGR7MSwyfS87XG5cdFxuXHRmdW5jdGlvbiBvcmRpbmFsIChudW1iZXIpIHtcblx0ICAgIHJldHVybiB0aGlzLl9vcmRpbmFsLnJlcGxhY2UoJyVkJywgbnVtYmVyKTtcblx0fVxuXHRcblx0dmFyIGRlZmF1bHRSZWxhdGl2ZVRpbWUgPSB7XG5cdCAgICBmdXR1cmUgOiAnaW4gJXMnLFxuXHQgICAgcGFzdCAgIDogJyVzIGFnbycsXG5cdCAgICBzICA6ICdhIGZldyBzZWNvbmRzJyxcblx0ICAgIG0gIDogJ2EgbWludXRlJyxcblx0ICAgIG1tIDogJyVkIG1pbnV0ZXMnLFxuXHQgICAgaCAgOiAnYW4gaG91cicsXG5cdCAgICBoaCA6ICclZCBob3VycycsXG5cdCAgICBkICA6ICdhIGRheScsXG5cdCAgICBkZCA6ICclZCBkYXlzJyxcblx0ICAgIE0gIDogJ2EgbW9udGgnLFxuXHQgICAgTU0gOiAnJWQgbW9udGhzJyxcblx0ICAgIHkgIDogJ2EgeWVhcicsXG5cdCAgICB5eSA6ICclZCB5ZWFycydcblx0fTtcblx0XG5cdGZ1bmN0aW9uIHJlbGF0aXZlVGltZSAobnVtYmVyLCB3aXRob3V0U3VmZml4LCBzdHJpbmcsIGlzRnV0dXJlKSB7XG5cdCAgICB2YXIgb3V0cHV0ID0gdGhpcy5fcmVsYXRpdmVUaW1lW3N0cmluZ107XG5cdCAgICByZXR1cm4gKGlzRnVuY3Rpb24ob3V0cHV0KSkgP1xuXHQgICAgICAgIG91dHB1dChudW1iZXIsIHdpdGhvdXRTdWZmaXgsIHN0cmluZywgaXNGdXR1cmUpIDpcblx0ICAgICAgICBvdXRwdXQucmVwbGFjZSgvJWQvaSwgbnVtYmVyKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gcGFzdEZ1dHVyZSAoZGlmZiwgb3V0cHV0KSB7XG5cdCAgICB2YXIgZm9ybWF0ID0gdGhpcy5fcmVsYXRpdmVUaW1lW2RpZmYgPiAwID8gJ2Z1dHVyZScgOiAncGFzdCddO1xuXHQgICAgcmV0dXJuIGlzRnVuY3Rpb24oZm9ybWF0KSA/IGZvcm1hdChvdXRwdXQpIDogZm9ybWF0LnJlcGxhY2UoLyVzL2ksIG91dHB1dCk7XG5cdH1cblx0XG5cdHZhciBhbGlhc2VzID0ge307XG5cdFxuXHRmdW5jdGlvbiBhZGRVbml0QWxpYXMgKHVuaXQsIHNob3J0aGFuZCkge1xuXHQgICAgdmFyIGxvd2VyQ2FzZSA9IHVuaXQudG9Mb3dlckNhc2UoKTtcblx0ICAgIGFsaWFzZXNbbG93ZXJDYXNlXSA9IGFsaWFzZXNbbG93ZXJDYXNlICsgJ3MnXSA9IGFsaWFzZXNbc2hvcnRoYW5kXSA9IHVuaXQ7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIG5vcm1hbGl6ZVVuaXRzKHVuaXRzKSB7XG5cdCAgICByZXR1cm4gdHlwZW9mIHVuaXRzID09PSAnc3RyaW5nJyA/IGFsaWFzZXNbdW5pdHNdIHx8IGFsaWFzZXNbdW5pdHMudG9Mb3dlckNhc2UoKV0gOiB1bmRlZmluZWQ7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIG5vcm1hbGl6ZU9iamVjdFVuaXRzKGlucHV0T2JqZWN0KSB7XG5cdCAgICB2YXIgbm9ybWFsaXplZElucHV0ID0ge30sXG5cdCAgICAgICAgbm9ybWFsaXplZFByb3AsXG5cdCAgICAgICAgcHJvcDtcblx0XG5cdCAgICBmb3IgKHByb3AgaW4gaW5wdXRPYmplY3QpIHtcblx0ICAgICAgICBpZiAoaGFzT3duUHJvcChpbnB1dE9iamVjdCwgcHJvcCkpIHtcblx0ICAgICAgICAgICAgbm9ybWFsaXplZFByb3AgPSBub3JtYWxpemVVbml0cyhwcm9wKTtcblx0ICAgICAgICAgICAgaWYgKG5vcm1hbGl6ZWRQcm9wKSB7XG5cdCAgICAgICAgICAgICAgICBub3JtYWxpemVkSW5wdXRbbm9ybWFsaXplZFByb3BdID0gaW5wdXRPYmplY3RbcHJvcF07XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIG5vcm1hbGl6ZWRJbnB1dDtcblx0fVxuXHRcblx0dmFyIHByaW9yaXRpZXMgPSB7fTtcblx0XG5cdGZ1bmN0aW9uIGFkZFVuaXRQcmlvcml0eSh1bml0LCBwcmlvcml0eSkge1xuXHQgICAgcHJpb3JpdGllc1t1bml0XSA9IHByaW9yaXR5O1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBnZXRQcmlvcml0aXplZFVuaXRzKHVuaXRzT2JqKSB7XG5cdCAgICB2YXIgdW5pdHMgPSBbXTtcblx0ICAgIGZvciAodmFyIHUgaW4gdW5pdHNPYmopIHtcblx0ICAgICAgICB1bml0cy5wdXNoKHt1bml0OiB1LCBwcmlvcml0eTogcHJpb3JpdGllc1t1XX0pO1xuXHQgICAgfVxuXHQgICAgdW5pdHMuc29ydChmdW5jdGlvbiAoYSwgYikge1xuXHQgICAgICAgIHJldHVybiBhLnByaW9yaXR5IC0gYi5wcmlvcml0eTtcblx0ICAgIH0pO1xuXHQgICAgcmV0dXJuIHVuaXRzO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBtYWtlR2V0U2V0ICh1bml0LCBrZWVwVGltZSkge1xuXHQgICAgcmV0dXJuIGZ1bmN0aW9uICh2YWx1ZSkge1xuXHQgICAgICAgIGlmICh2YWx1ZSAhPSBudWxsKSB7XG5cdCAgICAgICAgICAgIHNldCQxKHRoaXMsIHVuaXQsIHZhbHVlKTtcblx0ICAgICAgICAgICAgaG9va3MudXBkYXRlT2Zmc2V0KHRoaXMsIGtlZXBUaW1lKTtcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgcmV0dXJuIGdldCh0aGlzLCB1bml0KTtcblx0ICAgICAgICB9XG5cdCAgICB9O1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBnZXQgKG1vbSwgdW5pdCkge1xuXHQgICAgcmV0dXJuIG1vbS5pc1ZhbGlkKCkgP1xuXHQgICAgICAgIG1vbS5fZFsnZ2V0JyArIChtb20uX2lzVVRDID8gJ1VUQycgOiAnJykgKyB1bml0XSgpIDogTmFOO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBzZXQkMSAobW9tLCB1bml0LCB2YWx1ZSkge1xuXHQgICAgaWYgKG1vbS5pc1ZhbGlkKCkpIHtcblx0ICAgICAgICBtb20uX2RbJ3NldCcgKyAobW9tLl9pc1VUQyA/ICdVVEMnIDogJycpICsgdW5pdF0odmFsdWUpO1xuXHQgICAgfVxuXHR9XG5cdFxuXHQvLyBNT01FTlRTXG5cdFxuXHRmdW5jdGlvbiBzdHJpbmdHZXQgKHVuaXRzKSB7XG5cdCAgICB1bml0cyA9IG5vcm1hbGl6ZVVuaXRzKHVuaXRzKTtcblx0ICAgIGlmIChpc0Z1bmN0aW9uKHRoaXNbdW5pdHNdKSkge1xuXHQgICAgICAgIHJldHVybiB0aGlzW3VuaXRzXSgpO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIHRoaXM7XG5cdH1cblx0XG5cdFxuXHRmdW5jdGlvbiBzdHJpbmdTZXQgKHVuaXRzLCB2YWx1ZSkge1xuXHQgICAgaWYgKHR5cGVvZiB1bml0cyA9PT0gJ29iamVjdCcpIHtcblx0ICAgICAgICB1bml0cyA9IG5vcm1hbGl6ZU9iamVjdFVuaXRzKHVuaXRzKTtcblx0ICAgICAgICB2YXIgcHJpb3JpdGl6ZWQgPSBnZXRQcmlvcml0aXplZFVuaXRzKHVuaXRzKTtcblx0ICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByaW9yaXRpemVkLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgICAgIHRoaXNbcHJpb3JpdGl6ZWRbaV0udW5pdF0odW5pdHNbcHJpb3JpdGl6ZWRbaV0udW5pdF0pO1xuXHQgICAgICAgIH1cblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgdW5pdHMgPSBub3JtYWxpemVVbml0cyh1bml0cyk7XG5cdCAgICAgICAgaWYgKGlzRnVuY3Rpb24odGhpc1t1bml0c10pKSB7XG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzW3VuaXRzXSh2YWx1ZSk7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHQgICAgcmV0dXJuIHRoaXM7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHplcm9GaWxsKG51bWJlciwgdGFyZ2V0TGVuZ3RoLCBmb3JjZVNpZ24pIHtcblx0ICAgIHZhciBhYnNOdW1iZXIgPSAnJyArIE1hdGguYWJzKG51bWJlciksXG5cdCAgICAgICAgemVyb3NUb0ZpbGwgPSB0YXJnZXRMZW5ndGggLSBhYnNOdW1iZXIubGVuZ3RoLFxuXHQgICAgICAgIHNpZ24gPSBudW1iZXIgPj0gMDtcblx0ICAgIHJldHVybiAoc2lnbiA/IChmb3JjZVNpZ24gPyAnKycgOiAnJykgOiAnLScpICtcblx0ICAgICAgICBNYXRoLnBvdygxMCwgTWF0aC5tYXgoMCwgemVyb3NUb0ZpbGwpKS50b1N0cmluZygpLnN1YnN0cigxKSArIGFic051bWJlcjtcblx0fVxuXHRcblx0dmFyIGZvcm1hdHRpbmdUb2tlbnMgPSAvKFxcW1teXFxbXSpcXF0pfChcXFxcKT8oW0hoXW1tKHNzKT98TW98TU0/TT9NP3xEb3xERERvfEREP0Q/RD98ZGRkP2Q/fGRvP3x3W298d10/fFdbb3xXXT98UW8/fFlZWVlZWXxZWVlZWXxZWVlZfFlZfGdnKGdnZz8pP3xHRyhHR0c/KT98ZXxFfGF8QXxoaD98SEg/fGtrP3xtbT98c3M/fFN7MSw5fXx4fFh8eno/fFpaP3wuKS9nO1xuXHRcblx0dmFyIGxvY2FsRm9ybWF0dGluZ1Rva2VucyA9IC8oXFxbW15cXFtdKlxcXSl8KFxcXFwpPyhMVFN8TFR8TEw/TD9MP3xsezEsNH0pL2c7XG5cdFxuXHR2YXIgZm9ybWF0RnVuY3Rpb25zID0ge307XG5cdFxuXHR2YXIgZm9ybWF0VG9rZW5GdW5jdGlvbnMgPSB7fTtcblx0XG5cdC8vIHRva2VuOiAgICAnTSdcblx0Ly8gcGFkZGVkOiAgIFsnTU0nLCAyXVxuXHQvLyBvcmRpbmFsOiAgJ01vJ1xuXHQvLyBjYWxsYmFjazogZnVuY3Rpb24gKCkgeyB0aGlzLm1vbnRoKCkgKyAxIH1cblx0ZnVuY3Rpb24gYWRkRm9ybWF0VG9rZW4gKHRva2VuLCBwYWRkZWQsIG9yZGluYWwsIGNhbGxiYWNrKSB7XG5cdCAgICB2YXIgZnVuYyA9IGNhbGxiYWNrO1xuXHQgICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ3N0cmluZycpIHtcblx0ICAgICAgICBmdW5jID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICByZXR1cm4gdGhpc1tjYWxsYmFja10oKTtcblx0ICAgICAgICB9O1xuXHQgICAgfVxuXHQgICAgaWYgKHRva2VuKSB7XG5cdCAgICAgICAgZm9ybWF0VG9rZW5GdW5jdGlvbnNbdG9rZW5dID0gZnVuYztcblx0ICAgIH1cblx0ICAgIGlmIChwYWRkZWQpIHtcblx0ICAgICAgICBmb3JtYXRUb2tlbkZ1bmN0aW9uc1twYWRkZWRbMF1dID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICByZXR1cm4gemVyb0ZpbGwoZnVuYy5hcHBseSh0aGlzLCBhcmd1bWVudHMpLCBwYWRkZWRbMV0sIHBhZGRlZFsyXSk7XG5cdCAgICAgICAgfTtcblx0ICAgIH1cblx0ICAgIGlmIChvcmRpbmFsKSB7XG5cdCAgICAgICAgZm9ybWF0VG9rZW5GdW5jdGlvbnNbb3JkaW5hbF0gPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzLmxvY2FsZURhdGEoKS5vcmRpbmFsKGZ1bmMuYXBwbHkodGhpcywgYXJndW1lbnRzKSwgdG9rZW4pO1xuXHQgICAgICAgIH07XG5cdCAgICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHJlbW92ZUZvcm1hdHRpbmdUb2tlbnMoaW5wdXQpIHtcblx0ICAgIGlmIChpbnB1dC5tYXRjaCgvXFxbW1xcc1xcU10vKSkge1xuXHQgICAgICAgIHJldHVybiBpbnB1dC5yZXBsYWNlKC9eXFxbfFxcXSQvZywgJycpO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIGlucHV0LnJlcGxhY2UoL1xcXFwvZywgJycpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBtYWtlRm9ybWF0RnVuY3Rpb24oZm9ybWF0KSB7XG5cdCAgICB2YXIgYXJyYXkgPSBmb3JtYXQubWF0Y2goZm9ybWF0dGluZ1Rva2VucyksIGksIGxlbmd0aDtcblx0XG5cdCAgICBmb3IgKGkgPSAwLCBsZW5ndGggPSBhcnJheS5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuXHQgICAgICAgIGlmIChmb3JtYXRUb2tlbkZ1bmN0aW9uc1thcnJheVtpXV0pIHtcblx0ICAgICAgICAgICAgYXJyYXlbaV0gPSBmb3JtYXRUb2tlbkZ1bmN0aW9uc1thcnJheVtpXV07XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgYXJyYXlbaV0gPSByZW1vdmVGb3JtYXR0aW5nVG9rZW5zKGFycmF5W2ldKTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIGZ1bmN0aW9uIChtb20pIHtcblx0ICAgICAgICB2YXIgb3V0cHV0ID0gJycsIGk7XG5cdCAgICAgICAgZm9yIChpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgICAgIG91dHB1dCArPSBhcnJheVtpXSBpbnN0YW5jZW9mIEZ1bmN0aW9uID8gYXJyYXlbaV0uY2FsbChtb20sIGZvcm1hdCkgOiBhcnJheVtpXTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIG91dHB1dDtcblx0ICAgIH07XG5cdH1cblx0XG5cdC8vIGZvcm1hdCBkYXRlIHVzaW5nIG5hdGl2ZSBkYXRlIG9iamVjdFxuXHRmdW5jdGlvbiBmb3JtYXRNb21lbnQobSwgZm9ybWF0KSB7XG5cdCAgICBpZiAoIW0uaXNWYWxpZCgpKSB7XG5cdCAgICAgICAgcmV0dXJuIG0ubG9jYWxlRGF0YSgpLmludmFsaWREYXRlKCk7XG5cdCAgICB9XG5cdFxuXHQgICAgZm9ybWF0ID0gZXhwYW5kRm9ybWF0KGZvcm1hdCwgbS5sb2NhbGVEYXRhKCkpO1xuXHQgICAgZm9ybWF0RnVuY3Rpb25zW2Zvcm1hdF0gPSBmb3JtYXRGdW5jdGlvbnNbZm9ybWF0XSB8fCBtYWtlRm9ybWF0RnVuY3Rpb24oZm9ybWF0KTtcblx0XG5cdCAgICByZXR1cm4gZm9ybWF0RnVuY3Rpb25zW2Zvcm1hdF0obSk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGV4cGFuZEZvcm1hdChmb3JtYXQsIGxvY2FsZSkge1xuXHQgICAgdmFyIGkgPSA1O1xuXHRcblx0ICAgIGZ1bmN0aW9uIHJlcGxhY2VMb25nRGF0ZUZvcm1hdFRva2VucyhpbnB1dCkge1xuXHQgICAgICAgIHJldHVybiBsb2NhbGUubG9uZ0RhdGVGb3JtYXQoaW5wdXQpIHx8IGlucHV0O1xuXHQgICAgfVxuXHRcblx0ICAgIGxvY2FsRm9ybWF0dGluZ1Rva2Vucy5sYXN0SW5kZXggPSAwO1xuXHQgICAgd2hpbGUgKGkgPj0gMCAmJiBsb2NhbEZvcm1hdHRpbmdUb2tlbnMudGVzdChmb3JtYXQpKSB7XG5cdCAgICAgICAgZm9ybWF0ID0gZm9ybWF0LnJlcGxhY2UobG9jYWxGb3JtYXR0aW5nVG9rZW5zLCByZXBsYWNlTG9uZ0RhdGVGb3JtYXRUb2tlbnMpO1xuXHQgICAgICAgIGxvY2FsRm9ybWF0dGluZ1Rva2Vucy5sYXN0SW5kZXggPSAwO1xuXHQgICAgICAgIGkgLT0gMTtcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gZm9ybWF0O1xuXHR9XG5cdFxuXHR2YXIgbWF0Y2gxICAgICAgICAgPSAvXFxkLzsgICAgICAgICAgICAvLyAgICAgICAwIC0gOVxuXHR2YXIgbWF0Y2gyICAgICAgICAgPSAvXFxkXFxkLzsgICAgICAgICAgLy8gICAgICAwMCAtIDk5XG5cdHZhciBtYXRjaDMgICAgICAgICA9IC9cXGR7M30vOyAgICAgICAgIC8vICAgICAwMDAgLSA5OTlcblx0dmFyIG1hdGNoNCAgICAgICAgID0gL1xcZHs0fS87ICAgICAgICAgLy8gICAgMDAwMCAtIDk5OTlcblx0dmFyIG1hdGNoNiAgICAgICAgID0gL1srLV0/XFxkezZ9LzsgICAgLy8gLTk5OTk5OSAtIDk5OTk5OVxuXHR2YXIgbWF0Y2gxdG8yICAgICAgPSAvXFxkXFxkPy87ICAgICAgICAgLy8gICAgICAgMCAtIDk5XG5cdHZhciBtYXRjaDN0bzQgICAgICA9IC9cXGRcXGRcXGRcXGQ/LzsgICAgIC8vICAgICA5OTkgLSA5OTk5XG5cdHZhciBtYXRjaDV0bzYgICAgICA9IC9cXGRcXGRcXGRcXGRcXGRcXGQ/LzsgLy8gICA5OTk5OSAtIDk5OTk5OVxuXHR2YXIgbWF0Y2gxdG8zICAgICAgPSAvXFxkezEsM30vOyAgICAgICAvLyAgICAgICAwIC0gOTk5XG5cdHZhciBtYXRjaDF0bzQgICAgICA9IC9cXGR7MSw0fS87ICAgICAgIC8vICAgICAgIDAgLSA5OTk5XG5cdHZhciBtYXRjaDF0bzYgICAgICA9IC9bKy1dP1xcZHsxLDZ9LzsgIC8vIC05OTk5OTkgLSA5OTk5OTlcblx0XG5cdHZhciBtYXRjaFVuc2lnbmVkICA9IC9cXGQrLzsgICAgICAgICAgIC8vICAgICAgIDAgLSBpbmZcblx0dmFyIG1hdGNoU2lnbmVkICAgID0gL1srLV0/XFxkKy87ICAgICAgLy8gICAgLWluZiAtIGluZlxuXHRcblx0dmFyIG1hdGNoT2Zmc2V0ICAgID0gL1p8WystXVxcZFxcZDo/XFxkXFxkL2dpOyAvLyArMDA6MDAgLTAwOjAwICswMDAwIC0wMDAwIG9yIFpcblx0dmFyIG1hdGNoU2hvcnRPZmZzZXQgPSAvWnxbKy1dXFxkXFxkKD86Oj9cXGRcXGQpPy9naTsgLy8gKzAwIC0wMCArMDA6MDAgLTAwOjAwICswMDAwIC0wMDAwIG9yIFpcblx0XG5cdHZhciBtYXRjaFRpbWVzdGFtcCA9IC9bKy1dP1xcZCsoXFwuXFxkezEsM30pPy87IC8vIDEyMzQ1Njc4OSAxMjM0NTY3ODkuMTIzXG5cdFxuXHQvLyBhbnkgd29yZCAob3IgdHdvKSBjaGFyYWN0ZXJzIG9yIG51bWJlcnMgaW5jbHVkaW5nIHR3by90aHJlZSB3b3JkIG1vbnRoIGluIGFyYWJpYy5cblx0Ly8gaW5jbHVkZXMgc2NvdHRpc2ggZ2FlbGljIHR3byB3b3JkIGFuZCBoeXBoZW5hdGVkIG1vbnRoc1xuXHR2YXIgbWF0Y2hXb3JkID0gL1swLTldKlsnYS16XFx1MDBBMC1cXHUwNUZGXFx1MDcwMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSt8W1xcdTA2MDAtXFx1MDZGRlxcL10rKFxccyo/W1xcdTA2MDAtXFx1MDZGRl0rKXsxLDJ9L2k7XG5cdFxuXHRcblx0dmFyIHJlZ2V4ZXMgPSB7fTtcblx0XG5cdGZ1bmN0aW9uIGFkZFJlZ2V4VG9rZW4gKHRva2VuLCByZWdleCwgc3RyaWN0UmVnZXgpIHtcblx0ICAgIHJlZ2V4ZXNbdG9rZW5dID0gaXNGdW5jdGlvbihyZWdleCkgPyByZWdleCA6IGZ1bmN0aW9uIChpc1N0cmljdCwgbG9jYWxlRGF0YSkge1xuXHQgICAgICAgIHJldHVybiAoaXNTdHJpY3QgJiYgc3RyaWN0UmVnZXgpID8gc3RyaWN0UmVnZXggOiByZWdleDtcblx0ICAgIH07XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGdldFBhcnNlUmVnZXhGb3JUb2tlbiAodG9rZW4sIGNvbmZpZykge1xuXHQgICAgaWYgKCFoYXNPd25Qcm9wKHJlZ2V4ZXMsIHRva2VuKSkge1xuXHQgICAgICAgIHJldHVybiBuZXcgUmVnRXhwKHVuZXNjYXBlRm9ybWF0KHRva2VuKSk7XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIHJlZ2V4ZXNbdG9rZW5dKGNvbmZpZy5fc3RyaWN0LCBjb25maWcuX2xvY2FsZSk7XG5cdH1cblx0XG5cdC8vIENvZGUgZnJvbSBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzM1NjE0OTMvaXMtdGhlcmUtYS1yZWdleHAtZXNjYXBlLWZ1bmN0aW9uLWluLWphdmFzY3JpcHRcblx0ZnVuY3Rpb24gdW5lc2NhcGVGb3JtYXQocykge1xuXHQgICAgcmV0dXJuIHJlZ2V4RXNjYXBlKHMucmVwbGFjZSgnXFxcXCcsICcnKS5yZXBsYWNlKC9cXFxcKFxcWyl8XFxcXChcXF0pfFxcWyhbXlxcXVxcW10qKVxcXXxcXFxcKC4pL2csIGZ1bmN0aW9uIChtYXRjaGVkLCBwMSwgcDIsIHAzLCBwNCkge1xuXHQgICAgICAgIHJldHVybiBwMSB8fCBwMiB8fCBwMyB8fCBwNDtcblx0ICAgIH0pKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gcmVnZXhFc2NhcGUocykge1xuXHQgICAgcmV0dXJuIHMucmVwbGFjZSgvWy1cXC9cXFxcXiQqKz8uKCl8W1xcXXt9XS9nLCAnXFxcXCQmJyk7XG5cdH1cblx0XG5cdHZhciB0b2tlbnMgPSB7fTtcblx0XG5cdGZ1bmN0aW9uIGFkZFBhcnNlVG9rZW4gKHRva2VuLCBjYWxsYmFjaykge1xuXHQgICAgdmFyIGksIGZ1bmMgPSBjYWxsYmFjaztcblx0ICAgIGlmICh0eXBlb2YgdG9rZW4gPT09ICdzdHJpbmcnKSB7XG5cdCAgICAgICAgdG9rZW4gPSBbdG9rZW5dO1xuXHQgICAgfVxuXHQgICAgaWYgKGlzTnVtYmVyKGNhbGxiYWNrKSkge1xuXHQgICAgICAgIGZ1bmMgPSBmdW5jdGlvbiAoaW5wdXQsIGFycmF5KSB7XG5cdCAgICAgICAgICAgIGFycmF5W2NhbGxiYWNrXSA9IHRvSW50KGlucHV0KTtcblx0ICAgICAgICB9O1xuXHQgICAgfVxuXHQgICAgZm9yIChpID0gMDsgaSA8IHRva2VuLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgdG9rZW5zW3Rva2VuW2ldXSA9IGZ1bmM7XG5cdCAgICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGFkZFdlZWtQYXJzZVRva2VuICh0b2tlbiwgY2FsbGJhY2spIHtcblx0ICAgIGFkZFBhcnNlVG9rZW4odG9rZW4sIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXksIGNvbmZpZywgdG9rZW4pIHtcblx0ICAgICAgICBjb25maWcuX3cgPSBjb25maWcuX3cgfHwge307XG5cdCAgICAgICAgY2FsbGJhY2soaW5wdXQsIGNvbmZpZy5fdywgY29uZmlnLCB0b2tlbik7XG5cdCAgICB9KTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gYWRkVGltZVRvQXJyYXlGcm9tVG9rZW4odG9rZW4sIGlucHV0LCBjb25maWcpIHtcblx0ICAgIGlmIChpbnB1dCAhPSBudWxsICYmIGhhc093blByb3AodG9rZW5zLCB0b2tlbikpIHtcblx0ICAgICAgICB0b2tlbnNbdG9rZW5dKGlucHV0LCBjb25maWcuX2EsIGNvbmZpZywgdG9rZW4pO1xuXHQgICAgfVxuXHR9XG5cdFxuXHR2YXIgWUVBUiA9IDA7XG5cdHZhciBNT05USCA9IDE7XG5cdHZhciBEQVRFID0gMjtcblx0dmFyIEhPVVIgPSAzO1xuXHR2YXIgTUlOVVRFID0gNDtcblx0dmFyIFNFQ09ORCA9IDU7XG5cdHZhciBNSUxMSVNFQ09ORCA9IDY7XG5cdHZhciBXRUVLID0gNztcblx0dmFyIFdFRUtEQVkgPSA4O1xuXHRcblx0dmFyIGluZGV4T2Y7XG5cdFxuXHRpZiAoQXJyYXkucHJvdG90eXBlLmluZGV4T2YpIHtcblx0ICAgIGluZGV4T2YgPSBBcnJheS5wcm90b3R5cGUuaW5kZXhPZjtcblx0fSBlbHNlIHtcblx0ICAgIGluZGV4T2YgPSBmdW5jdGlvbiAobykge1xuXHQgICAgICAgIC8vIEkga25vd1xuXHQgICAgICAgIHZhciBpO1xuXHQgICAgICAgIGZvciAoaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgKytpKSB7XG5cdCAgICAgICAgICAgIGlmICh0aGlzW2ldID09PSBvKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gaTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gLTE7XG5cdCAgICB9O1xuXHR9XG5cdFxuXHR2YXIgaW5kZXhPZiQxID0gaW5kZXhPZjtcblx0XG5cdGZ1bmN0aW9uIGRheXNJbk1vbnRoKHllYXIsIG1vbnRoKSB7XG5cdCAgICByZXR1cm4gbmV3IERhdGUoRGF0ZS5VVEMoeWVhciwgbW9udGggKyAxLCAwKSkuZ2V0VVRDRGF0ZSgpO1xuXHR9XG5cdFxuXHQvLyBGT1JNQVRUSU5HXG5cdFxuXHRhZGRGb3JtYXRUb2tlbignTScsIFsnTU0nLCAyXSwgJ01vJywgZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuIHRoaXMubW9udGgoKSArIDE7XG5cdH0pO1xuXHRcblx0YWRkRm9ybWF0VG9rZW4oJ01NTScsIDAsIDAsIGZ1bmN0aW9uIChmb3JtYXQpIHtcblx0ICAgIHJldHVybiB0aGlzLmxvY2FsZURhdGEoKS5tb250aHNTaG9ydCh0aGlzLCBmb3JtYXQpO1xuXHR9KTtcblx0XG5cdGFkZEZvcm1hdFRva2VuKCdNTU1NJywgMCwgMCwgZnVuY3Rpb24gKGZvcm1hdCkge1xuXHQgICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLm1vbnRocyh0aGlzLCBmb3JtYXQpO1xuXHR9KTtcblx0XG5cdC8vIEFMSUFTRVNcblx0XG5cdGFkZFVuaXRBbGlhcygnbW9udGgnLCAnTScpO1xuXHRcblx0Ly8gUFJJT1JJVFlcblx0XG5cdGFkZFVuaXRQcmlvcml0eSgnbW9udGgnLCA4KTtcblx0XG5cdC8vIFBBUlNJTkdcblx0XG5cdGFkZFJlZ2V4VG9rZW4oJ00nLCAgICBtYXRjaDF0bzIpO1xuXHRhZGRSZWdleFRva2VuKCdNTScsICAgbWF0Y2gxdG8yLCBtYXRjaDIpO1xuXHRhZGRSZWdleFRva2VuKCdNTU0nLCAgZnVuY3Rpb24gKGlzU3RyaWN0LCBsb2NhbGUpIHtcblx0ICAgIHJldHVybiBsb2NhbGUubW9udGhzU2hvcnRSZWdleChpc1N0cmljdCk7XG5cdH0pO1xuXHRhZGRSZWdleFRva2VuKCdNTU1NJywgZnVuY3Rpb24gKGlzU3RyaWN0LCBsb2NhbGUpIHtcblx0ICAgIHJldHVybiBsb2NhbGUubW9udGhzUmVnZXgoaXNTdHJpY3QpO1xuXHR9KTtcblx0XG5cdGFkZFBhcnNlVG9rZW4oWydNJywgJ01NJ10sIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXkpIHtcblx0ICAgIGFycmF5W01PTlRIXSA9IHRvSW50KGlucHV0KSAtIDE7XG5cdH0pO1xuXHRcblx0YWRkUGFyc2VUb2tlbihbJ01NTScsICdNTU1NJ10sIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXksIGNvbmZpZywgdG9rZW4pIHtcblx0ICAgIHZhciBtb250aCA9IGNvbmZpZy5fbG9jYWxlLm1vbnRoc1BhcnNlKGlucHV0LCB0b2tlbiwgY29uZmlnLl9zdHJpY3QpO1xuXHQgICAgLy8gaWYgd2UgZGlkbid0IGZpbmQgYSBtb250aCBuYW1lLCBtYXJrIHRoZSBkYXRlIGFzIGludmFsaWQuXG5cdCAgICBpZiAobW9udGggIT0gbnVsbCkge1xuXHQgICAgICAgIGFycmF5W01PTlRIXSA9IG1vbnRoO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5pbnZhbGlkTW9udGggPSBpbnB1dDtcblx0ICAgIH1cblx0fSk7XG5cdFxuXHQvLyBMT0NBTEVTXG5cdFxuXHR2YXIgTU9OVEhTX0lOX0ZPUk1BVCA9IC9EW29EXT8oXFxbW15cXFtcXF1dKlxcXXxcXHMpK01NTU0/Lztcblx0dmFyIGRlZmF1bHRMb2NhbGVNb250aHMgPSAnSmFudWFyeV9GZWJydWFyeV9NYXJjaF9BcHJpbF9NYXlfSnVuZV9KdWx5X0F1Z3VzdF9TZXB0ZW1iZXJfT2N0b2Jlcl9Ob3ZlbWJlcl9EZWNlbWJlcicuc3BsaXQoJ18nKTtcblx0ZnVuY3Rpb24gbG9jYWxlTW9udGhzIChtLCBmb3JtYXQpIHtcblx0ICAgIGlmICghbSkge1xuXHQgICAgICAgIHJldHVybiB0aGlzLl9tb250aHM7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gaXNBcnJheSh0aGlzLl9tb250aHMpID8gdGhpcy5fbW9udGhzW20ubW9udGgoKV0gOlxuXHQgICAgICAgIHRoaXMuX21vbnRoc1sodGhpcy5fbW9udGhzLmlzRm9ybWF0IHx8IE1PTlRIU19JTl9GT1JNQVQpLnRlc3QoZm9ybWF0KSA/ICdmb3JtYXQnIDogJ3N0YW5kYWxvbmUnXVttLm1vbnRoKCldO1xuXHR9XG5cdFxuXHR2YXIgZGVmYXVsdExvY2FsZU1vbnRoc1Nob3J0ID0gJ0phbl9GZWJfTWFyX0Fwcl9NYXlfSnVuX0p1bF9BdWdfU2VwX09jdF9Ob3ZfRGVjJy5zcGxpdCgnXycpO1xuXHRmdW5jdGlvbiBsb2NhbGVNb250aHNTaG9ydCAobSwgZm9ybWF0KSB7XG5cdCAgICBpZiAoIW0pIHtcblx0ICAgICAgICByZXR1cm4gdGhpcy5fbW9udGhzU2hvcnQ7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gaXNBcnJheSh0aGlzLl9tb250aHNTaG9ydCkgPyB0aGlzLl9tb250aHNTaG9ydFttLm1vbnRoKCldIDpcblx0ICAgICAgICB0aGlzLl9tb250aHNTaG9ydFtNT05USFNfSU5fRk9STUFULnRlc3QoZm9ybWF0KSA/ICdmb3JtYXQnIDogJ3N0YW5kYWxvbmUnXVttLm1vbnRoKCldO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBoYW5kbGVTdHJpY3RQYXJzZShtb250aE5hbWUsIGZvcm1hdCwgc3RyaWN0KSB7XG5cdCAgICB2YXIgaSwgaWksIG1vbSwgbGxjID0gbW9udGhOYW1lLnRvTG9jYWxlTG93ZXJDYXNlKCk7XG5cdCAgICBpZiAoIXRoaXMuX21vbnRoc1BhcnNlKSB7XG5cdCAgICAgICAgLy8gdGhpcyBpcyBub3QgdXNlZFxuXHQgICAgICAgIHRoaXMuX21vbnRoc1BhcnNlID0gW107XG5cdCAgICAgICAgdGhpcy5fbG9uZ01vbnRoc1BhcnNlID0gW107XG5cdCAgICAgICAgdGhpcy5fc2hvcnRNb250aHNQYXJzZSA9IFtdO1xuXHQgICAgICAgIGZvciAoaSA9IDA7IGkgPCAxMjsgKytpKSB7XG5cdCAgICAgICAgICAgIG1vbSA9IGNyZWF0ZVVUQyhbMjAwMCwgaV0pO1xuXHQgICAgICAgICAgICB0aGlzLl9zaG9ydE1vbnRoc1BhcnNlW2ldID0gdGhpcy5tb250aHNTaG9ydChtb20sICcnKS50b0xvY2FsZUxvd2VyQ2FzZSgpO1xuXHQgICAgICAgICAgICB0aGlzLl9sb25nTW9udGhzUGFyc2VbaV0gPSB0aGlzLm1vbnRocyhtb20sICcnKS50b0xvY2FsZUxvd2VyQ2FzZSgpO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICBpZiAoc3RyaWN0KSB7XG5cdCAgICAgICAgaWYgKGZvcm1hdCA9PT0gJ01NTScpIHtcblx0ICAgICAgICAgICAgaWkgPSBpbmRleE9mJDEuY2FsbCh0aGlzLl9zaG9ydE1vbnRoc1BhcnNlLCBsbGMpO1xuXHQgICAgICAgICAgICByZXR1cm4gaWkgIT09IC0xID8gaWkgOiBudWxsO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIGlpID0gaW5kZXhPZiQxLmNhbGwodGhpcy5fbG9uZ01vbnRoc1BhcnNlLCBsbGMpO1xuXHQgICAgICAgICAgICByZXR1cm4gaWkgIT09IC0xID8gaWkgOiBudWxsO1xuXHQgICAgICAgIH1cblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgaWYgKGZvcm1hdCA9PT0gJ01NTScpIHtcblx0ICAgICAgICAgICAgaWkgPSBpbmRleE9mJDEuY2FsbCh0aGlzLl9zaG9ydE1vbnRoc1BhcnNlLCBsbGMpO1xuXHQgICAgICAgICAgICBpZiAoaWkgIT09IC0xKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gaWk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgaWkgPSBpbmRleE9mJDEuY2FsbCh0aGlzLl9sb25nTW9udGhzUGFyc2UsIGxsYyk7XG5cdCAgICAgICAgICAgIHJldHVybiBpaSAhPT0gLTEgPyBpaSA6IG51bGw7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgaWkgPSBpbmRleE9mJDEuY2FsbCh0aGlzLl9sb25nTW9udGhzUGFyc2UsIGxsYyk7XG5cdCAgICAgICAgICAgIGlmIChpaSAhPT0gLTEpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBpaTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBpaSA9IGluZGV4T2YkMS5jYWxsKHRoaXMuX3Nob3J0TW9udGhzUGFyc2UsIGxsYyk7XG5cdCAgICAgICAgICAgIHJldHVybiBpaSAhPT0gLTEgPyBpaSA6IG51bGw7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBsb2NhbGVNb250aHNQYXJzZSAobW9udGhOYW1lLCBmb3JtYXQsIHN0cmljdCkge1xuXHQgICAgdmFyIGksIG1vbSwgcmVnZXg7XG5cdFxuXHQgICAgaWYgKHRoaXMuX21vbnRoc1BhcnNlRXhhY3QpIHtcblx0ICAgICAgICByZXR1cm4gaGFuZGxlU3RyaWN0UGFyc2UuY2FsbCh0aGlzLCBtb250aE5hbWUsIGZvcm1hdCwgc3RyaWN0KTtcblx0ICAgIH1cblx0XG5cdCAgICBpZiAoIXRoaXMuX21vbnRoc1BhcnNlKSB7XG5cdCAgICAgICAgdGhpcy5fbW9udGhzUGFyc2UgPSBbXTtcblx0ICAgICAgICB0aGlzLl9sb25nTW9udGhzUGFyc2UgPSBbXTtcblx0ICAgICAgICB0aGlzLl9zaG9ydE1vbnRoc1BhcnNlID0gW107XG5cdCAgICB9XG5cdFxuXHQgICAgLy8gVE9ETzogYWRkIHNvcnRpbmdcblx0ICAgIC8vIFNvcnRpbmcgbWFrZXMgc3VyZSBpZiBvbmUgbW9udGggKG9yIGFiYnIpIGlzIGEgcHJlZml4IG9mIGFub3RoZXJcblx0ICAgIC8vIHNlZSBzb3J0aW5nIGluIGNvbXB1dGVNb250aHNQYXJzZVxuXHQgICAgZm9yIChpID0gMDsgaSA8IDEyOyBpKyspIHtcblx0ICAgICAgICAvLyBtYWtlIHRoZSByZWdleCBpZiB3ZSBkb24ndCBoYXZlIGl0IGFscmVhZHlcblx0ICAgICAgICBtb20gPSBjcmVhdGVVVEMoWzIwMDAsIGldKTtcblx0ICAgICAgICBpZiAoc3RyaWN0ICYmICF0aGlzLl9sb25nTW9udGhzUGFyc2VbaV0pIHtcblx0ICAgICAgICAgICAgdGhpcy5fbG9uZ01vbnRoc1BhcnNlW2ldID0gbmV3IFJlZ0V4cCgnXicgKyB0aGlzLm1vbnRocyhtb20sICcnKS5yZXBsYWNlKCcuJywgJycpICsgJyQnLCAnaScpO1xuXHQgICAgICAgICAgICB0aGlzLl9zaG9ydE1vbnRoc1BhcnNlW2ldID0gbmV3IFJlZ0V4cCgnXicgKyB0aGlzLm1vbnRoc1Nob3J0KG1vbSwgJycpLnJlcGxhY2UoJy4nLCAnJykgKyAnJCcsICdpJyk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmICghc3RyaWN0ICYmICF0aGlzLl9tb250aHNQYXJzZVtpXSkge1xuXHQgICAgICAgICAgICByZWdleCA9ICdeJyArIHRoaXMubW9udGhzKG1vbSwgJycpICsgJ3xeJyArIHRoaXMubW9udGhzU2hvcnQobW9tLCAnJyk7XG5cdCAgICAgICAgICAgIHRoaXMuX21vbnRoc1BhcnNlW2ldID0gbmV3IFJlZ0V4cChyZWdleC5yZXBsYWNlKCcuJywgJycpLCAnaScpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICAvLyB0ZXN0IHRoZSByZWdleFxuXHQgICAgICAgIGlmIChzdHJpY3QgJiYgZm9ybWF0ID09PSAnTU1NTScgJiYgdGhpcy5fbG9uZ01vbnRoc1BhcnNlW2ldLnRlc3QobW9udGhOYW1lKSkge1xuXHQgICAgICAgICAgICByZXR1cm4gaTtcblx0ICAgICAgICB9IGVsc2UgaWYgKHN0cmljdCAmJiBmb3JtYXQgPT09ICdNTU0nICYmIHRoaXMuX3Nob3J0TW9udGhzUGFyc2VbaV0udGVzdChtb250aE5hbWUpKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBpO1xuXHQgICAgICAgIH0gZWxzZSBpZiAoIXN0cmljdCAmJiB0aGlzLl9tb250aHNQYXJzZVtpXS50ZXN0KG1vbnRoTmFtZSkpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIGk7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHR9XG5cdFxuXHQvLyBNT01FTlRTXG5cdFxuXHRmdW5jdGlvbiBzZXRNb250aCAobW9tLCB2YWx1ZSkge1xuXHQgICAgdmFyIGRheU9mTW9udGg7XG5cdFxuXHQgICAgaWYgKCFtb20uaXNWYWxpZCgpKSB7XG5cdCAgICAgICAgLy8gTm8gb3Bcblx0ICAgICAgICByZXR1cm4gbW9tO1xuXHQgICAgfVxuXHRcblx0ICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG5cdCAgICAgICAgaWYgKC9eXFxkKyQvLnRlc3QodmFsdWUpKSB7XG5cdCAgICAgICAgICAgIHZhbHVlID0gdG9JbnQodmFsdWUpO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIHZhbHVlID0gbW9tLmxvY2FsZURhdGEoKS5tb250aHNQYXJzZSh2YWx1ZSk7XG5cdCAgICAgICAgICAgIC8vIFRPRE86IEFub3RoZXIgc2lsZW50IGZhaWx1cmU/XG5cdCAgICAgICAgICAgIGlmICghaXNOdW1iZXIodmFsdWUpKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gbW9tO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIGRheU9mTW9udGggPSBNYXRoLm1pbihtb20uZGF0ZSgpLCBkYXlzSW5Nb250aChtb20ueWVhcigpLCB2YWx1ZSkpO1xuXHQgICAgbW9tLl9kWydzZXQnICsgKG1vbS5faXNVVEMgPyAnVVRDJyA6ICcnKSArICdNb250aCddKHZhbHVlLCBkYXlPZk1vbnRoKTtcblx0ICAgIHJldHVybiBtb207XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGdldFNldE1vbnRoICh2YWx1ZSkge1xuXHQgICAgaWYgKHZhbHVlICE9IG51bGwpIHtcblx0ICAgICAgICBzZXRNb250aCh0aGlzLCB2YWx1ZSk7XG5cdCAgICAgICAgaG9va3MudXBkYXRlT2Zmc2V0KHRoaXMsIHRydWUpO1xuXHQgICAgICAgIHJldHVybiB0aGlzO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXR1cm4gZ2V0KHRoaXMsICdNb250aCcpO1xuXHQgICAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBnZXREYXlzSW5Nb250aCAoKSB7XG5cdCAgICByZXR1cm4gZGF5c0luTW9udGgodGhpcy55ZWFyKCksIHRoaXMubW9udGgoKSk7XG5cdH1cblx0XG5cdHZhciBkZWZhdWx0TW9udGhzU2hvcnRSZWdleCA9IG1hdGNoV29yZDtcblx0ZnVuY3Rpb24gbW9udGhzU2hvcnRSZWdleCAoaXNTdHJpY3QpIHtcblx0ICAgIGlmICh0aGlzLl9tb250aHNQYXJzZUV4YWN0KSB7XG5cdCAgICAgICAgaWYgKCFoYXNPd25Qcm9wKHRoaXMsICdfbW9udGhzUmVnZXgnKSkge1xuXHQgICAgICAgICAgICBjb21wdXRlTW9udGhzUGFyc2UuY2FsbCh0aGlzKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgaWYgKGlzU3RyaWN0KSB7XG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzLl9tb250aHNTaG9ydFN0cmljdFJlZ2V4O1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzLl9tb250aHNTaG9ydFJlZ2V4O1xuXHQgICAgICAgIH1cblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgaWYgKCFoYXNPd25Qcm9wKHRoaXMsICdfbW9udGhzU2hvcnRSZWdleCcpKSB7XG5cdCAgICAgICAgICAgIHRoaXMuX21vbnRoc1Nob3J0UmVnZXggPSBkZWZhdWx0TW9udGhzU2hvcnRSZWdleDtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIHRoaXMuX21vbnRoc1Nob3J0U3RyaWN0UmVnZXggJiYgaXNTdHJpY3QgP1xuXHQgICAgICAgICAgICB0aGlzLl9tb250aHNTaG9ydFN0cmljdFJlZ2V4IDogdGhpcy5fbW9udGhzU2hvcnRSZWdleDtcblx0ICAgIH1cblx0fVxuXHRcblx0dmFyIGRlZmF1bHRNb250aHNSZWdleCA9IG1hdGNoV29yZDtcblx0ZnVuY3Rpb24gbW9udGhzUmVnZXggKGlzU3RyaWN0KSB7XG5cdCAgICBpZiAodGhpcy5fbW9udGhzUGFyc2VFeGFjdCkge1xuXHQgICAgICAgIGlmICghaGFzT3duUHJvcCh0aGlzLCAnX21vbnRoc1JlZ2V4JykpIHtcblx0ICAgICAgICAgICAgY29tcHV0ZU1vbnRoc1BhcnNlLmNhbGwodGhpcyk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmIChpc1N0cmljdCkge1xuXHQgICAgICAgICAgICByZXR1cm4gdGhpcy5fbW9udGhzU3RyaWN0UmVnZXg7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXMuX21vbnRoc1JlZ2V4O1xuXHQgICAgICAgIH1cblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgaWYgKCFoYXNPd25Qcm9wKHRoaXMsICdfbW9udGhzUmVnZXgnKSkge1xuXHQgICAgICAgICAgICB0aGlzLl9tb250aHNSZWdleCA9IGRlZmF1bHRNb250aHNSZWdleDtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIHRoaXMuX21vbnRoc1N0cmljdFJlZ2V4ICYmIGlzU3RyaWN0ID9cblx0ICAgICAgICAgICAgdGhpcy5fbW9udGhzU3RyaWN0UmVnZXggOiB0aGlzLl9tb250aHNSZWdleDtcblx0ICAgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gY29tcHV0ZU1vbnRoc1BhcnNlICgpIHtcblx0ICAgIGZ1bmN0aW9uIGNtcExlblJldihhLCBiKSB7XG5cdCAgICAgICAgcmV0dXJuIGIubGVuZ3RoIC0gYS5sZW5ndGg7XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIHNob3J0UGllY2VzID0gW10sIGxvbmdQaWVjZXMgPSBbXSwgbWl4ZWRQaWVjZXMgPSBbXSxcblx0ICAgICAgICBpLCBtb207XG5cdCAgICBmb3IgKGkgPSAwOyBpIDwgMTI7IGkrKykge1xuXHQgICAgICAgIC8vIG1ha2UgdGhlIHJlZ2V4IGlmIHdlIGRvbid0IGhhdmUgaXQgYWxyZWFkeVxuXHQgICAgICAgIG1vbSA9IGNyZWF0ZVVUQyhbMjAwMCwgaV0pO1xuXHQgICAgICAgIHNob3J0UGllY2VzLnB1c2godGhpcy5tb250aHNTaG9ydChtb20sICcnKSk7XG5cdCAgICAgICAgbG9uZ1BpZWNlcy5wdXNoKHRoaXMubW9udGhzKG1vbSwgJycpKTtcblx0ICAgICAgICBtaXhlZFBpZWNlcy5wdXNoKHRoaXMubW9udGhzKG1vbSwgJycpKTtcblx0ICAgICAgICBtaXhlZFBpZWNlcy5wdXNoKHRoaXMubW9udGhzU2hvcnQobW9tLCAnJykpO1xuXHQgICAgfVxuXHQgICAgLy8gU29ydGluZyBtYWtlcyBzdXJlIGlmIG9uZSBtb250aCAob3IgYWJicikgaXMgYSBwcmVmaXggb2YgYW5vdGhlciBpdFxuXHQgICAgLy8gd2lsbCBtYXRjaCB0aGUgbG9uZ2VyIHBpZWNlLlxuXHQgICAgc2hvcnRQaWVjZXMuc29ydChjbXBMZW5SZXYpO1xuXHQgICAgbG9uZ1BpZWNlcy5zb3J0KGNtcExlblJldik7XG5cdCAgICBtaXhlZFBpZWNlcy5zb3J0KGNtcExlblJldik7XG5cdCAgICBmb3IgKGkgPSAwOyBpIDwgMTI7IGkrKykge1xuXHQgICAgICAgIHNob3J0UGllY2VzW2ldID0gcmVnZXhFc2NhcGUoc2hvcnRQaWVjZXNbaV0pO1xuXHQgICAgICAgIGxvbmdQaWVjZXNbaV0gPSByZWdleEVzY2FwZShsb25nUGllY2VzW2ldKTtcblx0ICAgIH1cblx0ICAgIGZvciAoaSA9IDA7IGkgPCAyNDsgaSsrKSB7XG5cdCAgICAgICAgbWl4ZWRQaWVjZXNbaV0gPSByZWdleEVzY2FwZShtaXhlZFBpZWNlc1tpXSk7XG5cdCAgICB9XG5cdFxuXHQgICAgdGhpcy5fbW9udGhzUmVnZXggPSBuZXcgUmVnRXhwKCdeKCcgKyBtaXhlZFBpZWNlcy5qb2luKCd8JykgKyAnKScsICdpJyk7XG5cdCAgICB0aGlzLl9tb250aHNTaG9ydFJlZ2V4ID0gdGhpcy5fbW9udGhzUmVnZXg7XG5cdCAgICB0aGlzLl9tb250aHNTdHJpY3RSZWdleCA9IG5ldyBSZWdFeHAoJ14oJyArIGxvbmdQaWVjZXMuam9pbignfCcpICsgJyknLCAnaScpO1xuXHQgICAgdGhpcy5fbW9udGhzU2hvcnRTdHJpY3RSZWdleCA9IG5ldyBSZWdFeHAoJ14oJyArIHNob3J0UGllY2VzLmpvaW4oJ3wnKSArICcpJywgJ2knKTtcblx0fVxuXHRcblx0Ly8gRk9STUFUVElOR1xuXHRcblx0YWRkRm9ybWF0VG9rZW4oJ1knLCAwLCAwLCBmdW5jdGlvbiAoKSB7XG5cdCAgICB2YXIgeSA9IHRoaXMueWVhcigpO1xuXHQgICAgcmV0dXJuIHkgPD0gOTk5OSA/ICcnICsgeSA6ICcrJyArIHk7XG5cdH0pO1xuXHRcblx0YWRkRm9ybWF0VG9rZW4oMCwgWydZWScsIDJdLCAwLCBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gdGhpcy55ZWFyKCkgJSAxMDA7XG5cdH0pO1xuXHRcblx0YWRkRm9ybWF0VG9rZW4oMCwgWydZWVlZJywgICA0XSwgICAgICAgMCwgJ3llYXInKTtcblx0YWRkRm9ybWF0VG9rZW4oMCwgWydZWVlZWScsICA1XSwgICAgICAgMCwgJ3llYXInKTtcblx0YWRkRm9ybWF0VG9rZW4oMCwgWydZWVlZWVknLCA2LCB0cnVlXSwgMCwgJ3llYXInKTtcblx0XG5cdC8vIEFMSUFTRVNcblx0XG5cdGFkZFVuaXRBbGlhcygneWVhcicsICd5Jyk7XG5cdFxuXHQvLyBQUklPUklUSUVTXG5cdFxuXHRhZGRVbml0UHJpb3JpdHkoJ3llYXInLCAxKTtcblx0XG5cdC8vIFBBUlNJTkdcblx0XG5cdGFkZFJlZ2V4VG9rZW4oJ1knLCAgICAgIG1hdGNoU2lnbmVkKTtcblx0YWRkUmVnZXhUb2tlbignWVknLCAgICAgbWF0Y2gxdG8yLCBtYXRjaDIpO1xuXHRhZGRSZWdleFRva2VuKCdZWVlZJywgICBtYXRjaDF0bzQsIG1hdGNoNCk7XG5cdGFkZFJlZ2V4VG9rZW4oJ1lZWVlZJywgIG1hdGNoMXRvNiwgbWF0Y2g2KTtcblx0YWRkUmVnZXhUb2tlbignWVlZWVlZJywgbWF0Y2gxdG82LCBtYXRjaDYpO1xuXHRcblx0YWRkUGFyc2VUb2tlbihbJ1lZWVlZJywgJ1lZWVlZWSddLCBZRUFSKTtcblx0YWRkUGFyc2VUb2tlbignWVlZWScsIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXkpIHtcblx0ICAgIGFycmF5W1lFQVJdID0gaW5wdXQubGVuZ3RoID09PSAyID8gaG9va3MucGFyc2VUd29EaWdpdFllYXIoaW5wdXQpIDogdG9JbnQoaW5wdXQpO1xuXHR9KTtcblx0YWRkUGFyc2VUb2tlbignWVknLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5KSB7XG5cdCAgICBhcnJheVtZRUFSXSA9IGhvb2tzLnBhcnNlVHdvRGlnaXRZZWFyKGlucHV0KTtcblx0fSk7XG5cdGFkZFBhcnNlVG9rZW4oJ1knLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5KSB7XG5cdCAgICBhcnJheVtZRUFSXSA9IHBhcnNlSW50KGlucHV0LCAxMCk7XG5cdH0pO1xuXHRcblx0Ly8gSEVMUEVSU1xuXHRcblx0ZnVuY3Rpb24gZGF5c0luWWVhcih5ZWFyKSB7XG5cdCAgICByZXR1cm4gaXNMZWFwWWVhcih5ZWFyKSA/IDM2NiA6IDM2NTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gaXNMZWFwWWVhcih5ZWFyKSB7XG5cdCAgICByZXR1cm4gKHllYXIgJSA0ID09PSAwICYmIHllYXIgJSAxMDAgIT09IDApIHx8IHllYXIgJSA0MDAgPT09IDA7XG5cdH1cblx0XG5cdC8vIEhPT0tTXG5cdFxuXHRob29rcy5wYXJzZVR3b0RpZ2l0WWVhciA9IGZ1bmN0aW9uIChpbnB1dCkge1xuXHQgICAgcmV0dXJuIHRvSW50KGlucHV0KSArICh0b0ludChpbnB1dCkgPiA2OCA/IDE5MDAgOiAyMDAwKTtcblx0fTtcblx0XG5cdC8vIE1PTUVOVFNcblx0XG5cdHZhciBnZXRTZXRZZWFyID0gbWFrZUdldFNldCgnRnVsbFllYXInLCB0cnVlKTtcblx0XG5cdGZ1bmN0aW9uIGdldElzTGVhcFllYXIgKCkge1xuXHQgICAgcmV0dXJuIGlzTGVhcFllYXIodGhpcy55ZWFyKCkpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBjcmVhdGVEYXRlICh5LCBtLCBkLCBoLCBNLCBzLCBtcykge1xuXHQgICAgLy9jYW4ndCBqdXN0IGFwcGx5KCkgdG8gY3JlYXRlIGEgZGF0ZTpcblx0ICAgIC8vaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8xODEzNDgvaW5zdGFudGlhdGluZy1hLWphdmFzY3JpcHQtb2JqZWN0LWJ5LWNhbGxpbmctcHJvdG90eXBlLWNvbnN0cnVjdG9yLWFwcGx5XG5cdCAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKHksIG0sIGQsIGgsIE0sIHMsIG1zKTtcblx0XG5cdCAgICAvL3RoZSBkYXRlIGNvbnN0cnVjdG9yIHJlbWFwcyB5ZWFycyAwLTk5IHRvIDE5MDAtMTk5OVxuXHQgICAgaWYgKHkgPCAxMDAgJiYgeSA+PSAwICYmIGlzRmluaXRlKGRhdGUuZ2V0RnVsbFllYXIoKSkpIHtcblx0ICAgICAgICBkYXRlLnNldEZ1bGxZZWFyKHkpO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIGRhdGU7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGNyZWF0ZVVUQ0RhdGUgKHkpIHtcblx0ICAgIHZhciBkYXRlID0gbmV3IERhdGUoRGF0ZS5VVEMuYXBwbHkobnVsbCwgYXJndW1lbnRzKSk7XG5cdFxuXHQgICAgLy90aGUgRGF0ZS5VVEMgZnVuY3Rpb24gcmVtYXBzIHllYXJzIDAtOTkgdG8gMTkwMC0xOTk5XG5cdCAgICBpZiAoeSA8IDEwMCAmJiB5ID49IDAgJiYgaXNGaW5pdGUoZGF0ZS5nZXRVVENGdWxsWWVhcigpKSkge1xuXHQgICAgICAgIGRhdGUuc2V0VVRDRnVsbFllYXIoeSk7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gZGF0ZTtcblx0fVxuXHRcblx0Ly8gc3RhcnQtb2YtZmlyc3Qtd2VlayAtIHN0YXJ0LW9mLXllYXJcblx0ZnVuY3Rpb24gZmlyc3RXZWVrT2Zmc2V0KHllYXIsIGRvdywgZG95KSB7XG5cdCAgICB2YXIgLy8gZmlyc3Qtd2VlayBkYXkgLS0gd2hpY2ggamFudWFyeSBpcyBhbHdheXMgaW4gdGhlIGZpcnN0IHdlZWsgKDQgZm9yIGlzbywgMSBmb3Igb3RoZXIpXG5cdCAgICAgICAgZndkID0gNyArIGRvdyAtIGRveSxcblx0ICAgICAgICAvLyBmaXJzdC13ZWVrIGRheSBsb2NhbCB3ZWVrZGF5IC0tIHdoaWNoIGxvY2FsIHdlZWtkYXkgaXMgZndkXG5cdCAgICAgICAgZndkbHcgPSAoNyArIGNyZWF0ZVVUQ0RhdGUoeWVhciwgMCwgZndkKS5nZXRVVENEYXkoKSAtIGRvdykgJSA3O1xuXHRcblx0ICAgIHJldHVybiAtZndkbHcgKyBmd2QgLSAxO1xuXHR9XG5cdFxuXHQvL2h0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvSVNPX3dlZWtfZGF0ZSNDYWxjdWxhdGluZ19hX2RhdGVfZ2l2ZW5fdGhlX3llYXIuMkNfd2Vla19udW1iZXJfYW5kX3dlZWtkYXlcblx0ZnVuY3Rpb24gZGF5T2ZZZWFyRnJvbVdlZWtzKHllYXIsIHdlZWssIHdlZWtkYXksIGRvdywgZG95KSB7XG5cdCAgICB2YXIgbG9jYWxXZWVrZGF5ID0gKDcgKyB3ZWVrZGF5IC0gZG93KSAlIDcsXG5cdCAgICAgICAgd2Vla09mZnNldCA9IGZpcnN0V2Vla09mZnNldCh5ZWFyLCBkb3csIGRveSksXG5cdCAgICAgICAgZGF5T2ZZZWFyID0gMSArIDcgKiAod2VlayAtIDEpICsgbG9jYWxXZWVrZGF5ICsgd2Vla09mZnNldCxcblx0ICAgICAgICByZXNZZWFyLCByZXNEYXlPZlllYXI7XG5cdFxuXHQgICAgaWYgKGRheU9mWWVhciA8PSAwKSB7XG5cdCAgICAgICAgcmVzWWVhciA9IHllYXIgLSAxO1xuXHQgICAgICAgIHJlc0RheU9mWWVhciA9IGRheXNJblllYXIocmVzWWVhcikgKyBkYXlPZlllYXI7XG5cdCAgICB9IGVsc2UgaWYgKGRheU9mWWVhciA+IGRheXNJblllYXIoeWVhcikpIHtcblx0ICAgICAgICByZXNZZWFyID0geWVhciArIDE7XG5cdCAgICAgICAgcmVzRGF5T2ZZZWFyID0gZGF5T2ZZZWFyIC0gZGF5c0luWWVhcih5ZWFyKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmVzWWVhciA9IHllYXI7XG5cdCAgICAgICAgcmVzRGF5T2ZZZWFyID0gZGF5T2ZZZWFyO1xuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiB7XG5cdCAgICAgICAgeWVhcjogcmVzWWVhcixcblx0ICAgICAgICBkYXlPZlllYXI6IHJlc0RheU9mWWVhclxuXHQgICAgfTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gd2Vla09mWWVhcihtb20sIGRvdywgZG95KSB7XG5cdCAgICB2YXIgd2Vla09mZnNldCA9IGZpcnN0V2Vla09mZnNldChtb20ueWVhcigpLCBkb3csIGRveSksXG5cdCAgICAgICAgd2VlayA9IE1hdGguZmxvb3IoKG1vbS5kYXlPZlllYXIoKSAtIHdlZWtPZmZzZXQgLSAxKSAvIDcpICsgMSxcblx0ICAgICAgICByZXNXZWVrLCByZXNZZWFyO1xuXHRcblx0ICAgIGlmICh3ZWVrIDwgMSkge1xuXHQgICAgICAgIHJlc1llYXIgPSBtb20ueWVhcigpIC0gMTtcblx0ICAgICAgICByZXNXZWVrID0gd2VlayArIHdlZWtzSW5ZZWFyKHJlc1llYXIsIGRvdywgZG95KTtcblx0ICAgIH0gZWxzZSBpZiAod2VlayA+IHdlZWtzSW5ZZWFyKG1vbS55ZWFyKCksIGRvdywgZG95KSkge1xuXHQgICAgICAgIHJlc1dlZWsgPSB3ZWVrIC0gd2Vla3NJblllYXIobW9tLnllYXIoKSwgZG93LCBkb3kpO1xuXHQgICAgICAgIHJlc1llYXIgPSBtb20ueWVhcigpICsgMTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmVzWWVhciA9IG1vbS55ZWFyKCk7XG5cdCAgICAgICAgcmVzV2VlayA9IHdlZWs7XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIHtcblx0ICAgICAgICB3ZWVrOiByZXNXZWVrLFxuXHQgICAgICAgIHllYXI6IHJlc1llYXJcblx0ICAgIH07XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHdlZWtzSW5ZZWFyKHllYXIsIGRvdywgZG95KSB7XG5cdCAgICB2YXIgd2Vla09mZnNldCA9IGZpcnN0V2Vla09mZnNldCh5ZWFyLCBkb3csIGRveSksXG5cdCAgICAgICAgd2Vla09mZnNldE5leHQgPSBmaXJzdFdlZWtPZmZzZXQoeWVhciArIDEsIGRvdywgZG95KTtcblx0ICAgIHJldHVybiAoZGF5c0luWWVhcih5ZWFyKSAtIHdlZWtPZmZzZXQgKyB3ZWVrT2Zmc2V0TmV4dCkgLyA3O1xuXHR9XG5cdFxuXHQvLyBGT1JNQVRUSU5HXG5cdFxuXHRhZGRGb3JtYXRUb2tlbigndycsIFsnd3cnLCAyXSwgJ3dvJywgJ3dlZWsnKTtcblx0YWRkRm9ybWF0VG9rZW4oJ1cnLCBbJ1dXJywgMl0sICdXbycsICdpc29XZWVrJyk7XG5cdFxuXHQvLyBBTElBU0VTXG5cdFxuXHRhZGRVbml0QWxpYXMoJ3dlZWsnLCAndycpO1xuXHRhZGRVbml0QWxpYXMoJ2lzb1dlZWsnLCAnVycpO1xuXHRcblx0Ly8gUFJJT1JJVElFU1xuXHRcblx0YWRkVW5pdFByaW9yaXR5KCd3ZWVrJywgNSk7XG5cdGFkZFVuaXRQcmlvcml0eSgnaXNvV2VlaycsIDUpO1xuXHRcblx0Ly8gUEFSU0lOR1xuXHRcblx0YWRkUmVnZXhUb2tlbigndycsICBtYXRjaDF0bzIpO1xuXHRhZGRSZWdleFRva2VuKCd3dycsIG1hdGNoMXRvMiwgbWF0Y2gyKTtcblx0YWRkUmVnZXhUb2tlbignVycsICBtYXRjaDF0bzIpO1xuXHRhZGRSZWdleFRva2VuKCdXVycsIG1hdGNoMXRvMiwgbWF0Y2gyKTtcblx0XG5cdGFkZFdlZWtQYXJzZVRva2VuKFsndycsICd3dycsICdXJywgJ1dXJ10sIGZ1bmN0aW9uIChpbnB1dCwgd2VlaywgY29uZmlnLCB0b2tlbikge1xuXHQgICAgd2Vla1t0b2tlbi5zdWJzdHIoMCwgMSldID0gdG9JbnQoaW5wdXQpO1xuXHR9KTtcblx0XG5cdC8vIEhFTFBFUlNcblx0XG5cdC8vIExPQ0FMRVNcblx0XG5cdGZ1bmN0aW9uIGxvY2FsZVdlZWsgKG1vbSkge1xuXHQgICAgcmV0dXJuIHdlZWtPZlllYXIobW9tLCB0aGlzLl93ZWVrLmRvdywgdGhpcy5fd2Vlay5kb3kpLndlZWs7XG5cdH1cblx0XG5cdHZhciBkZWZhdWx0TG9jYWxlV2VlayA9IHtcblx0ICAgIGRvdyA6IDAsIC8vIFN1bmRheSBpcyB0aGUgZmlyc3QgZGF5IG9mIHRoZSB3ZWVrLlxuXHQgICAgZG95IDogNiAgLy8gVGhlIHdlZWsgdGhhdCBjb250YWlucyBKYW4gMXN0IGlzIHRoZSBmaXJzdCB3ZWVrIG9mIHRoZSB5ZWFyLlxuXHR9O1xuXHRcblx0ZnVuY3Rpb24gbG9jYWxlRmlyc3REYXlPZldlZWsgKCkge1xuXHQgICAgcmV0dXJuIHRoaXMuX3dlZWsuZG93O1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBsb2NhbGVGaXJzdERheU9mWWVhciAoKSB7XG5cdCAgICByZXR1cm4gdGhpcy5fd2Vlay5kb3k7XG5cdH1cblx0XG5cdC8vIE1PTUVOVFNcblx0XG5cdGZ1bmN0aW9uIGdldFNldFdlZWsgKGlucHV0KSB7XG5cdCAgICB2YXIgd2VlayA9IHRoaXMubG9jYWxlRGF0YSgpLndlZWsodGhpcyk7XG5cdCAgICByZXR1cm4gaW5wdXQgPT0gbnVsbCA/IHdlZWsgOiB0aGlzLmFkZCgoaW5wdXQgLSB3ZWVrKSAqIDcsICdkJyk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGdldFNldElTT1dlZWsgKGlucHV0KSB7XG5cdCAgICB2YXIgd2VlayA9IHdlZWtPZlllYXIodGhpcywgMSwgNCkud2Vlaztcblx0ICAgIHJldHVybiBpbnB1dCA9PSBudWxsID8gd2VlayA6IHRoaXMuYWRkKChpbnB1dCAtIHdlZWspICogNywgJ2QnKTtcblx0fVxuXHRcblx0Ly8gRk9STUFUVElOR1xuXHRcblx0YWRkRm9ybWF0VG9rZW4oJ2QnLCAwLCAnZG8nLCAnZGF5Jyk7XG5cdFxuXHRhZGRGb3JtYXRUb2tlbignZGQnLCAwLCAwLCBmdW5jdGlvbiAoZm9ybWF0KSB7XG5cdCAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkud2Vla2RheXNNaW4odGhpcywgZm9ybWF0KTtcblx0fSk7XG5cdFxuXHRhZGRGb3JtYXRUb2tlbignZGRkJywgMCwgMCwgZnVuY3Rpb24gKGZvcm1hdCkge1xuXHQgICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLndlZWtkYXlzU2hvcnQodGhpcywgZm9ybWF0KTtcblx0fSk7XG5cdFxuXHRhZGRGb3JtYXRUb2tlbignZGRkZCcsIDAsIDAsIGZ1bmN0aW9uIChmb3JtYXQpIHtcblx0ICAgIHJldHVybiB0aGlzLmxvY2FsZURhdGEoKS53ZWVrZGF5cyh0aGlzLCBmb3JtYXQpO1xuXHR9KTtcblx0XG5cdGFkZEZvcm1hdFRva2VuKCdlJywgMCwgMCwgJ3dlZWtkYXknKTtcblx0YWRkRm9ybWF0VG9rZW4oJ0UnLCAwLCAwLCAnaXNvV2Vla2RheScpO1xuXHRcblx0Ly8gQUxJQVNFU1xuXHRcblx0YWRkVW5pdEFsaWFzKCdkYXknLCAnZCcpO1xuXHRhZGRVbml0QWxpYXMoJ3dlZWtkYXknLCAnZScpO1xuXHRhZGRVbml0QWxpYXMoJ2lzb1dlZWtkYXknLCAnRScpO1xuXHRcblx0Ly8gUFJJT1JJVFlcblx0YWRkVW5pdFByaW9yaXR5KCdkYXknLCAxMSk7XG5cdGFkZFVuaXRQcmlvcml0eSgnd2Vla2RheScsIDExKTtcblx0YWRkVW5pdFByaW9yaXR5KCdpc29XZWVrZGF5JywgMTEpO1xuXHRcblx0Ly8gUEFSU0lOR1xuXHRcblx0YWRkUmVnZXhUb2tlbignZCcsICAgIG1hdGNoMXRvMik7XG5cdGFkZFJlZ2V4VG9rZW4oJ2UnLCAgICBtYXRjaDF0bzIpO1xuXHRhZGRSZWdleFRva2VuKCdFJywgICAgbWF0Y2gxdG8yKTtcblx0YWRkUmVnZXhUb2tlbignZGQnLCAgIGZ1bmN0aW9uIChpc1N0cmljdCwgbG9jYWxlKSB7XG5cdCAgICByZXR1cm4gbG9jYWxlLndlZWtkYXlzTWluUmVnZXgoaXNTdHJpY3QpO1xuXHR9KTtcblx0YWRkUmVnZXhUb2tlbignZGRkJywgICBmdW5jdGlvbiAoaXNTdHJpY3QsIGxvY2FsZSkge1xuXHQgICAgcmV0dXJuIGxvY2FsZS53ZWVrZGF5c1Nob3J0UmVnZXgoaXNTdHJpY3QpO1xuXHR9KTtcblx0YWRkUmVnZXhUb2tlbignZGRkZCcsICAgZnVuY3Rpb24gKGlzU3RyaWN0LCBsb2NhbGUpIHtcblx0ICAgIHJldHVybiBsb2NhbGUud2Vla2RheXNSZWdleChpc1N0cmljdCk7XG5cdH0pO1xuXHRcblx0YWRkV2Vla1BhcnNlVG9rZW4oWydkZCcsICdkZGQnLCAnZGRkZCddLCBmdW5jdGlvbiAoaW5wdXQsIHdlZWssIGNvbmZpZywgdG9rZW4pIHtcblx0ICAgIHZhciB3ZWVrZGF5ID0gY29uZmlnLl9sb2NhbGUud2Vla2RheXNQYXJzZShpbnB1dCwgdG9rZW4sIGNvbmZpZy5fc3RyaWN0KTtcblx0ICAgIC8vIGlmIHdlIGRpZG4ndCBnZXQgYSB3ZWVrZGF5IG5hbWUsIG1hcmsgdGhlIGRhdGUgYXMgaW52YWxpZFxuXHQgICAgaWYgKHdlZWtkYXkgIT0gbnVsbCkge1xuXHQgICAgICAgIHdlZWsuZCA9IHdlZWtkYXk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmludmFsaWRXZWVrZGF5ID0gaW5wdXQ7XG5cdCAgICB9XG5cdH0pO1xuXHRcblx0YWRkV2Vla1BhcnNlVG9rZW4oWydkJywgJ2UnLCAnRSddLCBmdW5jdGlvbiAoaW5wdXQsIHdlZWssIGNvbmZpZywgdG9rZW4pIHtcblx0ICAgIHdlZWtbdG9rZW5dID0gdG9JbnQoaW5wdXQpO1xuXHR9KTtcblx0XG5cdC8vIEhFTFBFUlNcblx0XG5cdGZ1bmN0aW9uIHBhcnNlV2Vla2RheShpbnB1dCwgbG9jYWxlKSB7XG5cdCAgICBpZiAodHlwZW9mIGlucHV0ICE9PSAnc3RyaW5nJykge1xuXHQgICAgICAgIHJldHVybiBpbnB1dDtcblx0ICAgIH1cblx0XG5cdCAgICBpZiAoIWlzTmFOKGlucHV0KSkge1xuXHQgICAgICAgIHJldHVybiBwYXJzZUludChpbnB1dCwgMTApO1xuXHQgICAgfVxuXHRcblx0ICAgIGlucHV0ID0gbG9jYWxlLndlZWtkYXlzUGFyc2UoaW5wdXQpO1xuXHQgICAgaWYgKHR5cGVvZiBpbnB1dCA9PT0gJ251bWJlcicpIHtcblx0ICAgICAgICByZXR1cm4gaW5wdXQ7XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIG51bGw7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHBhcnNlSXNvV2Vla2RheShpbnB1dCwgbG9jYWxlKSB7XG5cdCAgICBpZiAodHlwZW9mIGlucHV0ID09PSAnc3RyaW5nJykge1xuXHQgICAgICAgIHJldHVybiBsb2NhbGUud2Vla2RheXNQYXJzZShpbnB1dCkgJSA3IHx8IDc7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gaXNOYU4oaW5wdXQpID8gbnVsbCA6IGlucHV0O1xuXHR9XG5cdFxuXHQvLyBMT0NBTEVTXG5cdFxuXHR2YXIgZGVmYXVsdExvY2FsZVdlZWtkYXlzID0gJ1N1bmRheV9Nb25kYXlfVHVlc2RheV9XZWRuZXNkYXlfVGh1cnNkYXlfRnJpZGF5X1NhdHVyZGF5Jy5zcGxpdCgnXycpO1xuXHRmdW5jdGlvbiBsb2NhbGVXZWVrZGF5cyAobSwgZm9ybWF0KSB7XG5cdCAgICBpZiAoIW0pIHtcblx0ICAgICAgICByZXR1cm4gdGhpcy5fd2Vla2RheXM7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gaXNBcnJheSh0aGlzLl93ZWVrZGF5cykgPyB0aGlzLl93ZWVrZGF5c1ttLmRheSgpXSA6XG5cdCAgICAgICAgdGhpcy5fd2Vla2RheXNbdGhpcy5fd2Vla2RheXMuaXNGb3JtYXQudGVzdChmb3JtYXQpID8gJ2Zvcm1hdCcgOiAnc3RhbmRhbG9uZSddW20uZGF5KCldO1xuXHR9XG5cdFxuXHR2YXIgZGVmYXVsdExvY2FsZVdlZWtkYXlzU2hvcnQgPSAnU3VuX01vbl9UdWVfV2VkX1RodV9GcmlfU2F0Jy5zcGxpdCgnXycpO1xuXHRmdW5jdGlvbiBsb2NhbGVXZWVrZGF5c1Nob3J0IChtKSB7XG5cdCAgICByZXR1cm4gKG0pID8gdGhpcy5fd2Vla2RheXNTaG9ydFttLmRheSgpXSA6IHRoaXMuX3dlZWtkYXlzU2hvcnQ7XG5cdH1cblx0XG5cdHZhciBkZWZhdWx0TG9jYWxlV2Vla2RheXNNaW4gPSAnU3VfTW9fVHVfV2VfVGhfRnJfU2EnLnNwbGl0KCdfJyk7XG5cdGZ1bmN0aW9uIGxvY2FsZVdlZWtkYXlzTWluIChtKSB7XG5cdCAgICByZXR1cm4gKG0pID8gdGhpcy5fd2Vla2RheXNNaW5bbS5kYXkoKV0gOiB0aGlzLl93ZWVrZGF5c01pbjtcblx0fVxuXHRcblx0ZnVuY3Rpb24gaGFuZGxlU3RyaWN0UGFyc2UkMSh3ZWVrZGF5TmFtZSwgZm9ybWF0LCBzdHJpY3QpIHtcblx0ICAgIHZhciBpLCBpaSwgbW9tLCBsbGMgPSB3ZWVrZGF5TmFtZS50b0xvY2FsZUxvd2VyQ2FzZSgpO1xuXHQgICAgaWYgKCF0aGlzLl93ZWVrZGF5c1BhcnNlKSB7XG5cdCAgICAgICAgdGhpcy5fd2Vla2RheXNQYXJzZSA9IFtdO1xuXHQgICAgICAgIHRoaXMuX3Nob3J0V2Vla2RheXNQYXJzZSA9IFtdO1xuXHQgICAgICAgIHRoaXMuX21pbldlZWtkYXlzUGFyc2UgPSBbXTtcblx0XG5cdCAgICAgICAgZm9yIChpID0gMDsgaSA8IDc7ICsraSkge1xuXHQgICAgICAgICAgICBtb20gPSBjcmVhdGVVVEMoWzIwMDAsIDFdKS5kYXkoaSk7XG5cdCAgICAgICAgICAgIHRoaXMuX21pbldlZWtkYXlzUGFyc2VbaV0gPSB0aGlzLndlZWtkYXlzTWluKG1vbSwgJycpLnRvTG9jYWxlTG93ZXJDYXNlKCk7XG5cdCAgICAgICAgICAgIHRoaXMuX3Nob3J0V2Vla2RheXNQYXJzZVtpXSA9IHRoaXMud2Vla2RheXNTaG9ydChtb20sICcnKS50b0xvY2FsZUxvd2VyQ2FzZSgpO1xuXHQgICAgICAgICAgICB0aGlzLl93ZWVrZGF5c1BhcnNlW2ldID0gdGhpcy53ZWVrZGF5cyhtb20sICcnKS50b0xvY2FsZUxvd2VyQ2FzZSgpO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICBpZiAoc3RyaWN0KSB7XG5cdCAgICAgICAgaWYgKGZvcm1hdCA9PT0gJ2RkZGQnKSB7XG5cdCAgICAgICAgICAgIGlpID0gaW5kZXhPZiQxLmNhbGwodGhpcy5fd2Vla2RheXNQYXJzZSwgbGxjKTtcblx0ICAgICAgICAgICAgcmV0dXJuIGlpICE9PSAtMSA/IGlpIDogbnVsbDtcblx0ICAgICAgICB9IGVsc2UgaWYgKGZvcm1hdCA9PT0gJ2RkZCcpIHtcblx0ICAgICAgICAgICAgaWkgPSBpbmRleE9mJDEuY2FsbCh0aGlzLl9zaG9ydFdlZWtkYXlzUGFyc2UsIGxsYyk7XG5cdCAgICAgICAgICAgIHJldHVybiBpaSAhPT0gLTEgPyBpaSA6IG51bGw7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgaWkgPSBpbmRleE9mJDEuY2FsbCh0aGlzLl9taW5XZWVrZGF5c1BhcnNlLCBsbGMpO1xuXHQgICAgICAgICAgICByZXR1cm4gaWkgIT09IC0xID8gaWkgOiBudWxsO1xuXHQgICAgICAgIH1cblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgaWYgKGZvcm1hdCA9PT0gJ2RkZGQnKSB7XG5cdCAgICAgICAgICAgIGlpID0gaW5kZXhPZiQxLmNhbGwodGhpcy5fd2Vla2RheXNQYXJzZSwgbGxjKTtcblx0ICAgICAgICAgICAgaWYgKGlpICE9PSAtMSkge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIGlpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIGlpID0gaW5kZXhPZiQxLmNhbGwodGhpcy5fc2hvcnRXZWVrZGF5c1BhcnNlLCBsbGMpO1xuXHQgICAgICAgICAgICBpZiAoaWkgIT09IC0xKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gaWk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgaWkgPSBpbmRleE9mJDEuY2FsbCh0aGlzLl9taW5XZWVrZGF5c1BhcnNlLCBsbGMpO1xuXHQgICAgICAgICAgICByZXR1cm4gaWkgIT09IC0xID8gaWkgOiBudWxsO1xuXHQgICAgICAgIH0gZWxzZSBpZiAoZm9ybWF0ID09PSAnZGRkJykge1xuXHQgICAgICAgICAgICBpaSA9IGluZGV4T2YkMS5jYWxsKHRoaXMuX3Nob3J0V2Vla2RheXNQYXJzZSwgbGxjKTtcblx0ICAgICAgICAgICAgaWYgKGlpICE9PSAtMSkge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIGlpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIGlpID0gaW5kZXhPZiQxLmNhbGwodGhpcy5fd2Vla2RheXNQYXJzZSwgbGxjKTtcblx0ICAgICAgICAgICAgaWYgKGlpICE9PSAtMSkge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIGlpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIGlpID0gaW5kZXhPZiQxLmNhbGwodGhpcy5fbWluV2Vla2RheXNQYXJzZSwgbGxjKTtcblx0ICAgICAgICAgICAgcmV0dXJuIGlpICE9PSAtMSA/IGlpIDogbnVsbDtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICBpaSA9IGluZGV4T2YkMS5jYWxsKHRoaXMuX21pbldlZWtkYXlzUGFyc2UsIGxsYyk7XG5cdCAgICAgICAgICAgIGlmIChpaSAhPT0gLTEpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBpaTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBpaSA9IGluZGV4T2YkMS5jYWxsKHRoaXMuX3dlZWtkYXlzUGFyc2UsIGxsYyk7XG5cdCAgICAgICAgICAgIGlmIChpaSAhPT0gLTEpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBpaTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBpaSA9IGluZGV4T2YkMS5jYWxsKHRoaXMuX3Nob3J0V2Vla2RheXNQYXJzZSwgbGxjKTtcblx0ICAgICAgICAgICAgcmV0dXJuIGlpICE9PSAtMSA/IGlpIDogbnVsbDtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGxvY2FsZVdlZWtkYXlzUGFyc2UgKHdlZWtkYXlOYW1lLCBmb3JtYXQsIHN0cmljdCkge1xuXHQgICAgdmFyIGksIG1vbSwgcmVnZXg7XG5cdFxuXHQgICAgaWYgKHRoaXMuX3dlZWtkYXlzUGFyc2VFeGFjdCkge1xuXHQgICAgICAgIHJldHVybiBoYW5kbGVTdHJpY3RQYXJzZSQxLmNhbGwodGhpcywgd2Vla2RheU5hbWUsIGZvcm1hdCwgc3RyaWN0KTtcblx0ICAgIH1cblx0XG5cdCAgICBpZiAoIXRoaXMuX3dlZWtkYXlzUGFyc2UpIHtcblx0ICAgICAgICB0aGlzLl93ZWVrZGF5c1BhcnNlID0gW107XG5cdCAgICAgICAgdGhpcy5fbWluV2Vla2RheXNQYXJzZSA9IFtdO1xuXHQgICAgICAgIHRoaXMuX3Nob3J0V2Vla2RheXNQYXJzZSA9IFtdO1xuXHQgICAgICAgIHRoaXMuX2Z1bGxXZWVrZGF5c1BhcnNlID0gW107XG5cdCAgICB9XG5cdFxuXHQgICAgZm9yIChpID0gMDsgaSA8IDc7IGkrKykge1xuXHQgICAgICAgIC8vIG1ha2UgdGhlIHJlZ2V4IGlmIHdlIGRvbid0IGhhdmUgaXQgYWxyZWFkeVxuXHRcblx0ICAgICAgICBtb20gPSBjcmVhdGVVVEMoWzIwMDAsIDFdKS5kYXkoaSk7XG5cdCAgICAgICAgaWYgKHN0cmljdCAmJiAhdGhpcy5fZnVsbFdlZWtkYXlzUGFyc2VbaV0pIHtcblx0ICAgICAgICAgICAgdGhpcy5fZnVsbFdlZWtkYXlzUGFyc2VbaV0gPSBuZXcgUmVnRXhwKCdeJyArIHRoaXMud2Vla2RheXMobW9tLCAnJykucmVwbGFjZSgnLicsICdcXC4/JykgKyAnJCcsICdpJyk7XG5cdCAgICAgICAgICAgIHRoaXMuX3Nob3J0V2Vla2RheXNQYXJzZVtpXSA9IG5ldyBSZWdFeHAoJ14nICsgdGhpcy53ZWVrZGF5c1Nob3J0KG1vbSwgJycpLnJlcGxhY2UoJy4nLCAnXFwuPycpICsgJyQnLCAnaScpO1xuXHQgICAgICAgICAgICB0aGlzLl9taW5XZWVrZGF5c1BhcnNlW2ldID0gbmV3IFJlZ0V4cCgnXicgKyB0aGlzLndlZWtkYXlzTWluKG1vbSwgJycpLnJlcGxhY2UoJy4nLCAnXFwuPycpICsgJyQnLCAnaScpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAoIXRoaXMuX3dlZWtkYXlzUGFyc2VbaV0pIHtcblx0ICAgICAgICAgICAgcmVnZXggPSAnXicgKyB0aGlzLndlZWtkYXlzKG1vbSwgJycpICsgJ3xeJyArIHRoaXMud2Vla2RheXNTaG9ydChtb20sICcnKSArICd8XicgKyB0aGlzLndlZWtkYXlzTWluKG1vbSwgJycpO1xuXHQgICAgICAgICAgICB0aGlzLl93ZWVrZGF5c1BhcnNlW2ldID0gbmV3IFJlZ0V4cChyZWdleC5yZXBsYWNlKCcuJywgJycpLCAnaScpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICAvLyB0ZXN0IHRoZSByZWdleFxuXHQgICAgICAgIGlmIChzdHJpY3QgJiYgZm9ybWF0ID09PSAnZGRkZCcgJiYgdGhpcy5fZnVsbFdlZWtkYXlzUGFyc2VbaV0udGVzdCh3ZWVrZGF5TmFtZSkpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIGk7XG5cdCAgICAgICAgfSBlbHNlIGlmIChzdHJpY3QgJiYgZm9ybWF0ID09PSAnZGRkJyAmJiB0aGlzLl9zaG9ydFdlZWtkYXlzUGFyc2VbaV0udGVzdCh3ZWVrZGF5TmFtZSkpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIGk7XG5cdCAgICAgICAgfSBlbHNlIGlmIChzdHJpY3QgJiYgZm9ybWF0ID09PSAnZGQnICYmIHRoaXMuX21pbldlZWtkYXlzUGFyc2VbaV0udGVzdCh3ZWVrZGF5TmFtZSkpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIGk7XG5cdCAgICAgICAgfSBlbHNlIGlmICghc3RyaWN0ICYmIHRoaXMuX3dlZWtkYXlzUGFyc2VbaV0udGVzdCh3ZWVrZGF5TmFtZSkpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIGk7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHR9XG5cdFxuXHQvLyBNT01FTlRTXG5cdFxuXHRmdW5jdGlvbiBnZXRTZXREYXlPZldlZWsgKGlucHV0KSB7XG5cdCAgICBpZiAoIXRoaXMuaXNWYWxpZCgpKSB7XG5cdCAgICAgICAgcmV0dXJuIGlucHV0ICE9IG51bGwgPyB0aGlzIDogTmFOO1xuXHQgICAgfVxuXHQgICAgdmFyIGRheSA9IHRoaXMuX2lzVVRDID8gdGhpcy5fZC5nZXRVVENEYXkoKSA6IHRoaXMuX2QuZ2V0RGF5KCk7XG5cdCAgICBpZiAoaW5wdXQgIT0gbnVsbCkge1xuXHQgICAgICAgIGlucHV0ID0gcGFyc2VXZWVrZGF5KGlucHV0LCB0aGlzLmxvY2FsZURhdGEoKSk7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMuYWRkKGlucHV0IC0gZGF5LCAnZCcpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXR1cm4gZGF5O1xuXHQgICAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBnZXRTZXRMb2NhbGVEYXlPZldlZWsgKGlucHV0KSB7XG5cdCAgICBpZiAoIXRoaXMuaXNWYWxpZCgpKSB7XG5cdCAgICAgICAgcmV0dXJuIGlucHV0ICE9IG51bGwgPyB0aGlzIDogTmFOO1xuXHQgICAgfVxuXHQgICAgdmFyIHdlZWtkYXkgPSAodGhpcy5kYXkoKSArIDcgLSB0aGlzLmxvY2FsZURhdGEoKS5fd2Vlay5kb3cpICUgNztcblx0ICAgIHJldHVybiBpbnB1dCA9PSBudWxsID8gd2Vla2RheSA6IHRoaXMuYWRkKGlucHV0IC0gd2Vla2RheSwgJ2QnKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gZ2V0U2V0SVNPRGF5T2ZXZWVrIChpbnB1dCkge1xuXHQgICAgaWYgKCF0aGlzLmlzVmFsaWQoKSkge1xuXHQgICAgICAgIHJldHVybiBpbnB1dCAhPSBudWxsID8gdGhpcyA6IE5hTjtcblx0ICAgIH1cblx0XG5cdCAgICAvLyBiZWhhdmVzIHRoZSBzYW1lIGFzIG1vbWVudCNkYXkgZXhjZXB0XG5cdCAgICAvLyBhcyBhIGdldHRlciwgcmV0dXJucyA3IGluc3RlYWQgb2YgMCAoMS03IHJhbmdlIGluc3RlYWQgb2YgMC02KVxuXHQgICAgLy8gYXMgYSBzZXR0ZXIsIHN1bmRheSBzaG91bGQgYmVsb25nIHRvIHRoZSBwcmV2aW91cyB3ZWVrLlxuXHRcblx0ICAgIGlmIChpbnB1dCAhPSBudWxsKSB7XG5cdCAgICAgICAgdmFyIHdlZWtkYXkgPSBwYXJzZUlzb1dlZWtkYXkoaW5wdXQsIHRoaXMubG9jYWxlRGF0YSgpKTtcblx0ICAgICAgICByZXR1cm4gdGhpcy5kYXkodGhpcy5kYXkoKSAlIDcgPyB3ZWVrZGF5IDogd2Vla2RheSAtIDcpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXR1cm4gdGhpcy5kYXkoKSB8fCA3O1xuXHQgICAgfVxuXHR9XG5cdFxuXHR2YXIgZGVmYXVsdFdlZWtkYXlzUmVnZXggPSBtYXRjaFdvcmQ7XG5cdGZ1bmN0aW9uIHdlZWtkYXlzUmVnZXggKGlzU3RyaWN0KSB7XG5cdCAgICBpZiAodGhpcy5fd2Vla2RheXNQYXJzZUV4YWN0KSB7XG5cdCAgICAgICAgaWYgKCFoYXNPd25Qcm9wKHRoaXMsICdfd2Vla2RheXNSZWdleCcpKSB7XG5cdCAgICAgICAgICAgIGNvbXB1dGVXZWVrZGF5c1BhcnNlLmNhbGwodGhpcyk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmIChpc1N0cmljdCkge1xuXHQgICAgICAgICAgICByZXR1cm4gdGhpcy5fd2Vla2RheXNTdHJpY3RSZWdleDtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICByZXR1cm4gdGhpcy5fd2Vla2RheXNSZWdleDtcblx0ICAgICAgICB9XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIGlmICghaGFzT3duUHJvcCh0aGlzLCAnX3dlZWtkYXlzUmVnZXgnKSkge1xuXHQgICAgICAgICAgICB0aGlzLl93ZWVrZGF5c1JlZ2V4ID0gZGVmYXVsdFdlZWtkYXlzUmVnZXg7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiB0aGlzLl93ZWVrZGF5c1N0cmljdFJlZ2V4ICYmIGlzU3RyaWN0ID9cblx0ICAgICAgICAgICAgdGhpcy5fd2Vla2RheXNTdHJpY3RSZWdleCA6IHRoaXMuX3dlZWtkYXlzUmVnZXg7XG5cdCAgICB9XG5cdH1cblx0XG5cdHZhciBkZWZhdWx0V2Vla2RheXNTaG9ydFJlZ2V4ID0gbWF0Y2hXb3JkO1xuXHRmdW5jdGlvbiB3ZWVrZGF5c1Nob3J0UmVnZXggKGlzU3RyaWN0KSB7XG5cdCAgICBpZiAodGhpcy5fd2Vla2RheXNQYXJzZUV4YWN0KSB7XG5cdCAgICAgICAgaWYgKCFoYXNPd25Qcm9wKHRoaXMsICdfd2Vla2RheXNSZWdleCcpKSB7XG5cdCAgICAgICAgICAgIGNvbXB1dGVXZWVrZGF5c1BhcnNlLmNhbGwodGhpcyk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmIChpc1N0cmljdCkge1xuXHQgICAgICAgICAgICByZXR1cm4gdGhpcy5fd2Vla2RheXNTaG9ydFN0cmljdFJlZ2V4O1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzLl93ZWVrZGF5c1Nob3J0UmVnZXg7XG5cdCAgICAgICAgfVxuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICBpZiAoIWhhc093blByb3AodGhpcywgJ193ZWVrZGF5c1Nob3J0UmVnZXgnKSkge1xuXHQgICAgICAgICAgICB0aGlzLl93ZWVrZGF5c1Nob3J0UmVnZXggPSBkZWZhdWx0V2Vla2RheXNTaG9ydFJlZ2V4O1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gdGhpcy5fd2Vla2RheXNTaG9ydFN0cmljdFJlZ2V4ICYmIGlzU3RyaWN0ID9cblx0ICAgICAgICAgICAgdGhpcy5fd2Vla2RheXNTaG9ydFN0cmljdFJlZ2V4IDogdGhpcy5fd2Vla2RheXNTaG9ydFJlZ2V4O1xuXHQgICAgfVxuXHR9XG5cdFxuXHR2YXIgZGVmYXVsdFdlZWtkYXlzTWluUmVnZXggPSBtYXRjaFdvcmQ7XG5cdGZ1bmN0aW9uIHdlZWtkYXlzTWluUmVnZXggKGlzU3RyaWN0KSB7XG5cdCAgICBpZiAodGhpcy5fd2Vla2RheXNQYXJzZUV4YWN0KSB7XG5cdCAgICAgICAgaWYgKCFoYXNPd25Qcm9wKHRoaXMsICdfd2Vla2RheXNSZWdleCcpKSB7XG5cdCAgICAgICAgICAgIGNvbXB1dGVXZWVrZGF5c1BhcnNlLmNhbGwodGhpcyk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmIChpc1N0cmljdCkge1xuXHQgICAgICAgICAgICByZXR1cm4gdGhpcy5fd2Vla2RheXNNaW5TdHJpY3RSZWdleDtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICByZXR1cm4gdGhpcy5fd2Vla2RheXNNaW5SZWdleDtcblx0ICAgICAgICB9XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIGlmICghaGFzT3duUHJvcCh0aGlzLCAnX3dlZWtkYXlzTWluUmVnZXgnKSkge1xuXHQgICAgICAgICAgICB0aGlzLl93ZWVrZGF5c01pblJlZ2V4ID0gZGVmYXVsdFdlZWtkYXlzTWluUmVnZXg7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiB0aGlzLl93ZWVrZGF5c01pblN0cmljdFJlZ2V4ICYmIGlzU3RyaWN0ID9cblx0ICAgICAgICAgICAgdGhpcy5fd2Vla2RheXNNaW5TdHJpY3RSZWdleCA6IHRoaXMuX3dlZWtkYXlzTWluUmVnZXg7XG5cdCAgICB9XG5cdH1cblx0XG5cdFxuXHRmdW5jdGlvbiBjb21wdXRlV2Vla2RheXNQYXJzZSAoKSB7XG5cdCAgICBmdW5jdGlvbiBjbXBMZW5SZXYoYSwgYikge1xuXHQgICAgICAgIHJldHVybiBiLmxlbmd0aCAtIGEubGVuZ3RoO1xuXHQgICAgfVxuXHRcblx0ICAgIHZhciBtaW5QaWVjZXMgPSBbXSwgc2hvcnRQaWVjZXMgPSBbXSwgbG9uZ1BpZWNlcyA9IFtdLCBtaXhlZFBpZWNlcyA9IFtdLFxuXHQgICAgICAgIGksIG1vbSwgbWlucCwgc2hvcnRwLCBsb25ncDtcblx0ICAgIGZvciAoaSA9IDA7IGkgPCA3OyBpKyspIHtcblx0ICAgICAgICAvLyBtYWtlIHRoZSByZWdleCBpZiB3ZSBkb24ndCBoYXZlIGl0IGFscmVhZHlcblx0ICAgICAgICBtb20gPSBjcmVhdGVVVEMoWzIwMDAsIDFdKS5kYXkoaSk7XG5cdCAgICAgICAgbWlucCA9IHRoaXMud2Vla2RheXNNaW4obW9tLCAnJyk7XG5cdCAgICAgICAgc2hvcnRwID0gdGhpcy53ZWVrZGF5c1Nob3J0KG1vbSwgJycpO1xuXHQgICAgICAgIGxvbmdwID0gdGhpcy53ZWVrZGF5cyhtb20sICcnKTtcblx0ICAgICAgICBtaW5QaWVjZXMucHVzaChtaW5wKTtcblx0ICAgICAgICBzaG9ydFBpZWNlcy5wdXNoKHNob3J0cCk7XG5cdCAgICAgICAgbG9uZ1BpZWNlcy5wdXNoKGxvbmdwKTtcblx0ICAgICAgICBtaXhlZFBpZWNlcy5wdXNoKG1pbnApO1xuXHQgICAgICAgIG1peGVkUGllY2VzLnB1c2goc2hvcnRwKTtcblx0ICAgICAgICBtaXhlZFBpZWNlcy5wdXNoKGxvbmdwKTtcblx0ICAgIH1cblx0ICAgIC8vIFNvcnRpbmcgbWFrZXMgc3VyZSBpZiBvbmUgd2Vla2RheSAob3IgYWJicikgaXMgYSBwcmVmaXggb2YgYW5vdGhlciBpdFxuXHQgICAgLy8gd2lsbCBtYXRjaCB0aGUgbG9uZ2VyIHBpZWNlLlxuXHQgICAgbWluUGllY2VzLnNvcnQoY21wTGVuUmV2KTtcblx0ICAgIHNob3J0UGllY2VzLnNvcnQoY21wTGVuUmV2KTtcblx0ICAgIGxvbmdQaWVjZXMuc29ydChjbXBMZW5SZXYpO1xuXHQgICAgbWl4ZWRQaWVjZXMuc29ydChjbXBMZW5SZXYpO1xuXHQgICAgZm9yIChpID0gMDsgaSA8IDc7IGkrKykge1xuXHQgICAgICAgIHNob3J0UGllY2VzW2ldID0gcmVnZXhFc2NhcGUoc2hvcnRQaWVjZXNbaV0pO1xuXHQgICAgICAgIGxvbmdQaWVjZXNbaV0gPSByZWdleEVzY2FwZShsb25nUGllY2VzW2ldKTtcblx0ICAgICAgICBtaXhlZFBpZWNlc1tpXSA9IHJlZ2V4RXNjYXBlKG1peGVkUGllY2VzW2ldKTtcblx0ICAgIH1cblx0XG5cdCAgICB0aGlzLl93ZWVrZGF5c1JlZ2V4ID0gbmV3IFJlZ0V4cCgnXignICsgbWl4ZWRQaWVjZXMuam9pbignfCcpICsgJyknLCAnaScpO1xuXHQgICAgdGhpcy5fd2Vla2RheXNTaG9ydFJlZ2V4ID0gdGhpcy5fd2Vla2RheXNSZWdleDtcblx0ICAgIHRoaXMuX3dlZWtkYXlzTWluUmVnZXggPSB0aGlzLl93ZWVrZGF5c1JlZ2V4O1xuXHRcblx0ICAgIHRoaXMuX3dlZWtkYXlzU3RyaWN0UmVnZXggPSBuZXcgUmVnRXhwKCdeKCcgKyBsb25nUGllY2VzLmpvaW4oJ3wnKSArICcpJywgJ2knKTtcblx0ICAgIHRoaXMuX3dlZWtkYXlzU2hvcnRTdHJpY3RSZWdleCA9IG5ldyBSZWdFeHAoJ14oJyArIHNob3J0UGllY2VzLmpvaW4oJ3wnKSArICcpJywgJ2knKTtcblx0ICAgIHRoaXMuX3dlZWtkYXlzTWluU3RyaWN0UmVnZXggPSBuZXcgUmVnRXhwKCdeKCcgKyBtaW5QaWVjZXMuam9pbignfCcpICsgJyknLCAnaScpO1xuXHR9XG5cdFxuXHQvLyBGT1JNQVRUSU5HXG5cdFxuXHRmdW5jdGlvbiBoRm9ybWF0KCkge1xuXHQgICAgcmV0dXJuIHRoaXMuaG91cnMoKSAlIDEyIHx8IDEyO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBrRm9ybWF0KCkge1xuXHQgICAgcmV0dXJuIHRoaXMuaG91cnMoKSB8fCAyNDtcblx0fVxuXHRcblx0YWRkRm9ybWF0VG9rZW4oJ0gnLCBbJ0hIJywgMl0sIDAsICdob3VyJyk7XG5cdGFkZEZvcm1hdFRva2VuKCdoJywgWydoaCcsIDJdLCAwLCBoRm9ybWF0KTtcblx0YWRkRm9ybWF0VG9rZW4oJ2snLCBbJ2trJywgMl0sIDAsIGtGb3JtYXQpO1xuXHRcblx0YWRkRm9ybWF0VG9rZW4oJ2htbScsIDAsIDAsIGZ1bmN0aW9uICgpIHtcblx0ICAgIHJldHVybiAnJyArIGhGb3JtYXQuYXBwbHkodGhpcykgKyB6ZXJvRmlsbCh0aGlzLm1pbnV0ZXMoKSwgMik7XG5cdH0pO1xuXHRcblx0YWRkRm9ybWF0VG9rZW4oJ2htbXNzJywgMCwgMCwgZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuICcnICsgaEZvcm1hdC5hcHBseSh0aGlzKSArIHplcm9GaWxsKHRoaXMubWludXRlcygpLCAyKSArXG5cdCAgICAgICAgemVyb0ZpbGwodGhpcy5zZWNvbmRzKCksIDIpO1xuXHR9KTtcblx0XG5cdGFkZEZvcm1hdFRva2VuKCdIbW0nLCAwLCAwLCBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gJycgKyB0aGlzLmhvdXJzKCkgKyB6ZXJvRmlsbCh0aGlzLm1pbnV0ZXMoKSwgMik7XG5cdH0pO1xuXHRcblx0YWRkRm9ybWF0VG9rZW4oJ0htbXNzJywgMCwgMCwgZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuICcnICsgdGhpcy5ob3VycygpICsgemVyb0ZpbGwodGhpcy5taW51dGVzKCksIDIpICtcblx0ICAgICAgICB6ZXJvRmlsbCh0aGlzLnNlY29uZHMoKSwgMik7XG5cdH0pO1xuXHRcblx0ZnVuY3Rpb24gbWVyaWRpZW0gKHRva2VuLCBsb3dlcmNhc2UpIHtcblx0ICAgIGFkZEZvcm1hdFRva2VuKHRva2VuLCAwLCAwLCBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLm1lcmlkaWVtKHRoaXMuaG91cnMoKSwgdGhpcy5taW51dGVzKCksIGxvd2VyY2FzZSk7XG5cdCAgICB9KTtcblx0fVxuXHRcblx0bWVyaWRpZW0oJ2EnLCB0cnVlKTtcblx0bWVyaWRpZW0oJ0EnLCBmYWxzZSk7XG5cdFxuXHQvLyBBTElBU0VTXG5cdFxuXHRhZGRVbml0QWxpYXMoJ2hvdXInLCAnaCcpO1xuXHRcblx0Ly8gUFJJT1JJVFlcblx0YWRkVW5pdFByaW9yaXR5KCdob3VyJywgMTMpO1xuXHRcblx0Ly8gUEFSU0lOR1xuXHRcblx0ZnVuY3Rpb24gbWF0Y2hNZXJpZGllbSAoaXNTdHJpY3QsIGxvY2FsZSkge1xuXHQgICAgcmV0dXJuIGxvY2FsZS5fbWVyaWRpZW1QYXJzZTtcblx0fVxuXHRcblx0YWRkUmVnZXhUb2tlbignYScsICBtYXRjaE1lcmlkaWVtKTtcblx0YWRkUmVnZXhUb2tlbignQScsICBtYXRjaE1lcmlkaWVtKTtcblx0YWRkUmVnZXhUb2tlbignSCcsICBtYXRjaDF0bzIpO1xuXHRhZGRSZWdleFRva2VuKCdoJywgIG1hdGNoMXRvMik7XG5cdGFkZFJlZ2V4VG9rZW4oJ0hIJywgbWF0Y2gxdG8yLCBtYXRjaDIpO1xuXHRhZGRSZWdleFRva2VuKCdoaCcsIG1hdGNoMXRvMiwgbWF0Y2gyKTtcblx0XG5cdGFkZFJlZ2V4VG9rZW4oJ2htbScsIG1hdGNoM3RvNCk7XG5cdGFkZFJlZ2V4VG9rZW4oJ2htbXNzJywgbWF0Y2g1dG82KTtcblx0YWRkUmVnZXhUb2tlbignSG1tJywgbWF0Y2gzdG80KTtcblx0YWRkUmVnZXhUb2tlbignSG1tc3MnLCBtYXRjaDV0bzYpO1xuXHRcblx0YWRkUGFyc2VUb2tlbihbJ0gnLCAnSEgnXSwgSE9VUik7XG5cdGFkZFBhcnNlVG9rZW4oWydhJywgJ0EnXSwgZnVuY3Rpb24gKGlucHV0LCBhcnJheSwgY29uZmlnKSB7XG5cdCAgICBjb25maWcuX2lzUG0gPSBjb25maWcuX2xvY2FsZS5pc1BNKGlucHV0KTtcblx0ICAgIGNvbmZpZy5fbWVyaWRpZW0gPSBpbnB1dDtcblx0fSk7XG5cdGFkZFBhcnNlVG9rZW4oWydoJywgJ2hoJ10sIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXksIGNvbmZpZykge1xuXHQgICAgYXJyYXlbSE9VUl0gPSB0b0ludChpbnB1dCk7XG5cdCAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5iaWdIb3VyID0gdHJ1ZTtcblx0fSk7XG5cdGFkZFBhcnNlVG9rZW4oJ2htbScsIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXksIGNvbmZpZykge1xuXHQgICAgdmFyIHBvcyA9IGlucHV0Lmxlbmd0aCAtIDI7XG5cdCAgICBhcnJheVtIT1VSXSA9IHRvSW50KGlucHV0LnN1YnN0cigwLCBwb3MpKTtcblx0ICAgIGFycmF5W01JTlVURV0gPSB0b0ludChpbnB1dC5zdWJzdHIocG9zKSk7XG5cdCAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5iaWdIb3VyID0gdHJ1ZTtcblx0fSk7XG5cdGFkZFBhcnNlVG9rZW4oJ2htbXNzJywgZnVuY3Rpb24gKGlucHV0LCBhcnJheSwgY29uZmlnKSB7XG5cdCAgICB2YXIgcG9zMSA9IGlucHV0Lmxlbmd0aCAtIDQ7XG5cdCAgICB2YXIgcG9zMiA9IGlucHV0Lmxlbmd0aCAtIDI7XG5cdCAgICBhcnJheVtIT1VSXSA9IHRvSW50KGlucHV0LnN1YnN0cigwLCBwb3MxKSk7XG5cdCAgICBhcnJheVtNSU5VVEVdID0gdG9JbnQoaW5wdXQuc3Vic3RyKHBvczEsIDIpKTtcblx0ICAgIGFycmF5W1NFQ09ORF0gPSB0b0ludChpbnB1dC5zdWJzdHIocG9zMikpO1xuXHQgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuYmlnSG91ciA9IHRydWU7XG5cdH0pO1xuXHRhZGRQYXJzZVRva2VuKCdIbW0nLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcpIHtcblx0ICAgIHZhciBwb3MgPSBpbnB1dC5sZW5ndGggLSAyO1xuXHQgICAgYXJyYXlbSE9VUl0gPSB0b0ludChpbnB1dC5zdWJzdHIoMCwgcG9zKSk7XG5cdCAgICBhcnJheVtNSU5VVEVdID0gdG9JbnQoaW5wdXQuc3Vic3RyKHBvcykpO1xuXHR9KTtcblx0YWRkUGFyc2VUb2tlbignSG1tc3MnLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcpIHtcblx0ICAgIHZhciBwb3MxID0gaW5wdXQubGVuZ3RoIC0gNDtcblx0ICAgIHZhciBwb3MyID0gaW5wdXQubGVuZ3RoIC0gMjtcblx0ICAgIGFycmF5W0hPVVJdID0gdG9JbnQoaW5wdXQuc3Vic3RyKDAsIHBvczEpKTtcblx0ICAgIGFycmF5W01JTlVURV0gPSB0b0ludChpbnB1dC5zdWJzdHIocG9zMSwgMikpO1xuXHQgICAgYXJyYXlbU0VDT05EXSA9IHRvSW50KGlucHV0LnN1YnN0cihwb3MyKSk7XG5cdH0pO1xuXHRcblx0Ly8gTE9DQUxFU1xuXHRcblx0ZnVuY3Rpb24gbG9jYWxlSXNQTSAoaW5wdXQpIHtcblx0ICAgIC8vIElFOCBRdWlya3MgTW9kZSAmIElFNyBTdGFuZGFyZHMgTW9kZSBkbyBub3QgYWxsb3cgYWNjZXNzaW5nIHN0cmluZ3MgbGlrZSBhcnJheXNcblx0ICAgIC8vIFVzaW5nIGNoYXJBdCBzaG91bGQgYmUgbW9yZSBjb21wYXRpYmxlLlxuXHQgICAgcmV0dXJuICgoaW5wdXQgKyAnJykudG9Mb3dlckNhc2UoKS5jaGFyQXQoMCkgPT09ICdwJyk7XG5cdH1cblx0XG5cdHZhciBkZWZhdWx0TG9jYWxlTWVyaWRpZW1QYXJzZSA9IC9bYXBdXFwuP20/XFwuPy9pO1xuXHRmdW5jdGlvbiBsb2NhbGVNZXJpZGllbSAoaG91cnMsIG1pbnV0ZXMsIGlzTG93ZXIpIHtcblx0ICAgIGlmIChob3VycyA+IDExKSB7XG5cdCAgICAgICAgcmV0dXJuIGlzTG93ZXIgPyAncG0nIDogJ1BNJztcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmV0dXJuIGlzTG93ZXIgPyAnYW0nIDogJ0FNJztcblx0ICAgIH1cblx0fVxuXHRcblx0XG5cdC8vIE1PTUVOVFNcblx0XG5cdC8vIFNldHRpbmcgdGhlIGhvdXIgc2hvdWxkIGtlZXAgdGhlIHRpbWUsIGJlY2F1c2UgdGhlIHVzZXIgZXhwbGljaXRseVxuXHQvLyBzcGVjaWZpZWQgd2hpY2ggaG91ciBoZSB3YW50cy4gU28gdHJ5aW5nIHRvIG1haW50YWluIHRoZSBzYW1lIGhvdXIgKGluXG5cdC8vIGEgbmV3IHRpbWV6b25lKSBtYWtlcyBzZW5zZS4gQWRkaW5nL3N1YnRyYWN0aW5nIGhvdXJzIGRvZXMgbm90IGZvbGxvd1xuXHQvLyB0aGlzIHJ1bGUuXG5cdHZhciBnZXRTZXRIb3VyID0gbWFrZUdldFNldCgnSG91cnMnLCB0cnVlKTtcblx0XG5cdC8vIG1vbnRoc1xuXHQvLyB3ZWVrXG5cdC8vIHdlZWtkYXlzXG5cdC8vIG1lcmlkaWVtXG5cdHZhciBiYXNlQ29uZmlnID0ge1xuXHQgICAgY2FsZW5kYXI6IGRlZmF1bHRDYWxlbmRhcixcblx0ICAgIGxvbmdEYXRlRm9ybWF0OiBkZWZhdWx0TG9uZ0RhdGVGb3JtYXQsXG5cdCAgICBpbnZhbGlkRGF0ZTogZGVmYXVsdEludmFsaWREYXRlLFxuXHQgICAgb3JkaW5hbDogZGVmYXVsdE9yZGluYWwsXG5cdCAgICBvcmRpbmFsUGFyc2U6IGRlZmF1bHRPcmRpbmFsUGFyc2UsXG5cdCAgICByZWxhdGl2ZVRpbWU6IGRlZmF1bHRSZWxhdGl2ZVRpbWUsXG5cdFxuXHQgICAgbW9udGhzOiBkZWZhdWx0TG9jYWxlTW9udGhzLFxuXHQgICAgbW9udGhzU2hvcnQ6IGRlZmF1bHRMb2NhbGVNb250aHNTaG9ydCxcblx0XG5cdCAgICB3ZWVrOiBkZWZhdWx0TG9jYWxlV2Vlayxcblx0XG5cdCAgICB3ZWVrZGF5czogZGVmYXVsdExvY2FsZVdlZWtkYXlzLFxuXHQgICAgd2Vla2RheXNNaW46IGRlZmF1bHRMb2NhbGVXZWVrZGF5c01pbixcblx0ICAgIHdlZWtkYXlzU2hvcnQ6IGRlZmF1bHRMb2NhbGVXZWVrZGF5c1Nob3J0LFxuXHRcblx0ICAgIG1lcmlkaWVtUGFyc2U6IGRlZmF1bHRMb2NhbGVNZXJpZGllbVBhcnNlXG5cdH07XG5cdFxuXHQvLyBpbnRlcm5hbCBzdG9yYWdlIGZvciBsb2NhbGUgY29uZmlnIGZpbGVzXG5cdHZhciBsb2NhbGVzID0ge307XG5cdHZhciBsb2NhbGVGYW1pbGllcyA9IHt9O1xuXHR2YXIgZ2xvYmFsTG9jYWxlO1xuXHRcblx0ZnVuY3Rpb24gbm9ybWFsaXplTG9jYWxlKGtleSkge1xuXHQgICAgcmV0dXJuIGtleSA/IGtleS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoJ18nLCAnLScpIDoga2V5O1xuXHR9XG5cdFxuXHQvLyBwaWNrIHRoZSBsb2NhbGUgZnJvbSB0aGUgYXJyYXlcblx0Ly8gdHJ5IFsnZW4tYXUnLCAnZW4tZ2InXSBhcyAnZW4tYXUnLCAnZW4tZ2InLCAnZW4nLCBhcyBpbiBtb3ZlIHRocm91Z2ggdGhlIGxpc3QgdHJ5aW5nIGVhY2hcblx0Ly8gc3Vic3RyaW5nIGZyb20gbW9zdCBzcGVjaWZpYyB0byBsZWFzdCwgYnV0IG1vdmUgdG8gdGhlIG5leHQgYXJyYXkgaXRlbSBpZiBpdCdzIGEgbW9yZSBzcGVjaWZpYyB2YXJpYW50IHRoYW4gdGhlIGN1cnJlbnQgcm9vdFxuXHRmdW5jdGlvbiBjaG9vc2VMb2NhbGUobmFtZXMpIHtcblx0ICAgIHZhciBpID0gMCwgaiwgbmV4dCwgbG9jYWxlLCBzcGxpdDtcblx0XG5cdCAgICB3aGlsZSAoaSA8IG5hbWVzLmxlbmd0aCkge1xuXHQgICAgICAgIHNwbGl0ID0gbm9ybWFsaXplTG9jYWxlKG5hbWVzW2ldKS5zcGxpdCgnLScpO1xuXHQgICAgICAgIGogPSBzcGxpdC5sZW5ndGg7XG5cdCAgICAgICAgbmV4dCA9IG5vcm1hbGl6ZUxvY2FsZShuYW1lc1tpICsgMV0pO1xuXHQgICAgICAgIG5leHQgPSBuZXh0ID8gbmV4dC5zcGxpdCgnLScpIDogbnVsbDtcblx0ICAgICAgICB3aGlsZSAoaiA+IDApIHtcblx0ICAgICAgICAgICAgbG9jYWxlID0gbG9hZExvY2FsZShzcGxpdC5zbGljZSgwLCBqKS5qb2luKCctJykpO1xuXHQgICAgICAgICAgICBpZiAobG9jYWxlKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gbG9jYWxlO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIGlmIChuZXh0ICYmIG5leHQubGVuZ3RoID49IGogJiYgY29tcGFyZUFycmF5cyhzcGxpdCwgbmV4dCwgdHJ1ZSkgPj0gaiAtIDEpIHtcblx0ICAgICAgICAgICAgICAgIC8vdGhlIG5leHQgYXJyYXkgaXRlbSBpcyBiZXR0ZXIgdGhhbiBhIHNoYWxsb3dlciBzdWJzdHJpbmcgb2YgdGhpcyBvbmVcblx0ICAgICAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIGotLTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgaSsrO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIG51bGw7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGxvYWRMb2NhbGUobmFtZSkge1xuXHQgICAgdmFyIG9sZExvY2FsZSA9IG51bGw7XG5cdCAgICAvLyBUT0RPOiBGaW5kIGEgYmV0dGVyIHdheSB0byByZWdpc3RlciBhbmQgbG9hZCBhbGwgdGhlIGxvY2FsZXMgaW4gTm9kZVxuXHQgICAgaWYgKCFsb2NhbGVzW25hbWVdICYmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJykgJiZcblx0ICAgICAgICAgICAgbW9kdWxlICYmIG1vZHVsZS5leHBvcnRzKSB7XG5cdCAgICAgICAgdHJ5IHtcblx0ICAgICAgICAgICAgb2xkTG9jYWxlID0gZ2xvYmFsTG9jYWxlLl9hYmJyO1xuXHQgICAgICAgICAgICAhKGZ1bmN0aW9uIHdlYnBhY2tNaXNzaW5nTW9kdWxlKCkgeyB2YXIgZSA9IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSBcXFwiLi9sb2NhbGVcXFwiXCIpOyBlLmNvZGUgPSAnTU9EVUxFX05PVF9GT1VORCc7IHRocm93IGU7IH0oKSk7XG5cdCAgICAgICAgICAgIC8vIGJlY2F1c2UgZGVmaW5lTG9jYWxlIGN1cnJlbnRseSBhbHNvIHNldHMgdGhlIGdsb2JhbCBsb2NhbGUsIHdlXG5cdCAgICAgICAgICAgIC8vIHdhbnQgdG8gdW5kbyB0aGF0IGZvciBsYXp5IGxvYWRlZCBsb2NhbGVzXG5cdCAgICAgICAgICAgIGdldFNldEdsb2JhbExvY2FsZShvbGRMb2NhbGUpO1xuXHQgICAgICAgIH0gY2F0Y2ggKGUpIHsgfVxuXHQgICAgfVxuXHQgICAgcmV0dXJuIGxvY2FsZXNbbmFtZV07XG5cdH1cblx0XG5cdC8vIFRoaXMgZnVuY3Rpb24gd2lsbCBsb2FkIGxvY2FsZSBhbmQgdGhlbiBzZXQgdGhlIGdsb2JhbCBsb2NhbGUuICBJZlxuXHQvLyBubyBhcmd1bWVudHMgYXJlIHBhc3NlZCBpbiwgaXQgd2lsbCBzaW1wbHkgcmV0dXJuIHRoZSBjdXJyZW50IGdsb2JhbFxuXHQvLyBsb2NhbGUga2V5LlxuXHRmdW5jdGlvbiBnZXRTZXRHbG9iYWxMb2NhbGUgKGtleSwgdmFsdWVzKSB7XG5cdCAgICB2YXIgZGF0YTtcblx0ICAgIGlmIChrZXkpIHtcblx0ICAgICAgICBpZiAoaXNVbmRlZmluZWQodmFsdWVzKSkge1xuXHQgICAgICAgICAgICBkYXRhID0gZ2V0TG9jYWxlKGtleSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGVsc2Uge1xuXHQgICAgICAgICAgICBkYXRhID0gZGVmaW5lTG9jYWxlKGtleSwgdmFsdWVzKTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIGlmIChkYXRhKSB7XG5cdCAgICAgICAgICAgIC8vIG1vbWVudC5kdXJhdGlvbi5fbG9jYWxlID0gbW9tZW50Ll9sb2NhbGUgPSBkYXRhO1xuXHQgICAgICAgICAgICBnbG9iYWxMb2NhbGUgPSBkYXRhO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gZ2xvYmFsTG9jYWxlLl9hYmJyO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBkZWZpbmVMb2NhbGUgKG5hbWUsIGNvbmZpZykge1xuXHQgICAgaWYgKGNvbmZpZyAhPT0gbnVsbCkge1xuXHQgICAgICAgIHZhciBwYXJlbnRDb25maWcgPSBiYXNlQ29uZmlnO1xuXHQgICAgICAgIGNvbmZpZy5hYmJyID0gbmFtZTtcblx0ICAgICAgICBpZiAobG9jYWxlc1tuYW1lXSAhPSBudWxsKSB7XG5cdCAgICAgICAgICAgIGRlcHJlY2F0ZVNpbXBsZSgnZGVmaW5lTG9jYWxlT3ZlcnJpZGUnLFxuXHQgICAgICAgICAgICAgICAgICAgICd1c2UgbW9tZW50LnVwZGF0ZUxvY2FsZShsb2NhbGVOYW1lLCBjb25maWcpIHRvIGNoYW5nZSAnICtcblx0ICAgICAgICAgICAgICAgICAgICAnYW4gZXhpc3RpbmcgbG9jYWxlLiBtb21lbnQuZGVmaW5lTG9jYWxlKGxvY2FsZU5hbWUsICcgK1xuXHQgICAgICAgICAgICAgICAgICAgICdjb25maWcpIHNob3VsZCBvbmx5IGJlIHVzZWQgZm9yIGNyZWF0aW5nIGEgbmV3IGxvY2FsZSAnICtcblx0ICAgICAgICAgICAgICAgICAgICAnU2VlIGh0dHA6Ly9tb21lbnRqcy5jb20vZ3VpZGVzLyMvd2FybmluZ3MvZGVmaW5lLWxvY2FsZS8gZm9yIG1vcmUgaW5mby4nKTtcblx0ICAgICAgICAgICAgcGFyZW50Q29uZmlnID0gbG9jYWxlc1tuYW1lXS5fY29uZmlnO1xuXHQgICAgICAgIH0gZWxzZSBpZiAoY29uZmlnLnBhcmVudExvY2FsZSAhPSBudWxsKSB7XG5cdCAgICAgICAgICAgIGlmIChsb2NhbGVzW2NvbmZpZy5wYXJlbnRMb2NhbGVdICE9IG51bGwpIHtcblx0ICAgICAgICAgICAgICAgIHBhcmVudENvbmZpZyA9IGxvY2FsZXNbY29uZmlnLnBhcmVudExvY2FsZV0uX2NvbmZpZztcblx0ICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgIGlmICghbG9jYWxlRmFtaWxpZXNbY29uZmlnLnBhcmVudExvY2FsZV0pIHtcblx0ICAgICAgICAgICAgICAgICAgICBsb2NhbGVGYW1pbGllc1tjb25maWcucGFyZW50TG9jYWxlXSA9IFtdO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgbG9jYWxlRmFtaWxpZXNbY29uZmlnLnBhcmVudExvY2FsZV0ucHVzaCh7XG5cdCAgICAgICAgICAgICAgICAgICAgbmFtZTogbmFtZSxcblx0ICAgICAgICAgICAgICAgICAgICBjb25maWc6IGNvbmZpZ1xuXHQgICAgICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgICBsb2NhbGVzW25hbWVdID0gbmV3IExvY2FsZShtZXJnZUNvbmZpZ3MocGFyZW50Q29uZmlnLCBjb25maWcpKTtcblx0XG5cdCAgICAgICAgaWYgKGxvY2FsZUZhbWlsaWVzW25hbWVdKSB7XG5cdCAgICAgICAgICAgIGxvY2FsZUZhbWlsaWVzW25hbWVdLmZvckVhY2goZnVuY3Rpb24gKHgpIHtcblx0ICAgICAgICAgICAgICAgIGRlZmluZUxvY2FsZSh4Lm5hbWUsIHguY29uZmlnKTtcblx0ICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICAvLyBiYWNrd2FyZHMgY29tcGF0IGZvciBub3c6IGFsc28gc2V0IHRoZSBsb2NhbGVcblx0ICAgICAgICAvLyBtYWtlIHN1cmUgd2Ugc2V0IHRoZSBsb2NhbGUgQUZURVIgYWxsIGNoaWxkIGxvY2FsZXMgaGF2ZSBiZWVuXG5cdCAgICAgICAgLy8gY3JlYXRlZCwgc28gd2Ugd29uJ3QgZW5kIHVwIHdpdGggdGhlIGNoaWxkIGxvY2FsZSBzZXQuXG5cdCAgICAgICAgZ2V0U2V0R2xvYmFsTG9jYWxlKG5hbWUpO1xuXHRcblx0XG5cdCAgICAgICAgcmV0dXJuIGxvY2FsZXNbbmFtZV07XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIC8vIHVzZWZ1bCBmb3IgdGVzdGluZ1xuXHQgICAgICAgIGRlbGV0ZSBsb2NhbGVzW25hbWVdO1xuXHQgICAgICAgIHJldHVybiBudWxsO1xuXHQgICAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiB1cGRhdGVMb2NhbGUobmFtZSwgY29uZmlnKSB7XG5cdCAgICBpZiAoY29uZmlnICE9IG51bGwpIHtcblx0ICAgICAgICB2YXIgbG9jYWxlLCBwYXJlbnRDb25maWcgPSBiYXNlQ29uZmlnO1xuXHQgICAgICAgIC8vIE1FUkdFXG5cdCAgICAgICAgaWYgKGxvY2FsZXNbbmFtZV0gIT0gbnVsbCkge1xuXHQgICAgICAgICAgICBwYXJlbnRDb25maWcgPSBsb2NhbGVzW25hbWVdLl9jb25maWc7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGNvbmZpZyA9IG1lcmdlQ29uZmlncyhwYXJlbnRDb25maWcsIGNvbmZpZyk7XG5cdCAgICAgICAgbG9jYWxlID0gbmV3IExvY2FsZShjb25maWcpO1xuXHQgICAgICAgIGxvY2FsZS5wYXJlbnRMb2NhbGUgPSBsb2NhbGVzW25hbWVdO1xuXHQgICAgICAgIGxvY2FsZXNbbmFtZV0gPSBsb2NhbGU7XG5cdFxuXHQgICAgICAgIC8vIGJhY2t3YXJkcyBjb21wYXQgZm9yIG5vdzogYWxzbyBzZXQgdGhlIGxvY2FsZVxuXHQgICAgICAgIGdldFNldEdsb2JhbExvY2FsZShuYW1lKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgLy8gcGFzcyBudWxsIGZvciBjb25maWcgdG8gdW51cGRhdGUsIHVzZWZ1bCBmb3IgdGVzdHNcblx0ICAgICAgICBpZiAobG9jYWxlc1tuYW1lXSAhPSBudWxsKSB7XG5cdCAgICAgICAgICAgIGlmIChsb2NhbGVzW25hbWVdLnBhcmVudExvY2FsZSAhPSBudWxsKSB7XG5cdCAgICAgICAgICAgICAgICBsb2NhbGVzW25hbWVdID0gbG9jYWxlc1tuYW1lXS5wYXJlbnRMb2NhbGU7XG5cdCAgICAgICAgICAgIH0gZWxzZSBpZiAobG9jYWxlc1tuYW1lXSAhPSBudWxsKSB7XG5cdCAgICAgICAgICAgICAgICBkZWxldGUgbG9jYWxlc1tuYW1lXTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgIH1cblx0ICAgIHJldHVybiBsb2NhbGVzW25hbWVdO1xuXHR9XG5cdFxuXHQvLyByZXR1cm5zIGxvY2FsZSBkYXRhXG5cdGZ1bmN0aW9uIGdldExvY2FsZSAoa2V5KSB7XG5cdCAgICB2YXIgbG9jYWxlO1xuXHRcblx0ICAgIGlmIChrZXkgJiYga2V5Ll9sb2NhbGUgJiYga2V5Ll9sb2NhbGUuX2FiYnIpIHtcblx0ICAgICAgICBrZXkgPSBrZXkuX2xvY2FsZS5fYWJicjtcblx0ICAgIH1cblx0XG5cdCAgICBpZiAoIWtleSkge1xuXHQgICAgICAgIHJldHVybiBnbG9iYWxMb2NhbGU7XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKCFpc0FycmF5KGtleSkpIHtcblx0ICAgICAgICAvL3Nob3J0LWNpcmN1aXQgZXZlcnl0aGluZyBlbHNlXG5cdCAgICAgICAgbG9jYWxlID0gbG9hZExvY2FsZShrZXkpO1xuXHQgICAgICAgIGlmIChsb2NhbGUpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIGxvY2FsZTtcblx0ICAgICAgICB9XG5cdCAgICAgICAga2V5ID0gW2tleV07XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIGNob29zZUxvY2FsZShrZXkpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBsaXN0TG9jYWxlcygpIHtcblx0ICAgIHJldHVybiBrZXlzJDEobG9jYWxlcyk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGNoZWNrT3ZlcmZsb3cgKG0pIHtcblx0ICAgIHZhciBvdmVyZmxvdztcblx0ICAgIHZhciBhID0gbS5fYTtcblx0XG5cdCAgICBpZiAoYSAmJiBnZXRQYXJzaW5nRmxhZ3MobSkub3ZlcmZsb3cgPT09IC0yKSB7XG5cdCAgICAgICAgb3ZlcmZsb3cgPVxuXHQgICAgICAgICAgICBhW01PTlRIXSAgICAgICA8IDAgfHwgYVtNT05USF0gICAgICAgPiAxMSAgPyBNT05USCA6XG5cdCAgICAgICAgICAgIGFbREFURV0gICAgICAgIDwgMSB8fCBhW0RBVEVdICAgICAgICA+IGRheXNJbk1vbnRoKGFbWUVBUl0sIGFbTU9OVEhdKSA/IERBVEUgOlxuXHQgICAgICAgICAgICBhW0hPVVJdICAgICAgICA8IDAgfHwgYVtIT1VSXSAgICAgICAgPiAyNCB8fCAoYVtIT1VSXSA9PT0gMjQgJiYgKGFbTUlOVVRFXSAhPT0gMCB8fCBhW1NFQ09ORF0gIT09IDAgfHwgYVtNSUxMSVNFQ09ORF0gIT09IDApKSA/IEhPVVIgOlxuXHQgICAgICAgICAgICBhW01JTlVURV0gICAgICA8IDAgfHwgYVtNSU5VVEVdICAgICAgPiA1OSAgPyBNSU5VVEUgOlxuXHQgICAgICAgICAgICBhW1NFQ09ORF0gICAgICA8IDAgfHwgYVtTRUNPTkRdICAgICAgPiA1OSAgPyBTRUNPTkQgOlxuXHQgICAgICAgICAgICBhW01JTExJU0VDT05EXSA8IDAgfHwgYVtNSUxMSVNFQ09ORF0gPiA5OTkgPyBNSUxMSVNFQ09ORCA6XG5cdCAgICAgICAgICAgIC0xO1xuXHRcblx0ICAgICAgICBpZiAoZ2V0UGFyc2luZ0ZsYWdzKG0pLl9vdmVyZmxvd0RheU9mWWVhciAmJiAob3ZlcmZsb3cgPCBZRUFSIHx8IG92ZXJmbG93ID4gREFURSkpIHtcblx0ICAgICAgICAgICAgb3ZlcmZsb3cgPSBEQVRFO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAoZ2V0UGFyc2luZ0ZsYWdzKG0pLl9vdmVyZmxvd1dlZWtzICYmIG92ZXJmbG93ID09PSAtMSkge1xuXHQgICAgICAgICAgICBvdmVyZmxvdyA9IFdFRUs7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmIChnZXRQYXJzaW5nRmxhZ3MobSkuX292ZXJmbG93V2Vla2RheSAmJiBvdmVyZmxvdyA9PT0gLTEpIHtcblx0ICAgICAgICAgICAgb3ZlcmZsb3cgPSBXRUVLREFZO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKG0pLm92ZXJmbG93ID0gb3ZlcmZsb3c7XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIG07XG5cdH1cblx0XG5cdC8vIGlzbyA4NjAxIHJlZ2V4XG5cdC8vIDAwMDAtMDAtMDAgMDAwMC1XMDAgb3IgMDAwMC1XMDAtMCArIFQgKyAwMCBvciAwMDowMCBvciAwMDowMDowMCBvciAwMDowMDowMC4wMDAgKyArMDA6MDAgb3IgKzAwMDAgb3IgKzAwKVxuXHR2YXIgZXh0ZW5kZWRJc29SZWdleCA9IC9eXFxzKigoPzpbKy1dXFxkezZ9fFxcZHs0fSktKD86XFxkXFxkLVxcZFxcZHxXXFxkXFxkLVxcZHxXXFxkXFxkfFxcZFxcZFxcZHxcXGRcXGQpKSg/OihUfCApKFxcZFxcZCg/OjpcXGRcXGQoPzo6XFxkXFxkKD86Wy4sXVxcZCspPyk/KT8pKFtcXCtcXC1dXFxkXFxkKD86Oj9cXGRcXGQpP3xcXHMqWik/KT8kLztcblx0dmFyIGJhc2ljSXNvUmVnZXggPSAvXlxccyooKD86WystXVxcZHs2fXxcXGR7NH0pKD86XFxkXFxkXFxkXFxkfFdcXGRcXGRcXGR8V1xcZFxcZHxcXGRcXGRcXGR8XFxkXFxkKSkoPzooVHwgKShcXGRcXGQoPzpcXGRcXGQoPzpcXGRcXGQoPzpbLixdXFxkKyk/KT8pPykoW1xcK1xcLV1cXGRcXGQoPzo6P1xcZFxcZCk/fFxccypaKT8pPyQvO1xuXHRcblx0dmFyIHR6UmVnZXggPSAvWnxbKy1dXFxkXFxkKD86Oj9cXGRcXGQpPy87XG5cdFxuXHR2YXIgaXNvRGF0ZXMgPSBbXG5cdCAgICBbJ1lZWVlZWS1NTS1ERCcsIC9bKy1dXFxkezZ9LVxcZFxcZC1cXGRcXGQvXSxcblx0ICAgIFsnWVlZWS1NTS1ERCcsIC9cXGR7NH0tXFxkXFxkLVxcZFxcZC9dLFxuXHQgICAgWydHR0dHLVtXXVdXLUUnLCAvXFxkezR9LVdcXGRcXGQtXFxkL10sXG5cdCAgICBbJ0dHR0ctW1ddV1cnLCAvXFxkezR9LVdcXGRcXGQvLCBmYWxzZV0sXG5cdCAgICBbJ1lZWVktREREJywgL1xcZHs0fS1cXGR7M30vXSxcblx0ICAgIFsnWVlZWS1NTScsIC9cXGR7NH0tXFxkXFxkLywgZmFsc2VdLFxuXHQgICAgWydZWVlZWVlNTUREJywgL1srLV1cXGR7MTB9L10sXG5cdCAgICBbJ1lZWVlNTUREJywgL1xcZHs4fS9dLFxuXHQgICAgLy8gWVlZWU1NIGlzIE5PVCBhbGxvd2VkIGJ5IHRoZSBzdGFuZGFyZFxuXHQgICAgWydHR0dHW1ddV1dFJywgL1xcZHs0fVdcXGR7M30vXSxcblx0ICAgIFsnR0dHR1tXXVdXJywgL1xcZHs0fVdcXGR7Mn0vLCBmYWxzZV0sXG5cdCAgICBbJ1lZWVlEREQnLCAvXFxkezd9L11cblx0XTtcblx0XG5cdC8vIGlzbyB0aW1lIGZvcm1hdHMgYW5kIHJlZ2V4ZXNcblx0dmFyIGlzb1RpbWVzID0gW1xuXHQgICAgWydISDptbTpzcy5TU1NTJywgL1xcZFxcZDpcXGRcXGQ6XFxkXFxkXFwuXFxkKy9dLFxuXHQgICAgWydISDptbTpzcyxTU1NTJywgL1xcZFxcZDpcXGRcXGQ6XFxkXFxkLFxcZCsvXSxcblx0ICAgIFsnSEg6bW06c3MnLCAvXFxkXFxkOlxcZFxcZDpcXGRcXGQvXSxcblx0ICAgIFsnSEg6bW0nLCAvXFxkXFxkOlxcZFxcZC9dLFxuXHQgICAgWydISG1tc3MuU1NTUycsIC9cXGRcXGRcXGRcXGRcXGRcXGRcXC5cXGQrL10sXG5cdCAgICBbJ0hIbW1zcyxTU1NTJywgL1xcZFxcZFxcZFxcZFxcZFxcZCxcXGQrL10sXG5cdCAgICBbJ0hIbW1zcycsIC9cXGRcXGRcXGRcXGRcXGRcXGQvXSxcblx0ICAgIFsnSEhtbScsIC9cXGRcXGRcXGRcXGQvXSxcblx0ICAgIFsnSEgnLCAvXFxkXFxkL11cblx0XTtcblx0XG5cdHZhciBhc3BOZXRKc29uUmVnZXggPSAvXlxcLz9EYXRlXFwoKFxcLT9cXGQrKS9pO1xuXHRcblx0Ly8gZGF0ZSBmcm9tIGlzbyBmb3JtYXRcblx0ZnVuY3Rpb24gY29uZmlnRnJvbUlTTyhjb25maWcpIHtcblx0ICAgIHZhciBpLCBsLFxuXHQgICAgICAgIHN0cmluZyA9IGNvbmZpZy5faSxcblx0ICAgICAgICBtYXRjaCA9IGV4dGVuZGVkSXNvUmVnZXguZXhlYyhzdHJpbmcpIHx8IGJhc2ljSXNvUmVnZXguZXhlYyhzdHJpbmcpLFxuXHQgICAgICAgIGFsbG93VGltZSwgZGF0ZUZvcm1hdCwgdGltZUZvcm1hdCwgdHpGb3JtYXQ7XG5cdFxuXHQgICAgaWYgKG1hdGNoKSB7XG5cdCAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuaXNvID0gdHJ1ZTtcblx0XG5cdCAgICAgICAgZm9yIChpID0gMCwgbCA9IGlzb0RhdGVzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuXHQgICAgICAgICAgICBpZiAoaXNvRGF0ZXNbaV1bMV0uZXhlYyhtYXRjaFsxXSkpIHtcblx0ICAgICAgICAgICAgICAgIGRhdGVGb3JtYXQgPSBpc29EYXRlc1tpXVswXTtcblx0ICAgICAgICAgICAgICAgIGFsbG93VGltZSA9IGlzb0RhdGVzW2ldWzJdICE9PSBmYWxzZTtcblx0ICAgICAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmIChkYXRlRm9ybWF0ID09IG51bGwpIHtcblx0ICAgICAgICAgICAgY29uZmlnLl9pc1ZhbGlkID0gZmFsc2U7XG5cdCAgICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICB9XG5cdCAgICAgICAgaWYgKG1hdGNoWzNdKSB7XG5cdCAgICAgICAgICAgIGZvciAoaSA9IDAsIGwgPSBpc29UaW1lcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcblx0ICAgICAgICAgICAgICAgIGlmIChpc29UaW1lc1tpXVsxXS5leGVjKG1hdGNoWzNdKSkge1xuXHQgICAgICAgICAgICAgICAgICAgIC8vIG1hdGNoWzJdIHNob3VsZCBiZSAnVCcgb3Igc3BhY2Vcblx0ICAgICAgICAgICAgICAgICAgICB0aW1lRm9ybWF0ID0gKG1hdGNoWzJdIHx8ICcgJykgKyBpc29UaW1lc1tpXVswXTtcblx0ICAgICAgICAgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBpZiAodGltZUZvcm1hdCA9PSBudWxsKSB7XG5cdCAgICAgICAgICAgICAgICBjb25maWcuX2lzVmFsaWQgPSBmYWxzZTtcblx0ICAgICAgICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAoIWFsbG93VGltZSAmJiB0aW1lRm9ybWF0ICE9IG51bGwpIHtcblx0ICAgICAgICAgICAgY29uZmlnLl9pc1ZhbGlkID0gZmFsc2U7XG5cdCAgICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICB9XG5cdCAgICAgICAgaWYgKG1hdGNoWzRdKSB7XG5cdCAgICAgICAgICAgIGlmICh0elJlZ2V4LmV4ZWMobWF0Y2hbNF0pKSB7XG5cdCAgICAgICAgICAgICAgICB0ekZvcm1hdCA9ICdaJztcblx0ICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgIGNvbmZpZy5faXNWYWxpZCA9IGZhbHNlO1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGNvbmZpZy5fZiA9IGRhdGVGb3JtYXQgKyAodGltZUZvcm1hdCB8fCAnJykgKyAodHpGb3JtYXQgfHwgJycpO1xuXHQgICAgICAgIGNvbmZpZ0Zyb21TdHJpbmdBbmRGb3JtYXQoY29uZmlnKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgY29uZmlnLl9pc1ZhbGlkID0gZmFsc2U7XG5cdCAgICB9XG5cdH1cblx0XG5cdC8vIGRhdGUgZnJvbSBpc28gZm9ybWF0IG9yIGZhbGxiYWNrXG5cdGZ1bmN0aW9uIGNvbmZpZ0Zyb21TdHJpbmcoY29uZmlnKSB7XG5cdCAgICB2YXIgbWF0Y2hlZCA9IGFzcE5ldEpzb25SZWdleC5leGVjKGNvbmZpZy5faSk7XG5cdFxuXHQgICAgaWYgKG1hdGNoZWQgIT09IG51bGwpIHtcblx0ICAgICAgICBjb25maWcuX2QgPSBuZXcgRGF0ZSgrbWF0Y2hlZFsxXSk7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHRcblx0ICAgIGNvbmZpZ0Zyb21JU08oY29uZmlnKTtcblx0ICAgIGlmIChjb25maWcuX2lzVmFsaWQgPT09IGZhbHNlKSB7XG5cdCAgICAgICAgZGVsZXRlIGNvbmZpZy5faXNWYWxpZDtcblx0ICAgICAgICBob29rcy5jcmVhdGVGcm9tSW5wdXRGYWxsYmFjayhjb25maWcpO1xuXHQgICAgfVxuXHR9XG5cdFxuXHRob29rcy5jcmVhdGVGcm9tSW5wdXRGYWxsYmFjayA9IGRlcHJlY2F0ZShcblx0ICAgICd2YWx1ZSBwcm92aWRlZCBpcyBub3QgaW4gYSByZWNvZ25pemVkIElTTyBmb3JtYXQuIG1vbWVudCBjb25zdHJ1Y3Rpb24gZmFsbHMgYmFjayB0byBqcyBEYXRlKCksICcgK1xuXHQgICAgJ3doaWNoIGlzIG5vdCByZWxpYWJsZSBhY3Jvc3MgYWxsIGJyb3dzZXJzIGFuZCB2ZXJzaW9ucy4gTm9uIElTTyBkYXRlIGZvcm1hdHMgYXJlICcgK1xuXHQgICAgJ2Rpc2NvdXJhZ2VkIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gYW4gdXBjb21pbmcgbWFqb3IgcmVsZWFzZS4gUGxlYXNlIHJlZmVyIHRvICcgK1xuXHQgICAgJ2h0dHA6Ly9tb21lbnRqcy5jb20vZ3VpZGVzLyMvd2FybmluZ3MvanMtZGF0ZS8gZm9yIG1vcmUgaW5mby4nLFxuXHQgICAgZnVuY3Rpb24gKGNvbmZpZykge1xuXHQgICAgICAgIGNvbmZpZy5fZCA9IG5ldyBEYXRlKGNvbmZpZy5faSArIChjb25maWcuX3VzZVVUQyA/ICcgVVRDJyA6ICcnKSk7XG5cdCAgICB9XG5cdCk7XG5cdFxuXHQvLyBQaWNrIHRoZSBmaXJzdCBkZWZpbmVkIG9mIHR3byBvciB0aHJlZSBhcmd1bWVudHMuXG5cdGZ1bmN0aW9uIGRlZmF1bHRzKGEsIGIsIGMpIHtcblx0ICAgIGlmIChhICE9IG51bGwpIHtcblx0ICAgICAgICByZXR1cm4gYTtcblx0ICAgIH1cblx0ICAgIGlmIChiICE9IG51bGwpIHtcblx0ICAgICAgICByZXR1cm4gYjtcblx0ICAgIH1cblx0ICAgIHJldHVybiBjO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBjdXJyZW50RGF0ZUFycmF5KGNvbmZpZykge1xuXHQgICAgLy8gaG9va3MgaXMgYWN0dWFsbHkgdGhlIGV4cG9ydGVkIG1vbWVudCBvYmplY3Rcblx0ICAgIHZhciBub3dWYWx1ZSA9IG5ldyBEYXRlKGhvb2tzLm5vdygpKTtcblx0ICAgIGlmIChjb25maWcuX3VzZVVUQykge1xuXHQgICAgICAgIHJldHVybiBbbm93VmFsdWUuZ2V0VVRDRnVsbFllYXIoKSwgbm93VmFsdWUuZ2V0VVRDTW9udGgoKSwgbm93VmFsdWUuZ2V0VVRDRGF0ZSgpXTtcblx0ICAgIH1cblx0ICAgIHJldHVybiBbbm93VmFsdWUuZ2V0RnVsbFllYXIoKSwgbm93VmFsdWUuZ2V0TW9udGgoKSwgbm93VmFsdWUuZ2V0RGF0ZSgpXTtcblx0fVxuXHRcblx0Ly8gY29udmVydCBhbiBhcnJheSB0byBhIGRhdGUuXG5cdC8vIHRoZSBhcnJheSBzaG91bGQgbWlycm9yIHRoZSBwYXJhbWV0ZXJzIGJlbG93XG5cdC8vIG5vdGU6IGFsbCB2YWx1ZXMgcGFzdCB0aGUgeWVhciBhcmUgb3B0aW9uYWwgYW5kIHdpbGwgZGVmYXVsdCB0byB0aGUgbG93ZXN0IHBvc3NpYmxlIHZhbHVlLlxuXHQvLyBbeWVhciwgbW9udGgsIGRheSAsIGhvdXIsIG1pbnV0ZSwgc2Vjb25kLCBtaWxsaXNlY29uZF1cblx0ZnVuY3Rpb24gY29uZmlnRnJvbUFycmF5IChjb25maWcpIHtcblx0ICAgIHZhciBpLCBkYXRlLCBpbnB1dCA9IFtdLCBjdXJyZW50RGF0ZSwgeWVhclRvVXNlO1xuXHRcblx0ICAgIGlmIChjb25maWcuX2QpIHtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICB9XG5cdFxuXHQgICAgY3VycmVudERhdGUgPSBjdXJyZW50RGF0ZUFycmF5KGNvbmZpZyk7XG5cdFxuXHQgICAgLy9jb21wdXRlIGRheSBvZiB0aGUgeWVhciBmcm9tIHdlZWtzIGFuZCB3ZWVrZGF5c1xuXHQgICAgaWYgKGNvbmZpZy5fdyAmJiBjb25maWcuX2FbREFURV0gPT0gbnVsbCAmJiBjb25maWcuX2FbTU9OVEhdID09IG51bGwpIHtcblx0ICAgICAgICBkYXlPZlllYXJGcm9tV2Vla0luZm8oY29uZmlnKTtcblx0ICAgIH1cblx0XG5cdCAgICAvL2lmIHRoZSBkYXkgb2YgdGhlIHllYXIgaXMgc2V0LCBmaWd1cmUgb3V0IHdoYXQgaXQgaXNcblx0ICAgIGlmIChjb25maWcuX2RheU9mWWVhcikge1xuXHQgICAgICAgIHllYXJUb1VzZSA9IGRlZmF1bHRzKGNvbmZpZy5fYVtZRUFSXSwgY3VycmVudERhdGVbWUVBUl0pO1xuXHRcblx0ICAgICAgICBpZiAoY29uZmlnLl9kYXlPZlllYXIgPiBkYXlzSW5ZZWFyKHllYXJUb1VzZSkpIHtcblx0ICAgICAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuX292ZXJmbG93RGF5T2ZZZWFyID0gdHJ1ZTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIGRhdGUgPSBjcmVhdGVVVENEYXRlKHllYXJUb1VzZSwgMCwgY29uZmlnLl9kYXlPZlllYXIpO1xuXHQgICAgICAgIGNvbmZpZy5fYVtNT05USF0gPSBkYXRlLmdldFVUQ01vbnRoKCk7XG5cdCAgICAgICAgY29uZmlnLl9hW0RBVEVdID0gZGF0ZS5nZXRVVENEYXRlKCk7XG5cdCAgICB9XG5cdFxuXHQgICAgLy8gRGVmYXVsdCB0byBjdXJyZW50IGRhdGUuXG5cdCAgICAvLyAqIGlmIG5vIHllYXIsIG1vbnRoLCBkYXkgb2YgbW9udGggYXJlIGdpdmVuLCBkZWZhdWx0IHRvIHRvZGF5XG5cdCAgICAvLyAqIGlmIGRheSBvZiBtb250aCBpcyBnaXZlbiwgZGVmYXVsdCBtb250aCBhbmQgeWVhclxuXHQgICAgLy8gKiBpZiBtb250aCBpcyBnaXZlbiwgZGVmYXVsdCBvbmx5IHllYXJcblx0ICAgIC8vICogaWYgeWVhciBpcyBnaXZlbiwgZG9uJ3QgZGVmYXVsdCBhbnl0aGluZ1xuXHQgICAgZm9yIChpID0gMDsgaSA8IDMgJiYgY29uZmlnLl9hW2ldID09IG51bGw7ICsraSkge1xuXHQgICAgICAgIGNvbmZpZy5fYVtpXSA9IGlucHV0W2ldID0gY3VycmVudERhdGVbaV07XG5cdCAgICB9XG5cdFxuXHQgICAgLy8gWmVybyBvdXQgd2hhdGV2ZXIgd2FzIG5vdCBkZWZhdWx0ZWQsIGluY2x1ZGluZyB0aW1lXG5cdCAgICBmb3IgKDsgaSA8IDc7IGkrKykge1xuXHQgICAgICAgIGNvbmZpZy5fYVtpXSA9IGlucHV0W2ldID0gKGNvbmZpZy5fYVtpXSA9PSBudWxsKSA/IChpID09PSAyID8gMSA6IDApIDogY29uZmlnLl9hW2ldO1xuXHQgICAgfVxuXHRcblx0ICAgIC8vIENoZWNrIGZvciAyNDowMDowMC4wMDBcblx0ICAgIGlmIChjb25maWcuX2FbSE9VUl0gPT09IDI0ICYmXG5cdCAgICAgICAgICAgIGNvbmZpZy5fYVtNSU5VVEVdID09PSAwICYmXG5cdCAgICAgICAgICAgIGNvbmZpZy5fYVtTRUNPTkRdID09PSAwICYmXG5cdCAgICAgICAgICAgIGNvbmZpZy5fYVtNSUxMSVNFQ09ORF0gPT09IDApIHtcblx0ICAgICAgICBjb25maWcuX25leHREYXkgPSB0cnVlO1xuXHQgICAgICAgIGNvbmZpZy5fYVtIT1VSXSA9IDA7XG5cdCAgICB9XG5cdFxuXHQgICAgY29uZmlnLl9kID0gKGNvbmZpZy5fdXNlVVRDID8gY3JlYXRlVVRDRGF0ZSA6IGNyZWF0ZURhdGUpLmFwcGx5KG51bGwsIGlucHV0KTtcblx0ICAgIC8vIEFwcGx5IHRpbWV6b25lIG9mZnNldCBmcm9tIGlucHV0LiBUaGUgYWN0dWFsIHV0Y09mZnNldCBjYW4gYmUgY2hhbmdlZFxuXHQgICAgLy8gd2l0aCBwYXJzZVpvbmUuXG5cdCAgICBpZiAoY29uZmlnLl90em0gIT0gbnVsbCkge1xuXHQgICAgICAgIGNvbmZpZy5fZC5zZXRVVENNaW51dGVzKGNvbmZpZy5fZC5nZXRVVENNaW51dGVzKCkgLSBjb25maWcuX3R6bSk7XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKGNvbmZpZy5fbmV4dERheSkge1xuXHQgICAgICAgIGNvbmZpZy5fYVtIT1VSXSA9IDI0O1xuXHQgICAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBkYXlPZlllYXJGcm9tV2Vla0luZm8oY29uZmlnKSB7XG5cdCAgICB2YXIgdywgd2Vla1llYXIsIHdlZWssIHdlZWtkYXksIGRvdywgZG95LCB0ZW1wLCB3ZWVrZGF5T3ZlcmZsb3c7XG5cdFxuXHQgICAgdyA9IGNvbmZpZy5fdztcblx0ICAgIGlmICh3LkdHICE9IG51bGwgfHwgdy5XICE9IG51bGwgfHwgdy5FICE9IG51bGwpIHtcblx0ICAgICAgICBkb3cgPSAxO1xuXHQgICAgICAgIGRveSA9IDQ7XG5cdFxuXHQgICAgICAgIC8vIFRPRE86IFdlIG5lZWQgdG8gdGFrZSB0aGUgY3VycmVudCBpc29XZWVrWWVhciwgYnV0IHRoYXQgZGVwZW5kcyBvblxuXHQgICAgICAgIC8vIGhvdyB3ZSBpbnRlcnByZXQgbm93IChsb2NhbCwgdXRjLCBmaXhlZCBvZmZzZXQpLiBTbyBjcmVhdGVcblx0ICAgICAgICAvLyBhIG5vdyB2ZXJzaW9uIG9mIGN1cnJlbnQgY29uZmlnICh0YWtlIGxvY2FsL3V0Yy9vZmZzZXQgZmxhZ3MsIGFuZFxuXHQgICAgICAgIC8vIGNyZWF0ZSBub3cpLlxuXHQgICAgICAgIHdlZWtZZWFyID0gZGVmYXVsdHMody5HRywgY29uZmlnLl9hW1lFQVJdLCB3ZWVrT2ZZZWFyKGNyZWF0ZUxvY2FsKCksIDEsIDQpLnllYXIpO1xuXHQgICAgICAgIHdlZWsgPSBkZWZhdWx0cyh3LlcsIDEpO1xuXHQgICAgICAgIHdlZWtkYXkgPSBkZWZhdWx0cyh3LkUsIDEpO1xuXHQgICAgICAgIGlmICh3ZWVrZGF5IDwgMSB8fCB3ZWVrZGF5ID4gNykge1xuXHQgICAgICAgICAgICB3ZWVrZGF5T3ZlcmZsb3cgPSB0cnVlO1xuXHQgICAgICAgIH1cblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgZG93ID0gY29uZmlnLl9sb2NhbGUuX3dlZWsuZG93O1xuXHQgICAgICAgIGRveSA9IGNvbmZpZy5fbG9jYWxlLl93ZWVrLmRveTtcblx0XG5cdCAgICAgICAgdmFyIGN1cldlZWsgPSB3ZWVrT2ZZZWFyKGNyZWF0ZUxvY2FsKCksIGRvdywgZG95KTtcblx0XG5cdCAgICAgICAgd2Vla1llYXIgPSBkZWZhdWx0cyh3LmdnLCBjb25maWcuX2FbWUVBUl0sIGN1cldlZWsueWVhcik7XG5cdFxuXHQgICAgICAgIC8vIERlZmF1bHQgdG8gY3VycmVudCB3ZWVrLlxuXHQgICAgICAgIHdlZWsgPSBkZWZhdWx0cyh3LncsIGN1cldlZWsud2Vlayk7XG5cdFxuXHQgICAgICAgIGlmICh3LmQgIT0gbnVsbCkge1xuXHQgICAgICAgICAgICAvLyB3ZWVrZGF5IC0tIGxvdyBkYXkgbnVtYmVycyBhcmUgY29uc2lkZXJlZCBuZXh0IHdlZWtcblx0ICAgICAgICAgICAgd2Vla2RheSA9IHcuZDtcblx0ICAgICAgICAgICAgaWYgKHdlZWtkYXkgPCAwIHx8IHdlZWtkYXkgPiA2KSB7XG5cdCAgICAgICAgICAgICAgICB3ZWVrZGF5T3ZlcmZsb3cgPSB0cnVlO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfSBlbHNlIGlmICh3LmUgIT0gbnVsbCkge1xuXHQgICAgICAgICAgICAvLyBsb2NhbCB3ZWVrZGF5IC0tIGNvdW50aW5nIHN0YXJ0cyBmcm9tIGJlZ2luaW5nIG9mIHdlZWtcblx0ICAgICAgICAgICAgd2Vla2RheSA9IHcuZSArIGRvdztcblx0ICAgICAgICAgICAgaWYgKHcuZSA8IDAgfHwgdy5lID4gNikge1xuXHQgICAgICAgICAgICAgICAgd2Vla2RheU92ZXJmbG93ID0gdHJ1ZTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIC8vIGRlZmF1bHQgdG8gYmVnaW5pbmcgb2Ygd2Vla1xuXHQgICAgICAgICAgICB3ZWVrZGF5ID0gZG93O1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0ICAgIGlmICh3ZWVrIDwgMSB8fCB3ZWVrID4gd2Vla3NJblllYXIod2Vla1llYXIsIGRvdywgZG95KSkge1xuXHQgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLl9vdmVyZmxvd1dlZWtzID0gdHJ1ZTtcblx0ICAgIH0gZWxzZSBpZiAod2Vla2RheU92ZXJmbG93ICE9IG51bGwpIHtcblx0ICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5fb3ZlcmZsb3dXZWVrZGF5ID0gdHJ1ZTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgdGVtcCA9IGRheU9mWWVhckZyb21XZWVrcyh3ZWVrWWVhciwgd2Vlaywgd2Vla2RheSwgZG93LCBkb3kpO1xuXHQgICAgICAgIGNvbmZpZy5fYVtZRUFSXSA9IHRlbXAueWVhcjtcblx0ICAgICAgICBjb25maWcuX2RheU9mWWVhciA9IHRlbXAuZGF5T2ZZZWFyO1xuXHQgICAgfVxuXHR9XG5cdFxuXHQvLyBjb25zdGFudCB0aGF0IHJlZmVycyB0byB0aGUgSVNPIHN0YW5kYXJkXG5cdGhvb2tzLklTT184NjAxID0gZnVuY3Rpb24gKCkge307XG5cdFxuXHQvLyBkYXRlIGZyb20gc3RyaW5nIGFuZCBmb3JtYXQgc3RyaW5nXG5cdGZ1bmN0aW9uIGNvbmZpZ0Zyb21TdHJpbmdBbmRGb3JtYXQoY29uZmlnKSB7XG5cdCAgICAvLyBUT0RPOiBNb3ZlIHRoaXMgdG8gYW5vdGhlciBwYXJ0IG9mIHRoZSBjcmVhdGlvbiBmbG93IHRvIHByZXZlbnQgY2lyY3VsYXIgZGVwc1xuXHQgICAgaWYgKGNvbmZpZy5fZiA9PT0gaG9va3MuSVNPXzg2MDEpIHtcblx0ICAgICAgICBjb25maWdGcm9tSVNPKGNvbmZpZyk7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHRcblx0ICAgIGNvbmZpZy5fYSA9IFtdO1xuXHQgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuZW1wdHkgPSB0cnVlO1xuXHRcblx0ICAgIC8vIFRoaXMgYXJyYXkgaXMgdXNlZCB0byBtYWtlIGEgRGF0ZSwgZWl0aGVyIHdpdGggYG5ldyBEYXRlYCBvciBgRGF0ZS5VVENgXG5cdCAgICB2YXIgc3RyaW5nID0gJycgKyBjb25maWcuX2ksXG5cdCAgICAgICAgaSwgcGFyc2VkSW5wdXQsIHRva2VucywgdG9rZW4sIHNraXBwZWQsXG5cdCAgICAgICAgc3RyaW5nTGVuZ3RoID0gc3RyaW5nLmxlbmd0aCxcblx0ICAgICAgICB0b3RhbFBhcnNlZElucHV0TGVuZ3RoID0gMDtcblx0XG5cdCAgICB0b2tlbnMgPSBleHBhbmRGb3JtYXQoY29uZmlnLl9mLCBjb25maWcuX2xvY2FsZSkubWF0Y2goZm9ybWF0dGluZ1Rva2VucykgfHwgW107XG5cdFxuXHQgICAgZm9yIChpID0gMDsgaSA8IHRva2Vucy5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgIHRva2VuID0gdG9rZW5zW2ldO1xuXHQgICAgICAgIHBhcnNlZElucHV0ID0gKHN0cmluZy5tYXRjaChnZXRQYXJzZVJlZ2V4Rm9yVG9rZW4odG9rZW4sIGNvbmZpZykpIHx8IFtdKVswXTtcblx0ICAgICAgICAvLyBjb25zb2xlLmxvZygndG9rZW4nLCB0b2tlbiwgJ3BhcnNlZElucHV0JywgcGFyc2VkSW5wdXQsXG5cdCAgICAgICAgLy8gICAgICAgICAncmVnZXgnLCBnZXRQYXJzZVJlZ2V4Rm9yVG9rZW4odG9rZW4sIGNvbmZpZykpO1xuXHQgICAgICAgIGlmIChwYXJzZWRJbnB1dCkge1xuXHQgICAgICAgICAgICBza2lwcGVkID0gc3RyaW5nLnN1YnN0cigwLCBzdHJpbmcuaW5kZXhPZihwYXJzZWRJbnB1dCkpO1xuXHQgICAgICAgICAgICBpZiAoc2tpcHBlZC5sZW5ndGggPiAwKSB7XG5cdCAgICAgICAgICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS51bnVzZWRJbnB1dC5wdXNoKHNraXBwZWQpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIHN0cmluZyA9IHN0cmluZy5zbGljZShzdHJpbmcuaW5kZXhPZihwYXJzZWRJbnB1dCkgKyBwYXJzZWRJbnB1dC5sZW5ndGgpO1xuXHQgICAgICAgICAgICB0b3RhbFBhcnNlZElucHV0TGVuZ3RoICs9IHBhcnNlZElucHV0Lmxlbmd0aDtcblx0ICAgICAgICB9XG5cdCAgICAgICAgLy8gZG9uJ3QgcGFyc2UgaWYgaXQncyBub3QgYSBrbm93biB0b2tlblxuXHQgICAgICAgIGlmIChmb3JtYXRUb2tlbkZ1bmN0aW9uc1t0b2tlbl0pIHtcblx0ICAgICAgICAgICAgaWYgKHBhcnNlZElucHV0KSB7XG5cdCAgICAgICAgICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5lbXB0eSA9IGZhbHNlO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykudW51c2VkVG9rZW5zLnB1c2godG9rZW4pO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIGFkZFRpbWVUb0FycmF5RnJvbVRva2VuKHRva2VuLCBwYXJzZWRJbnB1dCwgY29uZmlnKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgZWxzZSBpZiAoY29uZmlnLl9zdHJpY3QgJiYgIXBhcnNlZElucHV0KSB7XG5cdCAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLnVudXNlZFRva2Vucy5wdXNoKHRva2VuKTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgLy8gYWRkIHJlbWFpbmluZyB1bnBhcnNlZCBpbnB1dCBsZW5ndGggdG8gdGhlIHN0cmluZ1xuXHQgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuY2hhcnNMZWZ0T3ZlciA9IHN0cmluZ0xlbmd0aCAtIHRvdGFsUGFyc2VkSW5wdXRMZW5ndGg7XG5cdCAgICBpZiAoc3RyaW5nLmxlbmd0aCA+IDApIHtcblx0ICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS51bnVzZWRJbnB1dC5wdXNoKHN0cmluZyk7XG5cdCAgICB9XG5cdFxuXHQgICAgLy8gY2xlYXIgXzEyaCBmbGFnIGlmIGhvdXIgaXMgPD0gMTJcblx0ICAgIGlmIChjb25maWcuX2FbSE9VUl0gPD0gMTIgJiZcblx0ICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5iaWdIb3VyID09PSB0cnVlICYmXG5cdCAgICAgICAgY29uZmlnLl9hW0hPVVJdID4gMCkge1xuXHQgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmJpZ0hvdXIgPSB1bmRlZmluZWQ7XG5cdCAgICB9XG5cdFxuXHQgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykucGFyc2VkRGF0ZVBhcnRzID0gY29uZmlnLl9hLnNsaWNlKDApO1xuXHQgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykubWVyaWRpZW0gPSBjb25maWcuX21lcmlkaWVtO1xuXHQgICAgLy8gaGFuZGxlIG1lcmlkaWVtXG5cdCAgICBjb25maWcuX2FbSE9VUl0gPSBtZXJpZGllbUZpeFdyYXAoY29uZmlnLl9sb2NhbGUsIGNvbmZpZy5fYVtIT1VSXSwgY29uZmlnLl9tZXJpZGllbSk7XG5cdFxuXHQgICAgY29uZmlnRnJvbUFycmF5KGNvbmZpZyk7XG5cdCAgICBjaGVja092ZXJmbG93KGNvbmZpZyk7XG5cdH1cblx0XG5cdFxuXHRmdW5jdGlvbiBtZXJpZGllbUZpeFdyYXAgKGxvY2FsZSwgaG91ciwgbWVyaWRpZW0pIHtcblx0ICAgIHZhciBpc1BtO1xuXHRcblx0ICAgIGlmIChtZXJpZGllbSA9PSBudWxsKSB7XG5cdCAgICAgICAgLy8gbm90aGluZyB0byBkb1xuXHQgICAgICAgIHJldHVybiBob3VyO1xuXHQgICAgfVxuXHQgICAgaWYgKGxvY2FsZS5tZXJpZGllbUhvdXIgIT0gbnVsbCkge1xuXHQgICAgICAgIHJldHVybiBsb2NhbGUubWVyaWRpZW1Ib3VyKGhvdXIsIG1lcmlkaWVtKTtcblx0ICAgIH0gZWxzZSBpZiAobG9jYWxlLmlzUE0gIT0gbnVsbCkge1xuXHQgICAgICAgIC8vIEZhbGxiYWNrXG5cdCAgICAgICAgaXNQbSA9IGxvY2FsZS5pc1BNKG1lcmlkaWVtKTtcblx0ICAgICAgICBpZiAoaXNQbSAmJiBob3VyIDwgMTIpIHtcblx0ICAgICAgICAgICAgaG91ciArPSAxMjtcblx0ICAgICAgICB9XG5cdCAgICAgICAgaWYgKCFpc1BtICYmIGhvdXIgPT09IDEyKSB7XG5cdCAgICAgICAgICAgIGhvdXIgPSAwO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gaG91cjtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgLy8gdGhpcyBpcyBub3Qgc3VwcG9zZWQgdG8gaGFwcGVuXG5cdCAgICAgICAgcmV0dXJuIGhvdXI7XG5cdCAgICB9XG5cdH1cblx0XG5cdC8vIGRhdGUgZnJvbSBzdHJpbmcgYW5kIGFycmF5IG9mIGZvcm1hdCBzdHJpbmdzXG5cdGZ1bmN0aW9uIGNvbmZpZ0Zyb21TdHJpbmdBbmRBcnJheShjb25maWcpIHtcblx0ICAgIHZhciB0ZW1wQ29uZmlnLFxuXHQgICAgICAgIGJlc3RNb21lbnQsXG5cdFxuXHQgICAgICAgIHNjb3JlVG9CZWF0LFxuXHQgICAgICAgIGksXG5cdCAgICAgICAgY3VycmVudFNjb3JlO1xuXHRcblx0ICAgIGlmIChjb25maWcuX2YubGVuZ3RoID09PSAwKSB7XG5cdCAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuaW52YWxpZEZvcm1hdCA9IHRydWU7XG5cdCAgICAgICAgY29uZmlnLl9kID0gbmV3IERhdGUoTmFOKTtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICB9XG5cdFxuXHQgICAgZm9yIChpID0gMDsgaSA8IGNvbmZpZy5fZi5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgIGN1cnJlbnRTY29yZSA9IDA7XG5cdCAgICAgICAgdGVtcENvbmZpZyA9IGNvcHlDb25maWcoe30sIGNvbmZpZyk7XG5cdCAgICAgICAgaWYgKGNvbmZpZy5fdXNlVVRDICE9IG51bGwpIHtcblx0ICAgICAgICAgICAgdGVtcENvbmZpZy5fdXNlVVRDID0gY29uZmlnLl91c2VVVEM7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHRlbXBDb25maWcuX2YgPSBjb25maWcuX2ZbaV07XG5cdCAgICAgICAgY29uZmlnRnJvbVN0cmluZ0FuZEZvcm1hdCh0ZW1wQ29uZmlnKTtcblx0XG5cdCAgICAgICAgaWYgKCFpc1ZhbGlkKHRlbXBDb25maWcpKSB7XG5cdCAgICAgICAgICAgIGNvbnRpbnVlO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgLy8gaWYgdGhlcmUgaXMgYW55IGlucHV0IHRoYXQgd2FzIG5vdCBwYXJzZWQgYWRkIGEgcGVuYWx0eSBmb3IgdGhhdCBmb3JtYXRcblx0ICAgICAgICBjdXJyZW50U2NvcmUgKz0gZ2V0UGFyc2luZ0ZsYWdzKHRlbXBDb25maWcpLmNoYXJzTGVmdE92ZXI7XG5cdFxuXHQgICAgICAgIC8vb3IgdG9rZW5zXG5cdCAgICAgICAgY3VycmVudFNjb3JlICs9IGdldFBhcnNpbmdGbGFncyh0ZW1wQ29uZmlnKS51bnVzZWRUb2tlbnMubGVuZ3RoICogMTA7XG5cdFxuXHQgICAgICAgIGdldFBhcnNpbmdGbGFncyh0ZW1wQ29uZmlnKS5zY29yZSA9IGN1cnJlbnRTY29yZTtcblx0XG5cdCAgICAgICAgaWYgKHNjb3JlVG9CZWF0ID09IG51bGwgfHwgY3VycmVudFNjb3JlIDwgc2NvcmVUb0JlYXQpIHtcblx0ICAgICAgICAgICAgc2NvcmVUb0JlYXQgPSBjdXJyZW50U2NvcmU7XG5cdCAgICAgICAgICAgIGJlc3RNb21lbnQgPSB0ZW1wQ29uZmlnO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICBleHRlbmQoY29uZmlnLCBiZXN0TW9tZW50IHx8IHRlbXBDb25maWcpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBjb25maWdGcm9tT2JqZWN0KGNvbmZpZykge1xuXHQgICAgaWYgKGNvbmZpZy5fZCkge1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgIH1cblx0XG5cdCAgICB2YXIgaSA9IG5vcm1hbGl6ZU9iamVjdFVuaXRzKGNvbmZpZy5faSk7XG5cdCAgICBjb25maWcuX2EgPSBtYXAoW2kueWVhciwgaS5tb250aCwgaS5kYXkgfHwgaS5kYXRlLCBpLmhvdXIsIGkubWludXRlLCBpLnNlY29uZCwgaS5taWxsaXNlY29uZF0sIGZ1bmN0aW9uIChvYmopIHtcblx0ICAgICAgICByZXR1cm4gb2JqICYmIHBhcnNlSW50KG9iaiwgMTApO1xuXHQgICAgfSk7XG5cdFxuXHQgICAgY29uZmlnRnJvbUFycmF5KGNvbmZpZyk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGNyZWF0ZUZyb21Db25maWcgKGNvbmZpZykge1xuXHQgICAgdmFyIHJlcyA9IG5ldyBNb21lbnQoY2hlY2tPdmVyZmxvdyhwcmVwYXJlQ29uZmlnKGNvbmZpZykpKTtcblx0ICAgIGlmIChyZXMuX25leHREYXkpIHtcblx0ICAgICAgICAvLyBBZGRpbmcgaXMgc21hcnQgZW5vdWdoIGFyb3VuZCBEU1Rcblx0ICAgICAgICByZXMuYWRkKDEsICdkJyk7XG5cdCAgICAgICAgcmVzLl9uZXh0RGF5ID0gdW5kZWZpbmVkO1xuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiByZXM7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHByZXBhcmVDb25maWcgKGNvbmZpZykge1xuXHQgICAgdmFyIGlucHV0ID0gY29uZmlnLl9pLFxuXHQgICAgICAgIGZvcm1hdCA9IGNvbmZpZy5fZjtcblx0XG5cdCAgICBjb25maWcuX2xvY2FsZSA9IGNvbmZpZy5fbG9jYWxlIHx8IGdldExvY2FsZShjb25maWcuX2wpO1xuXHRcblx0ICAgIGlmIChpbnB1dCA9PT0gbnVsbCB8fCAoZm9ybWF0ID09PSB1bmRlZmluZWQgJiYgaW5wdXQgPT09ICcnKSkge1xuXHQgICAgICAgIHJldHVybiBjcmVhdGVJbnZhbGlkKHtudWxsSW5wdXQ6IHRydWV9KTtcblx0ICAgIH1cblx0XG5cdCAgICBpZiAodHlwZW9mIGlucHV0ID09PSAnc3RyaW5nJykge1xuXHQgICAgICAgIGNvbmZpZy5faSA9IGlucHV0ID0gY29uZmlnLl9sb2NhbGUucHJlcGFyc2UoaW5wdXQpO1xuXHQgICAgfVxuXHRcblx0ICAgIGlmIChpc01vbWVudChpbnB1dCkpIHtcblx0ICAgICAgICByZXR1cm4gbmV3IE1vbWVudChjaGVja092ZXJmbG93KGlucHV0KSk7XG5cdCAgICB9IGVsc2UgaWYgKGlzRGF0ZShpbnB1dCkpIHtcblx0ICAgICAgICBjb25maWcuX2QgPSBpbnB1dDtcblx0ICAgIH0gZWxzZSBpZiAoaXNBcnJheShmb3JtYXQpKSB7XG5cdCAgICAgICAgY29uZmlnRnJvbVN0cmluZ0FuZEFycmF5KGNvbmZpZyk7XG5cdCAgICB9IGVsc2UgaWYgKGZvcm1hdCkge1xuXHQgICAgICAgIGNvbmZpZ0Zyb21TdHJpbmdBbmRGb3JtYXQoY29uZmlnKTtcblx0ICAgIH0gIGVsc2Uge1xuXHQgICAgICAgIGNvbmZpZ0Zyb21JbnB1dChjb25maWcpO1xuXHQgICAgfVxuXHRcblx0ICAgIGlmICghaXNWYWxpZChjb25maWcpKSB7XG5cdCAgICAgICAgY29uZmlnLl9kID0gbnVsbDtcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gY29uZmlnO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBjb25maWdGcm9tSW5wdXQoY29uZmlnKSB7XG5cdCAgICB2YXIgaW5wdXQgPSBjb25maWcuX2k7XG5cdCAgICBpZiAoaW5wdXQgPT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgIGNvbmZpZy5fZCA9IG5ldyBEYXRlKGhvb2tzLm5vdygpKTtcblx0ICAgIH0gZWxzZSBpZiAoaXNEYXRlKGlucHV0KSkge1xuXHQgICAgICAgIGNvbmZpZy5fZCA9IG5ldyBEYXRlKGlucHV0LnZhbHVlT2YoKSk7XG5cdCAgICB9IGVsc2UgaWYgKHR5cGVvZiBpbnB1dCA9PT0gJ3N0cmluZycpIHtcblx0ICAgICAgICBjb25maWdGcm9tU3RyaW5nKGNvbmZpZyk7XG5cdCAgICB9IGVsc2UgaWYgKGlzQXJyYXkoaW5wdXQpKSB7XG5cdCAgICAgICAgY29uZmlnLl9hID0gbWFwKGlucHV0LnNsaWNlKDApLCBmdW5jdGlvbiAob2JqKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBwYXJzZUludChvYmosIDEwKTtcblx0ICAgICAgICB9KTtcblx0ICAgICAgICBjb25maWdGcm9tQXJyYXkoY29uZmlnKTtcblx0ICAgIH0gZWxzZSBpZiAodHlwZW9mKGlucHV0KSA9PT0gJ29iamVjdCcpIHtcblx0ICAgICAgICBjb25maWdGcm9tT2JqZWN0KGNvbmZpZyk7XG5cdCAgICB9IGVsc2UgaWYgKGlzTnVtYmVyKGlucHV0KSkge1xuXHQgICAgICAgIC8vIGZyb20gbWlsbGlzZWNvbmRzXG5cdCAgICAgICAgY29uZmlnLl9kID0gbmV3IERhdGUoaW5wdXQpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICBob29rcy5jcmVhdGVGcm9tSW5wdXRGYWxsYmFjayhjb25maWcpO1xuXHQgICAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBjcmVhdGVMb2NhbE9yVVRDIChpbnB1dCwgZm9ybWF0LCBsb2NhbGUsIHN0cmljdCwgaXNVVEMpIHtcblx0ICAgIHZhciBjID0ge307XG5cdFxuXHQgICAgaWYgKGxvY2FsZSA9PT0gdHJ1ZSB8fCBsb2NhbGUgPT09IGZhbHNlKSB7XG5cdCAgICAgICAgc3RyaWN0ID0gbG9jYWxlO1xuXHQgICAgICAgIGxvY2FsZSA9IHVuZGVmaW5lZDtcblx0ICAgIH1cblx0XG5cdCAgICBpZiAoKGlzT2JqZWN0KGlucHV0KSAmJiBpc09iamVjdEVtcHR5KGlucHV0KSkgfHxcblx0ICAgICAgICAgICAgKGlzQXJyYXkoaW5wdXQpICYmIGlucHV0Lmxlbmd0aCA9PT0gMCkpIHtcblx0ICAgICAgICBpbnB1dCA9IHVuZGVmaW5lZDtcblx0ICAgIH1cblx0ICAgIC8vIG9iamVjdCBjb25zdHJ1Y3Rpb24gbXVzdCBiZSBkb25lIHRoaXMgd2F5LlxuXHQgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL21vbWVudC9tb21lbnQvaXNzdWVzLzE0MjNcblx0ICAgIGMuX2lzQU1vbWVudE9iamVjdCA9IHRydWU7XG5cdCAgICBjLl91c2VVVEMgPSBjLl9pc1VUQyA9IGlzVVRDO1xuXHQgICAgYy5fbCA9IGxvY2FsZTtcblx0ICAgIGMuX2kgPSBpbnB1dDtcblx0ICAgIGMuX2YgPSBmb3JtYXQ7XG5cdCAgICBjLl9zdHJpY3QgPSBzdHJpY3Q7XG5cdFxuXHQgICAgcmV0dXJuIGNyZWF0ZUZyb21Db25maWcoYyk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGNyZWF0ZUxvY2FsIChpbnB1dCwgZm9ybWF0LCBsb2NhbGUsIHN0cmljdCkge1xuXHQgICAgcmV0dXJuIGNyZWF0ZUxvY2FsT3JVVEMoaW5wdXQsIGZvcm1hdCwgbG9jYWxlLCBzdHJpY3QsIGZhbHNlKTtcblx0fVxuXHRcblx0dmFyIHByb3RvdHlwZU1pbiA9IGRlcHJlY2F0ZShcblx0ICAgICdtb21lbnQoKS5taW4gaXMgZGVwcmVjYXRlZCwgdXNlIG1vbWVudC5tYXggaW5zdGVhZC4gaHR0cDovL21vbWVudGpzLmNvbS9ndWlkZXMvIy93YXJuaW5ncy9taW4tbWF4LycsXG5cdCAgICBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgdmFyIG90aGVyID0gY3JlYXRlTG9jYWwuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcblx0ICAgICAgICBpZiAodGhpcy5pc1ZhbGlkKCkgJiYgb3RoZXIuaXNWYWxpZCgpKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBvdGhlciA8IHRoaXMgPyB0aGlzIDogb3RoZXI7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUludmFsaWQoKTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdCk7XG5cdFxuXHR2YXIgcHJvdG90eXBlTWF4ID0gZGVwcmVjYXRlKFxuXHQgICAgJ21vbWVudCgpLm1heCBpcyBkZXByZWNhdGVkLCB1c2UgbW9tZW50Lm1pbiBpbnN0ZWFkLiBodHRwOi8vbW9tZW50anMuY29tL2d1aWRlcy8jL3dhcm5pbmdzL21pbi1tYXgvJyxcblx0ICAgIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICB2YXIgb3RoZXIgPSBjcmVhdGVMb2NhbC5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuXHQgICAgICAgIGlmICh0aGlzLmlzVmFsaWQoKSAmJiBvdGhlci5pc1ZhbGlkKCkpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIG90aGVyID4gdGhpcyA/IHRoaXMgOiBvdGhlcjtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICByZXR1cm4gY3JlYXRlSW52YWxpZCgpO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0KTtcblx0XG5cdC8vIFBpY2sgYSBtb21lbnQgbSBmcm9tIG1vbWVudHMgc28gdGhhdCBtW2ZuXShvdGhlcikgaXMgdHJ1ZSBmb3IgYWxsXG5cdC8vIG90aGVyLiBUaGlzIHJlbGllcyBvbiB0aGUgZnVuY3Rpb24gZm4gdG8gYmUgdHJhbnNpdGl2ZS5cblx0Ly9cblx0Ly8gbW9tZW50cyBzaG91bGQgZWl0aGVyIGJlIGFuIGFycmF5IG9mIG1vbWVudCBvYmplY3RzIG9yIGFuIGFycmF5LCB3aG9zZVxuXHQvLyBmaXJzdCBlbGVtZW50IGlzIGFuIGFycmF5IG9mIG1vbWVudCBvYmplY3RzLlxuXHRmdW5jdGlvbiBwaWNrQnkoZm4sIG1vbWVudHMpIHtcblx0ICAgIHZhciByZXMsIGk7XG5cdCAgICBpZiAobW9tZW50cy5sZW5ndGggPT09IDEgJiYgaXNBcnJheShtb21lbnRzWzBdKSkge1xuXHQgICAgICAgIG1vbWVudHMgPSBtb21lbnRzWzBdO1xuXHQgICAgfVxuXHQgICAgaWYgKCFtb21lbnRzLmxlbmd0aCkge1xuXHQgICAgICAgIHJldHVybiBjcmVhdGVMb2NhbCgpO1xuXHQgICAgfVxuXHQgICAgcmVzID0gbW9tZW50c1swXTtcblx0ICAgIGZvciAoaSA9IDE7IGkgPCBtb21lbnRzLmxlbmd0aDsgKytpKSB7XG5cdCAgICAgICAgaWYgKCFtb21lbnRzW2ldLmlzVmFsaWQoKSB8fCBtb21lbnRzW2ldW2ZuXShyZXMpKSB7XG5cdCAgICAgICAgICAgIHJlcyA9IG1vbWVudHNbaV07XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHQgICAgcmV0dXJuIHJlcztcblx0fVxuXHRcblx0Ly8gVE9ETzogVXNlIFtdLnNvcnQgaW5zdGVhZD9cblx0ZnVuY3Rpb24gbWluICgpIHtcblx0ICAgIHZhciBhcmdzID0gW10uc2xpY2UuY2FsbChhcmd1bWVudHMsIDApO1xuXHRcblx0ICAgIHJldHVybiBwaWNrQnkoJ2lzQmVmb3JlJywgYXJncyk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIG1heCAoKSB7XG5cdCAgICB2YXIgYXJncyA9IFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAwKTtcblx0XG5cdCAgICByZXR1cm4gcGlja0J5KCdpc0FmdGVyJywgYXJncyk7XG5cdH1cblx0XG5cdHZhciBub3cgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gRGF0ZS5ub3cgPyBEYXRlLm5vdygpIDogKyhuZXcgRGF0ZSgpKTtcblx0fTtcblx0XG5cdGZ1bmN0aW9uIER1cmF0aW9uIChkdXJhdGlvbikge1xuXHQgICAgdmFyIG5vcm1hbGl6ZWRJbnB1dCA9IG5vcm1hbGl6ZU9iamVjdFVuaXRzKGR1cmF0aW9uKSxcblx0ICAgICAgICB5ZWFycyA9IG5vcm1hbGl6ZWRJbnB1dC55ZWFyIHx8IDAsXG5cdCAgICAgICAgcXVhcnRlcnMgPSBub3JtYWxpemVkSW5wdXQucXVhcnRlciB8fCAwLFxuXHQgICAgICAgIG1vbnRocyA9IG5vcm1hbGl6ZWRJbnB1dC5tb250aCB8fCAwLFxuXHQgICAgICAgIHdlZWtzID0gbm9ybWFsaXplZElucHV0LndlZWsgfHwgMCxcblx0ICAgICAgICBkYXlzID0gbm9ybWFsaXplZElucHV0LmRheSB8fCAwLFxuXHQgICAgICAgIGhvdXJzID0gbm9ybWFsaXplZElucHV0LmhvdXIgfHwgMCxcblx0ICAgICAgICBtaW51dGVzID0gbm9ybWFsaXplZElucHV0Lm1pbnV0ZSB8fCAwLFxuXHQgICAgICAgIHNlY29uZHMgPSBub3JtYWxpemVkSW5wdXQuc2Vjb25kIHx8IDAsXG5cdCAgICAgICAgbWlsbGlzZWNvbmRzID0gbm9ybWFsaXplZElucHV0Lm1pbGxpc2Vjb25kIHx8IDA7XG5cdFxuXHQgICAgLy8gcmVwcmVzZW50YXRpb24gZm9yIGRhdGVBZGRSZW1vdmVcblx0ICAgIHRoaXMuX21pbGxpc2Vjb25kcyA9ICttaWxsaXNlY29uZHMgK1xuXHQgICAgICAgIHNlY29uZHMgKiAxZTMgKyAvLyAxMDAwXG5cdCAgICAgICAgbWludXRlcyAqIDZlNCArIC8vIDEwMDAgKiA2MFxuXHQgICAgICAgIGhvdXJzICogMTAwMCAqIDYwICogNjA7IC8vdXNpbmcgMTAwMCAqIDYwICogNjAgaW5zdGVhZCBvZiAzNmU1IHRvIGF2b2lkIGZsb2F0aW5nIHBvaW50IHJvdW5kaW5nIGVycm9ycyBodHRwczovL2dpdGh1Yi5jb20vbW9tZW50L21vbWVudC9pc3N1ZXMvMjk3OFxuXHQgICAgLy8gQmVjYXVzZSBvZiBkYXRlQWRkUmVtb3ZlIHRyZWF0cyAyNCBob3VycyBhcyBkaWZmZXJlbnQgZnJvbSBhXG5cdCAgICAvLyBkYXkgd2hlbiB3b3JraW5nIGFyb3VuZCBEU1QsIHdlIG5lZWQgdG8gc3RvcmUgdGhlbSBzZXBhcmF0ZWx5XG5cdCAgICB0aGlzLl9kYXlzID0gK2RheXMgK1xuXHQgICAgICAgIHdlZWtzICogNztcblx0ICAgIC8vIEl0IGlzIGltcG9zc2libGUgdHJhbnNsYXRlIG1vbnRocyBpbnRvIGRheXMgd2l0aG91dCBrbm93aW5nXG5cdCAgICAvLyB3aGljaCBtb250aHMgeW91IGFyZSBhcmUgdGFsa2luZyBhYm91dCwgc28gd2UgaGF2ZSB0byBzdG9yZVxuXHQgICAgLy8gaXQgc2VwYXJhdGVseS5cblx0ICAgIHRoaXMuX21vbnRocyA9ICttb250aHMgK1xuXHQgICAgICAgIHF1YXJ0ZXJzICogMyArXG5cdCAgICAgICAgeWVhcnMgKiAxMjtcblx0XG5cdCAgICB0aGlzLl9kYXRhID0ge307XG5cdFxuXHQgICAgdGhpcy5fbG9jYWxlID0gZ2V0TG9jYWxlKCk7XG5cdFxuXHQgICAgdGhpcy5fYnViYmxlKCk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGlzRHVyYXRpb24gKG9iaikge1xuXHQgICAgcmV0dXJuIG9iaiBpbnN0YW5jZW9mIER1cmF0aW9uO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBhYnNSb3VuZCAobnVtYmVyKSB7XG5cdCAgICBpZiAobnVtYmVyIDwgMCkge1xuXHQgICAgICAgIHJldHVybiBNYXRoLnJvdW5kKC0xICogbnVtYmVyKSAqIC0xO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXR1cm4gTWF0aC5yb3VuZChudW1iZXIpO1xuXHQgICAgfVxuXHR9XG5cdFxuXHQvLyBGT1JNQVRUSU5HXG5cdFxuXHRmdW5jdGlvbiBvZmZzZXQgKHRva2VuLCBzZXBhcmF0b3IpIHtcblx0ICAgIGFkZEZvcm1hdFRva2VuKHRva2VuLCAwLCAwLCBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgdmFyIG9mZnNldCA9IHRoaXMudXRjT2Zmc2V0KCk7XG5cdCAgICAgICAgdmFyIHNpZ24gPSAnKyc7XG5cdCAgICAgICAgaWYgKG9mZnNldCA8IDApIHtcblx0ICAgICAgICAgICAgb2Zmc2V0ID0gLW9mZnNldDtcblx0ICAgICAgICAgICAgc2lnbiA9ICctJztcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIHNpZ24gKyB6ZXJvRmlsbCh+fihvZmZzZXQgLyA2MCksIDIpICsgc2VwYXJhdG9yICsgemVyb0ZpbGwofn4ob2Zmc2V0KSAlIDYwLCAyKTtcblx0ICAgIH0pO1xuXHR9XG5cdFxuXHRvZmZzZXQoJ1onLCAnOicpO1xuXHRvZmZzZXQoJ1paJywgJycpO1xuXHRcblx0Ly8gUEFSU0lOR1xuXHRcblx0YWRkUmVnZXhUb2tlbignWicsICBtYXRjaFNob3J0T2Zmc2V0KTtcblx0YWRkUmVnZXhUb2tlbignWlonLCBtYXRjaFNob3J0T2Zmc2V0KTtcblx0YWRkUGFyc2VUb2tlbihbJ1onLCAnWlonXSwgZnVuY3Rpb24gKGlucHV0LCBhcnJheSwgY29uZmlnKSB7XG5cdCAgICBjb25maWcuX3VzZVVUQyA9IHRydWU7XG5cdCAgICBjb25maWcuX3R6bSA9IG9mZnNldEZyb21TdHJpbmcobWF0Y2hTaG9ydE9mZnNldCwgaW5wdXQpO1xuXHR9KTtcblx0XG5cdC8vIEhFTFBFUlNcblx0XG5cdC8vIHRpbWV6b25lIGNodW5rZXJcblx0Ly8gJysxMDowMCcgPiBbJzEwJywgICcwMCddXG5cdC8vICctMTUzMCcgID4gWyctMTUnLCAnMzAnXVxuXHR2YXIgY2h1bmtPZmZzZXQgPSAvKFtcXCtcXC1dfFxcZFxcZCkvZ2k7XG5cdFxuXHRmdW5jdGlvbiBvZmZzZXRGcm9tU3RyaW5nKG1hdGNoZXIsIHN0cmluZykge1xuXHQgICAgdmFyIG1hdGNoZXMgPSAoc3RyaW5nIHx8ICcnKS5tYXRjaChtYXRjaGVyKTtcblx0XG5cdCAgICBpZiAobWF0Y2hlcyA9PT0gbnVsbCkge1xuXHQgICAgICAgIHJldHVybiBudWxsO1xuXHQgICAgfVxuXHRcblx0ICAgIHZhciBjaHVuayAgID0gbWF0Y2hlc1ttYXRjaGVzLmxlbmd0aCAtIDFdIHx8IFtdO1xuXHQgICAgdmFyIHBhcnRzICAgPSAoY2h1bmsgKyAnJykubWF0Y2goY2h1bmtPZmZzZXQpIHx8IFsnLScsIDAsIDBdO1xuXHQgICAgdmFyIG1pbnV0ZXMgPSArKHBhcnRzWzFdICogNjApICsgdG9JbnQocGFydHNbMl0pO1xuXHRcblx0ICAgIHJldHVybiBtaW51dGVzID09PSAwID9cblx0ICAgICAgMCA6XG5cdCAgICAgIHBhcnRzWzBdID09PSAnKycgPyBtaW51dGVzIDogLW1pbnV0ZXM7XG5cdH1cblx0XG5cdC8vIFJldHVybiBhIG1vbWVudCBmcm9tIGlucHV0LCB0aGF0IGlzIGxvY2FsL3V0Yy96b25lIGVxdWl2YWxlbnQgdG8gbW9kZWwuXG5cdGZ1bmN0aW9uIGNsb25lV2l0aE9mZnNldChpbnB1dCwgbW9kZWwpIHtcblx0ICAgIHZhciByZXMsIGRpZmY7XG5cdCAgICBpZiAobW9kZWwuX2lzVVRDKSB7XG5cdCAgICAgICAgcmVzID0gbW9kZWwuY2xvbmUoKTtcblx0ICAgICAgICBkaWZmID0gKGlzTW9tZW50KGlucHV0KSB8fCBpc0RhdGUoaW5wdXQpID8gaW5wdXQudmFsdWVPZigpIDogY3JlYXRlTG9jYWwoaW5wdXQpLnZhbHVlT2YoKSkgLSByZXMudmFsdWVPZigpO1xuXHQgICAgICAgIC8vIFVzZSBsb3ctbGV2ZWwgYXBpLCBiZWNhdXNlIHRoaXMgZm4gaXMgbG93LWxldmVsIGFwaS5cblx0ICAgICAgICByZXMuX2Quc2V0VGltZShyZXMuX2QudmFsdWVPZigpICsgZGlmZik7XG5cdCAgICAgICAgaG9va3MudXBkYXRlT2Zmc2V0KHJlcywgZmFsc2UpO1xuXHQgICAgICAgIHJldHVybiByZXM7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJldHVybiBjcmVhdGVMb2NhbChpbnB1dCkubG9jYWwoKTtcblx0ICAgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gZ2V0RGF0ZU9mZnNldCAobSkge1xuXHQgICAgLy8gT24gRmlyZWZveC4yNCBEYXRlI2dldFRpbWV6b25lT2Zmc2V0IHJldHVybnMgYSBmbG9hdGluZyBwb2ludC5cblx0ICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9tb21lbnQvbW9tZW50L3B1bGwvMTg3MVxuXHQgICAgcmV0dXJuIC1NYXRoLnJvdW5kKG0uX2QuZ2V0VGltZXpvbmVPZmZzZXQoKSAvIDE1KSAqIDE1O1xuXHR9XG5cdFxuXHQvLyBIT09LU1xuXHRcblx0Ly8gVGhpcyBmdW5jdGlvbiB3aWxsIGJlIGNhbGxlZCB3aGVuZXZlciBhIG1vbWVudCBpcyBtdXRhdGVkLlxuXHQvLyBJdCBpcyBpbnRlbmRlZCB0byBrZWVwIHRoZSBvZmZzZXQgaW4gc3luYyB3aXRoIHRoZSB0aW1lem9uZS5cblx0aG9va3MudXBkYXRlT2Zmc2V0ID0gZnVuY3Rpb24gKCkge307XG5cdFxuXHQvLyBNT01FTlRTXG5cdFxuXHQvLyBrZWVwTG9jYWxUaW1lID0gdHJ1ZSBtZWFucyBvbmx5IGNoYW5nZSB0aGUgdGltZXpvbmUsIHdpdGhvdXRcblx0Ly8gYWZmZWN0aW5nIHRoZSBsb2NhbCBob3VyLiBTbyA1OjMxOjI2ICswMzAwIC0tW3V0Y09mZnNldCgyLCB0cnVlKV0tLT5cblx0Ly8gNTozMToyNiArMDIwMCBJdCBpcyBwb3NzaWJsZSB0aGF0IDU6MzE6MjYgZG9lc24ndCBleGlzdCB3aXRoIG9mZnNldFxuXHQvLyArMDIwMCwgc28gd2UgYWRqdXN0IHRoZSB0aW1lIGFzIG5lZWRlZCwgdG8gYmUgdmFsaWQuXG5cdC8vXG5cdC8vIEtlZXBpbmcgdGhlIHRpbWUgYWN0dWFsbHkgYWRkcy9zdWJ0cmFjdHMgKG9uZSBob3VyKVxuXHQvLyBmcm9tIHRoZSBhY3R1YWwgcmVwcmVzZW50ZWQgdGltZS4gVGhhdCBpcyB3aHkgd2UgY2FsbCB1cGRhdGVPZmZzZXRcblx0Ly8gYSBzZWNvbmQgdGltZS4gSW4gY2FzZSBpdCB3YW50cyB1cyB0byBjaGFuZ2UgdGhlIG9mZnNldCBhZ2FpblxuXHQvLyBfY2hhbmdlSW5Qcm9ncmVzcyA9PSB0cnVlIGNhc2UsIHRoZW4gd2UgaGF2ZSB0byBhZGp1c3QsIGJlY2F1c2Vcblx0Ly8gdGhlcmUgaXMgbm8gc3VjaCB0aW1lIGluIHRoZSBnaXZlbiB0aW1lem9uZS5cblx0ZnVuY3Rpb24gZ2V0U2V0T2Zmc2V0IChpbnB1dCwga2VlcExvY2FsVGltZSkge1xuXHQgICAgdmFyIG9mZnNldCA9IHRoaXMuX29mZnNldCB8fCAwLFxuXHQgICAgICAgIGxvY2FsQWRqdXN0O1xuXHQgICAgaWYgKCF0aGlzLmlzVmFsaWQoKSkge1xuXHQgICAgICAgIHJldHVybiBpbnB1dCAhPSBudWxsID8gdGhpcyA6IE5hTjtcblx0ICAgIH1cblx0ICAgIGlmIChpbnB1dCAhPSBudWxsKSB7XG5cdCAgICAgICAgaWYgKHR5cGVvZiBpbnB1dCA9PT0gJ3N0cmluZycpIHtcblx0ICAgICAgICAgICAgaW5wdXQgPSBvZmZzZXRGcm9tU3RyaW5nKG1hdGNoU2hvcnRPZmZzZXQsIGlucHV0KTtcblx0ICAgICAgICAgICAgaWYgKGlucHV0ID09PSBudWxsKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH0gZWxzZSBpZiAoTWF0aC5hYnMoaW5wdXQpIDwgMTYpIHtcblx0ICAgICAgICAgICAgaW5wdXQgPSBpbnB1dCAqIDYwO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAoIXRoaXMuX2lzVVRDICYmIGtlZXBMb2NhbFRpbWUpIHtcblx0ICAgICAgICAgICAgbG9jYWxBZGp1c3QgPSBnZXREYXRlT2Zmc2V0KHRoaXMpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICB0aGlzLl9vZmZzZXQgPSBpbnB1dDtcblx0ICAgICAgICB0aGlzLl9pc1VUQyA9IHRydWU7XG5cdCAgICAgICAgaWYgKGxvY2FsQWRqdXN0ICE9IG51bGwpIHtcblx0ICAgICAgICAgICAgdGhpcy5hZGQobG9jYWxBZGp1c3QsICdtJyk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmIChvZmZzZXQgIT09IGlucHV0KSB7XG5cdCAgICAgICAgICAgIGlmICgha2VlcExvY2FsVGltZSB8fCB0aGlzLl9jaGFuZ2VJblByb2dyZXNzKSB7XG5cdCAgICAgICAgICAgICAgICBhZGRTdWJ0cmFjdCh0aGlzLCBjcmVhdGVEdXJhdGlvbihpbnB1dCAtIG9mZnNldCwgJ20nKSwgMSwgZmFsc2UpO1xuXHQgICAgICAgICAgICB9IGVsc2UgaWYgKCF0aGlzLl9jaGFuZ2VJblByb2dyZXNzKSB7XG5cdCAgICAgICAgICAgICAgICB0aGlzLl9jaGFuZ2VJblByb2dyZXNzID0gdHJ1ZTtcblx0ICAgICAgICAgICAgICAgIGhvb2tzLnVwZGF0ZU9mZnNldCh0aGlzLCB0cnVlKTtcblx0ICAgICAgICAgICAgICAgIHRoaXMuX2NoYW5nZUluUHJvZ3Jlc3MgPSBudWxsO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiB0aGlzO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXR1cm4gdGhpcy5faXNVVEMgPyBvZmZzZXQgOiBnZXREYXRlT2Zmc2V0KHRoaXMpO1xuXHQgICAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBnZXRTZXRab25lIChpbnB1dCwga2VlcExvY2FsVGltZSkge1xuXHQgICAgaWYgKGlucHV0ICE9IG51bGwpIHtcblx0ICAgICAgICBpZiAodHlwZW9mIGlucHV0ICE9PSAnc3RyaW5nJykge1xuXHQgICAgICAgICAgICBpbnB1dCA9IC1pbnB1dDtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIHRoaXMudXRjT2Zmc2V0KGlucHV0LCBrZWVwTG9jYWxUaW1lKTtcblx0XG5cdCAgICAgICAgcmV0dXJuIHRoaXM7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJldHVybiAtdGhpcy51dGNPZmZzZXQoKTtcblx0ICAgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gc2V0T2Zmc2V0VG9VVEMgKGtlZXBMb2NhbFRpbWUpIHtcblx0ICAgIHJldHVybiB0aGlzLnV0Y09mZnNldCgwLCBrZWVwTG9jYWxUaW1lKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gc2V0T2Zmc2V0VG9Mb2NhbCAoa2VlcExvY2FsVGltZSkge1xuXHQgICAgaWYgKHRoaXMuX2lzVVRDKSB7XG5cdCAgICAgICAgdGhpcy51dGNPZmZzZXQoMCwga2VlcExvY2FsVGltZSk7XG5cdCAgICAgICAgdGhpcy5faXNVVEMgPSBmYWxzZTtcblx0XG5cdCAgICAgICAgaWYgKGtlZXBMb2NhbFRpbWUpIHtcblx0ICAgICAgICAgICAgdGhpcy5zdWJ0cmFjdChnZXREYXRlT2Zmc2V0KHRoaXMpLCAnbScpO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0ICAgIHJldHVybiB0aGlzO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBzZXRPZmZzZXRUb1BhcnNlZE9mZnNldCAoKSB7XG5cdCAgICBpZiAodGhpcy5fdHptICE9IG51bGwpIHtcblx0ICAgICAgICB0aGlzLnV0Y09mZnNldCh0aGlzLl90em0pO1xuXHQgICAgfSBlbHNlIGlmICh0eXBlb2YgdGhpcy5faSA9PT0gJ3N0cmluZycpIHtcblx0ICAgICAgICB2YXIgdFpvbmUgPSBvZmZzZXRGcm9tU3RyaW5nKG1hdGNoT2Zmc2V0LCB0aGlzLl9pKTtcblx0ICAgICAgICBpZiAodFpvbmUgIT0gbnVsbCkge1xuXHQgICAgICAgICAgICB0aGlzLnV0Y09mZnNldCh0Wm9uZSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGVsc2Uge1xuXHQgICAgICAgICAgICB0aGlzLnV0Y09mZnNldCgwLCB0cnVlKTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdCAgICByZXR1cm4gdGhpcztcblx0fVxuXHRcblx0ZnVuY3Rpb24gaGFzQWxpZ25lZEhvdXJPZmZzZXQgKGlucHV0KSB7XG5cdCAgICBpZiAoIXRoaXMuaXNWYWxpZCgpKSB7XG5cdCAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgfVxuXHQgICAgaW5wdXQgPSBpbnB1dCA/IGNyZWF0ZUxvY2FsKGlucHV0KS51dGNPZmZzZXQoKSA6IDA7XG5cdFxuXHQgICAgcmV0dXJuICh0aGlzLnV0Y09mZnNldCgpIC0gaW5wdXQpICUgNjAgPT09IDA7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGlzRGF5bGlnaHRTYXZpbmdUaW1lICgpIHtcblx0ICAgIHJldHVybiAoXG5cdCAgICAgICAgdGhpcy51dGNPZmZzZXQoKSA+IHRoaXMuY2xvbmUoKS5tb250aCgwKS51dGNPZmZzZXQoKSB8fFxuXHQgICAgICAgIHRoaXMudXRjT2Zmc2V0KCkgPiB0aGlzLmNsb25lKCkubW9udGgoNSkudXRjT2Zmc2V0KClcblx0ICAgICk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGlzRGF5bGlnaHRTYXZpbmdUaW1lU2hpZnRlZCAoKSB7XG5cdCAgICBpZiAoIWlzVW5kZWZpbmVkKHRoaXMuX2lzRFNUU2hpZnRlZCkpIHtcblx0ICAgICAgICByZXR1cm4gdGhpcy5faXNEU1RTaGlmdGVkO1xuXHQgICAgfVxuXHRcblx0ICAgIHZhciBjID0ge307XG5cdFxuXHQgICAgY29weUNvbmZpZyhjLCB0aGlzKTtcblx0ICAgIGMgPSBwcmVwYXJlQ29uZmlnKGMpO1xuXHRcblx0ICAgIGlmIChjLl9hKSB7XG5cdCAgICAgICAgdmFyIG90aGVyID0gYy5faXNVVEMgPyBjcmVhdGVVVEMoYy5fYSkgOiBjcmVhdGVMb2NhbChjLl9hKTtcblx0ICAgICAgICB0aGlzLl9pc0RTVFNoaWZ0ZWQgPSB0aGlzLmlzVmFsaWQoKSAmJlxuXHQgICAgICAgICAgICBjb21wYXJlQXJyYXlzKGMuX2EsIG90aGVyLnRvQXJyYXkoKSkgPiAwO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICB0aGlzLl9pc0RTVFNoaWZ0ZWQgPSBmYWxzZTtcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gdGhpcy5faXNEU1RTaGlmdGVkO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBpc0xvY2FsICgpIHtcblx0ICAgIHJldHVybiB0aGlzLmlzVmFsaWQoKSA/ICF0aGlzLl9pc1VUQyA6IGZhbHNlO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBpc1V0Y09mZnNldCAoKSB7XG5cdCAgICByZXR1cm4gdGhpcy5pc1ZhbGlkKCkgPyB0aGlzLl9pc1VUQyA6IGZhbHNlO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBpc1V0YyAoKSB7XG5cdCAgICByZXR1cm4gdGhpcy5pc1ZhbGlkKCkgPyB0aGlzLl9pc1VUQyAmJiB0aGlzLl9vZmZzZXQgPT09IDAgOiBmYWxzZTtcblx0fVxuXHRcblx0Ly8gQVNQLk5FVCBqc29uIGRhdGUgZm9ybWF0IHJlZ2V4XG5cdHZhciBhc3BOZXRSZWdleCA9IC9eKFxcLSk/KD86KFxcZCopWy4gXSk/KFxcZCspXFw6KFxcZCspKD86XFw6KFxcZCspKFxcLlxcZCopPyk/JC87XG5cdFxuXHQvLyBmcm9tIGh0dHA6Ly9kb2NzLmNsb3N1cmUtbGlicmFyeS5nb29nbGVjb2RlLmNvbS9naXQvY2xvc3VyZV9nb29nX2RhdGVfZGF0ZS5qcy5zb3VyY2UuaHRtbFxuXHQvLyBzb21ld2hhdCBtb3JlIGluIGxpbmUgd2l0aCA0LjQuMy4yIDIwMDQgc3BlYywgYnV0IGFsbG93cyBkZWNpbWFsIGFueXdoZXJlXG5cdC8vIGFuZCBmdXJ0aGVyIG1vZGlmaWVkIHRvIGFsbG93IGZvciBzdHJpbmdzIGNvbnRhaW5pbmcgYm90aCB3ZWVrIGFuZCBkYXlcblx0dmFyIGlzb1JlZ2V4ID0gL14oLSk/UCg/OigtP1swLTksLl0qKVkpPyg/OigtP1swLTksLl0qKU0pPyg/OigtP1swLTksLl0qKVcpPyg/OigtP1swLTksLl0qKUQpPyg/OlQoPzooLT9bMC05LC5dKilIKT8oPzooLT9bMC05LC5dKilNKT8oPzooLT9bMC05LC5dKilTKT8pPyQvO1xuXHRcblx0ZnVuY3Rpb24gY3JlYXRlRHVyYXRpb24gKGlucHV0LCBrZXkpIHtcblx0ICAgIHZhciBkdXJhdGlvbiA9IGlucHV0LFxuXHQgICAgICAgIC8vIG1hdGNoaW5nIGFnYWluc3QgcmVnZXhwIGlzIGV4cGVuc2l2ZSwgZG8gaXQgb24gZGVtYW5kXG5cdCAgICAgICAgbWF0Y2ggPSBudWxsLFxuXHQgICAgICAgIHNpZ24sXG5cdCAgICAgICAgcmV0LFxuXHQgICAgICAgIGRpZmZSZXM7XG5cdFxuXHQgICAgaWYgKGlzRHVyYXRpb24oaW5wdXQpKSB7XG5cdCAgICAgICAgZHVyYXRpb24gPSB7XG5cdCAgICAgICAgICAgIG1zIDogaW5wdXQuX21pbGxpc2Vjb25kcyxcblx0ICAgICAgICAgICAgZCAgOiBpbnB1dC5fZGF5cyxcblx0ICAgICAgICAgICAgTSAgOiBpbnB1dC5fbW9udGhzXG5cdCAgICAgICAgfTtcblx0ICAgIH0gZWxzZSBpZiAoaXNOdW1iZXIoaW5wdXQpKSB7XG5cdCAgICAgICAgZHVyYXRpb24gPSB7fTtcblx0ICAgICAgICBpZiAoa2V5KSB7XG5cdCAgICAgICAgICAgIGR1cmF0aW9uW2tleV0gPSBpbnB1dDtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICBkdXJhdGlvbi5taWxsaXNlY29uZHMgPSBpbnB1dDtcblx0ICAgICAgICB9XG5cdCAgICB9IGVsc2UgaWYgKCEhKG1hdGNoID0gYXNwTmV0UmVnZXguZXhlYyhpbnB1dCkpKSB7XG5cdCAgICAgICAgc2lnbiA9IChtYXRjaFsxXSA9PT0gJy0nKSA/IC0xIDogMTtcblx0ICAgICAgICBkdXJhdGlvbiA9IHtcblx0ICAgICAgICAgICAgeSAgOiAwLFxuXHQgICAgICAgICAgICBkICA6IHRvSW50KG1hdGNoW0RBVEVdKSAgICAgICAgICAgICAgICAgICAgICAgICAqIHNpZ24sXG5cdCAgICAgICAgICAgIGggIDogdG9JbnQobWF0Y2hbSE9VUl0pICAgICAgICAgICAgICAgICAgICAgICAgICogc2lnbixcblx0ICAgICAgICAgICAgbSAgOiB0b0ludChtYXRjaFtNSU5VVEVdKSAgICAgICAgICAgICAgICAgICAgICAgKiBzaWduLFxuXHQgICAgICAgICAgICBzICA6IHRvSW50KG1hdGNoW1NFQ09ORF0pICAgICAgICAgICAgICAgICAgICAgICAqIHNpZ24sXG5cdCAgICAgICAgICAgIG1zIDogdG9JbnQoYWJzUm91bmQobWF0Y2hbTUlMTElTRUNPTkRdICogMTAwMCkpICogc2lnbiAvLyB0aGUgbWlsbGlzZWNvbmQgZGVjaW1hbCBwb2ludCBpcyBpbmNsdWRlZCBpbiB0aGUgbWF0Y2hcblx0ICAgICAgICB9O1xuXHQgICAgfSBlbHNlIGlmICghIShtYXRjaCA9IGlzb1JlZ2V4LmV4ZWMoaW5wdXQpKSkge1xuXHQgICAgICAgIHNpZ24gPSAobWF0Y2hbMV0gPT09ICctJykgPyAtMSA6IDE7XG5cdCAgICAgICAgZHVyYXRpb24gPSB7XG5cdCAgICAgICAgICAgIHkgOiBwYXJzZUlzbyhtYXRjaFsyXSwgc2lnbiksXG5cdCAgICAgICAgICAgIE0gOiBwYXJzZUlzbyhtYXRjaFszXSwgc2lnbiksXG5cdCAgICAgICAgICAgIHcgOiBwYXJzZUlzbyhtYXRjaFs0XSwgc2lnbiksXG5cdCAgICAgICAgICAgIGQgOiBwYXJzZUlzbyhtYXRjaFs1XSwgc2lnbiksXG5cdCAgICAgICAgICAgIGggOiBwYXJzZUlzbyhtYXRjaFs2XSwgc2lnbiksXG5cdCAgICAgICAgICAgIG0gOiBwYXJzZUlzbyhtYXRjaFs3XSwgc2lnbiksXG5cdCAgICAgICAgICAgIHMgOiBwYXJzZUlzbyhtYXRjaFs4XSwgc2lnbilcblx0ICAgICAgICB9O1xuXHQgICAgfSBlbHNlIGlmIChkdXJhdGlvbiA9PSBudWxsKSB7Ly8gY2hlY2tzIGZvciBudWxsIG9yIHVuZGVmaW5lZFxuXHQgICAgICAgIGR1cmF0aW9uID0ge307XG5cdCAgICB9IGVsc2UgaWYgKHR5cGVvZiBkdXJhdGlvbiA9PT0gJ29iamVjdCcgJiYgKCdmcm9tJyBpbiBkdXJhdGlvbiB8fCAndG8nIGluIGR1cmF0aW9uKSkge1xuXHQgICAgICAgIGRpZmZSZXMgPSBtb21lbnRzRGlmZmVyZW5jZShjcmVhdGVMb2NhbChkdXJhdGlvbi5mcm9tKSwgY3JlYXRlTG9jYWwoZHVyYXRpb24udG8pKTtcblx0XG5cdCAgICAgICAgZHVyYXRpb24gPSB7fTtcblx0ICAgICAgICBkdXJhdGlvbi5tcyA9IGRpZmZSZXMubWlsbGlzZWNvbmRzO1xuXHQgICAgICAgIGR1cmF0aW9uLk0gPSBkaWZmUmVzLm1vbnRocztcblx0ICAgIH1cblx0XG5cdCAgICByZXQgPSBuZXcgRHVyYXRpb24oZHVyYXRpb24pO1xuXHRcblx0ICAgIGlmIChpc0R1cmF0aW9uKGlucHV0KSAmJiBoYXNPd25Qcm9wKGlucHV0LCAnX2xvY2FsZScpKSB7XG5cdCAgICAgICAgcmV0Ll9sb2NhbGUgPSBpbnB1dC5fbG9jYWxlO1xuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiByZXQ7XG5cdH1cblx0XG5cdGNyZWF0ZUR1cmF0aW9uLmZuID0gRHVyYXRpb24ucHJvdG90eXBlO1xuXHRcblx0ZnVuY3Rpb24gcGFyc2VJc28gKGlucCwgc2lnbikge1xuXHQgICAgLy8gV2UnZCBub3JtYWxseSB1c2Ugfn5pbnAgZm9yIHRoaXMsIGJ1dCB1bmZvcnR1bmF0ZWx5IGl0IGFsc29cblx0ICAgIC8vIGNvbnZlcnRzIGZsb2F0cyB0byBpbnRzLlxuXHQgICAgLy8gaW5wIG1heSBiZSB1bmRlZmluZWQsIHNvIGNhcmVmdWwgY2FsbGluZyByZXBsYWNlIG9uIGl0LlxuXHQgICAgdmFyIHJlcyA9IGlucCAmJiBwYXJzZUZsb2F0KGlucC5yZXBsYWNlKCcsJywgJy4nKSk7XG5cdCAgICAvLyBhcHBseSBzaWduIHdoaWxlIHdlJ3JlIGF0IGl0XG5cdCAgICByZXR1cm4gKGlzTmFOKHJlcykgPyAwIDogcmVzKSAqIHNpZ247XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHBvc2l0aXZlTW9tZW50c0RpZmZlcmVuY2UoYmFzZSwgb3RoZXIpIHtcblx0ICAgIHZhciByZXMgPSB7bWlsbGlzZWNvbmRzOiAwLCBtb250aHM6IDB9O1xuXHRcblx0ICAgIHJlcy5tb250aHMgPSBvdGhlci5tb250aCgpIC0gYmFzZS5tb250aCgpICtcblx0ICAgICAgICAob3RoZXIueWVhcigpIC0gYmFzZS55ZWFyKCkpICogMTI7XG5cdCAgICBpZiAoYmFzZS5jbG9uZSgpLmFkZChyZXMubW9udGhzLCAnTScpLmlzQWZ0ZXIob3RoZXIpKSB7XG5cdCAgICAgICAgLS1yZXMubW9udGhzO1xuXHQgICAgfVxuXHRcblx0ICAgIHJlcy5taWxsaXNlY29uZHMgPSArb3RoZXIgLSArKGJhc2UuY2xvbmUoKS5hZGQocmVzLm1vbnRocywgJ00nKSk7XG5cdFxuXHQgICAgcmV0dXJuIHJlcztcblx0fVxuXHRcblx0ZnVuY3Rpb24gbW9tZW50c0RpZmZlcmVuY2UoYmFzZSwgb3RoZXIpIHtcblx0ICAgIHZhciByZXM7XG5cdCAgICBpZiAoIShiYXNlLmlzVmFsaWQoKSAmJiBvdGhlci5pc1ZhbGlkKCkpKSB7XG5cdCAgICAgICAgcmV0dXJuIHttaWxsaXNlY29uZHM6IDAsIG1vbnRoczogMH07XG5cdCAgICB9XG5cdFxuXHQgICAgb3RoZXIgPSBjbG9uZVdpdGhPZmZzZXQob3RoZXIsIGJhc2UpO1xuXHQgICAgaWYgKGJhc2UuaXNCZWZvcmUob3RoZXIpKSB7XG5cdCAgICAgICAgcmVzID0gcG9zaXRpdmVNb21lbnRzRGlmZmVyZW5jZShiYXNlLCBvdGhlcik7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJlcyA9IHBvc2l0aXZlTW9tZW50c0RpZmZlcmVuY2Uob3RoZXIsIGJhc2UpO1xuXHQgICAgICAgIHJlcy5taWxsaXNlY29uZHMgPSAtcmVzLm1pbGxpc2Vjb25kcztcblx0ICAgICAgICByZXMubW9udGhzID0gLXJlcy5tb250aHM7XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIHJlcztcblx0fVxuXHRcblx0Ly8gVE9ETzogcmVtb3ZlICduYW1lJyBhcmcgYWZ0ZXIgZGVwcmVjYXRpb24gaXMgcmVtb3ZlZFxuXHRmdW5jdGlvbiBjcmVhdGVBZGRlcihkaXJlY3Rpb24sIG5hbWUpIHtcblx0ICAgIHJldHVybiBmdW5jdGlvbiAodmFsLCBwZXJpb2QpIHtcblx0ICAgICAgICB2YXIgZHVyLCB0bXA7XG5cdCAgICAgICAgLy9pbnZlcnQgdGhlIGFyZ3VtZW50cywgYnV0IGNvbXBsYWluIGFib3V0IGl0XG5cdCAgICAgICAgaWYgKHBlcmlvZCAhPT0gbnVsbCAmJiAhaXNOYU4oK3BlcmlvZCkpIHtcblx0ICAgICAgICAgICAgZGVwcmVjYXRlU2ltcGxlKG5hbWUsICdtb21lbnQoKS4nICsgbmFtZSAgKyAnKHBlcmlvZCwgbnVtYmVyKSBpcyBkZXByZWNhdGVkLiBQbGVhc2UgdXNlIG1vbWVudCgpLicgKyBuYW1lICsgJyhudW1iZXIsIHBlcmlvZCkuICcgK1xuXHQgICAgICAgICAgICAnU2VlIGh0dHA6Ly9tb21lbnRqcy5jb20vZ3VpZGVzLyMvd2FybmluZ3MvYWRkLWludmVydGVkLXBhcmFtLyBmb3IgbW9yZSBpbmZvLicpO1xuXHQgICAgICAgICAgICB0bXAgPSB2YWw7IHZhbCA9IHBlcmlvZDsgcGVyaW9kID0gdG1wO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgdmFsID0gdHlwZW9mIHZhbCA9PT0gJ3N0cmluZycgPyArdmFsIDogdmFsO1xuXHQgICAgICAgIGR1ciA9IGNyZWF0ZUR1cmF0aW9uKHZhbCwgcGVyaW9kKTtcblx0ICAgICAgICBhZGRTdWJ0cmFjdCh0aGlzLCBkdXIsIGRpcmVjdGlvbik7XG5cdCAgICAgICAgcmV0dXJuIHRoaXM7XG5cdCAgICB9O1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBhZGRTdWJ0cmFjdCAobW9tLCBkdXJhdGlvbiwgaXNBZGRpbmcsIHVwZGF0ZU9mZnNldCkge1xuXHQgICAgdmFyIG1pbGxpc2Vjb25kcyA9IGR1cmF0aW9uLl9taWxsaXNlY29uZHMsXG5cdCAgICAgICAgZGF5cyA9IGFic1JvdW5kKGR1cmF0aW9uLl9kYXlzKSxcblx0ICAgICAgICBtb250aHMgPSBhYnNSb3VuZChkdXJhdGlvbi5fbW9udGhzKTtcblx0XG5cdCAgICBpZiAoIW1vbS5pc1ZhbGlkKCkpIHtcblx0ICAgICAgICAvLyBObyBvcFxuXHQgICAgICAgIHJldHVybjtcblx0ICAgIH1cblx0XG5cdCAgICB1cGRhdGVPZmZzZXQgPSB1cGRhdGVPZmZzZXQgPT0gbnVsbCA/IHRydWUgOiB1cGRhdGVPZmZzZXQ7XG5cdFxuXHQgICAgaWYgKG1pbGxpc2Vjb25kcykge1xuXHQgICAgICAgIG1vbS5fZC5zZXRUaW1lKG1vbS5fZC52YWx1ZU9mKCkgKyBtaWxsaXNlY29uZHMgKiBpc0FkZGluZyk7XG5cdCAgICB9XG5cdCAgICBpZiAoZGF5cykge1xuXHQgICAgICAgIHNldCQxKG1vbSwgJ0RhdGUnLCBnZXQobW9tLCAnRGF0ZScpICsgZGF5cyAqIGlzQWRkaW5nKTtcblx0ICAgIH1cblx0ICAgIGlmIChtb250aHMpIHtcblx0ICAgICAgICBzZXRNb250aChtb20sIGdldChtb20sICdNb250aCcpICsgbW9udGhzICogaXNBZGRpbmcpO1xuXHQgICAgfVxuXHQgICAgaWYgKHVwZGF0ZU9mZnNldCkge1xuXHQgICAgICAgIGhvb2tzLnVwZGF0ZU9mZnNldChtb20sIGRheXMgfHwgbW9udGhzKTtcblx0ICAgIH1cblx0fVxuXHRcblx0dmFyIGFkZCAgICAgID0gY3JlYXRlQWRkZXIoMSwgJ2FkZCcpO1xuXHR2YXIgc3VidHJhY3QgPSBjcmVhdGVBZGRlcigtMSwgJ3N1YnRyYWN0Jyk7XG5cdFxuXHRmdW5jdGlvbiBnZXRDYWxlbmRhckZvcm1hdChteU1vbWVudCwgbm93KSB7XG5cdCAgICB2YXIgZGlmZiA9IG15TW9tZW50LmRpZmYobm93LCAnZGF5cycsIHRydWUpO1xuXHQgICAgcmV0dXJuIGRpZmYgPCAtNiA/ICdzYW1lRWxzZScgOlxuXHQgICAgICAgICAgICBkaWZmIDwgLTEgPyAnbGFzdFdlZWsnIDpcblx0ICAgICAgICAgICAgZGlmZiA8IDAgPyAnbGFzdERheScgOlxuXHQgICAgICAgICAgICBkaWZmIDwgMSA/ICdzYW1lRGF5JyA6XG5cdCAgICAgICAgICAgIGRpZmYgPCAyID8gJ25leHREYXknIDpcblx0ICAgICAgICAgICAgZGlmZiA8IDcgPyAnbmV4dFdlZWsnIDogJ3NhbWVFbHNlJztcblx0fVxuXHRcblx0ZnVuY3Rpb24gY2FsZW5kYXIkMSAodGltZSwgZm9ybWF0cykge1xuXHQgICAgLy8gV2Ugd2FudCB0byBjb21wYXJlIHRoZSBzdGFydCBvZiB0b2RheSwgdnMgdGhpcy5cblx0ICAgIC8vIEdldHRpbmcgc3RhcnQtb2YtdG9kYXkgZGVwZW5kcyBvbiB3aGV0aGVyIHdlJ3JlIGxvY2FsL3V0Yy9vZmZzZXQgb3Igbm90LlxuXHQgICAgdmFyIG5vdyA9IHRpbWUgfHwgY3JlYXRlTG9jYWwoKSxcblx0ICAgICAgICBzb2QgPSBjbG9uZVdpdGhPZmZzZXQobm93LCB0aGlzKS5zdGFydE9mKCdkYXknKSxcblx0ICAgICAgICBmb3JtYXQgPSBob29rcy5jYWxlbmRhckZvcm1hdCh0aGlzLCBzb2QpIHx8ICdzYW1lRWxzZSc7XG5cdFxuXHQgICAgdmFyIG91dHB1dCA9IGZvcm1hdHMgJiYgKGlzRnVuY3Rpb24oZm9ybWF0c1tmb3JtYXRdKSA/IGZvcm1hdHNbZm9ybWF0XS5jYWxsKHRoaXMsIG5vdykgOiBmb3JtYXRzW2Zvcm1hdF0pO1xuXHRcblx0ICAgIHJldHVybiB0aGlzLmZvcm1hdChvdXRwdXQgfHwgdGhpcy5sb2NhbGVEYXRhKCkuY2FsZW5kYXIoZm9ybWF0LCB0aGlzLCBjcmVhdGVMb2NhbChub3cpKSk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGNsb25lICgpIHtcblx0ICAgIHJldHVybiBuZXcgTW9tZW50KHRoaXMpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBpc0FmdGVyIChpbnB1dCwgdW5pdHMpIHtcblx0ICAgIHZhciBsb2NhbElucHV0ID0gaXNNb21lbnQoaW5wdXQpID8gaW5wdXQgOiBjcmVhdGVMb2NhbChpbnB1dCk7XG5cdCAgICBpZiAoISh0aGlzLmlzVmFsaWQoKSAmJiBsb2NhbElucHV0LmlzVmFsaWQoKSkpIHtcblx0ICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICB9XG5cdCAgICB1bml0cyA9IG5vcm1hbGl6ZVVuaXRzKCFpc1VuZGVmaW5lZCh1bml0cykgPyB1bml0cyA6ICdtaWxsaXNlY29uZCcpO1xuXHQgICAgaWYgKHVuaXRzID09PSAnbWlsbGlzZWNvbmQnKSB7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMudmFsdWVPZigpID4gbG9jYWxJbnB1dC52YWx1ZU9mKCk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJldHVybiBsb2NhbElucHV0LnZhbHVlT2YoKSA8IHRoaXMuY2xvbmUoKS5zdGFydE9mKHVuaXRzKS52YWx1ZU9mKCk7XG5cdCAgICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGlzQmVmb3JlIChpbnB1dCwgdW5pdHMpIHtcblx0ICAgIHZhciBsb2NhbElucHV0ID0gaXNNb21lbnQoaW5wdXQpID8gaW5wdXQgOiBjcmVhdGVMb2NhbChpbnB1dCk7XG5cdCAgICBpZiAoISh0aGlzLmlzVmFsaWQoKSAmJiBsb2NhbElucHV0LmlzVmFsaWQoKSkpIHtcblx0ICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICB9XG5cdCAgICB1bml0cyA9IG5vcm1hbGl6ZVVuaXRzKCFpc1VuZGVmaW5lZCh1bml0cykgPyB1bml0cyA6ICdtaWxsaXNlY29uZCcpO1xuXHQgICAgaWYgKHVuaXRzID09PSAnbWlsbGlzZWNvbmQnKSB7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMudmFsdWVPZigpIDwgbG9jYWxJbnB1dC52YWx1ZU9mKCk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJldHVybiB0aGlzLmNsb25lKCkuZW5kT2YodW5pdHMpLnZhbHVlT2YoKSA8IGxvY2FsSW5wdXQudmFsdWVPZigpO1xuXHQgICAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBpc0JldHdlZW4gKGZyb20sIHRvLCB1bml0cywgaW5jbHVzaXZpdHkpIHtcblx0ICAgIGluY2x1c2l2aXR5ID0gaW5jbHVzaXZpdHkgfHwgJygpJztcblx0ICAgIHJldHVybiAoaW5jbHVzaXZpdHlbMF0gPT09ICcoJyA/IHRoaXMuaXNBZnRlcihmcm9tLCB1bml0cykgOiAhdGhpcy5pc0JlZm9yZShmcm9tLCB1bml0cykpICYmXG5cdCAgICAgICAgKGluY2x1c2l2aXR5WzFdID09PSAnKScgPyB0aGlzLmlzQmVmb3JlKHRvLCB1bml0cykgOiAhdGhpcy5pc0FmdGVyKHRvLCB1bml0cykpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBpc1NhbWUgKGlucHV0LCB1bml0cykge1xuXHQgICAgdmFyIGxvY2FsSW5wdXQgPSBpc01vbWVudChpbnB1dCkgPyBpbnB1dCA6IGNyZWF0ZUxvY2FsKGlucHV0KSxcblx0ICAgICAgICBpbnB1dE1zO1xuXHQgICAgaWYgKCEodGhpcy5pc1ZhbGlkKCkgJiYgbG9jYWxJbnB1dC5pc1ZhbGlkKCkpKSB7XG5cdCAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgfVxuXHQgICAgdW5pdHMgPSBub3JtYWxpemVVbml0cyh1bml0cyB8fCAnbWlsbGlzZWNvbmQnKTtcblx0ICAgIGlmICh1bml0cyA9PT0gJ21pbGxpc2Vjb25kJykge1xuXHQgICAgICAgIHJldHVybiB0aGlzLnZhbHVlT2YoKSA9PT0gbG9jYWxJbnB1dC52YWx1ZU9mKCk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIGlucHV0TXMgPSBsb2NhbElucHV0LnZhbHVlT2YoKTtcblx0ICAgICAgICByZXR1cm4gdGhpcy5jbG9uZSgpLnN0YXJ0T2YodW5pdHMpLnZhbHVlT2YoKSA8PSBpbnB1dE1zICYmIGlucHV0TXMgPD0gdGhpcy5jbG9uZSgpLmVuZE9mKHVuaXRzKS52YWx1ZU9mKCk7XG5cdCAgICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGlzU2FtZU9yQWZ0ZXIgKGlucHV0LCB1bml0cykge1xuXHQgICAgcmV0dXJuIHRoaXMuaXNTYW1lKGlucHV0LCB1bml0cykgfHwgdGhpcy5pc0FmdGVyKGlucHV0LHVuaXRzKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gaXNTYW1lT3JCZWZvcmUgKGlucHV0LCB1bml0cykge1xuXHQgICAgcmV0dXJuIHRoaXMuaXNTYW1lKGlucHV0LCB1bml0cykgfHwgdGhpcy5pc0JlZm9yZShpbnB1dCx1bml0cyk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGRpZmYgKGlucHV0LCB1bml0cywgYXNGbG9hdCkge1xuXHQgICAgdmFyIHRoYXQsXG5cdCAgICAgICAgem9uZURlbHRhLFxuXHQgICAgICAgIGRlbHRhLCBvdXRwdXQ7XG5cdFxuXHQgICAgaWYgKCF0aGlzLmlzVmFsaWQoKSkge1xuXHQgICAgICAgIHJldHVybiBOYU47XG5cdCAgICB9XG5cdFxuXHQgICAgdGhhdCA9IGNsb25lV2l0aE9mZnNldChpbnB1dCwgdGhpcyk7XG5cdFxuXHQgICAgaWYgKCF0aGF0LmlzVmFsaWQoKSkge1xuXHQgICAgICAgIHJldHVybiBOYU47XG5cdCAgICB9XG5cdFxuXHQgICAgem9uZURlbHRhID0gKHRoYXQudXRjT2Zmc2V0KCkgLSB0aGlzLnV0Y09mZnNldCgpKSAqIDZlNDtcblx0XG5cdCAgICB1bml0cyA9IG5vcm1hbGl6ZVVuaXRzKHVuaXRzKTtcblx0XG5cdCAgICBpZiAodW5pdHMgPT09ICd5ZWFyJyB8fCB1bml0cyA9PT0gJ21vbnRoJyB8fCB1bml0cyA9PT0gJ3F1YXJ0ZXInKSB7XG5cdCAgICAgICAgb3V0cHV0ID0gbW9udGhEaWZmKHRoaXMsIHRoYXQpO1xuXHQgICAgICAgIGlmICh1bml0cyA9PT0gJ3F1YXJ0ZXInKSB7XG5cdCAgICAgICAgICAgIG91dHB1dCA9IG91dHB1dCAvIDM7XG5cdCAgICAgICAgfSBlbHNlIGlmICh1bml0cyA9PT0gJ3llYXInKSB7XG5cdCAgICAgICAgICAgIG91dHB1dCA9IG91dHB1dCAvIDEyO1xuXHQgICAgICAgIH1cblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgZGVsdGEgPSB0aGlzIC0gdGhhdDtcblx0ICAgICAgICBvdXRwdXQgPSB1bml0cyA9PT0gJ3NlY29uZCcgPyBkZWx0YSAvIDFlMyA6IC8vIDEwMDBcblx0ICAgICAgICAgICAgdW5pdHMgPT09ICdtaW51dGUnID8gZGVsdGEgLyA2ZTQgOiAvLyAxMDAwICogNjBcblx0ICAgICAgICAgICAgdW5pdHMgPT09ICdob3VyJyA/IGRlbHRhIC8gMzZlNSA6IC8vIDEwMDAgKiA2MCAqIDYwXG5cdCAgICAgICAgICAgIHVuaXRzID09PSAnZGF5JyA/IChkZWx0YSAtIHpvbmVEZWx0YSkgLyA4NjRlNSA6IC8vIDEwMDAgKiA2MCAqIDYwICogMjQsIG5lZ2F0ZSBkc3Rcblx0ICAgICAgICAgICAgdW5pdHMgPT09ICd3ZWVrJyA/IChkZWx0YSAtIHpvbmVEZWx0YSkgLyA2MDQ4ZTUgOiAvLyAxMDAwICogNjAgKiA2MCAqIDI0ICogNywgbmVnYXRlIGRzdFxuXHQgICAgICAgICAgICBkZWx0YTtcblx0ICAgIH1cblx0ICAgIHJldHVybiBhc0Zsb2F0ID8gb3V0cHV0IDogYWJzRmxvb3Iob3V0cHV0KTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gbW9udGhEaWZmIChhLCBiKSB7XG5cdCAgICAvLyBkaWZmZXJlbmNlIGluIG1vbnRoc1xuXHQgICAgdmFyIHdob2xlTW9udGhEaWZmID0gKChiLnllYXIoKSAtIGEueWVhcigpKSAqIDEyKSArIChiLm1vbnRoKCkgLSBhLm1vbnRoKCkpLFxuXHQgICAgICAgIC8vIGIgaXMgaW4gKGFuY2hvciAtIDEgbW9udGgsIGFuY2hvciArIDEgbW9udGgpXG5cdCAgICAgICAgYW5jaG9yID0gYS5jbG9uZSgpLmFkZCh3aG9sZU1vbnRoRGlmZiwgJ21vbnRocycpLFxuXHQgICAgICAgIGFuY2hvcjIsIGFkanVzdDtcblx0XG5cdCAgICBpZiAoYiAtIGFuY2hvciA8IDApIHtcblx0ICAgICAgICBhbmNob3IyID0gYS5jbG9uZSgpLmFkZCh3aG9sZU1vbnRoRGlmZiAtIDEsICdtb250aHMnKTtcblx0ICAgICAgICAvLyBsaW5lYXIgYWNyb3NzIHRoZSBtb250aFxuXHQgICAgICAgIGFkanVzdCA9IChiIC0gYW5jaG9yKSAvIChhbmNob3IgLSBhbmNob3IyKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgYW5jaG9yMiA9IGEuY2xvbmUoKS5hZGQod2hvbGVNb250aERpZmYgKyAxLCAnbW9udGhzJyk7XG5cdCAgICAgICAgLy8gbGluZWFyIGFjcm9zcyB0aGUgbW9udGhcblx0ICAgICAgICBhZGp1c3QgPSAoYiAtIGFuY2hvcikgLyAoYW5jaG9yMiAtIGFuY2hvcik7XG5cdCAgICB9XG5cdFxuXHQgICAgLy9jaGVjayBmb3IgbmVnYXRpdmUgemVybywgcmV0dXJuIHplcm8gaWYgbmVnYXRpdmUgemVyb1xuXHQgICAgcmV0dXJuIC0od2hvbGVNb250aERpZmYgKyBhZGp1c3QpIHx8IDA7XG5cdH1cblx0XG5cdGhvb2tzLmRlZmF1bHRGb3JtYXQgPSAnWVlZWS1NTS1ERFRISDptbTpzc1onO1xuXHRob29rcy5kZWZhdWx0Rm9ybWF0VXRjID0gJ1lZWVktTU0tRERUSEg6bW06c3NbWl0nO1xuXHRcblx0ZnVuY3Rpb24gdG9TdHJpbmcgKCkge1xuXHQgICAgcmV0dXJuIHRoaXMuY2xvbmUoKS5sb2NhbGUoJ2VuJykuZm9ybWF0KCdkZGQgTU1NIEREIFlZWVkgSEg6bW06c3MgW0dNVF1aWicpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiB0b0lTT1N0cmluZyAoKSB7XG5cdCAgICB2YXIgbSA9IHRoaXMuY2xvbmUoKS51dGMoKTtcblx0ICAgIGlmICgwIDwgbS55ZWFyKCkgJiYgbS55ZWFyKCkgPD0gOTk5OSkge1xuXHQgICAgICAgIGlmIChpc0Z1bmN0aW9uKERhdGUucHJvdG90eXBlLnRvSVNPU3RyaW5nKSkge1xuXHQgICAgICAgICAgICAvLyBuYXRpdmUgaW1wbGVtZW50YXRpb24gaXMgfjUweCBmYXN0ZXIsIHVzZSBpdCB3aGVuIHdlIGNhblxuXHQgICAgICAgICAgICByZXR1cm4gdGhpcy50b0RhdGUoKS50b0lTT1N0cmluZygpO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIHJldHVybiBmb3JtYXRNb21lbnQobSwgJ1lZWVktTU0tRERbVF1ISDptbTpzcy5TU1NbWl0nKTtcblx0ICAgICAgICB9XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJldHVybiBmb3JtYXRNb21lbnQobSwgJ1lZWVlZWS1NTS1ERFtUXUhIOm1tOnNzLlNTU1taXScpO1xuXHQgICAgfVxuXHR9XG5cdFxuXHQvKipcblx0ICogUmV0dXJuIGEgaHVtYW4gcmVhZGFibGUgcmVwcmVzZW50YXRpb24gb2YgYSBtb21lbnQgdGhhdCBjYW5cblx0ICogYWxzbyBiZSBldmFsdWF0ZWQgdG8gZ2V0IGEgbmV3IG1vbWVudCB3aGljaCBpcyB0aGUgc2FtZVxuXHQgKlxuXHQgKiBAbGluayBodHRwczovL25vZGVqcy5vcmcvZGlzdC9sYXRlc3QvZG9jcy9hcGkvdXRpbC5odG1sI3V0aWxfY3VzdG9tX2luc3BlY3RfZnVuY3Rpb25fb25fb2JqZWN0c1xuXHQgKi9cblx0ZnVuY3Rpb24gaW5zcGVjdCAoKSB7XG5cdCAgICBpZiAoIXRoaXMuaXNWYWxpZCgpKSB7XG5cdCAgICAgICAgcmV0dXJuICdtb21lbnQuaW52YWxpZCgvKiAnICsgdGhpcy5faSArICcgKi8pJztcblx0ICAgIH1cblx0ICAgIHZhciBmdW5jID0gJ21vbWVudCc7XG5cdCAgICB2YXIgem9uZSA9ICcnO1xuXHQgICAgaWYgKCF0aGlzLmlzTG9jYWwoKSkge1xuXHQgICAgICAgIGZ1bmMgPSB0aGlzLnV0Y09mZnNldCgpID09PSAwID8gJ21vbWVudC51dGMnIDogJ21vbWVudC5wYXJzZVpvbmUnO1xuXHQgICAgICAgIHpvbmUgPSAnWic7XG5cdCAgICB9XG5cdCAgICB2YXIgcHJlZml4ID0gJ1snICsgZnVuYyArICcoXCJdJztcblx0ICAgIHZhciB5ZWFyID0gKDAgPCB0aGlzLnllYXIoKSAmJiB0aGlzLnllYXIoKSA8PSA5OTk5KSA/ICdZWVlZJyA6ICdZWVlZWVknO1xuXHQgICAgdmFyIGRhdGV0aW1lID0gJy1NTS1ERFtUXUhIOm1tOnNzLlNTUyc7XG5cdCAgICB2YXIgc3VmZml4ID0gem9uZSArICdbXCIpXSc7XG5cdFxuXHQgICAgcmV0dXJuIHRoaXMuZm9ybWF0KHByZWZpeCArIHllYXIgKyBkYXRldGltZSArIHN1ZmZpeCk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGZvcm1hdCAoaW5wdXRTdHJpbmcpIHtcblx0ICAgIGlmICghaW5wdXRTdHJpbmcpIHtcblx0ICAgICAgICBpbnB1dFN0cmluZyA9IHRoaXMuaXNVdGMoKSA/IGhvb2tzLmRlZmF1bHRGb3JtYXRVdGMgOiBob29rcy5kZWZhdWx0Rm9ybWF0O1xuXHQgICAgfVxuXHQgICAgdmFyIG91dHB1dCA9IGZvcm1hdE1vbWVudCh0aGlzLCBpbnB1dFN0cmluZyk7XG5cdCAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkucG9zdGZvcm1hdChvdXRwdXQpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBmcm9tICh0aW1lLCB3aXRob3V0U3VmZml4KSB7XG5cdCAgICBpZiAodGhpcy5pc1ZhbGlkKCkgJiZcblx0ICAgICAgICAgICAgKChpc01vbWVudCh0aW1lKSAmJiB0aW1lLmlzVmFsaWQoKSkgfHxcblx0ICAgICAgICAgICAgIGNyZWF0ZUxvY2FsKHRpbWUpLmlzVmFsaWQoKSkpIHtcblx0ICAgICAgICByZXR1cm4gY3JlYXRlRHVyYXRpb24oe3RvOiB0aGlzLCBmcm9tOiB0aW1lfSkubG9jYWxlKHRoaXMubG9jYWxlKCkpLmh1bWFuaXplKCF3aXRob3V0U3VmZml4KTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLmludmFsaWREYXRlKCk7XG5cdCAgICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGZyb21Ob3cgKHdpdGhvdXRTdWZmaXgpIHtcblx0ICAgIHJldHVybiB0aGlzLmZyb20oY3JlYXRlTG9jYWwoKSwgd2l0aG91dFN1ZmZpeCk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHRvICh0aW1lLCB3aXRob3V0U3VmZml4KSB7XG5cdCAgICBpZiAodGhpcy5pc1ZhbGlkKCkgJiZcblx0ICAgICAgICAgICAgKChpc01vbWVudCh0aW1lKSAmJiB0aW1lLmlzVmFsaWQoKSkgfHxcblx0ICAgICAgICAgICAgIGNyZWF0ZUxvY2FsKHRpbWUpLmlzVmFsaWQoKSkpIHtcblx0ICAgICAgICByZXR1cm4gY3JlYXRlRHVyYXRpb24oe2Zyb206IHRoaXMsIHRvOiB0aW1lfSkubG9jYWxlKHRoaXMubG9jYWxlKCkpLmh1bWFuaXplKCF3aXRob3V0U3VmZml4KTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLmludmFsaWREYXRlKCk7XG5cdCAgICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHRvTm93ICh3aXRob3V0U3VmZml4KSB7XG5cdCAgICByZXR1cm4gdGhpcy50byhjcmVhdGVMb2NhbCgpLCB3aXRob3V0U3VmZml4KTtcblx0fVxuXHRcblx0Ly8gSWYgcGFzc2VkIGEgbG9jYWxlIGtleSwgaXQgd2lsbCBzZXQgdGhlIGxvY2FsZSBmb3IgdGhpc1xuXHQvLyBpbnN0YW5jZS4gIE90aGVyd2lzZSwgaXQgd2lsbCByZXR1cm4gdGhlIGxvY2FsZSBjb25maWd1cmF0aW9uXG5cdC8vIHZhcmlhYmxlcyBmb3IgdGhpcyBpbnN0YW5jZS5cblx0ZnVuY3Rpb24gbG9jYWxlIChrZXkpIHtcblx0ICAgIHZhciBuZXdMb2NhbGVEYXRhO1xuXHRcblx0ICAgIGlmIChrZXkgPT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgIHJldHVybiB0aGlzLl9sb2NhbGUuX2FiYnI7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIG5ld0xvY2FsZURhdGEgPSBnZXRMb2NhbGUoa2V5KTtcblx0ICAgICAgICBpZiAobmV3TG9jYWxlRGF0YSAhPSBudWxsKSB7XG5cdCAgICAgICAgICAgIHRoaXMuX2xvY2FsZSA9IG5ld0xvY2FsZURhdGE7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiB0aGlzO1xuXHQgICAgfVxuXHR9XG5cdFxuXHR2YXIgbGFuZyA9IGRlcHJlY2F0ZShcblx0ICAgICdtb21lbnQoKS5sYW5nKCkgaXMgZGVwcmVjYXRlZC4gSW5zdGVhZCwgdXNlIG1vbWVudCgpLmxvY2FsZURhdGEoKSB0byBnZXQgdGhlIGxhbmd1YWdlIGNvbmZpZ3VyYXRpb24uIFVzZSBtb21lbnQoKS5sb2NhbGUoKSB0byBjaGFuZ2UgbGFuZ3VhZ2VzLicsXG5cdCAgICBmdW5jdGlvbiAoa2V5KSB7XG5cdCAgICAgICAgaWYgKGtleSA9PT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzLmxvY2FsZURhdGEoKTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICByZXR1cm4gdGhpcy5sb2NhbGUoa2V5KTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdCk7XG5cdFxuXHRmdW5jdGlvbiBsb2NhbGVEYXRhICgpIHtcblx0ICAgIHJldHVybiB0aGlzLl9sb2NhbGU7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHN0YXJ0T2YgKHVuaXRzKSB7XG5cdCAgICB1bml0cyA9IG5vcm1hbGl6ZVVuaXRzKHVuaXRzKTtcblx0ICAgIC8vIHRoZSBmb2xsb3dpbmcgc3dpdGNoIGludGVudGlvbmFsbHkgb21pdHMgYnJlYWsga2V5d29yZHNcblx0ICAgIC8vIHRvIHV0aWxpemUgZmFsbGluZyB0aHJvdWdoIHRoZSBjYXNlcy5cblx0ICAgIHN3aXRjaCAodW5pdHMpIHtcblx0ICAgICAgICBjYXNlICd5ZWFyJzpcblx0ICAgICAgICAgICAgdGhpcy5tb250aCgwKTtcblx0ICAgICAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuXHQgICAgICAgIGNhc2UgJ3F1YXJ0ZXInOlxuXHQgICAgICAgIGNhc2UgJ21vbnRoJzpcblx0ICAgICAgICAgICAgdGhpcy5kYXRlKDEpO1xuXHQgICAgICAgICAgICAvKiBmYWxscyB0aHJvdWdoICovXG5cdCAgICAgICAgY2FzZSAnd2Vlayc6XG5cdCAgICAgICAgY2FzZSAnaXNvV2Vlayc6XG5cdCAgICAgICAgY2FzZSAnZGF5Jzpcblx0ICAgICAgICBjYXNlICdkYXRlJzpcblx0ICAgICAgICAgICAgdGhpcy5ob3VycygwKTtcblx0ICAgICAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuXHQgICAgICAgIGNhc2UgJ2hvdXInOlxuXHQgICAgICAgICAgICB0aGlzLm1pbnV0ZXMoMCk7XG5cdCAgICAgICAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cblx0ICAgICAgICBjYXNlICdtaW51dGUnOlxuXHQgICAgICAgICAgICB0aGlzLnNlY29uZHMoMCk7XG5cdCAgICAgICAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cblx0ICAgICAgICBjYXNlICdzZWNvbmQnOlxuXHQgICAgICAgICAgICB0aGlzLm1pbGxpc2Vjb25kcygwKTtcblx0ICAgIH1cblx0XG5cdCAgICAvLyB3ZWVrcyBhcmUgYSBzcGVjaWFsIGNhc2Vcblx0ICAgIGlmICh1bml0cyA9PT0gJ3dlZWsnKSB7XG5cdCAgICAgICAgdGhpcy53ZWVrZGF5KDApO1xuXHQgICAgfVxuXHQgICAgaWYgKHVuaXRzID09PSAnaXNvV2VlaycpIHtcblx0ICAgICAgICB0aGlzLmlzb1dlZWtkYXkoMSk7XG5cdCAgICB9XG5cdFxuXHQgICAgLy8gcXVhcnRlcnMgYXJlIGFsc28gc3BlY2lhbFxuXHQgICAgaWYgKHVuaXRzID09PSAncXVhcnRlcicpIHtcblx0ICAgICAgICB0aGlzLm1vbnRoKE1hdGguZmxvb3IodGhpcy5tb250aCgpIC8gMykgKiAzKTtcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gdGhpcztcblx0fVxuXHRcblx0ZnVuY3Rpb24gZW5kT2YgKHVuaXRzKSB7XG5cdCAgICB1bml0cyA9IG5vcm1hbGl6ZVVuaXRzKHVuaXRzKTtcblx0ICAgIGlmICh1bml0cyA9PT0gdW5kZWZpbmVkIHx8IHVuaXRzID09PSAnbWlsbGlzZWNvbmQnKSB7XG5cdCAgICAgICAgcmV0dXJuIHRoaXM7XG5cdCAgICB9XG5cdFxuXHQgICAgLy8gJ2RhdGUnIGlzIGFuIGFsaWFzIGZvciAnZGF5Jywgc28gaXQgc2hvdWxkIGJlIGNvbnNpZGVyZWQgYXMgc3VjaC5cblx0ICAgIGlmICh1bml0cyA9PT0gJ2RhdGUnKSB7XG5cdCAgICAgICAgdW5pdHMgPSAnZGF5Jztcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gdGhpcy5zdGFydE9mKHVuaXRzKS5hZGQoMSwgKHVuaXRzID09PSAnaXNvV2VlaycgPyAnd2VlaycgOiB1bml0cykpLnN1YnRyYWN0KDEsICdtcycpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiB2YWx1ZU9mICgpIHtcblx0ICAgIHJldHVybiB0aGlzLl9kLnZhbHVlT2YoKSAtICgodGhpcy5fb2Zmc2V0IHx8IDApICogNjAwMDApO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiB1bml4ICgpIHtcblx0ICAgIHJldHVybiBNYXRoLmZsb29yKHRoaXMudmFsdWVPZigpIC8gMTAwMCk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHRvRGF0ZSAoKSB7XG5cdCAgICByZXR1cm4gbmV3IERhdGUodGhpcy52YWx1ZU9mKCkpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiB0b0FycmF5ICgpIHtcblx0ICAgIHZhciBtID0gdGhpcztcblx0ICAgIHJldHVybiBbbS55ZWFyKCksIG0ubW9udGgoKSwgbS5kYXRlKCksIG0uaG91cigpLCBtLm1pbnV0ZSgpLCBtLnNlY29uZCgpLCBtLm1pbGxpc2Vjb25kKCldO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiB0b09iamVjdCAoKSB7XG5cdCAgICB2YXIgbSA9IHRoaXM7XG5cdCAgICByZXR1cm4ge1xuXHQgICAgICAgIHllYXJzOiBtLnllYXIoKSxcblx0ICAgICAgICBtb250aHM6IG0ubW9udGgoKSxcblx0ICAgICAgICBkYXRlOiBtLmRhdGUoKSxcblx0ICAgICAgICBob3VyczogbS5ob3VycygpLFxuXHQgICAgICAgIG1pbnV0ZXM6IG0ubWludXRlcygpLFxuXHQgICAgICAgIHNlY29uZHM6IG0uc2Vjb25kcygpLFxuXHQgICAgICAgIG1pbGxpc2Vjb25kczogbS5taWxsaXNlY29uZHMoKVxuXHQgICAgfTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gdG9KU09OICgpIHtcblx0ICAgIC8vIG5ldyBEYXRlKE5hTikudG9KU09OKCkgPT09IG51bGxcblx0ICAgIHJldHVybiB0aGlzLmlzVmFsaWQoKSA/IHRoaXMudG9JU09TdHJpbmcoKSA6IG51bGw7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGlzVmFsaWQkMSAoKSB7XG5cdCAgICByZXR1cm4gaXNWYWxpZCh0aGlzKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gcGFyc2luZ0ZsYWdzICgpIHtcblx0ICAgIHJldHVybiBleHRlbmQoe30sIGdldFBhcnNpbmdGbGFncyh0aGlzKSk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGludmFsaWRBdCAoKSB7XG5cdCAgICByZXR1cm4gZ2V0UGFyc2luZ0ZsYWdzKHRoaXMpLm92ZXJmbG93O1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBjcmVhdGlvbkRhdGEoKSB7XG5cdCAgICByZXR1cm4ge1xuXHQgICAgICAgIGlucHV0OiB0aGlzLl9pLFxuXHQgICAgICAgIGZvcm1hdDogdGhpcy5fZixcblx0ICAgICAgICBsb2NhbGU6IHRoaXMuX2xvY2FsZSxcblx0ICAgICAgICBpc1VUQzogdGhpcy5faXNVVEMsXG5cdCAgICAgICAgc3RyaWN0OiB0aGlzLl9zdHJpY3Rcblx0ICAgIH07XG5cdH1cblx0XG5cdC8vIEZPUk1BVFRJTkdcblx0XG5cdGFkZEZvcm1hdFRva2VuKDAsIFsnZ2cnLCAyXSwgMCwgZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuIHRoaXMud2Vla1llYXIoKSAlIDEwMDtcblx0fSk7XG5cdFxuXHRhZGRGb3JtYXRUb2tlbigwLCBbJ0dHJywgMl0sIDAsIGZ1bmN0aW9uICgpIHtcblx0ICAgIHJldHVybiB0aGlzLmlzb1dlZWtZZWFyKCkgJSAxMDA7XG5cdH0pO1xuXHRcblx0ZnVuY3Rpb24gYWRkV2Vla1llYXJGb3JtYXRUb2tlbiAodG9rZW4sIGdldHRlcikge1xuXHQgICAgYWRkRm9ybWF0VG9rZW4oMCwgW3Rva2VuLCB0b2tlbi5sZW5ndGhdLCAwLCBnZXR0ZXIpO1xuXHR9XG5cdFxuXHRhZGRXZWVrWWVhckZvcm1hdFRva2VuKCdnZ2dnJywgICAgICd3ZWVrWWVhcicpO1xuXHRhZGRXZWVrWWVhckZvcm1hdFRva2VuKCdnZ2dnZycsICAgICd3ZWVrWWVhcicpO1xuXHRhZGRXZWVrWWVhckZvcm1hdFRva2VuKCdHR0dHJywgICdpc29XZWVrWWVhcicpO1xuXHRhZGRXZWVrWWVhckZvcm1hdFRva2VuKCdHR0dHRycsICdpc29XZWVrWWVhcicpO1xuXHRcblx0Ly8gQUxJQVNFU1xuXHRcblx0YWRkVW5pdEFsaWFzKCd3ZWVrWWVhcicsICdnZycpO1xuXHRhZGRVbml0QWxpYXMoJ2lzb1dlZWtZZWFyJywgJ0dHJyk7XG5cdFxuXHQvLyBQUklPUklUWVxuXHRcblx0YWRkVW5pdFByaW9yaXR5KCd3ZWVrWWVhcicsIDEpO1xuXHRhZGRVbml0UHJpb3JpdHkoJ2lzb1dlZWtZZWFyJywgMSk7XG5cdFxuXHRcblx0Ly8gUEFSU0lOR1xuXHRcblx0YWRkUmVnZXhUb2tlbignRycsICAgICAgbWF0Y2hTaWduZWQpO1xuXHRhZGRSZWdleFRva2VuKCdnJywgICAgICBtYXRjaFNpZ25lZCk7XG5cdGFkZFJlZ2V4VG9rZW4oJ0dHJywgICAgIG1hdGNoMXRvMiwgbWF0Y2gyKTtcblx0YWRkUmVnZXhUb2tlbignZ2cnLCAgICAgbWF0Y2gxdG8yLCBtYXRjaDIpO1xuXHRhZGRSZWdleFRva2VuKCdHR0dHJywgICBtYXRjaDF0bzQsIG1hdGNoNCk7XG5cdGFkZFJlZ2V4VG9rZW4oJ2dnZ2cnLCAgIG1hdGNoMXRvNCwgbWF0Y2g0KTtcblx0YWRkUmVnZXhUb2tlbignR0dHR0cnLCAgbWF0Y2gxdG82LCBtYXRjaDYpO1xuXHRhZGRSZWdleFRva2VuKCdnZ2dnZycsICBtYXRjaDF0bzYsIG1hdGNoNik7XG5cdFxuXHRhZGRXZWVrUGFyc2VUb2tlbihbJ2dnZ2cnLCAnZ2dnZ2cnLCAnR0dHRycsICdHR0dHRyddLCBmdW5jdGlvbiAoaW5wdXQsIHdlZWssIGNvbmZpZywgdG9rZW4pIHtcblx0ICAgIHdlZWtbdG9rZW4uc3Vic3RyKDAsIDIpXSA9IHRvSW50KGlucHV0KTtcblx0fSk7XG5cdFxuXHRhZGRXZWVrUGFyc2VUb2tlbihbJ2dnJywgJ0dHJ10sIGZ1bmN0aW9uIChpbnB1dCwgd2VlaywgY29uZmlnLCB0b2tlbikge1xuXHQgICAgd2Vla1t0b2tlbl0gPSBob29rcy5wYXJzZVR3b0RpZ2l0WWVhcihpbnB1dCk7XG5cdH0pO1xuXHRcblx0Ly8gTU9NRU5UU1xuXHRcblx0ZnVuY3Rpb24gZ2V0U2V0V2Vla1llYXIgKGlucHV0KSB7XG5cdCAgICByZXR1cm4gZ2V0U2V0V2Vla1llYXJIZWxwZXIuY2FsbCh0aGlzLFxuXHQgICAgICAgICAgICBpbnB1dCxcblx0ICAgICAgICAgICAgdGhpcy53ZWVrKCksXG5cdCAgICAgICAgICAgIHRoaXMud2Vla2RheSgpLFxuXHQgICAgICAgICAgICB0aGlzLmxvY2FsZURhdGEoKS5fd2Vlay5kb3csXG5cdCAgICAgICAgICAgIHRoaXMubG9jYWxlRGF0YSgpLl93ZWVrLmRveSk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGdldFNldElTT1dlZWtZZWFyIChpbnB1dCkge1xuXHQgICAgcmV0dXJuIGdldFNldFdlZWtZZWFySGVscGVyLmNhbGwodGhpcyxcblx0ICAgICAgICAgICAgaW5wdXQsIHRoaXMuaXNvV2VlaygpLCB0aGlzLmlzb1dlZWtkYXkoKSwgMSwgNCk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGdldElTT1dlZWtzSW5ZZWFyICgpIHtcblx0ICAgIHJldHVybiB3ZWVrc0luWWVhcih0aGlzLnllYXIoKSwgMSwgNCk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGdldFdlZWtzSW5ZZWFyICgpIHtcblx0ICAgIHZhciB3ZWVrSW5mbyA9IHRoaXMubG9jYWxlRGF0YSgpLl93ZWVrO1xuXHQgICAgcmV0dXJuIHdlZWtzSW5ZZWFyKHRoaXMueWVhcigpLCB3ZWVrSW5mby5kb3csIHdlZWtJbmZvLmRveSk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGdldFNldFdlZWtZZWFySGVscGVyKGlucHV0LCB3ZWVrLCB3ZWVrZGF5LCBkb3csIGRveSkge1xuXHQgICAgdmFyIHdlZWtzVGFyZ2V0O1xuXHQgICAgaWYgKGlucHV0ID09IG51bGwpIHtcblx0ICAgICAgICByZXR1cm4gd2Vla09mWWVhcih0aGlzLCBkb3csIGRveSkueWVhcjtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgd2Vla3NUYXJnZXQgPSB3ZWVrc0luWWVhcihpbnB1dCwgZG93LCBkb3kpO1xuXHQgICAgICAgIGlmICh3ZWVrID4gd2Vla3NUYXJnZXQpIHtcblx0ICAgICAgICAgICAgd2VlayA9IHdlZWtzVGFyZ2V0O1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gc2V0V2Vla0FsbC5jYWxsKHRoaXMsIGlucHV0LCB3ZWVrLCB3ZWVrZGF5LCBkb3csIGRveSk7XG5cdCAgICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHNldFdlZWtBbGwod2Vla1llYXIsIHdlZWssIHdlZWtkYXksIGRvdywgZG95KSB7XG5cdCAgICB2YXIgZGF5T2ZZZWFyRGF0YSA9IGRheU9mWWVhckZyb21XZWVrcyh3ZWVrWWVhciwgd2Vlaywgd2Vla2RheSwgZG93LCBkb3kpLFxuXHQgICAgICAgIGRhdGUgPSBjcmVhdGVVVENEYXRlKGRheU9mWWVhckRhdGEueWVhciwgMCwgZGF5T2ZZZWFyRGF0YS5kYXlPZlllYXIpO1xuXHRcblx0ICAgIHRoaXMueWVhcihkYXRlLmdldFVUQ0Z1bGxZZWFyKCkpO1xuXHQgICAgdGhpcy5tb250aChkYXRlLmdldFVUQ01vbnRoKCkpO1xuXHQgICAgdGhpcy5kYXRlKGRhdGUuZ2V0VVRDRGF0ZSgpKTtcblx0ICAgIHJldHVybiB0aGlzO1xuXHR9XG5cdFxuXHQvLyBGT1JNQVRUSU5HXG5cdFxuXHRhZGRGb3JtYXRUb2tlbignUScsIDAsICdRbycsICdxdWFydGVyJyk7XG5cdFxuXHQvLyBBTElBU0VTXG5cdFxuXHRhZGRVbml0QWxpYXMoJ3F1YXJ0ZXInLCAnUScpO1xuXHRcblx0Ly8gUFJJT1JJVFlcblx0XG5cdGFkZFVuaXRQcmlvcml0eSgncXVhcnRlcicsIDcpO1xuXHRcblx0Ly8gUEFSU0lOR1xuXHRcblx0YWRkUmVnZXhUb2tlbignUScsIG1hdGNoMSk7XG5cdGFkZFBhcnNlVG9rZW4oJ1EnLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5KSB7XG5cdCAgICBhcnJheVtNT05USF0gPSAodG9JbnQoaW5wdXQpIC0gMSkgKiAzO1xuXHR9KTtcblx0XG5cdC8vIE1PTUVOVFNcblx0XG5cdGZ1bmN0aW9uIGdldFNldFF1YXJ0ZXIgKGlucHV0KSB7XG5cdCAgICByZXR1cm4gaW5wdXQgPT0gbnVsbCA/IE1hdGguY2VpbCgodGhpcy5tb250aCgpICsgMSkgLyAzKSA6IHRoaXMubW9udGgoKGlucHV0IC0gMSkgKiAzICsgdGhpcy5tb250aCgpICUgMyk7XG5cdH1cblx0XG5cdC8vIEZPUk1BVFRJTkdcblx0XG5cdGFkZEZvcm1hdFRva2VuKCdEJywgWydERCcsIDJdLCAnRG8nLCAnZGF0ZScpO1xuXHRcblx0Ly8gQUxJQVNFU1xuXHRcblx0YWRkVW5pdEFsaWFzKCdkYXRlJywgJ0QnKTtcblx0XG5cdC8vIFBSSU9ST0lUWVxuXHRhZGRVbml0UHJpb3JpdHkoJ2RhdGUnLCA5KTtcblx0XG5cdC8vIFBBUlNJTkdcblx0XG5cdGFkZFJlZ2V4VG9rZW4oJ0QnLCAgbWF0Y2gxdG8yKTtcblx0YWRkUmVnZXhUb2tlbignREQnLCBtYXRjaDF0bzIsIG1hdGNoMik7XG5cdGFkZFJlZ2V4VG9rZW4oJ0RvJywgZnVuY3Rpb24gKGlzU3RyaWN0LCBsb2NhbGUpIHtcblx0ICAgIHJldHVybiBpc1N0cmljdCA/IGxvY2FsZS5fb3JkaW5hbFBhcnNlIDogbG9jYWxlLl9vcmRpbmFsUGFyc2VMZW5pZW50O1xuXHR9KTtcblx0XG5cdGFkZFBhcnNlVG9rZW4oWydEJywgJ0REJ10sIERBVEUpO1xuXHRhZGRQYXJzZVRva2VuKCdEbycsIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXkpIHtcblx0ICAgIGFycmF5W0RBVEVdID0gdG9JbnQoaW5wdXQubWF0Y2gobWF0Y2gxdG8yKVswXSwgMTApO1xuXHR9KTtcblx0XG5cdC8vIE1PTUVOVFNcblx0XG5cdHZhciBnZXRTZXREYXlPZk1vbnRoID0gbWFrZUdldFNldCgnRGF0ZScsIHRydWUpO1xuXHRcblx0Ly8gRk9STUFUVElOR1xuXHRcblx0YWRkRm9ybWF0VG9rZW4oJ0RERCcsIFsnRERERCcsIDNdLCAnREREbycsICdkYXlPZlllYXInKTtcblx0XG5cdC8vIEFMSUFTRVNcblx0XG5cdGFkZFVuaXRBbGlhcygnZGF5T2ZZZWFyJywgJ0RERCcpO1xuXHRcblx0Ly8gUFJJT1JJVFlcblx0YWRkVW5pdFByaW9yaXR5KCdkYXlPZlllYXInLCA0KTtcblx0XG5cdC8vIFBBUlNJTkdcblx0XG5cdGFkZFJlZ2V4VG9rZW4oJ0RERCcsICBtYXRjaDF0bzMpO1xuXHRhZGRSZWdleFRva2VuKCdEREREJywgbWF0Y2gzKTtcblx0YWRkUGFyc2VUb2tlbihbJ0RERCcsICdEREREJ10sIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXksIGNvbmZpZykge1xuXHQgICAgY29uZmlnLl9kYXlPZlllYXIgPSB0b0ludChpbnB1dCk7XG5cdH0pO1xuXHRcblx0Ly8gSEVMUEVSU1xuXHRcblx0Ly8gTU9NRU5UU1xuXHRcblx0ZnVuY3Rpb24gZ2V0U2V0RGF5T2ZZZWFyIChpbnB1dCkge1xuXHQgICAgdmFyIGRheU9mWWVhciA9IE1hdGgucm91bmQoKHRoaXMuY2xvbmUoKS5zdGFydE9mKCdkYXknKSAtIHRoaXMuY2xvbmUoKS5zdGFydE9mKCd5ZWFyJykpIC8gODY0ZTUpICsgMTtcblx0ICAgIHJldHVybiBpbnB1dCA9PSBudWxsID8gZGF5T2ZZZWFyIDogdGhpcy5hZGQoKGlucHV0IC0gZGF5T2ZZZWFyKSwgJ2QnKTtcblx0fVxuXHRcblx0Ly8gRk9STUFUVElOR1xuXHRcblx0YWRkRm9ybWF0VG9rZW4oJ20nLCBbJ21tJywgMl0sIDAsICdtaW51dGUnKTtcblx0XG5cdC8vIEFMSUFTRVNcblx0XG5cdGFkZFVuaXRBbGlhcygnbWludXRlJywgJ20nKTtcblx0XG5cdC8vIFBSSU9SSVRZXG5cdFxuXHRhZGRVbml0UHJpb3JpdHkoJ21pbnV0ZScsIDE0KTtcblx0XG5cdC8vIFBBUlNJTkdcblx0XG5cdGFkZFJlZ2V4VG9rZW4oJ20nLCAgbWF0Y2gxdG8yKTtcblx0YWRkUmVnZXhUb2tlbignbW0nLCBtYXRjaDF0bzIsIG1hdGNoMik7XG5cdGFkZFBhcnNlVG9rZW4oWydtJywgJ21tJ10sIE1JTlVURSk7XG5cdFxuXHQvLyBNT01FTlRTXG5cdFxuXHR2YXIgZ2V0U2V0TWludXRlID0gbWFrZUdldFNldCgnTWludXRlcycsIGZhbHNlKTtcblx0XG5cdC8vIEZPUk1BVFRJTkdcblx0XG5cdGFkZEZvcm1hdFRva2VuKCdzJywgWydzcycsIDJdLCAwLCAnc2Vjb25kJyk7XG5cdFxuXHQvLyBBTElBU0VTXG5cdFxuXHRhZGRVbml0QWxpYXMoJ3NlY29uZCcsICdzJyk7XG5cdFxuXHQvLyBQUklPUklUWVxuXHRcblx0YWRkVW5pdFByaW9yaXR5KCdzZWNvbmQnLCAxNSk7XG5cdFxuXHQvLyBQQVJTSU5HXG5cdFxuXHRhZGRSZWdleFRva2VuKCdzJywgIG1hdGNoMXRvMik7XG5cdGFkZFJlZ2V4VG9rZW4oJ3NzJywgbWF0Y2gxdG8yLCBtYXRjaDIpO1xuXHRhZGRQYXJzZVRva2VuKFsncycsICdzcyddLCBTRUNPTkQpO1xuXHRcblx0Ly8gTU9NRU5UU1xuXHRcblx0dmFyIGdldFNldFNlY29uZCA9IG1ha2VHZXRTZXQoJ1NlY29uZHMnLCBmYWxzZSk7XG5cdFxuXHQvLyBGT1JNQVRUSU5HXG5cdFxuXHRhZGRGb3JtYXRUb2tlbignUycsIDAsIDAsIGZ1bmN0aW9uICgpIHtcblx0ICAgIHJldHVybiB+fih0aGlzLm1pbGxpc2Vjb25kKCkgLyAxMDApO1xuXHR9KTtcblx0XG5cdGFkZEZvcm1hdFRva2VuKDAsIFsnU1MnLCAyXSwgMCwgZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuIH5+KHRoaXMubWlsbGlzZWNvbmQoKSAvIDEwKTtcblx0fSk7XG5cdFxuXHRhZGRGb3JtYXRUb2tlbigwLCBbJ1NTUycsIDNdLCAwLCAnbWlsbGlzZWNvbmQnKTtcblx0YWRkRm9ybWF0VG9rZW4oMCwgWydTU1NTJywgNF0sIDAsIGZ1bmN0aW9uICgpIHtcblx0ICAgIHJldHVybiB0aGlzLm1pbGxpc2Vjb25kKCkgKiAxMDtcblx0fSk7XG5cdGFkZEZvcm1hdFRva2VuKDAsIFsnU1NTU1MnLCA1XSwgMCwgZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuIHRoaXMubWlsbGlzZWNvbmQoKSAqIDEwMDtcblx0fSk7XG5cdGFkZEZvcm1hdFRva2VuKDAsIFsnU1NTU1NTJywgNl0sIDAsIGZ1bmN0aW9uICgpIHtcblx0ICAgIHJldHVybiB0aGlzLm1pbGxpc2Vjb25kKCkgKiAxMDAwO1xuXHR9KTtcblx0YWRkRm9ybWF0VG9rZW4oMCwgWydTU1NTU1NTJywgN10sIDAsIGZ1bmN0aW9uICgpIHtcblx0ICAgIHJldHVybiB0aGlzLm1pbGxpc2Vjb25kKCkgKiAxMDAwMDtcblx0fSk7XG5cdGFkZEZvcm1hdFRva2VuKDAsIFsnU1NTU1NTU1MnLCA4XSwgMCwgZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuIHRoaXMubWlsbGlzZWNvbmQoKSAqIDEwMDAwMDtcblx0fSk7XG5cdGFkZEZvcm1hdFRva2VuKDAsIFsnU1NTU1NTU1NTJywgOV0sIDAsIGZ1bmN0aW9uICgpIHtcblx0ICAgIHJldHVybiB0aGlzLm1pbGxpc2Vjb25kKCkgKiAxMDAwMDAwO1xuXHR9KTtcblx0XG5cdFxuXHQvLyBBTElBU0VTXG5cdFxuXHRhZGRVbml0QWxpYXMoJ21pbGxpc2Vjb25kJywgJ21zJyk7XG5cdFxuXHQvLyBQUklPUklUWVxuXHRcblx0YWRkVW5pdFByaW9yaXR5KCdtaWxsaXNlY29uZCcsIDE2KTtcblx0XG5cdC8vIFBBUlNJTkdcblx0XG5cdGFkZFJlZ2V4VG9rZW4oJ1MnLCAgICBtYXRjaDF0bzMsIG1hdGNoMSk7XG5cdGFkZFJlZ2V4VG9rZW4oJ1NTJywgICBtYXRjaDF0bzMsIG1hdGNoMik7XG5cdGFkZFJlZ2V4VG9rZW4oJ1NTUycsICBtYXRjaDF0bzMsIG1hdGNoMyk7XG5cdFxuXHR2YXIgdG9rZW47XG5cdGZvciAodG9rZW4gPSAnU1NTUyc7IHRva2VuLmxlbmd0aCA8PSA5OyB0b2tlbiArPSAnUycpIHtcblx0ICAgIGFkZFJlZ2V4VG9rZW4odG9rZW4sIG1hdGNoVW5zaWduZWQpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBwYXJzZU1zKGlucHV0LCBhcnJheSkge1xuXHQgICAgYXJyYXlbTUlMTElTRUNPTkRdID0gdG9JbnQoKCcwLicgKyBpbnB1dCkgKiAxMDAwKTtcblx0fVxuXHRcblx0Zm9yICh0b2tlbiA9ICdTJzsgdG9rZW4ubGVuZ3RoIDw9IDk7IHRva2VuICs9ICdTJykge1xuXHQgICAgYWRkUGFyc2VUb2tlbih0b2tlbiwgcGFyc2VNcyk7XG5cdH1cblx0Ly8gTU9NRU5UU1xuXHRcblx0dmFyIGdldFNldE1pbGxpc2Vjb25kID0gbWFrZUdldFNldCgnTWlsbGlzZWNvbmRzJywgZmFsc2UpO1xuXHRcblx0Ly8gRk9STUFUVElOR1xuXHRcblx0YWRkRm9ybWF0VG9rZW4oJ3onLCAgMCwgMCwgJ3pvbmVBYmJyJyk7XG5cdGFkZEZvcm1hdFRva2VuKCd6eicsIDAsIDAsICd6b25lTmFtZScpO1xuXHRcblx0Ly8gTU9NRU5UU1xuXHRcblx0ZnVuY3Rpb24gZ2V0Wm9uZUFiYnIgKCkge1xuXHQgICAgcmV0dXJuIHRoaXMuX2lzVVRDID8gJ1VUQycgOiAnJztcblx0fVxuXHRcblx0ZnVuY3Rpb24gZ2V0Wm9uZU5hbWUgKCkge1xuXHQgICAgcmV0dXJuIHRoaXMuX2lzVVRDID8gJ0Nvb3JkaW5hdGVkIFVuaXZlcnNhbCBUaW1lJyA6ICcnO1xuXHR9XG5cdFxuXHR2YXIgcHJvdG8gPSBNb21lbnQucHJvdG90eXBlO1xuXHRcblx0cHJvdG8uYWRkICAgICAgICAgICAgICAgPSBhZGQ7XG5cdHByb3RvLmNhbGVuZGFyICAgICAgICAgID0gY2FsZW5kYXIkMTtcblx0cHJvdG8uY2xvbmUgICAgICAgICAgICAgPSBjbG9uZTtcblx0cHJvdG8uZGlmZiAgICAgICAgICAgICAgPSBkaWZmO1xuXHRwcm90by5lbmRPZiAgICAgICAgICAgICA9IGVuZE9mO1xuXHRwcm90by5mb3JtYXQgICAgICAgICAgICA9IGZvcm1hdDtcblx0cHJvdG8uZnJvbSAgICAgICAgICAgICAgPSBmcm9tO1xuXHRwcm90by5mcm9tTm93ICAgICAgICAgICA9IGZyb21Ob3c7XG5cdHByb3RvLnRvICAgICAgICAgICAgICAgID0gdG87XG5cdHByb3RvLnRvTm93ICAgICAgICAgICAgID0gdG9Ob3c7XG5cdHByb3RvLmdldCAgICAgICAgICAgICAgID0gc3RyaW5nR2V0O1xuXHRwcm90by5pbnZhbGlkQXQgICAgICAgICA9IGludmFsaWRBdDtcblx0cHJvdG8uaXNBZnRlciAgICAgICAgICAgPSBpc0FmdGVyO1xuXHRwcm90by5pc0JlZm9yZSAgICAgICAgICA9IGlzQmVmb3JlO1xuXHRwcm90by5pc0JldHdlZW4gICAgICAgICA9IGlzQmV0d2Vlbjtcblx0cHJvdG8uaXNTYW1lICAgICAgICAgICAgPSBpc1NhbWU7XG5cdHByb3RvLmlzU2FtZU9yQWZ0ZXIgICAgID0gaXNTYW1lT3JBZnRlcjtcblx0cHJvdG8uaXNTYW1lT3JCZWZvcmUgICAgPSBpc1NhbWVPckJlZm9yZTtcblx0cHJvdG8uaXNWYWxpZCAgICAgICAgICAgPSBpc1ZhbGlkJDE7XG5cdHByb3RvLmxhbmcgICAgICAgICAgICAgID0gbGFuZztcblx0cHJvdG8ubG9jYWxlICAgICAgICAgICAgPSBsb2NhbGU7XG5cdHByb3RvLmxvY2FsZURhdGEgICAgICAgID0gbG9jYWxlRGF0YTtcblx0cHJvdG8ubWF4ICAgICAgICAgICAgICAgPSBwcm90b3R5cGVNYXg7XG5cdHByb3RvLm1pbiAgICAgICAgICAgICAgID0gcHJvdG90eXBlTWluO1xuXHRwcm90by5wYXJzaW5nRmxhZ3MgICAgICA9IHBhcnNpbmdGbGFncztcblx0cHJvdG8uc2V0ICAgICAgICAgICAgICAgPSBzdHJpbmdTZXQ7XG5cdHByb3RvLnN0YXJ0T2YgICAgICAgICAgID0gc3RhcnRPZjtcblx0cHJvdG8uc3VidHJhY3QgICAgICAgICAgPSBzdWJ0cmFjdDtcblx0cHJvdG8udG9BcnJheSAgICAgICAgICAgPSB0b0FycmF5O1xuXHRwcm90by50b09iamVjdCAgICAgICAgICA9IHRvT2JqZWN0O1xuXHRwcm90by50b0RhdGUgICAgICAgICAgICA9IHRvRGF0ZTtcblx0cHJvdG8udG9JU09TdHJpbmcgICAgICAgPSB0b0lTT1N0cmluZztcblx0cHJvdG8uaW5zcGVjdCAgICAgICAgICAgPSBpbnNwZWN0O1xuXHRwcm90by50b0pTT04gICAgICAgICAgICA9IHRvSlNPTjtcblx0cHJvdG8udG9TdHJpbmcgICAgICAgICAgPSB0b1N0cmluZztcblx0cHJvdG8udW5peCAgICAgICAgICAgICAgPSB1bml4O1xuXHRwcm90by52YWx1ZU9mICAgICAgICAgICA9IHZhbHVlT2Y7XG5cdHByb3RvLmNyZWF0aW9uRGF0YSAgICAgID0gY3JlYXRpb25EYXRhO1xuXHRcblx0Ly8gWWVhclxuXHRwcm90by55ZWFyICAgICAgID0gZ2V0U2V0WWVhcjtcblx0cHJvdG8uaXNMZWFwWWVhciA9IGdldElzTGVhcFllYXI7XG5cdFxuXHQvLyBXZWVrIFllYXJcblx0cHJvdG8ud2Vla1llYXIgICAgPSBnZXRTZXRXZWVrWWVhcjtcblx0cHJvdG8uaXNvV2Vla1llYXIgPSBnZXRTZXRJU09XZWVrWWVhcjtcblx0XG5cdC8vIFF1YXJ0ZXJcblx0cHJvdG8ucXVhcnRlciA9IHByb3RvLnF1YXJ0ZXJzID0gZ2V0U2V0UXVhcnRlcjtcblx0XG5cdC8vIE1vbnRoXG5cdHByb3RvLm1vbnRoICAgICAgID0gZ2V0U2V0TW9udGg7XG5cdHByb3RvLmRheXNJbk1vbnRoID0gZ2V0RGF5c0luTW9udGg7XG5cdFxuXHQvLyBXZWVrXG5cdHByb3RvLndlZWsgICAgICAgICAgID0gcHJvdG8ud2Vla3MgICAgICAgID0gZ2V0U2V0V2Vlaztcblx0cHJvdG8uaXNvV2VlayAgICAgICAgPSBwcm90by5pc29XZWVrcyAgICAgPSBnZXRTZXRJU09XZWVrO1xuXHRwcm90by53ZWVrc0luWWVhciAgICA9IGdldFdlZWtzSW5ZZWFyO1xuXHRwcm90by5pc29XZWVrc0luWWVhciA9IGdldElTT1dlZWtzSW5ZZWFyO1xuXHRcblx0Ly8gRGF5XG5cdHByb3RvLmRhdGUgICAgICAgPSBnZXRTZXREYXlPZk1vbnRoO1xuXHRwcm90by5kYXkgICAgICAgID0gcHJvdG8uZGF5cyAgICAgICAgICAgICA9IGdldFNldERheU9mV2Vlaztcblx0cHJvdG8ud2Vla2RheSAgICA9IGdldFNldExvY2FsZURheU9mV2Vlaztcblx0cHJvdG8uaXNvV2Vla2RheSA9IGdldFNldElTT0RheU9mV2Vlaztcblx0cHJvdG8uZGF5T2ZZZWFyICA9IGdldFNldERheU9mWWVhcjtcblx0XG5cdC8vIEhvdXJcblx0cHJvdG8uaG91ciA9IHByb3RvLmhvdXJzID0gZ2V0U2V0SG91cjtcblx0XG5cdC8vIE1pbnV0ZVxuXHRwcm90by5taW51dGUgPSBwcm90by5taW51dGVzID0gZ2V0U2V0TWludXRlO1xuXHRcblx0Ly8gU2Vjb25kXG5cdHByb3RvLnNlY29uZCA9IHByb3RvLnNlY29uZHMgPSBnZXRTZXRTZWNvbmQ7XG5cdFxuXHQvLyBNaWxsaXNlY29uZFxuXHRwcm90by5taWxsaXNlY29uZCA9IHByb3RvLm1pbGxpc2Vjb25kcyA9IGdldFNldE1pbGxpc2Vjb25kO1xuXHRcblx0Ly8gT2Zmc2V0XG5cdHByb3RvLnV0Y09mZnNldCAgICAgICAgICAgID0gZ2V0U2V0T2Zmc2V0O1xuXHRwcm90by51dGMgICAgICAgICAgICAgICAgICA9IHNldE9mZnNldFRvVVRDO1xuXHRwcm90by5sb2NhbCAgICAgICAgICAgICAgICA9IHNldE9mZnNldFRvTG9jYWw7XG5cdHByb3RvLnBhcnNlWm9uZSAgICAgICAgICAgID0gc2V0T2Zmc2V0VG9QYXJzZWRPZmZzZXQ7XG5cdHByb3RvLmhhc0FsaWduZWRIb3VyT2Zmc2V0ID0gaGFzQWxpZ25lZEhvdXJPZmZzZXQ7XG5cdHByb3RvLmlzRFNUICAgICAgICAgICAgICAgID0gaXNEYXlsaWdodFNhdmluZ1RpbWU7XG5cdHByb3RvLmlzTG9jYWwgICAgICAgICAgICAgID0gaXNMb2NhbDtcblx0cHJvdG8uaXNVdGNPZmZzZXQgICAgICAgICAgPSBpc1V0Y09mZnNldDtcblx0cHJvdG8uaXNVdGMgICAgICAgICAgICAgICAgPSBpc1V0Yztcblx0cHJvdG8uaXNVVEMgICAgICAgICAgICAgICAgPSBpc1V0Yztcblx0XG5cdC8vIFRpbWV6b25lXG5cdHByb3RvLnpvbmVBYmJyID0gZ2V0Wm9uZUFiYnI7XG5cdHByb3RvLnpvbmVOYW1lID0gZ2V0Wm9uZU5hbWU7XG5cdFxuXHQvLyBEZXByZWNhdGlvbnNcblx0cHJvdG8uZGF0ZXMgID0gZGVwcmVjYXRlKCdkYXRlcyBhY2Nlc3NvciBpcyBkZXByZWNhdGVkLiBVc2UgZGF0ZSBpbnN0ZWFkLicsIGdldFNldERheU9mTW9udGgpO1xuXHRwcm90by5tb250aHMgPSBkZXByZWNhdGUoJ21vbnRocyBhY2Nlc3NvciBpcyBkZXByZWNhdGVkLiBVc2UgbW9udGggaW5zdGVhZCcsIGdldFNldE1vbnRoKTtcblx0cHJvdG8ueWVhcnMgID0gZGVwcmVjYXRlKCd5ZWFycyBhY2Nlc3NvciBpcyBkZXByZWNhdGVkLiBVc2UgeWVhciBpbnN0ZWFkJywgZ2V0U2V0WWVhcik7XG5cdHByb3RvLnpvbmUgICA9IGRlcHJlY2F0ZSgnbW9tZW50KCkuem9uZSBpcyBkZXByZWNhdGVkLCB1c2UgbW9tZW50KCkudXRjT2Zmc2V0IGluc3RlYWQuIGh0dHA6Ly9tb21lbnRqcy5jb20vZ3VpZGVzLyMvd2FybmluZ3Mvem9uZS8nLCBnZXRTZXRab25lKTtcblx0cHJvdG8uaXNEU1RTaGlmdGVkID0gZGVwcmVjYXRlKCdpc0RTVFNoaWZ0ZWQgaXMgZGVwcmVjYXRlZC4gU2VlIGh0dHA6Ly9tb21lbnRqcy5jb20vZ3VpZGVzLyMvd2FybmluZ3MvZHN0LXNoaWZ0ZWQvIGZvciBtb3JlIGluZm9ybWF0aW9uJywgaXNEYXlsaWdodFNhdmluZ1RpbWVTaGlmdGVkKTtcblx0XG5cdGZ1bmN0aW9uIGNyZWF0ZVVuaXggKGlucHV0KSB7XG5cdCAgICByZXR1cm4gY3JlYXRlTG9jYWwoaW5wdXQgKiAxMDAwKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gY3JlYXRlSW5ab25lICgpIHtcblx0ICAgIHJldHVybiBjcmVhdGVMb2NhbC5hcHBseShudWxsLCBhcmd1bWVudHMpLnBhcnNlWm9uZSgpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBwcmVQYXJzZVBvc3RGb3JtYXQgKHN0cmluZykge1xuXHQgICAgcmV0dXJuIHN0cmluZztcblx0fVxuXHRcblx0dmFyIHByb3RvJDEgPSBMb2NhbGUucHJvdG90eXBlO1xuXHRcblx0cHJvdG8kMS5jYWxlbmRhciAgICAgICAgPSBjYWxlbmRhcjtcblx0cHJvdG8kMS5sb25nRGF0ZUZvcm1hdCAgPSBsb25nRGF0ZUZvcm1hdDtcblx0cHJvdG8kMS5pbnZhbGlkRGF0ZSAgICAgPSBpbnZhbGlkRGF0ZTtcblx0cHJvdG8kMS5vcmRpbmFsICAgICAgICAgPSBvcmRpbmFsO1xuXHRwcm90byQxLnByZXBhcnNlICAgICAgICA9IHByZVBhcnNlUG9zdEZvcm1hdDtcblx0cHJvdG8kMS5wb3N0Zm9ybWF0ICAgICAgPSBwcmVQYXJzZVBvc3RGb3JtYXQ7XG5cdHByb3RvJDEucmVsYXRpdmVUaW1lICAgID0gcmVsYXRpdmVUaW1lO1xuXHRwcm90byQxLnBhc3RGdXR1cmUgICAgICA9IHBhc3RGdXR1cmU7XG5cdHByb3RvJDEuc2V0ICAgICAgICAgICAgID0gc2V0O1xuXHRcblx0Ly8gTW9udGhcblx0cHJvdG8kMS5tb250aHMgICAgICAgICAgICA9ICAgICAgICBsb2NhbGVNb250aHM7XG5cdHByb3RvJDEubW9udGhzU2hvcnQgICAgICAgPSAgICAgICAgbG9jYWxlTW9udGhzU2hvcnQ7XG5cdHByb3RvJDEubW9udGhzUGFyc2UgICAgICAgPSAgICAgICAgbG9jYWxlTW9udGhzUGFyc2U7XG5cdHByb3RvJDEubW9udGhzUmVnZXggICAgICAgPSBtb250aHNSZWdleDtcblx0cHJvdG8kMS5tb250aHNTaG9ydFJlZ2V4ICA9IG1vbnRoc1Nob3J0UmVnZXg7XG5cdFxuXHQvLyBXZWVrXG5cdHByb3RvJDEud2VlayA9IGxvY2FsZVdlZWs7XG5cdHByb3RvJDEuZmlyc3REYXlPZlllYXIgPSBsb2NhbGVGaXJzdERheU9mWWVhcjtcblx0cHJvdG8kMS5maXJzdERheU9mV2VlayA9IGxvY2FsZUZpcnN0RGF5T2ZXZWVrO1xuXHRcblx0Ly8gRGF5IG9mIFdlZWtcblx0cHJvdG8kMS53ZWVrZGF5cyAgICAgICA9ICAgICAgICBsb2NhbGVXZWVrZGF5cztcblx0cHJvdG8kMS53ZWVrZGF5c01pbiAgICA9ICAgICAgICBsb2NhbGVXZWVrZGF5c01pbjtcblx0cHJvdG8kMS53ZWVrZGF5c1Nob3J0ICA9ICAgICAgICBsb2NhbGVXZWVrZGF5c1Nob3J0O1xuXHRwcm90byQxLndlZWtkYXlzUGFyc2UgID0gICAgICAgIGxvY2FsZVdlZWtkYXlzUGFyc2U7XG5cdFxuXHRwcm90byQxLndlZWtkYXlzUmVnZXggICAgICAgPSAgICAgICAgd2Vla2RheXNSZWdleDtcblx0cHJvdG8kMS53ZWVrZGF5c1Nob3J0UmVnZXggID0gICAgICAgIHdlZWtkYXlzU2hvcnRSZWdleDtcblx0cHJvdG8kMS53ZWVrZGF5c01pblJlZ2V4ICAgID0gICAgICAgIHdlZWtkYXlzTWluUmVnZXg7XG5cdFxuXHQvLyBIb3Vyc1xuXHRwcm90byQxLmlzUE0gPSBsb2NhbGVJc1BNO1xuXHRwcm90byQxLm1lcmlkaWVtID0gbG9jYWxlTWVyaWRpZW07XG5cdFxuXHRmdW5jdGlvbiBnZXQkMSAoZm9ybWF0LCBpbmRleCwgZmllbGQsIHNldHRlcikge1xuXHQgICAgdmFyIGxvY2FsZSA9IGdldExvY2FsZSgpO1xuXHQgICAgdmFyIHV0YyA9IGNyZWF0ZVVUQygpLnNldChzZXR0ZXIsIGluZGV4KTtcblx0ICAgIHJldHVybiBsb2NhbGVbZmllbGRdKHV0YywgZm9ybWF0KTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gbGlzdE1vbnRoc0ltcGwgKGZvcm1hdCwgaW5kZXgsIGZpZWxkKSB7XG5cdCAgICBpZiAoaXNOdW1iZXIoZm9ybWF0KSkge1xuXHQgICAgICAgIGluZGV4ID0gZm9ybWF0O1xuXHQgICAgICAgIGZvcm1hdCA9IHVuZGVmaW5lZDtcblx0ICAgIH1cblx0XG5cdCAgICBmb3JtYXQgPSBmb3JtYXQgfHwgJyc7XG5cdFxuXHQgICAgaWYgKGluZGV4ICE9IG51bGwpIHtcblx0ICAgICAgICByZXR1cm4gZ2V0JDEoZm9ybWF0LCBpbmRleCwgZmllbGQsICdtb250aCcpO1xuXHQgICAgfVxuXHRcblx0ICAgIHZhciBpO1xuXHQgICAgdmFyIG91dCA9IFtdO1xuXHQgICAgZm9yIChpID0gMDsgaSA8IDEyOyBpKyspIHtcblx0ICAgICAgICBvdXRbaV0gPSBnZXQkMShmb3JtYXQsIGksIGZpZWxkLCAnbW9udGgnKTtcblx0ICAgIH1cblx0ICAgIHJldHVybiBvdXQ7XG5cdH1cblx0XG5cdC8vICgpXG5cdC8vICg1KVxuXHQvLyAoZm10LCA1KVxuXHQvLyAoZm10KVxuXHQvLyAodHJ1ZSlcblx0Ly8gKHRydWUsIDUpXG5cdC8vICh0cnVlLCBmbXQsIDUpXG5cdC8vICh0cnVlLCBmbXQpXG5cdGZ1bmN0aW9uIGxpc3RXZWVrZGF5c0ltcGwgKGxvY2FsZVNvcnRlZCwgZm9ybWF0LCBpbmRleCwgZmllbGQpIHtcblx0ICAgIGlmICh0eXBlb2YgbG9jYWxlU29ydGVkID09PSAnYm9vbGVhbicpIHtcblx0ICAgICAgICBpZiAoaXNOdW1iZXIoZm9ybWF0KSkge1xuXHQgICAgICAgICAgICBpbmRleCA9IGZvcm1hdDtcblx0ICAgICAgICAgICAgZm9ybWF0ID0gdW5kZWZpbmVkO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgZm9ybWF0ID0gZm9ybWF0IHx8ICcnO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICBmb3JtYXQgPSBsb2NhbGVTb3J0ZWQ7XG5cdCAgICAgICAgaW5kZXggPSBmb3JtYXQ7XG5cdCAgICAgICAgbG9jYWxlU29ydGVkID0gZmFsc2U7XG5cdFxuXHQgICAgICAgIGlmIChpc051bWJlcihmb3JtYXQpKSB7XG5cdCAgICAgICAgICAgIGluZGV4ID0gZm9ybWF0O1xuXHQgICAgICAgICAgICBmb3JtYXQgPSB1bmRlZmluZWQ7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICBmb3JtYXQgPSBmb3JtYXQgfHwgJyc7XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIGxvY2FsZSA9IGdldExvY2FsZSgpLFxuXHQgICAgICAgIHNoaWZ0ID0gbG9jYWxlU29ydGVkID8gbG9jYWxlLl93ZWVrLmRvdyA6IDA7XG5cdFxuXHQgICAgaWYgKGluZGV4ICE9IG51bGwpIHtcblx0ICAgICAgICByZXR1cm4gZ2V0JDEoZm9ybWF0LCAoaW5kZXggKyBzaGlmdCkgJSA3LCBmaWVsZCwgJ2RheScpO1xuXHQgICAgfVxuXHRcblx0ICAgIHZhciBpO1xuXHQgICAgdmFyIG91dCA9IFtdO1xuXHQgICAgZm9yIChpID0gMDsgaSA8IDc7IGkrKykge1xuXHQgICAgICAgIG91dFtpXSA9IGdldCQxKGZvcm1hdCwgKGkgKyBzaGlmdCkgJSA3LCBmaWVsZCwgJ2RheScpO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIG91dDtcblx0fVxuXHRcblx0ZnVuY3Rpb24gbGlzdE1vbnRocyAoZm9ybWF0LCBpbmRleCkge1xuXHQgICAgcmV0dXJuIGxpc3RNb250aHNJbXBsKGZvcm1hdCwgaW5kZXgsICdtb250aHMnKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gbGlzdE1vbnRoc1Nob3J0IChmb3JtYXQsIGluZGV4KSB7XG5cdCAgICByZXR1cm4gbGlzdE1vbnRoc0ltcGwoZm9ybWF0LCBpbmRleCwgJ21vbnRoc1Nob3J0Jyk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGxpc3RXZWVrZGF5cyAobG9jYWxlU29ydGVkLCBmb3JtYXQsIGluZGV4KSB7XG5cdCAgICByZXR1cm4gbGlzdFdlZWtkYXlzSW1wbChsb2NhbGVTb3J0ZWQsIGZvcm1hdCwgaW5kZXgsICd3ZWVrZGF5cycpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBsaXN0V2Vla2RheXNTaG9ydCAobG9jYWxlU29ydGVkLCBmb3JtYXQsIGluZGV4KSB7XG5cdCAgICByZXR1cm4gbGlzdFdlZWtkYXlzSW1wbChsb2NhbGVTb3J0ZWQsIGZvcm1hdCwgaW5kZXgsICd3ZWVrZGF5c1Nob3J0Jyk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGxpc3RXZWVrZGF5c01pbiAobG9jYWxlU29ydGVkLCBmb3JtYXQsIGluZGV4KSB7XG5cdCAgICByZXR1cm4gbGlzdFdlZWtkYXlzSW1wbChsb2NhbGVTb3J0ZWQsIGZvcm1hdCwgaW5kZXgsICd3ZWVrZGF5c01pbicpO1xuXHR9XG5cdFxuXHRnZXRTZXRHbG9iYWxMb2NhbGUoJ2VuJywge1xuXHQgICAgb3JkaW5hbFBhcnNlOiAvXFxkezEsMn0odGh8c3R8bmR8cmQpLyxcblx0ICAgIG9yZGluYWwgOiBmdW5jdGlvbiAobnVtYmVyKSB7XG5cdCAgICAgICAgdmFyIGIgPSBudW1iZXIgJSAxMCxcblx0ICAgICAgICAgICAgb3V0cHV0ID0gKHRvSW50KG51bWJlciAlIDEwMCAvIDEwKSA9PT0gMSkgPyAndGgnIDpcblx0ICAgICAgICAgICAgKGIgPT09IDEpID8gJ3N0JyA6XG5cdCAgICAgICAgICAgIChiID09PSAyKSA/ICduZCcgOlxuXHQgICAgICAgICAgICAoYiA9PT0gMykgPyAncmQnIDogJ3RoJztcblx0ICAgICAgICByZXR1cm4gbnVtYmVyICsgb3V0cHV0O1xuXHQgICAgfVxuXHR9KTtcblx0XG5cdC8vIFNpZGUgZWZmZWN0IGltcG9ydHNcblx0aG9va3MubGFuZyA9IGRlcHJlY2F0ZSgnbW9tZW50LmxhbmcgaXMgZGVwcmVjYXRlZC4gVXNlIG1vbWVudC5sb2NhbGUgaW5zdGVhZC4nLCBnZXRTZXRHbG9iYWxMb2NhbGUpO1xuXHRob29rcy5sYW5nRGF0YSA9IGRlcHJlY2F0ZSgnbW9tZW50LmxhbmdEYXRhIGlzIGRlcHJlY2F0ZWQuIFVzZSBtb21lbnQubG9jYWxlRGF0YSBpbnN0ZWFkLicsIGdldExvY2FsZSk7XG5cdFxuXHR2YXIgbWF0aEFicyA9IE1hdGguYWJzO1xuXHRcblx0ZnVuY3Rpb24gYWJzICgpIHtcblx0ICAgIHZhciBkYXRhICAgICAgICAgICA9IHRoaXMuX2RhdGE7XG5cdFxuXHQgICAgdGhpcy5fbWlsbGlzZWNvbmRzID0gbWF0aEFicyh0aGlzLl9taWxsaXNlY29uZHMpO1xuXHQgICAgdGhpcy5fZGF5cyAgICAgICAgID0gbWF0aEFicyh0aGlzLl9kYXlzKTtcblx0ICAgIHRoaXMuX21vbnRocyAgICAgICA9IG1hdGhBYnModGhpcy5fbW9udGhzKTtcblx0XG5cdCAgICBkYXRhLm1pbGxpc2Vjb25kcyAgPSBtYXRoQWJzKGRhdGEubWlsbGlzZWNvbmRzKTtcblx0ICAgIGRhdGEuc2Vjb25kcyAgICAgICA9IG1hdGhBYnMoZGF0YS5zZWNvbmRzKTtcblx0ICAgIGRhdGEubWludXRlcyAgICAgICA9IG1hdGhBYnMoZGF0YS5taW51dGVzKTtcblx0ICAgIGRhdGEuaG91cnMgICAgICAgICA9IG1hdGhBYnMoZGF0YS5ob3Vycyk7XG5cdCAgICBkYXRhLm1vbnRocyAgICAgICAgPSBtYXRoQWJzKGRhdGEubW9udGhzKTtcblx0ICAgIGRhdGEueWVhcnMgICAgICAgICA9IG1hdGhBYnMoZGF0YS55ZWFycyk7XG5cdFxuXHQgICAgcmV0dXJuIHRoaXM7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGFkZFN1YnRyYWN0JDEgKGR1cmF0aW9uLCBpbnB1dCwgdmFsdWUsIGRpcmVjdGlvbikge1xuXHQgICAgdmFyIG90aGVyID0gY3JlYXRlRHVyYXRpb24oaW5wdXQsIHZhbHVlKTtcblx0XG5cdCAgICBkdXJhdGlvbi5fbWlsbGlzZWNvbmRzICs9IGRpcmVjdGlvbiAqIG90aGVyLl9taWxsaXNlY29uZHM7XG5cdCAgICBkdXJhdGlvbi5fZGF5cyAgICAgICAgICs9IGRpcmVjdGlvbiAqIG90aGVyLl9kYXlzO1xuXHQgICAgZHVyYXRpb24uX21vbnRocyAgICAgICArPSBkaXJlY3Rpb24gKiBvdGhlci5fbW9udGhzO1xuXHRcblx0ICAgIHJldHVybiBkdXJhdGlvbi5fYnViYmxlKCk7XG5cdH1cblx0XG5cdC8vIHN1cHBvcnRzIG9ubHkgMi4wLXN0eWxlIGFkZCgxLCAncycpIG9yIGFkZChkdXJhdGlvbilcblx0ZnVuY3Rpb24gYWRkJDEgKGlucHV0LCB2YWx1ZSkge1xuXHQgICAgcmV0dXJuIGFkZFN1YnRyYWN0JDEodGhpcywgaW5wdXQsIHZhbHVlLCAxKTtcblx0fVxuXHRcblx0Ly8gc3VwcG9ydHMgb25seSAyLjAtc3R5bGUgc3VidHJhY3QoMSwgJ3MnKSBvciBzdWJ0cmFjdChkdXJhdGlvbilcblx0ZnVuY3Rpb24gc3VidHJhY3QkMSAoaW5wdXQsIHZhbHVlKSB7XG5cdCAgICByZXR1cm4gYWRkU3VidHJhY3QkMSh0aGlzLCBpbnB1dCwgdmFsdWUsIC0xKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gYWJzQ2VpbCAobnVtYmVyKSB7XG5cdCAgICBpZiAobnVtYmVyIDwgMCkge1xuXHQgICAgICAgIHJldHVybiBNYXRoLmZsb29yKG51bWJlcik7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJldHVybiBNYXRoLmNlaWwobnVtYmVyKTtcblx0ICAgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gYnViYmxlICgpIHtcblx0ICAgIHZhciBtaWxsaXNlY29uZHMgPSB0aGlzLl9taWxsaXNlY29uZHM7XG5cdCAgICB2YXIgZGF5cyAgICAgICAgID0gdGhpcy5fZGF5cztcblx0ICAgIHZhciBtb250aHMgICAgICAgPSB0aGlzLl9tb250aHM7XG5cdCAgICB2YXIgZGF0YSAgICAgICAgID0gdGhpcy5fZGF0YTtcblx0ICAgIHZhciBzZWNvbmRzLCBtaW51dGVzLCBob3VycywgeWVhcnMsIG1vbnRoc0Zyb21EYXlzO1xuXHRcblx0ICAgIC8vIGlmIHdlIGhhdmUgYSBtaXggb2YgcG9zaXRpdmUgYW5kIG5lZ2F0aXZlIHZhbHVlcywgYnViYmxlIGRvd24gZmlyc3Rcblx0ICAgIC8vIGNoZWNrOiBodHRwczovL2dpdGh1Yi5jb20vbW9tZW50L21vbWVudC9pc3N1ZXMvMjE2NlxuXHQgICAgaWYgKCEoKG1pbGxpc2Vjb25kcyA+PSAwICYmIGRheXMgPj0gMCAmJiBtb250aHMgPj0gMCkgfHxcblx0ICAgICAgICAgICAgKG1pbGxpc2Vjb25kcyA8PSAwICYmIGRheXMgPD0gMCAmJiBtb250aHMgPD0gMCkpKSB7XG5cdCAgICAgICAgbWlsbGlzZWNvbmRzICs9IGFic0NlaWwobW9udGhzVG9EYXlzKG1vbnRocykgKyBkYXlzKSAqIDg2NGU1O1xuXHQgICAgICAgIGRheXMgPSAwO1xuXHQgICAgICAgIG1vbnRocyA9IDA7XG5cdCAgICB9XG5cdFxuXHQgICAgLy8gVGhlIGZvbGxvd2luZyBjb2RlIGJ1YmJsZXMgdXAgdmFsdWVzLCBzZWUgdGhlIHRlc3RzIGZvclxuXHQgICAgLy8gZXhhbXBsZXMgb2Ygd2hhdCB0aGF0IG1lYW5zLlxuXHQgICAgZGF0YS5taWxsaXNlY29uZHMgPSBtaWxsaXNlY29uZHMgJSAxMDAwO1xuXHRcblx0ICAgIHNlY29uZHMgICAgICAgICAgID0gYWJzRmxvb3IobWlsbGlzZWNvbmRzIC8gMTAwMCk7XG5cdCAgICBkYXRhLnNlY29uZHMgICAgICA9IHNlY29uZHMgJSA2MDtcblx0XG5cdCAgICBtaW51dGVzICAgICAgICAgICA9IGFic0Zsb29yKHNlY29uZHMgLyA2MCk7XG5cdCAgICBkYXRhLm1pbnV0ZXMgICAgICA9IG1pbnV0ZXMgJSA2MDtcblx0XG5cdCAgICBob3VycyAgICAgICAgICAgICA9IGFic0Zsb29yKG1pbnV0ZXMgLyA2MCk7XG5cdCAgICBkYXRhLmhvdXJzICAgICAgICA9IGhvdXJzICUgMjQ7XG5cdFxuXHQgICAgZGF5cyArPSBhYnNGbG9vcihob3VycyAvIDI0KTtcblx0XG5cdCAgICAvLyBjb252ZXJ0IGRheXMgdG8gbW9udGhzXG5cdCAgICBtb250aHNGcm9tRGF5cyA9IGFic0Zsb29yKGRheXNUb01vbnRocyhkYXlzKSk7XG5cdCAgICBtb250aHMgKz0gbW9udGhzRnJvbURheXM7XG5cdCAgICBkYXlzIC09IGFic0NlaWwobW9udGhzVG9EYXlzKG1vbnRoc0Zyb21EYXlzKSk7XG5cdFxuXHQgICAgLy8gMTIgbW9udGhzIC0+IDEgeWVhclxuXHQgICAgeWVhcnMgPSBhYnNGbG9vcihtb250aHMgLyAxMik7XG5cdCAgICBtb250aHMgJT0gMTI7XG5cdFxuXHQgICAgZGF0YS5kYXlzICAgPSBkYXlzO1xuXHQgICAgZGF0YS5tb250aHMgPSBtb250aHM7XG5cdCAgICBkYXRhLnllYXJzICA9IHllYXJzO1xuXHRcblx0ICAgIHJldHVybiB0aGlzO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBkYXlzVG9Nb250aHMgKGRheXMpIHtcblx0ICAgIC8vIDQwMCB5ZWFycyBoYXZlIDE0NjA5NyBkYXlzICh0YWtpbmcgaW50byBhY2NvdW50IGxlYXAgeWVhciBydWxlcylcblx0ICAgIC8vIDQwMCB5ZWFycyBoYXZlIDEyIG1vbnRocyA9PT0gNDgwMFxuXHQgICAgcmV0dXJuIGRheXMgKiA0ODAwIC8gMTQ2MDk3O1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBtb250aHNUb0RheXMgKG1vbnRocykge1xuXHQgICAgLy8gdGhlIHJldmVyc2Ugb2YgZGF5c1RvTW9udGhzXG5cdCAgICByZXR1cm4gbW9udGhzICogMTQ2MDk3IC8gNDgwMDtcblx0fVxuXHRcblx0ZnVuY3Rpb24gYXMgKHVuaXRzKSB7XG5cdCAgICB2YXIgZGF5cztcblx0ICAgIHZhciBtb250aHM7XG5cdCAgICB2YXIgbWlsbGlzZWNvbmRzID0gdGhpcy5fbWlsbGlzZWNvbmRzO1xuXHRcblx0ICAgIHVuaXRzID0gbm9ybWFsaXplVW5pdHModW5pdHMpO1xuXHRcblx0ICAgIGlmICh1bml0cyA9PT0gJ21vbnRoJyB8fCB1bml0cyA9PT0gJ3llYXInKSB7XG5cdCAgICAgICAgZGF5cyAgID0gdGhpcy5fZGF5cyAgICsgbWlsbGlzZWNvbmRzIC8gODY0ZTU7XG5cdCAgICAgICAgbW9udGhzID0gdGhpcy5fbW9udGhzICsgZGF5c1RvTW9udGhzKGRheXMpO1xuXHQgICAgICAgIHJldHVybiB1bml0cyA9PT0gJ21vbnRoJyA/IG1vbnRocyA6IG1vbnRocyAvIDEyO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICAvLyBoYW5kbGUgbWlsbGlzZWNvbmRzIHNlcGFyYXRlbHkgYmVjYXVzZSBvZiBmbG9hdGluZyBwb2ludCBtYXRoIGVycm9ycyAoaXNzdWUgIzE4NjcpXG5cdCAgICAgICAgZGF5cyA9IHRoaXMuX2RheXMgKyBNYXRoLnJvdW5kKG1vbnRoc1RvRGF5cyh0aGlzLl9tb250aHMpKTtcblx0ICAgICAgICBzd2l0Y2ggKHVuaXRzKSB7XG5cdCAgICAgICAgICAgIGNhc2UgJ3dlZWsnICAgOiByZXR1cm4gZGF5cyAvIDcgICAgICsgbWlsbGlzZWNvbmRzIC8gNjA0OGU1O1xuXHQgICAgICAgICAgICBjYXNlICdkYXknICAgIDogcmV0dXJuIGRheXMgICAgICAgICArIG1pbGxpc2Vjb25kcyAvIDg2NGU1O1xuXHQgICAgICAgICAgICBjYXNlICdob3VyJyAgIDogcmV0dXJuIGRheXMgKiAyNCAgICArIG1pbGxpc2Vjb25kcyAvIDM2ZTU7XG5cdCAgICAgICAgICAgIGNhc2UgJ21pbnV0ZScgOiByZXR1cm4gZGF5cyAqIDE0NDAgICsgbWlsbGlzZWNvbmRzIC8gNmU0O1xuXHQgICAgICAgICAgICBjYXNlICdzZWNvbmQnIDogcmV0dXJuIGRheXMgKiA4NjQwMCArIG1pbGxpc2Vjb25kcyAvIDEwMDA7XG5cdCAgICAgICAgICAgIC8vIE1hdGguZmxvb3IgcHJldmVudHMgZmxvYXRpbmcgcG9pbnQgbWF0aCBlcnJvcnMgaGVyZVxuXHQgICAgICAgICAgICBjYXNlICdtaWxsaXNlY29uZCc6IHJldHVybiBNYXRoLmZsb29yKGRheXMgKiA4NjRlNSkgKyBtaWxsaXNlY29uZHM7XG5cdCAgICAgICAgICAgIGRlZmF1bHQ6IHRocm93IG5ldyBFcnJvcignVW5rbm93biB1bml0ICcgKyB1bml0cyk7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHR9XG5cdFxuXHQvLyBUT0RPOiBVc2UgdGhpcy5hcygnbXMnKT9cblx0ZnVuY3Rpb24gdmFsdWVPZiQxICgpIHtcblx0ICAgIHJldHVybiAoXG5cdCAgICAgICAgdGhpcy5fbWlsbGlzZWNvbmRzICtcblx0ICAgICAgICB0aGlzLl9kYXlzICogODY0ZTUgK1xuXHQgICAgICAgICh0aGlzLl9tb250aHMgJSAxMikgKiAyNTkyZTYgK1xuXHQgICAgICAgIHRvSW50KHRoaXMuX21vbnRocyAvIDEyKSAqIDMxNTM2ZTZcblx0ICAgICk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIG1ha2VBcyAoYWxpYXMpIHtcblx0ICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMuYXMoYWxpYXMpO1xuXHQgICAgfTtcblx0fVxuXHRcblx0dmFyIGFzTWlsbGlzZWNvbmRzID0gbWFrZUFzKCdtcycpO1xuXHR2YXIgYXNTZWNvbmRzICAgICAgPSBtYWtlQXMoJ3MnKTtcblx0dmFyIGFzTWludXRlcyAgICAgID0gbWFrZUFzKCdtJyk7XG5cdHZhciBhc0hvdXJzICAgICAgICA9IG1ha2VBcygnaCcpO1xuXHR2YXIgYXNEYXlzICAgICAgICAgPSBtYWtlQXMoJ2QnKTtcblx0dmFyIGFzV2Vla3MgICAgICAgID0gbWFrZUFzKCd3Jyk7XG5cdHZhciBhc01vbnRocyAgICAgICA9IG1ha2VBcygnTScpO1xuXHR2YXIgYXNZZWFycyAgICAgICAgPSBtYWtlQXMoJ3knKTtcblx0XG5cdGZ1bmN0aW9uIGdldCQyICh1bml0cykge1xuXHQgICAgdW5pdHMgPSBub3JtYWxpemVVbml0cyh1bml0cyk7XG5cdCAgICByZXR1cm4gdGhpc1t1bml0cyArICdzJ10oKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gbWFrZUdldHRlcihuYW1lKSB7XG5cdCAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIHJldHVybiB0aGlzLl9kYXRhW25hbWVdO1xuXHQgICAgfTtcblx0fVxuXHRcblx0dmFyIG1pbGxpc2Vjb25kcyA9IG1ha2VHZXR0ZXIoJ21pbGxpc2Vjb25kcycpO1xuXHR2YXIgc2Vjb25kcyAgICAgID0gbWFrZUdldHRlcignc2Vjb25kcycpO1xuXHR2YXIgbWludXRlcyAgICAgID0gbWFrZUdldHRlcignbWludXRlcycpO1xuXHR2YXIgaG91cnMgICAgICAgID0gbWFrZUdldHRlcignaG91cnMnKTtcblx0dmFyIGRheXMgICAgICAgICA9IG1ha2VHZXR0ZXIoJ2RheXMnKTtcblx0dmFyIG1vbnRocyAgICAgICA9IG1ha2VHZXR0ZXIoJ21vbnRocycpO1xuXHR2YXIgeWVhcnMgICAgICAgID0gbWFrZUdldHRlcigneWVhcnMnKTtcblx0XG5cdGZ1bmN0aW9uIHdlZWtzICgpIHtcblx0ICAgIHJldHVybiBhYnNGbG9vcih0aGlzLmRheXMoKSAvIDcpO1xuXHR9XG5cdFxuXHR2YXIgcm91bmQgPSBNYXRoLnJvdW5kO1xuXHR2YXIgdGhyZXNob2xkcyA9IHtcblx0ICAgIHM6IDQ1LCAgLy8gc2Vjb25kcyB0byBtaW51dGVcblx0ICAgIG06IDQ1LCAgLy8gbWludXRlcyB0byBob3VyXG5cdCAgICBoOiAyMiwgIC8vIGhvdXJzIHRvIGRheVxuXHQgICAgZDogMjYsICAvLyBkYXlzIHRvIG1vbnRoXG5cdCAgICBNOiAxMSAgIC8vIG1vbnRocyB0byB5ZWFyXG5cdH07XG5cdFxuXHQvLyBoZWxwZXIgZnVuY3Rpb24gZm9yIG1vbWVudC5mbi5mcm9tLCBtb21lbnQuZm4uZnJvbU5vdywgYW5kIG1vbWVudC5kdXJhdGlvbi5mbi5odW1hbml6ZVxuXHRmdW5jdGlvbiBzdWJzdGl0dXRlVGltZUFnbyhzdHJpbmcsIG51bWJlciwgd2l0aG91dFN1ZmZpeCwgaXNGdXR1cmUsIGxvY2FsZSkge1xuXHQgICAgcmV0dXJuIGxvY2FsZS5yZWxhdGl2ZVRpbWUobnVtYmVyIHx8IDEsICEhd2l0aG91dFN1ZmZpeCwgc3RyaW5nLCBpc0Z1dHVyZSk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHJlbGF0aXZlVGltZSQxIChwb3NOZWdEdXJhdGlvbiwgd2l0aG91dFN1ZmZpeCwgbG9jYWxlKSB7XG5cdCAgICB2YXIgZHVyYXRpb24gPSBjcmVhdGVEdXJhdGlvbihwb3NOZWdEdXJhdGlvbikuYWJzKCk7XG5cdCAgICB2YXIgc2Vjb25kcyAgPSByb3VuZChkdXJhdGlvbi5hcygncycpKTtcblx0ICAgIHZhciBtaW51dGVzICA9IHJvdW5kKGR1cmF0aW9uLmFzKCdtJykpO1xuXHQgICAgdmFyIGhvdXJzICAgID0gcm91bmQoZHVyYXRpb24uYXMoJ2gnKSk7XG5cdCAgICB2YXIgZGF5cyAgICAgPSByb3VuZChkdXJhdGlvbi5hcygnZCcpKTtcblx0ICAgIHZhciBtb250aHMgICA9IHJvdW5kKGR1cmF0aW9uLmFzKCdNJykpO1xuXHQgICAgdmFyIHllYXJzICAgID0gcm91bmQoZHVyYXRpb24uYXMoJ3knKSk7XG5cdFxuXHQgICAgdmFyIGEgPSBzZWNvbmRzIDwgdGhyZXNob2xkcy5zICYmIFsncycsIHNlY29uZHNdICB8fFxuXHQgICAgICAgICAgICBtaW51dGVzIDw9IDEgICAgICAgICAgICYmIFsnbSddICAgICAgICAgICB8fFxuXHQgICAgICAgICAgICBtaW51dGVzIDwgdGhyZXNob2xkcy5tICYmIFsnbW0nLCBtaW51dGVzXSB8fFxuXHQgICAgICAgICAgICBob3VycyAgIDw9IDEgICAgICAgICAgICYmIFsnaCddICAgICAgICAgICB8fFxuXHQgICAgICAgICAgICBob3VycyAgIDwgdGhyZXNob2xkcy5oICYmIFsnaGgnLCBob3Vyc10gICB8fFxuXHQgICAgICAgICAgICBkYXlzICAgIDw9IDEgICAgICAgICAgICYmIFsnZCddICAgICAgICAgICB8fFxuXHQgICAgICAgICAgICBkYXlzICAgIDwgdGhyZXNob2xkcy5kICYmIFsnZGQnLCBkYXlzXSAgICB8fFxuXHQgICAgICAgICAgICBtb250aHMgIDw9IDEgICAgICAgICAgICYmIFsnTSddICAgICAgICAgICB8fFxuXHQgICAgICAgICAgICBtb250aHMgIDwgdGhyZXNob2xkcy5NICYmIFsnTU0nLCBtb250aHNdICB8fFxuXHQgICAgICAgICAgICB5ZWFycyAgIDw9IDEgICAgICAgICAgICYmIFsneSddICAgICAgICAgICB8fCBbJ3l5JywgeWVhcnNdO1xuXHRcblx0ICAgIGFbMl0gPSB3aXRob3V0U3VmZml4O1xuXHQgICAgYVszXSA9ICtwb3NOZWdEdXJhdGlvbiA+IDA7XG5cdCAgICBhWzRdID0gbG9jYWxlO1xuXHQgICAgcmV0dXJuIHN1YnN0aXR1dGVUaW1lQWdvLmFwcGx5KG51bGwsIGEpO1xuXHR9XG5cdFxuXHQvLyBUaGlzIGZ1bmN0aW9uIGFsbG93cyB5b3UgdG8gc2V0IHRoZSByb3VuZGluZyBmdW5jdGlvbiBmb3IgcmVsYXRpdmUgdGltZSBzdHJpbmdzXG5cdGZ1bmN0aW9uIGdldFNldFJlbGF0aXZlVGltZVJvdW5kaW5nIChyb3VuZGluZ0Z1bmN0aW9uKSB7XG5cdCAgICBpZiAocm91bmRpbmdGdW5jdGlvbiA9PT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgcmV0dXJuIHJvdW5kO1xuXHQgICAgfVxuXHQgICAgaWYgKHR5cGVvZihyb3VuZGluZ0Z1bmN0aW9uKSA9PT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgICAgIHJvdW5kID0gcm91bmRpbmdGdW5jdGlvbjtcblx0ICAgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgIH1cblx0ICAgIHJldHVybiBmYWxzZTtcblx0fVxuXHRcblx0Ly8gVGhpcyBmdW5jdGlvbiBhbGxvd3MgeW91IHRvIHNldCBhIHRocmVzaG9sZCBmb3IgcmVsYXRpdmUgdGltZSBzdHJpbmdzXG5cdGZ1bmN0aW9uIGdldFNldFJlbGF0aXZlVGltZVRocmVzaG9sZCAodGhyZXNob2xkLCBsaW1pdCkge1xuXHQgICAgaWYgKHRocmVzaG9sZHNbdGhyZXNob2xkXSA9PT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgfVxuXHQgICAgaWYgKGxpbWl0ID09PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICByZXR1cm4gdGhyZXNob2xkc1t0aHJlc2hvbGRdO1xuXHQgICAgfVxuXHQgICAgdGhyZXNob2xkc1t0aHJlc2hvbGRdID0gbGltaXQ7XG5cdCAgICByZXR1cm4gdHJ1ZTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gaHVtYW5pemUgKHdpdGhTdWZmaXgpIHtcblx0ICAgIHZhciBsb2NhbGUgPSB0aGlzLmxvY2FsZURhdGEoKTtcblx0ICAgIHZhciBvdXRwdXQgPSByZWxhdGl2ZVRpbWUkMSh0aGlzLCAhd2l0aFN1ZmZpeCwgbG9jYWxlKTtcblx0XG5cdCAgICBpZiAod2l0aFN1ZmZpeCkge1xuXHQgICAgICAgIG91dHB1dCA9IGxvY2FsZS5wYXN0RnV0dXJlKCt0aGlzLCBvdXRwdXQpO1xuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiBsb2NhbGUucG9zdGZvcm1hdChvdXRwdXQpO1xuXHR9XG5cdFxuXHR2YXIgYWJzJDEgPSBNYXRoLmFicztcblx0XG5cdGZ1bmN0aW9uIHRvSVNPU3RyaW5nJDEoKSB7XG5cdCAgICAvLyBmb3IgSVNPIHN0cmluZ3Mgd2UgZG8gbm90IHVzZSB0aGUgbm9ybWFsIGJ1YmJsaW5nIHJ1bGVzOlxuXHQgICAgLy8gICogbWlsbGlzZWNvbmRzIGJ1YmJsZSB1cCB1bnRpbCB0aGV5IGJlY29tZSBob3Vyc1xuXHQgICAgLy8gICogZGF5cyBkbyBub3QgYnViYmxlIGF0IGFsbFxuXHQgICAgLy8gICogbW9udGhzIGJ1YmJsZSB1cCB1bnRpbCB0aGV5IGJlY29tZSB5ZWFyc1xuXHQgICAgLy8gVGhpcyBpcyBiZWNhdXNlIHRoZXJlIGlzIG5vIGNvbnRleHQtZnJlZSBjb252ZXJzaW9uIGJldHdlZW4gaG91cnMgYW5kIGRheXNcblx0ICAgIC8vICh0aGluayBvZiBjbG9jayBjaGFuZ2VzKVxuXHQgICAgLy8gYW5kIGFsc28gbm90IGJldHdlZW4gZGF5cyBhbmQgbW9udGhzICgyOC0zMSBkYXlzIHBlciBtb250aClcblx0ICAgIHZhciBzZWNvbmRzID0gYWJzJDEodGhpcy5fbWlsbGlzZWNvbmRzKSAvIDEwMDA7XG5cdCAgICB2YXIgZGF5cyAgICAgICAgID0gYWJzJDEodGhpcy5fZGF5cyk7XG5cdCAgICB2YXIgbW9udGhzICAgICAgID0gYWJzJDEodGhpcy5fbW9udGhzKTtcblx0ICAgIHZhciBtaW51dGVzLCBob3VycywgeWVhcnM7XG5cdFxuXHQgICAgLy8gMzYwMCBzZWNvbmRzIC0+IDYwIG1pbnV0ZXMgLT4gMSBob3VyXG5cdCAgICBtaW51dGVzICAgICAgICAgICA9IGFic0Zsb29yKHNlY29uZHMgLyA2MCk7XG5cdCAgICBob3VycyAgICAgICAgICAgICA9IGFic0Zsb29yKG1pbnV0ZXMgLyA2MCk7XG5cdCAgICBzZWNvbmRzICU9IDYwO1xuXHQgICAgbWludXRlcyAlPSA2MDtcblx0XG5cdCAgICAvLyAxMiBtb250aHMgLT4gMSB5ZWFyXG5cdCAgICB5ZWFycyAgPSBhYnNGbG9vcihtb250aHMgLyAxMik7XG5cdCAgICBtb250aHMgJT0gMTI7XG5cdFxuXHRcblx0ICAgIC8vIGluc3BpcmVkIGJ5IGh0dHBzOi8vZ2l0aHViLmNvbS9kb3JkaWxsZS9tb21lbnQtaXNvZHVyYXRpb24vYmxvYi9tYXN0ZXIvbW9tZW50Lmlzb2R1cmF0aW9uLmpzXG5cdCAgICB2YXIgWSA9IHllYXJzO1xuXHQgICAgdmFyIE0gPSBtb250aHM7XG5cdCAgICB2YXIgRCA9IGRheXM7XG5cdCAgICB2YXIgaCA9IGhvdXJzO1xuXHQgICAgdmFyIG0gPSBtaW51dGVzO1xuXHQgICAgdmFyIHMgPSBzZWNvbmRzO1xuXHQgICAgdmFyIHRvdGFsID0gdGhpcy5hc1NlY29uZHMoKTtcblx0XG5cdCAgICBpZiAoIXRvdGFsKSB7XG5cdCAgICAgICAgLy8gdGhpcyBpcyB0aGUgc2FtZSBhcyBDIydzIChOb2RhKSBhbmQgcHl0aG9uIChpc29kYXRlKS4uLlxuXHQgICAgICAgIC8vIGJ1dCBub3Qgb3RoZXIgSlMgKGdvb2cuZGF0ZSlcblx0ICAgICAgICByZXR1cm4gJ1AwRCc7XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuICh0b3RhbCA8IDAgPyAnLScgOiAnJykgK1xuXHQgICAgICAgICdQJyArXG5cdCAgICAgICAgKFkgPyBZICsgJ1knIDogJycpICtcblx0ICAgICAgICAoTSA/IE0gKyAnTScgOiAnJykgK1xuXHQgICAgICAgIChEID8gRCArICdEJyA6ICcnKSArXG5cdCAgICAgICAgKChoIHx8IG0gfHwgcykgPyAnVCcgOiAnJykgK1xuXHQgICAgICAgIChoID8gaCArICdIJyA6ICcnKSArXG5cdCAgICAgICAgKG0gPyBtICsgJ00nIDogJycpICtcblx0ICAgICAgICAocyA/IHMgKyAnUycgOiAnJyk7XG5cdH1cblx0XG5cdHZhciBwcm90byQyID0gRHVyYXRpb24ucHJvdG90eXBlO1xuXHRcblx0cHJvdG8kMi5hYnMgICAgICAgICAgICA9IGFicztcblx0cHJvdG8kMi5hZGQgICAgICAgICAgICA9IGFkZCQxO1xuXHRwcm90byQyLnN1YnRyYWN0ICAgICAgID0gc3VidHJhY3QkMTtcblx0cHJvdG8kMi5hcyAgICAgICAgICAgICA9IGFzO1xuXHRwcm90byQyLmFzTWlsbGlzZWNvbmRzID0gYXNNaWxsaXNlY29uZHM7XG5cdHByb3RvJDIuYXNTZWNvbmRzICAgICAgPSBhc1NlY29uZHM7XG5cdHByb3RvJDIuYXNNaW51dGVzICAgICAgPSBhc01pbnV0ZXM7XG5cdHByb3RvJDIuYXNIb3VycyAgICAgICAgPSBhc0hvdXJzO1xuXHRwcm90byQyLmFzRGF5cyAgICAgICAgID0gYXNEYXlzO1xuXHRwcm90byQyLmFzV2Vla3MgICAgICAgID0gYXNXZWVrcztcblx0cHJvdG8kMi5hc01vbnRocyAgICAgICA9IGFzTW9udGhzO1xuXHRwcm90byQyLmFzWWVhcnMgICAgICAgID0gYXNZZWFycztcblx0cHJvdG8kMi52YWx1ZU9mICAgICAgICA9IHZhbHVlT2YkMTtcblx0cHJvdG8kMi5fYnViYmxlICAgICAgICA9IGJ1YmJsZTtcblx0cHJvdG8kMi5nZXQgICAgICAgICAgICA9IGdldCQyO1xuXHRwcm90byQyLm1pbGxpc2Vjb25kcyAgID0gbWlsbGlzZWNvbmRzO1xuXHRwcm90byQyLnNlY29uZHMgICAgICAgID0gc2Vjb25kcztcblx0cHJvdG8kMi5taW51dGVzICAgICAgICA9IG1pbnV0ZXM7XG5cdHByb3RvJDIuaG91cnMgICAgICAgICAgPSBob3Vycztcblx0cHJvdG8kMi5kYXlzICAgICAgICAgICA9IGRheXM7XG5cdHByb3RvJDIud2Vla3MgICAgICAgICAgPSB3ZWVrcztcblx0cHJvdG8kMi5tb250aHMgICAgICAgICA9IG1vbnRocztcblx0cHJvdG8kMi55ZWFycyAgICAgICAgICA9IHllYXJzO1xuXHRwcm90byQyLmh1bWFuaXplICAgICAgID0gaHVtYW5pemU7XG5cdHByb3RvJDIudG9JU09TdHJpbmcgICAgPSB0b0lTT1N0cmluZyQxO1xuXHRwcm90byQyLnRvU3RyaW5nICAgICAgID0gdG9JU09TdHJpbmckMTtcblx0cHJvdG8kMi50b0pTT04gICAgICAgICA9IHRvSVNPU3RyaW5nJDE7XG5cdHByb3RvJDIubG9jYWxlICAgICAgICAgPSBsb2NhbGU7XG5cdHByb3RvJDIubG9jYWxlRGF0YSAgICAgPSBsb2NhbGVEYXRhO1xuXHRcblx0Ly8gRGVwcmVjYXRpb25zXG5cdHByb3RvJDIudG9Jc29TdHJpbmcgPSBkZXByZWNhdGUoJ3RvSXNvU3RyaW5nKCkgaXMgZGVwcmVjYXRlZC4gUGxlYXNlIHVzZSB0b0lTT1N0cmluZygpIGluc3RlYWQgKG5vdGljZSB0aGUgY2FwaXRhbHMpJywgdG9JU09TdHJpbmckMSk7XG5cdHByb3RvJDIubGFuZyA9IGxhbmc7XG5cdFxuXHQvLyBTaWRlIGVmZmVjdCBpbXBvcnRzXG5cdFxuXHQvLyBGT1JNQVRUSU5HXG5cdFxuXHRhZGRGb3JtYXRUb2tlbignWCcsIDAsIDAsICd1bml4Jyk7XG5cdGFkZEZvcm1hdFRva2VuKCd4JywgMCwgMCwgJ3ZhbHVlT2YnKTtcblx0XG5cdC8vIFBBUlNJTkdcblx0XG5cdGFkZFJlZ2V4VG9rZW4oJ3gnLCBtYXRjaFNpZ25lZCk7XG5cdGFkZFJlZ2V4VG9rZW4oJ1gnLCBtYXRjaFRpbWVzdGFtcCk7XG5cdGFkZFBhcnNlVG9rZW4oJ1gnLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcpIHtcblx0ICAgIGNvbmZpZy5fZCA9IG5ldyBEYXRlKHBhcnNlRmxvYXQoaW5wdXQsIDEwKSAqIDEwMDApO1xuXHR9KTtcblx0YWRkUGFyc2VUb2tlbigneCcsIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXksIGNvbmZpZykge1xuXHQgICAgY29uZmlnLl9kID0gbmV3IERhdGUodG9JbnQoaW5wdXQpKTtcblx0fSk7XG5cdFxuXHQvLyBTaWRlIGVmZmVjdCBpbXBvcnRzXG5cdFxuXHRcblx0aG9va3MudmVyc2lvbiA9ICcyLjE3LjAnO1xuXHRcblx0c2V0SG9va0NhbGxiYWNrKGNyZWF0ZUxvY2FsKTtcblx0XG5cdGhvb2tzLmZuICAgICAgICAgICAgICAgICAgICA9IHByb3RvO1xuXHRob29rcy5taW4gICAgICAgICAgICAgICAgICAgPSBtaW47XG5cdGhvb2tzLm1heCAgICAgICAgICAgICAgICAgICA9IG1heDtcblx0aG9va3Mubm93ICAgICAgICAgICAgICAgICAgID0gbm93O1xuXHRob29rcy51dGMgICAgICAgICAgICAgICAgICAgPSBjcmVhdGVVVEM7XG5cdGhvb2tzLnVuaXggICAgICAgICAgICAgICAgICA9IGNyZWF0ZVVuaXg7XG5cdGhvb2tzLm1vbnRocyAgICAgICAgICAgICAgICA9IGxpc3RNb250aHM7XG5cdGhvb2tzLmlzRGF0ZSAgICAgICAgICAgICAgICA9IGlzRGF0ZTtcblx0aG9va3MubG9jYWxlICAgICAgICAgICAgICAgID0gZ2V0U2V0R2xvYmFsTG9jYWxlO1xuXHRob29rcy5pbnZhbGlkICAgICAgICAgICAgICAgPSBjcmVhdGVJbnZhbGlkO1xuXHRob29rcy5kdXJhdGlvbiAgICAgICAgICAgICAgPSBjcmVhdGVEdXJhdGlvbjtcblx0aG9va3MuaXNNb21lbnQgICAgICAgICAgICAgID0gaXNNb21lbnQ7XG5cdGhvb2tzLndlZWtkYXlzICAgICAgICAgICAgICA9IGxpc3RXZWVrZGF5cztcblx0aG9va3MucGFyc2Vab25lICAgICAgICAgICAgID0gY3JlYXRlSW5ab25lO1xuXHRob29rcy5sb2NhbGVEYXRhICAgICAgICAgICAgPSBnZXRMb2NhbGU7XG5cdGhvb2tzLmlzRHVyYXRpb24gICAgICAgICAgICA9IGlzRHVyYXRpb247XG5cdGhvb2tzLm1vbnRoc1Nob3J0ICAgICAgICAgICA9IGxpc3RNb250aHNTaG9ydDtcblx0aG9va3Mud2Vla2RheXNNaW4gICAgICAgICAgID0gbGlzdFdlZWtkYXlzTWluO1xuXHRob29rcy5kZWZpbmVMb2NhbGUgICAgICAgICAgPSBkZWZpbmVMb2NhbGU7XG5cdGhvb2tzLnVwZGF0ZUxvY2FsZSAgICAgICAgICA9IHVwZGF0ZUxvY2FsZTtcblx0aG9va3MubG9jYWxlcyAgICAgICAgICAgICAgID0gbGlzdExvY2FsZXM7XG5cdGhvb2tzLndlZWtkYXlzU2hvcnQgICAgICAgICA9IGxpc3RXZWVrZGF5c1Nob3J0O1xuXHRob29rcy5ub3JtYWxpemVVbml0cyAgICAgICAgPSBub3JtYWxpemVVbml0cztcblx0aG9va3MucmVsYXRpdmVUaW1lUm91bmRpbmcgPSBnZXRTZXRSZWxhdGl2ZVRpbWVSb3VuZGluZztcblx0aG9va3MucmVsYXRpdmVUaW1lVGhyZXNob2xkID0gZ2V0U2V0UmVsYXRpdmVUaW1lVGhyZXNob2xkO1xuXHRob29rcy5jYWxlbmRhckZvcm1hdCAgICAgICAgPSBnZXRDYWxlbmRhckZvcm1hdDtcblx0aG9va3MucHJvdG90eXBlICAgICAgICAgICAgID0gcHJvdG87XG5cdFxuXHRyZXR1cm4gaG9va3M7XG5cdFxuXHR9KSkpO1xuXHRcblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18oMSkobW9kdWxlKSkpXG5cbi8qKiovIH1cbi8qKioqKiovIF0pO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBmY3RzLWV4dC1kYXRlcmFuZ2UtZXM1Lm1pbi5qcyIsIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKVxuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuXG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRleHBvcnRzOiB7fSxcbiBcdFx0XHRpZDogbW9kdWxlSWQsXG4gXHRcdFx0bG9hZGVkOiBmYWxzZVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sb2FkZWQgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2svYm9vdHN0cmFwIDAyMjUyMGY4MDIyN2Y2YTE5NjA5IiwiJ3VzZSBzdHJpY3QnO1xuY29uc3QgRGF0ZVJhbmdlID0gcmVxdWlyZSgnLi9mY3RzLWV4dC1kYXRlcmFuZ2UnKTtcblxud2luZG93LmRyID0gbmV3IERhdGVSYW5nZSgpO1xuXG47KGZ1bmN0aW9uIChlbnYsIGZhY3RvcnkpIHtcbiAgaWYgKHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnICYmIG1vZHVsZS5leHBvcnRzKSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBlbnYuZG9jdW1lbnRcbiAgICAgICA/IGZhY3RvcnkoZW52KSA6IGZ1bmN0aW9uICh3aW4pIHtcbiAgICAgICAgIGlmICghd2luLmRvY3VtZW50KSB7XG4gICAgICAgICAgIHRocm93IG5ldyBFcnJvcignV2luZG93IHdpdGggZG9jdW1lbnQgbm90IHByZXNlbnQnKTtcbiAgICAgICAgIH1cbiAgICAgICAgIHJldHVybiBmYWN0b3J5KHdpbiwgdHJ1ZSk7XG4gICAgICAgfTtcbiAgfSBlbHNlIHtcbiAgICBlbnYuRGF0ZVJhbmdlQ2hvb3NlciA9IGZhY3RvcnkoZW52LCB0cnVlKTtcbiAgfVxufSkodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cgOiB0aGlzLCBmdW5jdGlvbiAoX3dpbmRvdywgd2luZG93RXhpc3RzKSB7XG4gIHZhciBGQyA9IF93aW5kb3cuRnVzaW9uQ2hhcnRzO1xuICBGQy5yZWdpc3RlcignZXh0ZW5zaW9uJywgWydwcml2YXRlJywgJ2RhdGUtcmFuZ2UtY2hvb3NlcicsIGZ1bmN0aW9uICgpIHtcbiAgICBGQy5yZWdpc3RlckNvbXBvbmVudCgnZXh0ZW5zaW9ucycsICdkYXRlLXJhbmdlLWNob29zZXInLCBEYXRlUmFuZ2Uoe0Z1c2lvbkNoYXJ0czogRkN9KSk7XG4gIH1dKTtcbn0pO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2luZGV4LmpzIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihtb2R1bGUpIHtcblx0aWYoIW1vZHVsZS53ZWJwYWNrUG9seWZpbGwpIHtcblx0XHRtb2R1bGUuZGVwcmVjYXRlID0gZnVuY3Rpb24oKSB7fTtcblx0XHRtb2R1bGUucGF0aHMgPSBbXTtcblx0XHQvLyBtb2R1bGUucGFyZW50ID0gdW5kZWZpbmVkIGJ5IGRlZmF1bHRcblx0XHRtb2R1bGUuY2hpbGRyZW4gPSBbXTtcblx0XHRtb2R1bGUud2VicGFja1BvbHlmaWxsID0gMTtcblx0fVxuXHRyZXR1cm4gbW9kdWxlO1xufVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gKHdlYnBhY2spL2J1aWxkaW4vbW9kdWxlLmpzXG4vLyBtb2R1bGUgaWQgPSAxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIid1c2Ugc3RyaWN0Jztcbi8qKlxuICogQ2xhc3MgcmVwcmVzZW50aW5nIHRoZSBEYXRlUmFuZ2UuXG4gKi9cblxudmFyIG1vbWVudCA9IHJlcXVpcmUoJ21vbWVudCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChkZXApIHtcbiAgY2xhc3MgRGF0ZVJhbmdlIHtcbiAgICBjb25zdHJ1Y3RvciAoKSB7XG4gICAgICAvKipcbiAgICAgICAqIEBwcml2YXRlXG4gICAgICAgKi9cblxuICAgICAgdGhpcy5zdGFydER0ID0gMDtcbiAgICAgIHRoaXMuZW5kRHQgPSAwO1xuICAgICAgdGhpcy5zdGFydERhdGFzZXQgPSAwO1xuICAgICAgdGhpcy5lbmREYXRhc2V0ID0gMDtcbiAgICAgIHRoaXMudG9vbGJveCA9IGRlcC5GdXNpb25DaGFydHMuZ2V0Q29tcG9uZW50KCdhcGknLCAndG9vbGJveCcpO1xuICAgICAgdGhpcy5Ib3Jpem9udGFsVG9vbGJhciA9IHRoaXMudG9vbGJveC5Ib3Jpem9udGFsVG9vbGJhcjtcbiAgICAgIHRoaXMuQ29tcG9uZW50R3JvdXAgPSB0aGlzLnRvb2xib3guQ29tcG9uZW50R3JvdXA7XG4gICAgICB0aGlzLlN5bWJvbFN0b3JlID0gdGhpcy50b29sYm94LlN5bWJvbFN0b3JlO1xuICAgICAgdGhpcy5zdGFydFRleHQgPSB7XG4gICAgICAgIGF0dHI6IGZ1bmN0aW9uICgpIHt9XG4gICAgICB9O1xuICAgICAgdGhpcy5lbmRUZXh0ID0ge1xuICAgICAgICBhdHRyOiBmdW5jdGlvbiAoKSB7fVxuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBbiBvYmplY3QgcmVwcmVzZW50aW5nIHRoZSBzdGFydCBhbmQgZW5kIGRhdGVzLlxuICAgICAqIEB0eXBlIHtEYXRlUmFuZ2UucmFuZ2V9XG4gICAgICovXG4gICAgZ2V0IHN0YXJ0RGF0ZSAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5zdGFydER0O1xuICAgIH1cblxuICAgIHNldCBzdGFydERhdGUgKHN0YXJ0RHQpIHtcbiAgICAgIGxldCBzdGFydFRpbWVzdGFtcCA9IHBhcnNlSW50KG1vbWVudChzdGFydER0LCAnREQtTU0tWVlZWScpLmZvcm1hdCgneCcpKSxcbiAgICAgICAgYWJzb2x1dGVTdGFydCA9IHRoaXMuZ2xvYmFsUmVhY3RpdmVNb2RlbC5tb2RlbFsneC1heGlzLWFic29sdXRlLXJhbmdlLXN0YXJ0J107XG4gICAgICBpZiAoc3RhcnRUaW1lc3RhbXAgPD0gdGhpcy5lbmREdCAmJiBzdGFydFRpbWVzdGFtcCA+PSBhYnNvbHV0ZVN0YXJ0KSB7XG4gICAgICAgIHRoaXMuc3RhcnREdCA9IHN0YXJ0VGltZXN0YW1wO1xuICAgICAgICB0aGlzLmdsb2JhbFJlYWN0aXZlTW9kZWwubW9kZWxbJ3gtYXhpcy12aXNpYmxlLXJhbmdlLXN0YXJ0J10gPSB0aGlzLnN0YXJ0RHQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyB0aGlzLmZyb21EYXRlLnVwZGF0ZVZpc3VhbCgnZXJyb3JlZCcpO1xuICAgICAgICBjb25zb2xlLmVycm9yKCdGcm9tIERhdGUgZXJyb3Igc3RhdGUhJyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZGF0ZUZvcm1hdHRlciAoZXBvY2gsIHNlcGFyYXRvcikge1xuICAgICAgZXBvY2ggPSBuZXcgRGF0ZShlcG9jaCk7XG4gICAgICB2YXIgZm9ybWF0dGVkRGF0ZSA9IFtlcG9jaC5nZXRVVENEYXRlKCksIChlcG9jaC5nZXRVVENNb250aCgpICsgMSksIGVwb2NoLmdldFVUQ0Z1bGxZZWFyKCldO1xuICAgICAgZm9ybWF0dGVkRGF0ZSA9IGZvcm1hdHRlZERhdGUuam9pbihzZXBhcmF0b3IpO1xuICAgICAgcmV0dXJuIGZvcm1hdHRlZERhdGU7XG4gICAgfVxuXG4gICAgZ2V0IGVuZERhdGUgKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZW5kRHQ7XG4gICAgfVxuXG4gICAgc2V0IGVuZERhdGUgKGVuZER0KSB7XG4gICAgICBsZXQgZW5kVGltZXN0YW1wID0gcGFyc2VJbnQobW9tZW50KGVuZER0LCAnREQtTU0tWVlZWScpLmZvcm1hdCgneCcpKSxcbiAgICAgICAgYWJzb2x1dGVFbmQgPSB0aGlzLmdsb2JhbFJlYWN0aXZlTW9kZWwubW9kZWxbJ3gtYXhpcy1hYnNvbHV0ZS1yYW5nZS1lbmQnXTtcbiAgICAgIGlmIChlbmRUaW1lc3RhbXAgPj0gdGhpcy5zdGFydER0ICYmIGVuZFRpbWVzdGFtcCA8PSBhYnNvbHV0ZUVuZCkge1xuICAgICAgICB0aGlzLmVuZER0ID0gZW5kVGltZXN0YW1wO1xuICAgICAgICB0aGlzLmdsb2JhbFJlYWN0aXZlTW9kZWwubW9kZWxbJ3gtYXhpcy12aXNpYmxlLXJhbmdlLWVuZCddID0gdGhpcy5lbmREdDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIHRoaXMudG9EYXRlLnVwZGF0ZVZpc3VhbCgnZXJyb3JlZCcpO1xuICAgICAgICBjb25zb2xlLmVycm9yKCdUbyBEYXRlIGVycm9yIHN0YXRlIScpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFN3YXBzIHRoZSBzdGFydCBkYXRlIGFuZCB0aGUgZW5kIGRhdGUgb2YgdGhlIGRhdGUgcmFuZ2VcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHN3YXBEYXRlcyAoKSB7XG4gICAgICBsZXQgdGVtcCA9IHRoaXMuZGF0ZVJhbmdlLnN0YXJ0RGF0ZTtcbiAgICAgIHRoaXMuZGF0ZVJhbmdlLnN0YXJ0RGF0ZSA9IHRoaXMuZGF0ZVJhbmdlLmVuZERhdGU7XG4gICAgICB0aGlzLmRhdGVSYW5nZS5lbmREYXRlID0gdGVtcDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTeW5jcyB0aGUgZGF0ZXJhbmdlIHNob3duIGJ5IHRoZSBGdXNpb25DaGFydHMgdGltZSBzZXJpZXMgY2hhcnQgYW5kIHRoZSBEYXRlIFJhbmdlIENob29zZXJcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHN5bmNSYW5nZSAoKSB7fVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIGZvcm1hdHRlZCBkYXRlIHN0cmluZyBmcm9tIEZ1c2lvbkNoYXJ0cyB3aGVuIGdpdmVuIGEgVU5JWCB0aW1lc3RhbXBcbiAgICAgKiBAcGFyYW0gIHtudW1iZXJ9IHRpbWVzdGFtcCAtIEEgVU5JWCB0aW1lc3RhbXAgdG8gYmUgY29udmVydGVkIHRvIGEgZGF0ZSBzdHJpbmdcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IC0gQSBkYXRlIHN0cmluZyB3aGljaCBpcyBlcXVpdmFsZW50IHRvIHRoZSBnaXZlbiB0aW1lc3RhbXBcbiAgICAgKi9cbiAgICBnZXRGb3JtYXR0ZWREYXRlICh0aW1lc3RhbXApIHtcbiAgICAgIHJldHVybiB0aGlzLmNoYXJ0LmdldEZvcm1hdHRlZERhdGUodGltZXN0YW1wKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgVU5JWCB0aW1lc3RhbXAgZnJvbSBGdXNpb25DaGFydHMgd2hlbiBnaXZlbiBhIGZvcm1hdHRlZCBkYXRlIHN0cmluZ1xuICAgICAqIEBwYXJhbSAge3N0cmluZ30gZGF0ZVN0cmluZyAtIEEgZGF0ZSBzdHJpbmcgdG8gYmUgY29udmVydGVkIHRvIGEgVU5JWCB0aW1lc3RhbXBcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IEEgVU5JWCB0aW1lc3RhbXAgd2hpY2ggaXMgZXF1aXZhbGVudCB0byB0aGUgZ2l2ZW4gZGF0ZSBzdHJpbmdcbiAgICAgKi9cbiAgICBnZXRUaW1lc3RhbXAgKGRhdGVTdHJpbmcpIHtcbiAgICAgIHJldHVybiB0aGlzLmNoYXJ0LmdldFRpbWVzdGFtcChkYXRlU3RyaW5nKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBjb25maWd1cmFibGUgb3B0aW9ucyBvZiB0aGUgZXh0ZW5zaW9uIChlLmcuIGNvc21ldGljcylcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gY29uZmlnT2JqIFRoZSBjb25maWd1cmF0aW9uIG9iamVjdCBjb250YWluaW5nIHZhcmlvdXMgZXh0ZW5zaW9uIG9wdGlvbnNcbiAgICAgKi9cbiAgICBzZXRDb25maWcgKGNvbmZpZ09iaikge31cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGNvbmZpZ3VyYWJsZSBvcHRpb25zIG9mIHRoZSBleHRlbnNpb24gKGUuZy4gY29zbWV0aWNzKVxuICAgICAqIEByZXR1cm4ge29iamVjdH0gY29uZmlnT2JqIFRoZSBjb25maWd1cmF0aW9uIG9iamVjdCBjb250YWluaW5nIHZhcmlvdXMgZXh0ZW5zaW9uIG9wdGlvbnNcbiAgICAgKi9cbiAgICBnZXRDb25maWcgKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgY2FsZW5kYXJWaXNpYmxlOiAnZmFsc2UnXG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZ1c2lvbmNoYXJ0cyBsaWZlIGN5Y2xlIG1ldGhvZCBmb3IgZXh0ZW5zaW9uXG4gICAgICovXG4gICAgaW5pdCAocmVxdWlyZSkge1xuICAgICAgdmFyIGluc3RhbmNlID0gdGhpcztcbiAgICAgIHJlcXVpcmUoW1xuICAgICAgICAneEF4aXMnLFxuICAgICAgICAneUF4aXMnLFxuICAgICAgICAnZ3JhcGhpY3MnLFxuICAgICAgICAnY2hhcnQnLFxuICAgICAgICAnZGF0YXNldCcsXG4gICAgICAgICdQbG90TWFuYWdlcicsXG4gICAgICAgICdjYW52YXNDb25maWcnLFxuICAgICAgICAnTWFya2VyTWFuYWdlcicsXG4gICAgICAgICdyZWFjdGl2ZU1vZGVsJyxcbiAgICAgICAgJ2dsb2JhbFJlYWN0aXZlTW9kZWwnLFxuICAgICAgICAnc3BhY2VNYW5hZ2VySW5zdGFuY2UnLFxuICAgICAgICAnZXh0RGF0YScsXG4gICAgICAgICdzbWFydExhYmVsJyxcbiAgICAgICAgZnVuY3Rpb24gKFxuICAgICAgICAgICAgICB4QXhpcyxcbiAgICAgICAgICAgICAgeUF4aXMsXG4gICAgICAgICAgICAgIGdyYXBoaWNzLFxuICAgICAgICAgICAgICBjaGFydCxcbiAgICAgICAgICAgICAgZGF0YXNldCxcbiAgICAgICAgICAgICAgcGxvdE1hbmFnZXIsXG4gICAgICAgICAgICAgIGNhbnZhc0NvbmZpZyxcbiAgICAgICAgICAgICAgbWFya2VyTWFuYWdlcixcbiAgICAgICAgICAgICAgcmVhY3RpdmVNb2RlbCxcbiAgICAgICAgICAgICAgZ2xvYmFsUmVhY3RpdmVNb2RlbCxcbiAgICAgICAgICAgICAgc3BhY2VNYW5hZ2VySW5zdGFuY2UsXG4gICAgICAgICAgICAgIGV4dERhdGEsXG4gICAgICAgICAgICAgIHNtYXJ0TGFiZWwpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhleHREYXRhKTtcbiAgICAgICAgICBpbnN0YW5jZS54QXhpcyA9IHhBeGlzO1xuICAgICAgICAgIGluc3RhbmNlLnlBeGlzID0geUF4aXM7XG4gICAgICAgICAgaW5zdGFuY2UuZ3JhcGhpY3MgPSBncmFwaGljcztcbiAgICAgICAgICBpbnN0YW5jZS5jaGFydCA9IGNoYXJ0O1xuICAgICAgICAgIGluc3RhbmNlLmRhdGFzZXQgPSBkYXRhc2V0O1xuICAgICAgICAgIGluc3RhbmNlLnBsb3RNYW5hZ2VyID0gcGxvdE1hbmFnZXI7XG4gICAgICAgICAgaW5zdGFuY2UubWFya2VyTWFuYWdlciA9IG1hcmtlck1hbmFnZXI7XG4gICAgICAgICAgaW5zdGFuY2UuY2FudmFzQ29uZmlnID0gY2FudmFzQ29uZmlnO1xuICAgICAgICAgIGluc3RhbmNlLnJlYWN0aXZlTW9kZWwgPSByZWFjdGl2ZU1vZGVsO1xuICAgICAgICAgIGluc3RhbmNlLmdsb2JhbFJlYWN0aXZlTW9kZWwgPSBnbG9iYWxSZWFjdGl2ZU1vZGVsO1xuICAgICAgICAgIGluc3RhbmNlLnNwYWNlTWFuYWdlckluc3RhbmNlID0gc3BhY2VNYW5hZ2VySW5zdGFuY2U7XG4gICAgICAgICAgaW5zdGFuY2Uuc21hcnRMYWJlbCA9IHNtYXJ0TGFiZWw7XG4gICAgICAgIH1cbiAgICAgIF0pO1xuICAgICAgdGhpcy5zcGFjZU1hbmFnZXJJbnN0YW5jZSA9IGluc3RhbmNlLnNwYWNlTWFuYWdlckluc3RhbmNlO1xuICAgICAgdGhpcy5nbG9iYWxSZWFjdGl2ZU1vZGVsID0gaW5zdGFuY2UuZ2xvYmFsUmVhY3RpdmVNb2RlbDtcbiAgICAgIHRoaXMuc3RhcnREdCA9IGluc3RhbmNlLmdsb2JhbFJlYWN0aXZlTW9kZWwubW9kZWxbJ3gtYXhpcy12aXNpYmxlLXJhbmdlLXN0YXJ0J107XG4gICAgICB0aGlzLmVuZER0ID0gaW5zdGFuY2UuZ2xvYmFsUmVhY3RpdmVNb2RlbC5tb2RlbFsneC1heGlzLXZpc2libGUtcmFuZ2UtZW5kJ107XG4gICAgICB0aGlzLnN0YXJ0RGF0YXNldCA9IGluc3RhbmNlLmdsb2JhbFJlYWN0aXZlTW9kZWwubW9kZWxbJ3gtYXhpcy1hYnNvbHV0ZS1yYW5nZS1zdGFydCddO1xuICAgICAgdGhpcy5lbmREYXRhc2V0ID0gaW5zdGFuY2UuZ2xvYmFsUmVhY3RpdmVNb2RlbC5tb2RlbFsneC1heGlzLWFic29sdXRlLXJhbmdlLWVuZCddO1xuICAgICAgdGhpcy50b29sYmFycyA9IFtdO1xuICAgICAgdGhpcy5tZWFzdXJlbWVudCA9IHt9O1xuICAgICAgdGhpcy50b29sYmFycy5wdXNoKHRoaXMuY3JlYXRlVG9vbGJhcigpKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICBjcmVhdGVUb29sYmFyICgpIHtcbiAgICAgIHZhciB0b29sYmFyLFxuICAgICAgICBzZWxmID0gdGhpcyxcbiAgICAgICAgZnJvbURhdGVMYWJlbCxcbiAgICAgICAgdG9EYXRlTGFiZWwsXG4gICAgICAgIGdyb3VwLFxuICAgICAgICBmcm9tRm9ybWF0dGVkRGF0ZSxcbiAgICAgICAgdG9Gb3JtYXR0ZWREYXRlO1xuXG4gICAgICBzZWxmLmZyb21EYXRlID0ge307XG4gICAgICBzZWxmLnRvRGF0ZSA9IHt9O1xuXG4gICAgICBmcm9tRm9ybWF0dGVkRGF0ZSA9IG1vbWVudCh0aGlzLnN0YXJ0RHQsICd4JykuZm9ybWF0KCdERC1NTS1ZWVlZJyk7XG5cbiAgICAgIHRvRm9ybWF0dGVkRGF0ZSA9IG1vbWVudCh0aGlzLmVuZER0LCAneCcpLmZvcm1hdCgnREQtTU0tWVlZWScpO1xuICAgICAgdG9vbGJhciA9IG5ldyB0aGlzLkhvcml6b250YWxUb29sYmFyKHtcbiAgICAgICAgcGFwZXI6IHRoaXMuZ3JhcGhpY3MucGFwZXIsXG4gICAgICAgIGNoYXJ0OiB0aGlzLmNoYXJ0LFxuICAgICAgICBzbWFydExhYmVsOiB0aGlzLnNtYXJ0TGFiZWwsXG4gICAgICAgIGNoYXJ0Q29udGFpbmVyOiB0aGlzLmdyYXBoaWNzLmNvbnRhaW5lclxuICAgICAgfSk7XG5cbiAgICAgIHRvb2xiYXIuc2V0Q29uZmlnKHtcbiAgICAgICAgJ2ZpbGwnOiAnI0ZGRkZGRicsXG4gICAgICAgICdib3JkZXJUaGlja25lc3MnOiAwXG4gICAgICB9KTtcblxuICAgICAgZ3JvdXAgPSBuZXcgdGhpcy50b29sYm94LkNvbXBvbmVudEdyb3VwKHtcbiAgICAgICAgcGFwZXI6IHRoaXMuZ3JhcGhpY3MucGFwZXIsXG4gICAgICAgIGNoYXJ0OiB0aGlzLmNoYXJ0LFxuICAgICAgICBzbWFydExhYmVsOiB0aGlzLnNtYXJ0TGFiZWwsXG4gICAgICAgIGNoYXJ0Q29udGFpbmVyOiB0aGlzLmdyYXBoaWNzLmNvbnRhaW5lclxuICAgICAgfSk7XG5cbiAgICAgIGdyb3VwLnNldENvbmZpZyh7XG4gICAgICAgICdmaWxsJzogJyNGRkZGRkYnLFxuICAgICAgICAnYm9yZGVyVGhpY2tuZXNzJzogMFxuICAgICAgfSk7XG5cbiAgICAgIGZyb21EYXRlTGFiZWwgPSBuZXcgdGhpcy50b29sYm94LkxhYmVsKFxuICAgICAgICAnRnJvbTonLCB7XG4gICAgICAgICAgc21hcnRMYWJlbDogdGhpcy5zbWFydExhYmVsLFxuICAgICAgICAgIHBhcGVyOiB0aGlzLmdyYXBoaWNzLnBhcGVyXG4gICAgICAgIH0sIHtcbiAgICAgICAgICB0ZXh0OiB7XG4gICAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgICAnZm9udC1zaXplJzogJzEzJyxcbiAgICAgICAgICAgICAgJ2ZvbnQtZmFtaWx5JzogJ1wiTHVjaWRhIEdyYW5kZVwiLCBzYW5zLXNlcmlmJyxcbiAgICAgICAgICAgICAgLy8gJ2ZvbnQtd2VpZ2h0JzogJ2JvbGQnLFxuICAgICAgICAgICAgICAnZmlsbCc6ICcjNEI0QjRCJ1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgKTtcblxuICAgICAgdG9EYXRlTGFiZWwgPSBuZXcgdGhpcy50b29sYm94LkxhYmVsKFxuICAgICAgICAnVG86Jywge1xuICAgICAgICAgIHNtYXJ0TGFiZWw6IHRoaXMuc21hcnRMYWJlbCxcbiAgICAgICAgICBwYXBlcjogdGhpcy5ncmFwaGljcy5wYXBlclxuICAgICAgICB9LCB7XG4gICAgICAgICAgdGV4dDoge1xuICAgICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgICAgJ2ZvbnQtc2l6ZSc6ICcxMycsXG4gICAgICAgICAgICAgICdmb250LWZhbWlseSc6ICdcIkx1Y2lkYSBHcmFuZGVcIiwgc2Fucy1zZXJpZicsXG4gICAgICAgICAgICAgIC8vICdmb250LXdlaWdodCc6ICdib2xkJyxcbiAgICAgICAgICAgICAgJ2ZpbGwnOiAnIzRCNEI0QidcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICk7XG5cbiAgICAgIHNlbGYuZnJvbURhdGUgPSBuZXcgdGhpcy50b29sYm94LklucHV0VGV4dEJveFN5bWJvbCh7XG4gICAgICAgIHdpZHRoOiAxMjAsXG4gICAgICAgIGhlaWdodDogMjJcbiAgICAgIH0sIHtcbiAgICAgICAgcGFwZXI6IHRoaXMuZ3JhcGhpY3MucGFwZXIsXG4gICAgICAgIGNoYXJ0OiB0aGlzLmNoYXJ0LFxuICAgICAgICBzbWFydExhYmVsOiB0aGlzLnNtYXJ0TGFiZWwsXG4gICAgICAgIGNoYXJ0Q29udGFpbmVyOiB0aGlzLmdyYXBoaWNzLmNvbnRhaW5lclxuICAgICAgfSwge1xuICAgICAgICAnc3Ryb2tlV2lkdGgnOiAxLFxuICAgICAgICAnc3Ryb2tlJzogJyNjZWQ1ZDQnLFxuICAgICAgICAnc3ltYm9sU3Ryb2tlV2lkdGgnOiAwLFxuICAgICAgICAncmFkaXVzJzogMixcbiAgICAgICAgJ21hcmdpbic6IHtcbiAgICAgICAgICAncmlnaHQnOiAyMlxuICAgICAgICB9LFxuICAgICAgICAnYnRuVGV4dFN0eWxlJzoge1xuICAgICAgICAgICdmb250LWZhbWlseSc6ICdcIkx1Y2lkYSBHcmFuZGVcIiwgc2Fucy1zZXJpZicsXG4gICAgICAgICAgJ2ZvbnRTaXplJzogMTNcbiAgICAgICAgfSxcbiAgICAgICAgJ2xhYmVsJzogZnJvbUZvcm1hdHRlZERhdGUsXG4gICAgICAgIC8vICdjdXN0b21Db25maWcnOiB7XG4gICAgICAgIC8vICAgJ2Vycm9yZWQnOiB7XG4gICAgICAgIC8vICAgICAnaG92ZXInOiB7XG4gICAgICAgIC8vICAgICAgICdmaWxsJzogJyNGRkVGRUYnLFxuICAgICAgICAvLyAgICAgICAnc3Ryb2tlLXdpZHRoJzogMSxcbiAgICAgICAgLy8gICAgICAgJ3N0cm9rZSc6ICcjRDI1MzUzJ1xuICAgICAgICAvLyAgICAgfSxcbiAgICAgICAgLy8gICAgICdub3JtYWwnOiB7XG4gICAgICAgIC8vICAgICAgICdmaWxsJzogJyNGRkVGRUYnLFxuICAgICAgICAvLyAgICAgICAnc3Ryb2tlLXdpZHRoJzogMSxcbiAgICAgICAgLy8gICAgICAgJ3N0cm9rZSc6ICcjRDI1MzUzJ1xuICAgICAgICAvLyAgICAgfSxcbiAgICAgICAgLy8gICAgICdwcmVzc2VkJzoge1xuICAgICAgICAvLyAgICAgICAnZmlsbCc6ICcjRkZFRkVGJyxcbiAgICAgICAgLy8gICAgICAgJ3N0cm9rZS13aWR0aCc6IDEsXG4gICAgICAgIC8vICAgICAgICdzdHJva2UnOiAnI0QyNTM1MydcbiAgICAgICAgLy8gICAgIH1cbiAgICAgICAgLy8gICB9XG4gICAgICAgIC8vIH0sXG4gICAgICAgICdsYWJlbEZpbGwnOiAnIzY5Njk2OSdcbiAgICAgIH0pO1xuXG4gICAgICBzZWxmLmZyb21EYXRlLnNldFN0YXRlQ29uZmlnKHtcbiAgICAgICAgcHJlc3NlZDoge1xuICAgICAgICAgIGNvbmZpZzoge1xuICAgICAgICAgICAgcHJlc3NlZDoge1xuICAgICAgICAgICAgICAnZmlsbCc6ICcjRkZGRkZGJyxcbiAgICAgICAgICAgICAgJ3N0cm9rZS13aWR0aCc6IDEsXG4gICAgICAgICAgICAgICdzdHJva2UnOiAnIzFFMUYxRidcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBub3JtYWw6IHtcbiAgICAgICAgICAgICAgJ2ZpbGwnOiAnI0ZGRkZGRicsXG4gICAgICAgICAgICAgICdzdHJva2Utd2lkdGgnOiAxLFxuICAgICAgICAgICAgICAnc3Ryb2tlJzogJyMxRTFGMUYnXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaG92ZXI6IHtcbiAgICAgICAgICAgICAgJ2ZpbGwnOiAnI0ZGRkZGRicsXG4gICAgICAgICAgICAgICdzdHJva2Utd2lkdGgnOiAxLFxuICAgICAgICAgICAgICAvLyAnc3Ryb2tlJzogJyMxRTFGMUYnXG4gICAgICAgICAgICAgICdzdHJva2UnOiAnIzAwMDBGRidcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBzZWxmLnRvRGF0ZSA9IG5ldyB0aGlzLnRvb2xib3guSW5wdXRUZXh0Qm94U3ltYm9sKHtcbiAgICAgICAgd2lkdGg6IDEyMCxcbiAgICAgICAgaGVpZ2h0OiAyMlxuICAgICAgfSwge1xuICAgICAgICBwYXBlcjogdGhpcy5ncmFwaGljcy5wYXBlcixcbiAgICAgICAgY2hhcnQ6IHRoaXMuY2hhcnQsXG4gICAgICAgIHNtYXJ0TGFiZWw6IHRoaXMuc21hcnRMYWJlbCxcbiAgICAgICAgY2hhcnRDb250YWluZXI6IHRoaXMuZ3JhcGhpY3MuY29udGFpbmVyXG4gICAgICB9LCB7XG4gICAgICAgICdzdHJva2VXaWR0aCc6IDEsXG4gICAgICAgICdzdHJva2UnOiAnI2NlZDVkNCcsXG4gICAgICAgICdzeW1ib2xTdHJva2VXaWR0aCc6IDAsXG4gICAgICAgICdyYWRpdXMnOiAyLFxuICAgICAgICAnYnRuVGV4dFN0eWxlJzoge1xuICAgICAgICAgICdmb250LWZhbWlseSc6ICdcIkx1Y2lkYSBHcmFuZGVcIiwgc2Fucy1zZXJpZicsXG4gICAgICAgICAgJ2ZvbnRTaXplJzogMTNcbiAgICAgICAgfSxcbiAgICAgICAgJ2xhYmVsJzogdG9Gb3JtYXR0ZWREYXRlLFxuICAgICAgICAvLyAnY3VzdG9tQ29uZmlnJzoge1xuICAgICAgICAvLyAgICdlcnJvcmVkJzoge1xuICAgICAgICAvLyAgICAgJ2hvdmVyJzoge1xuICAgICAgICAvLyAgICAgICAnZmlsbCc6ICcjRkZFRkVGJyxcbiAgICAgICAgLy8gICAgICAgJ3N0cm9rZS13aWR0aCc6IDEsXG4gICAgICAgIC8vICAgICAgICdzdHJva2UnOiAnI0QyNTM1MydcbiAgICAgICAgLy8gICAgIH0sXG4gICAgICAgIC8vICAgICAnbm9ybWFsJzoge1xuICAgICAgICAvLyAgICAgICAnZmlsbCc6ICcjRkZFRkVGJyxcbiAgICAgICAgLy8gICAgICAgJ3N0cm9rZS13aWR0aCc6IDEsXG4gICAgICAgIC8vICAgICAgICdzdHJva2UnOiAnI0QyNTM1MydcbiAgICAgICAgLy8gICAgIH0sXG4gICAgICAgIC8vICAgICAncHJlc3NlZCc6IHtcbiAgICAgICAgLy8gICAgICAgJ2ZpbGwnOiAnI0ZGRUZFRicsXG4gICAgICAgIC8vICAgICAgICdzdHJva2Utd2lkdGgnOiAxLFxuICAgICAgICAvLyAgICAgICAnc3Ryb2tlJzogJyNEMjUzNTMnXG4gICAgICAgIC8vICAgICB9XG4gICAgICAgIC8vICAgfVxuICAgICAgICAvLyB9LFxuICAgICAgICAnbGFiZWxGaWxsJzogJyM2OTY5NjknXG4gICAgICB9KTtcblxuICAgICAgc2VsZi50b0RhdGUuc2V0U3RhdGVDb25maWcoe1xuICAgICAgICBwcmVzc2VkOiB7XG4gICAgICAgICAgY29uZmlnOiB7XG4gICAgICAgICAgICBwcmVzc2VkOiB7XG4gICAgICAgICAgICAgICdmaWxsJzogJyNGRkZGRkYnLFxuICAgICAgICAgICAgICAnc3Ryb2tlLXdpZHRoJzogMSxcbiAgICAgICAgICAgICAgJ3N0cm9rZSc6ICcjMUUxRjFGJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG5vcm1hbDoge1xuICAgICAgICAgICAgICAnZmlsbCc6ICcjRkZGRkZGJyxcbiAgICAgICAgICAgICAgJ3N0cm9rZS13aWR0aCc6IDEsXG4gICAgICAgICAgICAgICdzdHJva2UnOiAnIzFFMUYxRidcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBob3Zlcjoge1xuICAgICAgICAgICAgICAnZmlsbCc6ICcjRkZGRkZGJyxcbiAgICAgICAgICAgICAgJ3N0cm9rZS13aWR0aCc6IDEsXG4gICAgICAgICAgICAgICdzdHJva2UnOiAnIzFFMUYxRidcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBzZWxmLmZyb21EYXRlLmF0dGFjaEV2ZW50SGFuZGxlcnMoe1xuICAgICAgICBjbGljazoge1xuICAgICAgICAgIGZuOiAoKSA9PiB7XG4gICAgICAgICAgICBzZWxmLmZyb21EYXRlLmVkaXQoKTtcbiAgICAgICAgICAgIHNlbGYuZnJvbURhdGUudXBkYXRlVmlzdWFsKCdwcmVzc2VkJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICB0ZXh0T25CbHVyOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgc2VsZi5mcm9tRGF0ZS5ibHVyKCk7XG4gICAgICAgICAgc2VsZi5zdGFydERhdGUgPSBzZWxmLmZyb21EYXRlLmdldFRleHQoKTtcbiAgICAgICAgICBzZWxmLmZyb21EYXRlLnVwZGF0ZVZpc3VhbCgnZW5hYmxlZCcpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgc2VsZi50b0RhdGUuYXR0YWNoRXZlbnRIYW5kbGVycyh7XG4gICAgICAgIGNsaWNrOiB7XG4gICAgICAgICAgZm46ICgpID0+IHtcbiAgICAgICAgICAgIHNlbGYudG9EYXRlLmVkaXQoKTtcbiAgICAgICAgICAgIHNlbGYudG9EYXRlLnVwZGF0ZVZpc3VhbCgncHJlc3NlZCcpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgdGV4dE9uQmx1cjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHNlbGYudG9EYXRlLmJsdXIoKTtcbiAgICAgICAgICBzZWxmLmVuZERhdGUgPSBzZWxmLnRvRGF0ZS5nZXRUZXh0KCk7XG4gICAgICAgICAgc2VsZi50b0RhdGUudXBkYXRlVmlzdWFsKCdlbmFibGVkJyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICAvLyBUZW1wb3JhcnkuIFJlcXVpcmVkIHRvIHJlbmRlciB0aGUgdGV4dCBib3ggY29ycmVjdGx5LiBDb21tZW50aW5nIHRoaXMgb3V0IGRpc3RvcnRzIHRvb2xib3guXG4gICAgICB0aGlzLlN5bWJvbFN0b3JlLnJlZ2lzdGVyKCd0ZXh0Qm94SWNvbicsIGZ1bmN0aW9uICh4LCB5LCByYWQsIHcsIGgsIHBhZFgsIHBhZFkpIHtcbiAgICAgICAgdmFyIHgxID0geCAtIHcgLyAyICsgcGFkWCAvIDIsXG4gICAgICAgICAgeDIgPSB4ICsgdyAvIDIgLSBwYWRYIC8gMixcbiAgICAgICAgICB5MSA9IHkgLSBoIC8gMiArIHBhZFkgLyAyLFxuICAgICAgICAgIHkyID0geSArIGggLyAyIC0gcGFkWSAvIDI7XG5cbiAgICAgICAgcmV0dXJuIFsnTScsIHgxLCB5MSwgJ0wnLCB4MiwgeTEsICdMJywgeDIsIHkyLCAnTCcsIHgxLCB5MiwgJ1onXTtcbiAgICAgIH0pO1xuXG4gICAgICBncm91cC5hZGRTeW1ib2woZnJvbURhdGVMYWJlbCk7XG4gICAgICBncm91cC5hZGRTeW1ib2woc2VsZi5mcm9tRGF0ZSk7XG4gICAgICBncm91cC5hZGRTeW1ib2wodG9EYXRlTGFiZWwpO1xuICAgICAgZ3JvdXAuYWRkU3ltYm9sKHNlbGYudG9EYXRlKTtcbiAgICAgIHRvb2xiYXIuYWRkQ29tcG9uZW50KGdyb3VwKTtcbiAgICAgIHJldHVybiB0b29sYmFyO1xuICAgIH07XG5cbiAgICBnZXRMb2dpY2FsU3BhY2UgKGF2YWlsYWJsZVdpZHRoLCBhdmFpbGFibGVIZWlnaHQpIHtcbiAgICAgIHZhciBsb2dpY2FsU3BhY2UsXG4gICAgICAgIHdpZHRoID0gMCxcbiAgICAgICAgaGVpZ2h0ID0gMCxcbiAgICAgICAgaSxcbiAgICAgICAgbG47XG5cbiAgICAgIGF2YWlsYWJsZVdpZHRoIC89IDI7XG5cbiAgICAgIGZvciAoaSA9IDAsIGxuID0gdGhpcy50b29sYmFycy5sZW5ndGg7IGkgPCBsbjsgaSsrKSB7XG4gICAgICAgIGxvZ2ljYWxTcGFjZSA9IHRoaXMudG9vbGJhcnNbaV0uZ2V0TG9naWNhbFNwYWNlKGF2YWlsYWJsZVdpZHRoLCBhdmFpbGFibGVIZWlnaHQpO1xuICAgICAgICB3aWR0aCA9IE1hdGgubWF4KGxvZ2ljYWxTcGFjZS53aWR0aCwgd2lkdGgpO1xuICAgICAgICBoZWlnaHQgKz0gbG9naWNhbFNwYWNlLmhlaWdodDtcbiAgICAgICAgdGhpcy50b29sYmFyc1tpXS53aWR0aCA9IGxvZ2ljYWxTcGFjZS53aWR0aDtcbiAgICAgICAgdGhpcy50b29sYmFyc1tpXS5oZWlnaHQgPSBsb2dpY2FsU3BhY2UuaGVpZ2h0O1xuICAgICAgfVxuICAgICAgaGVpZ2h0ICs9IHRoaXMucGFkZGluZztcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHdpZHRoOiB3aWR0aCxcbiAgICAgICAgaGVpZ2h0OiBoZWlnaHRcbiAgICAgIH07XG4gICAgfTtcblxuICAgIHBsYWNlSW5DYW52YXMgKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgc2VsZi5wYWRkaW5nID0gNTtcbiAgICAgIHNlbGYuc3BhY2VNYW5hZ2VySW5zdGFuY2UuYWRkKFt7XG4gICAgICAgIG5hbWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gJ0RhdGVSYW5nZUNob29zZXJUb29sYm94JztcbiAgICAgICAgfSxcbiAgICAgICAgcmVmOiBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgICAgcmV0dXJuIG9ialsnMCddO1xuICAgICAgICB9LFxuICAgICAgICBzZWxmOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgICAgIH0sXG4gICAgICAgIHByaW9yaXR5OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIDI7XG4gICAgICAgIH0sXG4gICAgICAgIGxheW91dDogZnVuY3Rpb24gKG9iaikge1xuICAgICAgICAgIHJldHVybiBvYmouaW5saW5lO1xuICAgICAgICB9LFxuICAgICAgICBvcmllbnRhdGlvbjogW3tcbiAgICAgICAgICB0eXBlOiBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgICAgICByZXR1cm4gb2JqLmhvcml6b250YWw7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBwb3NpdGlvbjogW3tcbiAgICAgICAgICAgIHR5cGU6IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgICAgICAgcmV0dXJuIG9iai50b3A7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYWxpZ25tZW50OiBbe1xuICAgICAgICAgICAgICB0eXBlOiBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9iai5yaWdodDtcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgZGltZW5zaW9uczogW2Z1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgcGFyZW50ID0gdGhpcy5nZXRQYXJlbnRDb21wb25lbnRHcm91cCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBzZWxmLmdldExvZ2ljYWxTcGFjZShwYXJlbnQuZ2V0V2lkdGgoKSwgcGFyZW50LmdldEhlaWdodCgpKTtcbiAgICAgICAgICAgICAgfV1cbiAgICAgICAgICAgIH1dXG4gICAgICAgICAgfV1cbiAgICAgICAgfV1cbiAgICAgIH1dKTtcbiAgICB9O1xuXG4gICAgc2V0RHJhd2luZ0NvbmZpZ3VyYXRpb24gKHgsIHksIHdpZHRoLCBoZWlnaHQsIGdyb3VwKSB7XG4gICAgICB2YXIgbWVzID0gdGhpcy5tZWFzdXJlbWVudDtcbiAgICAgIG1lcy54ID0geDtcbiAgICAgIG1lcy55ID0geTtcbiAgICAgIG1lcy53aWR0aCA9IHdpZHRoO1xuICAgICAgbWVzLmhlaWdodCA9IGhlaWdodDtcblxuICAgICAgdGhpcy5wYXJlbnRHcm91cCA9IGdyb3VwO1xuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgZHJhdyAoeCwgeSwgd2lkdGgsIGhlaWdodCwgZ3JvdXApIHtcbiAgICAgIHZhciBtZWFzdXJlbWVudCA9IHRoaXMubWVhc3VyZW1lbnQsXG4gICAgICAgIHRvb2xiYXJzID0gdGhpcy50b29sYmFycyxcbiAgICAgICAgbG4sXG4gICAgICAgIGksXG4gICAgICAgIHRvb2xiYXIsXG4gICAgICAgIG1vZGVsID0gdGhpcy5nbG9iYWxSZWFjdGl2ZU1vZGVsLFxuICAgICAgICBzZWxmID0gdGhpcztcblxuICAgICAgeCA9IHggPT09IHVuZGVmaW5lZCA/IG1lYXN1cmVtZW50LnggOiB4O1xuICAgICAgeSA9IHkgPT09IHVuZGVmaW5lZCA/IG1lYXN1cmVtZW50LnkgOiB5O1xuICAgICAgd2lkdGggPSB3aWR0aCA9PT0gdW5kZWZpbmVkID8gbWVhc3VyZW1lbnQud2lkdGggOiB3aWR0aDtcbiAgICAgIGhlaWdodCA9IGhlaWdodCA9PT0gdW5kZWZpbmVkID8gbWVhc3VyZW1lbnQuaGVpZ2h0IDogaGVpZ2h0O1xuICAgICAgZ3JvdXAgPSBncm91cCA9PT0gdW5kZWZpbmVkID8gdGhpcy5wYXJlbnRHcm91cCA6IGdyb3VwO1xuICAgICAgaWYgKHdpZHRoICYmIGhlaWdodCkge1xuICAgICAgICBmb3IgKGkgPSAwLCBsbiA9IHRvb2xiYXJzLmxlbmd0aDsgaSA8IGxuOyBpKyspIHtcbiAgICAgICAgICB0b29sYmFyID0gdG9vbGJhcnNbaV07XG4gICAgICAgICAgdG9vbGJhci5kcmF3KHgsIHksIGdyb3VwKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBtb2RlbC5vblByb3BzQ2hhbmdlKFsneC1heGlzLXZpc2libGUtcmFuZ2Utc3RhcnQnLCAneC1heGlzLXZpc2libGUtcmFuZ2UtZW5kJ10sXG4gICAgICAgIGZ1bmN0aW9uIChzdGFydCwgZW5kKSB7XG4gICAgICAgICAgLy8gc2VsZi5mcm9tRGF0ZS5ibHVyKG5ldyBEYXRlKHN0YXJ0WzFdKS50b0xvY2FsZURhdGVTdHJpbmcoKSk7XG4gICAgICAgICAgLy8gc2VsZi50b0RhdGUuYmx1cihuZXcgRGF0ZShlbmRbMV0pLnRvTG9jYWxlRGF0ZVN0cmluZygpKTtcbiAgICAgICAgICBzZWxmLmZyb21EYXRlLmJsdXIobW9tZW50KHN0YXJ0WzFdLCAneCcpLmZvcm1hdCgnREQtTU0tWVlZWScpKTtcbiAgICAgICAgICBzZWxmLnRvRGF0ZS5ibHVyKG1vbWVudChlbmRbMV0sICd4JykuZm9ybWF0KCdERC1NTS1ZWVlZJykpO1xuICAgICAgICB9XG4gICAgICApO1xuICAgIH07XG4gIH1cbiAgcmV0dXJuIERhdGVSYW5nZTtcbn07XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvZmN0cy1leHQtZGF0ZXJhbmdlLmpzIiwiLy8hIG1vbWVudC5qc1xuLy8hIHZlcnNpb24gOiAyLjE3LjBcbi8vISBhdXRob3JzIDogVGltIFdvb2QsIElza3JlbiBDaGVybmV2LCBNb21lbnQuanMgY29udHJpYnV0b3JzXG4vLyEgbGljZW5zZSA6IE1JVFxuLy8hIG1vbWVudGpzLmNvbVxuXG47KGZ1bmN0aW9uIChnbG9iYWwsIGZhY3RvcnkpIHtcbiAgICB0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgPyBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKSA6XG4gICAgdHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kID8gZGVmaW5lKGZhY3RvcnkpIDpcbiAgICBnbG9iYWwubW9tZW50ID0gZmFjdG9yeSgpXG59KHRoaXMsIChmdW5jdGlvbiAoKSB7ICd1c2Ugc3RyaWN0JztcblxudmFyIGhvb2tDYWxsYmFjaztcblxuZnVuY3Rpb24gaG9va3MgKCkge1xuICAgIHJldHVybiBob29rQ2FsbGJhY2suYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbn1cblxuLy8gVGhpcyBpcyBkb25lIHRvIHJlZ2lzdGVyIHRoZSBtZXRob2QgY2FsbGVkIHdpdGggbW9tZW50KClcbi8vIHdpdGhvdXQgY3JlYXRpbmcgY2lyY3VsYXIgZGVwZW5kZW5jaWVzLlxuZnVuY3Rpb24gc2V0SG9va0NhbGxiYWNrIChjYWxsYmFjaykge1xuICAgIGhvb2tDYWxsYmFjayA9IGNhbGxiYWNrO1xufVxuXG5mdW5jdGlvbiBpc0FycmF5KGlucHV0KSB7XG4gICAgcmV0dXJuIGlucHV0IGluc3RhbmNlb2YgQXJyYXkgfHwgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGlucHV0KSA9PT0gJ1tvYmplY3QgQXJyYXldJztcbn1cblxuZnVuY3Rpb24gaXNPYmplY3QoaW5wdXQpIHtcbiAgICAvLyBJRTggd2lsbCB0cmVhdCB1bmRlZmluZWQgYW5kIG51bGwgYXMgb2JqZWN0IGlmIGl0IHdhc24ndCBmb3JcbiAgICAvLyBpbnB1dCAhPSBudWxsXG4gICAgcmV0dXJuIGlucHV0ICE9IG51bGwgJiYgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGlucHV0KSA9PT0gJ1tvYmplY3QgT2JqZWN0XSc7XG59XG5cbmZ1bmN0aW9uIGlzT2JqZWN0RW1wdHkob2JqKSB7XG4gICAgdmFyIGs7XG4gICAgZm9yIChrIGluIG9iaikge1xuICAgICAgICAvLyBldmVuIGlmIGl0cyBub3Qgb3duIHByb3BlcnR5IEknZCBzdGlsbCBjYWxsIGl0IG5vbi1lbXB0eVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiBpc051bWJlcihpbnB1dCkge1xuICAgIHJldHVybiB0eXBlb2YgaW5wdXQgPT09ICdudW1iZXInIHx8IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChpbnB1dCkgPT09ICdbb2JqZWN0IE51bWJlcl0nO1xufVxuXG5mdW5jdGlvbiBpc0RhdGUoaW5wdXQpIHtcbiAgICByZXR1cm4gaW5wdXQgaW5zdGFuY2VvZiBEYXRlIHx8IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChpbnB1dCkgPT09ICdbb2JqZWN0IERhdGVdJztcbn1cblxuZnVuY3Rpb24gbWFwKGFyciwgZm4pIHtcbiAgICB2YXIgcmVzID0gW10sIGk7XG4gICAgZm9yIChpID0gMDsgaSA8IGFyci5sZW5ndGg7ICsraSkge1xuICAgICAgICByZXMucHVzaChmbihhcnJbaV0sIGkpKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbn1cblxuZnVuY3Rpb24gaGFzT3duUHJvcChhLCBiKSB7XG4gICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChhLCBiKTtcbn1cblxuZnVuY3Rpb24gZXh0ZW5kKGEsIGIpIHtcbiAgICBmb3IgKHZhciBpIGluIGIpIHtcbiAgICAgICAgaWYgKGhhc093blByb3AoYiwgaSkpIHtcbiAgICAgICAgICAgIGFbaV0gPSBiW2ldO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGhhc093blByb3AoYiwgJ3RvU3RyaW5nJykpIHtcbiAgICAgICAgYS50b1N0cmluZyA9IGIudG9TdHJpbmc7XG4gICAgfVxuXG4gICAgaWYgKGhhc093blByb3AoYiwgJ3ZhbHVlT2YnKSkge1xuICAgICAgICBhLnZhbHVlT2YgPSBiLnZhbHVlT2Y7XG4gICAgfVxuXG4gICAgcmV0dXJuIGE7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVVUQyAoaW5wdXQsIGZvcm1hdCwgbG9jYWxlLCBzdHJpY3QpIHtcbiAgICByZXR1cm4gY3JlYXRlTG9jYWxPclVUQyhpbnB1dCwgZm9ybWF0LCBsb2NhbGUsIHN0cmljdCwgdHJ1ZSkudXRjKCk7XG59XG5cbmZ1bmN0aW9uIGRlZmF1bHRQYXJzaW5nRmxhZ3MoKSB7XG4gICAgLy8gV2UgbmVlZCB0byBkZWVwIGNsb25lIHRoaXMgb2JqZWN0LlxuICAgIHJldHVybiB7XG4gICAgICAgIGVtcHR5ICAgICAgICAgICA6IGZhbHNlLFxuICAgICAgICB1bnVzZWRUb2tlbnMgICAgOiBbXSxcbiAgICAgICAgdW51c2VkSW5wdXQgICAgIDogW10sXG4gICAgICAgIG92ZXJmbG93ICAgICAgICA6IC0yLFxuICAgICAgICBjaGFyc0xlZnRPdmVyICAgOiAwLFxuICAgICAgICBudWxsSW5wdXQgICAgICAgOiBmYWxzZSxcbiAgICAgICAgaW52YWxpZE1vbnRoICAgIDogbnVsbCxcbiAgICAgICAgaW52YWxpZEZvcm1hdCAgIDogZmFsc2UsXG4gICAgICAgIHVzZXJJbnZhbGlkYXRlZCA6IGZhbHNlLFxuICAgICAgICBpc28gICAgICAgICAgICAgOiBmYWxzZSxcbiAgICAgICAgcGFyc2VkRGF0ZVBhcnRzIDogW10sXG4gICAgICAgIG1lcmlkaWVtICAgICAgICA6IG51bGxcbiAgICB9O1xufVxuXG5mdW5jdGlvbiBnZXRQYXJzaW5nRmxhZ3MobSkge1xuICAgIGlmIChtLl9wZiA9PSBudWxsKSB7XG4gICAgICAgIG0uX3BmID0gZGVmYXVsdFBhcnNpbmdGbGFncygpO1xuICAgIH1cbiAgICByZXR1cm4gbS5fcGY7XG59XG5cbnZhciBzb21lO1xuaWYgKEFycmF5LnByb3RvdHlwZS5zb21lKSB7XG4gICAgc29tZSA9IEFycmF5LnByb3RvdHlwZS5zb21lO1xufSBlbHNlIHtcbiAgICBzb21lID0gZnVuY3Rpb24gKGZ1bikge1xuICAgICAgICB2YXIgdCA9IE9iamVjdCh0aGlzKTtcbiAgICAgICAgdmFyIGxlbiA9IHQubGVuZ3RoID4+PiAwO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChpIGluIHQgJiYgZnVuLmNhbGwodGhpcywgdFtpXSwgaSwgdCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xufVxuXG52YXIgc29tZSQxID0gc29tZTtcblxuZnVuY3Rpb24gaXNWYWxpZChtKSB7XG4gICAgaWYgKG0uX2lzVmFsaWQgPT0gbnVsbCkge1xuICAgICAgICB2YXIgZmxhZ3MgPSBnZXRQYXJzaW5nRmxhZ3MobSk7XG4gICAgICAgIHZhciBwYXJzZWRQYXJ0cyA9IHNvbWUkMS5jYWxsKGZsYWdzLnBhcnNlZERhdGVQYXJ0cywgZnVuY3Rpb24gKGkpIHtcbiAgICAgICAgICAgIHJldHVybiBpICE9IG51bGw7XG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgaXNOb3dWYWxpZCA9ICFpc05hTihtLl9kLmdldFRpbWUoKSkgJiZcbiAgICAgICAgICAgIGZsYWdzLm92ZXJmbG93IDwgMCAmJlxuICAgICAgICAgICAgIWZsYWdzLmVtcHR5ICYmXG4gICAgICAgICAgICAhZmxhZ3MuaW52YWxpZE1vbnRoICYmXG4gICAgICAgICAgICAhZmxhZ3MuaW52YWxpZFdlZWtkYXkgJiZcbiAgICAgICAgICAgICFmbGFncy5udWxsSW5wdXQgJiZcbiAgICAgICAgICAgICFmbGFncy5pbnZhbGlkRm9ybWF0ICYmXG4gICAgICAgICAgICAhZmxhZ3MudXNlckludmFsaWRhdGVkICYmXG4gICAgICAgICAgICAoIWZsYWdzLm1lcmlkaWVtIHx8IChmbGFncy5tZXJpZGllbSAmJiBwYXJzZWRQYXJ0cykpO1xuXG4gICAgICAgIGlmIChtLl9zdHJpY3QpIHtcbiAgICAgICAgICAgIGlzTm93VmFsaWQgPSBpc05vd1ZhbGlkICYmXG4gICAgICAgICAgICAgICAgZmxhZ3MuY2hhcnNMZWZ0T3ZlciA9PT0gMCAmJlxuICAgICAgICAgICAgICAgIGZsYWdzLnVudXNlZFRva2Vucy5sZW5ndGggPT09IDAgJiZcbiAgICAgICAgICAgICAgICBmbGFncy5iaWdIb3VyID09PSB1bmRlZmluZWQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoT2JqZWN0LmlzRnJvemVuID09IG51bGwgfHwgIU9iamVjdC5pc0Zyb3plbihtKSkge1xuICAgICAgICAgICAgbS5faXNWYWxpZCA9IGlzTm93VmFsaWQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gaXNOb3dWYWxpZDtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbS5faXNWYWxpZDtcbn1cblxuZnVuY3Rpb24gY3JlYXRlSW52YWxpZCAoZmxhZ3MpIHtcbiAgICB2YXIgbSA9IGNyZWF0ZVVUQyhOYU4pO1xuICAgIGlmIChmbGFncyAhPSBudWxsKSB7XG4gICAgICAgIGV4dGVuZChnZXRQYXJzaW5nRmxhZ3MobSksIGZsYWdzKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGdldFBhcnNpbmdGbGFncyhtKS51c2VySW52YWxpZGF0ZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBtO1xufVxuXG5mdW5jdGlvbiBpc1VuZGVmaW5lZChpbnB1dCkge1xuICAgIHJldHVybiBpbnB1dCA9PT0gdm9pZCAwO1xufVxuXG4vLyBQbHVnaW5zIHRoYXQgYWRkIHByb3BlcnRpZXMgc2hvdWxkIGFsc28gYWRkIHRoZSBrZXkgaGVyZSAobnVsbCB2YWx1ZSksXG4vLyBzbyB3ZSBjYW4gcHJvcGVybHkgY2xvbmUgb3Vyc2VsdmVzLlxudmFyIG1vbWVudFByb3BlcnRpZXMgPSBob29rcy5tb21lbnRQcm9wZXJ0aWVzID0gW107XG5cbmZ1bmN0aW9uIGNvcHlDb25maWcodG8sIGZyb20pIHtcbiAgICB2YXIgaSwgcHJvcCwgdmFsO1xuXG4gICAgaWYgKCFpc1VuZGVmaW5lZChmcm9tLl9pc0FNb21lbnRPYmplY3QpKSB7XG4gICAgICAgIHRvLl9pc0FNb21lbnRPYmplY3QgPSBmcm9tLl9pc0FNb21lbnRPYmplY3Q7XG4gICAgfVxuICAgIGlmICghaXNVbmRlZmluZWQoZnJvbS5faSkpIHtcbiAgICAgICAgdG8uX2kgPSBmcm9tLl9pO1xuICAgIH1cbiAgICBpZiAoIWlzVW5kZWZpbmVkKGZyb20uX2YpKSB7XG4gICAgICAgIHRvLl9mID0gZnJvbS5fZjtcbiAgICB9XG4gICAgaWYgKCFpc1VuZGVmaW5lZChmcm9tLl9sKSkge1xuICAgICAgICB0by5fbCA9IGZyb20uX2w7XG4gICAgfVxuICAgIGlmICghaXNVbmRlZmluZWQoZnJvbS5fc3RyaWN0KSkge1xuICAgICAgICB0by5fc3RyaWN0ID0gZnJvbS5fc3RyaWN0O1xuICAgIH1cbiAgICBpZiAoIWlzVW5kZWZpbmVkKGZyb20uX3R6bSkpIHtcbiAgICAgICAgdG8uX3R6bSA9IGZyb20uX3R6bTtcbiAgICB9XG4gICAgaWYgKCFpc1VuZGVmaW5lZChmcm9tLl9pc1VUQykpIHtcbiAgICAgICAgdG8uX2lzVVRDID0gZnJvbS5faXNVVEM7XG4gICAgfVxuICAgIGlmICghaXNVbmRlZmluZWQoZnJvbS5fb2Zmc2V0KSkge1xuICAgICAgICB0by5fb2Zmc2V0ID0gZnJvbS5fb2Zmc2V0O1xuICAgIH1cbiAgICBpZiAoIWlzVW5kZWZpbmVkKGZyb20uX3BmKSkge1xuICAgICAgICB0by5fcGYgPSBnZXRQYXJzaW5nRmxhZ3MoZnJvbSk7XG4gICAgfVxuICAgIGlmICghaXNVbmRlZmluZWQoZnJvbS5fbG9jYWxlKSkge1xuICAgICAgICB0by5fbG9jYWxlID0gZnJvbS5fbG9jYWxlO1xuICAgIH1cblxuICAgIGlmIChtb21lbnRQcm9wZXJ0aWVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgZm9yIChpIGluIG1vbWVudFByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgIHByb3AgPSBtb21lbnRQcm9wZXJ0aWVzW2ldO1xuICAgICAgICAgICAgdmFsID0gZnJvbVtwcm9wXTtcbiAgICAgICAgICAgIGlmICghaXNVbmRlZmluZWQodmFsKSkge1xuICAgICAgICAgICAgICAgIHRvW3Byb3BdID0gdmFsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRvO1xufVxuXG52YXIgdXBkYXRlSW5Qcm9ncmVzcyA9IGZhbHNlO1xuXG4vLyBNb21lbnQgcHJvdG90eXBlIG9iamVjdFxuZnVuY3Rpb24gTW9tZW50KGNvbmZpZykge1xuICAgIGNvcHlDb25maWcodGhpcywgY29uZmlnKTtcbiAgICB0aGlzLl9kID0gbmV3IERhdGUoY29uZmlnLl9kICE9IG51bGwgPyBjb25maWcuX2QuZ2V0VGltZSgpIDogTmFOKTtcbiAgICBpZiAoIXRoaXMuaXNWYWxpZCgpKSB7XG4gICAgICAgIHRoaXMuX2QgPSBuZXcgRGF0ZShOYU4pO1xuICAgIH1cbiAgICAvLyBQcmV2ZW50IGluZmluaXRlIGxvb3AgaW4gY2FzZSB1cGRhdGVPZmZzZXQgY3JlYXRlcyBuZXcgbW9tZW50XG4gICAgLy8gb2JqZWN0cy5cbiAgICBpZiAodXBkYXRlSW5Qcm9ncmVzcyA9PT0gZmFsc2UpIHtcbiAgICAgICAgdXBkYXRlSW5Qcm9ncmVzcyA9IHRydWU7XG4gICAgICAgIGhvb2tzLnVwZGF0ZU9mZnNldCh0aGlzKTtcbiAgICAgICAgdXBkYXRlSW5Qcm9ncmVzcyA9IGZhbHNlO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gaXNNb21lbnQgKG9iaikge1xuICAgIHJldHVybiBvYmogaW5zdGFuY2VvZiBNb21lbnQgfHwgKG9iaiAhPSBudWxsICYmIG9iai5faXNBTW9tZW50T2JqZWN0ICE9IG51bGwpO1xufVxuXG5mdW5jdGlvbiBhYnNGbG9vciAobnVtYmVyKSB7XG4gICAgaWYgKG51bWJlciA8IDApIHtcbiAgICAgICAgLy8gLTAgLT4gMFxuICAgICAgICByZXR1cm4gTWF0aC5jZWlsKG51bWJlcikgfHwgMDtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihudW1iZXIpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gdG9JbnQoYXJndW1lbnRGb3JDb2VyY2lvbikge1xuICAgIHZhciBjb2VyY2VkTnVtYmVyID0gK2FyZ3VtZW50Rm9yQ29lcmNpb24sXG4gICAgICAgIHZhbHVlID0gMDtcblxuICAgIGlmIChjb2VyY2VkTnVtYmVyICE9PSAwICYmIGlzRmluaXRlKGNvZXJjZWROdW1iZXIpKSB7XG4gICAgICAgIHZhbHVlID0gYWJzRmxvb3IoY29lcmNlZE51bWJlcik7XG4gICAgfVxuXG4gICAgcmV0dXJuIHZhbHVlO1xufVxuXG4vLyBjb21wYXJlIHR3byBhcnJheXMsIHJldHVybiB0aGUgbnVtYmVyIG9mIGRpZmZlcmVuY2VzXG5mdW5jdGlvbiBjb21wYXJlQXJyYXlzKGFycmF5MSwgYXJyYXkyLCBkb250Q29udmVydCkge1xuICAgIHZhciBsZW4gPSBNYXRoLm1pbihhcnJheTEubGVuZ3RoLCBhcnJheTIubGVuZ3RoKSxcbiAgICAgICAgbGVuZ3RoRGlmZiA9IE1hdGguYWJzKGFycmF5MS5sZW5ndGggLSBhcnJheTIubGVuZ3RoKSxcbiAgICAgICAgZGlmZnMgPSAwLFxuICAgICAgICBpO1xuICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBpZiAoKGRvbnRDb252ZXJ0ICYmIGFycmF5MVtpXSAhPT0gYXJyYXkyW2ldKSB8fFxuICAgICAgICAgICAgKCFkb250Q29udmVydCAmJiB0b0ludChhcnJheTFbaV0pICE9PSB0b0ludChhcnJheTJbaV0pKSkge1xuICAgICAgICAgICAgZGlmZnMrKztcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZGlmZnMgKyBsZW5ndGhEaWZmO1xufVxuXG5mdW5jdGlvbiB3YXJuKG1zZykge1xuICAgIGlmIChob29rcy5zdXBwcmVzc0RlcHJlY2F0aW9uV2FybmluZ3MgPT09IGZhbHNlICYmXG4gICAgICAgICAgICAodHlwZW9mIGNvbnNvbGUgIT09ICAndW5kZWZpbmVkJykgJiYgY29uc29sZS53YXJuKSB7XG4gICAgICAgIGNvbnNvbGUud2FybignRGVwcmVjYXRpb24gd2FybmluZzogJyArIG1zZyk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkZXByZWNhdGUobXNnLCBmbikge1xuICAgIHZhciBmaXJzdFRpbWUgPSB0cnVlO1xuXG4gICAgcmV0dXJuIGV4dGVuZChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChob29rcy5kZXByZWNhdGlvbkhhbmRsZXIgIT0gbnVsbCkge1xuICAgICAgICAgICAgaG9va3MuZGVwcmVjYXRpb25IYW5kbGVyKG51bGwsIG1zZyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZpcnN0VGltZSkge1xuICAgICAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgICAgIHZhciBhcmc7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGFyZyA9ICcnO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgYXJndW1lbnRzW2ldID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgICAgICBhcmcgKz0gJ1xcblsnICsgaSArICddICc7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiBhcmd1bWVudHNbMF0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyZyArPSBrZXkgKyAnOiAnICsgYXJndW1lbnRzWzBdW2tleV0gKyAnLCAnO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGFyZyA9IGFyZy5zbGljZSgwLCAtMik7IC8vIFJlbW92ZSB0cmFpbGluZyBjb21tYSBhbmQgc3BhY2VcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBhcmcgPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGFyZ3MucHVzaChhcmcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgd2Fybihtc2cgKyAnXFxuQXJndW1lbnRzOiAnICsgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJncykuam9pbignJykgKyAnXFxuJyArIChuZXcgRXJyb3IoKSkuc3RhY2spO1xuICAgICAgICAgICAgZmlyc3RUaW1lID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfSwgZm4pO1xufVxuXG52YXIgZGVwcmVjYXRpb25zID0ge307XG5cbmZ1bmN0aW9uIGRlcHJlY2F0ZVNpbXBsZShuYW1lLCBtc2cpIHtcbiAgICBpZiAoaG9va3MuZGVwcmVjYXRpb25IYW5kbGVyICE9IG51bGwpIHtcbiAgICAgICAgaG9va3MuZGVwcmVjYXRpb25IYW5kbGVyKG5hbWUsIG1zZyk7XG4gICAgfVxuICAgIGlmICghZGVwcmVjYXRpb25zW25hbWVdKSB7XG4gICAgICAgIHdhcm4obXNnKTtcbiAgICAgICAgZGVwcmVjYXRpb25zW25hbWVdID0gdHJ1ZTtcbiAgICB9XG59XG5cbmhvb2tzLnN1cHByZXNzRGVwcmVjYXRpb25XYXJuaW5ncyA9IGZhbHNlO1xuaG9va3MuZGVwcmVjYXRpb25IYW5kbGVyID0gbnVsbDtcblxuZnVuY3Rpb24gaXNGdW5jdGlvbihpbnB1dCkge1xuICAgIHJldHVybiBpbnB1dCBpbnN0YW5jZW9mIEZ1bmN0aW9uIHx8IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChpbnB1dCkgPT09ICdbb2JqZWN0IEZ1bmN0aW9uXSc7XG59XG5cbmZ1bmN0aW9uIHNldCAoY29uZmlnKSB7XG4gICAgdmFyIHByb3AsIGk7XG4gICAgZm9yIChpIGluIGNvbmZpZykge1xuICAgICAgICBwcm9wID0gY29uZmlnW2ldO1xuICAgICAgICBpZiAoaXNGdW5jdGlvbihwcm9wKSkge1xuICAgICAgICAgICAgdGhpc1tpXSA9IHByb3A7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzWydfJyArIGldID0gcHJvcDtcbiAgICAgICAgfVxuICAgIH1cbiAgICB0aGlzLl9jb25maWcgPSBjb25maWc7XG4gICAgLy8gTGVuaWVudCBvcmRpbmFsIHBhcnNpbmcgYWNjZXB0cyBqdXN0IGEgbnVtYmVyIGluIGFkZGl0aW9uIHRvXG4gICAgLy8gbnVtYmVyICsgKHBvc3NpYmx5KSBzdHVmZiBjb21pbmcgZnJvbSBfb3JkaW5hbFBhcnNlTGVuaWVudC5cbiAgICB0aGlzLl9vcmRpbmFsUGFyc2VMZW5pZW50ID0gbmV3IFJlZ0V4cCh0aGlzLl9vcmRpbmFsUGFyc2Uuc291cmNlICsgJ3wnICsgKC9cXGR7MSwyfS8pLnNvdXJjZSk7XG59XG5cbmZ1bmN0aW9uIG1lcmdlQ29uZmlncyhwYXJlbnRDb25maWcsIGNoaWxkQ29uZmlnKSB7XG4gICAgdmFyIHJlcyA9IGV4dGVuZCh7fSwgcGFyZW50Q29uZmlnKSwgcHJvcDtcbiAgICBmb3IgKHByb3AgaW4gY2hpbGRDb25maWcpIHtcbiAgICAgICAgaWYgKGhhc093blByb3AoY2hpbGRDb25maWcsIHByb3ApKSB7XG4gICAgICAgICAgICBpZiAoaXNPYmplY3QocGFyZW50Q29uZmlnW3Byb3BdKSAmJiBpc09iamVjdChjaGlsZENvbmZpZ1twcm9wXSkpIHtcbiAgICAgICAgICAgICAgICByZXNbcHJvcF0gPSB7fTtcbiAgICAgICAgICAgICAgICBleHRlbmQocmVzW3Byb3BdLCBwYXJlbnRDb25maWdbcHJvcF0pO1xuICAgICAgICAgICAgICAgIGV4dGVuZChyZXNbcHJvcF0sIGNoaWxkQ29uZmlnW3Byb3BdKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY2hpbGRDb25maWdbcHJvcF0gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJlc1twcm9wXSA9IGNoaWxkQ29uZmlnW3Byb3BdO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBkZWxldGUgcmVzW3Byb3BdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGZvciAocHJvcCBpbiBwYXJlbnRDb25maWcpIHtcbiAgICAgICAgaWYgKGhhc093blByb3AocGFyZW50Q29uZmlnLCBwcm9wKSAmJlxuICAgICAgICAgICAgICAgICFoYXNPd25Qcm9wKGNoaWxkQ29uZmlnLCBwcm9wKSAmJlxuICAgICAgICAgICAgICAgIGlzT2JqZWN0KHBhcmVudENvbmZpZ1twcm9wXSkpIHtcbiAgICAgICAgICAgIC8vIG1ha2Ugc3VyZSBjaGFuZ2VzIHRvIHByb3BlcnRpZXMgZG9uJ3QgbW9kaWZ5IHBhcmVudCBjb25maWdcbiAgICAgICAgICAgIHJlc1twcm9wXSA9IGV4dGVuZCh7fSwgcmVzW3Byb3BdKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzO1xufVxuXG5mdW5jdGlvbiBMb2NhbGUoY29uZmlnKSB7XG4gICAgaWYgKGNvbmZpZyAhPSBudWxsKSB7XG4gICAgICAgIHRoaXMuc2V0KGNvbmZpZyk7XG4gICAgfVxufVxuXG52YXIga2V5cztcblxuaWYgKE9iamVjdC5rZXlzKSB7XG4gICAga2V5cyA9IE9iamVjdC5rZXlzO1xufSBlbHNlIHtcbiAgICBrZXlzID0gZnVuY3Rpb24gKG9iaikge1xuICAgICAgICB2YXIgaSwgcmVzID0gW107XG4gICAgICAgIGZvciAoaSBpbiBvYmopIHtcbiAgICAgICAgICAgIGlmIChoYXNPd25Qcm9wKG9iaiwgaSkpIHtcbiAgICAgICAgICAgICAgICByZXMucHVzaChpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH07XG59XG5cbnZhciBrZXlzJDEgPSBrZXlzO1xuXG52YXIgZGVmYXVsdENhbGVuZGFyID0ge1xuICAgIHNhbWVEYXkgOiAnW1RvZGF5IGF0XSBMVCcsXG4gICAgbmV4dERheSA6ICdbVG9tb3Jyb3cgYXRdIExUJyxcbiAgICBuZXh0V2VlayA6ICdkZGRkIFthdF0gTFQnLFxuICAgIGxhc3REYXkgOiAnW1llc3RlcmRheSBhdF0gTFQnLFxuICAgIGxhc3RXZWVrIDogJ1tMYXN0XSBkZGRkIFthdF0gTFQnLFxuICAgIHNhbWVFbHNlIDogJ0wnXG59O1xuXG5mdW5jdGlvbiBjYWxlbmRhciAoa2V5LCBtb20sIG5vdykge1xuICAgIHZhciBvdXRwdXQgPSB0aGlzLl9jYWxlbmRhcltrZXldIHx8IHRoaXMuX2NhbGVuZGFyWydzYW1lRWxzZSddO1xuICAgIHJldHVybiBpc0Z1bmN0aW9uKG91dHB1dCkgPyBvdXRwdXQuY2FsbChtb20sIG5vdykgOiBvdXRwdXQ7XG59XG5cbnZhciBkZWZhdWx0TG9uZ0RhdGVGb3JtYXQgPSB7XG4gICAgTFRTICA6ICdoOm1tOnNzIEEnLFxuICAgIExUICAgOiAnaDptbSBBJyxcbiAgICBMICAgIDogJ01NL0REL1lZWVknLFxuICAgIExMICAgOiAnTU1NTSBELCBZWVlZJyxcbiAgICBMTEwgIDogJ01NTU0gRCwgWVlZWSBoOm1tIEEnLFxuICAgIExMTEwgOiAnZGRkZCwgTU1NTSBELCBZWVlZIGg6bW0gQSdcbn07XG5cbmZ1bmN0aW9uIGxvbmdEYXRlRm9ybWF0IChrZXkpIHtcbiAgICB2YXIgZm9ybWF0ID0gdGhpcy5fbG9uZ0RhdGVGb3JtYXRba2V5XSxcbiAgICAgICAgZm9ybWF0VXBwZXIgPSB0aGlzLl9sb25nRGF0ZUZvcm1hdFtrZXkudG9VcHBlckNhc2UoKV07XG5cbiAgICBpZiAoZm9ybWF0IHx8ICFmb3JtYXRVcHBlcikge1xuICAgICAgICByZXR1cm4gZm9ybWF0O1xuICAgIH1cblxuICAgIHRoaXMuX2xvbmdEYXRlRm9ybWF0W2tleV0gPSBmb3JtYXRVcHBlci5yZXBsYWNlKC9NTU1NfE1NfEREfGRkZGQvZywgZnVuY3Rpb24gKHZhbCkge1xuICAgICAgICByZXR1cm4gdmFsLnNsaWNlKDEpO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHRoaXMuX2xvbmdEYXRlRm9ybWF0W2tleV07XG59XG5cbnZhciBkZWZhdWx0SW52YWxpZERhdGUgPSAnSW52YWxpZCBkYXRlJztcblxuZnVuY3Rpb24gaW52YWxpZERhdGUgKCkge1xuICAgIHJldHVybiB0aGlzLl9pbnZhbGlkRGF0ZTtcbn1cblxudmFyIGRlZmF1bHRPcmRpbmFsID0gJyVkJztcbnZhciBkZWZhdWx0T3JkaW5hbFBhcnNlID0gL1xcZHsxLDJ9LztcblxuZnVuY3Rpb24gb3JkaW5hbCAobnVtYmVyKSB7XG4gICAgcmV0dXJuIHRoaXMuX29yZGluYWwucmVwbGFjZSgnJWQnLCBudW1iZXIpO1xufVxuXG52YXIgZGVmYXVsdFJlbGF0aXZlVGltZSA9IHtcbiAgICBmdXR1cmUgOiAnaW4gJXMnLFxuICAgIHBhc3QgICA6ICclcyBhZ28nLFxuICAgIHMgIDogJ2EgZmV3IHNlY29uZHMnLFxuICAgIG0gIDogJ2EgbWludXRlJyxcbiAgICBtbSA6ICclZCBtaW51dGVzJyxcbiAgICBoICA6ICdhbiBob3VyJyxcbiAgICBoaCA6ICclZCBob3VycycsXG4gICAgZCAgOiAnYSBkYXknLFxuICAgIGRkIDogJyVkIGRheXMnLFxuICAgIE0gIDogJ2EgbW9udGgnLFxuICAgIE1NIDogJyVkIG1vbnRocycsXG4gICAgeSAgOiAnYSB5ZWFyJyxcbiAgICB5eSA6ICclZCB5ZWFycydcbn07XG5cbmZ1bmN0aW9uIHJlbGF0aXZlVGltZSAobnVtYmVyLCB3aXRob3V0U3VmZml4LCBzdHJpbmcsIGlzRnV0dXJlKSB7XG4gICAgdmFyIG91dHB1dCA9IHRoaXMuX3JlbGF0aXZlVGltZVtzdHJpbmddO1xuICAgIHJldHVybiAoaXNGdW5jdGlvbihvdXRwdXQpKSA/XG4gICAgICAgIG91dHB1dChudW1iZXIsIHdpdGhvdXRTdWZmaXgsIHN0cmluZywgaXNGdXR1cmUpIDpcbiAgICAgICAgb3V0cHV0LnJlcGxhY2UoLyVkL2ksIG51bWJlcik7XG59XG5cbmZ1bmN0aW9uIHBhc3RGdXR1cmUgKGRpZmYsIG91dHB1dCkge1xuICAgIHZhciBmb3JtYXQgPSB0aGlzLl9yZWxhdGl2ZVRpbWVbZGlmZiA+IDAgPyAnZnV0dXJlJyA6ICdwYXN0J107XG4gICAgcmV0dXJuIGlzRnVuY3Rpb24oZm9ybWF0KSA/IGZvcm1hdChvdXRwdXQpIDogZm9ybWF0LnJlcGxhY2UoLyVzL2ksIG91dHB1dCk7XG59XG5cbnZhciBhbGlhc2VzID0ge307XG5cbmZ1bmN0aW9uIGFkZFVuaXRBbGlhcyAodW5pdCwgc2hvcnRoYW5kKSB7XG4gICAgdmFyIGxvd2VyQ2FzZSA9IHVuaXQudG9Mb3dlckNhc2UoKTtcbiAgICBhbGlhc2VzW2xvd2VyQ2FzZV0gPSBhbGlhc2VzW2xvd2VyQ2FzZSArICdzJ10gPSBhbGlhc2VzW3Nob3J0aGFuZF0gPSB1bml0O1xufVxuXG5mdW5jdGlvbiBub3JtYWxpemVVbml0cyh1bml0cykge1xuICAgIHJldHVybiB0eXBlb2YgdW5pdHMgPT09ICdzdHJpbmcnID8gYWxpYXNlc1t1bml0c10gfHwgYWxpYXNlc1t1bml0cy50b0xvd2VyQ2FzZSgpXSA6IHVuZGVmaW5lZDtcbn1cblxuZnVuY3Rpb24gbm9ybWFsaXplT2JqZWN0VW5pdHMoaW5wdXRPYmplY3QpIHtcbiAgICB2YXIgbm9ybWFsaXplZElucHV0ID0ge30sXG4gICAgICAgIG5vcm1hbGl6ZWRQcm9wLFxuICAgICAgICBwcm9wO1xuXG4gICAgZm9yIChwcm9wIGluIGlucHV0T2JqZWN0KSB7XG4gICAgICAgIGlmIChoYXNPd25Qcm9wKGlucHV0T2JqZWN0LCBwcm9wKSkge1xuICAgICAgICAgICAgbm9ybWFsaXplZFByb3AgPSBub3JtYWxpemVVbml0cyhwcm9wKTtcbiAgICAgICAgICAgIGlmIChub3JtYWxpemVkUHJvcCkge1xuICAgICAgICAgICAgICAgIG5vcm1hbGl6ZWRJbnB1dFtub3JtYWxpemVkUHJvcF0gPSBpbnB1dE9iamVjdFtwcm9wXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBub3JtYWxpemVkSW5wdXQ7XG59XG5cbnZhciBwcmlvcml0aWVzID0ge307XG5cbmZ1bmN0aW9uIGFkZFVuaXRQcmlvcml0eSh1bml0LCBwcmlvcml0eSkge1xuICAgIHByaW9yaXRpZXNbdW5pdF0gPSBwcmlvcml0eTtcbn1cblxuZnVuY3Rpb24gZ2V0UHJpb3JpdGl6ZWRVbml0cyh1bml0c09iaikge1xuICAgIHZhciB1bml0cyA9IFtdO1xuICAgIGZvciAodmFyIHUgaW4gdW5pdHNPYmopIHtcbiAgICAgICAgdW5pdHMucHVzaCh7dW5pdDogdSwgcHJpb3JpdHk6IHByaW9yaXRpZXNbdV19KTtcbiAgICB9XG4gICAgdW5pdHMuc29ydChmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICByZXR1cm4gYS5wcmlvcml0eSAtIGIucHJpb3JpdHk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHVuaXRzO1xufVxuXG5mdW5jdGlvbiBtYWtlR2V0U2V0ICh1bml0LCBrZWVwVGltZSkge1xuICAgIHJldHVybiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgaWYgKHZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgICAgIHNldCQxKHRoaXMsIHVuaXQsIHZhbHVlKTtcbiAgICAgICAgICAgIGhvb2tzLnVwZGF0ZU9mZnNldCh0aGlzLCBrZWVwVGltZSk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBnZXQodGhpcywgdW5pdCk7XG4gICAgICAgIH1cbiAgICB9O1xufVxuXG5mdW5jdGlvbiBnZXQgKG1vbSwgdW5pdCkge1xuICAgIHJldHVybiBtb20uaXNWYWxpZCgpID9cbiAgICAgICAgbW9tLl9kWydnZXQnICsgKG1vbS5faXNVVEMgPyAnVVRDJyA6ICcnKSArIHVuaXRdKCkgOiBOYU47XG59XG5cbmZ1bmN0aW9uIHNldCQxIChtb20sIHVuaXQsIHZhbHVlKSB7XG4gICAgaWYgKG1vbS5pc1ZhbGlkKCkpIHtcbiAgICAgICAgbW9tLl9kWydzZXQnICsgKG1vbS5faXNVVEMgPyAnVVRDJyA6ICcnKSArIHVuaXRdKHZhbHVlKTtcbiAgICB9XG59XG5cbi8vIE1PTUVOVFNcblxuZnVuY3Rpb24gc3RyaW5nR2V0ICh1bml0cykge1xuICAgIHVuaXRzID0gbm9ybWFsaXplVW5pdHModW5pdHMpO1xuICAgIGlmIChpc0Z1bmN0aW9uKHRoaXNbdW5pdHNdKSkge1xuICAgICAgICByZXR1cm4gdGhpc1t1bml0c10oKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG59XG5cblxuZnVuY3Rpb24gc3RyaW5nU2V0ICh1bml0cywgdmFsdWUpIHtcbiAgICBpZiAodHlwZW9mIHVuaXRzID09PSAnb2JqZWN0Jykge1xuICAgICAgICB1bml0cyA9IG5vcm1hbGl6ZU9iamVjdFVuaXRzKHVuaXRzKTtcbiAgICAgICAgdmFyIHByaW9yaXRpemVkID0gZ2V0UHJpb3JpdGl6ZWRVbml0cyh1bml0cyk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJpb3JpdGl6ZWQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXNbcHJpb3JpdGl6ZWRbaV0udW5pdF0odW5pdHNbcHJpb3JpdGl6ZWRbaV0udW5pdF0pO1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdW5pdHMgPSBub3JtYWxpemVVbml0cyh1bml0cyk7XG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKHRoaXNbdW5pdHNdKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXNbdW5pdHNdKHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbn1cblxuZnVuY3Rpb24gemVyb0ZpbGwobnVtYmVyLCB0YXJnZXRMZW5ndGgsIGZvcmNlU2lnbikge1xuICAgIHZhciBhYnNOdW1iZXIgPSAnJyArIE1hdGguYWJzKG51bWJlciksXG4gICAgICAgIHplcm9zVG9GaWxsID0gdGFyZ2V0TGVuZ3RoIC0gYWJzTnVtYmVyLmxlbmd0aCxcbiAgICAgICAgc2lnbiA9IG51bWJlciA+PSAwO1xuICAgIHJldHVybiAoc2lnbiA/IChmb3JjZVNpZ24gPyAnKycgOiAnJykgOiAnLScpICtcbiAgICAgICAgTWF0aC5wb3coMTAsIE1hdGgubWF4KDAsIHplcm9zVG9GaWxsKSkudG9TdHJpbmcoKS5zdWJzdHIoMSkgKyBhYnNOdW1iZXI7XG59XG5cbnZhciBmb3JtYXR0aW5nVG9rZW5zID0gLyhcXFtbXlxcW10qXFxdKXwoXFxcXCk/KFtIaF1tbShzcyk/fE1vfE1NP00/TT98RG98REREb3xERD9EP0Q/fGRkZD9kP3xkbz98d1tvfHddP3xXW298V10/fFFvP3xZWVlZWVl8WVlZWVl8WVlZWXxZWXxnZyhnZ2c/KT98R0coR0dHPyk/fGV8RXxhfEF8aGg/fEhIP3xraz98bW0/fHNzP3xTezEsOX18eHxYfHp6P3xaWj98LikvZztcblxudmFyIGxvY2FsRm9ybWF0dGluZ1Rva2VucyA9IC8oXFxbW15cXFtdKlxcXSl8KFxcXFwpPyhMVFN8TFR8TEw/TD9MP3xsezEsNH0pL2c7XG5cbnZhciBmb3JtYXRGdW5jdGlvbnMgPSB7fTtcblxudmFyIGZvcm1hdFRva2VuRnVuY3Rpb25zID0ge307XG5cbi8vIHRva2VuOiAgICAnTSdcbi8vIHBhZGRlZDogICBbJ01NJywgMl1cbi8vIG9yZGluYWw6ICAnTW8nXG4vLyBjYWxsYmFjazogZnVuY3Rpb24gKCkgeyB0aGlzLm1vbnRoKCkgKyAxIH1cbmZ1bmN0aW9uIGFkZEZvcm1hdFRva2VuICh0b2tlbiwgcGFkZGVkLCBvcmRpbmFsLCBjYWxsYmFjaykge1xuICAgIHZhciBmdW5jID0gY2FsbGJhY2s7XG4gICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgZnVuYyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzW2NhbGxiYWNrXSgpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBpZiAodG9rZW4pIHtcbiAgICAgICAgZm9ybWF0VG9rZW5GdW5jdGlvbnNbdG9rZW5dID0gZnVuYztcbiAgICB9XG4gICAgaWYgKHBhZGRlZCkge1xuICAgICAgICBmb3JtYXRUb2tlbkZ1bmN0aW9uc1twYWRkZWRbMF1dID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHplcm9GaWxsKGZ1bmMuYXBwbHkodGhpcywgYXJndW1lbnRzKSwgcGFkZGVkWzFdLCBwYWRkZWRbMl0pO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBpZiAob3JkaW5hbCkge1xuICAgICAgICBmb3JtYXRUb2tlbkZ1bmN0aW9uc1tvcmRpbmFsXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxvY2FsZURhdGEoKS5vcmRpbmFsKGZ1bmMuYXBwbHkodGhpcywgYXJndW1lbnRzKSwgdG9rZW4pO1xuICAgICAgICB9O1xuICAgIH1cbn1cblxuZnVuY3Rpb24gcmVtb3ZlRm9ybWF0dGluZ1Rva2VucyhpbnB1dCkge1xuICAgIGlmIChpbnB1dC5tYXRjaCgvXFxbW1xcc1xcU10vKSkge1xuICAgICAgICByZXR1cm4gaW5wdXQucmVwbGFjZSgvXlxcW3xcXF0kL2csICcnKTtcbiAgICB9XG4gICAgcmV0dXJuIGlucHV0LnJlcGxhY2UoL1xcXFwvZywgJycpO1xufVxuXG5mdW5jdGlvbiBtYWtlRm9ybWF0RnVuY3Rpb24oZm9ybWF0KSB7XG4gICAgdmFyIGFycmF5ID0gZm9ybWF0Lm1hdGNoKGZvcm1hdHRpbmdUb2tlbnMpLCBpLCBsZW5ndGg7XG5cbiAgICBmb3IgKGkgPSAwLCBsZW5ndGggPSBhcnJheS5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoZm9ybWF0VG9rZW5GdW5jdGlvbnNbYXJyYXlbaV1dKSB7XG4gICAgICAgICAgICBhcnJheVtpXSA9IGZvcm1hdFRva2VuRnVuY3Rpb25zW2FycmF5W2ldXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFycmF5W2ldID0gcmVtb3ZlRm9ybWF0dGluZ1Rva2VucyhhcnJheVtpXSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gKG1vbSkge1xuICAgICAgICB2YXIgb3V0cHV0ID0gJycsIGk7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgb3V0cHV0ICs9IGFycmF5W2ldIGluc3RhbmNlb2YgRnVuY3Rpb24gPyBhcnJheVtpXS5jYWxsKG1vbSwgZm9ybWF0KSA6IGFycmF5W2ldO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvdXRwdXQ7XG4gICAgfTtcbn1cblxuLy8gZm9ybWF0IGRhdGUgdXNpbmcgbmF0aXZlIGRhdGUgb2JqZWN0XG5mdW5jdGlvbiBmb3JtYXRNb21lbnQobSwgZm9ybWF0KSB7XG4gICAgaWYgKCFtLmlzVmFsaWQoKSkge1xuICAgICAgICByZXR1cm4gbS5sb2NhbGVEYXRhKCkuaW52YWxpZERhdGUoKTtcbiAgICB9XG5cbiAgICBmb3JtYXQgPSBleHBhbmRGb3JtYXQoZm9ybWF0LCBtLmxvY2FsZURhdGEoKSk7XG4gICAgZm9ybWF0RnVuY3Rpb25zW2Zvcm1hdF0gPSBmb3JtYXRGdW5jdGlvbnNbZm9ybWF0XSB8fCBtYWtlRm9ybWF0RnVuY3Rpb24oZm9ybWF0KTtcblxuICAgIHJldHVybiBmb3JtYXRGdW5jdGlvbnNbZm9ybWF0XShtKTtcbn1cblxuZnVuY3Rpb24gZXhwYW5kRm9ybWF0KGZvcm1hdCwgbG9jYWxlKSB7XG4gICAgdmFyIGkgPSA1O1xuXG4gICAgZnVuY3Rpb24gcmVwbGFjZUxvbmdEYXRlRm9ybWF0VG9rZW5zKGlucHV0KSB7XG4gICAgICAgIHJldHVybiBsb2NhbGUubG9uZ0RhdGVGb3JtYXQoaW5wdXQpIHx8IGlucHV0O1xuICAgIH1cblxuICAgIGxvY2FsRm9ybWF0dGluZ1Rva2Vucy5sYXN0SW5kZXggPSAwO1xuICAgIHdoaWxlIChpID49IDAgJiYgbG9jYWxGb3JtYXR0aW5nVG9rZW5zLnRlc3QoZm9ybWF0KSkge1xuICAgICAgICBmb3JtYXQgPSBmb3JtYXQucmVwbGFjZShsb2NhbEZvcm1hdHRpbmdUb2tlbnMsIHJlcGxhY2VMb25nRGF0ZUZvcm1hdFRva2Vucyk7XG4gICAgICAgIGxvY2FsRm9ybWF0dGluZ1Rva2Vucy5sYXN0SW5kZXggPSAwO1xuICAgICAgICBpIC09IDE7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZvcm1hdDtcbn1cblxudmFyIG1hdGNoMSAgICAgICAgID0gL1xcZC87ICAgICAgICAgICAgLy8gICAgICAgMCAtIDlcbnZhciBtYXRjaDIgICAgICAgICA9IC9cXGRcXGQvOyAgICAgICAgICAvLyAgICAgIDAwIC0gOTlcbnZhciBtYXRjaDMgICAgICAgICA9IC9cXGR7M30vOyAgICAgICAgIC8vICAgICAwMDAgLSA5OTlcbnZhciBtYXRjaDQgICAgICAgICA9IC9cXGR7NH0vOyAgICAgICAgIC8vICAgIDAwMDAgLSA5OTk5XG52YXIgbWF0Y2g2ICAgICAgICAgPSAvWystXT9cXGR7Nn0vOyAgICAvLyAtOTk5OTk5IC0gOTk5OTk5XG52YXIgbWF0Y2gxdG8yICAgICAgPSAvXFxkXFxkPy87ICAgICAgICAgLy8gICAgICAgMCAtIDk5XG52YXIgbWF0Y2gzdG80ICAgICAgPSAvXFxkXFxkXFxkXFxkPy87ICAgICAvLyAgICAgOTk5IC0gOTk5OVxudmFyIG1hdGNoNXRvNiAgICAgID0gL1xcZFxcZFxcZFxcZFxcZFxcZD8vOyAvLyAgIDk5OTk5IC0gOTk5OTk5XG52YXIgbWF0Y2gxdG8zICAgICAgPSAvXFxkezEsM30vOyAgICAgICAvLyAgICAgICAwIC0gOTk5XG52YXIgbWF0Y2gxdG80ICAgICAgPSAvXFxkezEsNH0vOyAgICAgICAvLyAgICAgICAwIC0gOTk5OVxudmFyIG1hdGNoMXRvNiAgICAgID0gL1srLV0/XFxkezEsNn0vOyAgLy8gLTk5OTk5OSAtIDk5OTk5OVxuXG52YXIgbWF0Y2hVbnNpZ25lZCAgPSAvXFxkKy87ICAgICAgICAgICAvLyAgICAgICAwIC0gaW5mXG52YXIgbWF0Y2hTaWduZWQgICAgPSAvWystXT9cXGQrLzsgICAgICAvLyAgICAtaW5mIC0gaW5mXG5cbnZhciBtYXRjaE9mZnNldCAgICA9IC9afFsrLV1cXGRcXGQ6P1xcZFxcZC9naTsgLy8gKzAwOjAwIC0wMDowMCArMDAwMCAtMDAwMCBvciBaXG52YXIgbWF0Y2hTaG9ydE9mZnNldCA9IC9afFsrLV1cXGRcXGQoPzo6P1xcZFxcZCk/L2dpOyAvLyArMDAgLTAwICswMDowMCAtMDA6MDAgKzAwMDAgLTAwMDAgb3IgWlxuXG52YXIgbWF0Y2hUaW1lc3RhbXAgPSAvWystXT9cXGQrKFxcLlxcZHsxLDN9KT8vOyAvLyAxMjM0NTY3ODkgMTIzNDU2Nzg5LjEyM1xuXG4vLyBhbnkgd29yZCAob3IgdHdvKSBjaGFyYWN0ZXJzIG9yIG51bWJlcnMgaW5jbHVkaW5nIHR3by90aHJlZSB3b3JkIG1vbnRoIGluIGFyYWJpYy5cbi8vIGluY2x1ZGVzIHNjb3R0aXNoIGdhZWxpYyB0d28gd29yZCBhbmQgaHlwaGVuYXRlZCBtb250aHNcbnZhciBtYXRjaFdvcmQgPSAvWzAtOV0qWydhLXpcXHUwMEEwLVxcdTA1RkZcXHUwNzAwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdK3xbXFx1MDYwMC1cXHUwNkZGXFwvXSsoXFxzKj9bXFx1MDYwMC1cXHUwNkZGXSspezEsMn0vaTtcblxuXG52YXIgcmVnZXhlcyA9IHt9O1xuXG5mdW5jdGlvbiBhZGRSZWdleFRva2VuICh0b2tlbiwgcmVnZXgsIHN0cmljdFJlZ2V4KSB7XG4gICAgcmVnZXhlc1t0b2tlbl0gPSBpc0Z1bmN0aW9uKHJlZ2V4KSA/IHJlZ2V4IDogZnVuY3Rpb24gKGlzU3RyaWN0LCBsb2NhbGVEYXRhKSB7XG4gICAgICAgIHJldHVybiAoaXNTdHJpY3QgJiYgc3RyaWN0UmVnZXgpID8gc3RyaWN0UmVnZXggOiByZWdleDtcbiAgICB9O1xufVxuXG5mdW5jdGlvbiBnZXRQYXJzZVJlZ2V4Rm9yVG9rZW4gKHRva2VuLCBjb25maWcpIHtcbiAgICBpZiAoIWhhc093blByb3AocmVnZXhlcywgdG9rZW4pKSB7XG4gICAgICAgIHJldHVybiBuZXcgUmVnRXhwKHVuZXNjYXBlRm9ybWF0KHRva2VuKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlZ2V4ZXNbdG9rZW5dKGNvbmZpZy5fc3RyaWN0LCBjb25maWcuX2xvY2FsZSk7XG59XG5cbi8vIENvZGUgZnJvbSBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzM1NjE0OTMvaXMtdGhlcmUtYS1yZWdleHAtZXNjYXBlLWZ1bmN0aW9uLWluLWphdmFzY3JpcHRcbmZ1bmN0aW9uIHVuZXNjYXBlRm9ybWF0KHMpIHtcbiAgICByZXR1cm4gcmVnZXhFc2NhcGUocy5yZXBsYWNlKCdcXFxcJywgJycpLnJlcGxhY2UoL1xcXFwoXFxbKXxcXFxcKFxcXSl8XFxbKFteXFxdXFxbXSopXFxdfFxcXFwoLikvZywgZnVuY3Rpb24gKG1hdGNoZWQsIHAxLCBwMiwgcDMsIHA0KSB7XG4gICAgICAgIHJldHVybiBwMSB8fCBwMiB8fCBwMyB8fCBwNDtcbiAgICB9KSk7XG59XG5cbmZ1bmN0aW9uIHJlZ2V4RXNjYXBlKHMpIHtcbiAgICByZXR1cm4gcy5yZXBsYWNlKC9bLVxcL1xcXFxeJCorPy4oKXxbXFxde31dL2csICdcXFxcJCYnKTtcbn1cblxudmFyIHRva2VucyA9IHt9O1xuXG5mdW5jdGlvbiBhZGRQYXJzZVRva2VuICh0b2tlbiwgY2FsbGJhY2spIHtcbiAgICB2YXIgaSwgZnVuYyA9IGNhbGxiYWNrO1xuICAgIGlmICh0eXBlb2YgdG9rZW4gPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHRva2VuID0gW3Rva2VuXTtcbiAgICB9XG4gICAgaWYgKGlzTnVtYmVyKGNhbGxiYWNrKSkge1xuICAgICAgICBmdW5jID0gZnVuY3Rpb24gKGlucHV0LCBhcnJheSkge1xuICAgICAgICAgICAgYXJyYXlbY2FsbGJhY2tdID0gdG9JbnQoaW5wdXQpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBmb3IgKGkgPSAwOyBpIDwgdG9rZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdG9rZW5zW3Rva2VuW2ldXSA9IGZ1bmM7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBhZGRXZWVrUGFyc2VUb2tlbiAodG9rZW4sIGNhbGxiYWNrKSB7XG4gICAgYWRkUGFyc2VUb2tlbih0b2tlbiwgZnVuY3Rpb24gKGlucHV0LCBhcnJheSwgY29uZmlnLCB0b2tlbikge1xuICAgICAgICBjb25maWcuX3cgPSBjb25maWcuX3cgfHwge307XG4gICAgICAgIGNhbGxiYWNrKGlucHV0LCBjb25maWcuX3csIGNvbmZpZywgdG9rZW4pO1xuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBhZGRUaW1lVG9BcnJheUZyb21Ub2tlbih0b2tlbiwgaW5wdXQsIGNvbmZpZykge1xuICAgIGlmIChpbnB1dCAhPSBudWxsICYmIGhhc093blByb3AodG9rZW5zLCB0b2tlbikpIHtcbiAgICAgICAgdG9rZW5zW3Rva2VuXShpbnB1dCwgY29uZmlnLl9hLCBjb25maWcsIHRva2VuKTtcbiAgICB9XG59XG5cbnZhciBZRUFSID0gMDtcbnZhciBNT05USCA9IDE7XG52YXIgREFURSA9IDI7XG52YXIgSE9VUiA9IDM7XG52YXIgTUlOVVRFID0gNDtcbnZhciBTRUNPTkQgPSA1O1xudmFyIE1JTExJU0VDT05EID0gNjtcbnZhciBXRUVLID0gNztcbnZhciBXRUVLREFZID0gODtcblxudmFyIGluZGV4T2Y7XG5cbmlmIChBcnJheS5wcm90b3R5cGUuaW5kZXhPZikge1xuICAgIGluZGV4T2YgPSBBcnJheS5wcm90b3R5cGUuaW5kZXhPZjtcbn0gZWxzZSB7XG4gICAgaW5kZXhPZiA9IGZ1bmN0aW9uIChvKSB7XG4gICAgICAgIC8vIEkga25vd1xuICAgICAgICB2YXIgaTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIGlmICh0aGlzW2ldID09PSBvKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIC0xO1xuICAgIH07XG59XG5cbnZhciBpbmRleE9mJDEgPSBpbmRleE9mO1xuXG5mdW5jdGlvbiBkYXlzSW5Nb250aCh5ZWFyLCBtb250aCkge1xuICAgIHJldHVybiBuZXcgRGF0ZShEYXRlLlVUQyh5ZWFyLCBtb250aCArIDEsIDApKS5nZXRVVENEYXRlKCk7XG59XG5cbi8vIEZPUk1BVFRJTkdcblxuYWRkRm9ybWF0VG9rZW4oJ00nLCBbJ01NJywgMl0sICdNbycsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5tb250aCgpICsgMTtcbn0pO1xuXG5hZGRGb3JtYXRUb2tlbignTU1NJywgMCwgMCwgZnVuY3Rpb24gKGZvcm1hdCkge1xuICAgIHJldHVybiB0aGlzLmxvY2FsZURhdGEoKS5tb250aHNTaG9ydCh0aGlzLCBmb3JtYXQpO1xufSk7XG5cbmFkZEZvcm1hdFRva2VuKCdNTU1NJywgMCwgMCwgZnVuY3Rpb24gKGZvcm1hdCkge1xuICAgIHJldHVybiB0aGlzLmxvY2FsZURhdGEoKS5tb250aHModGhpcywgZm9ybWF0KTtcbn0pO1xuXG4vLyBBTElBU0VTXG5cbmFkZFVuaXRBbGlhcygnbW9udGgnLCAnTScpO1xuXG4vLyBQUklPUklUWVxuXG5hZGRVbml0UHJpb3JpdHkoJ21vbnRoJywgOCk7XG5cbi8vIFBBUlNJTkdcblxuYWRkUmVnZXhUb2tlbignTScsICAgIG1hdGNoMXRvMik7XG5hZGRSZWdleFRva2VuKCdNTScsICAgbWF0Y2gxdG8yLCBtYXRjaDIpO1xuYWRkUmVnZXhUb2tlbignTU1NJywgIGZ1bmN0aW9uIChpc1N0cmljdCwgbG9jYWxlKSB7XG4gICAgcmV0dXJuIGxvY2FsZS5tb250aHNTaG9ydFJlZ2V4KGlzU3RyaWN0KTtcbn0pO1xuYWRkUmVnZXhUb2tlbignTU1NTScsIGZ1bmN0aW9uIChpc1N0cmljdCwgbG9jYWxlKSB7XG4gICAgcmV0dXJuIGxvY2FsZS5tb250aHNSZWdleChpc1N0cmljdCk7XG59KTtcblxuYWRkUGFyc2VUb2tlbihbJ00nLCAnTU0nXSwgZnVuY3Rpb24gKGlucHV0LCBhcnJheSkge1xuICAgIGFycmF5W01PTlRIXSA9IHRvSW50KGlucHV0KSAtIDE7XG59KTtcblxuYWRkUGFyc2VUb2tlbihbJ01NTScsICdNTU1NJ10sIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXksIGNvbmZpZywgdG9rZW4pIHtcbiAgICB2YXIgbW9udGggPSBjb25maWcuX2xvY2FsZS5tb250aHNQYXJzZShpbnB1dCwgdG9rZW4sIGNvbmZpZy5fc3RyaWN0KTtcbiAgICAvLyBpZiB3ZSBkaWRuJ3QgZmluZCBhIG1vbnRoIG5hbWUsIG1hcmsgdGhlIGRhdGUgYXMgaW52YWxpZC5cbiAgICBpZiAobW9udGggIT0gbnVsbCkge1xuICAgICAgICBhcnJheVtNT05USF0gPSBtb250aDtcbiAgICB9IGVsc2Uge1xuICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5pbnZhbGlkTW9udGggPSBpbnB1dDtcbiAgICB9XG59KTtcblxuLy8gTE9DQUxFU1xuXG52YXIgTU9OVEhTX0lOX0ZPUk1BVCA9IC9EW29EXT8oXFxbW15cXFtcXF1dKlxcXXxcXHMpK01NTU0/LztcbnZhciBkZWZhdWx0TG9jYWxlTW9udGhzID0gJ0phbnVhcnlfRmVicnVhcnlfTWFyY2hfQXByaWxfTWF5X0p1bmVfSnVseV9BdWd1c3RfU2VwdGVtYmVyX09jdG9iZXJfTm92ZW1iZXJfRGVjZW1iZXInLnNwbGl0KCdfJyk7XG5mdW5jdGlvbiBsb2NhbGVNb250aHMgKG0sIGZvcm1hdCkge1xuICAgIGlmICghbSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbW9udGhzO1xuICAgIH1cbiAgICByZXR1cm4gaXNBcnJheSh0aGlzLl9tb250aHMpID8gdGhpcy5fbW9udGhzW20ubW9udGgoKV0gOlxuICAgICAgICB0aGlzLl9tb250aHNbKHRoaXMuX21vbnRocy5pc0Zvcm1hdCB8fCBNT05USFNfSU5fRk9STUFUKS50ZXN0KGZvcm1hdCkgPyAnZm9ybWF0JyA6ICdzdGFuZGFsb25lJ11bbS5tb250aCgpXTtcbn1cblxudmFyIGRlZmF1bHRMb2NhbGVNb250aHNTaG9ydCA9ICdKYW5fRmViX01hcl9BcHJfTWF5X0p1bl9KdWxfQXVnX1NlcF9PY3RfTm92X0RlYycuc3BsaXQoJ18nKTtcbmZ1bmN0aW9uIGxvY2FsZU1vbnRoc1Nob3J0IChtLCBmb3JtYXQpIHtcbiAgICBpZiAoIW0pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21vbnRoc1Nob3J0O1xuICAgIH1cbiAgICByZXR1cm4gaXNBcnJheSh0aGlzLl9tb250aHNTaG9ydCkgPyB0aGlzLl9tb250aHNTaG9ydFttLm1vbnRoKCldIDpcbiAgICAgICAgdGhpcy5fbW9udGhzU2hvcnRbTU9OVEhTX0lOX0ZPUk1BVC50ZXN0KGZvcm1hdCkgPyAnZm9ybWF0JyA6ICdzdGFuZGFsb25lJ11bbS5tb250aCgpXTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlU3RyaWN0UGFyc2UobW9udGhOYW1lLCBmb3JtYXQsIHN0cmljdCkge1xuICAgIHZhciBpLCBpaSwgbW9tLCBsbGMgPSBtb250aE5hbWUudG9Mb2NhbGVMb3dlckNhc2UoKTtcbiAgICBpZiAoIXRoaXMuX21vbnRoc1BhcnNlKSB7XG4gICAgICAgIC8vIHRoaXMgaXMgbm90IHVzZWRcbiAgICAgICAgdGhpcy5fbW9udGhzUGFyc2UgPSBbXTtcbiAgICAgICAgdGhpcy5fbG9uZ01vbnRoc1BhcnNlID0gW107XG4gICAgICAgIHRoaXMuX3Nob3J0TW9udGhzUGFyc2UgPSBbXTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IDEyOyArK2kpIHtcbiAgICAgICAgICAgIG1vbSA9IGNyZWF0ZVVUQyhbMjAwMCwgaV0pO1xuICAgICAgICAgICAgdGhpcy5fc2hvcnRNb250aHNQYXJzZVtpXSA9IHRoaXMubW9udGhzU2hvcnQobW9tLCAnJykudG9Mb2NhbGVMb3dlckNhc2UoKTtcbiAgICAgICAgICAgIHRoaXMuX2xvbmdNb250aHNQYXJzZVtpXSA9IHRoaXMubW9udGhzKG1vbSwgJycpLnRvTG9jYWxlTG93ZXJDYXNlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoc3RyaWN0KSB7XG4gICAgICAgIGlmIChmb3JtYXQgPT09ICdNTU0nKSB7XG4gICAgICAgICAgICBpaSA9IGluZGV4T2YkMS5jYWxsKHRoaXMuX3Nob3J0TW9udGhzUGFyc2UsIGxsYyk7XG4gICAgICAgICAgICByZXR1cm4gaWkgIT09IC0xID8gaWkgOiBudWxsO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWkgPSBpbmRleE9mJDEuY2FsbCh0aGlzLl9sb25nTW9udGhzUGFyc2UsIGxsYyk7XG4gICAgICAgICAgICByZXR1cm4gaWkgIT09IC0xID8gaWkgOiBudWxsO1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGZvcm1hdCA9PT0gJ01NTScpIHtcbiAgICAgICAgICAgIGlpID0gaW5kZXhPZiQxLmNhbGwodGhpcy5fc2hvcnRNb250aHNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgIGlmIChpaSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaWk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpaSA9IGluZGV4T2YkMS5jYWxsKHRoaXMuX2xvbmdNb250aHNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgIHJldHVybiBpaSAhPT0gLTEgPyBpaSA6IG51bGw7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpaSA9IGluZGV4T2YkMS5jYWxsKHRoaXMuX2xvbmdNb250aHNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgIGlmIChpaSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaWk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpaSA9IGluZGV4T2YkMS5jYWxsKHRoaXMuX3Nob3J0TW9udGhzUGFyc2UsIGxsYyk7XG4gICAgICAgICAgICByZXR1cm4gaWkgIT09IC0xID8gaWkgOiBudWxsO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiBsb2NhbGVNb250aHNQYXJzZSAobW9udGhOYW1lLCBmb3JtYXQsIHN0cmljdCkge1xuICAgIHZhciBpLCBtb20sIHJlZ2V4O1xuXG4gICAgaWYgKHRoaXMuX21vbnRoc1BhcnNlRXhhY3QpIHtcbiAgICAgICAgcmV0dXJuIGhhbmRsZVN0cmljdFBhcnNlLmNhbGwodGhpcywgbW9udGhOYW1lLCBmb3JtYXQsIHN0cmljdCk7XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLl9tb250aHNQYXJzZSkge1xuICAgICAgICB0aGlzLl9tb250aHNQYXJzZSA9IFtdO1xuICAgICAgICB0aGlzLl9sb25nTW9udGhzUGFyc2UgPSBbXTtcbiAgICAgICAgdGhpcy5fc2hvcnRNb250aHNQYXJzZSA9IFtdO1xuICAgIH1cblxuICAgIC8vIFRPRE86IGFkZCBzb3J0aW5nXG4gICAgLy8gU29ydGluZyBtYWtlcyBzdXJlIGlmIG9uZSBtb250aCAob3IgYWJicikgaXMgYSBwcmVmaXggb2YgYW5vdGhlclxuICAgIC8vIHNlZSBzb3J0aW5nIGluIGNvbXB1dGVNb250aHNQYXJzZVxuICAgIGZvciAoaSA9IDA7IGkgPCAxMjsgaSsrKSB7XG4gICAgICAgIC8vIG1ha2UgdGhlIHJlZ2V4IGlmIHdlIGRvbid0IGhhdmUgaXQgYWxyZWFkeVxuICAgICAgICBtb20gPSBjcmVhdGVVVEMoWzIwMDAsIGldKTtcbiAgICAgICAgaWYgKHN0cmljdCAmJiAhdGhpcy5fbG9uZ01vbnRoc1BhcnNlW2ldKSB7XG4gICAgICAgICAgICB0aGlzLl9sb25nTW9udGhzUGFyc2VbaV0gPSBuZXcgUmVnRXhwKCdeJyArIHRoaXMubW9udGhzKG1vbSwgJycpLnJlcGxhY2UoJy4nLCAnJykgKyAnJCcsICdpJyk7XG4gICAgICAgICAgICB0aGlzLl9zaG9ydE1vbnRoc1BhcnNlW2ldID0gbmV3IFJlZ0V4cCgnXicgKyB0aGlzLm1vbnRoc1Nob3J0KG1vbSwgJycpLnJlcGxhY2UoJy4nLCAnJykgKyAnJCcsICdpJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFzdHJpY3QgJiYgIXRoaXMuX21vbnRoc1BhcnNlW2ldKSB7XG4gICAgICAgICAgICByZWdleCA9ICdeJyArIHRoaXMubW9udGhzKG1vbSwgJycpICsgJ3xeJyArIHRoaXMubW9udGhzU2hvcnQobW9tLCAnJyk7XG4gICAgICAgICAgICB0aGlzLl9tb250aHNQYXJzZVtpXSA9IG5ldyBSZWdFeHAocmVnZXgucmVwbGFjZSgnLicsICcnKSwgJ2knKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB0ZXN0IHRoZSByZWdleFxuICAgICAgICBpZiAoc3RyaWN0ICYmIGZvcm1hdCA9PT0gJ01NTU0nICYmIHRoaXMuX2xvbmdNb250aHNQYXJzZVtpXS50ZXN0KG1vbnRoTmFtZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICB9IGVsc2UgaWYgKHN0cmljdCAmJiBmb3JtYXQgPT09ICdNTU0nICYmIHRoaXMuX3Nob3J0TW9udGhzUGFyc2VbaV0udGVzdChtb250aE5hbWUpKSB7XG4gICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgfSBlbHNlIGlmICghc3RyaWN0ICYmIHRoaXMuX21vbnRoc1BhcnNlW2ldLnRlc3QobW9udGhOYW1lKSkge1xuICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8vIE1PTUVOVFNcblxuZnVuY3Rpb24gc2V0TW9udGggKG1vbSwgdmFsdWUpIHtcbiAgICB2YXIgZGF5T2ZNb250aDtcblxuICAgIGlmICghbW9tLmlzVmFsaWQoKSkge1xuICAgICAgICAvLyBObyBvcFxuICAgICAgICByZXR1cm4gbW9tO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGlmICgvXlxcZCskLy50ZXN0KHZhbHVlKSkge1xuICAgICAgICAgICAgdmFsdWUgPSB0b0ludCh2YWx1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YWx1ZSA9IG1vbS5sb2NhbGVEYXRhKCkubW9udGhzUGFyc2UodmFsdWUpO1xuICAgICAgICAgICAgLy8gVE9ETzogQW5vdGhlciBzaWxlbnQgZmFpbHVyZT9cbiAgICAgICAgICAgIGlmICghaXNOdW1iZXIodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1vbTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGRheU9mTW9udGggPSBNYXRoLm1pbihtb20uZGF0ZSgpLCBkYXlzSW5Nb250aChtb20ueWVhcigpLCB2YWx1ZSkpO1xuICAgIG1vbS5fZFsnc2V0JyArIChtb20uX2lzVVRDID8gJ1VUQycgOiAnJykgKyAnTW9udGgnXSh2YWx1ZSwgZGF5T2ZNb250aCk7XG4gICAgcmV0dXJuIG1vbTtcbn1cblxuZnVuY3Rpb24gZ2V0U2V0TW9udGggKHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgc2V0TW9udGgodGhpcywgdmFsdWUpO1xuICAgICAgICBob29rcy51cGRhdGVPZmZzZXQodGhpcywgdHJ1ZSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBnZXQodGhpcywgJ01vbnRoJyk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBnZXREYXlzSW5Nb250aCAoKSB7XG4gICAgcmV0dXJuIGRheXNJbk1vbnRoKHRoaXMueWVhcigpLCB0aGlzLm1vbnRoKCkpO1xufVxuXG52YXIgZGVmYXVsdE1vbnRoc1Nob3J0UmVnZXggPSBtYXRjaFdvcmQ7XG5mdW5jdGlvbiBtb250aHNTaG9ydFJlZ2V4IChpc1N0cmljdCkge1xuICAgIGlmICh0aGlzLl9tb250aHNQYXJzZUV4YWN0KSB7XG4gICAgICAgIGlmICghaGFzT3duUHJvcCh0aGlzLCAnX21vbnRoc1JlZ2V4JykpIHtcbiAgICAgICAgICAgIGNvbXB1dGVNb250aHNQYXJzZS5jYWxsKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc1N0cmljdCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX21vbnRoc1Nob3J0U3RyaWN0UmVnZXg7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbW9udGhzU2hvcnRSZWdleDtcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICghaGFzT3duUHJvcCh0aGlzLCAnX21vbnRoc1Nob3J0UmVnZXgnKSkge1xuICAgICAgICAgICAgdGhpcy5fbW9udGhzU2hvcnRSZWdleCA9IGRlZmF1bHRNb250aHNTaG9ydFJlZ2V4O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9tb250aHNTaG9ydFN0cmljdFJlZ2V4ICYmIGlzU3RyaWN0ID9cbiAgICAgICAgICAgIHRoaXMuX21vbnRoc1Nob3J0U3RyaWN0UmVnZXggOiB0aGlzLl9tb250aHNTaG9ydFJlZ2V4O1xuICAgIH1cbn1cblxudmFyIGRlZmF1bHRNb250aHNSZWdleCA9IG1hdGNoV29yZDtcbmZ1bmN0aW9uIG1vbnRoc1JlZ2V4IChpc1N0cmljdCkge1xuICAgIGlmICh0aGlzLl9tb250aHNQYXJzZUV4YWN0KSB7XG4gICAgICAgIGlmICghaGFzT3duUHJvcCh0aGlzLCAnX21vbnRoc1JlZ2V4JykpIHtcbiAgICAgICAgICAgIGNvbXB1dGVNb250aHNQYXJzZS5jYWxsKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc1N0cmljdCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX21vbnRoc1N0cmljdFJlZ2V4O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX21vbnRoc1JlZ2V4O1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKCFoYXNPd25Qcm9wKHRoaXMsICdfbW9udGhzUmVnZXgnKSkge1xuICAgICAgICAgICAgdGhpcy5fbW9udGhzUmVnZXggPSBkZWZhdWx0TW9udGhzUmVnZXg7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX21vbnRoc1N0cmljdFJlZ2V4ICYmIGlzU3RyaWN0ID9cbiAgICAgICAgICAgIHRoaXMuX21vbnRoc1N0cmljdFJlZ2V4IDogdGhpcy5fbW9udGhzUmVnZXg7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBjb21wdXRlTW9udGhzUGFyc2UgKCkge1xuICAgIGZ1bmN0aW9uIGNtcExlblJldihhLCBiKSB7XG4gICAgICAgIHJldHVybiBiLmxlbmd0aCAtIGEubGVuZ3RoO1xuICAgIH1cblxuICAgIHZhciBzaG9ydFBpZWNlcyA9IFtdLCBsb25nUGllY2VzID0gW10sIG1peGVkUGllY2VzID0gW10sXG4gICAgICAgIGksIG1vbTtcbiAgICBmb3IgKGkgPSAwOyBpIDwgMTI7IGkrKykge1xuICAgICAgICAvLyBtYWtlIHRoZSByZWdleCBpZiB3ZSBkb24ndCBoYXZlIGl0IGFscmVhZHlcbiAgICAgICAgbW9tID0gY3JlYXRlVVRDKFsyMDAwLCBpXSk7XG4gICAgICAgIHNob3J0UGllY2VzLnB1c2godGhpcy5tb250aHNTaG9ydChtb20sICcnKSk7XG4gICAgICAgIGxvbmdQaWVjZXMucHVzaCh0aGlzLm1vbnRocyhtb20sICcnKSk7XG4gICAgICAgIG1peGVkUGllY2VzLnB1c2godGhpcy5tb250aHMobW9tLCAnJykpO1xuICAgICAgICBtaXhlZFBpZWNlcy5wdXNoKHRoaXMubW9udGhzU2hvcnQobW9tLCAnJykpO1xuICAgIH1cbiAgICAvLyBTb3J0aW5nIG1ha2VzIHN1cmUgaWYgb25lIG1vbnRoIChvciBhYmJyKSBpcyBhIHByZWZpeCBvZiBhbm90aGVyIGl0XG4gICAgLy8gd2lsbCBtYXRjaCB0aGUgbG9uZ2VyIHBpZWNlLlxuICAgIHNob3J0UGllY2VzLnNvcnQoY21wTGVuUmV2KTtcbiAgICBsb25nUGllY2VzLnNvcnQoY21wTGVuUmV2KTtcbiAgICBtaXhlZFBpZWNlcy5zb3J0KGNtcExlblJldik7XG4gICAgZm9yIChpID0gMDsgaSA8IDEyOyBpKyspIHtcbiAgICAgICAgc2hvcnRQaWVjZXNbaV0gPSByZWdleEVzY2FwZShzaG9ydFBpZWNlc1tpXSk7XG4gICAgICAgIGxvbmdQaWVjZXNbaV0gPSByZWdleEVzY2FwZShsb25nUGllY2VzW2ldKTtcbiAgICB9XG4gICAgZm9yIChpID0gMDsgaSA8IDI0OyBpKyspIHtcbiAgICAgICAgbWl4ZWRQaWVjZXNbaV0gPSByZWdleEVzY2FwZShtaXhlZFBpZWNlc1tpXSk7XG4gICAgfVxuXG4gICAgdGhpcy5fbW9udGhzUmVnZXggPSBuZXcgUmVnRXhwKCdeKCcgKyBtaXhlZFBpZWNlcy5qb2luKCd8JykgKyAnKScsICdpJyk7XG4gICAgdGhpcy5fbW9udGhzU2hvcnRSZWdleCA9IHRoaXMuX21vbnRoc1JlZ2V4O1xuICAgIHRoaXMuX21vbnRoc1N0cmljdFJlZ2V4ID0gbmV3IFJlZ0V4cCgnXignICsgbG9uZ1BpZWNlcy5qb2luKCd8JykgKyAnKScsICdpJyk7XG4gICAgdGhpcy5fbW9udGhzU2hvcnRTdHJpY3RSZWdleCA9IG5ldyBSZWdFeHAoJ14oJyArIHNob3J0UGllY2VzLmpvaW4oJ3wnKSArICcpJywgJ2knKTtcbn1cblxuLy8gRk9STUFUVElOR1xuXG5hZGRGb3JtYXRUb2tlbignWScsIDAsIDAsIGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgeSA9IHRoaXMueWVhcigpO1xuICAgIHJldHVybiB5IDw9IDk5OTkgPyAnJyArIHkgOiAnKycgKyB5O1xufSk7XG5cbmFkZEZvcm1hdFRva2VuKDAsIFsnWVknLCAyXSwgMCwgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLnllYXIoKSAlIDEwMDtcbn0pO1xuXG5hZGRGb3JtYXRUb2tlbigwLCBbJ1lZWVknLCAgIDRdLCAgICAgICAwLCAneWVhcicpO1xuYWRkRm9ybWF0VG9rZW4oMCwgWydZWVlZWScsICA1XSwgICAgICAgMCwgJ3llYXInKTtcbmFkZEZvcm1hdFRva2VuKDAsIFsnWVlZWVlZJywgNiwgdHJ1ZV0sIDAsICd5ZWFyJyk7XG5cbi8vIEFMSUFTRVNcblxuYWRkVW5pdEFsaWFzKCd5ZWFyJywgJ3knKTtcblxuLy8gUFJJT1JJVElFU1xuXG5hZGRVbml0UHJpb3JpdHkoJ3llYXInLCAxKTtcblxuLy8gUEFSU0lOR1xuXG5hZGRSZWdleFRva2VuKCdZJywgICAgICBtYXRjaFNpZ25lZCk7XG5hZGRSZWdleFRva2VuKCdZWScsICAgICBtYXRjaDF0bzIsIG1hdGNoMik7XG5hZGRSZWdleFRva2VuKCdZWVlZJywgICBtYXRjaDF0bzQsIG1hdGNoNCk7XG5hZGRSZWdleFRva2VuKCdZWVlZWScsICBtYXRjaDF0bzYsIG1hdGNoNik7XG5hZGRSZWdleFRva2VuKCdZWVlZWVknLCBtYXRjaDF0bzYsIG1hdGNoNik7XG5cbmFkZFBhcnNlVG9rZW4oWydZWVlZWScsICdZWVlZWVknXSwgWUVBUik7XG5hZGRQYXJzZVRva2VuKCdZWVlZJywgZnVuY3Rpb24gKGlucHV0LCBhcnJheSkge1xuICAgIGFycmF5W1lFQVJdID0gaW5wdXQubGVuZ3RoID09PSAyID8gaG9va3MucGFyc2VUd29EaWdpdFllYXIoaW5wdXQpIDogdG9JbnQoaW5wdXQpO1xufSk7XG5hZGRQYXJzZVRva2VuKCdZWScsIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXkpIHtcbiAgICBhcnJheVtZRUFSXSA9IGhvb2tzLnBhcnNlVHdvRGlnaXRZZWFyKGlucHV0KTtcbn0pO1xuYWRkUGFyc2VUb2tlbignWScsIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXkpIHtcbiAgICBhcnJheVtZRUFSXSA9IHBhcnNlSW50KGlucHV0LCAxMCk7XG59KTtcblxuLy8gSEVMUEVSU1xuXG5mdW5jdGlvbiBkYXlzSW5ZZWFyKHllYXIpIHtcbiAgICByZXR1cm4gaXNMZWFwWWVhcih5ZWFyKSA/IDM2NiA6IDM2NTtcbn1cblxuZnVuY3Rpb24gaXNMZWFwWWVhcih5ZWFyKSB7XG4gICAgcmV0dXJuICh5ZWFyICUgNCA9PT0gMCAmJiB5ZWFyICUgMTAwICE9PSAwKSB8fCB5ZWFyICUgNDAwID09PSAwO1xufVxuXG4vLyBIT09LU1xuXG5ob29rcy5wYXJzZVR3b0RpZ2l0WWVhciA9IGZ1bmN0aW9uIChpbnB1dCkge1xuICAgIHJldHVybiB0b0ludChpbnB1dCkgKyAodG9JbnQoaW5wdXQpID4gNjggPyAxOTAwIDogMjAwMCk7XG59O1xuXG4vLyBNT01FTlRTXG5cbnZhciBnZXRTZXRZZWFyID0gbWFrZUdldFNldCgnRnVsbFllYXInLCB0cnVlKTtcblxuZnVuY3Rpb24gZ2V0SXNMZWFwWWVhciAoKSB7XG4gICAgcmV0dXJuIGlzTGVhcFllYXIodGhpcy55ZWFyKCkpO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVEYXRlICh5LCBtLCBkLCBoLCBNLCBzLCBtcykge1xuICAgIC8vY2FuJ3QganVzdCBhcHBseSgpIHRvIGNyZWF0ZSBhIGRhdGU6XG4gICAgLy9odHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzE4MTM0OC9pbnN0YW50aWF0aW5nLWEtamF2YXNjcmlwdC1vYmplY3QtYnktY2FsbGluZy1wcm90b3R5cGUtY29uc3RydWN0b3ItYXBwbHlcbiAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKHksIG0sIGQsIGgsIE0sIHMsIG1zKTtcblxuICAgIC8vdGhlIGRhdGUgY29uc3RydWN0b3IgcmVtYXBzIHllYXJzIDAtOTkgdG8gMTkwMC0xOTk5XG4gICAgaWYgKHkgPCAxMDAgJiYgeSA+PSAwICYmIGlzRmluaXRlKGRhdGUuZ2V0RnVsbFllYXIoKSkpIHtcbiAgICAgICAgZGF0ZS5zZXRGdWxsWWVhcih5KTtcbiAgICB9XG4gICAgcmV0dXJuIGRhdGU7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVVUQ0RhdGUgKHkpIHtcbiAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKERhdGUuVVRDLmFwcGx5KG51bGwsIGFyZ3VtZW50cykpO1xuXG4gICAgLy90aGUgRGF0ZS5VVEMgZnVuY3Rpb24gcmVtYXBzIHllYXJzIDAtOTkgdG8gMTkwMC0xOTk5XG4gICAgaWYgKHkgPCAxMDAgJiYgeSA+PSAwICYmIGlzRmluaXRlKGRhdGUuZ2V0VVRDRnVsbFllYXIoKSkpIHtcbiAgICAgICAgZGF0ZS5zZXRVVENGdWxsWWVhcih5KTtcbiAgICB9XG4gICAgcmV0dXJuIGRhdGU7XG59XG5cbi8vIHN0YXJ0LW9mLWZpcnN0LXdlZWsgLSBzdGFydC1vZi15ZWFyXG5mdW5jdGlvbiBmaXJzdFdlZWtPZmZzZXQoeWVhciwgZG93LCBkb3kpIHtcbiAgICB2YXIgLy8gZmlyc3Qtd2VlayBkYXkgLS0gd2hpY2ggamFudWFyeSBpcyBhbHdheXMgaW4gdGhlIGZpcnN0IHdlZWsgKDQgZm9yIGlzbywgMSBmb3Igb3RoZXIpXG4gICAgICAgIGZ3ZCA9IDcgKyBkb3cgLSBkb3ksXG4gICAgICAgIC8vIGZpcnN0LXdlZWsgZGF5IGxvY2FsIHdlZWtkYXkgLS0gd2hpY2ggbG9jYWwgd2Vla2RheSBpcyBmd2RcbiAgICAgICAgZndkbHcgPSAoNyArIGNyZWF0ZVVUQ0RhdGUoeWVhciwgMCwgZndkKS5nZXRVVENEYXkoKSAtIGRvdykgJSA3O1xuXG4gICAgcmV0dXJuIC1md2RsdyArIGZ3ZCAtIDE7XG59XG5cbi8vaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9JU09fd2Vla19kYXRlI0NhbGN1bGF0aW5nX2FfZGF0ZV9naXZlbl90aGVfeWVhci4yQ193ZWVrX251bWJlcl9hbmRfd2Vla2RheVxuZnVuY3Rpb24gZGF5T2ZZZWFyRnJvbVdlZWtzKHllYXIsIHdlZWssIHdlZWtkYXksIGRvdywgZG95KSB7XG4gICAgdmFyIGxvY2FsV2Vla2RheSA9ICg3ICsgd2Vla2RheSAtIGRvdykgJSA3LFxuICAgICAgICB3ZWVrT2Zmc2V0ID0gZmlyc3RXZWVrT2Zmc2V0KHllYXIsIGRvdywgZG95KSxcbiAgICAgICAgZGF5T2ZZZWFyID0gMSArIDcgKiAod2VlayAtIDEpICsgbG9jYWxXZWVrZGF5ICsgd2Vla09mZnNldCxcbiAgICAgICAgcmVzWWVhciwgcmVzRGF5T2ZZZWFyO1xuXG4gICAgaWYgKGRheU9mWWVhciA8PSAwKSB7XG4gICAgICAgIHJlc1llYXIgPSB5ZWFyIC0gMTtcbiAgICAgICAgcmVzRGF5T2ZZZWFyID0gZGF5c0luWWVhcihyZXNZZWFyKSArIGRheU9mWWVhcjtcbiAgICB9IGVsc2UgaWYgKGRheU9mWWVhciA+IGRheXNJblllYXIoeWVhcikpIHtcbiAgICAgICAgcmVzWWVhciA9IHllYXIgKyAxO1xuICAgICAgICByZXNEYXlPZlllYXIgPSBkYXlPZlllYXIgLSBkYXlzSW5ZZWFyKHllYXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc1llYXIgPSB5ZWFyO1xuICAgICAgICByZXNEYXlPZlllYXIgPSBkYXlPZlllYXI7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgeWVhcjogcmVzWWVhcixcbiAgICAgICAgZGF5T2ZZZWFyOiByZXNEYXlPZlllYXJcbiAgICB9O1xufVxuXG5mdW5jdGlvbiB3ZWVrT2ZZZWFyKG1vbSwgZG93LCBkb3kpIHtcbiAgICB2YXIgd2Vla09mZnNldCA9IGZpcnN0V2Vla09mZnNldChtb20ueWVhcigpLCBkb3csIGRveSksXG4gICAgICAgIHdlZWsgPSBNYXRoLmZsb29yKChtb20uZGF5T2ZZZWFyKCkgLSB3ZWVrT2Zmc2V0IC0gMSkgLyA3KSArIDEsXG4gICAgICAgIHJlc1dlZWssIHJlc1llYXI7XG5cbiAgICBpZiAod2VlayA8IDEpIHtcbiAgICAgICAgcmVzWWVhciA9IG1vbS55ZWFyKCkgLSAxO1xuICAgICAgICByZXNXZWVrID0gd2VlayArIHdlZWtzSW5ZZWFyKHJlc1llYXIsIGRvdywgZG95KTtcbiAgICB9IGVsc2UgaWYgKHdlZWsgPiB3ZWVrc0luWWVhcihtb20ueWVhcigpLCBkb3csIGRveSkpIHtcbiAgICAgICAgcmVzV2VlayA9IHdlZWsgLSB3ZWVrc0luWWVhcihtb20ueWVhcigpLCBkb3csIGRveSk7XG4gICAgICAgIHJlc1llYXIgPSBtb20ueWVhcigpICsgMTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXNZZWFyID0gbW9tLnllYXIoKTtcbiAgICAgICAgcmVzV2VlayA9IHdlZWs7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgd2VlazogcmVzV2VlayxcbiAgICAgICAgeWVhcjogcmVzWWVhclxuICAgIH07XG59XG5cbmZ1bmN0aW9uIHdlZWtzSW5ZZWFyKHllYXIsIGRvdywgZG95KSB7XG4gICAgdmFyIHdlZWtPZmZzZXQgPSBmaXJzdFdlZWtPZmZzZXQoeWVhciwgZG93LCBkb3kpLFxuICAgICAgICB3ZWVrT2Zmc2V0TmV4dCA9IGZpcnN0V2Vla09mZnNldCh5ZWFyICsgMSwgZG93LCBkb3kpO1xuICAgIHJldHVybiAoZGF5c0luWWVhcih5ZWFyKSAtIHdlZWtPZmZzZXQgKyB3ZWVrT2Zmc2V0TmV4dCkgLyA3O1xufVxuXG4vLyBGT1JNQVRUSU5HXG5cbmFkZEZvcm1hdFRva2VuKCd3JywgWyd3dycsIDJdLCAnd28nLCAnd2VlaycpO1xuYWRkRm9ybWF0VG9rZW4oJ1cnLCBbJ1dXJywgMl0sICdXbycsICdpc29XZWVrJyk7XG5cbi8vIEFMSUFTRVNcblxuYWRkVW5pdEFsaWFzKCd3ZWVrJywgJ3cnKTtcbmFkZFVuaXRBbGlhcygnaXNvV2VlaycsICdXJyk7XG5cbi8vIFBSSU9SSVRJRVNcblxuYWRkVW5pdFByaW9yaXR5KCd3ZWVrJywgNSk7XG5hZGRVbml0UHJpb3JpdHkoJ2lzb1dlZWsnLCA1KTtcblxuLy8gUEFSU0lOR1xuXG5hZGRSZWdleFRva2VuKCd3JywgIG1hdGNoMXRvMik7XG5hZGRSZWdleFRva2VuKCd3dycsIG1hdGNoMXRvMiwgbWF0Y2gyKTtcbmFkZFJlZ2V4VG9rZW4oJ1cnLCAgbWF0Y2gxdG8yKTtcbmFkZFJlZ2V4VG9rZW4oJ1dXJywgbWF0Y2gxdG8yLCBtYXRjaDIpO1xuXG5hZGRXZWVrUGFyc2VUb2tlbihbJ3cnLCAnd3cnLCAnVycsICdXVyddLCBmdW5jdGlvbiAoaW5wdXQsIHdlZWssIGNvbmZpZywgdG9rZW4pIHtcbiAgICB3ZWVrW3Rva2VuLnN1YnN0cigwLCAxKV0gPSB0b0ludChpbnB1dCk7XG59KTtcblxuLy8gSEVMUEVSU1xuXG4vLyBMT0NBTEVTXG5cbmZ1bmN0aW9uIGxvY2FsZVdlZWsgKG1vbSkge1xuICAgIHJldHVybiB3ZWVrT2ZZZWFyKG1vbSwgdGhpcy5fd2Vlay5kb3csIHRoaXMuX3dlZWsuZG95KS53ZWVrO1xufVxuXG52YXIgZGVmYXVsdExvY2FsZVdlZWsgPSB7XG4gICAgZG93IDogMCwgLy8gU3VuZGF5IGlzIHRoZSBmaXJzdCBkYXkgb2YgdGhlIHdlZWsuXG4gICAgZG95IDogNiAgLy8gVGhlIHdlZWsgdGhhdCBjb250YWlucyBKYW4gMXN0IGlzIHRoZSBmaXJzdCB3ZWVrIG9mIHRoZSB5ZWFyLlxufTtcblxuZnVuY3Rpb24gbG9jYWxlRmlyc3REYXlPZldlZWsgKCkge1xuICAgIHJldHVybiB0aGlzLl93ZWVrLmRvdztcbn1cblxuZnVuY3Rpb24gbG9jYWxlRmlyc3REYXlPZlllYXIgKCkge1xuICAgIHJldHVybiB0aGlzLl93ZWVrLmRveTtcbn1cblxuLy8gTU9NRU5UU1xuXG5mdW5jdGlvbiBnZXRTZXRXZWVrIChpbnB1dCkge1xuICAgIHZhciB3ZWVrID0gdGhpcy5sb2NhbGVEYXRhKCkud2Vlayh0aGlzKTtcbiAgICByZXR1cm4gaW5wdXQgPT0gbnVsbCA/IHdlZWsgOiB0aGlzLmFkZCgoaW5wdXQgLSB3ZWVrKSAqIDcsICdkJyk7XG59XG5cbmZ1bmN0aW9uIGdldFNldElTT1dlZWsgKGlucHV0KSB7XG4gICAgdmFyIHdlZWsgPSB3ZWVrT2ZZZWFyKHRoaXMsIDEsIDQpLndlZWs7XG4gICAgcmV0dXJuIGlucHV0ID09IG51bGwgPyB3ZWVrIDogdGhpcy5hZGQoKGlucHV0IC0gd2VlaykgKiA3LCAnZCcpO1xufVxuXG4vLyBGT1JNQVRUSU5HXG5cbmFkZEZvcm1hdFRva2VuKCdkJywgMCwgJ2RvJywgJ2RheScpO1xuXG5hZGRGb3JtYXRUb2tlbignZGQnLCAwLCAwLCBmdW5jdGlvbiAoZm9ybWF0KSB7XG4gICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLndlZWtkYXlzTWluKHRoaXMsIGZvcm1hdCk7XG59KTtcblxuYWRkRm9ybWF0VG9rZW4oJ2RkZCcsIDAsIDAsIGZ1bmN0aW9uIChmb3JtYXQpIHtcbiAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkud2Vla2RheXNTaG9ydCh0aGlzLCBmb3JtYXQpO1xufSk7XG5cbmFkZEZvcm1hdFRva2VuKCdkZGRkJywgMCwgMCwgZnVuY3Rpb24gKGZvcm1hdCkge1xuICAgIHJldHVybiB0aGlzLmxvY2FsZURhdGEoKS53ZWVrZGF5cyh0aGlzLCBmb3JtYXQpO1xufSk7XG5cbmFkZEZvcm1hdFRva2VuKCdlJywgMCwgMCwgJ3dlZWtkYXknKTtcbmFkZEZvcm1hdFRva2VuKCdFJywgMCwgMCwgJ2lzb1dlZWtkYXknKTtcblxuLy8gQUxJQVNFU1xuXG5hZGRVbml0QWxpYXMoJ2RheScsICdkJyk7XG5hZGRVbml0QWxpYXMoJ3dlZWtkYXknLCAnZScpO1xuYWRkVW5pdEFsaWFzKCdpc29XZWVrZGF5JywgJ0UnKTtcblxuLy8gUFJJT1JJVFlcbmFkZFVuaXRQcmlvcml0eSgnZGF5JywgMTEpO1xuYWRkVW5pdFByaW9yaXR5KCd3ZWVrZGF5JywgMTEpO1xuYWRkVW5pdFByaW9yaXR5KCdpc29XZWVrZGF5JywgMTEpO1xuXG4vLyBQQVJTSU5HXG5cbmFkZFJlZ2V4VG9rZW4oJ2QnLCAgICBtYXRjaDF0bzIpO1xuYWRkUmVnZXhUb2tlbignZScsICAgIG1hdGNoMXRvMik7XG5hZGRSZWdleFRva2VuKCdFJywgICAgbWF0Y2gxdG8yKTtcbmFkZFJlZ2V4VG9rZW4oJ2RkJywgICBmdW5jdGlvbiAoaXNTdHJpY3QsIGxvY2FsZSkge1xuICAgIHJldHVybiBsb2NhbGUud2Vla2RheXNNaW5SZWdleChpc1N0cmljdCk7XG59KTtcbmFkZFJlZ2V4VG9rZW4oJ2RkZCcsICAgZnVuY3Rpb24gKGlzU3RyaWN0LCBsb2NhbGUpIHtcbiAgICByZXR1cm4gbG9jYWxlLndlZWtkYXlzU2hvcnRSZWdleChpc1N0cmljdCk7XG59KTtcbmFkZFJlZ2V4VG9rZW4oJ2RkZGQnLCAgIGZ1bmN0aW9uIChpc1N0cmljdCwgbG9jYWxlKSB7XG4gICAgcmV0dXJuIGxvY2FsZS53ZWVrZGF5c1JlZ2V4KGlzU3RyaWN0KTtcbn0pO1xuXG5hZGRXZWVrUGFyc2VUb2tlbihbJ2RkJywgJ2RkZCcsICdkZGRkJ10sIGZ1bmN0aW9uIChpbnB1dCwgd2VlaywgY29uZmlnLCB0b2tlbikge1xuICAgIHZhciB3ZWVrZGF5ID0gY29uZmlnLl9sb2NhbGUud2Vla2RheXNQYXJzZShpbnB1dCwgdG9rZW4sIGNvbmZpZy5fc3RyaWN0KTtcbiAgICAvLyBpZiB3ZSBkaWRuJ3QgZ2V0IGEgd2Vla2RheSBuYW1lLCBtYXJrIHRoZSBkYXRlIGFzIGludmFsaWRcbiAgICBpZiAod2Vla2RheSAhPSBudWxsKSB7XG4gICAgICAgIHdlZWsuZCA9IHdlZWtkYXk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuaW52YWxpZFdlZWtkYXkgPSBpbnB1dDtcbiAgICB9XG59KTtcblxuYWRkV2Vla1BhcnNlVG9rZW4oWydkJywgJ2UnLCAnRSddLCBmdW5jdGlvbiAoaW5wdXQsIHdlZWssIGNvbmZpZywgdG9rZW4pIHtcbiAgICB3ZWVrW3Rva2VuXSA9IHRvSW50KGlucHV0KTtcbn0pO1xuXG4vLyBIRUxQRVJTXG5cbmZ1bmN0aW9uIHBhcnNlV2Vla2RheShpbnB1dCwgbG9jYWxlKSB7XG4gICAgaWYgKHR5cGVvZiBpbnB1dCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIGlucHV0O1xuICAgIH1cblxuICAgIGlmICghaXNOYU4oaW5wdXQpKSB7XG4gICAgICAgIHJldHVybiBwYXJzZUludChpbnB1dCwgMTApO1xuICAgIH1cblxuICAgIGlucHV0ID0gbG9jYWxlLndlZWtkYXlzUGFyc2UoaW5wdXQpO1xuICAgIGlmICh0eXBlb2YgaW5wdXQgPT09ICdudW1iZXInKSB7XG4gICAgICAgIHJldHVybiBpbnB1dDtcbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbn1cblxuZnVuY3Rpb24gcGFyc2VJc29XZWVrZGF5KGlucHV0LCBsb2NhbGUpIHtcbiAgICBpZiAodHlwZW9mIGlucHV0ID09PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gbG9jYWxlLndlZWtkYXlzUGFyc2UoaW5wdXQpICUgNyB8fCA3O1xuICAgIH1cbiAgICByZXR1cm4gaXNOYU4oaW5wdXQpID8gbnVsbCA6IGlucHV0O1xufVxuXG4vLyBMT0NBTEVTXG5cbnZhciBkZWZhdWx0TG9jYWxlV2Vla2RheXMgPSAnU3VuZGF5X01vbmRheV9UdWVzZGF5X1dlZG5lc2RheV9UaHVyc2RheV9GcmlkYXlfU2F0dXJkYXknLnNwbGl0KCdfJyk7XG5mdW5jdGlvbiBsb2NhbGVXZWVrZGF5cyAobSwgZm9ybWF0KSB7XG4gICAgaWYgKCFtKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl93ZWVrZGF5cztcbiAgICB9XG4gICAgcmV0dXJuIGlzQXJyYXkodGhpcy5fd2Vla2RheXMpID8gdGhpcy5fd2Vla2RheXNbbS5kYXkoKV0gOlxuICAgICAgICB0aGlzLl93ZWVrZGF5c1t0aGlzLl93ZWVrZGF5cy5pc0Zvcm1hdC50ZXN0KGZvcm1hdCkgPyAnZm9ybWF0JyA6ICdzdGFuZGFsb25lJ11bbS5kYXkoKV07XG59XG5cbnZhciBkZWZhdWx0TG9jYWxlV2Vla2RheXNTaG9ydCA9ICdTdW5fTW9uX1R1ZV9XZWRfVGh1X0ZyaV9TYXQnLnNwbGl0KCdfJyk7XG5mdW5jdGlvbiBsb2NhbGVXZWVrZGF5c1Nob3J0IChtKSB7XG4gICAgcmV0dXJuIChtKSA/IHRoaXMuX3dlZWtkYXlzU2hvcnRbbS5kYXkoKV0gOiB0aGlzLl93ZWVrZGF5c1Nob3J0O1xufVxuXG52YXIgZGVmYXVsdExvY2FsZVdlZWtkYXlzTWluID0gJ1N1X01vX1R1X1dlX1RoX0ZyX1NhJy5zcGxpdCgnXycpO1xuZnVuY3Rpb24gbG9jYWxlV2Vla2RheXNNaW4gKG0pIHtcbiAgICByZXR1cm4gKG0pID8gdGhpcy5fd2Vla2RheXNNaW5bbS5kYXkoKV0gOiB0aGlzLl93ZWVrZGF5c01pbjtcbn1cblxuZnVuY3Rpb24gaGFuZGxlU3RyaWN0UGFyc2UkMSh3ZWVrZGF5TmFtZSwgZm9ybWF0LCBzdHJpY3QpIHtcbiAgICB2YXIgaSwgaWksIG1vbSwgbGxjID0gd2Vla2RheU5hbWUudG9Mb2NhbGVMb3dlckNhc2UoKTtcbiAgICBpZiAoIXRoaXMuX3dlZWtkYXlzUGFyc2UpIHtcbiAgICAgICAgdGhpcy5fd2Vla2RheXNQYXJzZSA9IFtdO1xuICAgICAgICB0aGlzLl9zaG9ydFdlZWtkYXlzUGFyc2UgPSBbXTtcbiAgICAgICAgdGhpcy5fbWluV2Vla2RheXNQYXJzZSA9IFtdO1xuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCA3OyArK2kpIHtcbiAgICAgICAgICAgIG1vbSA9IGNyZWF0ZVVUQyhbMjAwMCwgMV0pLmRheShpKTtcbiAgICAgICAgICAgIHRoaXMuX21pbldlZWtkYXlzUGFyc2VbaV0gPSB0aGlzLndlZWtkYXlzTWluKG1vbSwgJycpLnRvTG9jYWxlTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICB0aGlzLl9zaG9ydFdlZWtkYXlzUGFyc2VbaV0gPSB0aGlzLndlZWtkYXlzU2hvcnQobW9tLCAnJykudG9Mb2NhbGVMb3dlckNhc2UoKTtcbiAgICAgICAgICAgIHRoaXMuX3dlZWtkYXlzUGFyc2VbaV0gPSB0aGlzLndlZWtkYXlzKG1vbSwgJycpLnRvTG9jYWxlTG93ZXJDYXNlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoc3RyaWN0KSB7XG4gICAgICAgIGlmIChmb3JtYXQgPT09ICdkZGRkJykge1xuICAgICAgICAgICAgaWkgPSBpbmRleE9mJDEuY2FsbCh0aGlzLl93ZWVrZGF5c1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgcmV0dXJuIGlpICE9PSAtMSA/IGlpIDogbnVsbDtcbiAgICAgICAgfSBlbHNlIGlmIChmb3JtYXQgPT09ICdkZGQnKSB7XG4gICAgICAgICAgICBpaSA9IGluZGV4T2YkMS5jYWxsKHRoaXMuX3Nob3J0V2Vla2RheXNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgIHJldHVybiBpaSAhPT0gLTEgPyBpaSA6IG51bGw7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpaSA9IGluZGV4T2YkMS5jYWxsKHRoaXMuX21pbldlZWtkYXlzUGFyc2UsIGxsYyk7XG4gICAgICAgICAgICByZXR1cm4gaWkgIT09IC0xID8gaWkgOiBudWxsO1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGZvcm1hdCA9PT0gJ2RkZGQnKSB7XG4gICAgICAgICAgICBpaSA9IGluZGV4T2YkMS5jYWxsKHRoaXMuX3dlZWtkYXlzUGFyc2UsIGxsYyk7XG4gICAgICAgICAgICBpZiAoaWkgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWkgPSBpbmRleE9mJDEuY2FsbCh0aGlzLl9zaG9ydFdlZWtkYXlzUGFyc2UsIGxsYyk7XG4gICAgICAgICAgICBpZiAoaWkgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWkgPSBpbmRleE9mJDEuY2FsbCh0aGlzLl9taW5XZWVrZGF5c1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgcmV0dXJuIGlpICE9PSAtMSA/IGlpIDogbnVsbDtcbiAgICAgICAgfSBlbHNlIGlmIChmb3JtYXQgPT09ICdkZGQnKSB7XG4gICAgICAgICAgICBpaSA9IGluZGV4T2YkMS5jYWxsKHRoaXMuX3Nob3J0V2Vla2RheXNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgIGlmIChpaSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaWk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpaSA9IGluZGV4T2YkMS5jYWxsKHRoaXMuX3dlZWtkYXlzUGFyc2UsIGxsYyk7XG4gICAgICAgICAgICBpZiAoaWkgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWkgPSBpbmRleE9mJDEuY2FsbCh0aGlzLl9taW5XZWVrZGF5c1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgcmV0dXJuIGlpICE9PSAtMSA/IGlpIDogbnVsbDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlpID0gaW5kZXhPZiQxLmNhbGwodGhpcy5fbWluV2Vla2RheXNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgIGlmIChpaSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaWk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpaSA9IGluZGV4T2YkMS5jYWxsKHRoaXMuX3dlZWtkYXlzUGFyc2UsIGxsYyk7XG4gICAgICAgICAgICBpZiAoaWkgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWkgPSBpbmRleE9mJDEuY2FsbCh0aGlzLl9zaG9ydFdlZWtkYXlzUGFyc2UsIGxsYyk7XG4gICAgICAgICAgICByZXR1cm4gaWkgIT09IC0xID8gaWkgOiBudWxsO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiBsb2NhbGVXZWVrZGF5c1BhcnNlICh3ZWVrZGF5TmFtZSwgZm9ybWF0LCBzdHJpY3QpIHtcbiAgICB2YXIgaSwgbW9tLCByZWdleDtcblxuICAgIGlmICh0aGlzLl93ZWVrZGF5c1BhcnNlRXhhY3QpIHtcbiAgICAgICAgcmV0dXJuIGhhbmRsZVN0cmljdFBhcnNlJDEuY2FsbCh0aGlzLCB3ZWVrZGF5TmFtZSwgZm9ybWF0LCBzdHJpY3QpO1xuICAgIH1cblxuICAgIGlmICghdGhpcy5fd2Vla2RheXNQYXJzZSkge1xuICAgICAgICB0aGlzLl93ZWVrZGF5c1BhcnNlID0gW107XG4gICAgICAgIHRoaXMuX21pbldlZWtkYXlzUGFyc2UgPSBbXTtcbiAgICAgICAgdGhpcy5fc2hvcnRXZWVrZGF5c1BhcnNlID0gW107XG4gICAgICAgIHRoaXMuX2Z1bGxXZWVrZGF5c1BhcnNlID0gW107XG4gICAgfVxuXG4gICAgZm9yIChpID0gMDsgaSA8IDc7IGkrKykge1xuICAgICAgICAvLyBtYWtlIHRoZSByZWdleCBpZiB3ZSBkb24ndCBoYXZlIGl0IGFscmVhZHlcblxuICAgICAgICBtb20gPSBjcmVhdGVVVEMoWzIwMDAsIDFdKS5kYXkoaSk7XG4gICAgICAgIGlmIChzdHJpY3QgJiYgIXRoaXMuX2Z1bGxXZWVrZGF5c1BhcnNlW2ldKSB7XG4gICAgICAgICAgICB0aGlzLl9mdWxsV2Vla2RheXNQYXJzZVtpXSA9IG5ldyBSZWdFeHAoJ14nICsgdGhpcy53ZWVrZGF5cyhtb20sICcnKS5yZXBsYWNlKCcuJywgJ1xcLj8nKSArICckJywgJ2knKTtcbiAgICAgICAgICAgIHRoaXMuX3Nob3J0V2Vla2RheXNQYXJzZVtpXSA9IG5ldyBSZWdFeHAoJ14nICsgdGhpcy53ZWVrZGF5c1Nob3J0KG1vbSwgJycpLnJlcGxhY2UoJy4nLCAnXFwuPycpICsgJyQnLCAnaScpO1xuICAgICAgICAgICAgdGhpcy5fbWluV2Vla2RheXNQYXJzZVtpXSA9IG5ldyBSZWdFeHAoJ14nICsgdGhpcy53ZWVrZGF5c01pbihtb20sICcnKS5yZXBsYWNlKCcuJywgJ1xcLj8nKSArICckJywgJ2knKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuX3dlZWtkYXlzUGFyc2VbaV0pIHtcbiAgICAgICAgICAgIHJlZ2V4ID0gJ14nICsgdGhpcy53ZWVrZGF5cyhtb20sICcnKSArICd8XicgKyB0aGlzLndlZWtkYXlzU2hvcnQobW9tLCAnJykgKyAnfF4nICsgdGhpcy53ZWVrZGF5c01pbihtb20sICcnKTtcbiAgICAgICAgICAgIHRoaXMuX3dlZWtkYXlzUGFyc2VbaV0gPSBuZXcgUmVnRXhwKHJlZ2V4LnJlcGxhY2UoJy4nLCAnJyksICdpJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdGVzdCB0aGUgcmVnZXhcbiAgICAgICAgaWYgKHN0cmljdCAmJiBmb3JtYXQgPT09ICdkZGRkJyAmJiB0aGlzLl9mdWxsV2Vla2RheXNQYXJzZVtpXS50ZXN0KHdlZWtkYXlOYW1lKSkge1xuICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgIH0gZWxzZSBpZiAoc3RyaWN0ICYmIGZvcm1hdCA9PT0gJ2RkZCcgJiYgdGhpcy5fc2hvcnRXZWVrZGF5c1BhcnNlW2ldLnRlc3Qod2Vla2RheU5hbWUpKSB7XG4gICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgfSBlbHNlIGlmIChzdHJpY3QgJiYgZm9ybWF0ID09PSAnZGQnICYmIHRoaXMuX21pbldlZWtkYXlzUGFyc2VbaV0udGVzdCh3ZWVrZGF5TmFtZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICB9IGVsc2UgaWYgKCFzdHJpY3QgJiYgdGhpcy5fd2Vla2RheXNQYXJzZVtpXS50ZXN0KHdlZWtkYXlOYW1lKSkge1xuICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8vIE1PTUVOVFNcblxuZnVuY3Rpb24gZ2V0U2V0RGF5T2ZXZWVrIChpbnB1dCkge1xuICAgIGlmICghdGhpcy5pc1ZhbGlkKCkpIHtcbiAgICAgICAgcmV0dXJuIGlucHV0ICE9IG51bGwgPyB0aGlzIDogTmFOO1xuICAgIH1cbiAgICB2YXIgZGF5ID0gdGhpcy5faXNVVEMgPyB0aGlzLl9kLmdldFVUQ0RheSgpIDogdGhpcy5fZC5nZXREYXkoKTtcbiAgICBpZiAoaW5wdXQgIT0gbnVsbCkge1xuICAgICAgICBpbnB1dCA9IHBhcnNlV2Vla2RheShpbnB1dCwgdGhpcy5sb2NhbGVEYXRhKCkpO1xuICAgICAgICByZXR1cm4gdGhpcy5hZGQoaW5wdXQgLSBkYXksICdkJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGRheTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGdldFNldExvY2FsZURheU9mV2VlayAoaW5wdXQpIHtcbiAgICBpZiAoIXRoaXMuaXNWYWxpZCgpKSB7XG4gICAgICAgIHJldHVybiBpbnB1dCAhPSBudWxsID8gdGhpcyA6IE5hTjtcbiAgICB9XG4gICAgdmFyIHdlZWtkYXkgPSAodGhpcy5kYXkoKSArIDcgLSB0aGlzLmxvY2FsZURhdGEoKS5fd2Vlay5kb3cpICUgNztcbiAgICByZXR1cm4gaW5wdXQgPT0gbnVsbCA/IHdlZWtkYXkgOiB0aGlzLmFkZChpbnB1dCAtIHdlZWtkYXksICdkJyk7XG59XG5cbmZ1bmN0aW9uIGdldFNldElTT0RheU9mV2VlayAoaW5wdXQpIHtcbiAgICBpZiAoIXRoaXMuaXNWYWxpZCgpKSB7XG4gICAgICAgIHJldHVybiBpbnB1dCAhPSBudWxsID8gdGhpcyA6IE5hTjtcbiAgICB9XG5cbiAgICAvLyBiZWhhdmVzIHRoZSBzYW1lIGFzIG1vbWVudCNkYXkgZXhjZXB0XG4gICAgLy8gYXMgYSBnZXR0ZXIsIHJldHVybnMgNyBpbnN0ZWFkIG9mIDAgKDEtNyByYW5nZSBpbnN0ZWFkIG9mIDAtNilcbiAgICAvLyBhcyBhIHNldHRlciwgc3VuZGF5IHNob3VsZCBiZWxvbmcgdG8gdGhlIHByZXZpb3VzIHdlZWsuXG5cbiAgICBpZiAoaW5wdXQgIT0gbnVsbCkge1xuICAgICAgICB2YXIgd2Vla2RheSA9IHBhcnNlSXNvV2Vla2RheShpbnB1dCwgdGhpcy5sb2NhbGVEYXRhKCkpO1xuICAgICAgICByZXR1cm4gdGhpcy5kYXkodGhpcy5kYXkoKSAlIDcgPyB3ZWVrZGF5IDogd2Vla2RheSAtIDcpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRheSgpIHx8IDc7XG4gICAgfVxufVxuXG52YXIgZGVmYXVsdFdlZWtkYXlzUmVnZXggPSBtYXRjaFdvcmQ7XG5mdW5jdGlvbiB3ZWVrZGF5c1JlZ2V4IChpc1N0cmljdCkge1xuICAgIGlmICh0aGlzLl93ZWVrZGF5c1BhcnNlRXhhY3QpIHtcbiAgICAgICAgaWYgKCFoYXNPd25Qcm9wKHRoaXMsICdfd2Vla2RheXNSZWdleCcpKSB7XG4gICAgICAgICAgICBjb21wdXRlV2Vla2RheXNQYXJzZS5jYWxsKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc1N0cmljdCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3dlZWtkYXlzU3RyaWN0UmVnZXg7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fd2Vla2RheXNSZWdleDtcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICghaGFzT3duUHJvcCh0aGlzLCAnX3dlZWtkYXlzUmVnZXgnKSkge1xuICAgICAgICAgICAgdGhpcy5fd2Vla2RheXNSZWdleCA9IGRlZmF1bHRXZWVrZGF5c1JlZ2V4O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl93ZWVrZGF5c1N0cmljdFJlZ2V4ICYmIGlzU3RyaWN0ID9cbiAgICAgICAgICAgIHRoaXMuX3dlZWtkYXlzU3RyaWN0UmVnZXggOiB0aGlzLl93ZWVrZGF5c1JlZ2V4O1xuICAgIH1cbn1cblxudmFyIGRlZmF1bHRXZWVrZGF5c1Nob3J0UmVnZXggPSBtYXRjaFdvcmQ7XG5mdW5jdGlvbiB3ZWVrZGF5c1Nob3J0UmVnZXggKGlzU3RyaWN0KSB7XG4gICAgaWYgKHRoaXMuX3dlZWtkYXlzUGFyc2VFeGFjdCkge1xuICAgICAgICBpZiAoIWhhc093blByb3AodGhpcywgJ193ZWVrZGF5c1JlZ2V4JykpIHtcbiAgICAgICAgICAgIGNvbXB1dGVXZWVrZGF5c1BhcnNlLmNhbGwodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzU3RyaWN0KSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fd2Vla2RheXNTaG9ydFN0cmljdFJlZ2V4O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3dlZWtkYXlzU2hvcnRSZWdleDtcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICghaGFzT3duUHJvcCh0aGlzLCAnX3dlZWtkYXlzU2hvcnRSZWdleCcpKSB7XG4gICAgICAgICAgICB0aGlzLl93ZWVrZGF5c1Nob3J0UmVnZXggPSBkZWZhdWx0V2Vla2RheXNTaG9ydFJlZ2V4O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl93ZWVrZGF5c1Nob3J0U3RyaWN0UmVnZXggJiYgaXNTdHJpY3QgP1xuICAgICAgICAgICAgdGhpcy5fd2Vla2RheXNTaG9ydFN0cmljdFJlZ2V4IDogdGhpcy5fd2Vla2RheXNTaG9ydFJlZ2V4O1xuICAgIH1cbn1cblxudmFyIGRlZmF1bHRXZWVrZGF5c01pblJlZ2V4ID0gbWF0Y2hXb3JkO1xuZnVuY3Rpb24gd2Vla2RheXNNaW5SZWdleCAoaXNTdHJpY3QpIHtcbiAgICBpZiAodGhpcy5fd2Vla2RheXNQYXJzZUV4YWN0KSB7XG4gICAgICAgIGlmICghaGFzT3duUHJvcCh0aGlzLCAnX3dlZWtkYXlzUmVnZXgnKSkge1xuICAgICAgICAgICAgY29tcHV0ZVdlZWtkYXlzUGFyc2UuY2FsbCh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNTdHJpY3QpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl93ZWVrZGF5c01pblN0cmljdFJlZ2V4O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3dlZWtkYXlzTWluUmVnZXg7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoIWhhc093blByb3AodGhpcywgJ193ZWVrZGF5c01pblJlZ2V4JykpIHtcbiAgICAgICAgICAgIHRoaXMuX3dlZWtkYXlzTWluUmVnZXggPSBkZWZhdWx0V2Vla2RheXNNaW5SZWdleDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fd2Vla2RheXNNaW5TdHJpY3RSZWdleCAmJiBpc1N0cmljdCA/XG4gICAgICAgICAgICB0aGlzLl93ZWVrZGF5c01pblN0cmljdFJlZ2V4IDogdGhpcy5fd2Vla2RheXNNaW5SZWdleDtcbiAgICB9XG59XG5cblxuZnVuY3Rpb24gY29tcHV0ZVdlZWtkYXlzUGFyc2UgKCkge1xuICAgIGZ1bmN0aW9uIGNtcExlblJldihhLCBiKSB7XG4gICAgICAgIHJldHVybiBiLmxlbmd0aCAtIGEubGVuZ3RoO1xuICAgIH1cblxuICAgIHZhciBtaW5QaWVjZXMgPSBbXSwgc2hvcnRQaWVjZXMgPSBbXSwgbG9uZ1BpZWNlcyA9IFtdLCBtaXhlZFBpZWNlcyA9IFtdLFxuICAgICAgICBpLCBtb20sIG1pbnAsIHNob3J0cCwgbG9uZ3A7XG4gICAgZm9yIChpID0gMDsgaSA8IDc7IGkrKykge1xuICAgICAgICAvLyBtYWtlIHRoZSByZWdleCBpZiB3ZSBkb24ndCBoYXZlIGl0IGFscmVhZHlcbiAgICAgICAgbW9tID0gY3JlYXRlVVRDKFsyMDAwLCAxXSkuZGF5KGkpO1xuICAgICAgICBtaW5wID0gdGhpcy53ZWVrZGF5c01pbihtb20sICcnKTtcbiAgICAgICAgc2hvcnRwID0gdGhpcy53ZWVrZGF5c1Nob3J0KG1vbSwgJycpO1xuICAgICAgICBsb25ncCA9IHRoaXMud2Vla2RheXMobW9tLCAnJyk7XG4gICAgICAgIG1pblBpZWNlcy5wdXNoKG1pbnApO1xuICAgICAgICBzaG9ydFBpZWNlcy5wdXNoKHNob3J0cCk7XG4gICAgICAgIGxvbmdQaWVjZXMucHVzaChsb25ncCk7XG4gICAgICAgIG1peGVkUGllY2VzLnB1c2gobWlucCk7XG4gICAgICAgIG1peGVkUGllY2VzLnB1c2goc2hvcnRwKTtcbiAgICAgICAgbWl4ZWRQaWVjZXMucHVzaChsb25ncCk7XG4gICAgfVxuICAgIC8vIFNvcnRpbmcgbWFrZXMgc3VyZSBpZiBvbmUgd2Vla2RheSAob3IgYWJicikgaXMgYSBwcmVmaXggb2YgYW5vdGhlciBpdFxuICAgIC8vIHdpbGwgbWF0Y2ggdGhlIGxvbmdlciBwaWVjZS5cbiAgICBtaW5QaWVjZXMuc29ydChjbXBMZW5SZXYpO1xuICAgIHNob3J0UGllY2VzLnNvcnQoY21wTGVuUmV2KTtcbiAgICBsb25nUGllY2VzLnNvcnQoY21wTGVuUmV2KTtcbiAgICBtaXhlZFBpZWNlcy5zb3J0KGNtcExlblJldik7XG4gICAgZm9yIChpID0gMDsgaSA8IDc7IGkrKykge1xuICAgICAgICBzaG9ydFBpZWNlc1tpXSA9IHJlZ2V4RXNjYXBlKHNob3J0UGllY2VzW2ldKTtcbiAgICAgICAgbG9uZ1BpZWNlc1tpXSA9IHJlZ2V4RXNjYXBlKGxvbmdQaWVjZXNbaV0pO1xuICAgICAgICBtaXhlZFBpZWNlc1tpXSA9IHJlZ2V4RXNjYXBlKG1peGVkUGllY2VzW2ldKTtcbiAgICB9XG5cbiAgICB0aGlzLl93ZWVrZGF5c1JlZ2V4ID0gbmV3IFJlZ0V4cCgnXignICsgbWl4ZWRQaWVjZXMuam9pbignfCcpICsgJyknLCAnaScpO1xuICAgIHRoaXMuX3dlZWtkYXlzU2hvcnRSZWdleCA9IHRoaXMuX3dlZWtkYXlzUmVnZXg7XG4gICAgdGhpcy5fd2Vla2RheXNNaW5SZWdleCA9IHRoaXMuX3dlZWtkYXlzUmVnZXg7XG5cbiAgICB0aGlzLl93ZWVrZGF5c1N0cmljdFJlZ2V4ID0gbmV3IFJlZ0V4cCgnXignICsgbG9uZ1BpZWNlcy5qb2luKCd8JykgKyAnKScsICdpJyk7XG4gICAgdGhpcy5fd2Vla2RheXNTaG9ydFN0cmljdFJlZ2V4ID0gbmV3IFJlZ0V4cCgnXignICsgc2hvcnRQaWVjZXMuam9pbignfCcpICsgJyknLCAnaScpO1xuICAgIHRoaXMuX3dlZWtkYXlzTWluU3RyaWN0UmVnZXggPSBuZXcgUmVnRXhwKCdeKCcgKyBtaW5QaWVjZXMuam9pbignfCcpICsgJyknLCAnaScpO1xufVxuXG4vLyBGT1JNQVRUSU5HXG5cbmZ1bmN0aW9uIGhGb3JtYXQoKSB7XG4gICAgcmV0dXJuIHRoaXMuaG91cnMoKSAlIDEyIHx8IDEyO1xufVxuXG5mdW5jdGlvbiBrRm9ybWF0KCkge1xuICAgIHJldHVybiB0aGlzLmhvdXJzKCkgfHwgMjQ7XG59XG5cbmFkZEZvcm1hdFRva2VuKCdIJywgWydISCcsIDJdLCAwLCAnaG91cicpO1xuYWRkRm9ybWF0VG9rZW4oJ2gnLCBbJ2hoJywgMl0sIDAsIGhGb3JtYXQpO1xuYWRkRm9ybWF0VG9rZW4oJ2snLCBbJ2trJywgMl0sIDAsIGtGb3JtYXQpO1xuXG5hZGRGb3JtYXRUb2tlbignaG1tJywgMCwgMCwgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAnJyArIGhGb3JtYXQuYXBwbHkodGhpcykgKyB6ZXJvRmlsbCh0aGlzLm1pbnV0ZXMoKSwgMik7XG59KTtcblxuYWRkRm9ybWF0VG9rZW4oJ2htbXNzJywgMCwgMCwgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAnJyArIGhGb3JtYXQuYXBwbHkodGhpcykgKyB6ZXJvRmlsbCh0aGlzLm1pbnV0ZXMoKSwgMikgK1xuICAgICAgICB6ZXJvRmlsbCh0aGlzLnNlY29uZHMoKSwgMik7XG59KTtcblxuYWRkRm9ybWF0VG9rZW4oJ0htbScsIDAsIDAsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gJycgKyB0aGlzLmhvdXJzKCkgKyB6ZXJvRmlsbCh0aGlzLm1pbnV0ZXMoKSwgMik7XG59KTtcblxuYWRkRm9ybWF0VG9rZW4oJ0htbXNzJywgMCwgMCwgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAnJyArIHRoaXMuaG91cnMoKSArIHplcm9GaWxsKHRoaXMubWludXRlcygpLCAyKSArXG4gICAgICAgIHplcm9GaWxsKHRoaXMuc2Vjb25kcygpLCAyKTtcbn0pO1xuXG5mdW5jdGlvbiBtZXJpZGllbSAodG9rZW4sIGxvd2VyY2FzZSkge1xuICAgIGFkZEZvcm1hdFRva2VuKHRva2VuLCAwLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxvY2FsZURhdGEoKS5tZXJpZGllbSh0aGlzLmhvdXJzKCksIHRoaXMubWludXRlcygpLCBsb3dlcmNhc2UpO1xuICAgIH0pO1xufVxuXG5tZXJpZGllbSgnYScsIHRydWUpO1xubWVyaWRpZW0oJ0EnLCBmYWxzZSk7XG5cbi8vIEFMSUFTRVNcblxuYWRkVW5pdEFsaWFzKCdob3VyJywgJ2gnKTtcblxuLy8gUFJJT1JJVFlcbmFkZFVuaXRQcmlvcml0eSgnaG91cicsIDEzKTtcblxuLy8gUEFSU0lOR1xuXG5mdW5jdGlvbiBtYXRjaE1lcmlkaWVtIChpc1N0cmljdCwgbG9jYWxlKSB7XG4gICAgcmV0dXJuIGxvY2FsZS5fbWVyaWRpZW1QYXJzZTtcbn1cblxuYWRkUmVnZXhUb2tlbignYScsICBtYXRjaE1lcmlkaWVtKTtcbmFkZFJlZ2V4VG9rZW4oJ0EnLCAgbWF0Y2hNZXJpZGllbSk7XG5hZGRSZWdleFRva2VuKCdIJywgIG1hdGNoMXRvMik7XG5hZGRSZWdleFRva2VuKCdoJywgIG1hdGNoMXRvMik7XG5hZGRSZWdleFRva2VuKCdISCcsIG1hdGNoMXRvMiwgbWF0Y2gyKTtcbmFkZFJlZ2V4VG9rZW4oJ2hoJywgbWF0Y2gxdG8yLCBtYXRjaDIpO1xuXG5hZGRSZWdleFRva2VuKCdobW0nLCBtYXRjaDN0bzQpO1xuYWRkUmVnZXhUb2tlbignaG1tc3MnLCBtYXRjaDV0bzYpO1xuYWRkUmVnZXhUb2tlbignSG1tJywgbWF0Y2gzdG80KTtcbmFkZFJlZ2V4VG9rZW4oJ0htbXNzJywgbWF0Y2g1dG82KTtcblxuYWRkUGFyc2VUb2tlbihbJ0gnLCAnSEgnXSwgSE9VUik7XG5hZGRQYXJzZVRva2VuKFsnYScsICdBJ10sIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXksIGNvbmZpZykge1xuICAgIGNvbmZpZy5faXNQbSA9IGNvbmZpZy5fbG9jYWxlLmlzUE0oaW5wdXQpO1xuICAgIGNvbmZpZy5fbWVyaWRpZW0gPSBpbnB1dDtcbn0pO1xuYWRkUGFyc2VUb2tlbihbJ2gnLCAnaGgnXSwgZnVuY3Rpb24gKGlucHV0LCBhcnJheSwgY29uZmlnKSB7XG4gICAgYXJyYXlbSE9VUl0gPSB0b0ludChpbnB1dCk7XG4gICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuYmlnSG91ciA9IHRydWU7XG59KTtcbmFkZFBhcnNlVG9rZW4oJ2htbScsIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXksIGNvbmZpZykge1xuICAgIHZhciBwb3MgPSBpbnB1dC5sZW5ndGggLSAyO1xuICAgIGFycmF5W0hPVVJdID0gdG9JbnQoaW5wdXQuc3Vic3RyKDAsIHBvcykpO1xuICAgIGFycmF5W01JTlVURV0gPSB0b0ludChpbnB1dC5zdWJzdHIocG9zKSk7XG4gICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuYmlnSG91ciA9IHRydWU7XG59KTtcbmFkZFBhcnNlVG9rZW4oJ2htbXNzJywgZnVuY3Rpb24gKGlucHV0LCBhcnJheSwgY29uZmlnKSB7XG4gICAgdmFyIHBvczEgPSBpbnB1dC5sZW5ndGggLSA0O1xuICAgIHZhciBwb3MyID0gaW5wdXQubGVuZ3RoIC0gMjtcbiAgICBhcnJheVtIT1VSXSA9IHRvSW50KGlucHV0LnN1YnN0cigwLCBwb3MxKSk7XG4gICAgYXJyYXlbTUlOVVRFXSA9IHRvSW50KGlucHV0LnN1YnN0cihwb3MxLCAyKSk7XG4gICAgYXJyYXlbU0VDT05EXSA9IHRvSW50KGlucHV0LnN1YnN0cihwb3MyKSk7XG4gICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuYmlnSG91ciA9IHRydWU7XG59KTtcbmFkZFBhcnNlVG9rZW4oJ0htbScsIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXksIGNvbmZpZykge1xuICAgIHZhciBwb3MgPSBpbnB1dC5sZW5ndGggLSAyO1xuICAgIGFycmF5W0hPVVJdID0gdG9JbnQoaW5wdXQuc3Vic3RyKDAsIHBvcykpO1xuICAgIGFycmF5W01JTlVURV0gPSB0b0ludChpbnB1dC5zdWJzdHIocG9zKSk7XG59KTtcbmFkZFBhcnNlVG9rZW4oJ0htbXNzJywgZnVuY3Rpb24gKGlucHV0LCBhcnJheSwgY29uZmlnKSB7XG4gICAgdmFyIHBvczEgPSBpbnB1dC5sZW5ndGggLSA0O1xuICAgIHZhciBwb3MyID0gaW5wdXQubGVuZ3RoIC0gMjtcbiAgICBhcnJheVtIT1VSXSA9IHRvSW50KGlucHV0LnN1YnN0cigwLCBwb3MxKSk7XG4gICAgYXJyYXlbTUlOVVRFXSA9IHRvSW50KGlucHV0LnN1YnN0cihwb3MxLCAyKSk7XG4gICAgYXJyYXlbU0VDT05EXSA9IHRvSW50KGlucHV0LnN1YnN0cihwb3MyKSk7XG59KTtcblxuLy8gTE9DQUxFU1xuXG5mdW5jdGlvbiBsb2NhbGVJc1BNIChpbnB1dCkge1xuICAgIC8vIElFOCBRdWlya3MgTW9kZSAmIElFNyBTdGFuZGFyZHMgTW9kZSBkbyBub3QgYWxsb3cgYWNjZXNzaW5nIHN0cmluZ3MgbGlrZSBhcnJheXNcbiAgICAvLyBVc2luZyBjaGFyQXQgc2hvdWxkIGJlIG1vcmUgY29tcGF0aWJsZS5cbiAgICByZXR1cm4gKChpbnB1dCArICcnKS50b0xvd2VyQ2FzZSgpLmNoYXJBdCgwKSA9PT0gJ3AnKTtcbn1cblxudmFyIGRlZmF1bHRMb2NhbGVNZXJpZGllbVBhcnNlID0gL1thcF1cXC4/bT9cXC4/L2k7XG5mdW5jdGlvbiBsb2NhbGVNZXJpZGllbSAoaG91cnMsIG1pbnV0ZXMsIGlzTG93ZXIpIHtcbiAgICBpZiAoaG91cnMgPiAxMSkge1xuICAgICAgICByZXR1cm4gaXNMb3dlciA/ICdwbScgOiAnUE0nO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBpc0xvd2VyID8gJ2FtJyA6ICdBTSc7XG4gICAgfVxufVxuXG5cbi8vIE1PTUVOVFNcblxuLy8gU2V0dGluZyB0aGUgaG91ciBzaG91bGQga2VlcCB0aGUgdGltZSwgYmVjYXVzZSB0aGUgdXNlciBleHBsaWNpdGx5XG4vLyBzcGVjaWZpZWQgd2hpY2ggaG91ciBoZSB3YW50cy4gU28gdHJ5aW5nIHRvIG1haW50YWluIHRoZSBzYW1lIGhvdXIgKGluXG4vLyBhIG5ldyB0aW1lem9uZSkgbWFrZXMgc2Vuc2UuIEFkZGluZy9zdWJ0cmFjdGluZyBob3VycyBkb2VzIG5vdCBmb2xsb3dcbi8vIHRoaXMgcnVsZS5cbnZhciBnZXRTZXRIb3VyID0gbWFrZUdldFNldCgnSG91cnMnLCB0cnVlKTtcblxuLy8gbW9udGhzXG4vLyB3ZWVrXG4vLyB3ZWVrZGF5c1xuLy8gbWVyaWRpZW1cbnZhciBiYXNlQ29uZmlnID0ge1xuICAgIGNhbGVuZGFyOiBkZWZhdWx0Q2FsZW5kYXIsXG4gICAgbG9uZ0RhdGVGb3JtYXQ6IGRlZmF1bHRMb25nRGF0ZUZvcm1hdCxcbiAgICBpbnZhbGlkRGF0ZTogZGVmYXVsdEludmFsaWREYXRlLFxuICAgIG9yZGluYWw6IGRlZmF1bHRPcmRpbmFsLFxuICAgIG9yZGluYWxQYXJzZTogZGVmYXVsdE9yZGluYWxQYXJzZSxcbiAgICByZWxhdGl2ZVRpbWU6IGRlZmF1bHRSZWxhdGl2ZVRpbWUsXG5cbiAgICBtb250aHM6IGRlZmF1bHRMb2NhbGVNb250aHMsXG4gICAgbW9udGhzU2hvcnQ6IGRlZmF1bHRMb2NhbGVNb250aHNTaG9ydCxcblxuICAgIHdlZWs6IGRlZmF1bHRMb2NhbGVXZWVrLFxuXG4gICAgd2Vla2RheXM6IGRlZmF1bHRMb2NhbGVXZWVrZGF5cyxcbiAgICB3ZWVrZGF5c01pbjogZGVmYXVsdExvY2FsZVdlZWtkYXlzTWluLFxuICAgIHdlZWtkYXlzU2hvcnQ6IGRlZmF1bHRMb2NhbGVXZWVrZGF5c1Nob3J0LFxuXG4gICAgbWVyaWRpZW1QYXJzZTogZGVmYXVsdExvY2FsZU1lcmlkaWVtUGFyc2Vcbn07XG5cbi8vIGludGVybmFsIHN0b3JhZ2UgZm9yIGxvY2FsZSBjb25maWcgZmlsZXNcbnZhciBsb2NhbGVzID0ge307XG52YXIgbG9jYWxlRmFtaWxpZXMgPSB7fTtcbnZhciBnbG9iYWxMb2NhbGU7XG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZUxvY2FsZShrZXkpIHtcbiAgICByZXR1cm4ga2V5ID8ga2V5LnRvTG93ZXJDYXNlKCkucmVwbGFjZSgnXycsICctJykgOiBrZXk7XG59XG5cbi8vIHBpY2sgdGhlIGxvY2FsZSBmcm9tIHRoZSBhcnJheVxuLy8gdHJ5IFsnZW4tYXUnLCAnZW4tZ2InXSBhcyAnZW4tYXUnLCAnZW4tZ2InLCAnZW4nLCBhcyBpbiBtb3ZlIHRocm91Z2ggdGhlIGxpc3QgdHJ5aW5nIGVhY2hcbi8vIHN1YnN0cmluZyBmcm9tIG1vc3Qgc3BlY2lmaWMgdG8gbGVhc3QsIGJ1dCBtb3ZlIHRvIHRoZSBuZXh0IGFycmF5IGl0ZW0gaWYgaXQncyBhIG1vcmUgc3BlY2lmaWMgdmFyaWFudCB0aGFuIHRoZSBjdXJyZW50IHJvb3RcbmZ1bmN0aW9uIGNob29zZUxvY2FsZShuYW1lcykge1xuICAgIHZhciBpID0gMCwgaiwgbmV4dCwgbG9jYWxlLCBzcGxpdDtcblxuICAgIHdoaWxlIChpIDwgbmFtZXMubGVuZ3RoKSB7XG4gICAgICAgIHNwbGl0ID0gbm9ybWFsaXplTG9jYWxlKG5hbWVzW2ldKS5zcGxpdCgnLScpO1xuICAgICAgICBqID0gc3BsaXQubGVuZ3RoO1xuICAgICAgICBuZXh0ID0gbm9ybWFsaXplTG9jYWxlKG5hbWVzW2kgKyAxXSk7XG4gICAgICAgIG5leHQgPSBuZXh0ID8gbmV4dC5zcGxpdCgnLScpIDogbnVsbDtcbiAgICAgICAgd2hpbGUgKGogPiAwKSB7XG4gICAgICAgICAgICBsb2NhbGUgPSBsb2FkTG9jYWxlKHNwbGl0LnNsaWNlKDAsIGopLmpvaW4oJy0nKSk7XG4gICAgICAgICAgICBpZiAobG9jYWxlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxvY2FsZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChuZXh0ICYmIG5leHQubGVuZ3RoID49IGogJiYgY29tcGFyZUFycmF5cyhzcGxpdCwgbmV4dCwgdHJ1ZSkgPj0gaiAtIDEpIHtcbiAgICAgICAgICAgICAgICAvL3RoZSBuZXh0IGFycmF5IGl0ZW0gaXMgYmV0dGVyIHRoYW4gYSBzaGFsbG93ZXIgc3Vic3RyaW5nIG9mIHRoaXMgb25lXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBqLS07XG4gICAgICAgIH1cbiAgICAgICAgaSsrO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cblxuZnVuY3Rpb24gbG9hZExvY2FsZShuYW1lKSB7XG4gICAgdmFyIG9sZExvY2FsZSA9IG51bGw7XG4gICAgLy8gVE9ETzogRmluZCBhIGJldHRlciB3YXkgdG8gcmVnaXN0ZXIgYW5kIGxvYWQgYWxsIHRoZSBsb2NhbGVzIGluIE5vZGVcbiAgICBpZiAoIWxvY2FsZXNbbmFtZV0gJiYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnKSAmJlxuICAgICAgICAgICAgbW9kdWxlICYmIG1vZHVsZS5leHBvcnRzKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBvbGRMb2NhbGUgPSBnbG9iYWxMb2NhbGUuX2FiYnI7XG4gICAgICAgICAgICByZXF1aXJlKCcuL2xvY2FsZS8nICsgbmFtZSk7XG4gICAgICAgICAgICAvLyBiZWNhdXNlIGRlZmluZUxvY2FsZSBjdXJyZW50bHkgYWxzbyBzZXRzIHRoZSBnbG9iYWwgbG9jYWxlLCB3ZVxuICAgICAgICAgICAgLy8gd2FudCB0byB1bmRvIHRoYXQgZm9yIGxhenkgbG9hZGVkIGxvY2FsZXNcbiAgICAgICAgICAgIGdldFNldEdsb2JhbExvY2FsZShvbGRMb2NhbGUpO1xuICAgICAgICB9IGNhdGNoIChlKSB7IH1cbiAgICB9XG4gICAgcmV0dXJuIGxvY2FsZXNbbmFtZV07XG59XG5cbi8vIFRoaXMgZnVuY3Rpb24gd2lsbCBsb2FkIGxvY2FsZSBhbmQgdGhlbiBzZXQgdGhlIGdsb2JhbCBsb2NhbGUuICBJZlxuLy8gbm8gYXJndW1lbnRzIGFyZSBwYXNzZWQgaW4sIGl0IHdpbGwgc2ltcGx5IHJldHVybiB0aGUgY3VycmVudCBnbG9iYWxcbi8vIGxvY2FsZSBrZXkuXG5mdW5jdGlvbiBnZXRTZXRHbG9iYWxMb2NhbGUgKGtleSwgdmFsdWVzKSB7XG4gICAgdmFyIGRhdGE7XG4gICAgaWYgKGtleSkge1xuICAgICAgICBpZiAoaXNVbmRlZmluZWQodmFsdWVzKSkge1xuICAgICAgICAgICAgZGF0YSA9IGdldExvY2FsZShrZXkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZGF0YSA9IGRlZmluZUxvY2FsZShrZXksIHZhbHVlcyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGF0YSkge1xuICAgICAgICAgICAgLy8gbW9tZW50LmR1cmF0aW9uLl9sb2NhbGUgPSBtb21lbnQuX2xvY2FsZSA9IGRhdGE7XG4gICAgICAgICAgICBnbG9iYWxMb2NhbGUgPSBkYXRhO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGdsb2JhbExvY2FsZS5fYWJicjtcbn1cblxuZnVuY3Rpb24gZGVmaW5lTG9jYWxlIChuYW1lLCBjb25maWcpIHtcbiAgICBpZiAoY29uZmlnICE9PSBudWxsKSB7XG4gICAgICAgIHZhciBwYXJlbnRDb25maWcgPSBiYXNlQ29uZmlnO1xuICAgICAgICBjb25maWcuYWJiciA9IG5hbWU7XG4gICAgICAgIGlmIChsb2NhbGVzW25hbWVdICE9IG51bGwpIHtcbiAgICAgICAgICAgIGRlcHJlY2F0ZVNpbXBsZSgnZGVmaW5lTG9jYWxlT3ZlcnJpZGUnLFxuICAgICAgICAgICAgICAgICAgICAndXNlIG1vbWVudC51cGRhdGVMb2NhbGUobG9jYWxlTmFtZSwgY29uZmlnKSB0byBjaGFuZ2UgJyArXG4gICAgICAgICAgICAgICAgICAgICdhbiBleGlzdGluZyBsb2NhbGUuIG1vbWVudC5kZWZpbmVMb2NhbGUobG9jYWxlTmFtZSwgJyArXG4gICAgICAgICAgICAgICAgICAgICdjb25maWcpIHNob3VsZCBvbmx5IGJlIHVzZWQgZm9yIGNyZWF0aW5nIGEgbmV3IGxvY2FsZSAnICtcbiAgICAgICAgICAgICAgICAgICAgJ1NlZSBodHRwOi8vbW9tZW50anMuY29tL2d1aWRlcy8jL3dhcm5pbmdzL2RlZmluZS1sb2NhbGUvIGZvciBtb3JlIGluZm8uJyk7XG4gICAgICAgICAgICBwYXJlbnRDb25maWcgPSBsb2NhbGVzW25hbWVdLl9jb25maWc7XG4gICAgICAgIH0gZWxzZSBpZiAoY29uZmlnLnBhcmVudExvY2FsZSAhPSBudWxsKSB7XG4gICAgICAgICAgICBpZiAobG9jYWxlc1tjb25maWcucGFyZW50TG9jYWxlXSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcGFyZW50Q29uZmlnID0gbG9jYWxlc1tjb25maWcucGFyZW50TG9jYWxlXS5fY29uZmlnO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoIWxvY2FsZUZhbWlsaWVzW2NvbmZpZy5wYXJlbnRMb2NhbGVdKSB7XG4gICAgICAgICAgICAgICAgICAgIGxvY2FsZUZhbWlsaWVzW2NvbmZpZy5wYXJlbnRMb2NhbGVdID0gW107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxvY2FsZUZhbWlsaWVzW2NvbmZpZy5wYXJlbnRMb2NhbGVdLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICAgICAgICAgICAgICBjb25maWc6IGNvbmZpZ1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGxvY2FsZXNbbmFtZV0gPSBuZXcgTG9jYWxlKG1lcmdlQ29uZmlncyhwYXJlbnRDb25maWcsIGNvbmZpZykpO1xuXG4gICAgICAgIGlmIChsb2NhbGVGYW1pbGllc1tuYW1lXSkge1xuICAgICAgICAgICAgbG9jYWxlRmFtaWxpZXNbbmFtZV0uZm9yRWFjaChmdW5jdGlvbiAoeCkge1xuICAgICAgICAgICAgICAgIGRlZmluZUxvY2FsZSh4Lm5hbWUsIHguY29uZmlnKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gYmFja3dhcmRzIGNvbXBhdCBmb3Igbm93OiBhbHNvIHNldCB0aGUgbG9jYWxlXG4gICAgICAgIC8vIG1ha2Ugc3VyZSB3ZSBzZXQgdGhlIGxvY2FsZSBBRlRFUiBhbGwgY2hpbGQgbG9jYWxlcyBoYXZlIGJlZW5cbiAgICAgICAgLy8gY3JlYXRlZCwgc28gd2Ugd29uJ3QgZW5kIHVwIHdpdGggdGhlIGNoaWxkIGxvY2FsZSBzZXQuXG4gICAgICAgIGdldFNldEdsb2JhbExvY2FsZShuYW1lKTtcblxuXG4gICAgICAgIHJldHVybiBsb2NhbGVzW25hbWVdO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIHVzZWZ1bCBmb3IgdGVzdGluZ1xuICAgICAgICBkZWxldGUgbG9jYWxlc1tuYW1lXTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxufVxuXG5mdW5jdGlvbiB1cGRhdGVMb2NhbGUobmFtZSwgY29uZmlnKSB7XG4gICAgaWYgKGNvbmZpZyAhPSBudWxsKSB7XG4gICAgICAgIHZhciBsb2NhbGUsIHBhcmVudENvbmZpZyA9IGJhc2VDb25maWc7XG4gICAgICAgIC8vIE1FUkdFXG4gICAgICAgIGlmIChsb2NhbGVzW25hbWVdICE9IG51bGwpIHtcbiAgICAgICAgICAgIHBhcmVudENvbmZpZyA9IGxvY2FsZXNbbmFtZV0uX2NvbmZpZztcbiAgICAgICAgfVxuICAgICAgICBjb25maWcgPSBtZXJnZUNvbmZpZ3MocGFyZW50Q29uZmlnLCBjb25maWcpO1xuICAgICAgICBsb2NhbGUgPSBuZXcgTG9jYWxlKGNvbmZpZyk7XG4gICAgICAgIGxvY2FsZS5wYXJlbnRMb2NhbGUgPSBsb2NhbGVzW25hbWVdO1xuICAgICAgICBsb2NhbGVzW25hbWVdID0gbG9jYWxlO1xuXG4gICAgICAgIC8vIGJhY2t3YXJkcyBjb21wYXQgZm9yIG5vdzogYWxzbyBzZXQgdGhlIGxvY2FsZVxuICAgICAgICBnZXRTZXRHbG9iYWxMb2NhbGUobmFtZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gcGFzcyBudWxsIGZvciBjb25maWcgdG8gdW51cGRhdGUsIHVzZWZ1bCBmb3IgdGVzdHNcbiAgICAgICAgaWYgKGxvY2FsZXNbbmFtZV0gIT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKGxvY2FsZXNbbmFtZV0ucGFyZW50TG9jYWxlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBsb2NhbGVzW25hbWVdID0gbG9jYWxlc1tuYW1lXS5wYXJlbnRMb2NhbGU7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGxvY2FsZXNbbmFtZV0gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBsb2NhbGVzW25hbWVdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBsb2NhbGVzW25hbWVdO1xufVxuXG4vLyByZXR1cm5zIGxvY2FsZSBkYXRhXG5mdW5jdGlvbiBnZXRMb2NhbGUgKGtleSkge1xuICAgIHZhciBsb2NhbGU7XG5cbiAgICBpZiAoa2V5ICYmIGtleS5fbG9jYWxlICYmIGtleS5fbG9jYWxlLl9hYmJyKSB7XG4gICAgICAgIGtleSA9IGtleS5fbG9jYWxlLl9hYmJyO1xuICAgIH1cblxuICAgIGlmICgha2V5KSB7XG4gICAgICAgIHJldHVybiBnbG9iYWxMb2NhbGU7XG4gICAgfVxuXG4gICAgaWYgKCFpc0FycmF5KGtleSkpIHtcbiAgICAgICAgLy9zaG9ydC1jaXJjdWl0IGV2ZXJ5dGhpbmcgZWxzZVxuICAgICAgICBsb2NhbGUgPSBsb2FkTG9jYWxlKGtleSk7XG4gICAgICAgIGlmIChsb2NhbGUpIHtcbiAgICAgICAgICAgIHJldHVybiBsb2NhbGU7XG4gICAgICAgIH1cbiAgICAgICAga2V5ID0gW2tleV07XG4gICAgfVxuXG4gICAgcmV0dXJuIGNob29zZUxvY2FsZShrZXkpO1xufVxuXG5mdW5jdGlvbiBsaXN0TG9jYWxlcygpIHtcbiAgICByZXR1cm4ga2V5cyQxKGxvY2FsZXMpO1xufVxuXG5mdW5jdGlvbiBjaGVja092ZXJmbG93IChtKSB7XG4gICAgdmFyIG92ZXJmbG93O1xuICAgIHZhciBhID0gbS5fYTtcblxuICAgIGlmIChhICYmIGdldFBhcnNpbmdGbGFncyhtKS5vdmVyZmxvdyA9PT0gLTIpIHtcbiAgICAgICAgb3ZlcmZsb3cgPVxuICAgICAgICAgICAgYVtNT05USF0gICAgICAgPCAwIHx8IGFbTU9OVEhdICAgICAgID4gMTEgID8gTU9OVEggOlxuICAgICAgICAgICAgYVtEQVRFXSAgICAgICAgPCAxIHx8IGFbREFURV0gICAgICAgID4gZGF5c0luTW9udGgoYVtZRUFSXSwgYVtNT05USF0pID8gREFURSA6XG4gICAgICAgICAgICBhW0hPVVJdICAgICAgICA8IDAgfHwgYVtIT1VSXSAgICAgICAgPiAyNCB8fCAoYVtIT1VSXSA9PT0gMjQgJiYgKGFbTUlOVVRFXSAhPT0gMCB8fCBhW1NFQ09ORF0gIT09IDAgfHwgYVtNSUxMSVNFQ09ORF0gIT09IDApKSA/IEhPVVIgOlxuICAgICAgICAgICAgYVtNSU5VVEVdICAgICAgPCAwIHx8IGFbTUlOVVRFXSAgICAgID4gNTkgID8gTUlOVVRFIDpcbiAgICAgICAgICAgIGFbU0VDT05EXSAgICAgIDwgMCB8fCBhW1NFQ09ORF0gICAgICA+IDU5ICA/IFNFQ09ORCA6XG4gICAgICAgICAgICBhW01JTExJU0VDT05EXSA8IDAgfHwgYVtNSUxMSVNFQ09ORF0gPiA5OTkgPyBNSUxMSVNFQ09ORCA6XG4gICAgICAgICAgICAtMTtcblxuICAgICAgICBpZiAoZ2V0UGFyc2luZ0ZsYWdzKG0pLl9vdmVyZmxvd0RheU9mWWVhciAmJiAob3ZlcmZsb3cgPCBZRUFSIHx8IG92ZXJmbG93ID4gREFURSkpIHtcbiAgICAgICAgICAgIG92ZXJmbG93ID0gREFURTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZ2V0UGFyc2luZ0ZsYWdzKG0pLl9vdmVyZmxvd1dlZWtzICYmIG92ZXJmbG93ID09PSAtMSkge1xuICAgICAgICAgICAgb3ZlcmZsb3cgPSBXRUVLO1xuICAgICAgICB9XG4gICAgICAgIGlmIChnZXRQYXJzaW5nRmxhZ3MobSkuX292ZXJmbG93V2Vla2RheSAmJiBvdmVyZmxvdyA9PT0gLTEpIHtcbiAgICAgICAgICAgIG92ZXJmbG93ID0gV0VFS0RBWTtcbiAgICAgICAgfVxuXG4gICAgICAgIGdldFBhcnNpbmdGbGFncyhtKS5vdmVyZmxvdyA9IG92ZXJmbG93O1xuICAgIH1cblxuICAgIHJldHVybiBtO1xufVxuXG4vLyBpc28gODYwMSByZWdleFxuLy8gMDAwMC0wMC0wMCAwMDAwLVcwMCBvciAwMDAwLVcwMC0wICsgVCArIDAwIG9yIDAwOjAwIG9yIDAwOjAwOjAwIG9yIDAwOjAwOjAwLjAwMCArICswMDowMCBvciArMDAwMCBvciArMDApXG52YXIgZXh0ZW5kZWRJc29SZWdleCA9IC9eXFxzKigoPzpbKy1dXFxkezZ9fFxcZHs0fSktKD86XFxkXFxkLVxcZFxcZHxXXFxkXFxkLVxcZHxXXFxkXFxkfFxcZFxcZFxcZHxcXGRcXGQpKSg/OihUfCApKFxcZFxcZCg/OjpcXGRcXGQoPzo6XFxkXFxkKD86Wy4sXVxcZCspPyk/KT8pKFtcXCtcXC1dXFxkXFxkKD86Oj9cXGRcXGQpP3xcXHMqWik/KT8kLztcbnZhciBiYXNpY0lzb1JlZ2V4ID0gL15cXHMqKCg/OlsrLV1cXGR7Nn18XFxkezR9KSg/OlxcZFxcZFxcZFxcZHxXXFxkXFxkXFxkfFdcXGRcXGR8XFxkXFxkXFxkfFxcZFxcZCkpKD86KFR8ICkoXFxkXFxkKD86XFxkXFxkKD86XFxkXFxkKD86Wy4sXVxcZCspPyk/KT8pKFtcXCtcXC1dXFxkXFxkKD86Oj9cXGRcXGQpP3xcXHMqWik/KT8kLztcblxudmFyIHR6UmVnZXggPSAvWnxbKy1dXFxkXFxkKD86Oj9cXGRcXGQpPy87XG5cbnZhciBpc29EYXRlcyA9IFtcbiAgICBbJ1lZWVlZWS1NTS1ERCcsIC9bKy1dXFxkezZ9LVxcZFxcZC1cXGRcXGQvXSxcbiAgICBbJ1lZWVktTU0tREQnLCAvXFxkezR9LVxcZFxcZC1cXGRcXGQvXSxcbiAgICBbJ0dHR0ctW1ddV1ctRScsIC9cXGR7NH0tV1xcZFxcZC1cXGQvXSxcbiAgICBbJ0dHR0ctW1ddV1cnLCAvXFxkezR9LVdcXGRcXGQvLCBmYWxzZV0sXG4gICAgWydZWVlZLURERCcsIC9cXGR7NH0tXFxkezN9L10sXG4gICAgWydZWVlZLU1NJywgL1xcZHs0fS1cXGRcXGQvLCBmYWxzZV0sXG4gICAgWydZWVlZWVlNTUREJywgL1srLV1cXGR7MTB9L10sXG4gICAgWydZWVlZTU1ERCcsIC9cXGR7OH0vXSxcbiAgICAvLyBZWVlZTU0gaXMgTk9UIGFsbG93ZWQgYnkgdGhlIHN0YW5kYXJkXG4gICAgWydHR0dHW1ddV1dFJywgL1xcZHs0fVdcXGR7M30vXSxcbiAgICBbJ0dHR0dbV11XVycsIC9cXGR7NH1XXFxkezJ9LywgZmFsc2VdLFxuICAgIFsnWVlZWURERCcsIC9cXGR7N30vXVxuXTtcblxuLy8gaXNvIHRpbWUgZm9ybWF0cyBhbmQgcmVnZXhlc1xudmFyIGlzb1RpbWVzID0gW1xuICAgIFsnSEg6bW06c3MuU1NTUycsIC9cXGRcXGQ6XFxkXFxkOlxcZFxcZFxcLlxcZCsvXSxcbiAgICBbJ0hIOm1tOnNzLFNTU1MnLCAvXFxkXFxkOlxcZFxcZDpcXGRcXGQsXFxkKy9dLFxuICAgIFsnSEg6bW06c3MnLCAvXFxkXFxkOlxcZFxcZDpcXGRcXGQvXSxcbiAgICBbJ0hIOm1tJywgL1xcZFxcZDpcXGRcXGQvXSxcbiAgICBbJ0hIbW1zcy5TU1NTJywgL1xcZFxcZFxcZFxcZFxcZFxcZFxcLlxcZCsvXSxcbiAgICBbJ0hIbW1zcyxTU1NTJywgL1xcZFxcZFxcZFxcZFxcZFxcZCxcXGQrL10sXG4gICAgWydISG1tc3MnLCAvXFxkXFxkXFxkXFxkXFxkXFxkL10sXG4gICAgWydISG1tJywgL1xcZFxcZFxcZFxcZC9dLFxuICAgIFsnSEgnLCAvXFxkXFxkL11cbl07XG5cbnZhciBhc3BOZXRKc29uUmVnZXggPSAvXlxcLz9EYXRlXFwoKFxcLT9cXGQrKS9pO1xuXG4vLyBkYXRlIGZyb20gaXNvIGZvcm1hdFxuZnVuY3Rpb24gY29uZmlnRnJvbUlTTyhjb25maWcpIHtcbiAgICB2YXIgaSwgbCxcbiAgICAgICAgc3RyaW5nID0gY29uZmlnLl9pLFxuICAgICAgICBtYXRjaCA9IGV4dGVuZGVkSXNvUmVnZXguZXhlYyhzdHJpbmcpIHx8IGJhc2ljSXNvUmVnZXguZXhlYyhzdHJpbmcpLFxuICAgICAgICBhbGxvd1RpbWUsIGRhdGVGb3JtYXQsIHRpbWVGb3JtYXQsIHR6Rm9ybWF0O1xuXG4gICAgaWYgKG1hdGNoKSB7XG4gICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmlzbyA9IHRydWU7XG5cbiAgICAgICAgZm9yIChpID0gMCwgbCA9IGlzb0RhdGVzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgaWYgKGlzb0RhdGVzW2ldWzFdLmV4ZWMobWF0Y2hbMV0pKSB7XG4gICAgICAgICAgICAgICAgZGF0ZUZvcm1hdCA9IGlzb0RhdGVzW2ldWzBdO1xuICAgICAgICAgICAgICAgIGFsbG93VGltZSA9IGlzb0RhdGVzW2ldWzJdICE9PSBmYWxzZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF0ZUZvcm1hdCA9PSBudWxsKSB7XG4gICAgICAgICAgICBjb25maWcuX2lzVmFsaWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWF0Y2hbM10pIHtcbiAgICAgICAgICAgIGZvciAoaSA9IDAsIGwgPSBpc29UaW1lcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNvVGltZXNbaV1bMV0uZXhlYyhtYXRjaFszXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gbWF0Y2hbMl0gc2hvdWxkIGJlICdUJyBvciBzcGFjZVxuICAgICAgICAgICAgICAgICAgICB0aW1lRm9ybWF0ID0gKG1hdGNoWzJdIHx8ICcgJykgKyBpc29UaW1lc1tpXVswXTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRpbWVGb3JtYXQgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNvbmZpZy5faXNWYWxpZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoIWFsbG93VGltZSAmJiB0aW1lRm9ybWF0ICE9IG51bGwpIHtcbiAgICAgICAgICAgIGNvbmZpZy5faXNWYWxpZCA9IGZhbHNlO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtYXRjaFs0XSkge1xuICAgICAgICAgICAgaWYgKHR6UmVnZXguZXhlYyhtYXRjaFs0XSkpIHtcbiAgICAgICAgICAgICAgICB0ekZvcm1hdCA9ICdaJztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uZmlnLl9pc1ZhbGlkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbmZpZy5fZiA9IGRhdGVGb3JtYXQgKyAodGltZUZvcm1hdCB8fCAnJykgKyAodHpGb3JtYXQgfHwgJycpO1xuICAgICAgICBjb25maWdGcm9tU3RyaW5nQW5kRm9ybWF0KGNvbmZpZyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgY29uZmlnLl9pc1ZhbGlkID0gZmFsc2U7XG4gICAgfVxufVxuXG4vLyBkYXRlIGZyb20gaXNvIGZvcm1hdCBvciBmYWxsYmFja1xuZnVuY3Rpb24gY29uZmlnRnJvbVN0cmluZyhjb25maWcpIHtcbiAgICB2YXIgbWF0Y2hlZCA9IGFzcE5ldEpzb25SZWdleC5leGVjKGNvbmZpZy5faSk7XG5cbiAgICBpZiAobWF0Y2hlZCAhPT0gbnVsbCkge1xuICAgICAgICBjb25maWcuX2QgPSBuZXcgRGF0ZSgrbWF0Y2hlZFsxXSk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25maWdGcm9tSVNPKGNvbmZpZyk7XG4gICAgaWYgKGNvbmZpZy5faXNWYWxpZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgZGVsZXRlIGNvbmZpZy5faXNWYWxpZDtcbiAgICAgICAgaG9va3MuY3JlYXRlRnJvbUlucHV0RmFsbGJhY2soY29uZmlnKTtcbiAgICB9XG59XG5cbmhvb2tzLmNyZWF0ZUZyb21JbnB1dEZhbGxiYWNrID0gZGVwcmVjYXRlKFxuICAgICd2YWx1ZSBwcm92aWRlZCBpcyBub3QgaW4gYSByZWNvZ25pemVkIElTTyBmb3JtYXQuIG1vbWVudCBjb25zdHJ1Y3Rpb24gZmFsbHMgYmFjayB0byBqcyBEYXRlKCksICcgK1xuICAgICd3aGljaCBpcyBub3QgcmVsaWFibGUgYWNyb3NzIGFsbCBicm93c2VycyBhbmQgdmVyc2lvbnMuIE5vbiBJU08gZGF0ZSBmb3JtYXRzIGFyZSAnICtcbiAgICAnZGlzY291cmFnZWQgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiBhbiB1cGNvbWluZyBtYWpvciByZWxlYXNlLiBQbGVhc2UgcmVmZXIgdG8gJyArXG4gICAgJ2h0dHA6Ly9tb21lbnRqcy5jb20vZ3VpZGVzLyMvd2FybmluZ3MvanMtZGF0ZS8gZm9yIG1vcmUgaW5mby4nLFxuICAgIGZ1bmN0aW9uIChjb25maWcpIHtcbiAgICAgICAgY29uZmlnLl9kID0gbmV3IERhdGUoY29uZmlnLl9pICsgKGNvbmZpZy5fdXNlVVRDID8gJyBVVEMnIDogJycpKTtcbiAgICB9XG4pO1xuXG4vLyBQaWNrIHRoZSBmaXJzdCBkZWZpbmVkIG9mIHR3byBvciB0aHJlZSBhcmd1bWVudHMuXG5mdW5jdGlvbiBkZWZhdWx0cyhhLCBiLCBjKSB7XG4gICAgaWYgKGEgIT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gYTtcbiAgICB9XG4gICAgaWYgKGIgIT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gYjtcbiAgICB9XG4gICAgcmV0dXJuIGM7XG59XG5cbmZ1bmN0aW9uIGN1cnJlbnREYXRlQXJyYXkoY29uZmlnKSB7XG4gICAgLy8gaG9va3MgaXMgYWN0dWFsbHkgdGhlIGV4cG9ydGVkIG1vbWVudCBvYmplY3RcbiAgICB2YXIgbm93VmFsdWUgPSBuZXcgRGF0ZShob29rcy5ub3coKSk7XG4gICAgaWYgKGNvbmZpZy5fdXNlVVRDKSB7XG4gICAgICAgIHJldHVybiBbbm93VmFsdWUuZ2V0VVRDRnVsbFllYXIoKSwgbm93VmFsdWUuZ2V0VVRDTW9udGgoKSwgbm93VmFsdWUuZ2V0VVRDRGF0ZSgpXTtcbiAgICB9XG4gICAgcmV0dXJuIFtub3dWYWx1ZS5nZXRGdWxsWWVhcigpLCBub3dWYWx1ZS5nZXRNb250aCgpLCBub3dWYWx1ZS5nZXREYXRlKCldO1xufVxuXG4vLyBjb252ZXJ0IGFuIGFycmF5IHRvIGEgZGF0ZS5cbi8vIHRoZSBhcnJheSBzaG91bGQgbWlycm9yIHRoZSBwYXJhbWV0ZXJzIGJlbG93XG4vLyBub3RlOiBhbGwgdmFsdWVzIHBhc3QgdGhlIHllYXIgYXJlIG9wdGlvbmFsIGFuZCB3aWxsIGRlZmF1bHQgdG8gdGhlIGxvd2VzdCBwb3NzaWJsZSB2YWx1ZS5cbi8vIFt5ZWFyLCBtb250aCwgZGF5ICwgaG91ciwgbWludXRlLCBzZWNvbmQsIG1pbGxpc2Vjb25kXVxuZnVuY3Rpb24gY29uZmlnRnJvbUFycmF5IChjb25maWcpIHtcbiAgICB2YXIgaSwgZGF0ZSwgaW5wdXQgPSBbXSwgY3VycmVudERhdGUsIHllYXJUb1VzZTtcblxuICAgIGlmIChjb25maWcuX2QpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGN1cnJlbnREYXRlID0gY3VycmVudERhdGVBcnJheShjb25maWcpO1xuXG4gICAgLy9jb21wdXRlIGRheSBvZiB0aGUgeWVhciBmcm9tIHdlZWtzIGFuZCB3ZWVrZGF5c1xuICAgIGlmIChjb25maWcuX3cgJiYgY29uZmlnLl9hW0RBVEVdID09IG51bGwgJiYgY29uZmlnLl9hW01PTlRIXSA9PSBudWxsKSB7XG4gICAgICAgIGRheU9mWWVhckZyb21XZWVrSW5mbyhjb25maWcpO1xuICAgIH1cblxuICAgIC8vaWYgdGhlIGRheSBvZiB0aGUgeWVhciBpcyBzZXQsIGZpZ3VyZSBvdXQgd2hhdCBpdCBpc1xuICAgIGlmIChjb25maWcuX2RheU9mWWVhcikge1xuICAgICAgICB5ZWFyVG9Vc2UgPSBkZWZhdWx0cyhjb25maWcuX2FbWUVBUl0sIGN1cnJlbnREYXRlW1lFQVJdKTtcblxuICAgICAgICBpZiAoY29uZmlnLl9kYXlPZlllYXIgPiBkYXlzSW5ZZWFyKHllYXJUb1VzZSkpIHtcbiAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLl9vdmVyZmxvd0RheU9mWWVhciA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBkYXRlID0gY3JlYXRlVVRDRGF0ZSh5ZWFyVG9Vc2UsIDAsIGNvbmZpZy5fZGF5T2ZZZWFyKTtcbiAgICAgICAgY29uZmlnLl9hW01PTlRIXSA9IGRhdGUuZ2V0VVRDTW9udGgoKTtcbiAgICAgICAgY29uZmlnLl9hW0RBVEVdID0gZGF0ZS5nZXRVVENEYXRlKCk7XG4gICAgfVxuXG4gICAgLy8gRGVmYXVsdCB0byBjdXJyZW50IGRhdGUuXG4gICAgLy8gKiBpZiBubyB5ZWFyLCBtb250aCwgZGF5IG9mIG1vbnRoIGFyZSBnaXZlbiwgZGVmYXVsdCB0byB0b2RheVxuICAgIC8vICogaWYgZGF5IG9mIG1vbnRoIGlzIGdpdmVuLCBkZWZhdWx0IG1vbnRoIGFuZCB5ZWFyXG4gICAgLy8gKiBpZiBtb250aCBpcyBnaXZlbiwgZGVmYXVsdCBvbmx5IHllYXJcbiAgICAvLyAqIGlmIHllYXIgaXMgZ2l2ZW4sIGRvbid0IGRlZmF1bHQgYW55dGhpbmdcbiAgICBmb3IgKGkgPSAwOyBpIDwgMyAmJiBjb25maWcuX2FbaV0gPT0gbnVsbDsgKytpKSB7XG4gICAgICAgIGNvbmZpZy5fYVtpXSA9IGlucHV0W2ldID0gY3VycmVudERhdGVbaV07XG4gICAgfVxuXG4gICAgLy8gWmVybyBvdXQgd2hhdGV2ZXIgd2FzIG5vdCBkZWZhdWx0ZWQsIGluY2x1ZGluZyB0aW1lXG4gICAgZm9yICg7IGkgPCA3OyBpKyspIHtcbiAgICAgICAgY29uZmlnLl9hW2ldID0gaW5wdXRbaV0gPSAoY29uZmlnLl9hW2ldID09IG51bGwpID8gKGkgPT09IDIgPyAxIDogMCkgOiBjb25maWcuX2FbaV07XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgZm9yIDI0OjAwOjAwLjAwMFxuICAgIGlmIChjb25maWcuX2FbSE9VUl0gPT09IDI0ICYmXG4gICAgICAgICAgICBjb25maWcuX2FbTUlOVVRFXSA9PT0gMCAmJlxuICAgICAgICAgICAgY29uZmlnLl9hW1NFQ09ORF0gPT09IDAgJiZcbiAgICAgICAgICAgIGNvbmZpZy5fYVtNSUxMSVNFQ09ORF0gPT09IDApIHtcbiAgICAgICAgY29uZmlnLl9uZXh0RGF5ID0gdHJ1ZTtcbiAgICAgICAgY29uZmlnLl9hW0hPVVJdID0gMDtcbiAgICB9XG5cbiAgICBjb25maWcuX2QgPSAoY29uZmlnLl91c2VVVEMgPyBjcmVhdGVVVENEYXRlIDogY3JlYXRlRGF0ZSkuYXBwbHkobnVsbCwgaW5wdXQpO1xuICAgIC8vIEFwcGx5IHRpbWV6b25lIG9mZnNldCBmcm9tIGlucHV0LiBUaGUgYWN0dWFsIHV0Y09mZnNldCBjYW4gYmUgY2hhbmdlZFxuICAgIC8vIHdpdGggcGFyc2Vab25lLlxuICAgIGlmIChjb25maWcuX3R6bSAhPSBudWxsKSB7XG4gICAgICAgIGNvbmZpZy5fZC5zZXRVVENNaW51dGVzKGNvbmZpZy5fZC5nZXRVVENNaW51dGVzKCkgLSBjb25maWcuX3R6bSk7XG4gICAgfVxuXG4gICAgaWYgKGNvbmZpZy5fbmV4dERheSkge1xuICAgICAgICBjb25maWcuX2FbSE9VUl0gPSAyNDtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRheU9mWWVhckZyb21XZWVrSW5mbyhjb25maWcpIHtcbiAgICB2YXIgdywgd2Vla1llYXIsIHdlZWssIHdlZWtkYXksIGRvdywgZG95LCB0ZW1wLCB3ZWVrZGF5T3ZlcmZsb3c7XG5cbiAgICB3ID0gY29uZmlnLl93O1xuICAgIGlmICh3LkdHICE9IG51bGwgfHwgdy5XICE9IG51bGwgfHwgdy5FICE9IG51bGwpIHtcbiAgICAgICAgZG93ID0gMTtcbiAgICAgICAgZG95ID0gNDtcblxuICAgICAgICAvLyBUT0RPOiBXZSBuZWVkIHRvIHRha2UgdGhlIGN1cnJlbnQgaXNvV2Vla1llYXIsIGJ1dCB0aGF0IGRlcGVuZHMgb25cbiAgICAgICAgLy8gaG93IHdlIGludGVycHJldCBub3cgKGxvY2FsLCB1dGMsIGZpeGVkIG9mZnNldCkuIFNvIGNyZWF0ZVxuICAgICAgICAvLyBhIG5vdyB2ZXJzaW9uIG9mIGN1cnJlbnQgY29uZmlnICh0YWtlIGxvY2FsL3V0Yy9vZmZzZXQgZmxhZ3MsIGFuZFxuICAgICAgICAvLyBjcmVhdGUgbm93KS5cbiAgICAgICAgd2Vla1llYXIgPSBkZWZhdWx0cyh3LkdHLCBjb25maWcuX2FbWUVBUl0sIHdlZWtPZlllYXIoY3JlYXRlTG9jYWwoKSwgMSwgNCkueWVhcik7XG4gICAgICAgIHdlZWsgPSBkZWZhdWx0cyh3LlcsIDEpO1xuICAgICAgICB3ZWVrZGF5ID0gZGVmYXVsdHMody5FLCAxKTtcbiAgICAgICAgaWYgKHdlZWtkYXkgPCAxIHx8IHdlZWtkYXkgPiA3KSB7XG4gICAgICAgICAgICB3ZWVrZGF5T3ZlcmZsb3cgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZG93ID0gY29uZmlnLl9sb2NhbGUuX3dlZWsuZG93O1xuICAgICAgICBkb3kgPSBjb25maWcuX2xvY2FsZS5fd2Vlay5kb3k7XG5cbiAgICAgICAgdmFyIGN1cldlZWsgPSB3ZWVrT2ZZZWFyKGNyZWF0ZUxvY2FsKCksIGRvdywgZG95KTtcblxuICAgICAgICB3ZWVrWWVhciA9IGRlZmF1bHRzKHcuZ2csIGNvbmZpZy5fYVtZRUFSXSwgY3VyV2Vlay55ZWFyKTtcblxuICAgICAgICAvLyBEZWZhdWx0IHRvIGN1cnJlbnQgd2Vlay5cbiAgICAgICAgd2VlayA9IGRlZmF1bHRzKHcudywgY3VyV2Vlay53ZWVrKTtcblxuICAgICAgICBpZiAody5kICE9IG51bGwpIHtcbiAgICAgICAgICAgIC8vIHdlZWtkYXkgLS0gbG93IGRheSBudW1iZXJzIGFyZSBjb25zaWRlcmVkIG5leHQgd2Vla1xuICAgICAgICAgICAgd2Vla2RheSA9IHcuZDtcbiAgICAgICAgICAgIGlmICh3ZWVrZGF5IDwgMCB8fCB3ZWVrZGF5ID4gNikge1xuICAgICAgICAgICAgICAgIHdlZWtkYXlPdmVyZmxvdyA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAody5lICE9IG51bGwpIHtcbiAgICAgICAgICAgIC8vIGxvY2FsIHdlZWtkYXkgLS0gY291bnRpbmcgc3RhcnRzIGZyb20gYmVnaW5pbmcgb2Ygd2Vla1xuICAgICAgICAgICAgd2Vla2RheSA9IHcuZSArIGRvdztcbiAgICAgICAgICAgIGlmICh3LmUgPCAwIHx8IHcuZSA+IDYpIHtcbiAgICAgICAgICAgICAgICB3ZWVrZGF5T3ZlcmZsb3cgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gZGVmYXVsdCB0byBiZWdpbmluZyBvZiB3ZWVrXG4gICAgICAgICAgICB3ZWVrZGF5ID0gZG93O1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmICh3ZWVrIDwgMSB8fCB3ZWVrID4gd2Vla3NJblllYXIod2Vla1llYXIsIGRvdywgZG95KSkge1xuICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5fb3ZlcmZsb3dXZWVrcyA9IHRydWU7XG4gICAgfSBlbHNlIGlmICh3ZWVrZGF5T3ZlcmZsb3cgIT0gbnVsbCkge1xuICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5fb3ZlcmZsb3dXZWVrZGF5ID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0ZW1wID0gZGF5T2ZZZWFyRnJvbVdlZWtzKHdlZWtZZWFyLCB3ZWVrLCB3ZWVrZGF5LCBkb3csIGRveSk7XG4gICAgICAgIGNvbmZpZy5fYVtZRUFSXSA9IHRlbXAueWVhcjtcbiAgICAgICAgY29uZmlnLl9kYXlPZlllYXIgPSB0ZW1wLmRheU9mWWVhcjtcbiAgICB9XG59XG5cbi8vIGNvbnN0YW50IHRoYXQgcmVmZXJzIHRvIHRoZSBJU08gc3RhbmRhcmRcbmhvb2tzLklTT184NjAxID0gZnVuY3Rpb24gKCkge307XG5cbi8vIGRhdGUgZnJvbSBzdHJpbmcgYW5kIGZvcm1hdCBzdHJpbmdcbmZ1bmN0aW9uIGNvbmZpZ0Zyb21TdHJpbmdBbmRGb3JtYXQoY29uZmlnKSB7XG4gICAgLy8gVE9ETzogTW92ZSB0aGlzIHRvIGFub3RoZXIgcGFydCBvZiB0aGUgY3JlYXRpb24gZmxvdyB0byBwcmV2ZW50IGNpcmN1bGFyIGRlcHNcbiAgICBpZiAoY29uZmlnLl9mID09PSBob29rcy5JU09fODYwMSkge1xuICAgICAgICBjb25maWdGcm9tSVNPKGNvbmZpZyk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25maWcuX2EgPSBbXTtcbiAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5lbXB0eSA9IHRydWU7XG5cbiAgICAvLyBUaGlzIGFycmF5IGlzIHVzZWQgdG8gbWFrZSBhIERhdGUsIGVpdGhlciB3aXRoIGBuZXcgRGF0ZWAgb3IgYERhdGUuVVRDYFxuICAgIHZhciBzdHJpbmcgPSAnJyArIGNvbmZpZy5faSxcbiAgICAgICAgaSwgcGFyc2VkSW5wdXQsIHRva2VucywgdG9rZW4sIHNraXBwZWQsXG4gICAgICAgIHN0cmluZ0xlbmd0aCA9IHN0cmluZy5sZW5ndGgsXG4gICAgICAgIHRvdGFsUGFyc2VkSW5wdXRMZW5ndGggPSAwO1xuXG4gICAgdG9rZW5zID0gZXhwYW5kRm9ybWF0KGNvbmZpZy5fZiwgY29uZmlnLl9sb2NhbGUpLm1hdGNoKGZvcm1hdHRpbmdUb2tlbnMpIHx8IFtdO1xuXG4gICAgZm9yIChpID0gMDsgaSA8IHRva2Vucy5sZW5ndGg7IGkrKykge1xuICAgICAgICB0b2tlbiA9IHRva2Vuc1tpXTtcbiAgICAgICAgcGFyc2VkSW5wdXQgPSAoc3RyaW5nLm1hdGNoKGdldFBhcnNlUmVnZXhGb3JUb2tlbih0b2tlbiwgY29uZmlnKSkgfHwgW10pWzBdO1xuICAgICAgICAvLyBjb25zb2xlLmxvZygndG9rZW4nLCB0b2tlbiwgJ3BhcnNlZElucHV0JywgcGFyc2VkSW5wdXQsXG4gICAgICAgIC8vICAgICAgICAgJ3JlZ2V4JywgZ2V0UGFyc2VSZWdleEZvclRva2VuKHRva2VuLCBjb25maWcpKTtcbiAgICAgICAgaWYgKHBhcnNlZElucHV0KSB7XG4gICAgICAgICAgICBza2lwcGVkID0gc3RyaW5nLnN1YnN0cigwLCBzdHJpbmcuaW5kZXhPZihwYXJzZWRJbnB1dCkpO1xuICAgICAgICAgICAgaWYgKHNraXBwZWQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLnVudXNlZElucHV0LnB1c2goc2tpcHBlZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdHJpbmcgPSBzdHJpbmcuc2xpY2Uoc3RyaW5nLmluZGV4T2YocGFyc2VkSW5wdXQpICsgcGFyc2VkSW5wdXQubGVuZ3RoKTtcbiAgICAgICAgICAgIHRvdGFsUGFyc2VkSW5wdXRMZW5ndGggKz0gcGFyc2VkSW5wdXQubGVuZ3RoO1xuICAgICAgICB9XG4gICAgICAgIC8vIGRvbid0IHBhcnNlIGlmIGl0J3Mgbm90IGEga25vd24gdG9rZW5cbiAgICAgICAgaWYgKGZvcm1hdFRva2VuRnVuY3Rpb25zW3Rva2VuXSkge1xuICAgICAgICAgICAgaWYgKHBhcnNlZElucHV0KSB7XG4gICAgICAgICAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuZW1wdHkgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLnVudXNlZFRva2Vucy5wdXNoKHRva2VuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFkZFRpbWVUb0FycmF5RnJvbVRva2VuKHRva2VuLCBwYXJzZWRJbnB1dCwgY29uZmlnKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjb25maWcuX3N0cmljdCAmJiAhcGFyc2VkSW5wdXQpIHtcbiAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLnVudXNlZFRva2Vucy5wdXNoKHRva2VuKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIGFkZCByZW1haW5pbmcgdW5wYXJzZWQgaW5wdXQgbGVuZ3RoIHRvIHRoZSBzdHJpbmdcbiAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5jaGFyc0xlZnRPdmVyID0gc3RyaW5nTGVuZ3RoIC0gdG90YWxQYXJzZWRJbnB1dExlbmd0aDtcbiAgICBpZiAoc3RyaW5nLmxlbmd0aCA+IDApIHtcbiAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykudW51c2VkSW5wdXQucHVzaChzdHJpbmcpO1xuICAgIH1cblxuICAgIC8vIGNsZWFyIF8xMmggZmxhZyBpZiBob3VyIGlzIDw9IDEyXG4gICAgaWYgKGNvbmZpZy5fYVtIT1VSXSA8PSAxMiAmJlxuICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5iaWdIb3VyID09PSB0cnVlICYmXG4gICAgICAgIGNvbmZpZy5fYVtIT1VSXSA+IDApIHtcbiAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuYmlnSG91ciA9IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5wYXJzZWREYXRlUGFydHMgPSBjb25maWcuX2Euc2xpY2UoMCk7XG4gICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykubWVyaWRpZW0gPSBjb25maWcuX21lcmlkaWVtO1xuICAgIC8vIGhhbmRsZSBtZXJpZGllbVxuICAgIGNvbmZpZy5fYVtIT1VSXSA9IG1lcmlkaWVtRml4V3JhcChjb25maWcuX2xvY2FsZSwgY29uZmlnLl9hW0hPVVJdLCBjb25maWcuX21lcmlkaWVtKTtcblxuICAgIGNvbmZpZ0Zyb21BcnJheShjb25maWcpO1xuICAgIGNoZWNrT3ZlcmZsb3coY29uZmlnKTtcbn1cblxuXG5mdW5jdGlvbiBtZXJpZGllbUZpeFdyYXAgKGxvY2FsZSwgaG91ciwgbWVyaWRpZW0pIHtcbiAgICB2YXIgaXNQbTtcblxuICAgIGlmIChtZXJpZGllbSA9PSBudWxsKSB7XG4gICAgICAgIC8vIG5vdGhpbmcgdG8gZG9cbiAgICAgICAgcmV0dXJuIGhvdXI7XG4gICAgfVxuICAgIGlmIChsb2NhbGUubWVyaWRpZW1Ib3VyICE9IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIGxvY2FsZS5tZXJpZGllbUhvdXIoaG91ciwgbWVyaWRpZW0pO1xuICAgIH0gZWxzZSBpZiAobG9jYWxlLmlzUE0gIT0gbnVsbCkge1xuICAgICAgICAvLyBGYWxsYmFja1xuICAgICAgICBpc1BtID0gbG9jYWxlLmlzUE0obWVyaWRpZW0pO1xuICAgICAgICBpZiAoaXNQbSAmJiBob3VyIDwgMTIpIHtcbiAgICAgICAgICAgIGhvdXIgKz0gMTI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc1BtICYmIGhvdXIgPT09IDEyKSB7XG4gICAgICAgICAgICBob3VyID0gMDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaG91cjtcbiAgICB9IGVsc2Uge1xuICAgICAgICAvLyB0aGlzIGlzIG5vdCBzdXBwb3NlZCB0byBoYXBwZW5cbiAgICAgICAgcmV0dXJuIGhvdXI7XG4gICAgfVxufVxuXG4vLyBkYXRlIGZyb20gc3RyaW5nIGFuZCBhcnJheSBvZiBmb3JtYXQgc3RyaW5nc1xuZnVuY3Rpb24gY29uZmlnRnJvbVN0cmluZ0FuZEFycmF5KGNvbmZpZykge1xuICAgIHZhciB0ZW1wQ29uZmlnLFxuICAgICAgICBiZXN0TW9tZW50LFxuXG4gICAgICAgIHNjb3JlVG9CZWF0LFxuICAgICAgICBpLFxuICAgICAgICBjdXJyZW50U2NvcmU7XG5cbiAgICBpZiAoY29uZmlnLl9mLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5pbnZhbGlkRm9ybWF0ID0gdHJ1ZTtcbiAgICAgICAgY29uZmlnLl9kID0gbmV3IERhdGUoTmFOKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGZvciAoaSA9IDA7IGkgPCBjb25maWcuX2YubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY3VycmVudFNjb3JlID0gMDtcbiAgICAgICAgdGVtcENvbmZpZyA9IGNvcHlDb25maWcoe30sIGNvbmZpZyk7XG4gICAgICAgIGlmIChjb25maWcuX3VzZVVUQyAhPSBudWxsKSB7XG4gICAgICAgICAgICB0ZW1wQ29uZmlnLl91c2VVVEMgPSBjb25maWcuX3VzZVVUQztcbiAgICAgICAgfVxuICAgICAgICB0ZW1wQ29uZmlnLl9mID0gY29uZmlnLl9mW2ldO1xuICAgICAgICBjb25maWdGcm9tU3RyaW5nQW5kRm9ybWF0KHRlbXBDb25maWcpO1xuXG4gICAgICAgIGlmICghaXNWYWxpZCh0ZW1wQ29uZmlnKSkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpZiB0aGVyZSBpcyBhbnkgaW5wdXQgdGhhdCB3YXMgbm90IHBhcnNlZCBhZGQgYSBwZW5hbHR5IGZvciB0aGF0IGZvcm1hdFxuICAgICAgICBjdXJyZW50U2NvcmUgKz0gZ2V0UGFyc2luZ0ZsYWdzKHRlbXBDb25maWcpLmNoYXJzTGVmdE92ZXI7XG5cbiAgICAgICAgLy9vciB0b2tlbnNcbiAgICAgICAgY3VycmVudFNjb3JlICs9IGdldFBhcnNpbmdGbGFncyh0ZW1wQ29uZmlnKS51bnVzZWRUb2tlbnMubGVuZ3RoICogMTA7XG5cbiAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKHRlbXBDb25maWcpLnNjb3JlID0gY3VycmVudFNjb3JlO1xuXG4gICAgICAgIGlmIChzY29yZVRvQmVhdCA9PSBudWxsIHx8IGN1cnJlbnRTY29yZSA8IHNjb3JlVG9CZWF0KSB7XG4gICAgICAgICAgICBzY29yZVRvQmVhdCA9IGN1cnJlbnRTY29yZTtcbiAgICAgICAgICAgIGJlc3RNb21lbnQgPSB0ZW1wQ29uZmlnO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZXh0ZW5kKGNvbmZpZywgYmVzdE1vbWVudCB8fCB0ZW1wQ29uZmlnKTtcbn1cblxuZnVuY3Rpb24gY29uZmlnRnJvbU9iamVjdChjb25maWcpIHtcbiAgICBpZiAoY29uZmlnLl9kKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgaSA9IG5vcm1hbGl6ZU9iamVjdFVuaXRzKGNvbmZpZy5faSk7XG4gICAgY29uZmlnLl9hID0gbWFwKFtpLnllYXIsIGkubW9udGgsIGkuZGF5IHx8IGkuZGF0ZSwgaS5ob3VyLCBpLm1pbnV0ZSwgaS5zZWNvbmQsIGkubWlsbGlzZWNvbmRdLCBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgIHJldHVybiBvYmogJiYgcGFyc2VJbnQob2JqLCAxMCk7XG4gICAgfSk7XG5cbiAgICBjb25maWdGcm9tQXJyYXkoY29uZmlnKTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlRnJvbUNvbmZpZyAoY29uZmlnKSB7XG4gICAgdmFyIHJlcyA9IG5ldyBNb21lbnQoY2hlY2tPdmVyZmxvdyhwcmVwYXJlQ29uZmlnKGNvbmZpZykpKTtcbiAgICBpZiAocmVzLl9uZXh0RGF5KSB7XG4gICAgICAgIC8vIEFkZGluZyBpcyBzbWFydCBlbm91Z2ggYXJvdW5kIERTVFxuICAgICAgICByZXMuYWRkKDEsICdkJyk7XG4gICAgICAgIHJlcy5fbmV4dERheSA9IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzO1xufVxuXG5mdW5jdGlvbiBwcmVwYXJlQ29uZmlnIChjb25maWcpIHtcbiAgICB2YXIgaW5wdXQgPSBjb25maWcuX2ksXG4gICAgICAgIGZvcm1hdCA9IGNvbmZpZy5fZjtcblxuICAgIGNvbmZpZy5fbG9jYWxlID0gY29uZmlnLl9sb2NhbGUgfHwgZ2V0TG9jYWxlKGNvbmZpZy5fbCk7XG5cbiAgICBpZiAoaW5wdXQgPT09IG51bGwgfHwgKGZvcm1hdCA9PT0gdW5kZWZpbmVkICYmIGlucHV0ID09PSAnJykpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUludmFsaWQoe251bGxJbnB1dDogdHJ1ZX0pO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgaW5wdXQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGNvbmZpZy5faSA9IGlucHV0ID0gY29uZmlnLl9sb2NhbGUucHJlcGFyc2UoaW5wdXQpO1xuICAgIH1cblxuICAgIGlmIChpc01vbWVudChpbnB1dCkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBNb21lbnQoY2hlY2tPdmVyZmxvdyhpbnB1dCkpO1xuICAgIH0gZWxzZSBpZiAoaXNEYXRlKGlucHV0KSkge1xuICAgICAgICBjb25maWcuX2QgPSBpbnB1dDtcbiAgICB9IGVsc2UgaWYgKGlzQXJyYXkoZm9ybWF0KSkge1xuICAgICAgICBjb25maWdGcm9tU3RyaW5nQW5kQXJyYXkoY29uZmlnKTtcbiAgICB9IGVsc2UgaWYgKGZvcm1hdCkge1xuICAgICAgICBjb25maWdGcm9tU3RyaW5nQW5kRm9ybWF0KGNvbmZpZyk7XG4gICAgfSAgZWxzZSB7XG4gICAgICAgIGNvbmZpZ0Zyb21JbnB1dChjb25maWcpO1xuICAgIH1cblxuICAgIGlmICghaXNWYWxpZChjb25maWcpKSB7XG4gICAgICAgIGNvbmZpZy5fZCA9IG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNvbmZpZztcbn1cblxuZnVuY3Rpb24gY29uZmlnRnJvbUlucHV0KGNvbmZpZykge1xuICAgIHZhciBpbnB1dCA9IGNvbmZpZy5faTtcbiAgICBpZiAoaW5wdXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb25maWcuX2QgPSBuZXcgRGF0ZShob29rcy5ub3coKSk7XG4gICAgfSBlbHNlIGlmIChpc0RhdGUoaW5wdXQpKSB7XG4gICAgICAgIGNvbmZpZy5fZCA9IG5ldyBEYXRlKGlucHV0LnZhbHVlT2YoKSk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgaW5wdXQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGNvbmZpZ0Zyb21TdHJpbmcoY29uZmlnKTtcbiAgICB9IGVsc2UgaWYgKGlzQXJyYXkoaW5wdXQpKSB7XG4gICAgICAgIGNvbmZpZy5fYSA9IG1hcChpbnB1dC5zbGljZSgwKSwgZnVuY3Rpb24gKG9iaikge1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlSW50KG9iaiwgMTApO1xuICAgICAgICB9KTtcbiAgICAgICAgY29uZmlnRnJvbUFycmF5KGNvbmZpZyk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YoaW5wdXQpID09PSAnb2JqZWN0Jykge1xuICAgICAgICBjb25maWdGcm9tT2JqZWN0KGNvbmZpZyk7XG4gICAgfSBlbHNlIGlmIChpc051bWJlcihpbnB1dCkpIHtcbiAgICAgICAgLy8gZnJvbSBtaWxsaXNlY29uZHNcbiAgICAgICAgY29uZmlnLl9kID0gbmV3IERhdGUoaW5wdXQpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGhvb2tzLmNyZWF0ZUZyb21JbnB1dEZhbGxiYWNrKGNvbmZpZyk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBjcmVhdGVMb2NhbE9yVVRDIChpbnB1dCwgZm9ybWF0LCBsb2NhbGUsIHN0cmljdCwgaXNVVEMpIHtcbiAgICB2YXIgYyA9IHt9O1xuXG4gICAgaWYgKGxvY2FsZSA9PT0gdHJ1ZSB8fCBsb2NhbGUgPT09IGZhbHNlKSB7XG4gICAgICAgIHN0cmljdCA9IGxvY2FsZTtcbiAgICAgICAgbG9jYWxlID0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIGlmICgoaXNPYmplY3QoaW5wdXQpICYmIGlzT2JqZWN0RW1wdHkoaW5wdXQpKSB8fFxuICAgICAgICAgICAgKGlzQXJyYXkoaW5wdXQpICYmIGlucHV0Lmxlbmd0aCA9PT0gMCkpIHtcbiAgICAgICAgaW5wdXQgPSB1bmRlZmluZWQ7XG4gICAgfVxuICAgIC8vIG9iamVjdCBjb25zdHJ1Y3Rpb24gbXVzdCBiZSBkb25lIHRoaXMgd2F5LlxuICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9tb21lbnQvbW9tZW50L2lzc3Vlcy8xNDIzXG4gICAgYy5faXNBTW9tZW50T2JqZWN0ID0gdHJ1ZTtcbiAgICBjLl91c2VVVEMgPSBjLl9pc1VUQyA9IGlzVVRDO1xuICAgIGMuX2wgPSBsb2NhbGU7XG4gICAgYy5faSA9IGlucHV0O1xuICAgIGMuX2YgPSBmb3JtYXQ7XG4gICAgYy5fc3RyaWN0ID0gc3RyaWN0O1xuXG4gICAgcmV0dXJuIGNyZWF0ZUZyb21Db25maWcoYyk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUxvY2FsIChpbnB1dCwgZm9ybWF0LCBsb2NhbGUsIHN0cmljdCkge1xuICAgIHJldHVybiBjcmVhdGVMb2NhbE9yVVRDKGlucHV0LCBmb3JtYXQsIGxvY2FsZSwgc3RyaWN0LCBmYWxzZSk7XG59XG5cbnZhciBwcm90b3R5cGVNaW4gPSBkZXByZWNhdGUoXG4gICAgJ21vbWVudCgpLm1pbiBpcyBkZXByZWNhdGVkLCB1c2UgbW9tZW50Lm1heCBpbnN0ZWFkLiBodHRwOi8vbW9tZW50anMuY29tL2d1aWRlcy8jL3dhcm5pbmdzL21pbi1tYXgvJyxcbiAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBvdGhlciA9IGNyZWF0ZUxvY2FsLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gICAgICAgIGlmICh0aGlzLmlzVmFsaWQoKSAmJiBvdGhlci5pc1ZhbGlkKCkpIHtcbiAgICAgICAgICAgIHJldHVybiBvdGhlciA8IHRoaXMgPyB0aGlzIDogb3RoZXI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlSW52YWxpZCgpO1xuICAgICAgICB9XG4gICAgfVxuKTtcblxudmFyIHByb3RvdHlwZU1heCA9IGRlcHJlY2F0ZShcbiAgICAnbW9tZW50KCkubWF4IGlzIGRlcHJlY2F0ZWQsIHVzZSBtb21lbnQubWluIGluc3RlYWQuIGh0dHA6Ly9tb21lbnRqcy5jb20vZ3VpZGVzLyMvd2FybmluZ3MvbWluLW1heC8nLFxuICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG90aGVyID0gY3JlYXRlTG9jYWwuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgICAgICAgaWYgKHRoaXMuaXNWYWxpZCgpICYmIG90aGVyLmlzVmFsaWQoKSkge1xuICAgICAgICAgICAgcmV0dXJuIG90aGVyID4gdGhpcyA/IHRoaXMgOiBvdGhlcjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVJbnZhbGlkKCk7XG4gICAgICAgIH1cbiAgICB9XG4pO1xuXG4vLyBQaWNrIGEgbW9tZW50IG0gZnJvbSBtb21lbnRzIHNvIHRoYXQgbVtmbl0ob3RoZXIpIGlzIHRydWUgZm9yIGFsbFxuLy8gb3RoZXIuIFRoaXMgcmVsaWVzIG9uIHRoZSBmdW5jdGlvbiBmbiB0byBiZSB0cmFuc2l0aXZlLlxuLy9cbi8vIG1vbWVudHMgc2hvdWxkIGVpdGhlciBiZSBhbiBhcnJheSBvZiBtb21lbnQgb2JqZWN0cyBvciBhbiBhcnJheSwgd2hvc2Vcbi8vIGZpcnN0IGVsZW1lbnQgaXMgYW4gYXJyYXkgb2YgbW9tZW50IG9iamVjdHMuXG5mdW5jdGlvbiBwaWNrQnkoZm4sIG1vbWVudHMpIHtcbiAgICB2YXIgcmVzLCBpO1xuICAgIGlmIChtb21lbnRzLmxlbmd0aCA9PT0gMSAmJiBpc0FycmF5KG1vbWVudHNbMF0pKSB7XG4gICAgICAgIG1vbWVudHMgPSBtb21lbnRzWzBdO1xuICAgIH1cbiAgICBpZiAoIW1vbWVudHMubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVMb2NhbCgpO1xuICAgIH1cbiAgICByZXMgPSBtb21lbnRzWzBdO1xuICAgIGZvciAoaSA9IDE7IGkgPCBtb21lbnRzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIGlmICghbW9tZW50c1tpXS5pc1ZhbGlkKCkgfHwgbW9tZW50c1tpXVtmbl0ocmVzKSkge1xuICAgICAgICAgICAgcmVzID0gbW9tZW50c1tpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzO1xufVxuXG4vLyBUT0RPOiBVc2UgW10uc29ydCBpbnN0ZWFkP1xuZnVuY3Rpb24gbWluICgpIHtcbiAgICB2YXIgYXJncyA9IFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAwKTtcblxuICAgIHJldHVybiBwaWNrQnkoJ2lzQmVmb3JlJywgYXJncyk7XG59XG5cbmZ1bmN0aW9uIG1heCAoKSB7XG4gICAgdmFyIGFyZ3MgPSBbXS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMCk7XG5cbiAgICByZXR1cm4gcGlja0J5KCdpc0FmdGVyJywgYXJncyk7XG59XG5cbnZhciBub3cgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIERhdGUubm93ID8gRGF0ZS5ub3coKSA6ICsobmV3IERhdGUoKSk7XG59O1xuXG5mdW5jdGlvbiBEdXJhdGlvbiAoZHVyYXRpb24pIHtcbiAgICB2YXIgbm9ybWFsaXplZElucHV0ID0gbm9ybWFsaXplT2JqZWN0VW5pdHMoZHVyYXRpb24pLFxuICAgICAgICB5ZWFycyA9IG5vcm1hbGl6ZWRJbnB1dC55ZWFyIHx8IDAsXG4gICAgICAgIHF1YXJ0ZXJzID0gbm9ybWFsaXplZElucHV0LnF1YXJ0ZXIgfHwgMCxcbiAgICAgICAgbW9udGhzID0gbm9ybWFsaXplZElucHV0Lm1vbnRoIHx8IDAsXG4gICAgICAgIHdlZWtzID0gbm9ybWFsaXplZElucHV0LndlZWsgfHwgMCxcbiAgICAgICAgZGF5cyA9IG5vcm1hbGl6ZWRJbnB1dC5kYXkgfHwgMCxcbiAgICAgICAgaG91cnMgPSBub3JtYWxpemVkSW5wdXQuaG91ciB8fCAwLFxuICAgICAgICBtaW51dGVzID0gbm9ybWFsaXplZElucHV0Lm1pbnV0ZSB8fCAwLFxuICAgICAgICBzZWNvbmRzID0gbm9ybWFsaXplZElucHV0LnNlY29uZCB8fCAwLFxuICAgICAgICBtaWxsaXNlY29uZHMgPSBub3JtYWxpemVkSW5wdXQubWlsbGlzZWNvbmQgfHwgMDtcblxuICAgIC8vIHJlcHJlc2VudGF0aW9uIGZvciBkYXRlQWRkUmVtb3ZlXG4gICAgdGhpcy5fbWlsbGlzZWNvbmRzID0gK21pbGxpc2Vjb25kcyArXG4gICAgICAgIHNlY29uZHMgKiAxZTMgKyAvLyAxMDAwXG4gICAgICAgIG1pbnV0ZXMgKiA2ZTQgKyAvLyAxMDAwICogNjBcbiAgICAgICAgaG91cnMgKiAxMDAwICogNjAgKiA2MDsgLy91c2luZyAxMDAwICogNjAgKiA2MCBpbnN0ZWFkIG9mIDM2ZTUgdG8gYXZvaWQgZmxvYXRpbmcgcG9pbnQgcm91bmRpbmcgZXJyb3JzIGh0dHBzOi8vZ2l0aHViLmNvbS9tb21lbnQvbW9tZW50L2lzc3Vlcy8yOTc4XG4gICAgLy8gQmVjYXVzZSBvZiBkYXRlQWRkUmVtb3ZlIHRyZWF0cyAyNCBob3VycyBhcyBkaWZmZXJlbnQgZnJvbSBhXG4gICAgLy8gZGF5IHdoZW4gd29ya2luZyBhcm91bmQgRFNULCB3ZSBuZWVkIHRvIHN0b3JlIHRoZW0gc2VwYXJhdGVseVxuICAgIHRoaXMuX2RheXMgPSArZGF5cyArXG4gICAgICAgIHdlZWtzICogNztcbiAgICAvLyBJdCBpcyBpbXBvc3NpYmxlIHRyYW5zbGF0ZSBtb250aHMgaW50byBkYXlzIHdpdGhvdXQga25vd2luZ1xuICAgIC8vIHdoaWNoIG1vbnRocyB5b3UgYXJlIGFyZSB0YWxraW5nIGFib3V0LCBzbyB3ZSBoYXZlIHRvIHN0b3JlXG4gICAgLy8gaXQgc2VwYXJhdGVseS5cbiAgICB0aGlzLl9tb250aHMgPSArbW9udGhzICtcbiAgICAgICAgcXVhcnRlcnMgKiAzICtcbiAgICAgICAgeWVhcnMgKiAxMjtcblxuICAgIHRoaXMuX2RhdGEgPSB7fTtcblxuICAgIHRoaXMuX2xvY2FsZSA9IGdldExvY2FsZSgpO1xuXG4gICAgdGhpcy5fYnViYmxlKCk7XG59XG5cbmZ1bmN0aW9uIGlzRHVyYXRpb24gKG9iaikge1xuICAgIHJldHVybiBvYmogaW5zdGFuY2VvZiBEdXJhdGlvbjtcbn1cblxuZnVuY3Rpb24gYWJzUm91bmQgKG51bWJlcikge1xuICAgIGlmIChudW1iZXIgPCAwKSB7XG4gICAgICAgIHJldHVybiBNYXRoLnJvdW5kKC0xICogbnVtYmVyKSAqIC0xO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBNYXRoLnJvdW5kKG51bWJlcik7XG4gICAgfVxufVxuXG4vLyBGT1JNQVRUSU5HXG5cbmZ1bmN0aW9uIG9mZnNldCAodG9rZW4sIHNlcGFyYXRvcikge1xuICAgIGFkZEZvcm1hdFRva2VuKHRva2VuLCAwLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBvZmZzZXQgPSB0aGlzLnV0Y09mZnNldCgpO1xuICAgICAgICB2YXIgc2lnbiA9ICcrJztcbiAgICAgICAgaWYgKG9mZnNldCA8IDApIHtcbiAgICAgICAgICAgIG9mZnNldCA9IC1vZmZzZXQ7XG4gICAgICAgICAgICBzaWduID0gJy0nO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzaWduICsgemVyb0ZpbGwofn4ob2Zmc2V0IC8gNjApLCAyKSArIHNlcGFyYXRvciArIHplcm9GaWxsKH5+KG9mZnNldCkgJSA2MCwgMik7XG4gICAgfSk7XG59XG5cbm9mZnNldCgnWicsICc6Jyk7XG5vZmZzZXQoJ1paJywgJycpO1xuXG4vLyBQQVJTSU5HXG5cbmFkZFJlZ2V4VG9rZW4oJ1onLCAgbWF0Y2hTaG9ydE9mZnNldCk7XG5hZGRSZWdleFRva2VuKCdaWicsIG1hdGNoU2hvcnRPZmZzZXQpO1xuYWRkUGFyc2VUb2tlbihbJ1onLCAnWlonXSwgZnVuY3Rpb24gKGlucHV0LCBhcnJheSwgY29uZmlnKSB7XG4gICAgY29uZmlnLl91c2VVVEMgPSB0cnVlO1xuICAgIGNvbmZpZy5fdHptID0gb2Zmc2V0RnJvbVN0cmluZyhtYXRjaFNob3J0T2Zmc2V0LCBpbnB1dCk7XG59KTtcblxuLy8gSEVMUEVSU1xuXG4vLyB0aW1lem9uZSBjaHVua2VyXG4vLyAnKzEwOjAwJyA+IFsnMTAnLCAgJzAwJ11cbi8vICctMTUzMCcgID4gWyctMTUnLCAnMzAnXVxudmFyIGNodW5rT2Zmc2V0ID0gLyhbXFwrXFwtXXxcXGRcXGQpL2dpO1xuXG5mdW5jdGlvbiBvZmZzZXRGcm9tU3RyaW5nKG1hdGNoZXIsIHN0cmluZykge1xuICAgIHZhciBtYXRjaGVzID0gKHN0cmluZyB8fCAnJykubWF0Y2gobWF0Y2hlcik7XG5cbiAgICBpZiAobWF0Y2hlcyA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICB2YXIgY2h1bmsgICA9IG1hdGNoZXNbbWF0Y2hlcy5sZW5ndGggLSAxXSB8fCBbXTtcbiAgICB2YXIgcGFydHMgICA9IChjaHVuayArICcnKS5tYXRjaChjaHVua09mZnNldCkgfHwgWyctJywgMCwgMF07XG4gICAgdmFyIG1pbnV0ZXMgPSArKHBhcnRzWzFdICogNjApICsgdG9JbnQocGFydHNbMl0pO1xuXG4gICAgcmV0dXJuIG1pbnV0ZXMgPT09IDAgP1xuICAgICAgMCA6XG4gICAgICBwYXJ0c1swXSA9PT0gJysnID8gbWludXRlcyA6IC1taW51dGVzO1xufVxuXG4vLyBSZXR1cm4gYSBtb21lbnQgZnJvbSBpbnB1dCwgdGhhdCBpcyBsb2NhbC91dGMvem9uZSBlcXVpdmFsZW50IHRvIG1vZGVsLlxuZnVuY3Rpb24gY2xvbmVXaXRoT2Zmc2V0KGlucHV0LCBtb2RlbCkge1xuICAgIHZhciByZXMsIGRpZmY7XG4gICAgaWYgKG1vZGVsLl9pc1VUQykge1xuICAgICAgICByZXMgPSBtb2RlbC5jbG9uZSgpO1xuICAgICAgICBkaWZmID0gKGlzTW9tZW50KGlucHV0KSB8fCBpc0RhdGUoaW5wdXQpID8gaW5wdXQudmFsdWVPZigpIDogY3JlYXRlTG9jYWwoaW5wdXQpLnZhbHVlT2YoKSkgLSByZXMudmFsdWVPZigpO1xuICAgICAgICAvLyBVc2UgbG93LWxldmVsIGFwaSwgYmVjYXVzZSB0aGlzIGZuIGlzIGxvdy1sZXZlbCBhcGkuXG4gICAgICAgIHJlcy5fZC5zZXRUaW1lKHJlcy5fZC52YWx1ZU9mKCkgKyBkaWZmKTtcbiAgICAgICAgaG9va3MudXBkYXRlT2Zmc2V0KHJlcywgZmFsc2UpO1xuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVMb2NhbChpbnB1dCkubG9jYWwoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGdldERhdGVPZmZzZXQgKG0pIHtcbiAgICAvLyBPbiBGaXJlZm94LjI0IERhdGUjZ2V0VGltZXpvbmVPZmZzZXQgcmV0dXJucyBhIGZsb2F0aW5nIHBvaW50LlxuICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9tb21lbnQvbW9tZW50L3B1bGwvMTg3MVxuICAgIHJldHVybiAtTWF0aC5yb3VuZChtLl9kLmdldFRpbWV6b25lT2Zmc2V0KCkgLyAxNSkgKiAxNTtcbn1cblxuLy8gSE9PS1NcblxuLy8gVGhpcyBmdW5jdGlvbiB3aWxsIGJlIGNhbGxlZCB3aGVuZXZlciBhIG1vbWVudCBpcyBtdXRhdGVkLlxuLy8gSXQgaXMgaW50ZW5kZWQgdG8ga2VlcCB0aGUgb2Zmc2V0IGluIHN5bmMgd2l0aCB0aGUgdGltZXpvbmUuXG5ob29rcy51cGRhdGVPZmZzZXQgPSBmdW5jdGlvbiAoKSB7fTtcblxuLy8gTU9NRU5UU1xuXG4vLyBrZWVwTG9jYWxUaW1lID0gdHJ1ZSBtZWFucyBvbmx5IGNoYW5nZSB0aGUgdGltZXpvbmUsIHdpdGhvdXRcbi8vIGFmZmVjdGluZyB0aGUgbG9jYWwgaG91ci4gU28gNTozMToyNiArMDMwMCAtLVt1dGNPZmZzZXQoMiwgdHJ1ZSldLS0+XG4vLyA1OjMxOjI2ICswMjAwIEl0IGlzIHBvc3NpYmxlIHRoYXQgNTozMToyNiBkb2Vzbid0IGV4aXN0IHdpdGggb2Zmc2V0XG4vLyArMDIwMCwgc28gd2UgYWRqdXN0IHRoZSB0aW1lIGFzIG5lZWRlZCwgdG8gYmUgdmFsaWQuXG4vL1xuLy8gS2VlcGluZyB0aGUgdGltZSBhY3R1YWxseSBhZGRzL3N1YnRyYWN0cyAob25lIGhvdXIpXG4vLyBmcm9tIHRoZSBhY3R1YWwgcmVwcmVzZW50ZWQgdGltZS4gVGhhdCBpcyB3aHkgd2UgY2FsbCB1cGRhdGVPZmZzZXRcbi8vIGEgc2Vjb25kIHRpbWUuIEluIGNhc2UgaXQgd2FudHMgdXMgdG8gY2hhbmdlIHRoZSBvZmZzZXQgYWdhaW5cbi8vIF9jaGFuZ2VJblByb2dyZXNzID09IHRydWUgY2FzZSwgdGhlbiB3ZSBoYXZlIHRvIGFkanVzdCwgYmVjYXVzZVxuLy8gdGhlcmUgaXMgbm8gc3VjaCB0aW1lIGluIHRoZSBnaXZlbiB0aW1lem9uZS5cbmZ1bmN0aW9uIGdldFNldE9mZnNldCAoaW5wdXQsIGtlZXBMb2NhbFRpbWUpIHtcbiAgICB2YXIgb2Zmc2V0ID0gdGhpcy5fb2Zmc2V0IHx8IDAsXG4gICAgICAgIGxvY2FsQWRqdXN0O1xuICAgIGlmICghdGhpcy5pc1ZhbGlkKCkpIHtcbiAgICAgICAgcmV0dXJuIGlucHV0ICE9IG51bGwgPyB0aGlzIDogTmFOO1xuICAgIH1cbiAgICBpZiAoaW5wdXQgIT0gbnVsbCkge1xuICAgICAgICBpZiAodHlwZW9mIGlucHV0ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgaW5wdXQgPSBvZmZzZXRGcm9tU3RyaW5nKG1hdGNoU2hvcnRPZmZzZXQsIGlucHV0KTtcbiAgICAgICAgICAgIGlmIChpbnB1dCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKE1hdGguYWJzKGlucHV0KSA8IDE2KSB7XG4gICAgICAgICAgICBpbnB1dCA9IGlucHV0ICogNjA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLl9pc1VUQyAmJiBrZWVwTG9jYWxUaW1lKSB7XG4gICAgICAgICAgICBsb2NhbEFkanVzdCA9IGdldERhdGVPZmZzZXQodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fb2Zmc2V0ID0gaW5wdXQ7XG4gICAgICAgIHRoaXMuX2lzVVRDID0gdHJ1ZTtcbiAgICAgICAgaWYgKGxvY2FsQWRqdXN0ICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuYWRkKGxvY2FsQWRqdXN0LCAnbScpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvZmZzZXQgIT09IGlucHV0KSB7XG4gICAgICAgICAgICBpZiAoIWtlZXBMb2NhbFRpbWUgfHwgdGhpcy5fY2hhbmdlSW5Qcm9ncmVzcykge1xuICAgICAgICAgICAgICAgIGFkZFN1YnRyYWN0KHRoaXMsIGNyZWF0ZUR1cmF0aW9uKGlucHV0IC0gb2Zmc2V0LCAnbScpLCAxLCBmYWxzZSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCF0aGlzLl9jaGFuZ2VJblByb2dyZXNzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fY2hhbmdlSW5Qcm9ncmVzcyA9IHRydWU7XG4gICAgICAgICAgICAgICAgaG9va3MudXBkYXRlT2Zmc2V0KHRoaXMsIHRydWUpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2NoYW5nZUluUHJvZ3Jlc3MgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pc1VUQyA/IG9mZnNldCA6IGdldERhdGVPZmZzZXQodGhpcyk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBnZXRTZXRab25lIChpbnB1dCwga2VlcExvY2FsVGltZSkge1xuICAgIGlmIChpbnB1dCAhPSBudWxsKSB7XG4gICAgICAgIGlmICh0eXBlb2YgaW5wdXQgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBpbnB1dCA9IC1pbnB1dDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudXRjT2Zmc2V0KGlucHV0LCBrZWVwTG9jYWxUaW1lKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gLXRoaXMudXRjT2Zmc2V0KCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBzZXRPZmZzZXRUb1VUQyAoa2VlcExvY2FsVGltZSkge1xuICAgIHJldHVybiB0aGlzLnV0Y09mZnNldCgwLCBrZWVwTG9jYWxUaW1lKTtcbn1cblxuZnVuY3Rpb24gc2V0T2Zmc2V0VG9Mb2NhbCAoa2VlcExvY2FsVGltZSkge1xuICAgIGlmICh0aGlzLl9pc1VUQykge1xuICAgICAgICB0aGlzLnV0Y09mZnNldCgwLCBrZWVwTG9jYWxUaW1lKTtcbiAgICAgICAgdGhpcy5faXNVVEMgPSBmYWxzZTtcblxuICAgICAgICBpZiAoa2VlcExvY2FsVGltZSkge1xuICAgICAgICAgICAgdGhpcy5zdWJ0cmFjdChnZXREYXRlT2Zmc2V0KHRoaXMpLCAnbScpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xufVxuXG5mdW5jdGlvbiBzZXRPZmZzZXRUb1BhcnNlZE9mZnNldCAoKSB7XG4gICAgaWYgKHRoaXMuX3R6bSAhPSBudWxsKSB7XG4gICAgICAgIHRoaXMudXRjT2Zmc2V0KHRoaXMuX3R6bSk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgdGhpcy5faSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgdmFyIHRab25lID0gb2Zmc2V0RnJvbVN0cmluZyhtYXRjaE9mZnNldCwgdGhpcy5faSk7XG4gICAgICAgIGlmICh0Wm9uZSAhPSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLnV0Y09mZnNldCh0Wm9uZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnV0Y09mZnNldCgwLCB0cnVlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbn1cblxuZnVuY3Rpb24gaGFzQWxpZ25lZEhvdXJPZmZzZXQgKGlucHV0KSB7XG4gICAgaWYgKCF0aGlzLmlzVmFsaWQoKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlucHV0ID0gaW5wdXQgPyBjcmVhdGVMb2NhbChpbnB1dCkudXRjT2Zmc2V0KCkgOiAwO1xuXG4gICAgcmV0dXJuICh0aGlzLnV0Y09mZnNldCgpIC0gaW5wdXQpICUgNjAgPT09IDA7XG59XG5cbmZ1bmN0aW9uIGlzRGF5bGlnaHRTYXZpbmdUaW1lICgpIHtcbiAgICByZXR1cm4gKFxuICAgICAgICB0aGlzLnV0Y09mZnNldCgpID4gdGhpcy5jbG9uZSgpLm1vbnRoKDApLnV0Y09mZnNldCgpIHx8XG4gICAgICAgIHRoaXMudXRjT2Zmc2V0KCkgPiB0aGlzLmNsb25lKCkubW9udGgoNSkudXRjT2Zmc2V0KClcbiAgICApO1xufVxuXG5mdW5jdGlvbiBpc0RheWxpZ2h0U2F2aW5nVGltZVNoaWZ0ZWQgKCkge1xuICAgIGlmICghaXNVbmRlZmluZWQodGhpcy5faXNEU1RTaGlmdGVkKSkge1xuICAgICAgICByZXR1cm4gdGhpcy5faXNEU1RTaGlmdGVkO1xuICAgIH1cblxuICAgIHZhciBjID0ge307XG5cbiAgICBjb3B5Q29uZmlnKGMsIHRoaXMpO1xuICAgIGMgPSBwcmVwYXJlQ29uZmlnKGMpO1xuXG4gICAgaWYgKGMuX2EpIHtcbiAgICAgICAgdmFyIG90aGVyID0gYy5faXNVVEMgPyBjcmVhdGVVVEMoYy5fYSkgOiBjcmVhdGVMb2NhbChjLl9hKTtcbiAgICAgICAgdGhpcy5faXNEU1RTaGlmdGVkID0gdGhpcy5pc1ZhbGlkKCkgJiZcbiAgICAgICAgICAgIGNvbXBhcmVBcnJheXMoYy5fYSwgb3RoZXIudG9BcnJheSgpKSA+IDA7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5faXNEU1RTaGlmdGVkID0gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuX2lzRFNUU2hpZnRlZDtcbn1cblxuZnVuY3Rpb24gaXNMb2NhbCAoKSB7XG4gICAgcmV0dXJuIHRoaXMuaXNWYWxpZCgpID8gIXRoaXMuX2lzVVRDIDogZmFsc2U7XG59XG5cbmZ1bmN0aW9uIGlzVXRjT2Zmc2V0ICgpIHtcbiAgICByZXR1cm4gdGhpcy5pc1ZhbGlkKCkgPyB0aGlzLl9pc1VUQyA6IGZhbHNlO1xufVxuXG5mdW5jdGlvbiBpc1V0YyAoKSB7XG4gICAgcmV0dXJuIHRoaXMuaXNWYWxpZCgpID8gdGhpcy5faXNVVEMgJiYgdGhpcy5fb2Zmc2V0ID09PSAwIDogZmFsc2U7XG59XG5cbi8vIEFTUC5ORVQganNvbiBkYXRlIGZvcm1hdCByZWdleFxudmFyIGFzcE5ldFJlZ2V4ID0gL14oXFwtKT8oPzooXFxkKilbLiBdKT8oXFxkKylcXDooXFxkKykoPzpcXDooXFxkKykoXFwuXFxkKik/KT8kLztcblxuLy8gZnJvbSBodHRwOi8vZG9jcy5jbG9zdXJlLWxpYnJhcnkuZ29vZ2xlY29kZS5jb20vZ2l0L2Nsb3N1cmVfZ29vZ19kYXRlX2RhdGUuanMuc291cmNlLmh0bWxcbi8vIHNvbWV3aGF0IG1vcmUgaW4gbGluZSB3aXRoIDQuNC4zLjIgMjAwNCBzcGVjLCBidXQgYWxsb3dzIGRlY2ltYWwgYW55d2hlcmVcbi8vIGFuZCBmdXJ0aGVyIG1vZGlmaWVkIHRvIGFsbG93IGZvciBzdHJpbmdzIGNvbnRhaW5pbmcgYm90aCB3ZWVrIGFuZCBkYXlcbnZhciBpc29SZWdleCA9IC9eKC0pP1AoPzooLT9bMC05LC5dKilZKT8oPzooLT9bMC05LC5dKilNKT8oPzooLT9bMC05LC5dKilXKT8oPzooLT9bMC05LC5dKilEKT8oPzpUKD86KC0/WzAtOSwuXSopSCk/KD86KC0/WzAtOSwuXSopTSk/KD86KC0/WzAtOSwuXSopUyk/KT8kLztcblxuZnVuY3Rpb24gY3JlYXRlRHVyYXRpb24gKGlucHV0LCBrZXkpIHtcbiAgICB2YXIgZHVyYXRpb24gPSBpbnB1dCxcbiAgICAgICAgLy8gbWF0Y2hpbmcgYWdhaW5zdCByZWdleHAgaXMgZXhwZW5zaXZlLCBkbyBpdCBvbiBkZW1hbmRcbiAgICAgICAgbWF0Y2ggPSBudWxsLFxuICAgICAgICBzaWduLFxuICAgICAgICByZXQsXG4gICAgICAgIGRpZmZSZXM7XG5cbiAgICBpZiAoaXNEdXJhdGlvbihpbnB1dCkpIHtcbiAgICAgICAgZHVyYXRpb24gPSB7XG4gICAgICAgICAgICBtcyA6IGlucHV0Ll9taWxsaXNlY29uZHMsXG4gICAgICAgICAgICBkICA6IGlucHV0Ll9kYXlzLFxuICAgICAgICAgICAgTSAgOiBpbnB1dC5fbW9udGhzXG4gICAgICAgIH07XG4gICAgfSBlbHNlIGlmIChpc051bWJlcihpbnB1dCkpIHtcbiAgICAgICAgZHVyYXRpb24gPSB7fTtcbiAgICAgICAgaWYgKGtleSkge1xuICAgICAgICAgICAgZHVyYXRpb25ba2V5XSA9IGlucHV0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZHVyYXRpb24ubWlsbGlzZWNvbmRzID0gaW5wdXQ7XG4gICAgICAgIH1cbiAgICB9IGVsc2UgaWYgKCEhKG1hdGNoID0gYXNwTmV0UmVnZXguZXhlYyhpbnB1dCkpKSB7XG4gICAgICAgIHNpZ24gPSAobWF0Y2hbMV0gPT09ICctJykgPyAtMSA6IDE7XG4gICAgICAgIGR1cmF0aW9uID0ge1xuICAgICAgICAgICAgeSAgOiAwLFxuICAgICAgICAgICAgZCAgOiB0b0ludChtYXRjaFtEQVRFXSkgICAgICAgICAgICAgICAgICAgICAgICAgKiBzaWduLFxuICAgICAgICAgICAgaCAgOiB0b0ludChtYXRjaFtIT1VSXSkgICAgICAgICAgICAgICAgICAgICAgICAgKiBzaWduLFxuICAgICAgICAgICAgbSAgOiB0b0ludChtYXRjaFtNSU5VVEVdKSAgICAgICAgICAgICAgICAgICAgICAgKiBzaWduLFxuICAgICAgICAgICAgcyAgOiB0b0ludChtYXRjaFtTRUNPTkRdKSAgICAgICAgICAgICAgICAgICAgICAgKiBzaWduLFxuICAgICAgICAgICAgbXMgOiB0b0ludChhYnNSb3VuZChtYXRjaFtNSUxMSVNFQ09ORF0gKiAxMDAwKSkgKiBzaWduIC8vIHRoZSBtaWxsaXNlY29uZCBkZWNpbWFsIHBvaW50IGlzIGluY2x1ZGVkIGluIHRoZSBtYXRjaFxuICAgICAgICB9O1xuICAgIH0gZWxzZSBpZiAoISEobWF0Y2ggPSBpc29SZWdleC5leGVjKGlucHV0KSkpIHtcbiAgICAgICAgc2lnbiA9IChtYXRjaFsxXSA9PT0gJy0nKSA/IC0xIDogMTtcbiAgICAgICAgZHVyYXRpb24gPSB7XG4gICAgICAgICAgICB5IDogcGFyc2VJc28obWF0Y2hbMl0sIHNpZ24pLFxuICAgICAgICAgICAgTSA6IHBhcnNlSXNvKG1hdGNoWzNdLCBzaWduKSxcbiAgICAgICAgICAgIHcgOiBwYXJzZUlzbyhtYXRjaFs0XSwgc2lnbiksXG4gICAgICAgICAgICBkIDogcGFyc2VJc28obWF0Y2hbNV0sIHNpZ24pLFxuICAgICAgICAgICAgaCA6IHBhcnNlSXNvKG1hdGNoWzZdLCBzaWduKSxcbiAgICAgICAgICAgIG0gOiBwYXJzZUlzbyhtYXRjaFs3XSwgc2lnbiksXG4gICAgICAgICAgICBzIDogcGFyc2VJc28obWF0Y2hbOF0sIHNpZ24pXG4gICAgICAgIH07XG4gICAgfSBlbHNlIGlmIChkdXJhdGlvbiA9PSBudWxsKSB7Ly8gY2hlY2tzIGZvciBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBkdXJhdGlvbiA9IHt9O1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGR1cmF0aW9uID09PSAnb2JqZWN0JyAmJiAoJ2Zyb20nIGluIGR1cmF0aW9uIHx8ICd0bycgaW4gZHVyYXRpb24pKSB7XG4gICAgICAgIGRpZmZSZXMgPSBtb21lbnRzRGlmZmVyZW5jZShjcmVhdGVMb2NhbChkdXJhdGlvbi5mcm9tKSwgY3JlYXRlTG9jYWwoZHVyYXRpb24udG8pKTtcblxuICAgICAgICBkdXJhdGlvbiA9IHt9O1xuICAgICAgICBkdXJhdGlvbi5tcyA9IGRpZmZSZXMubWlsbGlzZWNvbmRzO1xuICAgICAgICBkdXJhdGlvbi5NID0gZGlmZlJlcy5tb250aHM7XG4gICAgfVxuXG4gICAgcmV0ID0gbmV3IER1cmF0aW9uKGR1cmF0aW9uKTtcblxuICAgIGlmIChpc0R1cmF0aW9uKGlucHV0KSAmJiBoYXNPd25Qcm9wKGlucHV0LCAnX2xvY2FsZScpKSB7XG4gICAgICAgIHJldC5fbG9jYWxlID0gaW5wdXQuX2xvY2FsZTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmV0O1xufVxuXG5jcmVhdGVEdXJhdGlvbi5mbiA9IER1cmF0aW9uLnByb3RvdHlwZTtcblxuZnVuY3Rpb24gcGFyc2VJc28gKGlucCwgc2lnbikge1xuICAgIC8vIFdlJ2Qgbm9ybWFsbHkgdXNlIH5+aW5wIGZvciB0aGlzLCBidXQgdW5mb3J0dW5hdGVseSBpdCBhbHNvXG4gICAgLy8gY29udmVydHMgZmxvYXRzIHRvIGludHMuXG4gICAgLy8gaW5wIG1heSBiZSB1bmRlZmluZWQsIHNvIGNhcmVmdWwgY2FsbGluZyByZXBsYWNlIG9uIGl0LlxuICAgIHZhciByZXMgPSBpbnAgJiYgcGFyc2VGbG9hdChpbnAucmVwbGFjZSgnLCcsICcuJykpO1xuICAgIC8vIGFwcGx5IHNpZ24gd2hpbGUgd2UncmUgYXQgaXRcbiAgICByZXR1cm4gKGlzTmFOKHJlcykgPyAwIDogcmVzKSAqIHNpZ247XG59XG5cbmZ1bmN0aW9uIHBvc2l0aXZlTW9tZW50c0RpZmZlcmVuY2UoYmFzZSwgb3RoZXIpIHtcbiAgICB2YXIgcmVzID0ge21pbGxpc2Vjb25kczogMCwgbW9udGhzOiAwfTtcblxuICAgIHJlcy5tb250aHMgPSBvdGhlci5tb250aCgpIC0gYmFzZS5tb250aCgpICtcbiAgICAgICAgKG90aGVyLnllYXIoKSAtIGJhc2UueWVhcigpKSAqIDEyO1xuICAgIGlmIChiYXNlLmNsb25lKCkuYWRkKHJlcy5tb250aHMsICdNJykuaXNBZnRlcihvdGhlcikpIHtcbiAgICAgICAgLS1yZXMubW9udGhzO1xuICAgIH1cblxuICAgIHJlcy5taWxsaXNlY29uZHMgPSArb3RoZXIgLSArKGJhc2UuY2xvbmUoKS5hZGQocmVzLm1vbnRocywgJ00nKSk7XG5cbiAgICByZXR1cm4gcmVzO1xufVxuXG5mdW5jdGlvbiBtb21lbnRzRGlmZmVyZW5jZShiYXNlLCBvdGhlcikge1xuICAgIHZhciByZXM7XG4gICAgaWYgKCEoYmFzZS5pc1ZhbGlkKCkgJiYgb3RoZXIuaXNWYWxpZCgpKSkge1xuICAgICAgICByZXR1cm4ge21pbGxpc2Vjb25kczogMCwgbW9udGhzOiAwfTtcbiAgICB9XG5cbiAgICBvdGhlciA9IGNsb25lV2l0aE9mZnNldChvdGhlciwgYmFzZSk7XG4gICAgaWYgKGJhc2UuaXNCZWZvcmUob3RoZXIpKSB7XG4gICAgICAgIHJlcyA9IHBvc2l0aXZlTW9tZW50c0RpZmZlcmVuY2UoYmFzZSwgb3RoZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJlcyA9IHBvc2l0aXZlTW9tZW50c0RpZmZlcmVuY2Uob3RoZXIsIGJhc2UpO1xuICAgICAgICByZXMubWlsbGlzZWNvbmRzID0gLXJlcy5taWxsaXNlY29uZHM7XG4gICAgICAgIHJlcy5tb250aHMgPSAtcmVzLm1vbnRocztcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzO1xufVxuXG4vLyBUT0RPOiByZW1vdmUgJ25hbWUnIGFyZyBhZnRlciBkZXByZWNhdGlvbiBpcyByZW1vdmVkXG5mdW5jdGlvbiBjcmVhdGVBZGRlcihkaXJlY3Rpb24sIG5hbWUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHZhbCwgcGVyaW9kKSB7XG4gICAgICAgIHZhciBkdXIsIHRtcDtcbiAgICAgICAgLy9pbnZlcnQgdGhlIGFyZ3VtZW50cywgYnV0IGNvbXBsYWluIGFib3V0IGl0XG4gICAgICAgIGlmIChwZXJpb2QgIT09IG51bGwgJiYgIWlzTmFOKCtwZXJpb2QpKSB7XG4gICAgICAgICAgICBkZXByZWNhdGVTaW1wbGUobmFtZSwgJ21vbWVudCgpLicgKyBuYW1lICArICcocGVyaW9kLCBudW1iZXIpIGlzIGRlcHJlY2F0ZWQuIFBsZWFzZSB1c2UgbW9tZW50KCkuJyArIG5hbWUgKyAnKG51bWJlciwgcGVyaW9kKS4gJyArXG4gICAgICAgICAgICAnU2VlIGh0dHA6Ly9tb21lbnRqcy5jb20vZ3VpZGVzLyMvd2FybmluZ3MvYWRkLWludmVydGVkLXBhcmFtLyBmb3IgbW9yZSBpbmZvLicpO1xuICAgICAgICAgICAgdG1wID0gdmFsOyB2YWwgPSBwZXJpb2Q7IHBlcmlvZCA9IHRtcDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhbCA9IHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnID8gK3ZhbCA6IHZhbDtcbiAgICAgICAgZHVyID0gY3JlYXRlRHVyYXRpb24odmFsLCBwZXJpb2QpO1xuICAgICAgICBhZGRTdWJ0cmFjdCh0aGlzLCBkdXIsIGRpcmVjdGlvbik7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG59XG5cbmZ1bmN0aW9uIGFkZFN1YnRyYWN0IChtb20sIGR1cmF0aW9uLCBpc0FkZGluZywgdXBkYXRlT2Zmc2V0KSB7XG4gICAgdmFyIG1pbGxpc2Vjb25kcyA9IGR1cmF0aW9uLl9taWxsaXNlY29uZHMsXG4gICAgICAgIGRheXMgPSBhYnNSb3VuZChkdXJhdGlvbi5fZGF5cyksXG4gICAgICAgIG1vbnRocyA9IGFic1JvdW5kKGR1cmF0aW9uLl9tb250aHMpO1xuXG4gICAgaWYgKCFtb20uaXNWYWxpZCgpKSB7XG4gICAgICAgIC8vIE5vIG9wXG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB1cGRhdGVPZmZzZXQgPSB1cGRhdGVPZmZzZXQgPT0gbnVsbCA/IHRydWUgOiB1cGRhdGVPZmZzZXQ7XG5cbiAgICBpZiAobWlsbGlzZWNvbmRzKSB7XG4gICAgICAgIG1vbS5fZC5zZXRUaW1lKG1vbS5fZC52YWx1ZU9mKCkgKyBtaWxsaXNlY29uZHMgKiBpc0FkZGluZyk7XG4gICAgfVxuICAgIGlmIChkYXlzKSB7XG4gICAgICAgIHNldCQxKG1vbSwgJ0RhdGUnLCBnZXQobW9tLCAnRGF0ZScpICsgZGF5cyAqIGlzQWRkaW5nKTtcbiAgICB9XG4gICAgaWYgKG1vbnRocykge1xuICAgICAgICBzZXRNb250aChtb20sIGdldChtb20sICdNb250aCcpICsgbW9udGhzICogaXNBZGRpbmcpO1xuICAgIH1cbiAgICBpZiAodXBkYXRlT2Zmc2V0KSB7XG4gICAgICAgIGhvb2tzLnVwZGF0ZU9mZnNldChtb20sIGRheXMgfHwgbW9udGhzKTtcbiAgICB9XG59XG5cbnZhciBhZGQgICAgICA9IGNyZWF0ZUFkZGVyKDEsICdhZGQnKTtcbnZhciBzdWJ0cmFjdCA9IGNyZWF0ZUFkZGVyKC0xLCAnc3VidHJhY3QnKTtcblxuZnVuY3Rpb24gZ2V0Q2FsZW5kYXJGb3JtYXQobXlNb21lbnQsIG5vdykge1xuICAgIHZhciBkaWZmID0gbXlNb21lbnQuZGlmZihub3csICdkYXlzJywgdHJ1ZSk7XG4gICAgcmV0dXJuIGRpZmYgPCAtNiA/ICdzYW1lRWxzZScgOlxuICAgICAgICAgICAgZGlmZiA8IC0xID8gJ2xhc3RXZWVrJyA6XG4gICAgICAgICAgICBkaWZmIDwgMCA/ICdsYXN0RGF5JyA6XG4gICAgICAgICAgICBkaWZmIDwgMSA/ICdzYW1lRGF5JyA6XG4gICAgICAgICAgICBkaWZmIDwgMiA/ICduZXh0RGF5JyA6XG4gICAgICAgICAgICBkaWZmIDwgNyA/ICduZXh0V2VlaycgOiAnc2FtZUVsc2UnO1xufVxuXG5mdW5jdGlvbiBjYWxlbmRhciQxICh0aW1lLCBmb3JtYXRzKSB7XG4gICAgLy8gV2Ugd2FudCB0byBjb21wYXJlIHRoZSBzdGFydCBvZiB0b2RheSwgdnMgdGhpcy5cbiAgICAvLyBHZXR0aW5nIHN0YXJ0LW9mLXRvZGF5IGRlcGVuZHMgb24gd2hldGhlciB3ZSdyZSBsb2NhbC91dGMvb2Zmc2V0IG9yIG5vdC5cbiAgICB2YXIgbm93ID0gdGltZSB8fCBjcmVhdGVMb2NhbCgpLFxuICAgICAgICBzb2QgPSBjbG9uZVdpdGhPZmZzZXQobm93LCB0aGlzKS5zdGFydE9mKCdkYXknKSxcbiAgICAgICAgZm9ybWF0ID0gaG9va3MuY2FsZW5kYXJGb3JtYXQodGhpcywgc29kKSB8fCAnc2FtZUVsc2UnO1xuXG4gICAgdmFyIG91dHB1dCA9IGZvcm1hdHMgJiYgKGlzRnVuY3Rpb24oZm9ybWF0c1tmb3JtYXRdKSA/IGZvcm1hdHNbZm9ybWF0XS5jYWxsKHRoaXMsIG5vdykgOiBmb3JtYXRzW2Zvcm1hdF0pO1xuXG4gICAgcmV0dXJuIHRoaXMuZm9ybWF0KG91dHB1dCB8fCB0aGlzLmxvY2FsZURhdGEoKS5jYWxlbmRhcihmb3JtYXQsIHRoaXMsIGNyZWF0ZUxvY2FsKG5vdykpKTtcbn1cblxuZnVuY3Rpb24gY2xvbmUgKCkge1xuICAgIHJldHVybiBuZXcgTW9tZW50KHRoaXMpO1xufVxuXG5mdW5jdGlvbiBpc0FmdGVyIChpbnB1dCwgdW5pdHMpIHtcbiAgICB2YXIgbG9jYWxJbnB1dCA9IGlzTW9tZW50KGlucHV0KSA/IGlucHV0IDogY3JlYXRlTG9jYWwoaW5wdXQpO1xuICAgIGlmICghKHRoaXMuaXNWYWxpZCgpICYmIGxvY2FsSW5wdXQuaXNWYWxpZCgpKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHVuaXRzID0gbm9ybWFsaXplVW5pdHMoIWlzVW5kZWZpbmVkKHVuaXRzKSA/IHVuaXRzIDogJ21pbGxpc2Vjb25kJyk7XG4gICAgaWYgKHVuaXRzID09PSAnbWlsbGlzZWNvbmQnKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZhbHVlT2YoKSA+IGxvY2FsSW5wdXQudmFsdWVPZigpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBsb2NhbElucHV0LnZhbHVlT2YoKSA8IHRoaXMuY2xvbmUoKS5zdGFydE9mKHVuaXRzKS52YWx1ZU9mKCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBpc0JlZm9yZSAoaW5wdXQsIHVuaXRzKSB7XG4gICAgdmFyIGxvY2FsSW5wdXQgPSBpc01vbWVudChpbnB1dCkgPyBpbnB1dCA6IGNyZWF0ZUxvY2FsKGlucHV0KTtcbiAgICBpZiAoISh0aGlzLmlzVmFsaWQoKSAmJiBsb2NhbElucHV0LmlzVmFsaWQoKSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICB1bml0cyA9IG5vcm1hbGl6ZVVuaXRzKCFpc1VuZGVmaW5lZCh1bml0cykgPyB1bml0cyA6ICdtaWxsaXNlY29uZCcpO1xuICAgIGlmICh1bml0cyA9PT0gJ21pbGxpc2Vjb25kJykge1xuICAgICAgICByZXR1cm4gdGhpcy52YWx1ZU9mKCkgPCBsb2NhbElucHV0LnZhbHVlT2YoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdGhpcy5jbG9uZSgpLmVuZE9mKHVuaXRzKS52YWx1ZU9mKCkgPCBsb2NhbElucHV0LnZhbHVlT2YoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGlzQmV0d2VlbiAoZnJvbSwgdG8sIHVuaXRzLCBpbmNsdXNpdml0eSkge1xuICAgIGluY2x1c2l2aXR5ID0gaW5jbHVzaXZpdHkgfHwgJygpJztcbiAgICByZXR1cm4gKGluY2x1c2l2aXR5WzBdID09PSAnKCcgPyB0aGlzLmlzQWZ0ZXIoZnJvbSwgdW5pdHMpIDogIXRoaXMuaXNCZWZvcmUoZnJvbSwgdW5pdHMpKSAmJlxuICAgICAgICAoaW5jbHVzaXZpdHlbMV0gPT09ICcpJyA/IHRoaXMuaXNCZWZvcmUodG8sIHVuaXRzKSA6ICF0aGlzLmlzQWZ0ZXIodG8sIHVuaXRzKSk7XG59XG5cbmZ1bmN0aW9uIGlzU2FtZSAoaW5wdXQsIHVuaXRzKSB7XG4gICAgdmFyIGxvY2FsSW5wdXQgPSBpc01vbWVudChpbnB1dCkgPyBpbnB1dCA6IGNyZWF0ZUxvY2FsKGlucHV0KSxcbiAgICAgICAgaW5wdXRNcztcbiAgICBpZiAoISh0aGlzLmlzVmFsaWQoKSAmJiBsb2NhbElucHV0LmlzVmFsaWQoKSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICB1bml0cyA9IG5vcm1hbGl6ZVVuaXRzKHVuaXRzIHx8ICdtaWxsaXNlY29uZCcpO1xuICAgIGlmICh1bml0cyA9PT0gJ21pbGxpc2Vjb25kJykge1xuICAgICAgICByZXR1cm4gdGhpcy52YWx1ZU9mKCkgPT09IGxvY2FsSW5wdXQudmFsdWVPZigpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGlucHV0TXMgPSBsb2NhbElucHV0LnZhbHVlT2YoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2xvbmUoKS5zdGFydE9mKHVuaXRzKS52YWx1ZU9mKCkgPD0gaW5wdXRNcyAmJiBpbnB1dE1zIDw9IHRoaXMuY2xvbmUoKS5lbmRPZih1bml0cykudmFsdWVPZigpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gaXNTYW1lT3JBZnRlciAoaW5wdXQsIHVuaXRzKSB7XG4gICAgcmV0dXJuIHRoaXMuaXNTYW1lKGlucHV0LCB1bml0cykgfHwgdGhpcy5pc0FmdGVyKGlucHV0LHVuaXRzKTtcbn1cblxuZnVuY3Rpb24gaXNTYW1lT3JCZWZvcmUgKGlucHV0LCB1bml0cykge1xuICAgIHJldHVybiB0aGlzLmlzU2FtZShpbnB1dCwgdW5pdHMpIHx8IHRoaXMuaXNCZWZvcmUoaW5wdXQsdW5pdHMpO1xufVxuXG5mdW5jdGlvbiBkaWZmIChpbnB1dCwgdW5pdHMsIGFzRmxvYXQpIHtcbiAgICB2YXIgdGhhdCxcbiAgICAgICAgem9uZURlbHRhLFxuICAgICAgICBkZWx0YSwgb3V0cHV0O1xuXG4gICAgaWYgKCF0aGlzLmlzVmFsaWQoKSkge1xuICAgICAgICByZXR1cm4gTmFOO1xuICAgIH1cblxuICAgIHRoYXQgPSBjbG9uZVdpdGhPZmZzZXQoaW5wdXQsIHRoaXMpO1xuXG4gICAgaWYgKCF0aGF0LmlzVmFsaWQoKSkge1xuICAgICAgICByZXR1cm4gTmFOO1xuICAgIH1cblxuICAgIHpvbmVEZWx0YSA9ICh0aGF0LnV0Y09mZnNldCgpIC0gdGhpcy51dGNPZmZzZXQoKSkgKiA2ZTQ7XG5cbiAgICB1bml0cyA9IG5vcm1hbGl6ZVVuaXRzKHVuaXRzKTtcblxuICAgIGlmICh1bml0cyA9PT0gJ3llYXInIHx8IHVuaXRzID09PSAnbW9udGgnIHx8IHVuaXRzID09PSAncXVhcnRlcicpIHtcbiAgICAgICAgb3V0cHV0ID0gbW9udGhEaWZmKHRoaXMsIHRoYXQpO1xuICAgICAgICBpZiAodW5pdHMgPT09ICdxdWFydGVyJykge1xuICAgICAgICAgICAgb3V0cHV0ID0gb3V0cHV0IC8gMztcbiAgICAgICAgfSBlbHNlIGlmICh1bml0cyA9PT0gJ3llYXInKSB7XG4gICAgICAgICAgICBvdXRwdXQgPSBvdXRwdXQgLyAxMjtcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIGRlbHRhID0gdGhpcyAtIHRoYXQ7XG4gICAgICAgIG91dHB1dCA9IHVuaXRzID09PSAnc2Vjb25kJyA/IGRlbHRhIC8gMWUzIDogLy8gMTAwMFxuICAgICAgICAgICAgdW5pdHMgPT09ICdtaW51dGUnID8gZGVsdGEgLyA2ZTQgOiAvLyAxMDAwICogNjBcbiAgICAgICAgICAgIHVuaXRzID09PSAnaG91cicgPyBkZWx0YSAvIDM2ZTUgOiAvLyAxMDAwICogNjAgKiA2MFxuICAgICAgICAgICAgdW5pdHMgPT09ICdkYXknID8gKGRlbHRhIC0gem9uZURlbHRhKSAvIDg2NGU1IDogLy8gMTAwMCAqIDYwICogNjAgKiAyNCwgbmVnYXRlIGRzdFxuICAgICAgICAgICAgdW5pdHMgPT09ICd3ZWVrJyA/IChkZWx0YSAtIHpvbmVEZWx0YSkgLyA2MDQ4ZTUgOiAvLyAxMDAwICogNjAgKiA2MCAqIDI0ICogNywgbmVnYXRlIGRzdFxuICAgICAgICAgICAgZGVsdGE7XG4gICAgfVxuICAgIHJldHVybiBhc0Zsb2F0ID8gb3V0cHV0IDogYWJzRmxvb3Iob3V0cHV0KTtcbn1cblxuZnVuY3Rpb24gbW9udGhEaWZmIChhLCBiKSB7XG4gICAgLy8gZGlmZmVyZW5jZSBpbiBtb250aHNcbiAgICB2YXIgd2hvbGVNb250aERpZmYgPSAoKGIueWVhcigpIC0gYS55ZWFyKCkpICogMTIpICsgKGIubW9udGgoKSAtIGEubW9udGgoKSksXG4gICAgICAgIC8vIGIgaXMgaW4gKGFuY2hvciAtIDEgbW9udGgsIGFuY2hvciArIDEgbW9udGgpXG4gICAgICAgIGFuY2hvciA9IGEuY2xvbmUoKS5hZGQod2hvbGVNb250aERpZmYsICdtb250aHMnKSxcbiAgICAgICAgYW5jaG9yMiwgYWRqdXN0O1xuXG4gICAgaWYgKGIgLSBhbmNob3IgPCAwKSB7XG4gICAgICAgIGFuY2hvcjIgPSBhLmNsb25lKCkuYWRkKHdob2xlTW9udGhEaWZmIC0gMSwgJ21vbnRocycpO1xuICAgICAgICAvLyBsaW5lYXIgYWNyb3NzIHRoZSBtb250aFxuICAgICAgICBhZGp1c3QgPSAoYiAtIGFuY2hvcikgLyAoYW5jaG9yIC0gYW5jaG9yMik7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgYW5jaG9yMiA9IGEuY2xvbmUoKS5hZGQod2hvbGVNb250aERpZmYgKyAxLCAnbW9udGhzJyk7XG4gICAgICAgIC8vIGxpbmVhciBhY3Jvc3MgdGhlIG1vbnRoXG4gICAgICAgIGFkanVzdCA9IChiIC0gYW5jaG9yKSAvIChhbmNob3IyIC0gYW5jaG9yKTtcbiAgICB9XG5cbiAgICAvL2NoZWNrIGZvciBuZWdhdGl2ZSB6ZXJvLCByZXR1cm4gemVybyBpZiBuZWdhdGl2ZSB6ZXJvXG4gICAgcmV0dXJuIC0od2hvbGVNb250aERpZmYgKyBhZGp1c3QpIHx8IDA7XG59XG5cbmhvb2tzLmRlZmF1bHRGb3JtYXQgPSAnWVlZWS1NTS1ERFRISDptbTpzc1onO1xuaG9va3MuZGVmYXVsdEZvcm1hdFV0YyA9ICdZWVlZLU1NLUREVEhIOm1tOnNzW1pdJztcblxuZnVuY3Rpb24gdG9TdHJpbmcgKCkge1xuICAgIHJldHVybiB0aGlzLmNsb25lKCkubG9jYWxlKCdlbicpLmZvcm1hdCgnZGRkIE1NTSBERCBZWVlZIEhIOm1tOnNzIFtHTVRdWlonKTtcbn1cblxuZnVuY3Rpb24gdG9JU09TdHJpbmcgKCkge1xuICAgIHZhciBtID0gdGhpcy5jbG9uZSgpLnV0YygpO1xuICAgIGlmICgwIDwgbS55ZWFyKCkgJiYgbS55ZWFyKCkgPD0gOTk5OSkge1xuICAgICAgICBpZiAoaXNGdW5jdGlvbihEYXRlLnByb3RvdHlwZS50b0lTT1N0cmluZykpIHtcbiAgICAgICAgICAgIC8vIG5hdGl2ZSBpbXBsZW1lbnRhdGlvbiBpcyB+NTB4IGZhc3RlciwgdXNlIGl0IHdoZW4gd2UgY2FuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy50b0RhdGUoKS50b0lTT1N0cmluZygpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGZvcm1hdE1vbWVudChtLCAnWVlZWS1NTS1ERFtUXUhIOm1tOnNzLlNTU1taXScpO1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGZvcm1hdE1vbWVudChtLCAnWVlZWVlZLU1NLUREW1RdSEg6bW06c3MuU1NTW1pdJyk7XG4gICAgfVxufVxuXG4vKipcbiAqIFJldHVybiBhIGh1bWFuIHJlYWRhYmxlIHJlcHJlc2VudGF0aW9uIG9mIGEgbW9tZW50IHRoYXQgY2FuXG4gKiBhbHNvIGJlIGV2YWx1YXRlZCB0byBnZXQgYSBuZXcgbW9tZW50IHdoaWNoIGlzIHRoZSBzYW1lXG4gKlxuICogQGxpbmsgaHR0cHM6Ly9ub2RlanMub3JnL2Rpc3QvbGF0ZXN0L2RvY3MvYXBpL3V0aWwuaHRtbCN1dGlsX2N1c3RvbV9pbnNwZWN0X2Z1bmN0aW9uX29uX29iamVjdHNcbiAqL1xuZnVuY3Rpb24gaW5zcGVjdCAoKSB7XG4gICAgaWYgKCF0aGlzLmlzVmFsaWQoKSkge1xuICAgICAgICByZXR1cm4gJ21vbWVudC5pbnZhbGlkKC8qICcgKyB0aGlzLl9pICsgJyAqLyknO1xuICAgIH1cbiAgICB2YXIgZnVuYyA9ICdtb21lbnQnO1xuICAgIHZhciB6b25lID0gJyc7XG4gICAgaWYgKCF0aGlzLmlzTG9jYWwoKSkge1xuICAgICAgICBmdW5jID0gdGhpcy51dGNPZmZzZXQoKSA9PT0gMCA/ICdtb21lbnQudXRjJyA6ICdtb21lbnQucGFyc2Vab25lJztcbiAgICAgICAgem9uZSA9ICdaJztcbiAgICB9XG4gICAgdmFyIHByZWZpeCA9ICdbJyArIGZ1bmMgKyAnKFwiXSc7XG4gICAgdmFyIHllYXIgPSAoMCA8IHRoaXMueWVhcigpICYmIHRoaXMueWVhcigpIDw9IDk5OTkpID8gJ1lZWVknIDogJ1lZWVlZWSc7XG4gICAgdmFyIGRhdGV0aW1lID0gJy1NTS1ERFtUXUhIOm1tOnNzLlNTUyc7XG4gICAgdmFyIHN1ZmZpeCA9IHpvbmUgKyAnW1wiKV0nO1xuXG4gICAgcmV0dXJuIHRoaXMuZm9ybWF0KHByZWZpeCArIHllYXIgKyBkYXRldGltZSArIHN1ZmZpeCk7XG59XG5cbmZ1bmN0aW9uIGZvcm1hdCAoaW5wdXRTdHJpbmcpIHtcbiAgICBpZiAoIWlucHV0U3RyaW5nKSB7XG4gICAgICAgIGlucHV0U3RyaW5nID0gdGhpcy5pc1V0YygpID8gaG9va3MuZGVmYXVsdEZvcm1hdFV0YyA6IGhvb2tzLmRlZmF1bHRGb3JtYXQ7XG4gICAgfVxuICAgIHZhciBvdXRwdXQgPSBmb3JtYXRNb21lbnQodGhpcywgaW5wdXRTdHJpbmcpO1xuICAgIHJldHVybiB0aGlzLmxvY2FsZURhdGEoKS5wb3N0Zm9ybWF0KG91dHB1dCk7XG59XG5cbmZ1bmN0aW9uIGZyb20gKHRpbWUsIHdpdGhvdXRTdWZmaXgpIHtcbiAgICBpZiAodGhpcy5pc1ZhbGlkKCkgJiZcbiAgICAgICAgICAgICgoaXNNb21lbnQodGltZSkgJiYgdGltZS5pc1ZhbGlkKCkpIHx8XG4gICAgICAgICAgICAgY3JlYXRlTG9jYWwodGltZSkuaXNWYWxpZCgpKSkge1xuICAgICAgICByZXR1cm4gY3JlYXRlRHVyYXRpb24oe3RvOiB0aGlzLCBmcm9tOiB0aW1lfSkubG9jYWxlKHRoaXMubG9jYWxlKCkpLmh1bWFuaXplKCF3aXRob3V0U3VmZml4KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkuaW52YWxpZERhdGUoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGZyb21Ob3cgKHdpdGhvdXRTdWZmaXgpIHtcbiAgICByZXR1cm4gdGhpcy5mcm9tKGNyZWF0ZUxvY2FsKCksIHdpdGhvdXRTdWZmaXgpO1xufVxuXG5mdW5jdGlvbiB0byAodGltZSwgd2l0aG91dFN1ZmZpeCkge1xuICAgIGlmICh0aGlzLmlzVmFsaWQoKSAmJlxuICAgICAgICAgICAgKChpc01vbWVudCh0aW1lKSAmJiB0aW1lLmlzVmFsaWQoKSkgfHxcbiAgICAgICAgICAgICBjcmVhdGVMb2NhbCh0aW1lKS5pc1ZhbGlkKCkpKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVEdXJhdGlvbih7ZnJvbTogdGhpcywgdG86IHRpbWV9KS5sb2NhbGUodGhpcy5sb2NhbGUoKSkuaHVtYW5pemUoIXdpdGhvdXRTdWZmaXgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxvY2FsZURhdGEoKS5pbnZhbGlkRGF0ZSgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gdG9Ob3cgKHdpdGhvdXRTdWZmaXgpIHtcbiAgICByZXR1cm4gdGhpcy50byhjcmVhdGVMb2NhbCgpLCB3aXRob3V0U3VmZml4KTtcbn1cblxuLy8gSWYgcGFzc2VkIGEgbG9jYWxlIGtleSwgaXQgd2lsbCBzZXQgdGhlIGxvY2FsZSBmb3IgdGhpc1xuLy8gaW5zdGFuY2UuICBPdGhlcndpc2UsIGl0IHdpbGwgcmV0dXJuIHRoZSBsb2NhbGUgY29uZmlndXJhdGlvblxuLy8gdmFyaWFibGVzIGZvciB0aGlzIGluc3RhbmNlLlxuZnVuY3Rpb24gbG9jYWxlIChrZXkpIHtcbiAgICB2YXIgbmV3TG9jYWxlRGF0YTtcblxuICAgIGlmIChrZXkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbG9jYWxlLl9hYmJyO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIG5ld0xvY2FsZURhdGEgPSBnZXRMb2NhbGUoa2V5KTtcbiAgICAgICAgaWYgKG5ld0xvY2FsZURhdGEgIT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5fbG9jYWxlID0gbmV3TG9jYWxlRGF0YTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG59XG5cbnZhciBsYW5nID0gZGVwcmVjYXRlKFxuICAgICdtb21lbnQoKS5sYW5nKCkgaXMgZGVwcmVjYXRlZC4gSW5zdGVhZCwgdXNlIG1vbWVudCgpLmxvY2FsZURhdGEoKSB0byBnZXQgdGhlIGxhbmd1YWdlIGNvbmZpZ3VyYXRpb24uIFVzZSBtb21lbnQoKS5sb2NhbGUoKSB0byBjaGFuZ2UgbGFuZ3VhZ2VzLicsXG4gICAgZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBpZiAoa2V5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxvY2FsZURhdGEoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxvY2FsZShrZXkpO1xuICAgICAgICB9XG4gICAgfVxuKTtcblxuZnVuY3Rpb24gbG9jYWxlRGF0YSAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2xvY2FsZTtcbn1cblxuZnVuY3Rpb24gc3RhcnRPZiAodW5pdHMpIHtcbiAgICB1bml0cyA9IG5vcm1hbGl6ZVVuaXRzKHVuaXRzKTtcbiAgICAvLyB0aGUgZm9sbG93aW5nIHN3aXRjaCBpbnRlbnRpb25hbGx5IG9taXRzIGJyZWFrIGtleXdvcmRzXG4gICAgLy8gdG8gdXRpbGl6ZSBmYWxsaW5nIHRocm91Z2ggdGhlIGNhc2VzLlxuICAgIHN3aXRjaCAodW5pdHMpIHtcbiAgICAgICAgY2FzZSAneWVhcic6XG4gICAgICAgICAgICB0aGlzLm1vbnRoKDApO1xuICAgICAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgICAgICBjYXNlICdxdWFydGVyJzpcbiAgICAgICAgY2FzZSAnbW9udGgnOlxuICAgICAgICAgICAgdGhpcy5kYXRlKDEpO1xuICAgICAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgICAgICBjYXNlICd3ZWVrJzpcbiAgICAgICAgY2FzZSAnaXNvV2Vlayc6XG4gICAgICAgIGNhc2UgJ2RheSc6XG4gICAgICAgIGNhc2UgJ2RhdGUnOlxuICAgICAgICAgICAgdGhpcy5ob3VycygwKTtcbiAgICAgICAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICAgICAgY2FzZSAnaG91cic6XG4gICAgICAgICAgICB0aGlzLm1pbnV0ZXMoMCk7XG4gICAgICAgICAgICAvKiBmYWxscyB0aHJvdWdoICovXG4gICAgICAgIGNhc2UgJ21pbnV0ZSc6XG4gICAgICAgICAgICB0aGlzLnNlY29uZHMoMCk7XG4gICAgICAgICAgICAvKiBmYWxscyB0aHJvdWdoICovXG4gICAgICAgIGNhc2UgJ3NlY29uZCc6XG4gICAgICAgICAgICB0aGlzLm1pbGxpc2Vjb25kcygwKTtcbiAgICB9XG5cbiAgICAvLyB3ZWVrcyBhcmUgYSBzcGVjaWFsIGNhc2VcbiAgICBpZiAodW5pdHMgPT09ICd3ZWVrJykge1xuICAgICAgICB0aGlzLndlZWtkYXkoMCk7XG4gICAgfVxuICAgIGlmICh1bml0cyA9PT0gJ2lzb1dlZWsnKSB7XG4gICAgICAgIHRoaXMuaXNvV2Vla2RheSgxKTtcbiAgICB9XG5cbiAgICAvLyBxdWFydGVycyBhcmUgYWxzbyBzcGVjaWFsXG4gICAgaWYgKHVuaXRzID09PSAncXVhcnRlcicpIHtcbiAgICAgICAgdGhpcy5tb250aChNYXRoLmZsb29yKHRoaXMubW9udGgoKSAvIDMpICogMyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG59XG5cbmZ1bmN0aW9uIGVuZE9mICh1bml0cykge1xuICAgIHVuaXRzID0gbm9ybWFsaXplVW5pdHModW5pdHMpO1xuICAgIGlmICh1bml0cyA9PT0gdW5kZWZpbmVkIHx8IHVuaXRzID09PSAnbWlsbGlzZWNvbmQnKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8vICdkYXRlJyBpcyBhbiBhbGlhcyBmb3IgJ2RheScsIHNvIGl0IHNob3VsZCBiZSBjb25zaWRlcmVkIGFzIHN1Y2guXG4gICAgaWYgKHVuaXRzID09PSAnZGF0ZScpIHtcbiAgICAgICAgdW5pdHMgPSAnZGF5JztcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5zdGFydE9mKHVuaXRzKS5hZGQoMSwgKHVuaXRzID09PSAnaXNvV2VlaycgPyAnd2VlaycgOiB1bml0cykpLnN1YnRyYWN0KDEsICdtcycpO1xufVxuXG5mdW5jdGlvbiB2YWx1ZU9mICgpIHtcbiAgICByZXR1cm4gdGhpcy5fZC52YWx1ZU9mKCkgLSAoKHRoaXMuX29mZnNldCB8fCAwKSAqIDYwMDAwKTtcbn1cblxuZnVuY3Rpb24gdW5peCAoKSB7XG4gICAgcmV0dXJuIE1hdGguZmxvb3IodGhpcy52YWx1ZU9mKCkgLyAxMDAwKTtcbn1cblxuZnVuY3Rpb24gdG9EYXRlICgpIHtcbiAgICByZXR1cm4gbmV3IERhdGUodGhpcy52YWx1ZU9mKCkpO1xufVxuXG5mdW5jdGlvbiB0b0FycmF5ICgpIHtcbiAgICB2YXIgbSA9IHRoaXM7XG4gICAgcmV0dXJuIFttLnllYXIoKSwgbS5tb250aCgpLCBtLmRhdGUoKSwgbS5ob3VyKCksIG0ubWludXRlKCksIG0uc2Vjb25kKCksIG0ubWlsbGlzZWNvbmQoKV07XG59XG5cbmZ1bmN0aW9uIHRvT2JqZWN0ICgpIHtcbiAgICB2YXIgbSA9IHRoaXM7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgeWVhcnM6IG0ueWVhcigpLFxuICAgICAgICBtb250aHM6IG0ubW9udGgoKSxcbiAgICAgICAgZGF0ZTogbS5kYXRlKCksXG4gICAgICAgIGhvdXJzOiBtLmhvdXJzKCksXG4gICAgICAgIG1pbnV0ZXM6IG0ubWludXRlcygpLFxuICAgICAgICBzZWNvbmRzOiBtLnNlY29uZHMoKSxcbiAgICAgICAgbWlsbGlzZWNvbmRzOiBtLm1pbGxpc2Vjb25kcygpXG4gICAgfTtcbn1cblxuZnVuY3Rpb24gdG9KU09OICgpIHtcbiAgICAvLyBuZXcgRGF0ZShOYU4pLnRvSlNPTigpID09PSBudWxsXG4gICAgcmV0dXJuIHRoaXMuaXNWYWxpZCgpID8gdGhpcy50b0lTT1N0cmluZygpIDogbnVsbDtcbn1cblxuZnVuY3Rpb24gaXNWYWxpZCQxICgpIHtcbiAgICByZXR1cm4gaXNWYWxpZCh0aGlzKTtcbn1cblxuZnVuY3Rpb24gcGFyc2luZ0ZsYWdzICgpIHtcbiAgICByZXR1cm4gZXh0ZW5kKHt9LCBnZXRQYXJzaW5nRmxhZ3ModGhpcykpO1xufVxuXG5mdW5jdGlvbiBpbnZhbGlkQXQgKCkge1xuICAgIHJldHVybiBnZXRQYXJzaW5nRmxhZ3ModGhpcykub3ZlcmZsb3c7XG59XG5cbmZ1bmN0aW9uIGNyZWF0aW9uRGF0YSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBpbnB1dDogdGhpcy5faSxcbiAgICAgICAgZm9ybWF0OiB0aGlzLl9mLFxuICAgICAgICBsb2NhbGU6IHRoaXMuX2xvY2FsZSxcbiAgICAgICAgaXNVVEM6IHRoaXMuX2lzVVRDLFxuICAgICAgICBzdHJpY3Q6IHRoaXMuX3N0cmljdFxuICAgIH07XG59XG5cbi8vIEZPUk1BVFRJTkdcblxuYWRkRm9ybWF0VG9rZW4oMCwgWydnZycsIDJdLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMud2Vla1llYXIoKSAlIDEwMDtcbn0pO1xuXG5hZGRGb3JtYXRUb2tlbigwLCBbJ0dHJywgMl0sIDAsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5pc29XZWVrWWVhcigpICUgMTAwO1xufSk7XG5cbmZ1bmN0aW9uIGFkZFdlZWtZZWFyRm9ybWF0VG9rZW4gKHRva2VuLCBnZXR0ZXIpIHtcbiAgICBhZGRGb3JtYXRUb2tlbigwLCBbdG9rZW4sIHRva2VuLmxlbmd0aF0sIDAsIGdldHRlcik7XG59XG5cbmFkZFdlZWtZZWFyRm9ybWF0VG9rZW4oJ2dnZ2cnLCAgICAgJ3dlZWtZZWFyJyk7XG5hZGRXZWVrWWVhckZvcm1hdFRva2VuKCdnZ2dnZycsICAgICd3ZWVrWWVhcicpO1xuYWRkV2Vla1llYXJGb3JtYXRUb2tlbignR0dHRycsICAnaXNvV2Vla1llYXInKTtcbmFkZFdlZWtZZWFyRm9ybWF0VG9rZW4oJ0dHR0dHJywgJ2lzb1dlZWtZZWFyJyk7XG5cbi8vIEFMSUFTRVNcblxuYWRkVW5pdEFsaWFzKCd3ZWVrWWVhcicsICdnZycpO1xuYWRkVW5pdEFsaWFzKCdpc29XZWVrWWVhcicsICdHRycpO1xuXG4vLyBQUklPUklUWVxuXG5hZGRVbml0UHJpb3JpdHkoJ3dlZWtZZWFyJywgMSk7XG5hZGRVbml0UHJpb3JpdHkoJ2lzb1dlZWtZZWFyJywgMSk7XG5cblxuLy8gUEFSU0lOR1xuXG5hZGRSZWdleFRva2VuKCdHJywgICAgICBtYXRjaFNpZ25lZCk7XG5hZGRSZWdleFRva2VuKCdnJywgICAgICBtYXRjaFNpZ25lZCk7XG5hZGRSZWdleFRva2VuKCdHRycsICAgICBtYXRjaDF0bzIsIG1hdGNoMik7XG5hZGRSZWdleFRva2VuKCdnZycsICAgICBtYXRjaDF0bzIsIG1hdGNoMik7XG5hZGRSZWdleFRva2VuKCdHR0dHJywgICBtYXRjaDF0bzQsIG1hdGNoNCk7XG5hZGRSZWdleFRva2VuKCdnZ2dnJywgICBtYXRjaDF0bzQsIG1hdGNoNCk7XG5hZGRSZWdleFRva2VuKCdHR0dHRycsICBtYXRjaDF0bzYsIG1hdGNoNik7XG5hZGRSZWdleFRva2VuKCdnZ2dnZycsICBtYXRjaDF0bzYsIG1hdGNoNik7XG5cbmFkZFdlZWtQYXJzZVRva2VuKFsnZ2dnZycsICdnZ2dnZycsICdHR0dHJywgJ0dHR0dHJ10sIGZ1bmN0aW9uIChpbnB1dCwgd2VlaywgY29uZmlnLCB0b2tlbikge1xuICAgIHdlZWtbdG9rZW4uc3Vic3RyKDAsIDIpXSA9IHRvSW50KGlucHV0KTtcbn0pO1xuXG5hZGRXZWVrUGFyc2VUb2tlbihbJ2dnJywgJ0dHJ10sIGZ1bmN0aW9uIChpbnB1dCwgd2VlaywgY29uZmlnLCB0b2tlbikge1xuICAgIHdlZWtbdG9rZW5dID0gaG9va3MucGFyc2VUd29EaWdpdFllYXIoaW5wdXQpO1xufSk7XG5cbi8vIE1PTUVOVFNcblxuZnVuY3Rpb24gZ2V0U2V0V2Vla1llYXIgKGlucHV0KSB7XG4gICAgcmV0dXJuIGdldFNldFdlZWtZZWFySGVscGVyLmNhbGwodGhpcyxcbiAgICAgICAgICAgIGlucHV0LFxuICAgICAgICAgICAgdGhpcy53ZWVrKCksXG4gICAgICAgICAgICB0aGlzLndlZWtkYXkoKSxcbiAgICAgICAgICAgIHRoaXMubG9jYWxlRGF0YSgpLl93ZWVrLmRvdyxcbiAgICAgICAgICAgIHRoaXMubG9jYWxlRGF0YSgpLl93ZWVrLmRveSk7XG59XG5cbmZ1bmN0aW9uIGdldFNldElTT1dlZWtZZWFyIChpbnB1dCkge1xuICAgIHJldHVybiBnZXRTZXRXZWVrWWVhckhlbHBlci5jYWxsKHRoaXMsXG4gICAgICAgICAgICBpbnB1dCwgdGhpcy5pc29XZWVrKCksIHRoaXMuaXNvV2Vla2RheSgpLCAxLCA0KTtcbn1cblxuZnVuY3Rpb24gZ2V0SVNPV2Vla3NJblllYXIgKCkge1xuICAgIHJldHVybiB3ZWVrc0luWWVhcih0aGlzLnllYXIoKSwgMSwgNCk7XG59XG5cbmZ1bmN0aW9uIGdldFdlZWtzSW5ZZWFyICgpIHtcbiAgICB2YXIgd2Vla0luZm8gPSB0aGlzLmxvY2FsZURhdGEoKS5fd2VlaztcbiAgICByZXR1cm4gd2Vla3NJblllYXIodGhpcy55ZWFyKCksIHdlZWtJbmZvLmRvdywgd2Vla0luZm8uZG95KTtcbn1cblxuZnVuY3Rpb24gZ2V0U2V0V2Vla1llYXJIZWxwZXIoaW5wdXQsIHdlZWssIHdlZWtkYXksIGRvdywgZG95KSB7XG4gICAgdmFyIHdlZWtzVGFyZ2V0O1xuICAgIGlmIChpbnB1dCA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiB3ZWVrT2ZZZWFyKHRoaXMsIGRvdywgZG95KS55ZWFyO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHdlZWtzVGFyZ2V0ID0gd2Vla3NJblllYXIoaW5wdXQsIGRvdywgZG95KTtcbiAgICAgICAgaWYgKHdlZWsgPiB3ZWVrc1RhcmdldCkge1xuICAgICAgICAgICAgd2VlayA9IHdlZWtzVGFyZ2V0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzZXRXZWVrQWxsLmNhbGwodGhpcywgaW5wdXQsIHdlZWssIHdlZWtkYXksIGRvdywgZG95KTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHNldFdlZWtBbGwod2Vla1llYXIsIHdlZWssIHdlZWtkYXksIGRvdywgZG95KSB7XG4gICAgdmFyIGRheU9mWWVhckRhdGEgPSBkYXlPZlllYXJGcm9tV2Vla3Mod2Vla1llYXIsIHdlZWssIHdlZWtkYXksIGRvdywgZG95KSxcbiAgICAgICAgZGF0ZSA9IGNyZWF0ZVVUQ0RhdGUoZGF5T2ZZZWFyRGF0YS55ZWFyLCAwLCBkYXlPZlllYXJEYXRhLmRheU9mWWVhcik7XG5cbiAgICB0aGlzLnllYXIoZGF0ZS5nZXRVVENGdWxsWWVhcigpKTtcbiAgICB0aGlzLm1vbnRoKGRhdGUuZ2V0VVRDTW9udGgoKSk7XG4gICAgdGhpcy5kYXRlKGRhdGUuZ2V0VVRDRGF0ZSgpKTtcbiAgICByZXR1cm4gdGhpcztcbn1cblxuLy8gRk9STUFUVElOR1xuXG5hZGRGb3JtYXRUb2tlbignUScsIDAsICdRbycsICdxdWFydGVyJyk7XG5cbi8vIEFMSUFTRVNcblxuYWRkVW5pdEFsaWFzKCdxdWFydGVyJywgJ1EnKTtcblxuLy8gUFJJT1JJVFlcblxuYWRkVW5pdFByaW9yaXR5KCdxdWFydGVyJywgNyk7XG5cbi8vIFBBUlNJTkdcblxuYWRkUmVnZXhUb2tlbignUScsIG1hdGNoMSk7XG5hZGRQYXJzZVRva2VuKCdRJywgZnVuY3Rpb24gKGlucHV0LCBhcnJheSkge1xuICAgIGFycmF5W01PTlRIXSA9ICh0b0ludChpbnB1dCkgLSAxKSAqIDM7XG59KTtcblxuLy8gTU9NRU5UU1xuXG5mdW5jdGlvbiBnZXRTZXRRdWFydGVyIChpbnB1dCkge1xuICAgIHJldHVybiBpbnB1dCA9PSBudWxsID8gTWF0aC5jZWlsKCh0aGlzLm1vbnRoKCkgKyAxKSAvIDMpIDogdGhpcy5tb250aCgoaW5wdXQgLSAxKSAqIDMgKyB0aGlzLm1vbnRoKCkgJSAzKTtcbn1cblxuLy8gRk9STUFUVElOR1xuXG5hZGRGb3JtYXRUb2tlbignRCcsIFsnREQnLCAyXSwgJ0RvJywgJ2RhdGUnKTtcblxuLy8gQUxJQVNFU1xuXG5hZGRVbml0QWxpYXMoJ2RhdGUnLCAnRCcpO1xuXG4vLyBQUklPUk9JVFlcbmFkZFVuaXRQcmlvcml0eSgnZGF0ZScsIDkpO1xuXG4vLyBQQVJTSU5HXG5cbmFkZFJlZ2V4VG9rZW4oJ0QnLCAgbWF0Y2gxdG8yKTtcbmFkZFJlZ2V4VG9rZW4oJ0REJywgbWF0Y2gxdG8yLCBtYXRjaDIpO1xuYWRkUmVnZXhUb2tlbignRG8nLCBmdW5jdGlvbiAoaXNTdHJpY3QsIGxvY2FsZSkge1xuICAgIHJldHVybiBpc1N0cmljdCA/IGxvY2FsZS5fb3JkaW5hbFBhcnNlIDogbG9jYWxlLl9vcmRpbmFsUGFyc2VMZW5pZW50O1xufSk7XG5cbmFkZFBhcnNlVG9rZW4oWydEJywgJ0REJ10sIERBVEUpO1xuYWRkUGFyc2VUb2tlbignRG8nLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5KSB7XG4gICAgYXJyYXlbREFURV0gPSB0b0ludChpbnB1dC5tYXRjaChtYXRjaDF0bzIpWzBdLCAxMCk7XG59KTtcblxuLy8gTU9NRU5UU1xuXG52YXIgZ2V0U2V0RGF5T2ZNb250aCA9IG1ha2VHZXRTZXQoJ0RhdGUnLCB0cnVlKTtcblxuLy8gRk9STUFUVElOR1xuXG5hZGRGb3JtYXRUb2tlbignREREJywgWydEREREJywgM10sICdERERvJywgJ2RheU9mWWVhcicpO1xuXG4vLyBBTElBU0VTXG5cbmFkZFVuaXRBbGlhcygnZGF5T2ZZZWFyJywgJ0RERCcpO1xuXG4vLyBQUklPUklUWVxuYWRkVW5pdFByaW9yaXR5KCdkYXlPZlllYXInLCA0KTtcblxuLy8gUEFSU0lOR1xuXG5hZGRSZWdleFRva2VuKCdEREQnLCAgbWF0Y2gxdG8zKTtcbmFkZFJlZ2V4VG9rZW4oJ0REREQnLCBtYXRjaDMpO1xuYWRkUGFyc2VUb2tlbihbJ0RERCcsICdEREREJ10sIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXksIGNvbmZpZykge1xuICAgIGNvbmZpZy5fZGF5T2ZZZWFyID0gdG9JbnQoaW5wdXQpO1xufSk7XG5cbi8vIEhFTFBFUlNcblxuLy8gTU9NRU5UU1xuXG5mdW5jdGlvbiBnZXRTZXREYXlPZlllYXIgKGlucHV0KSB7XG4gICAgdmFyIGRheU9mWWVhciA9IE1hdGgucm91bmQoKHRoaXMuY2xvbmUoKS5zdGFydE9mKCdkYXknKSAtIHRoaXMuY2xvbmUoKS5zdGFydE9mKCd5ZWFyJykpIC8gODY0ZTUpICsgMTtcbiAgICByZXR1cm4gaW5wdXQgPT0gbnVsbCA/IGRheU9mWWVhciA6IHRoaXMuYWRkKChpbnB1dCAtIGRheU9mWWVhciksICdkJyk7XG59XG5cbi8vIEZPUk1BVFRJTkdcblxuYWRkRm9ybWF0VG9rZW4oJ20nLCBbJ21tJywgMl0sIDAsICdtaW51dGUnKTtcblxuLy8gQUxJQVNFU1xuXG5hZGRVbml0QWxpYXMoJ21pbnV0ZScsICdtJyk7XG5cbi8vIFBSSU9SSVRZXG5cbmFkZFVuaXRQcmlvcml0eSgnbWludXRlJywgMTQpO1xuXG4vLyBQQVJTSU5HXG5cbmFkZFJlZ2V4VG9rZW4oJ20nLCAgbWF0Y2gxdG8yKTtcbmFkZFJlZ2V4VG9rZW4oJ21tJywgbWF0Y2gxdG8yLCBtYXRjaDIpO1xuYWRkUGFyc2VUb2tlbihbJ20nLCAnbW0nXSwgTUlOVVRFKTtcblxuLy8gTU9NRU5UU1xuXG52YXIgZ2V0U2V0TWludXRlID0gbWFrZUdldFNldCgnTWludXRlcycsIGZhbHNlKTtcblxuLy8gRk9STUFUVElOR1xuXG5hZGRGb3JtYXRUb2tlbigncycsIFsnc3MnLCAyXSwgMCwgJ3NlY29uZCcpO1xuXG4vLyBBTElBU0VTXG5cbmFkZFVuaXRBbGlhcygnc2Vjb25kJywgJ3MnKTtcblxuLy8gUFJJT1JJVFlcblxuYWRkVW5pdFByaW9yaXR5KCdzZWNvbmQnLCAxNSk7XG5cbi8vIFBBUlNJTkdcblxuYWRkUmVnZXhUb2tlbigncycsICBtYXRjaDF0bzIpO1xuYWRkUmVnZXhUb2tlbignc3MnLCBtYXRjaDF0bzIsIG1hdGNoMik7XG5hZGRQYXJzZVRva2VuKFsncycsICdzcyddLCBTRUNPTkQpO1xuXG4vLyBNT01FTlRTXG5cbnZhciBnZXRTZXRTZWNvbmQgPSBtYWtlR2V0U2V0KCdTZWNvbmRzJywgZmFsc2UpO1xuXG4vLyBGT1JNQVRUSU5HXG5cbmFkZEZvcm1hdFRva2VuKCdTJywgMCwgMCwgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB+fih0aGlzLm1pbGxpc2Vjb25kKCkgLyAxMDApO1xufSk7XG5cbmFkZEZvcm1hdFRva2VuKDAsIFsnU1MnLCAyXSwgMCwgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB+fih0aGlzLm1pbGxpc2Vjb25kKCkgLyAxMCk7XG59KTtcblxuYWRkRm9ybWF0VG9rZW4oMCwgWydTU1MnLCAzXSwgMCwgJ21pbGxpc2Vjb25kJyk7XG5hZGRGb3JtYXRUb2tlbigwLCBbJ1NTU1MnLCA0XSwgMCwgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLm1pbGxpc2Vjb25kKCkgKiAxMDtcbn0pO1xuYWRkRm9ybWF0VG9rZW4oMCwgWydTU1NTUycsIDVdLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMubWlsbGlzZWNvbmQoKSAqIDEwMDtcbn0pO1xuYWRkRm9ybWF0VG9rZW4oMCwgWydTU1NTU1MnLCA2XSwgMCwgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLm1pbGxpc2Vjb25kKCkgKiAxMDAwO1xufSk7XG5hZGRGb3JtYXRUb2tlbigwLCBbJ1NTU1NTU1MnLCA3XSwgMCwgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLm1pbGxpc2Vjb25kKCkgKiAxMDAwMDtcbn0pO1xuYWRkRm9ybWF0VG9rZW4oMCwgWydTU1NTU1NTUycsIDhdLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMubWlsbGlzZWNvbmQoKSAqIDEwMDAwMDtcbn0pO1xuYWRkRm9ybWF0VG9rZW4oMCwgWydTU1NTU1NTU1MnLCA5XSwgMCwgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLm1pbGxpc2Vjb25kKCkgKiAxMDAwMDAwO1xufSk7XG5cblxuLy8gQUxJQVNFU1xuXG5hZGRVbml0QWxpYXMoJ21pbGxpc2Vjb25kJywgJ21zJyk7XG5cbi8vIFBSSU9SSVRZXG5cbmFkZFVuaXRQcmlvcml0eSgnbWlsbGlzZWNvbmQnLCAxNik7XG5cbi8vIFBBUlNJTkdcblxuYWRkUmVnZXhUb2tlbignUycsICAgIG1hdGNoMXRvMywgbWF0Y2gxKTtcbmFkZFJlZ2V4VG9rZW4oJ1NTJywgICBtYXRjaDF0bzMsIG1hdGNoMik7XG5hZGRSZWdleFRva2VuKCdTU1MnLCAgbWF0Y2gxdG8zLCBtYXRjaDMpO1xuXG52YXIgdG9rZW47XG5mb3IgKHRva2VuID0gJ1NTU1MnOyB0b2tlbi5sZW5ndGggPD0gOTsgdG9rZW4gKz0gJ1MnKSB7XG4gICAgYWRkUmVnZXhUb2tlbih0b2tlbiwgbWF0Y2hVbnNpZ25lZCk7XG59XG5cbmZ1bmN0aW9uIHBhcnNlTXMoaW5wdXQsIGFycmF5KSB7XG4gICAgYXJyYXlbTUlMTElTRUNPTkRdID0gdG9JbnQoKCcwLicgKyBpbnB1dCkgKiAxMDAwKTtcbn1cblxuZm9yICh0b2tlbiA9ICdTJzsgdG9rZW4ubGVuZ3RoIDw9IDk7IHRva2VuICs9ICdTJykge1xuICAgIGFkZFBhcnNlVG9rZW4odG9rZW4sIHBhcnNlTXMpO1xufVxuLy8gTU9NRU5UU1xuXG52YXIgZ2V0U2V0TWlsbGlzZWNvbmQgPSBtYWtlR2V0U2V0KCdNaWxsaXNlY29uZHMnLCBmYWxzZSk7XG5cbi8vIEZPUk1BVFRJTkdcblxuYWRkRm9ybWF0VG9rZW4oJ3onLCAgMCwgMCwgJ3pvbmVBYmJyJyk7XG5hZGRGb3JtYXRUb2tlbignenonLCAwLCAwLCAnem9uZU5hbWUnKTtcblxuLy8gTU9NRU5UU1xuXG5mdW5jdGlvbiBnZXRab25lQWJiciAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2lzVVRDID8gJ1VUQycgOiAnJztcbn1cblxuZnVuY3Rpb24gZ2V0Wm9uZU5hbWUgKCkge1xuICAgIHJldHVybiB0aGlzLl9pc1VUQyA/ICdDb29yZGluYXRlZCBVbml2ZXJzYWwgVGltZScgOiAnJztcbn1cblxudmFyIHByb3RvID0gTW9tZW50LnByb3RvdHlwZTtcblxucHJvdG8uYWRkICAgICAgICAgICAgICAgPSBhZGQ7XG5wcm90by5jYWxlbmRhciAgICAgICAgICA9IGNhbGVuZGFyJDE7XG5wcm90by5jbG9uZSAgICAgICAgICAgICA9IGNsb25lO1xucHJvdG8uZGlmZiAgICAgICAgICAgICAgPSBkaWZmO1xucHJvdG8uZW5kT2YgICAgICAgICAgICAgPSBlbmRPZjtcbnByb3RvLmZvcm1hdCAgICAgICAgICAgID0gZm9ybWF0O1xucHJvdG8uZnJvbSAgICAgICAgICAgICAgPSBmcm9tO1xucHJvdG8uZnJvbU5vdyAgICAgICAgICAgPSBmcm9tTm93O1xucHJvdG8udG8gICAgICAgICAgICAgICAgPSB0bztcbnByb3RvLnRvTm93ICAgICAgICAgICAgID0gdG9Ob3c7XG5wcm90by5nZXQgICAgICAgICAgICAgICA9IHN0cmluZ0dldDtcbnByb3RvLmludmFsaWRBdCAgICAgICAgID0gaW52YWxpZEF0O1xucHJvdG8uaXNBZnRlciAgICAgICAgICAgPSBpc0FmdGVyO1xucHJvdG8uaXNCZWZvcmUgICAgICAgICAgPSBpc0JlZm9yZTtcbnByb3RvLmlzQmV0d2VlbiAgICAgICAgID0gaXNCZXR3ZWVuO1xucHJvdG8uaXNTYW1lICAgICAgICAgICAgPSBpc1NhbWU7XG5wcm90by5pc1NhbWVPckFmdGVyICAgICA9IGlzU2FtZU9yQWZ0ZXI7XG5wcm90by5pc1NhbWVPckJlZm9yZSAgICA9IGlzU2FtZU9yQmVmb3JlO1xucHJvdG8uaXNWYWxpZCAgICAgICAgICAgPSBpc1ZhbGlkJDE7XG5wcm90by5sYW5nICAgICAgICAgICAgICA9IGxhbmc7XG5wcm90by5sb2NhbGUgICAgICAgICAgICA9IGxvY2FsZTtcbnByb3RvLmxvY2FsZURhdGEgICAgICAgID0gbG9jYWxlRGF0YTtcbnByb3RvLm1heCAgICAgICAgICAgICAgID0gcHJvdG90eXBlTWF4O1xucHJvdG8ubWluICAgICAgICAgICAgICAgPSBwcm90b3R5cGVNaW47XG5wcm90by5wYXJzaW5nRmxhZ3MgICAgICA9IHBhcnNpbmdGbGFncztcbnByb3RvLnNldCAgICAgICAgICAgICAgID0gc3RyaW5nU2V0O1xucHJvdG8uc3RhcnRPZiAgICAgICAgICAgPSBzdGFydE9mO1xucHJvdG8uc3VidHJhY3QgICAgICAgICAgPSBzdWJ0cmFjdDtcbnByb3RvLnRvQXJyYXkgICAgICAgICAgID0gdG9BcnJheTtcbnByb3RvLnRvT2JqZWN0ICAgICAgICAgID0gdG9PYmplY3Q7XG5wcm90by50b0RhdGUgICAgICAgICAgICA9IHRvRGF0ZTtcbnByb3RvLnRvSVNPU3RyaW5nICAgICAgID0gdG9JU09TdHJpbmc7XG5wcm90by5pbnNwZWN0ICAgICAgICAgICA9IGluc3BlY3Q7XG5wcm90by50b0pTT04gICAgICAgICAgICA9IHRvSlNPTjtcbnByb3RvLnRvU3RyaW5nICAgICAgICAgID0gdG9TdHJpbmc7XG5wcm90by51bml4ICAgICAgICAgICAgICA9IHVuaXg7XG5wcm90by52YWx1ZU9mICAgICAgICAgICA9IHZhbHVlT2Y7XG5wcm90by5jcmVhdGlvbkRhdGEgICAgICA9IGNyZWF0aW9uRGF0YTtcblxuLy8gWWVhclxucHJvdG8ueWVhciAgICAgICA9IGdldFNldFllYXI7XG5wcm90by5pc0xlYXBZZWFyID0gZ2V0SXNMZWFwWWVhcjtcblxuLy8gV2VlayBZZWFyXG5wcm90by53ZWVrWWVhciAgICA9IGdldFNldFdlZWtZZWFyO1xucHJvdG8uaXNvV2Vla1llYXIgPSBnZXRTZXRJU09XZWVrWWVhcjtcblxuLy8gUXVhcnRlclxucHJvdG8ucXVhcnRlciA9IHByb3RvLnF1YXJ0ZXJzID0gZ2V0U2V0UXVhcnRlcjtcblxuLy8gTW9udGhcbnByb3RvLm1vbnRoICAgICAgID0gZ2V0U2V0TW9udGg7XG5wcm90by5kYXlzSW5Nb250aCA9IGdldERheXNJbk1vbnRoO1xuXG4vLyBXZWVrXG5wcm90by53ZWVrICAgICAgICAgICA9IHByb3RvLndlZWtzICAgICAgICA9IGdldFNldFdlZWs7XG5wcm90by5pc29XZWVrICAgICAgICA9IHByb3RvLmlzb1dlZWtzICAgICA9IGdldFNldElTT1dlZWs7XG5wcm90by53ZWVrc0luWWVhciAgICA9IGdldFdlZWtzSW5ZZWFyO1xucHJvdG8uaXNvV2Vla3NJblllYXIgPSBnZXRJU09XZWVrc0luWWVhcjtcblxuLy8gRGF5XG5wcm90by5kYXRlICAgICAgID0gZ2V0U2V0RGF5T2ZNb250aDtcbnByb3RvLmRheSAgICAgICAgPSBwcm90by5kYXlzICAgICAgICAgICAgID0gZ2V0U2V0RGF5T2ZXZWVrO1xucHJvdG8ud2Vla2RheSAgICA9IGdldFNldExvY2FsZURheU9mV2VlaztcbnByb3RvLmlzb1dlZWtkYXkgPSBnZXRTZXRJU09EYXlPZldlZWs7XG5wcm90by5kYXlPZlllYXIgID0gZ2V0U2V0RGF5T2ZZZWFyO1xuXG4vLyBIb3VyXG5wcm90by5ob3VyID0gcHJvdG8uaG91cnMgPSBnZXRTZXRIb3VyO1xuXG4vLyBNaW51dGVcbnByb3RvLm1pbnV0ZSA9IHByb3RvLm1pbnV0ZXMgPSBnZXRTZXRNaW51dGU7XG5cbi8vIFNlY29uZFxucHJvdG8uc2Vjb25kID0gcHJvdG8uc2Vjb25kcyA9IGdldFNldFNlY29uZDtcblxuLy8gTWlsbGlzZWNvbmRcbnByb3RvLm1pbGxpc2Vjb25kID0gcHJvdG8ubWlsbGlzZWNvbmRzID0gZ2V0U2V0TWlsbGlzZWNvbmQ7XG5cbi8vIE9mZnNldFxucHJvdG8udXRjT2Zmc2V0ICAgICAgICAgICAgPSBnZXRTZXRPZmZzZXQ7XG5wcm90by51dGMgICAgICAgICAgICAgICAgICA9IHNldE9mZnNldFRvVVRDO1xucHJvdG8ubG9jYWwgICAgICAgICAgICAgICAgPSBzZXRPZmZzZXRUb0xvY2FsO1xucHJvdG8ucGFyc2Vab25lICAgICAgICAgICAgPSBzZXRPZmZzZXRUb1BhcnNlZE9mZnNldDtcbnByb3RvLmhhc0FsaWduZWRIb3VyT2Zmc2V0ID0gaGFzQWxpZ25lZEhvdXJPZmZzZXQ7XG5wcm90by5pc0RTVCAgICAgICAgICAgICAgICA9IGlzRGF5bGlnaHRTYXZpbmdUaW1lO1xucHJvdG8uaXNMb2NhbCAgICAgICAgICAgICAgPSBpc0xvY2FsO1xucHJvdG8uaXNVdGNPZmZzZXQgICAgICAgICAgPSBpc1V0Y09mZnNldDtcbnByb3RvLmlzVXRjICAgICAgICAgICAgICAgID0gaXNVdGM7XG5wcm90by5pc1VUQyAgICAgICAgICAgICAgICA9IGlzVXRjO1xuXG4vLyBUaW1lem9uZVxucHJvdG8uem9uZUFiYnIgPSBnZXRab25lQWJicjtcbnByb3RvLnpvbmVOYW1lID0gZ2V0Wm9uZU5hbWU7XG5cbi8vIERlcHJlY2F0aW9uc1xucHJvdG8uZGF0ZXMgID0gZGVwcmVjYXRlKCdkYXRlcyBhY2Nlc3NvciBpcyBkZXByZWNhdGVkLiBVc2UgZGF0ZSBpbnN0ZWFkLicsIGdldFNldERheU9mTW9udGgpO1xucHJvdG8ubW9udGhzID0gZGVwcmVjYXRlKCdtb250aHMgYWNjZXNzb3IgaXMgZGVwcmVjYXRlZC4gVXNlIG1vbnRoIGluc3RlYWQnLCBnZXRTZXRNb250aCk7XG5wcm90by55ZWFycyAgPSBkZXByZWNhdGUoJ3llYXJzIGFjY2Vzc29yIGlzIGRlcHJlY2F0ZWQuIFVzZSB5ZWFyIGluc3RlYWQnLCBnZXRTZXRZZWFyKTtcbnByb3RvLnpvbmUgICA9IGRlcHJlY2F0ZSgnbW9tZW50KCkuem9uZSBpcyBkZXByZWNhdGVkLCB1c2UgbW9tZW50KCkudXRjT2Zmc2V0IGluc3RlYWQuIGh0dHA6Ly9tb21lbnRqcy5jb20vZ3VpZGVzLyMvd2FybmluZ3Mvem9uZS8nLCBnZXRTZXRab25lKTtcbnByb3RvLmlzRFNUU2hpZnRlZCA9IGRlcHJlY2F0ZSgnaXNEU1RTaGlmdGVkIGlzIGRlcHJlY2F0ZWQuIFNlZSBodHRwOi8vbW9tZW50anMuY29tL2d1aWRlcy8jL3dhcm5pbmdzL2RzdC1zaGlmdGVkLyBmb3IgbW9yZSBpbmZvcm1hdGlvbicsIGlzRGF5bGlnaHRTYXZpbmdUaW1lU2hpZnRlZCk7XG5cbmZ1bmN0aW9uIGNyZWF0ZVVuaXggKGlucHV0KSB7XG4gICAgcmV0dXJuIGNyZWF0ZUxvY2FsKGlucHV0ICogMTAwMCk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUluWm9uZSAoKSB7XG4gICAgcmV0dXJuIGNyZWF0ZUxvY2FsLmFwcGx5KG51bGwsIGFyZ3VtZW50cykucGFyc2Vab25lKCk7XG59XG5cbmZ1bmN0aW9uIHByZVBhcnNlUG9zdEZvcm1hdCAoc3RyaW5nKSB7XG4gICAgcmV0dXJuIHN0cmluZztcbn1cblxudmFyIHByb3RvJDEgPSBMb2NhbGUucHJvdG90eXBlO1xuXG5wcm90byQxLmNhbGVuZGFyICAgICAgICA9IGNhbGVuZGFyO1xucHJvdG8kMS5sb25nRGF0ZUZvcm1hdCAgPSBsb25nRGF0ZUZvcm1hdDtcbnByb3RvJDEuaW52YWxpZERhdGUgICAgID0gaW52YWxpZERhdGU7XG5wcm90byQxLm9yZGluYWwgICAgICAgICA9IG9yZGluYWw7XG5wcm90byQxLnByZXBhcnNlICAgICAgICA9IHByZVBhcnNlUG9zdEZvcm1hdDtcbnByb3RvJDEucG9zdGZvcm1hdCAgICAgID0gcHJlUGFyc2VQb3N0Rm9ybWF0O1xucHJvdG8kMS5yZWxhdGl2ZVRpbWUgICAgPSByZWxhdGl2ZVRpbWU7XG5wcm90byQxLnBhc3RGdXR1cmUgICAgICA9IHBhc3RGdXR1cmU7XG5wcm90byQxLnNldCAgICAgICAgICAgICA9IHNldDtcblxuLy8gTW9udGhcbnByb3RvJDEubW9udGhzICAgICAgICAgICAgPSAgICAgICAgbG9jYWxlTW9udGhzO1xucHJvdG8kMS5tb250aHNTaG9ydCAgICAgICA9ICAgICAgICBsb2NhbGVNb250aHNTaG9ydDtcbnByb3RvJDEubW9udGhzUGFyc2UgICAgICAgPSAgICAgICAgbG9jYWxlTW9udGhzUGFyc2U7XG5wcm90byQxLm1vbnRoc1JlZ2V4ICAgICAgID0gbW9udGhzUmVnZXg7XG5wcm90byQxLm1vbnRoc1Nob3J0UmVnZXggID0gbW9udGhzU2hvcnRSZWdleDtcblxuLy8gV2Vla1xucHJvdG8kMS53ZWVrID0gbG9jYWxlV2VlaztcbnByb3RvJDEuZmlyc3REYXlPZlllYXIgPSBsb2NhbGVGaXJzdERheU9mWWVhcjtcbnByb3RvJDEuZmlyc3REYXlPZldlZWsgPSBsb2NhbGVGaXJzdERheU9mV2VlaztcblxuLy8gRGF5IG9mIFdlZWtcbnByb3RvJDEud2Vla2RheXMgICAgICAgPSAgICAgICAgbG9jYWxlV2Vla2RheXM7XG5wcm90byQxLndlZWtkYXlzTWluICAgID0gICAgICAgIGxvY2FsZVdlZWtkYXlzTWluO1xucHJvdG8kMS53ZWVrZGF5c1Nob3J0ICA9ICAgICAgICBsb2NhbGVXZWVrZGF5c1Nob3J0O1xucHJvdG8kMS53ZWVrZGF5c1BhcnNlICA9ICAgICAgICBsb2NhbGVXZWVrZGF5c1BhcnNlO1xuXG5wcm90byQxLndlZWtkYXlzUmVnZXggICAgICAgPSAgICAgICAgd2Vla2RheXNSZWdleDtcbnByb3RvJDEud2Vla2RheXNTaG9ydFJlZ2V4ICA9ICAgICAgICB3ZWVrZGF5c1Nob3J0UmVnZXg7XG5wcm90byQxLndlZWtkYXlzTWluUmVnZXggICAgPSAgICAgICAgd2Vla2RheXNNaW5SZWdleDtcblxuLy8gSG91cnNcbnByb3RvJDEuaXNQTSA9IGxvY2FsZUlzUE07XG5wcm90byQxLm1lcmlkaWVtID0gbG9jYWxlTWVyaWRpZW07XG5cbmZ1bmN0aW9uIGdldCQxIChmb3JtYXQsIGluZGV4LCBmaWVsZCwgc2V0dGVyKSB7XG4gICAgdmFyIGxvY2FsZSA9IGdldExvY2FsZSgpO1xuICAgIHZhciB1dGMgPSBjcmVhdGVVVEMoKS5zZXQoc2V0dGVyLCBpbmRleCk7XG4gICAgcmV0dXJuIGxvY2FsZVtmaWVsZF0odXRjLCBmb3JtYXQpO1xufVxuXG5mdW5jdGlvbiBsaXN0TW9udGhzSW1wbCAoZm9ybWF0LCBpbmRleCwgZmllbGQpIHtcbiAgICBpZiAoaXNOdW1iZXIoZm9ybWF0KSkge1xuICAgICAgICBpbmRleCA9IGZvcm1hdDtcbiAgICAgICAgZm9ybWF0ID0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIGZvcm1hdCA9IGZvcm1hdCB8fCAnJztcblxuICAgIGlmIChpbmRleCAhPSBudWxsKSB7XG4gICAgICAgIHJldHVybiBnZXQkMShmb3JtYXQsIGluZGV4LCBmaWVsZCwgJ21vbnRoJyk7XG4gICAgfVxuXG4gICAgdmFyIGk7XG4gICAgdmFyIG91dCA9IFtdO1xuICAgIGZvciAoaSA9IDA7IGkgPCAxMjsgaSsrKSB7XG4gICAgICAgIG91dFtpXSA9IGdldCQxKGZvcm1hdCwgaSwgZmllbGQsICdtb250aCcpO1xuICAgIH1cbiAgICByZXR1cm4gb3V0O1xufVxuXG4vLyAoKVxuLy8gKDUpXG4vLyAoZm10LCA1KVxuLy8gKGZtdClcbi8vICh0cnVlKVxuLy8gKHRydWUsIDUpXG4vLyAodHJ1ZSwgZm10LCA1KVxuLy8gKHRydWUsIGZtdClcbmZ1bmN0aW9uIGxpc3RXZWVrZGF5c0ltcGwgKGxvY2FsZVNvcnRlZCwgZm9ybWF0LCBpbmRleCwgZmllbGQpIHtcbiAgICBpZiAodHlwZW9mIGxvY2FsZVNvcnRlZCA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgIGlmIChpc051bWJlcihmb3JtYXQpKSB7XG4gICAgICAgICAgICBpbmRleCA9IGZvcm1hdDtcbiAgICAgICAgICAgIGZvcm1hdCA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvcm1hdCA9IGZvcm1hdCB8fCAnJztcbiAgICB9IGVsc2Uge1xuICAgICAgICBmb3JtYXQgPSBsb2NhbGVTb3J0ZWQ7XG4gICAgICAgIGluZGV4ID0gZm9ybWF0O1xuICAgICAgICBsb2NhbGVTb3J0ZWQgPSBmYWxzZTtcblxuICAgICAgICBpZiAoaXNOdW1iZXIoZm9ybWF0KSkge1xuICAgICAgICAgICAgaW5kZXggPSBmb3JtYXQ7XG4gICAgICAgICAgICBmb3JtYXQgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cblxuICAgICAgICBmb3JtYXQgPSBmb3JtYXQgfHwgJyc7XG4gICAgfVxuXG4gICAgdmFyIGxvY2FsZSA9IGdldExvY2FsZSgpLFxuICAgICAgICBzaGlmdCA9IGxvY2FsZVNvcnRlZCA/IGxvY2FsZS5fd2Vlay5kb3cgOiAwO1xuXG4gICAgaWYgKGluZGV4ICE9IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIGdldCQxKGZvcm1hdCwgKGluZGV4ICsgc2hpZnQpICUgNywgZmllbGQsICdkYXknKTtcbiAgICB9XG5cbiAgICB2YXIgaTtcbiAgICB2YXIgb3V0ID0gW107XG4gICAgZm9yIChpID0gMDsgaSA8IDc7IGkrKykge1xuICAgICAgICBvdXRbaV0gPSBnZXQkMShmb3JtYXQsIChpICsgc2hpZnQpICUgNywgZmllbGQsICdkYXknKTtcbiAgICB9XG4gICAgcmV0dXJuIG91dDtcbn1cblxuZnVuY3Rpb24gbGlzdE1vbnRocyAoZm9ybWF0LCBpbmRleCkge1xuICAgIHJldHVybiBsaXN0TW9udGhzSW1wbChmb3JtYXQsIGluZGV4LCAnbW9udGhzJyk7XG59XG5cbmZ1bmN0aW9uIGxpc3RNb250aHNTaG9ydCAoZm9ybWF0LCBpbmRleCkge1xuICAgIHJldHVybiBsaXN0TW9udGhzSW1wbChmb3JtYXQsIGluZGV4LCAnbW9udGhzU2hvcnQnKTtcbn1cblxuZnVuY3Rpb24gbGlzdFdlZWtkYXlzIChsb2NhbGVTb3J0ZWQsIGZvcm1hdCwgaW5kZXgpIHtcbiAgICByZXR1cm4gbGlzdFdlZWtkYXlzSW1wbChsb2NhbGVTb3J0ZWQsIGZvcm1hdCwgaW5kZXgsICd3ZWVrZGF5cycpO1xufVxuXG5mdW5jdGlvbiBsaXN0V2Vla2RheXNTaG9ydCAobG9jYWxlU29ydGVkLCBmb3JtYXQsIGluZGV4KSB7XG4gICAgcmV0dXJuIGxpc3RXZWVrZGF5c0ltcGwobG9jYWxlU29ydGVkLCBmb3JtYXQsIGluZGV4LCAnd2Vla2RheXNTaG9ydCcpO1xufVxuXG5mdW5jdGlvbiBsaXN0V2Vla2RheXNNaW4gKGxvY2FsZVNvcnRlZCwgZm9ybWF0LCBpbmRleCkge1xuICAgIHJldHVybiBsaXN0V2Vla2RheXNJbXBsKGxvY2FsZVNvcnRlZCwgZm9ybWF0LCBpbmRleCwgJ3dlZWtkYXlzTWluJyk7XG59XG5cbmdldFNldEdsb2JhbExvY2FsZSgnZW4nLCB7XG4gICAgb3JkaW5hbFBhcnNlOiAvXFxkezEsMn0odGh8c3R8bmR8cmQpLyxcbiAgICBvcmRpbmFsIDogZnVuY3Rpb24gKG51bWJlcikge1xuICAgICAgICB2YXIgYiA9IG51bWJlciAlIDEwLFxuICAgICAgICAgICAgb3V0cHV0ID0gKHRvSW50KG51bWJlciAlIDEwMCAvIDEwKSA9PT0gMSkgPyAndGgnIDpcbiAgICAgICAgICAgIChiID09PSAxKSA/ICdzdCcgOlxuICAgICAgICAgICAgKGIgPT09IDIpID8gJ25kJyA6XG4gICAgICAgICAgICAoYiA9PT0gMykgPyAncmQnIDogJ3RoJztcbiAgICAgICAgcmV0dXJuIG51bWJlciArIG91dHB1dDtcbiAgICB9XG59KTtcblxuLy8gU2lkZSBlZmZlY3QgaW1wb3J0c1xuaG9va3MubGFuZyA9IGRlcHJlY2F0ZSgnbW9tZW50LmxhbmcgaXMgZGVwcmVjYXRlZC4gVXNlIG1vbWVudC5sb2NhbGUgaW5zdGVhZC4nLCBnZXRTZXRHbG9iYWxMb2NhbGUpO1xuaG9va3MubGFuZ0RhdGEgPSBkZXByZWNhdGUoJ21vbWVudC5sYW5nRGF0YSBpcyBkZXByZWNhdGVkLiBVc2UgbW9tZW50LmxvY2FsZURhdGEgaW5zdGVhZC4nLCBnZXRMb2NhbGUpO1xuXG52YXIgbWF0aEFicyA9IE1hdGguYWJzO1xuXG5mdW5jdGlvbiBhYnMgKCkge1xuICAgIHZhciBkYXRhICAgICAgICAgICA9IHRoaXMuX2RhdGE7XG5cbiAgICB0aGlzLl9taWxsaXNlY29uZHMgPSBtYXRoQWJzKHRoaXMuX21pbGxpc2Vjb25kcyk7XG4gICAgdGhpcy5fZGF5cyAgICAgICAgID0gbWF0aEFicyh0aGlzLl9kYXlzKTtcbiAgICB0aGlzLl9tb250aHMgICAgICAgPSBtYXRoQWJzKHRoaXMuX21vbnRocyk7XG5cbiAgICBkYXRhLm1pbGxpc2Vjb25kcyAgPSBtYXRoQWJzKGRhdGEubWlsbGlzZWNvbmRzKTtcbiAgICBkYXRhLnNlY29uZHMgICAgICAgPSBtYXRoQWJzKGRhdGEuc2Vjb25kcyk7XG4gICAgZGF0YS5taW51dGVzICAgICAgID0gbWF0aEFicyhkYXRhLm1pbnV0ZXMpO1xuICAgIGRhdGEuaG91cnMgICAgICAgICA9IG1hdGhBYnMoZGF0YS5ob3Vycyk7XG4gICAgZGF0YS5tb250aHMgICAgICAgID0gbWF0aEFicyhkYXRhLm1vbnRocyk7XG4gICAgZGF0YS55ZWFycyAgICAgICAgID0gbWF0aEFicyhkYXRhLnllYXJzKTtcblxuICAgIHJldHVybiB0aGlzO1xufVxuXG5mdW5jdGlvbiBhZGRTdWJ0cmFjdCQxIChkdXJhdGlvbiwgaW5wdXQsIHZhbHVlLCBkaXJlY3Rpb24pIHtcbiAgICB2YXIgb3RoZXIgPSBjcmVhdGVEdXJhdGlvbihpbnB1dCwgdmFsdWUpO1xuXG4gICAgZHVyYXRpb24uX21pbGxpc2Vjb25kcyArPSBkaXJlY3Rpb24gKiBvdGhlci5fbWlsbGlzZWNvbmRzO1xuICAgIGR1cmF0aW9uLl9kYXlzICAgICAgICAgKz0gZGlyZWN0aW9uICogb3RoZXIuX2RheXM7XG4gICAgZHVyYXRpb24uX21vbnRocyAgICAgICArPSBkaXJlY3Rpb24gKiBvdGhlci5fbW9udGhzO1xuXG4gICAgcmV0dXJuIGR1cmF0aW9uLl9idWJibGUoKTtcbn1cblxuLy8gc3VwcG9ydHMgb25seSAyLjAtc3R5bGUgYWRkKDEsICdzJykgb3IgYWRkKGR1cmF0aW9uKVxuZnVuY3Rpb24gYWRkJDEgKGlucHV0LCB2YWx1ZSkge1xuICAgIHJldHVybiBhZGRTdWJ0cmFjdCQxKHRoaXMsIGlucHV0LCB2YWx1ZSwgMSk7XG59XG5cbi8vIHN1cHBvcnRzIG9ubHkgMi4wLXN0eWxlIHN1YnRyYWN0KDEsICdzJykgb3Igc3VidHJhY3QoZHVyYXRpb24pXG5mdW5jdGlvbiBzdWJ0cmFjdCQxIChpbnB1dCwgdmFsdWUpIHtcbiAgICByZXR1cm4gYWRkU3VidHJhY3QkMSh0aGlzLCBpbnB1dCwgdmFsdWUsIC0xKTtcbn1cblxuZnVuY3Rpb24gYWJzQ2VpbCAobnVtYmVyKSB7XG4gICAgaWYgKG51bWJlciA8IDApIHtcbiAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IobnVtYmVyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gTWF0aC5jZWlsKG51bWJlcik7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBidWJibGUgKCkge1xuICAgIHZhciBtaWxsaXNlY29uZHMgPSB0aGlzLl9taWxsaXNlY29uZHM7XG4gICAgdmFyIGRheXMgICAgICAgICA9IHRoaXMuX2RheXM7XG4gICAgdmFyIG1vbnRocyAgICAgICA9IHRoaXMuX21vbnRocztcbiAgICB2YXIgZGF0YSAgICAgICAgID0gdGhpcy5fZGF0YTtcbiAgICB2YXIgc2Vjb25kcywgbWludXRlcywgaG91cnMsIHllYXJzLCBtb250aHNGcm9tRGF5cztcblxuICAgIC8vIGlmIHdlIGhhdmUgYSBtaXggb2YgcG9zaXRpdmUgYW5kIG5lZ2F0aXZlIHZhbHVlcywgYnViYmxlIGRvd24gZmlyc3RcbiAgICAvLyBjaGVjazogaHR0cHM6Ly9naXRodWIuY29tL21vbWVudC9tb21lbnQvaXNzdWVzLzIxNjZcbiAgICBpZiAoISgobWlsbGlzZWNvbmRzID49IDAgJiYgZGF5cyA+PSAwICYmIG1vbnRocyA+PSAwKSB8fFxuICAgICAgICAgICAgKG1pbGxpc2Vjb25kcyA8PSAwICYmIGRheXMgPD0gMCAmJiBtb250aHMgPD0gMCkpKSB7XG4gICAgICAgIG1pbGxpc2Vjb25kcyArPSBhYnNDZWlsKG1vbnRoc1RvRGF5cyhtb250aHMpICsgZGF5cykgKiA4NjRlNTtcbiAgICAgICAgZGF5cyA9IDA7XG4gICAgICAgIG1vbnRocyA9IDA7XG4gICAgfVxuXG4gICAgLy8gVGhlIGZvbGxvd2luZyBjb2RlIGJ1YmJsZXMgdXAgdmFsdWVzLCBzZWUgdGhlIHRlc3RzIGZvclxuICAgIC8vIGV4YW1wbGVzIG9mIHdoYXQgdGhhdCBtZWFucy5cbiAgICBkYXRhLm1pbGxpc2Vjb25kcyA9IG1pbGxpc2Vjb25kcyAlIDEwMDA7XG5cbiAgICBzZWNvbmRzICAgICAgICAgICA9IGFic0Zsb29yKG1pbGxpc2Vjb25kcyAvIDEwMDApO1xuICAgIGRhdGEuc2Vjb25kcyAgICAgID0gc2Vjb25kcyAlIDYwO1xuXG4gICAgbWludXRlcyAgICAgICAgICAgPSBhYnNGbG9vcihzZWNvbmRzIC8gNjApO1xuICAgIGRhdGEubWludXRlcyAgICAgID0gbWludXRlcyAlIDYwO1xuXG4gICAgaG91cnMgICAgICAgICAgICAgPSBhYnNGbG9vcihtaW51dGVzIC8gNjApO1xuICAgIGRhdGEuaG91cnMgICAgICAgID0gaG91cnMgJSAyNDtcblxuICAgIGRheXMgKz0gYWJzRmxvb3IoaG91cnMgLyAyNCk7XG5cbiAgICAvLyBjb252ZXJ0IGRheXMgdG8gbW9udGhzXG4gICAgbW9udGhzRnJvbURheXMgPSBhYnNGbG9vcihkYXlzVG9Nb250aHMoZGF5cykpO1xuICAgIG1vbnRocyArPSBtb250aHNGcm9tRGF5cztcbiAgICBkYXlzIC09IGFic0NlaWwobW9udGhzVG9EYXlzKG1vbnRoc0Zyb21EYXlzKSk7XG5cbiAgICAvLyAxMiBtb250aHMgLT4gMSB5ZWFyXG4gICAgeWVhcnMgPSBhYnNGbG9vcihtb250aHMgLyAxMik7XG4gICAgbW9udGhzICU9IDEyO1xuXG4gICAgZGF0YS5kYXlzICAgPSBkYXlzO1xuICAgIGRhdGEubW9udGhzID0gbW9udGhzO1xuICAgIGRhdGEueWVhcnMgID0geWVhcnM7XG5cbiAgICByZXR1cm4gdGhpcztcbn1cblxuZnVuY3Rpb24gZGF5c1RvTW9udGhzIChkYXlzKSB7XG4gICAgLy8gNDAwIHllYXJzIGhhdmUgMTQ2MDk3IGRheXMgKHRha2luZyBpbnRvIGFjY291bnQgbGVhcCB5ZWFyIHJ1bGVzKVxuICAgIC8vIDQwMCB5ZWFycyBoYXZlIDEyIG1vbnRocyA9PT0gNDgwMFxuICAgIHJldHVybiBkYXlzICogNDgwMCAvIDE0NjA5Nztcbn1cblxuZnVuY3Rpb24gbW9udGhzVG9EYXlzIChtb250aHMpIHtcbiAgICAvLyB0aGUgcmV2ZXJzZSBvZiBkYXlzVG9Nb250aHNcbiAgICByZXR1cm4gbW9udGhzICogMTQ2MDk3IC8gNDgwMDtcbn1cblxuZnVuY3Rpb24gYXMgKHVuaXRzKSB7XG4gICAgdmFyIGRheXM7XG4gICAgdmFyIG1vbnRocztcbiAgICB2YXIgbWlsbGlzZWNvbmRzID0gdGhpcy5fbWlsbGlzZWNvbmRzO1xuXG4gICAgdW5pdHMgPSBub3JtYWxpemVVbml0cyh1bml0cyk7XG5cbiAgICBpZiAodW5pdHMgPT09ICdtb250aCcgfHwgdW5pdHMgPT09ICd5ZWFyJykge1xuICAgICAgICBkYXlzICAgPSB0aGlzLl9kYXlzICAgKyBtaWxsaXNlY29uZHMgLyA4NjRlNTtcbiAgICAgICAgbW9udGhzID0gdGhpcy5fbW9udGhzICsgZGF5c1RvTW9udGhzKGRheXMpO1xuICAgICAgICByZXR1cm4gdW5pdHMgPT09ICdtb250aCcgPyBtb250aHMgOiBtb250aHMgLyAxMjtcbiAgICB9IGVsc2Uge1xuICAgICAgICAvLyBoYW5kbGUgbWlsbGlzZWNvbmRzIHNlcGFyYXRlbHkgYmVjYXVzZSBvZiBmbG9hdGluZyBwb2ludCBtYXRoIGVycm9ycyAoaXNzdWUgIzE4NjcpXG4gICAgICAgIGRheXMgPSB0aGlzLl9kYXlzICsgTWF0aC5yb3VuZChtb250aHNUb0RheXModGhpcy5fbW9udGhzKSk7XG4gICAgICAgIHN3aXRjaCAodW5pdHMpIHtcbiAgICAgICAgICAgIGNhc2UgJ3dlZWsnICAgOiByZXR1cm4gZGF5cyAvIDcgICAgICsgbWlsbGlzZWNvbmRzIC8gNjA0OGU1O1xuICAgICAgICAgICAgY2FzZSAnZGF5JyAgICA6IHJldHVybiBkYXlzICAgICAgICAgKyBtaWxsaXNlY29uZHMgLyA4NjRlNTtcbiAgICAgICAgICAgIGNhc2UgJ2hvdXInICAgOiByZXR1cm4gZGF5cyAqIDI0ICAgICsgbWlsbGlzZWNvbmRzIC8gMzZlNTtcbiAgICAgICAgICAgIGNhc2UgJ21pbnV0ZScgOiByZXR1cm4gZGF5cyAqIDE0NDAgICsgbWlsbGlzZWNvbmRzIC8gNmU0O1xuICAgICAgICAgICAgY2FzZSAnc2Vjb25kJyA6IHJldHVybiBkYXlzICogODY0MDAgKyBtaWxsaXNlY29uZHMgLyAxMDAwO1xuICAgICAgICAgICAgLy8gTWF0aC5mbG9vciBwcmV2ZW50cyBmbG9hdGluZyBwb2ludCBtYXRoIGVycm9ycyBoZXJlXG4gICAgICAgICAgICBjYXNlICdtaWxsaXNlY29uZCc6IHJldHVybiBNYXRoLmZsb29yKGRheXMgKiA4NjRlNSkgKyBtaWxsaXNlY29uZHM7XG4gICAgICAgICAgICBkZWZhdWx0OiB0aHJvdyBuZXcgRXJyb3IoJ1Vua25vd24gdW5pdCAnICsgdW5pdHMpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vLyBUT0RPOiBVc2UgdGhpcy5hcygnbXMnKT9cbmZ1bmN0aW9uIHZhbHVlT2YkMSAoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgICAgdGhpcy5fbWlsbGlzZWNvbmRzICtcbiAgICAgICAgdGhpcy5fZGF5cyAqIDg2NGU1ICtcbiAgICAgICAgKHRoaXMuX21vbnRocyAlIDEyKSAqIDI1OTJlNiArXG4gICAgICAgIHRvSW50KHRoaXMuX21vbnRocyAvIDEyKSAqIDMxNTM2ZTZcbiAgICApO1xufVxuXG5mdW5jdGlvbiBtYWtlQXMgKGFsaWFzKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXMoYWxpYXMpO1xuICAgIH07XG59XG5cbnZhciBhc01pbGxpc2Vjb25kcyA9IG1ha2VBcygnbXMnKTtcbnZhciBhc1NlY29uZHMgICAgICA9IG1ha2VBcygncycpO1xudmFyIGFzTWludXRlcyAgICAgID0gbWFrZUFzKCdtJyk7XG52YXIgYXNIb3VycyAgICAgICAgPSBtYWtlQXMoJ2gnKTtcbnZhciBhc0RheXMgICAgICAgICA9IG1ha2VBcygnZCcpO1xudmFyIGFzV2Vla3MgICAgICAgID0gbWFrZUFzKCd3Jyk7XG52YXIgYXNNb250aHMgICAgICAgPSBtYWtlQXMoJ00nKTtcbnZhciBhc1llYXJzICAgICAgICA9IG1ha2VBcygneScpO1xuXG5mdW5jdGlvbiBnZXQkMiAodW5pdHMpIHtcbiAgICB1bml0cyA9IG5vcm1hbGl6ZVVuaXRzKHVuaXRzKTtcbiAgICByZXR1cm4gdGhpc1t1bml0cyArICdzJ10oKTtcbn1cblxuZnVuY3Rpb24gbWFrZUdldHRlcihuYW1lKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RhdGFbbmFtZV07XG4gICAgfTtcbn1cblxudmFyIG1pbGxpc2Vjb25kcyA9IG1ha2VHZXR0ZXIoJ21pbGxpc2Vjb25kcycpO1xudmFyIHNlY29uZHMgICAgICA9IG1ha2VHZXR0ZXIoJ3NlY29uZHMnKTtcbnZhciBtaW51dGVzICAgICAgPSBtYWtlR2V0dGVyKCdtaW51dGVzJyk7XG52YXIgaG91cnMgICAgICAgID0gbWFrZUdldHRlcignaG91cnMnKTtcbnZhciBkYXlzICAgICAgICAgPSBtYWtlR2V0dGVyKCdkYXlzJyk7XG52YXIgbW9udGhzICAgICAgID0gbWFrZUdldHRlcignbW9udGhzJyk7XG52YXIgeWVhcnMgICAgICAgID0gbWFrZUdldHRlcigneWVhcnMnKTtcblxuZnVuY3Rpb24gd2Vla3MgKCkge1xuICAgIHJldHVybiBhYnNGbG9vcih0aGlzLmRheXMoKSAvIDcpO1xufVxuXG52YXIgcm91bmQgPSBNYXRoLnJvdW5kO1xudmFyIHRocmVzaG9sZHMgPSB7XG4gICAgczogNDUsICAvLyBzZWNvbmRzIHRvIG1pbnV0ZVxuICAgIG06IDQ1LCAgLy8gbWludXRlcyB0byBob3VyXG4gICAgaDogMjIsICAvLyBob3VycyB0byBkYXlcbiAgICBkOiAyNiwgIC8vIGRheXMgdG8gbW9udGhcbiAgICBNOiAxMSAgIC8vIG1vbnRocyB0byB5ZWFyXG59O1xuXG4vLyBoZWxwZXIgZnVuY3Rpb24gZm9yIG1vbWVudC5mbi5mcm9tLCBtb21lbnQuZm4uZnJvbU5vdywgYW5kIG1vbWVudC5kdXJhdGlvbi5mbi5odW1hbml6ZVxuZnVuY3Rpb24gc3Vic3RpdHV0ZVRpbWVBZ28oc3RyaW5nLCBudW1iZXIsIHdpdGhvdXRTdWZmaXgsIGlzRnV0dXJlLCBsb2NhbGUpIHtcbiAgICByZXR1cm4gbG9jYWxlLnJlbGF0aXZlVGltZShudW1iZXIgfHwgMSwgISF3aXRob3V0U3VmZml4LCBzdHJpbmcsIGlzRnV0dXJlKTtcbn1cblxuZnVuY3Rpb24gcmVsYXRpdmVUaW1lJDEgKHBvc05lZ0R1cmF0aW9uLCB3aXRob3V0U3VmZml4LCBsb2NhbGUpIHtcbiAgICB2YXIgZHVyYXRpb24gPSBjcmVhdGVEdXJhdGlvbihwb3NOZWdEdXJhdGlvbikuYWJzKCk7XG4gICAgdmFyIHNlY29uZHMgID0gcm91bmQoZHVyYXRpb24uYXMoJ3MnKSk7XG4gICAgdmFyIG1pbnV0ZXMgID0gcm91bmQoZHVyYXRpb24uYXMoJ20nKSk7XG4gICAgdmFyIGhvdXJzICAgID0gcm91bmQoZHVyYXRpb24uYXMoJ2gnKSk7XG4gICAgdmFyIGRheXMgICAgID0gcm91bmQoZHVyYXRpb24uYXMoJ2QnKSk7XG4gICAgdmFyIG1vbnRocyAgID0gcm91bmQoZHVyYXRpb24uYXMoJ00nKSk7XG4gICAgdmFyIHllYXJzICAgID0gcm91bmQoZHVyYXRpb24uYXMoJ3knKSk7XG5cbiAgICB2YXIgYSA9IHNlY29uZHMgPCB0aHJlc2hvbGRzLnMgJiYgWydzJywgc2Vjb25kc10gIHx8XG4gICAgICAgICAgICBtaW51dGVzIDw9IDEgICAgICAgICAgICYmIFsnbSddICAgICAgICAgICB8fFxuICAgICAgICAgICAgbWludXRlcyA8IHRocmVzaG9sZHMubSAmJiBbJ21tJywgbWludXRlc10gfHxcbiAgICAgICAgICAgIGhvdXJzICAgPD0gMSAgICAgICAgICAgJiYgWydoJ10gICAgICAgICAgIHx8XG4gICAgICAgICAgICBob3VycyAgIDwgdGhyZXNob2xkcy5oICYmIFsnaGgnLCBob3Vyc10gICB8fFxuICAgICAgICAgICAgZGF5cyAgICA8PSAxICAgICAgICAgICAmJiBbJ2QnXSAgICAgICAgICAgfHxcbiAgICAgICAgICAgIGRheXMgICAgPCB0aHJlc2hvbGRzLmQgJiYgWydkZCcsIGRheXNdICAgIHx8XG4gICAgICAgICAgICBtb250aHMgIDw9IDEgICAgICAgICAgICYmIFsnTSddICAgICAgICAgICB8fFxuICAgICAgICAgICAgbW9udGhzICA8IHRocmVzaG9sZHMuTSAmJiBbJ01NJywgbW9udGhzXSAgfHxcbiAgICAgICAgICAgIHllYXJzICAgPD0gMSAgICAgICAgICAgJiYgWyd5J10gICAgICAgICAgIHx8IFsneXknLCB5ZWFyc107XG5cbiAgICBhWzJdID0gd2l0aG91dFN1ZmZpeDtcbiAgICBhWzNdID0gK3Bvc05lZ0R1cmF0aW9uID4gMDtcbiAgICBhWzRdID0gbG9jYWxlO1xuICAgIHJldHVybiBzdWJzdGl0dXRlVGltZUFnby5hcHBseShudWxsLCBhKTtcbn1cblxuLy8gVGhpcyBmdW5jdGlvbiBhbGxvd3MgeW91IHRvIHNldCB0aGUgcm91bmRpbmcgZnVuY3Rpb24gZm9yIHJlbGF0aXZlIHRpbWUgc3RyaW5nc1xuZnVuY3Rpb24gZ2V0U2V0UmVsYXRpdmVUaW1lUm91bmRpbmcgKHJvdW5kaW5nRnVuY3Rpb24pIHtcbiAgICBpZiAocm91bmRpbmdGdW5jdGlvbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiByb3VuZDtcbiAgICB9XG4gICAgaWYgKHR5cGVvZihyb3VuZGluZ0Z1bmN0aW9uKSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByb3VuZCA9IHJvdW5kaW5nRnVuY3Rpb247XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbi8vIFRoaXMgZnVuY3Rpb24gYWxsb3dzIHlvdSB0byBzZXQgYSB0aHJlc2hvbGQgZm9yIHJlbGF0aXZlIHRpbWUgc3RyaW5nc1xuZnVuY3Rpb24gZ2V0U2V0UmVsYXRpdmVUaW1lVGhyZXNob2xkICh0aHJlc2hvbGQsIGxpbWl0KSB7XG4gICAgaWYgKHRocmVzaG9sZHNbdGhyZXNob2xkXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKGxpbWl0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHRocmVzaG9sZHNbdGhyZXNob2xkXTtcbiAgICB9XG4gICAgdGhyZXNob2xkc1t0aHJlc2hvbGRdID0gbGltaXQ7XG4gICAgcmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIGh1bWFuaXplICh3aXRoU3VmZml4KSB7XG4gICAgdmFyIGxvY2FsZSA9IHRoaXMubG9jYWxlRGF0YSgpO1xuICAgIHZhciBvdXRwdXQgPSByZWxhdGl2ZVRpbWUkMSh0aGlzLCAhd2l0aFN1ZmZpeCwgbG9jYWxlKTtcblxuICAgIGlmICh3aXRoU3VmZml4KSB7XG4gICAgICAgIG91dHB1dCA9IGxvY2FsZS5wYXN0RnV0dXJlKCt0aGlzLCBvdXRwdXQpO1xuICAgIH1cblxuICAgIHJldHVybiBsb2NhbGUucG9zdGZvcm1hdChvdXRwdXQpO1xufVxuXG52YXIgYWJzJDEgPSBNYXRoLmFicztcblxuZnVuY3Rpb24gdG9JU09TdHJpbmckMSgpIHtcbiAgICAvLyBmb3IgSVNPIHN0cmluZ3Mgd2UgZG8gbm90IHVzZSB0aGUgbm9ybWFsIGJ1YmJsaW5nIHJ1bGVzOlxuICAgIC8vICAqIG1pbGxpc2Vjb25kcyBidWJibGUgdXAgdW50aWwgdGhleSBiZWNvbWUgaG91cnNcbiAgICAvLyAgKiBkYXlzIGRvIG5vdCBidWJibGUgYXQgYWxsXG4gICAgLy8gICogbW9udGhzIGJ1YmJsZSB1cCB1bnRpbCB0aGV5IGJlY29tZSB5ZWFyc1xuICAgIC8vIFRoaXMgaXMgYmVjYXVzZSB0aGVyZSBpcyBubyBjb250ZXh0LWZyZWUgY29udmVyc2lvbiBiZXR3ZWVuIGhvdXJzIGFuZCBkYXlzXG4gICAgLy8gKHRoaW5rIG9mIGNsb2NrIGNoYW5nZXMpXG4gICAgLy8gYW5kIGFsc28gbm90IGJldHdlZW4gZGF5cyBhbmQgbW9udGhzICgyOC0zMSBkYXlzIHBlciBtb250aClcbiAgICB2YXIgc2Vjb25kcyA9IGFicyQxKHRoaXMuX21pbGxpc2Vjb25kcykgLyAxMDAwO1xuICAgIHZhciBkYXlzICAgICAgICAgPSBhYnMkMSh0aGlzLl9kYXlzKTtcbiAgICB2YXIgbW9udGhzICAgICAgID0gYWJzJDEodGhpcy5fbW9udGhzKTtcbiAgICB2YXIgbWludXRlcywgaG91cnMsIHllYXJzO1xuXG4gICAgLy8gMzYwMCBzZWNvbmRzIC0+IDYwIG1pbnV0ZXMgLT4gMSBob3VyXG4gICAgbWludXRlcyAgICAgICAgICAgPSBhYnNGbG9vcihzZWNvbmRzIC8gNjApO1xuICAgIGhvdXJzICAgICAgICAgICAgID0gYWJzRmxvb3IobWludXRlcyAvIDYwKTtcbiAgICBzZWNvbmRzICU9IDYwO1xuICAgIG1pbnV0ZXMgJT0gNjA7XG5cbiAgICAvLyAxMiBtb250aHMgLT4gMSB5ZWFyXG4gICAgeWVhcnMgID0gYWJzRmxvb3IobW9udGhzIC8gMTIpO1xuICAgIG1vbnRocyAlPSAxMjtcblxuXG4gICAgLy8gaW5zcGlyZWQgYnkgaHR0cHM6Ly9naXRodWIuY29tL2RvcmRpbGxlL21vbWVudC1pc29kdXJhdGlvbi9ibG9iL21hc3Rlci9tb21lbnQuaXNvZHVyYXRpb24uanNcbiAgICB2YXIgWSA9IHllYXJzO1xuICAgIHZhciBNID0gbW9udGhzO1xuICAgIHZhciBEID0gZGF5cztcbiAgICB2YXIgaCA9IGhvdXJzO1xuICAgIHZhciBtID0gbWludXRlcztcbiAgICB2YXIgcyA9IHNlY29uZHM7XG4gICAgdmFyIHRvdGFsID0gdGhpcy5hc1NlY29uZHMoKTtcblxuICAgIGlmICghdG90YWwpIHtcbiAgICAgICAgLy8gdGhpcyBpcyB0aGUgc2FtZSBhcyBDIydzIChOb2RhKSBhbmQgcHl0aG9uIChpc29kYXRlKS4uLlxuICAgICAgICAvLyBidXQgbm90IG90aGVyIEpTIChnb29nLmRhdGUpXG4gICAgICAgIHJldHVybiAnUDBEJztcbiAgICB9XG5cbiAgICByZXR1cm4gKHRvdGFsIDwgMCA/ICctJyA6ICcnKSArXG4gICAgICAgICdQJyArXG4gICAgICAgIChZID8gWSArICdZJyA6ICcnKSArXG4gICAgICAgIChNID8gTSArICdNJyA6ICcnKSArXG4gICAgICAgIChEID8gRCArICdEJyA6ICcnKSArXG4gICAgICAgICgoaCB8fCBtIHx8IHMpID8gJ1QnIDogJycpICtcbiAgICAgICAgKGggPyBoICsgJ0gnIDogJycpICtcbiAgICAgICAgKG0gPyBtICsgJ00nIDogJycpICtcbiAgICAgICAgKHMgPyBzICsgJ1MnIDogJycpO1xufVxuXG52YXIgcHJvdG8kMiA9IER1cmF0aW9uLnByb3RvdHlwZTtcblxucHJvdG8kMi5hYnMgICAgICAgICAgICA9IGFicztcbnByb3RvJDIuYWRkICAgICAgICAgICAgPSBhZGQkMTtcbnByb3RvJDIuc3VidHJhY3QgICAgICAgPSBzdWJ0cmFjdCQxO1xucHJvdG8kMi5hcyAgICAgICAgICAgICA9IGFzO1xucHJvdG8kMi5hc01pbGxpc2Vjb25kcyA9IGFzTWlsbGlzZWNvbmRzO1xucHJvdG8kMi5hc1NlY29uZHMgICAgICA9IGFzU2Vjb25kcztcbnByb3RvJDIuYXNNaW51dGVzICAgICAgPSBhc01pbnV0ZXM7XG5wcm90byQyLmFzSG91cnMgICAgICAgID0gYXNIb3VycztcbnByb3RvJDIuYXNEYXlzICAgICAgICAgPSBhc0RheXM7XG5wcm90byQyLmFzV2Vla3MgICAgICAgID0gYXNXZWVrcztcbnByb3RvJDIuYXNNb250aHMgICAgICAgPSBhc01vbnRocztcbnByb3RvJDIuYXNZZWFycyAgICAgICAgPSBhc1llYXJzO1xucHJvdG8kMi52YWx1ZU9mICAgICAgICA9IHZhbHVlT2YkMTtcbnByb3RvJDIuX2J1YmJsZSAgICAgICAgPSBidWJibGU7XG5wcm90byQyLmdldCAgICAgICAgICAgID0gZ2V0JDI7XG5wcm90byQyLm1pbGxpc2Vjb25kcyAgID0gbWlsbGlzZWNvbmRzO1xucHJvdG8kMi5zZWNvbmRzICAgICAgICA9IHNlY29uZHM7XG5wcm90byQyLm1pbnV0ZXMgICAgICAgID0gbWludXRlcztcbnByb3RvJDIuaG91cnMgICAgICAgICAgPSBob3VycztcbnByb3RvJDIuZGF5cyAgICAgICAgICAgPSBkYXlzO1xucHJvdG8kMi53ZWVrcyAgICAgICAgICA9IHdlZWtzO1xucHJvdG8kMi5tb250aHMgICAgICAgICA9IG1vbnRocztcbnByb3RvJDIueWVhcnMgICAgICAgICAgPSB5ZWFycztcbnByb3RvJDIuaHVtYW5pemUgICAgICAgPSBodW1hbml6ZTtcbnByb3RvJDIudG9JU09TdHJpbmcgICAgPSB0b0lTT1N0cmluZyQxO1xucHJvdG8kMi50b1N0cmluZyAgICAgICA9IHRvSVNPU3RyaW5nJDE7XG5wcm90byQyLnRvSlNPTiAgICAgICAgID0gdG9JU09TdHJpbmckMTtcbnByb3RvJDIubG9jYWxlICAgICAgICAgPSBsb2NhbGU7XG5wcm90byQyLmxvY2FsZURhdGEgICAgID0gbG9jYWxlRGF0YTtcblxuLy8gRGVwcmVjYXRpb25zXG5wcm90byQyLnRvSXNvU3RyaW5nID0gZGVwcmVjYXRlKCd0b0lzb1N0cmluZygpIGlzIGRlcHJlY2F0ZWQuIFBsZWFzZSB1c2UgdG9JU09TdHJpbmcoKSBpbnN0ZWFkIChub3RpY2UgdGhlIGNhcGl0YWxzKScsIHRvSVNPU3RyaW5nJDEpO1xucHJvdG8kMi5sYW5nID0gbGFuZztcblxuLy8gU2lkZSBlZmZlY3QgaW1wb3J0c1xuXG4vLyBGT1JNQVRUSU5HXG5cbmFkZEZvcm1hdFRva2VuKCdYJywgMCwgMCwgJ3VuaXgnKTtcbmFkZEZvcm1hdFRva2VuKCd4JywgMCwgMCwgJ3ZhbHVlT2YnKTtcblxuLy8gUEFSU0lOR1xuXG5hZGRSZWdleFRva2VuKCd4JywgbWF0Y2hTaWduZWQpO1xuYWRkUmVnZXhUb2tlbignWCcsIG1hdGNoVGltZXN0YW1wKTtcbmFkZFBhcnNlVG9rZW4oJ1gnLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcpIHtcbiAgICBjb25maWcuX2QgPSBuZXcgRGF0ZShwYXJzZUZsb2F0KGlucHV0LCAxMCkgKiAxMDAwKTtcbn0pO1xuYWRkUGFyc2VUb2tlbigneCcsIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXksIGNvbmZpZykge1xuICAgIGNvbmZpZy5fZCA9IG5ldyBEYXRlKHRvSW50KGlucHV0KSk7XG59KTtcblxuLy8gU2lkZSBlZmZlY3QgaW1wb3J0c1xuXG5cbmhvb2tzLnZlcnNpb24gPSAnMi4xNy4wJztcblxuc2V0SG9va0NhbGxiYWNrKGNyZWF0ZUxvY2FsKTtcblxuaG9va3MuZm4gICAgICAgICAgICAgICAgICAgID0gcHJvdG87XG5ob29rcy5taW4gICAgICAgICAgICAgICAgICAgPSBtaW47XG5ob29rcy5tYXggICAgICAgICAgICAgICAgICAgPSBtYXg7XG5ob29rcy5ub3cgICAgICAgICAgICAgICAgICAgPSBub3c7XG5ob29rcy51dGMgICAgICAgICAgICAgICAgICAgPSBjcmVhdGVVVEM7XG5ob29rcy51bml4ICAgICAgICAgICAgICAgICAgPSBjcmVhdGVVbml4O1xuaG9va3MubW9udGhzICAgICAgICAgICAgICAgID0gbGlzdE1vbnRocztcbmhvb2tzLmlzRGF0ZSAgICAgICAgICAgICAgICA9IGlzRGF0ZTtcbmhvb2tzLmxvY2FsZSAgICAgICAgICAgICAgICA9IGdldFNldEdsb2JhbExvY2FsZTtcbmhvb2tzLmludmFsaWQgICAgICAgICAgICAgICA9IGNyZWF0ZUludmFsaWQ7XG5ob29rcy5kdXJhdGlvbiAgICAgICAgICAgICAgPSBjcmVhdGVEdXJhdGlvbjtcbmhvb2tzLmlzTW9tZW50ICAgICAgICAgICAgICA9IGlzTW9tZW50O1xuaG9va3Mud2Vla2RheXMgICAgICAgICAgICAgID0gbGlzdFdlZWtkYXlzO1xuaG9va3MucGFyc2Vab25lICAgICAgICAgICAgID0gY3JlYXRlSW5ab25lO1xuaG9va3MubG9jYWxlRGF0YSAgICAgICAgICAgID0gZ2V0TG9jYWxlO1xuaG9va3MuaXNEdXJhdGlvbiAgICAgICAgICAgID0gaXNEdXJhdGlvbjtcbmhvb2tzLm1vbnRoc1Nob3J0ICAgICAgICAgICA9IGxpc3RNb250aHNTaG9ydDtcbmhvb2tzLndlZWtkYXlzTWluICAgICAgICAgICA9IGxpc3RXZWVrZGF5c01pbjtcbmhvb2tzLmRlZmluZUxvY2FsZSAgICAgICAgICA9IGRlZmluZUxvY2FsZTtcbmhvb2tzLnVwZGF0ZUxvY2FsZSAgICAgICAgICA9IHVwZGF0ZUxvY2FsZTtcbmhvb2tzLmxvY2FsZXMgICAgICAgICAgICAgICA9IGxpc3RMb2NhbGVzO1xuaG9va3Mud2Vla2RheXNTaG9ydCAgICAgICAgID0gbGlzdFdlZWtkYXlzU2hvcnQ7XG5ob29rcy5ub3JtYWxpemVVbml0cyAgICAgICAgPSBub3JtYWxpemVVbml0cztcbmhvb2tzLnJlbGF0aXZlVGltZVJvdW5kaW5nID0gZ2V0U2V0UmVsYXRpdmVUaW1lUm91bmRpbmc7XG5ob29rcy5yZWxhdGl2ZVRpbWVUaHJlc2hvbGQgPSBnZXRTZXRSZWxhdGl2ZVRpbWVUaHJlc2hvbGQ7XG5ob29rcy5jYWxlbmRhckZvcm1hdCAgICAgICAgPSBnZXRDYWxlbmRhckZvcm1hdDtcbmhvb2tzLnByb3RvdHlwZSAgICAgICAgICAgICA9IHByb3RvO1xuXG5yZXR1cm4gaG9va3M7XG5cbn0pKSk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vbW9tZW50L21vbWVudC5qc1xuLy8gbW9kdWxlIGlkID0gM1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9