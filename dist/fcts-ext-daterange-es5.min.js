!function(t){function e(i){if(n[i])return n[i].exports;var s=n[i]={exports:{},id:i,loaded:!1};return t[i].call(s.exports,s,s.exports,e),s.loaded=!0,s.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){(function(t){"use strict";var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=n(2);window.dr=new i,function(n,i){"object"===e(t)&&t.exports?t.exports=n.document?i(n):function(t){if(!t.document)throw new Error("Window with document not present");return i(t,!0)}:n.DateRangeChooser=i(n,!0)}("undefined"!=typeof window?window:void 0,function(t,e){var n=t.FusionCharts;n.register("extension",["private","date-range-chooser",function(){n.registerComponent("extensions","date-range-chooser",i({FusionCharts:n}))}])})}).call(e,n(1)(t))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(3);t.exports=function(t){var e=function(){function e(){i(this,e),this.startDt=0,this.endDt=0,this.startDataset=0,this.endDataset=0,this.toolbox=t.FusionCharts.getComponent("api","toolbox"),this.HorizontalToolbar=this.toolbox.HorizontalToolbar,this.ComponentGroup=this.toolbox.ComponentGroup,this.SymbolStore=this.toolbox.SymbolStore,this.startText={attr:function(){}},this.endText={attr:function(){}}}return s(e,[{key:"dateFormatter",value:function(t,e){t=new Date(t);var n=[t.getUTCDate(),t.getUTCMonth()+1,t.getUTCFullYear()];return n=n.join(e)}},{key:"swapDates",value:function(){var t=this.dateRange.startDate;this.dateRange.startDate=this.dateRange.endDate,this.dateRange.endDate=t}},{key:"syncRange",value:function(){}},{key:"getFormattedDate",value:function(t){return this.chart.getFormattedDate(t)}},{key:"getTimestamp",value:function(t){return this.chart.getTimestamp(t)}},{key:"setConfig",value:function(t){}},{key:"getConfig",value:function(){return{calendarVisible:"false"}}},{key:"init",value:function(t){var e=this;return t(["xAxis","yAxis","graphics","chart","dataset","PlotManager","canvasConfig","MarkerManager","reactiveModel","globalReactiveModel","spaceManagerInstance","extData","smartLabel",function(t,n,i,s,r,a,o,u,l,h,d,c,f){e.extData=c,e.xAxis=t,e.yAxis=n,e.graphics=i,e.chart=s,e.dataset=r,e.plotManager=a,e.markerManager=u,e.canvasConfig=o,e.reactiveModel=l,e.globalReactiveModel=h,e.spaceManagerInstance=d,e.smartLabel=f}]),this.spaceManagerInstance=e.spaceManagerInstance,this.globalReactiveModel=e.globalReactiveModel,this.startDt=e.globalReactiveModel.model["x-axis-visible-range-start"],this.endDt=e.globalReactiveModel.model["x-axis-visible-range-end"],this.startDataset=e.globalReactiveModel.model["x-axis-absolute-range-start"],this.endDataset=e.globalReactiveModel.model["x-axis-absolute-range-end"],this.toolbars=[],this.measurement={},this.toolbars.push(this.createToolbar()),this}},{key:"createToolbar",value:function(){var t,e,n,i,s,a,o=this;return o.fromDate={},o.toDate={},s=r(this.startDt,"x").format("DD-MM-YYYY"),a=r(this.endDt,"x").format("DD-MM-YYYY"),t=new this.HorizontalToolbar({paper:this.graphics.paper,chart:this.chart,smartLabel:this.smartLabel,chartContainer:this.graphics.container}),t.setConfig({fill:"#FFFFFF",borderThickness:0}),i=new this.toolbox.ComponentGroup({paper:this.graphics.paper,chart:this.chart,smartLabel:this.smartLabel,chartContainer:this.graphics.container}),i.setConfig({fill:"#FFFFFF",borderThickness:0}),e=new this.toolbox.Label("From:",{smartLabel:this.smartLabel,paper:this.graphics.paper},{text:{style:{"font-size":"13","font-family":'"Lucida Grande", sans-serif',fill:"#4B4B4B"}}}),n=new this.toolbox.Label("To:",{smartLabel:this.smartLabel,paper:this.graphics.paper},{text:{style:{"font-size":"13","font-family":'"Lucida Grande", sans-serif',fill:"#4B4B4B"}}}),o.fromDate=new this.toolbox.InputTextBoxSymbol({width:120,height:22},{paper:this.graphics.paper,chart:this.chart,smartLabel:this.smartLabel,chartContainer:this.graphics.container},{strokeWidth:1,stroke:"#ced5d4",symbolStrokeWidth:0,radius:2,margin:{right:22},btnTextStyle:{"font-family":'"Lucida Grande", sans-serif',fontSize:13},label:s,labelFill:"#696969"}),o.fromDate.setStateConfig({pressed:{config:{pressed:{fill:"#FFFFFF","stroke-width":1,stroke:"#1E1F1F"},normal:{fill:"#FFFFFF","stroke-width":1,stroke:"#1E1F1F"},hover:{fill:"#FFFFFF","stroke-width":1,stroke:"#0000FF"}}}}),o.toDate=new this.toolbox.InputTextBoxSymbol({width:120,height:22},{paper:this.graphics.paper,chart:this.chart,smartLabel:this.smartLabel,chartContainer:this.graphics.container},{strokeWidth:1,stroke:"#ced5d4",symbolStrokeWidth:0,radius:2,btnTextStyle:{"font-family":'"Lucida Grande", sans-serif',fontSize:13},label:a,labelFill:"#696969"}),o.toDate.setStateConfig({pressed:{config:{pressed:{fill:"#FFFFFF","stroke-width":1,stroke:"#1E1F1F"},normal:{fill:"#FFFFFF","stroke-width":1,stroke:"#1E1F1F"},hover:{fill:"#FFFFFF","stroke-width":1,stroke:"#1E1F1F"}}}}),o.fromDate.attachEventHandlers({click:{fn:function(){o.fromDate.edit(),o.fromDate.updateVisual("pressed")}},textOnBlur:function(){o.fromDate.blur(),o.startDate=o.fromDate.getText(),o.fromDate.updateVisual("enabled")}}),o.toDate.attachEventHandlers({click:{fn:function(){o.toDate.edit(),o.toDate.updateVisual("pressed")}},textOnBlur:function(){o.toDate.blur(),o.endDate=o.toDate.getText(),o.toDate.updateVisual("enabled")}}),this.SymbolStore.register("textBoxIcon",function(t,e,n,i,s,r,a){var o=t-i/2+r/2,u=t+i/2-r/2,l=e-s/2+a/2,h=e+s/2-a/2;return["M",o,l,"L",u,l,"L",u,h,"L",o,h,"Z"]}),i.addSymbol(e),i.addSymbol(o.fromDate),i.addSymbol(n),i.addSymbol(o.toDate),t.addComponent(i),t}},{key:"getLogicalSpace",value:function(t,e){var n,i,s,r=0,a=0;for(t/=2,i=0,s=this.toolbars.length;i<s;i++)n=this.toolbars[i].getLogicalSpace(t,e),r=Math.max(n.width,r),a+=n.height,this.toolbars[i].width=n.width,this.toolbars[i].height=n.height;return a+=this.padding,{width:r,height:a}}},{key:"placeInCanvas",value:function(){var t=this;t.padding=5,t.spaceManagerInstance.add([{name:function(){return"DateRangeChooserToolbox"},ref:function(t){return t[0]},self:function(){return t},priority:function(){return 2},layout:function(e){return e[t.extData.layout]||e.inline},orientation:[{type:function(e){return e[t.extData.orientation]||e.horizontal},position:[{type:function(e){return e[t.extData.position]||e.top},alignment:[{type:function(e){return e[t.extData.alignment]||e.right},dimensions:[function(){var e=this.getParentComponentGroup();return t.getLogicalSpace(e.getWidth(),e.getHeight())}]}]}]}]}])}},{key:"setDrawingConfiguration",value:function(t,e,n,i,s){var r=this.measurement;return r.x=t,r.y=e,r.width=n,r.height=i,this.parentGroup=s,this}},{key:"draw",value:function(t,e,n,i,s){var a,o,u,l=this.measurement,h=this.toolbars,d=this.globalReactiveModel,c=this;if(t=void 0===t?l.x:t,e=void 0===e?l.y:e,n=void 0===n?l.width:n,i=void 0===i?l.height:i,s=void 0===s?this.parentGroup:s,n&&i)for(o=0,a=h.length;o<a;o++)u=h[o],u.draw(t,e,s);d.onPropsChange(["x-axis-visible-range-start","x-axis-visible-range-end"],function(t,e){c.fromDate.blur(r(t[1],"x").format("DD-MM-YYYY")),c.toDate.blur(r(e[1],"x").format("DD-MM-YYYY"))})}},{key:"startDate",get:function(){return this.startDt},set:function(t){var e=parseInt(r(t,"DD-MM-YYYY").format("x")),n=this.globalReactiveModel.model["x-axis-absolute-range-start"];e<=this.endDt&&e>=n?(this.startDt=e,this.globalReactiveModel.model["x-axis-visible-range-start"]=this.startDt):console.error("From Date error state!")}},{key:"endDate",get:function(){return this.endDt},set:function(t){var e=parseInt(r(t,"DD-MM-YYYY").format("x")),n=this.globalReactiveModel.model["x-axis-absolute-range-end"];e>=this.startDt&&e<=n?(this.endDt=e,this.globalReactiveModel.model["x-axis-visible-range-end"]=this.endDt):console.error("To Date error state!")}}]),e}();return e}},function(t,e,n){(function(t){!function(e,n){t.exports=n()}(this,function(){"use strict";function e(){return gi.apply(null,arguments)}function n(t){gi=t}function i(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function s(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function r(t){var e;for(e in t)return!1;return!0}function a(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function o(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function u(t,e){var n,i=[];for(n=0;n<t.length;++n)i.push(e(t[n],n));return i}function l(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function h(t,e){for(var n in e)l(e,n)&&(t[n]=e[n]);return l(e,"toString")&&(t.toString=e.toString),l(e,"valueOf")&&(t.valueOf=e.valueOf),t}function d(t,e,n,i){return pe(t,e,n,i,!0).utc()}function c(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null}}function f(t){return null==t._pf&&(t._pf=c()),t._pf}function m(t){if(null==t._isValid){var e=f(t),n=pi.call(e.parsedDateParts,function(t){return null!=t}),i=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n);if(t._strict&&(i=i&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return i;t._isValid=i}return t._isValid}function _(t){var e=d(NaN);return null!=t?h(f(e),t):f(e).userInvalidated=!0,e}function g(t){return void 0===t}function y(t,e){var n,i,s;if(g(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),g(e._i)||(t._i=e._i),g(e._f)||(t._f=e._f),g(e._l)||(t._l=e._l),g(e._strict)||(t._strict=e._strict),g(e._tzm)||(t._tzm=e._tzm),g(e._isUTC)||(t._isUTC=e._isUTC),g(e._offset)||(t._offset=e._offset),g(e._pf)||(t._pf=f(e)),g(e._locale)||(t._locale=e._locale),vi.length>0)for(n in vi)i=vi[n],s=e[i],g(s)||(t[i]=s);return t}function p(t){y(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),wi===!1&&(wi=!0,e.updateOffset(this),wi=!1)}function v(t){return t instanceof p||null!=t&&null!=t._isAMomentObject}function w(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function D(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=w(e)),n}function M(t,e,n){var i,s=Math.min(t.length,e.length),r=Math.abs(t.length-e.length),a=0;for(i=0;i<s;i++)(n&&t[i]!==e[i]||!n&&D(t[i])!==D(e[i]))&&a++;return a+r}function k(t){e.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function S(t,n){var i=!0;return h(function(){if(null!=e.deprecationHandler&&e.deprecationHandler(null,t),i){for(var s,r=[],a=0;a<arguments.length;a++){if(s="","object"==typeof arguments[a]){s+="\n["+a+"] ";for(var o in arguments[0])s+=o+": "+arguments[0][o]+", ";s=s.slice(0,-2)}else s=arguments[a];r.push(s)}k(t+"\nArguments: "+Array.prototype.slice.call(r).join("")+"\n"+(new Error).stack),i=!1}return n.apply(this,arguments)},n)}function Y(t,n){null!=e.deprecationHandler&&e.deprecationHandler(t,n),Di[t]||(k(n),Di[t]=!0)}function b(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function x(t){var e,n;for(n in t)e=t[n],b(e)?this[n]=e:this["_"+n]=e;this._config=t,this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function F(t,e){var n,i=h({},t);for(n in e)l(e,n)&&(s(t[n])&&s(e[n])?(i[n]={},h(i[n],t[n]),h(i[n],e[n])):null!=e[n]?i[n]=e[n]:delete i[n]);for(n in t)l(t,n)&&!l(e,n)&&s(t[n])&&(i[n]=h({},i[n]));return i}function T(t){null!=t&&this.set(t)}function O(t,e,n){var i=this._calendar[t]||this._calendar.sameElse;return b(i)?i.call(e,n):i}function P(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])}function W(){return this._invalidDate}function R(t){return this._ordinal.replace("%d",t)}function C(t,e,n,i){var s=this._relativeTime[n];return b(s)?s(t,e,n,i):s.replace(/%d/i,t)}function L(t,e){var n=this._relativeTime[t>0?"future":"past"];return b(n)?n(e):n.replace(/%s/i,e)}function U(t,e){var n=t.toLowerCase();Pi[n]=Pi[n+"s"]=Pi[e]=t}function G(t){return"string"==typeof t?Pi[t]||Pi[t.toLowerCase()]:void 0}function H(t){var e,n,i={};for(n in t)l(t,n)&&(e=G(n),e&&(i[e]=t[n]));return i}function V(t,e){Wi[t]=e}function E(t){var e=[];for(var n in t)e.push({unit:n,priority:Wi[n]});return e.sort(function(t,e){return t.priority-e.priority}),e}function I(t,n){return function(i){return null!=i?(N(this,t,i),e.updateOffset(this,n),this):j(this,t)}}function j(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function N(t,e,n){t.isValid()&&t._d["set"+(t._isUTC?"UTC":"")+e](n)}function A(t){return t=G(t),b(this[t])?this[t]():this}function z(t,e){if("object"==typeof t){t=H(t);for(var n=E(t),i=0;i<n.length;i++)this[n[i].unit](t[n[i].unit])}else if(t=G(t),b(this[t]))return this[t](e);return this}function Z(t,e,n){var i=""+Math.abs(t),s=e-i.length,r=t>=0;return(r?n?"+":"":"-")+Math.pow(10,Math.max(0,s)).toString().substr(1)+i}function B(t,e,n,i){var s=i;"string"==typeof i&&(s=function(){return this[i]()}),t&&(Ui[t]=s),e&&(Ui[e[0]]=function(){return Z(s.apply(this,arguments),e[1],e[2])}),n&&(Ui[n]=function(){return this.localeData().ordinal(s.apply(this,arguments),t)})}function $(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function q(t){var e,n,i=t.match(Ri);for(e=0,n=i.length;e<n;e++)Ui[i[e]]?i[e]=Ui[i[e]]:i[e]=$(i[e]);return function(e){var s,r="";for(s=0;s<n;s++)r+=i[s]instanceof Function?i[s].call(e,t):i[s];return r}}function J(t,e){return t.isValid()?(e=Q(e,t.localeData()),Li[e]=Li[e]||q(e),Li[e](t)):t.localeData().invalidDate()}function Q(t,e){function n(t){return e.longDateFormat(t)||t}var i=5;for(Ci.lastIndex=0;i>=0&&Ci.test(t);)t=t.replace(Ci,n),Ci.lastIndex=0,i-=1;return t}function X(t,e,n){ts[t]=b(e)?e:function(t,i){return t&&n?n:e}}function K(t,e){return l(ts,t)?ts[t](e._strict,e._locale):new RegExp(tt(t))}function tt(t){return et(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,i,s){return e||n||i||s}))}function et(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function nt(t,e){var n,i=e;for("string"==typeof t&&(t=[t]),a(e)&&(i=function(t,n){n[e]=D(t)}),n=0;n<t.length;n++)es[t[n]]=i}function it(t,e){nt(t,function(t,n,i,s){i._w=i._w||{},e(t,i._w,i,s)})}function st(t,e,n){null!=e&&l(es,t)&&es[t](e,n._a,n,t)}function rt(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function at(t,e){return t?i(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||cs).test(e)?"format":"standalone"][t.month()]:this._months}function ot(t,e){return t?i(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[cs.test(e)?"format":"standalone"][t.month()]:this._monthsShort}function ut(t,e,n){var i,s,r,a=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)r=d([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(r,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(r,"").toLocaleLowerCase();return n?"MMM"===e?(s=ds.call(this._shortMonthsParse,a),s!==-1?s:null):(s=ds.call(this._longMonthsParse,a),s!==-1?s:null):"MMM"===e?(s=ds.call(this._shortMonthsParse,a),s!==-1?s:(s=ds.call(this._longMonthsParse,a),s!==-1?s:null)):(s=ds.call(this._longMonthsParse,a),s!==-1?s:(s=ds.call(this._shortMonthsParse,a),s!==-1?s:null))}function lt(t,e,n){var i,s,r;if(this._monthsParseExact)return ut.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(s=d([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(s,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(s,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(r="^"+this.months(s,"")+"|^"+this.monthsShort(s,""),this._monthsParse[i]=new RegExp(r.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[i].test(t))return i;if(n&&"MMM"===e&&this._shortMonthsParse[i].test(t))return i;if(!n&&this._monthsParse[i].test(t))return i}}function ht(t,e){var n;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=D(e);else if(e=t.localeData().monthsParse(e),!a(e))return t;return n=Math.min(t.date(),rt(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function dt(t){return null!=t?(ht(this,t),e.updateOffset(this,!0),this):j(this,"Month")}function ct(){return rt(this.year(),this.month())}function ft(t){return this._monthsParseExact?(l(this,"_monthsRegex")||_t.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(l(this,"_monthsShortRegex")||(this._monthsShortRegex=_s),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function mt(t){return this._monthsParseExact?(l(this,"_monthsRegex")||_t.call(this),t?this._monthsStrictRegex:this._monthsRegex):(l(this,"_monthsRegex")||(this._monthsRegex=gs),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function _t(){function t(t,e){return e.length-t.length}var e,n,i=[],s=[],r=[];for(e=0;e<12;e++)n=d([2e3,e]),i.push(this.monthsShort(n,"")),s.push(this.months(n,"")),r.push(this.months(n,"")),r.push(this.monthsShort(n,""));for(i.sort(t),s.sort(t),r.sort(t),e=0;e<12;e++)i[e]=et(i[e]),s[e]=et(s[e]);for(e=0;e<24;e++)r[e]=et(r[e]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}function gt(t){return yt(t)?366:365}function yt(t){return t%4===0&&t%100!==0||t%400===0}function pt(){return yt(this.year())}function vt(t,e,n,i,s,r,a){var o=new Date(t,e,n,i,s,r,a);return t<100&&t>=0&&isFinite(o.getFullYear())&&o.setFullYear(t),o}function wt(t){var e=new Date(Date.UTC.apply(null,arguments));return t<100&&t>=0&&isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t),e}function Dt(t,e,n){var i=7+e-n,s=(7+wt(t,0,i).getUTCDay()-e)%7;return-s+i-1}function Mt(t,e,n,i,s){var r,a,o=(7+n-i)%7,u=Dt(t,i,s),l=1+7*(e-1)+o+u;return l<=0?(r=t-1,a=gt(r)+l):l>gt(t)?(r=t+1,a=l-gt(t)):(r=t,a=l),{year:r,dayOfYear:a}}function kt(t,e,n){var i,s,r=Dt(t.year(),e,n),a=Math.floor((t.dayOfYear()-r-1)/7)+1;return a<1?(s=t.year()-1,i=a+St(s,e,n)):a>St(t.year(),e,n)?(i=a-St(t.year(),e,n),s=t.year()+1):(s=t.year(),i=a),{week:i,year:s}}function St(t,e,n){var i=Dt(t,e,n),s=Dt(t+1,e,n);return(gt(t)-i+s)/7}function Yt(t){return kt(t,this._week.dow,this._week.doy).week}function bt(){return this._week.dow}function xt(){return this._week.doy}function Ft(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")}function Tt(t){var e=kt(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")}function Ot(t,e){return"string"!=typeof t?t:isNaN(t)?(t=e.weekdaysParse(t),"number"==typeof t?t:null):parseInt(t,10)}function Pt(t,e){return"string"==typeof t?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function Wt(t,e){return t?i(this._weekdays)?this._weekdays[t.day()]:this._weekdays[this._weekdays.isFormat.test(e)?"format":"standalone"][t.day()]:this._weekdays}function Rt(t){return t?this._weekdaysShort[t.day()]:this._weekdaysShort}function Ct(t){return t?this._weekdaysMin[t.day()]:this._weekdaysMin}function Lt(t,e,n){var i,s,r,a=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)r=d([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(r,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(r,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(r,"").toLocaleLowerCase();return n?"dddd"===e?(s=ds.call(this._weekdaysParse,a),s!==-1?s:null):"ddd"===e?(s=ds.call(this._shortWeekdaysParse,a),s!==-1?s:null):(s=ds.call(this._minWeekdaysParse,a),s!==-1?s:null):"dddd"===e?(s=ds.call(this._weekdaysParse,a),s!==-1?s:(s=ds.call(this._shortWeekdaysParse,a),s!==-1?s:(s=ds.call(this._minWeekdaysParse,a),s!==-1?s:null))):"ddd"===e?(s=ds.call(this._shortWeekdaysParse,a),s!==-1?s:(s=ds.call(this._weekdaysParse,a),s!==-1?s:(s=ds.call(this._minWeekdaysParse,a),s!==-1?s:null))):(s=ds.call(this._minWeekdaysParse,a),s!==-1?s:(s=ds.call(this._weekdaysParse,a),s!==-1?s:(s=ds.call(this._shortWeekdaysParse,a),s!==-1?s:null)))}function Ut(t,e,n){var i,s,r;if(this._weekdaysParseExact)return Lt.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(s=d([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(s,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(s,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(s,"").replace(".",".?")+"$","i")),this._weekdaysParse[i]||(r="^"+this.weekdays(s,"")+"|^"+this.weekdaysShort(s,"")+"|^"+this.weekdaysMin(s,""),this._weekdaysParse[i]=new RegExp(r.replace(".",""),"i")),n&&"dddd"===e&&this._fullWeekdaysParse[i].test(t))return i;if(n&&"ddd"===e&&this._shortWeekdaysParse[i].test(t))return i;if(n&&"dd"===e&&this._minWeekdaysParse[i].test(t))return i;if(!n&&this._weekdaysParse[i].test(t))return i}}function Gt(t){if(!this.isValid())return null!=t?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=Ot(t,this.localeData()),this.add(t-e,"d")):e}function Ht(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")}function Vt(t){if(!this.isValid())return null!=t?this:NaN;if(null!=t){var e=Pt(t,this.localeData());return this.day(this.day()%7?e:e-7)}return this.day()||7}function Et(t){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||Nt.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(l(this,"_weekdaysRegex")||(this._weekdaysRegex=Ms),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function It(t){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||Nt.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(l(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=ks),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function jt(t){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||Nt.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(l(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Ss),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Nt(){function t(t,e){return e.length-t.length}var e,n,i,s,r,a=[],o=[],u=[],l=[];for(e=0;e<7;e++)n=d([2e3,1]).day(e),i=this.weekdaysMin(n,""),s=this.weekdaysShort(n,""),r=this.weekdays(n,""),a.push(i),o.push(s),u.push(r),l.push(i),l.push(s),l.push(r);for(a.sort(t),o.sort(t),u.sort(t),l.sort(t),e=0;e<7;e++)o[e]=et(o[e]),u[e]=et(u[e]),l[e]=et(l[e]);this._weekdaysRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function At(){return this.hours()%12||12}function zt(){return this.hours()||24}function Zt(t,e){B(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function Bt(t,e){return e._meridiemParse}function $t(t){return"p"===(t+"").toLowerCase().charAt(0)}function qt(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}function Jt(t){return t?t.toLowerCase().replace("_","-"):t}function Qt(t){for(var e,n,i,s,r=0;r<t.length;){for(s=Jt(t[r]).split("-"),e=s.length,n=Jt(t[r+1]),n=n?n.split("-"):null;e>0;){if(i=Xt(s.slice(0,e).join("-")))return i;if(n&&n.length>=e&&M(s,n,!0)>=e-1)break;e--}r++}return null}function Xt(e){var n=null;if(!Ts[e]&&"undefined"!=typeof t&&t&&t.exports)try{n=Ys._abbr,!function(){var t=new Error('Cannot find module "./locale"');throw t.code="MODULE_NOT_FOUND",t}(),Kt(n)}catch(t){}return Ts[e]}function Kt(t,e){var n;return t&&(n=g(e)?ne(t):te(t,e),n&&(Ys=n)),Ys._abbr}function te(t,e){if(null!==e){var n=Fs;if(e.abbr=t,null!=Ts[t])Y("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=Ts[t]._config;else if(null!=e.parentLocale){if(null==Ts[e.parentLocale])return Os[e.parentLocale]||(Os[e.parentLocale]=[]),Os[e.parentLocale].push({name:t,config:e}),null;n=Ts[e.parentLocale]._config}return Ts[t]=new T(F(n,e)),Os[t]&&Os[t].forEach(function(t){te(t.name,t.config)}),Kt(t),Ts[t]}return delete Ts[t],null}function ee(t,e){if(null!=e){var n,i=Fs;null!=Ts[t]&&(i=Ts[t]._config),e=F(i,e),n=new T(e),n.parentLocale=Ts[t],Ts[t]=n,Kt(t)}else null!=Ts[t]&&(null!=Ts[t].parentLocale?Ts[t]=Ts[t].parentLocale:null!=Ts[t]&&delete Ts[t]);return Ts[t]}function ne(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Ys;if(!i(t)){if(e=Xt(t))return e;t=[t]}return Qt(t)}function ie(){return Si(Ts)}function se(t){var e,n=t._a;return n&&f(t).overflow===-2&&(e=n[is]<0||n[is]>11?is:n[ss]<1||n[ss]>rt(n[ns],n[is])?ss:n[rs]<0||n[rs]>24||24===n[rs]&&(0!==n[as]||0!==n[os]||0!==n[us])?rs:n[as]<0||n[as]>59?as:n[os]<0||n[os]>59?os:n[us]<0||n[us]>999?us:-1,f(t)._overflowDayOfYear&&(e<ns||e>ss)&&(e=ss),f(t)._overflowWeeks&&e===-1&&(e=ls),f(t)._overflowWeekday&&e===-1&&(e=hs),f(t).overflow=e),t}function re(t){var e,n,i,s,r,a,o=t._i,u=Ps.exec(o)||Ws.exec(o);if(u){for(f(t).iso=!0,e=0,n=Cs.length;e<n;e++)if(Cs[e][1].exec(u[1])){s=Cs[e][0],i=Cs[e][2]!==!1;break}if(null==s)return void(t._isValid=!1);if(u[3]){for(e=0,n=Ls.length;e<n;e++)if(Ls[e][1].exec(u[3])){r=(u[2]||" ")+Ls[e][0];break}if(null==r)return void(t._isValid=!1)}if(!i&&null!=r)return void(t._isValid=!1);if(u[4]){if(!Rs.exec(u[4]))return void(t._isValid=!1);a="Z"}t._f=s+(r||"")+(a||""),de(t)}else t._isValid=!1}function ae(t){var n=Us.exec(t._i);return null!==n?void(t._d=new Date(+n[1])):(re(t),void(t._isValid===!1&&(delete t._isValid,e.createFromInputFallback(t))))}function oe(t,e,n){return null!=t?t:null!=e?e:n}function ue(t){var n=new Date(e.now());return t._useUTC?[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()]:[n.getFullYear(),n.getMonth(),n.getDate()]}function le(t){var e,n,i,s,r=[];if(!t._d){for(i=ue(t),t._w&&null==t._a[ss]&&null==t._a[is]&&he(t),t._dayOfYear&&(s=oe(t._a[ns],i[ns]),t._dayOfYear>gt(s)&&(f(t)._overflowDayOfYear=!0),n=wt(s,0,t._dayOfYear),t._a[is]=n.getUTCMonth(),t._a[ss]=n.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=r[e]=i[e];for(;e<7;e++)t._a[e]=r[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[rs]&&0===t._a[as]&&0===t._a[os]&&0===t._a[us]&&(t._nextDay=!0,t._a[rs]=0),t._d=(t._useUTC?wt:vt).apply(null,r),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[rs]=24)}}function he(t){var e,n,i,s,r,a,o,u;if(e=t._w,null!=e.GG||null!=e.W||null!=e.E)r=1,a=4,n=oe(e.GG,t._a[ns],kt(ve(),1,4).year),i=oe(e.W,1),s=oe(e.E,1),(s<1||s>7)&&(u=!0);else{r=t._locale._week.dow,a=t._locale._week.doy;var l=kt(ve(),r,a);n=oe(e.gg,t._a[ns],l.year),i=oe(e.w,l.week),null!=e.d?(s=e.d,(s<0||s>6)&&(u=!0)):null!=e.e?(s=e.e+r,(e.e<0||e.e>6)&&(u=!0)):s=r}i<1||i>St(n,r,a)?f(t)._overflowWeeks=!0:null!=u?f(t)._overflowWeekday=!0:(o=Mt(n,i,s,r,a),t._a[ns]=o.year,t._dayOfYear=o.dayOfYear)}function de(t){if(t._f===e.ISO_8601)return void re(t);t._a=[],f(t).empty=!0;var n,i,s,r,a,o=""+t._i,u=o.length,l=0;for(s=Q(t._f,t._locale).match(Ri)||[],n=0;n<s.length;n++)r=s[n],i=(o.match(K(r,t))||[])[0],i&&(a=o.substr(0,o.indexOf(i)),a.length>0&&f(t).unusedInput.push(a),o=o.slice(o.indexOf(i)+i.length),l+=i.length),Ui[r]?(i?f(t).empty=!1:f(t).unusedTokens.push(r),st(r,i,t)):t._strict&&!i&&f(t).unusedTokens.push(r);f(t).charsLeftOver=u-l,o.length>0&&f(t).unusedInput.push(o),t._a[rs]<=12&&f(t).bigHour===!0&&t._a[rs]>0&&(f(t).bigHour=void 0),f(t).parsedDateParts=t._a.slice(0),f(t).meridiem=t._meridiem,t._a[rs]=ce(t._locale,t._a[rs],t._meridiem),le(t),se(t)}function ce(t,e,n){var i;return null==n?e:null!=t.meridiemHour?t.meridiemHour(e,n):null!=t.isPM?(i=t.isPM(n),i&&e<12&&(e+=12),i||12!==e||(e=0),e):e}function fe(t){var e,n,i,s,r;if(0===t._f.length)return f(t).invalidFormat=!0,void(t._d=new Date(NaN));for(s=0;s<t._f.length;s++)r=0,e=y({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[s],de(e),m(e)&&(r+=f(e).charsLeftOver,r+=10*f(e).unusedTokens.length,f(e).score=r,(null==i||r<i)&&(i=r,n=e));h(t,n||e)}function me(t){if(!t._d){var e=H(t._i);t._a=u([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],function(t){return t&&parseInt(t,10)}),le(t)}}function _e(t){var e=new p(se(ge(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function ge(t){var e=t._i,n=t._f;return t._locale=t._locale||ne(t._l),null===e||void 0===n&&""===e?_({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),v(e)?new p(se(e)):(o(e)?t._d=e:i(n)?fe(t):n?de(t):ye(t),m(t)||(t._d=null),t))}function ye(t){var n=t._i;void 0===n?t._d=new Date(e.now()):o(n)?t._d=new Date(n.valueOf()):"string"==typeof n?ae(t):i(n)?(t._a=u(n.slice(0),function(t){return parseInt(t,10)}),le(t)):"object"==typeof n?me(t):a(n)?t._d=new Date(n):e.createFromInputFallback(t)}function pe(t,e,n,a,o){var u={};return n!==!0&&n!==!1||(a=n,n=void 0),(s(t)&&r(t)||i(t)&&0===t.length)&&(t=void 0),u._isAMomentObject=!0,u._useUTC=u._isUTC=o,u._l=n,u._i=t,u._f=e,u._strict=a,_e(u)}function ve(t,e,n,i){return pe(t,e,n,i,!1)}function we(t,e){var n,s;if(1===e.length&&i(e[0])&&(e=e[0]),!e.length)return ve();for(n=e[0],s=1;s<e.length;++s)e[s].isValid()&&!e[s][t](n)||(n=e[s]);return n}function De(){var t=[].slice.call(arguments,0);return we("isBefore",t)}function Me(){var t=[].slice.call(arguments,0);return we("isAfter",t)}function ke(t){var e=H(t),n=e.year||0,i=e.quarter||0,s=e.month||0,r=e.week||0,a=e.day||0,o=e.hour||0,u=e.minute||0,l=e.second||0,h=e.millisecond||0;this._milliseconds=+h+1e3*l+6e4*u+1e3*o*60*60,this._days=+a+7*r,this._months=+s+3*i+12*n,this._data={},this._locale=ne(),this._bubble()}function Se(t){return t instanceof ke}function Ye(t){return t<0?Math.round(-1*t)*-1:Math.round(t)}function be(t,e){B(t,0,0,function(){var t=this.utcOffset(),n="+";return t<0&&(t=-t,n="-"),n+Z(~~(t/60),2)+e+Z(~~t%60,2)})}function xe(t,e){var n=(e||"").match(t);if(null===n)return null;var i=n[n.length-1]||[],s=(i+"").match(Es)||["-",0,0],r=+(60*s[1])+D(s[2]);return 0===r?0:"+"===s[0]?r:-r}function Fe(t,n){var i,s;return n._isUTC?(i=n.clone(),s=(v(t)||o(t)?t.valueOf():ve(t).valueOf())-i.valueOf(),i._d.setTime(i._d.valueOf()+s),e.updateOffset(i,!1),i):ve(t).local()}function Te(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function Oe(t,n){var i,s=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"==typeof t){if(t=xe(Qi,t),null===t)return this}else Math.abs(t)<16&&(t*=60);return!this._isUTC&&n&&(i=Te(this)),this._offset=t,this._isUTC=!0,null!=i&&this.add(i,"m"),s!==t&&(!n||this._changeInProgress?Ze(this,Ie(t-s,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?s:Te(this)}function Pe(t,e){return null!=t?("string"!=typeof t&&(t=-t),
this.utcOffset(t,e),this):-this.utcOffset()}function We(t){return this.utcOffset(0,t)}function Re(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Te(this),"m")),this}function Ce(){if(null!=this._tzm)this.utcOffset(this._tzm);else if("string"==typeof this._i){var t=xe(Ji,this._i);null!=t?this.utcOffset(t):this.utcOffset(0,!0)}return this}function Le(t){return!!this.isValid()&&(t=t?ve(t).utcOffset():0,(this.utcOffset()-t)%60===0)}function Ue(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Ge(){if(!g(this._isDSTShifted))return this._isDSTShifted;var t={};if(y(t,this),t=ge(t),t._a){var e=t._isUTC?d(t._a):ve(t._a);this._isDSTShifted=this.isValid()&&M(t._a,e.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function He(){return!!this.isValid()&&!this._isUTC}function Ve(){return!!this.isValid()&&this._isUTC}function Ee(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function Ie(t,e){var n,i,s,r=t,o=null;return Se(t)?r={ms:t._milliseconds,d:t._days,M:t._months}:a(t)?(r={},e?r[e]=t:r.milliseconds=t):(o=Is.exec(t))?(n="-"===o[1]?-1:1,r={y:0,d:D(o[ss])*n,h:D(o[rs])*n,m:D(o[as])*n,s:D(o[os])*n,ms:D(Ye(1e3*o[us]))*n}):(o=js.exec(t))?(n="-"===o[1]?-1:1,r={y:je(o[2],n),M:je(o[3],n),w:je(o[4],n),d:je(o[5],n),h:je(o[6],n),m:je(o[7],n),s:je(o[8],n)}):null==r?r={}:"object"==typeof r&&("from"in r||"to"in r)&&(s=Ae(ve(r.from),ve(r.to)),r={},r.ms=s.milliseconds,r.M=s.months),i=new ke(r),Se(t)&&l(t,"_locale")&&(i._locale=t._locale),i}function je(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function Ne(t,e){var n={milliseconds:0,months:0};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function Ae(t,e){var n;return t.isValid()&&e.isValid()?(e=Fe(e,t),t.isBefore(e)?n=Ne(t,e):(n=Ne(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function ze(t,e){return function(n,i){var s,r;return null===i||isNaN(+i)||(Y(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),r=n,n=i,i=r),n="string"==typeof n?+n:n,s=Ie(n,i),Ze(this,s,t),this}}function Ze(t,n,i,s){var r=n._milliseconds,a=Ye(n._days),o=Ye(n._months);t.isValid()&&(s=null==s||s,r&&t._d.setTime(t._d.valueOf()+r*i),a&&N(t,"Date",j(t,"Date")+a*i),o&&ht(t,j(t,"Month")+o*i),s&&e.updateOffset(t,a||o))}function Be(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function $e(t,n){var i=t||ve(),s=Fe(i,this).startOf("day"),r=e.calendarFormat(this,s)||"sameElse",a=n&&(b(n[r])?n[r].call(this,i):n[r]);return this.format(a||this.localeData().calendar(r,this,ve(i)))}function qe(){return new p(this)}function Je(t,e){var n=v(t)?t:ve(t);return!(!this.isValid()||!n.isValid())&&(e=G(g(e)?"millisecond":e),"millisecond"===e?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf())}function Qe(t,e){var n=v(t)?t:ve(t);return!(!this.isValid()||!n.isValid())&&(e=G(g(e)?"millisecond":e),"millisecond"===e?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf())}function Xe(t,e,n,i){return i=i||"()",("("===i[0]?this.isAfter(t,n):!this.isBefore(t,n))&&(")"===i[1]?this.isBefore(e,n):!this.isAfter(e,n))}function Ke(t,e){var n,i=v(t)?t:ve(t);return!(!this.isValid()||!i.isValid())&&(e=G(e||"millisecond"),"millisecond"===e?this.valueOf()===i.valueOf():(n=i.valueOf(),this.clone().startOf(e).valueOf()<=n&&n<=this.clone().endOf(e).valueOf()))}function tn(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function en(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function nn(t,e,n){var i,s,r,a;return this.isValid()?(i=Fe(t,this),i.isValid()?(s=6e4*(i.utcOffset()-this.utcOffset()),e=G(e),"year"===e||"month"===e||"quarter"===e?(a=sn(this,i),"quarter"===e?a/=3:"year"===e&&(a/=12)):(r=this-i,a="second"===e?r/1e3:"minute"===e?r/6e4:"hour"===e?r/36e5:"day"===e?(r-s)/864e5:"week"===e?(r-s)/6048e5:r),n?a:w(a)):NaN):NaN}function sn(t,e){var n,i,s=12*(e.year()-t.year())+(e.month()-t.month()),r=t.clone().add(s,"months");return e-r<0?(n=t.clone().add(s-1,"months"),i=(e-r)/(r-n)):(n=t.clone().add(s+1,"months"),i=(e-r)/(n-r)),-(s+i)||0}function rn(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function an(){var t=this.clone().utc();return 0<t.year()&&t.year()<=9999?b(Date.prototype.toISOString)?this.toDate().toISOString():J(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):J(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function on(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="";this.isLocal()||(t=0===this.utcOffset()?"moment.utc":"moment.parseZone",e="Z");var n="["+t+'("]',i=0<this.year()&&this.year()<=9999?"YYYY":"YYYYYY",s="-MM-DD[T]HH:mm:ss.SSS",r=e+'[")]';return this.format(n+i+s+r)}function un(t){t||(t=this.isUtc()?e.defaultFormatUtc:e.defaultFormat);var n=J(this,t);return this.localeData().postformat(n)}function ln(t,e){return this.isValid()&&(v(t)&&t.isValid()||ve(t).isValid())?Ie({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function hn(t){return this.from(ve(),t)}function dn(t,e){return this.isValid()&&(v(t)&&t.isValid()||ve(t).isValid())?Ie({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function cn(t){return this.to(ve(),t)}function fn(t){var e;return void 0===t?this._locale._abbr:(e=ne(t),null!=e&&(this._locale=e),this)}function mn(){return this._locale}function _n(t){switch(t=G(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this}function gn(t){return t=G(t),void 0===t||"millisecond"===t?this:("date"===t&&(t="day"),this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms"))}function yn(){return this._d.valueOf()-6e4*(this._offset||0)}function pn(){return Math.floor(this.valueOf()/1e3)}function vn(){return new Date(this.valueOf())}function wn(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function Dn(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function Mn(){return this.isValid()?this.toISOString():null}function kn(){return m(this)}function Sn(){return h({},f(this))}function Yn(){return f(this).overflow}function bn(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function xn(t,e){B(0,[t,t.length],0,e)}function Fn(t){return Wn.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Tn(t){return Wn.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function On(){return St(this.year(),1,4)}function Pn(){var t=this.localeData()._week;return St(this.year(),t.dow,t.doy)}function Wn(t,e,n,i,s){var r;return null==t?kt(this,i,s).year:(r=St(t,i,s),e>r&&(e=r),Rn.call(this,t,e,n,i,s))}function Rn(t,e,n,i,s){var r=Mt(t,e,n,i,s),a=wt(r.year,0,r.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}function Cn(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)}function Ln(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")}function Un(t,e){e[us]=D(1e3*("0."+t))}function Gn(){return this._isUTC?"UTC":""}function Hn(){return this._isUTC?"Coordinated Universal Time":""}function Vn(t){return ve(1e3*t)}function En(){return ve.apply(null,arguments).parseZone()}function In(t){return t}function jn(t,e,n,i){var s=ne(),r=d().set(i,e);return s[n](r,t)}function Nn(t,e,n){if(a(t)&&(e=t,t=void 0),t=t||"",null!=e)return jn(t,e,n,"month");var i,s=[];for(i=0;i<12;i++)s[i]=jn(t,i,n,"month");return s}function An(t,e,n,i){"boolean"==typeof t?(a(e)&&(n=e,e=void 0),e=e||""):(e=t,n=e,t=!1,a(e)&&(n=e,e=void 0),e=e||"");var s=ne(),r=t?s._week.dow:0;if(null!=n)return jn(e,(n+r)%7,i,"day");var o,u=[];for(o=0;o<7;o++)u[o]=jn(e,(o+r)%7,i,"day");return u}function zn(t,e){return Nn(t,e,"months")}function Zn(t,e){return Nn(t,e,"monthsShort")}function Bn(t,e,n){return An(t,e,n,"weekdays")}function $n(t,e,n){return An(t,e,n,"weekdaysShort")}function qn(t,e,n){return An(t,e,n,"weekdaysMin")}function Jn(){var t=this._data;return this._milliseconds=Ks(this._milliseconds),this._days=Ks(this._days),this._months=Ks(this._months),t.milliseconds=Ks(t.milliseconds),t.seconds=Ks(t.seconds),t.minutes=Ks(t.minutes),t.hours=Ks(t.hours),t.months=Ks(t.months),t.years=Ks(t.years),this}function Qn(t,e,n,i){var s=Ie(e,n);return t._milliseconds+=i*s._milliseconds,t._days+=i*s._days,t._months+=i*s._months,t._bubble()}function Xn(t,e){return Qn(this,t,e,1)}function Kn(t,e){return Qn(this,t,e,-1)}function ti(t){return t<0?Math.floor(t):Math.ceil(t)}function ei(){var t,e,n,i,s,r=this._milliseconds,a=this._days,o=this._months,u=this._data;return r>=0&&a>=0&&o>=0||r<=0&&a<=0&&o<=0||(r+=864e5*ti(ii(o)+a),a=0,o=0),u.milliseconds=r%1e3,t=w(r/1e3),u.seconds=t%60,e=w(t/60),u.minutes=e%60,n=w(e/60),u.hours=n%24,a+=w(n/24),s=w(ni(a)),o+=s,a-=ti(ii(s)),i=w(o/12),o%=12,u.days=a,u.months=o,u.years=i,this}function ni(t){return 4800*t/146097}function ii(t){return 146097*t/4800}function si(t){var e,n,i=this._milliseconds;if(t=G(t),"month"===t||"year"===t)return e=this._days+i/864e5,n=this._months+ni(e),"month"===t?n:n/12;switch(e=this._days+Math.round(ii(this._months)),t){case"week":return e/7+i/6048e5;case"day":return e+i/864e5;case"hour":return 24*e+i/36e5;case"minute":return 1440*e+i/6e4;case"second":return 86400*e+i/1e3;case"millisecond":return Math.floor(864e5*e)+i;default:throw new Error("Unknown unit "+t)}}function ri(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*D(this._months/12)}function ai(t){return function(){return this.as(t)}}function oi(t){return t=G(t),this[t+"s"]()}function ui(t){return function(){return this._data[t]}}function li(){return w(this.days()/7)}function hi(t,e,n,i,s){return s.relativeTime(e||1,!!n,t,i)}function di(t,e,n){var i=Ie(t).abs(),s=_r(i.as("s")),r=_r(i.as("m")),a=_r(i.as("h")),o=_r(i.as("d")),u=_r(i.as("M")),l=_r(i.as("y")),h=s<gr.s&&["s",s]||r<=1&&["m"]||r<gr.m&&["mm",r]||a<=1&&["h"]||a<gr.h&&["hh",a]||o<=1&&["d"]||o<gr.d&&["dd",o]||u<=1&&["M"]||u<gr.M&&["MM",u]||l<=1&&["y"]||["yy",l];return h[2]=e,h[3]=+t>0,h[4]=n,hi.apply(null,h)}function ci(t){return void 0===t?_r:"function"==typeof t&&(_r=t,!0)}function fi(t,e){return void 0!==gr[t]&&(void 0===e?gr[t]:(gr[t]=e,!0))}function mi(t){var e=this.localeData(),n=di(this,!t,e);return t&&(n=e.pastFuture(+this,n)),e.postformat(n)}function _i(){var t,e,n,i=yr(this._milliseconds)/1e3,s=yr(this._days),r=yr(this._months);t=w(i/60),e=w(t/60),i%=60,t%=60,n=w(r/12),r%=12;var a=n,o=r,u=s,l=e,h=t,d=i,c=this.asSeconds();return c?(c<0?"-":"")+"P"+(a?a+"Y":"")+(o?o+"M":"")+(u?u+"D":"")+(l||h||d?"T":"")+(l?l+"H":"")+(h?h+"M":"")+(d?d+"S":""):"P0D"}var gi,yi;yi=Array.prototype.some?Array.prototype.some:function(t){for(var e=Object(this),n=e.length>>>0,i=0;i<n;i++)if(i in e&&t.call(this,e[i],i,e))return!0;return!1};var pi=yi,vi=e.momentProperties=[],wi=!1,Di={};e.suppressDeprecationWarnings=!1,e.deprecationHandler=null;var Mi;Mi=Object.keys?Object.keys:function(t){var e,n=[];for(e in t)l(t,e)&&n.push(e);return n};var ki,Si=Mi,Yi={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},bi={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},xi="Invalid date",Fi="%d",Ti=/\d{1,2}/,Oi={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Pi={},Wi={},Ri=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Ci=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Li={},Ui={},Gi=/\d/,Hi=/\d\d/,Vi=/\d{3}/,Ei=/\d{4}/,Ii=/[+-]?\d{6}/,ji=/\d\d?/,Ni=/\d\d\d\d?/,Ai=/\d\d\d\d\d\d?/,zi=/\d{1,3}/,Zi=/\d{1,4}/,Bi=/[+-]?\d{1,6}/,$i=/\d+/,qi=/[+-]?\d+/,Ji=/Z|[+-]\d\d:?\d\d/gi,Qi=/Z|[+-]\d\d(?::?\d\d)?/gi,Xi=/[+-]?\d+(\.\d{1,3})?/,Ki=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,ts={},es={},ns=0,is=1,ss=2,rs=3,as=4,os=5,us=6,ls=7,hs=8;ki=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1};var ds=ki;B("M",["MM",2],"Mo",function(){return this.month()+1}),B("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),B("MMMM",0,0,function(t){return this.localeData().months(this,t)}),U("month","M"),V("month",8),X("M",ji),X("MM",ji,Hi),X("MMM",function(t,e){return e.monthsShortRegex(t)}),X("MMMM",function(t,e){return e.monthsRegex(t)}),nt(["M","MM"],function(t,e){e[is]=D(t)-1}),nt(["MMM","MMMM"],function(t,e,n,i){var s=n._locale.monthsParse(t,i,n._strict);null!=s?e[is]=s:f(n).invalidMonth=t});var cs=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,fs="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ms="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),_s=Ki,gs=Ki;B("Y",0,0,function(){var t=this.year();return t<=9999?""+t:"+"+t}),B(0,["YY",2],0,function(){return this.year()%100}),B(0,["YYYY",4],0,"year"),B(0,["YYYYY",5],0,"year"),B(0,["YYYYYY",6,!0],0,"year"),U("year","y"),V("year",1),X("Y",qi),X("YY",ji,Hi),X("YYYY",Zi,Ei),X("YYYYY",Bi,Ii),X("YYYYYY",Bi,Ii),nt(["YYYYY","YYYYYY"],ns),nt("YYYY",function(t,n){n[ns]=2===t.length?e.parseTwoDigitYear(t):D(t)}),nt("YY",function(t,n){n[ns]=e.parseTwoDigitYear(t)}),nt("Y",function(t,e){e[ns]=parseInt(t,10)}),e.parseTwoDigitYear=function(t){return D(t)+(D(t)>68?1900:2e3)};var ys=I("FullYear",!0);B("w",["ww",2],"wo","week"),B("W",["WW",2],"Wo","isoWeek"),U("week","w"),U("isoWeek","W"),V("week",5),V("isoWeek",5),X("w",ji),X("ww",ji,Hi),X("W",ji),X("WW",ji,Hi),it(["w","ww","W","WW"],function(t,e,n,i){e[i.substr(0,1)]=D(t)});var ps={dow:0,doy:6};B("d",0,"do","day"),B("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),B("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),B("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),B("e",0,0,"weekday"),B("E",0,0,"isoWeekday"),U("day","d"),U("weekday","e"),U("isoWeekday","E"),V("day",11),V("weekday",11),V("isoWeekday",11),X("d",ji),X("e",ji),X("E",ji),X("dd",function(t,e){return e.weekdaysMinRegex(t)}),X("ddd",function(t,e){return e.weekdaysShortRegex(t)}),X("dddd",function(t,e){return e.weekdaysRegex(t)}),it(["dd","ddd","dddd"],function(t,e,n,i){var s=n._locale.weekdaysParse(t,i,n._strict);null!=s?e.d=s:f(n).invalidWeekday=t}),it(["d","e","E"],function(t,e,n,i){e[i]=D(t)});var vs="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),ws="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Ds="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Ms=Ki,ks=Ki,Ss=Ki;B("H",["HH",2],0,"hour"),B("h",["hh",2],0,At),B("k",["kk",2],0,zt),B("hmm",0,0,function(){return""+At.apply(this)+Z(this.minutes(),2)}),B("hmmss",0,0,function(){return""+At.apply(this)+Z(this.minutes(),2)+Z(this.seconds(),2)}),B("Hmm",0,0,function(){return""+this.hours()+Z(this.minutes(),2)}),B("Hmmss",0,0,function(){return""+this.hours()+Z(this.minutes(),2)+Z(this.seconds(),2)}),Zt("a",!0),Zt("A",!1),U("hour","h"),V("hour",13),X("a",Bt),X("A",Bt),X("H",ji),X("h",ji),X("HH",ji,Hi),X("hh",ji,Hi),X("hmm",Ni),X("hmmss",Ai),X("Hmm",Ni),X("Hmmss",Ai),nt(["H","HH"],rs),nt(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t}),nt(["h","hh"],function(t,e,n){e[rs]=D(t),f(n).bigHour=!0}),nt("hmm",function(t,e,n){var i=t.length-2;e[rs]=D(t.substr(0,i)),e[as]=D(t.substr(i)),f(n).bigHour=!0}),nt("hmmss",function(t,e,n){var i=t.length-4,s=t.length-2;e[rs]=D(t.substr(0,i)),e[as]=D(t.substr(i,2)),e[os]=D(t.substr(s)),f(n).bigHour=!0}),nt("Hmm",function(t,e,n){var i=t.length-2;e[rs]=D(t.substr(0,i)),e[as]=D(t.substr(i))}),nt("Hmmss",function(t,e,n){var i=t.length-4,s=t.length-2;e[rs]=D(t.substr(0,i)),e[as]=D(t.substr(i,2)),e[os]=D(t.substr(s))});var Ys,bs=/[ap]\.?m?\.?/i,xs=I("Hours",!0),Fs={calendar:Yi,longDateFormat:bi,invalidDate:xi,ordinal:Fi,ordinalParse:Ti,relativeTime:Oi,months:fs,monthsShort:ms,week:ps,weekdays:vs,weekdaysMin:Ds,weekdaysShort:ws,meridiemParse:bs},Ts={},Os={},Ps=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Ws=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Rs=/Z|[+-]\d\d(?::?\d\d)?/,Cs=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Ls=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Us=/^\/?Date\((\-?\d+)/i;e.createFromInputFallback=S("value provided is not in a recognized ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),e.ISO_8601=function(){};var Gs=S("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=ve.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:_()}),Hs=S("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=ve.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:_()}),Vs=function(){return Date.now?Date.now():+new Date};be("Z",":"),be("ZZ",""),X("Z",Qi),X("ZZ",Qi),nt(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=xe(Qi,t)});var Es=/([\+\-]|\d\d)/gi;e.updateOffset=function(){};var Is=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,js=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;Ie.fn=ke.prototype;var Ns=ze(1,"add"),As=ze(-1,"subtract");e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var zs=S("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});B(0,["gg",2],0,function(){return this.weekYear()%100}),B(0,["GG",2],0,function(){return this.isoWeekYear()%100}),xn("gggg","weekYear"),xn("ggggg","weekYear"),xn("GGGG","isoWeekYear"),xn("GGGGG","isoWeekYear"),U("weekYear","gg"),U("isoWeekYear","GG"),V("weekYear",1),V("isoWeekYear",1),X("G",qi),X("g",qi),X("GG",ji,Hi),X("gg",ji,Hi),X("GGGG",Zi,Ei),X("gggg",Zi,Ei),X("GGGGG",Bi,Ii),X("ggggg",Bi,Ii),it(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,i){e[i.substr(0,2)]=D(t)}),it(["gg","GG"],function(t,n,i,s){n[s]=e.parseTwoDigitYear(t)}),B("Q",0,"Qo","quarter"),U("quarter","Q"),V("quarter",7),X("Q",Gi),nt("Q",function(t,e){e[is]=3*(D(t)-1)}),B("D",["DD",2],"Do","date"),U("date","D"),V("date",9),X("D",ji),X("DD",ji,Hi),X("Do",function(t,e){return t?e._ordinalParse:e._ordinalParseLenient}),nt(["D","DD"],ss),nt("Do",function(t,e){e[ss]=D(t.match(ji)[0],10)});var Zs=I("Date",!0);B("DDD",["DDDD",3],"DDDo","dayOfYear"),U("dayOfYear","DDD"),V("dayOfYear",4),X("DDD",zi),X("DDDD",Vi),nt(["DDD","DDDD"],function(t,e,n){n._dayOfYear=D(t)}),B("m",["mm",2],0,"minute"),U("minute","m"),V("minute",14),X("m",ji),X("mm",ji,Hi),nt(["m","mm"],as);var Bs=I("Minutes",!1);B("s",["ss",2],0,"second"),U("second","s"),V("second",15),X("s",ji),X("ss",ji,Hi),nt(["s","ss"],os);var $s=I("Seconds",!1);B("S",0,0,function(){return~~(this.millisecond()/100)}),B(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),B(0,["SSS",3],0,"millisecond"),B(0,["SSSS",4],0,function(){return 10*this.millisecond()}),B(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),B(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),B(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),B(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),B(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),U("millisecond","ms"),V("millisecond",16),X("S",zi,Gi),X("SS",zi,Hi),X("SSS",zi,Vi);var qs;for(qs="SSSS";qs.length<=9;qs+="S")X(qs,$i);for(qs="S";qs.length<=9;qs+="S")nt(qs,Un);var Js=I("Milliseconds",!1);B("z",0,0,"zoneAbbr"),B("zz",0,0,"zoneName");var Qs=p.prototype;Qs.add=Ns,Qs.calendar=$e,Qs.clone=qe,Qs.diff=nn,Qs.endOf=gn,Qs.format=un,Qs.from=ln,Qs.fromNow=hn,Qs.to=dn,Qs.toNow=cn,Qs.get=A,Qs.invalidAt=Yn,Qs.isAfter=Je,Qs.isBefore=Qe,Qs.isBetween=Xe,Qs.isSame=Ke,Qs.isSameOrAfter=tn,Qs.isSameOrBefore=en,Qs.isValid=kn,Qs.lang=zs,Qs.locale=fn,Qs.localeData=mn,Qs.max=Hs,Qs.min=Gs,Qs.parsingFlags=Sn,Qs.set=z,Qs.startOf=_n,Qs.subtract=As,Qs.toArray=wn,Qs.toObject=Dn,Qs.toDate=vn,Qs.toISOString=an,Qs.inspect=on,Qs.toJSON=Mn,Qs.toString=rn,Qs.unix=pn,Qs.valueOf=yn,Qs.creationData=bn,Qs.year=ys,Qs.isLeapYear=pt,Qs.weekYear=Fn,Qs.isoWeekYear=Tn,Qs.quarter=Qs.quarters=Cn,Qs.month=dt,Qs.daysInMonth=ct,Qs.week=Qs.weeks=Ft,Qs.isoWeek=Qs.isoWeeks=Tt,Qs.weeksInYear=Pn,Qs.isoWeeksInYear=On,Qs.date=Zs,Qs.day=Qs.days=Gt,Qs.weekday=Ht,Qs.isoWeekday=Vt,Qs.dayOfYear=Ln,Qs.hour=Qs.hours=xs,Qs.minute=Qs.minutes=Bs,Qs.second=Qs.seconds=$s,Qs.millisecond=Qs.milliseconds=Js,Qs.utcOffset=Oe,Qs.utc=We,Qs.local=Re,Qs.parseZone=Ce,Qs.hasAlignedHourOffset=Le,Qs.isDST=Ue,Qs.isLocal=He,Qs.isUtcOffset=Ve,Qs.isUtc=Ee,Qs.isUTC=Ee,Qs.zoneAbbr=Gn,Qs.zoneName=Hn,Qs.dates=S("dates accessor is deprecated. Use date instead.",Zs),Qs.months=S("months accessor is deprecated. Use month instead",dt),Qs.years=S("years accessor is deprecated. Use year instead",ys),Qs.zone=S("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Pe),Qs.isDSTShifted=S("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Ge);var Xs=T.prototype;Xs.calendar=O,Xs.longDateFormat=P,Xs.invalidDate=W,Xs.ordinal=R,Xs.preparse=In,Xs.postformat=In,Xs.relativeTime=C,Xs.pastFuture=L,Xs.set=x,Xs.months=at,Xs.monthsShort=ot,Xs.monthsParse=lt,Xs.monthsRegex=mt,Xs.monthsShortRegex=ft,Xs.week=Yt,Xs.firstDayOfYear=xt,Xs.firstDayOfWeek=bt,Xs.weekdays=Wt,Xs.weekdaysMin=Ct,Xs.weekdaysShort=Rt,Xs.weekdaysParse=Ut,Xs.weekdaysRegex=Et,Xs.weekdaysShortRegex=It,Xs.weekdaysMinRegex=jt,Xs.isPM=$t,Xs.meridiem=qt,Kt("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,n=1===D(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+n}}),e.lang=S("moment.lang is deprecated. Use moment.locale instead.",Kt),e.langData=S("moment.langData is deprecated. Use moment.localeData instead.",ne);var Ks=Math.abs,tr=ai("ms"),er=ai("s"),nr=ai("m"),ir=ai("h"),sr=ai("d"),rr=ai("w"),ar=ai("M"),or=ai("y"),ur=ui("milliseconds"),lr=ui("seconds"),hr=ui("minutes"),dr=ui("hours"),cr=ui("days"),fr=ui("months"),mr=ui("years"),_r=Math.round,gr={s:45,m:45,h:22,d:26,M:11},yr=Math.abs,pr=ke.prototype;return pr.abs=Jn,pr.add=Xn,pr.subtract=Kn,pr.as=si,pr.asMilliseconds=tr,pr.asSeconds=er,pr.asMinutes=nr,pr.asHours=ir,pr.asDays=sr,pr.asWeeks=rr,pr.asMonths=ar,pr.asYears=or,pr.valueOf=ri,pr._bubble=ei,pr.get=oi,pr.milliseconds=ur,pr.seconds=lr,pr.minutes=hr,pr.hours=dr,pr.days=cr,pr.weeks=li,pr.months=fr,pr.years=mr,pr.humanize=mi,pr.toISOString=_i,pr.toString=_i,pr.toJSON=_i,pr.locale=fn,pr.localeData=mn,pr.toIsoString=S("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",_i),pr.lang=zs,B("X",0,0,"unix"),B("x",0,0,"valueOf"),X("x",qi),X("X",Xi),nt("X",function(t,e,n){n._d=new Date(1e3*parseFloat(t,10))}),nt("x",function(t,e,n){n._d=new Date(D(t))}),e.version="2.17.0",n(ve),e.fn=Qs,e.min=De,e.max=Me,e.now=Vs,e.utc=d,e.unix=Vn,e.months=zn,e.isDate=o,e.locale=Kt,e.invalid=_,e.duration=Ie,e.isMoment=v,e.weekdays=Bn,e.parseZone=En,e.localeData=ne,e.isDuration=Se,e.monthsShort=Zn,e.weekdaysMin=qn,e.defineLocale=te,e.updateLocale=ee,e.locales=ie,e.weekdaysShort=$n,e.normalizeUnits=G,e.relativeTimeRounding=ci,e.relativeTimeThreshold=fi,e.calendarFormat=Be,e.prototype=Qs,e})}).call(e,n(1)(t))}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZmN0cy1leHQtZGF0ZXJhbmdlLWVzNS5taW4uanMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svYm9vdHN0cmFwIGY0YWUyNWJmYmE3YjdlNTc4YWQyIiwid2VicGFjazovLy8uL3NyYy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vKHdlYnBhY2spL2J1aWxkaW4vbW9kdWxlLmpzIiwid2VicGFjazovLy8uL3NyYy9mY3RzLWV4dC1kYXRlcmFuZ2UuanMiLCJ3ZWJwYWNrOi8vLy4vfi9tb21lbnQvbW9tZW50LmpzIl0sIm5hbWVzIjpbIm1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJpbnN0YWxsZWRNb2R1bGVzIiwiZXhwb3J0cyIsIm1vZHVsZSIsImlkIiwibG9hZGVkIiwiY2FsbCIsIm0iLCJjIiwicCIsIl90eXBlb2YiLCJTeW1ib2wiLCJpdGVyYXRvciIsIm9iaiIsImNvbnN0cnVjdG9yIiwicHJvdG90eXBlIiwiRGF0ZVJhbmdlIiwid2luZG93IiwiZHIiLCJlbnYiLCJmYWN0b3J5IiwiZG9jdW1lbnQiLCJ3aW4iLCJFcnJvciIsIkRhdGVSYW5nZUNob29zZXIiLCJ1bmRlZmluZWQiLCJfd2luZG93Iiwid2luZG93RXhpc3RzIiwiRkMiLCJGdXNpb25DaGFydHMiLCJyZWdpc3RlciIsInJlZ2lzdGVyQ29tcG9uZW50Iiwid2VicGFja1BvbHlmaWxsIiwiZGVwcmVjYXRlIiwicGF0aHMiLCJjaGlsZHJlbiIsIl9jbGFzc0NhbGxDaGVjayIsImluc3RhbmNlIiwiQ29uc3RydWN0b3IiLCJUeXBlRXJyb3IiLCJfY3JlYXRlQ2xhc3MiLCJkZWZpbmVQcm9wZXJ0aWVzIiwidGFyZ2V0IiwicHJvcHMiLCJpIiwibGVuZ3RoIiwiZGVzY3JpcHRvciIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5Iiwia2V5IiwicHJvdG9Qcm9wcyIsInN0YXRpY1Byb3BzIiwibW9tZW50IiwiZGVwIiwidGhpcyIsInN0YXJ0RHQiLCJlbmREdCIsInN0YXJ0RGF0YXNldCIsImVuZERhdGFzZXQiLCJ0b29sYm94IiwiZ2V0Q29tcG9uZW50IiwiSG9yaXpvbnRhbFRvb2xiYXIiLCJDb21wb25lbnRHcm91cCIsIlN5bWJvbFN0b3JlIiwic3RhcnRUZXh0IiwiYXR0ciIsImVuZFRleHQiLCJ2YWx1ZSIsImVwb2NoIiwic2VwYXJhdG9yIiwiRGF0ZSIsImZvcm1hdHRlZERhdGUiLCJnZXRVVENEYXRlIiwiZ2V0VVRDTW9udGgiLCJnZXRVVENGdWxsWWVhciIsImpvaW4iLCJ0ZW1wIiwiZGF0ZVJhbmdlIiwic3RhcnREYXRlIiwiZW5kRGF0ZSIsInRpbWVzdGFtcCIsImNoYXJ0IiwiZ2V0Rm9ybWF0dGVkRGF0ZSIsImRhdGVTdHJpbmciLCJnZXRUaW1lc3RhbXAiLCJjb25maWdPYmoiLCJjYWxlbmRhclZpc2libGUiLCJyZXF1aXJlIiwieEF4aXMiLCJ5QXhpcyIsImdyYXBoaWNzIiwiZGF0YXNldCIsInBsb3RNYW5hZ2VyIiwiY2FudmFzQ29uZmlnIiwibWFya2VyTWFuYWdlciIsInJlYWN0aXZlTW9kZWwiLCJnbG9iYWxSZWFjdGl2ZU1vZGVsIiwic3BhY2VNYW5hZ2VySW5zdGFuY2UiLCJleHREYXRhIiwic21hcnRMYWJlbCIsIm1vZGVsIiwidG9vbGJhcnMiLCJtZWFzdXJlbWVudCIsInB1c2giLCJjcmVhdGVUb29sYmFyIiwidG9vbGJhciIsImZyb21EYXRlTGFiZWwiLCJ0b0RhdGVMYWJlbCIsImdyb3VwIiwiZnJvbUZvcm1hdHRlZERhdGUiLCJ0b0Zvcm1hdHRlZERhdGUiLCJzZWxmIiwiZnJvbURhdGUiLCJ0b0RhdGUiLCJmb3JtYXQiLCJwYXBlciIsImNoYXJ0Q29udGFpbmVyIiwiY29udGFpbmVyIiwic2V0Q29uZmlnIiwiZmlsbCIsImJvcmRlclRoaWNrbmVzcyIsIkxhYmVsIiwidGV4dCIsInN0eWxlIiwiZm9udC1zaXplIiwiZm9udC1mYW1pbHkiLCJJbnB1dFRleHRCb3hTeW1ib2wiLCJ3aWR0aCIsImhlaWdodCIsInN0cm9rZVdpZHRoIiwic3Ryb2tlIiwic3ltYm9sU3Ryb2tlV2lkdGgiLCJyYWRpdXMiLCJtYXJnaW4iLCJyaWdodCIsImJ0blRleHRTdHlsZSIsImZvbnRTaXplIiwibGFiZWwiLCJsYWJlbEZpbGwiLCJzZXRTdGF0ZUNvbmZpZyIsInByZXNzZWQiLCJjb25maWciLCJzdHJva2Utd2lkdGgiLCJub3JtYWwiLCJob3ZlciIsImF0dGFjaEV2ZW50SGFuZGxlcnMiLCJjbGljayIsImZuIiwiZWRpdCIsInVwZGF0ZVZpc3VhbCIsInRleHRPbkJsdXIiLCJibHVyIiwiZ2V0VGV4dCIsIngiLCJ5IiwicmFkIiwidyIsImgiLCJwYWRYIiwicGFkWSIsIngxIiwieDIiLCJ5MSIsInkyIiwiYWRkU3ltYm9sIiwiYWRkQ29tcG9uZW50IiwiYXZhaWxhYmxlV2lkdGgiLCJhdmFpbGFibGVIZWlnaHQiLCJsb2dpY2FsU3BhY2UiLCJsbiIsImdldExvZ2ljYWxTcGFjZSIsIk1hdGgiLCJtYXgiLCJwYWRkaW5nIiwiYWRkIiwibmFtZSIsInJlZiIsInByaW9yaXR5IiwibGF5b3V0Iiwib3JpZW50YXRpb24iLCJ0eXBlIiwicG9zaXRpb24iLCJhbGlnbm1lbnQiLCJkaW1lbnNpb25zIiwicGFyZW50IiwiZ2V0UGFyZW50Q29tcG9uZW50R3JvdXAiLCJnZXRXaWR0aCIsImdldEhlaWdodCIsIm1lcyIsInBhcmVudEdyb3VwIiwiZHJhdyIsIm9uUHJvcHNDaGFuZ2UiLCJzdGFydCIsImVuZCIsImdldCIsInNldCIsInN0YXJ0VGltZXN0YW1wIiwicGFyc2VJbnQiLCJhYnNvbHV0ZVN0YXJ0IiwiY29uc29sZSIsImVycm9yIiwiZW5kVGltZXN0YW1wIiwiYWJzb2x1dGVFbmQiLCJnbG9iYWwiLCJob29rcyIsImhvb2tDYWxsYmFjayIsImFwcGx5IiwiYXJndW1lbnRzIiwic2V0SG9va0NhbGxiYWNrIiwiY2FsbGJhY2siLCJpc0FycmF5IiwiaW5wdXQiLCJBcnJheSIsInRvU3RyaW5nIiwiaXNPYmplY3QiLCJpc09iamVjdEVtcHR5IiwiayIsImlzTnVtYmVyIiwiaXNEYXRlIiwibWFwIiwiYXJyIiwicmVzIiwiaGFzT3duUHJvcCIsImEiLCJiIiwiaGFzT3duUHJvcGVydHkiLCJleHRlbmQiLCJ2YWx1ZU9mIiwiY3JlYXRlVVRDIiwibG9jYWxlIiwic3RyaWN0IiwiY3JlYXRlTG9jYWxPclVUQyIsInV0YyIsImRlZmF1bHRQYXJzaW5nRmxhZ3MiLCJlbXB0eSIsInVudXNlZFRva2VucyIsInVudXNlZElucHV0Iiwib3ZlcmZsb3ciLCJjaGFyc0xlZnRPdmVyIiwibnVsbElucHV0IiwiaW52YWxpZE1vbnRoIiwiaW52YWxpZEZvcm1hdCIsInVzZXJJbnZhbGlkYXRlZCIsImlzbyIsInBhcnNlZERhdGVQYXJ0cyIsIm1lcmlkaWVtIiwiZ2V0UGFyc2luZ0ZsYWdzIiwiX3BmIiwiaXNWYWxpZCIsIl9pc1ZhbGlkIiwiZmxhZ3MiLCJwYXJzZWRQYXJ0cyIsInNvbWUkMSIsImlzTm93VmFsaWQiLCJpc05hTiIsIl9kIiwiZ2V0VGltZSIsImludmFsaWRXZWVrZGF5IiwiX3N0cmljdCIsImJpZ0hvdXIiLCJpc0Zyb3plbiIsImNyZWF0ZUludmFsaWQiLCJOYU4iLCJpc1VuZGVmaW5lZCIsImNvcHlDb25maWciLCJ0byIsImZyb20iLCJwcm9wIiwidmFsIiwiX2lzQU1vbWVudE9iamVjdCIsIl9pIiwiX2YiLCJfbCIsIl90em0iLCJfaXNVVEMiLCJfb2Zmc2V0IiwiX2xvY2FsZSIsIm1vbWVudFByb3BlcnRpZXMiLCJNb21lbnQiLCJ1cGRhdGVJblByb2dyZXNzIiwidXBkYXRlT2Zmc2V0IiwiaXNNb21lbnQiLCJhYnNGbG9vciIsIm51bWJlciIsImNlaWwiLCJmbG9vciIsInRvSW50IiwiYXJndW1lbnRGb3JDb2VyY2lvbiIsImNvZXJjZWROdW1iZXIiLCJpc0Zpbml0ZSIsImNvbXBhcmVBcnJheXMiLCJhcnJheTEiLCJhcnJheTIiLCJkb250Q29udmVydCIsImxlbiIsIm1pbiIsImxlbmd0aERpZmYiLCJhYnMiLCJkaWZmcyIsIndhcm4iLCJtc2ciLCJzdXBwcmVzc0RlcHJlY2F0aW9uV2FybmluZ3MiLCJmaXJzdFRpbWUiLCJkZXByZWNhdGlvbkhhbmRsZXIiLCJhcmciLCJhcmdzIiwic2xpY2UiLCJzdGFjayIsImRlcHJlY2F0ZVNpbXBsZSIsImRlcHJlY2F0aW9ucyIsImlzRnVuY3Rpb24iLCJGdW5jdGlvbiIsIl9jb25maWciLCJfb3JkaW5hbFBhcnNlTGVuaWVudCIsIlJlZ0V4cCIsIl9vcmRpbmFsUGFyc2UiLCJzb3VyY2UiLCJtZXJnZUNvbmZpZ3MiLCJwYXJlbnRDb25maWciLCJjaGlsZENvbmZpZyIsIkxvY2FsZSIsImNhbGVuZGFyIiwibW9tIiwibm93Iiwib3V0cHV0IiwiX2NhbGVuZGFyIiwibG9uZ0RhdGVGb3JtYXQiLCJfbG9uZ0RhdGVGb3JtYXQiLCJmb3JtYXRVcHBlciIsInRvVXBwZXJDYXNlIiwicmVwbGFjZSIsImludmFsaWREYXRlIiwiX2ludmFsaWREYXRlIiwib3JkaW5hbCIsIl9vcmRpbmFsIiwicmVsYXRpdmVUaW1lIiwid2l0aG91dFN1ZmZpeCIsInN0cmluZyIsImlzRnV0dXJlIiwiX3JlbGF0aXZlVGltZSIsInBhc3RGdXR1cmUiLCJkaWZmIiwiYWRkVW5pdEFsaWFzIiwidW5pdCIsInNob3J0aGFuZCIsImxvd2VyQ2FzZSIsInRvTG93ZXJDYXNlIiwiYWxpYXNlcyIsIm5vcm1hbGl6ZVVuaXRzIiwidW5pdHMiLCJub3JtYWxpemVPYmplY3RVbml0cyIsImlucHV0T2JqZWN0Iiwibm9ybWFsaXplZFByb3AiLCJub3JtYWxpemVkSW5wdXQiLCJhZGRVbml0UHJpb3JpdHkiLCJwcmlvcml0aWVzIiwiZ2V0UHJpb3JpdGl6ZWRVbml0cyIsInVuaXRzT2JqIiwidSIsInNvcnQiLCJtYWtlR2V0U2V0Iiwia2VlcFRpbWUiLCJzZXQkMSIsInN0cmluZ0dldCIsInN0cmluZ1NldCIsInByaW9yaXRpemVkIiwiemVyb0ZpbGwiLCJ0YXJnZXRMZW5ndGgiLCJmb3JjZVNpZ24iLCJhYnNOdW1iZXIiLCJ6ZXJvc1RvRmlsbCIsInNpZ24iLCJwb3ciLCJzdWJzdHIiLCJhZGRGb3JtYXRUb2tlbiIsInRva2VuIiwicGFkZGVkIiwiZnVuYyIsImZvcm1hdFRva2VuRnVuY3Rpb25zIiwibG9jYWxlRGF0YSIsInJlbW92ZUZvcm1hdHRpbmdUb2tlbnMiLCJtYXRjaCIsIm1ha2VGb3JtYXRGdW5jdGlvbiIsImFycmF5IiwiZm9ybWF0dGluZ1Rva2VucyIsImZvcm1hdE1vbWVudCIsImV4cGFuZEZvcm1hdCIsImZvcm1hdEZ1bmN0aW9ucyIsInJlcGxhY2VMb25nRGF0ZUZvcm1hdFRva2VucyIsImxvY2FsRm9ybWF0dGluZ1Rva2VucyIsImxhc3RJbmRleCIsInRlc3QiLCJhZGRSZWdleFRva2VuIiwicmVnZXgiLCJzdHJpY3RSZWdleCIsInJlZ2V4ZXMiLCJpc1N0cmljdCIsImdldFBhcnNlUmVnZXhGb3JUb2tlbiIsInVuZXNjYXBlRm9ybWF0IiwicyIsInJlZ2V4RXNjYXBlIiwibWF0Y2hlZCIsInAxIiwicDIiLCJwMyIsInA0IiwiYWRkUGFyc2VUb2tlbiIsInRva2VucyIsImFkZFdlZWtQYXJzZVRva2VuIiwiX3ciLCJhZGRUaW1lVG9BcnJheUZyb21Ub2tlbiIsIl9hIiwiZGF5c0luTW9udGgiLCJ5ZWFyIiwibW9udGgiLCJVVEMiLCJsb2NhbGVNb250aHMiLCJfbW9udGhzIiwiaXNGb3JtYXQiLCJNT05USFNfSU5fRk9STUFUIiwibG9jYWxlTW9udGhzU2hvcnQiLCJfbW9udGhzU2hvcnQiLCJoYW5kbGVTdHJpY3RQYXJzZSIsIm1vbnRoTmFtZSIsImlpIiwibGxjIiwidG9Mb2NhbGVMb3dlckNhc2UiLCJfbW9udGhzUGFyc2UiLCJfbG9uZ01vbnRoc1BhcnNlIiwiX3Nob3J0TW9udGhzUGFyc2UiLCJtb250aHNTaG9ydCIsIm1vbnRocyIsImluZGV4T2YkMSIsImxvY2FsZU1vbnRoc1BhcnNlIiwiX21vbnRoc1BhcnNlRXhhY3QiLCJzZXRNb250aCIsImRheU9mTW9udGgiLCJtb250aHNQYXJzZSIsImRhdGUiLCJnZXRTZXRNb250aCIsImdldERheXNJbk1vbnRoIiwibW9udGhzU2hvcnRSZWdleCIsImNvbXB1dGVNb250aHNQYXJzZSIsIl9tb250aHNTaG9ydFN0cmljdFJlZ2V4IiwiX21vbnRoc1Nob3J0UmVnZXgiLCJkZWZhdWx0TW9udGhzU2hvcnRSZWdleCIsIm1vbnRoc1JlZ2V4IiwiX21vbnRoc1N0cmljdFJlZ2V4IiwiX21vbnRoc1JlZ2V4IiwiZGVmYXVsdE1vbnRoc1JlZ2V4IiwiY21wTGVuUmV2Iiwic2hvcnRQaWVjZXMiLCJsb25nUGllY2VzIiwibWl4ZWRQaWVjZXMiLCJkYXlzSW5ZZWFyIiwiaXNMZWFwWWVhciIsImdldElzTGVhcFllYXIiLCJjcmVhdGVEYXRlIiwiZCIsIk0iLCJtcyIsImdldEZ1bGxZZWFyIiwic2V0RnVsbFllYXIiLCJjcmVhdGVVVENEYXRlIiwic2V0VVRDRnVsbFllYXIiLCJmaXJzdFdlZWtPZmZzZXQiLCJkb3ciLCJkb3kiLCJmd2QiLCJmd2RsdyIsImdldFVUQ0RheSIsImRheU9mWWVhckZyb21XZWVrcyIsIndlZWsiLCJ3ZWVrZGF5IiwicmVzWWVhciIsInJlc0RheU9mWWVhciIsImxvY2FsV2Vla2RheSIsIndlZWtPZmZzZXQiLCJkYXlPZlllYXIiLCJ3ZWVrT2ZZZWFyIiwicmVzV2VlayIsIndlZWtzSW5ZZWFyIiwid2Vla09mZnNldE5leHQiLCJsb2NhbGVXZWVrIiwiX3dlZWsiLCJsb2NhbGVGaXJzdERheU9mV2VlayIsImxvY2FsZUZpcnN0RGF5T2ZZZWFyIiwiZ2V0U2V0V2VlayIsImdldFNldElTT1dlZWsiLCJwYXJzZVdlZWtkYXkiLCJ3ZWVrZGF5c1BhcnNlIiwicGFyc2VJc29XZWVrZGF5IiwibG9jYWxlV2Vla2RheXMiLCJfd2Vla2RheXMiLCJkYXkiLCJsb2NhbGVXZWVrZGF5c1Nob3J0IiwiX3dlZWtkYXlzU2hvcnQiLCJsb2NhbGVXZWVrZGF5c01pbiIsIl93ZWVrZGF5c01pbiIsImhhbmRsZVN0cmljdFBhcnNlJDEiLCJ3ZWVrZGF5TmFtZSIsIl93ZWVrZGF5c1BhcnNlIiwiX3Nob3J0V2Vla2RheXNQYXJzZSIsIl9taW5XZWVrZGF5c1BhcnNlIiwid2Vla2RheXNNaW4iLCJ3ZWVrZGF5c1Nob3J0Iiwid2Vla2RheXMiLCJsb2NhbGVXZWVrZGF5c1BhcnNlIiwiX3dlZWtkYXlzUGFyc2VFeGFjdCIsIl9mdWxsV2Vla2RheXNQYXJzZSIsImdldFNldERheU9mV2VlayIsImdldERheSIsImdldFNldExvY2FsZURheU9mV2VlayIsImdldFNldElTT0RheU9mV2VlayIsIndlZWtkYXlzUmVnZXgiLCJjb21wdXRlV2Vla2RheXNQYXJzZSIsIl93ZWVrZGF5c1N0cmljdFJlZ2V4IiwiX3dlZWtkYXlzUmVnZXgiLCJkZWZhdWx0V2Vla2RheXNSZWdleCIsIndlZWtkYXlzU2hvcnRSZWdleCIsIl93ZWVrZGF5c1Nob3J0U3RyaWN0UmVnZXgiLCJfd2Vla2RheXNTaG9ydFJlZ2V4IiwiZGVmYXVsdFdlZWtkYXlzU2hvcnRSZWdleCIsIndlZWtkYXlzTWluUmVnZXgiLCJfd2Vla2RheXNNaW5TdHJpY3RSZWdleCIsIl93ZWVrZGF5c01pblJlZ2V4IiwiZGVmYXVsdFdlZWtkYXlzTWluUmVnZXgiLCJtaW5wIiwic2hvcnRwIiwibG9uZ3AiLCJtaW5QaWVjZXMiLCJoRm9ybWF0IiwiaG91cnMiLCJrRm9ybWF0IiwibG93ZXJjYXNlIiwibWludXRlcyIsIm1hdGNoTWVyaWRpZW0iLCJfbWVyaWRpZW1QYXJzZSIsImxvY2FsZUlzUE0iLCJjaGFyQXQiLCJsb2NhbGVNZXJpZGllbSIsImlzTG93ZXIiLCJub3JtYWxpemVMb2NhbGUiLCJjaG9vc2VMb2NhbGUiLCJuYW1lcyIsImoiLCJuZXh0Iiwic3BsaXQiLCJsb2FkTG9jYWxlIiwib2xkTG9jYWxlIiwibG9jYWxlcyIsImdsb2JhbExvY2FsZSIsIl9hYmJyIiwiZSIsImNvZGUiLCJnZXRTZXRHbG9iYWxMb2NhbGUiLCJ2YWx1ZXMiLCJkYXRhIiwiZ2V0TG9jYWxlIiwiZGVmaW5lTG9jYWxlIiwiYmFzZUNvbmZpZyIsImFiYnIiLCJwYXJlbnRMb2NhbGUiLCJsb2NhbGVGYW1pbGllcyIsImZvckVhY2giLCJ1cGRhdGVMb2NhbGUiLCJsaXN0TG9jYWxlcyIsImtleXMkMSIsImNoZWNrT3ZlcmZsb3ciLCJNT05USCIsIkRBVEUiLCJZRUFSIiwiSE9VUiIsIk1JTlVURSIsIlNFQ09ORCIsIk1JTExJU0VDT05EIiwiX292ZXJmbG93RGF5T2ZZZWFyIiwiX292ZXJmbG93V2Vla3MiLCJXRUVLIiwiX292ZXJmbG93V2Vla2RheSIsIldFRUtEQVkiLCJjb25maWdGcm9tSVNPIiwibCIsImFsbG93VGltZSIsImRhdGVGb3JtYXQiLCJ0aW1lRm9ybWF0IiwidHpGb3JtYXQiLCJleHRlbmRlZElzb1JlZ2V4IiwiZXhlYyIsImJhc2ljSXNvUmVnZXgiLCJpc29EYXRlcyIsImlzb1RpbWVzIiwidHpSZWdleCIsImNvbmZpZ0Zyb21TdHJpbmdBbmRGb3JtYXQiLCJjb25maWdGcm9tU3RyaW5nIiwiYXNwTmV0SnNvblJlZ2V4IiwiY3JlYXRlRnJvbUlucHV0RmFsbGJhY2siLCJkZWZhdWx0cyIsImN1cnJlbnREYXRlQXJyYXkiLCJub3dWYWx1ZSIsIl91c2VVVEMiLCJnZXRNb250aCIsImdldERhdGUiLCJjb25maWdGcm9tQXJyYXkiLCJjdXJyZW50RGF0ZSIsInllYXJUb1VzZSIsImRheU9mWWVhckZyb21XZWVrSW5mbyIsIl9kYXlPZlllYXIiLCJfbmV4dERheSIsInNldFVUQ01pbnV0ZXMiLCJnZXRVVENNaW51dGVzIiwid2Vla1llYXIiLCJ3ZWVrZGF5T3ZlcmZsb3ciLCJHRyIsIlciLCJFIiwiY3JlYXRlTG9jYWwiLCJjdXJXZWVrIiwiZ2ciLCJJU09fODYwMSIsInBhcnNlZElucHV0Iiwic2tpcHBlZCIsInN0cmluZ0xlbmd0aCIsInRvdGFsUGFyc2VkSW5wdXRMZW5ndGgiLCJpbmRleE9mIiwiX21lcmlkaWVtIiwibWVyaWRpZW1GaXhXcmFwIiwiaG91ciIsImlzUG0iLCJtZXJpZGllbUhvdXIiLCJpc1BNIiwiY29uZmlnRnJvbVN0cmluZ0FuZEFycmF5IiwidGVtcENvbmZpZyIsImJlc3RNb21lbnQiLCJzY29yZVRvQmVhdCIsImN1cnJlbnRTY29yZSIsInNjb3JlIiwiY29uZmlnRnJvbU9iamVjdCIsIm1pbnV0ZSIsInNlY29uZCIsIm1pbGxpc2Vjb25kIiwiY3JlYXRlRnJvbUNvbmZpZyIsInByZXBhcmVDb25maWciLCJwcmVwYXJzZSIsImNvbmZpZ0Zyb21JbnB1dCIsImlzVVRDIiwicGlja0J5IiwibW9tZW50cyIsIkR1cmF0aW9uIiwiZHVyYXRpb24iLCJ5ZWFycyIsInF1YXJ0ZXJzIiwicXVhcnRlciIsIndlZWtzIiwiZGF5cyIsInNlY29uZHMiLCJtaWxsaXNlY29uZHMiLCJfbWlsbGlzZWNvbmRzIiwiX2RheXMiLCJfZGF0YSIsIl9idWJibGUiLCJpc0R1cmF0aW9uIiwiYWJzUm91bmQiLCJyb3VuZCIsIm9mZnNldCIsInV0Y09mZnNldCIsIm9mZnNldEZyb21TdHJpbmciLCJtYXRjaGVyIiwibWF0Y2hlcyIsImNodW5rIiwicGFydHMiLCJjaHVua09mZnNldCIsImNsb25lV2l0aE9mZnNldCIsImNsb25lIiwic2V0VGltZSIsImxvY2FsIiwiZ2V0RGF0ZU9mZnNldCIsImdldFRpbWV6b25lT2Zmc2V0IiwiZ2V0U2V0T2Zmc2V0Iiwia2VlcExvY2FsVGltZSIsImxvY2FsQWRqdXN0IiwibWF0Y2hTaG9ydE9mZnNldCIsIl9jaGFuZ2VJblByb2dyZXNzIiwiYWRkU3VidHJhY3QiLCJjcmVhdGVEdXJhdGlvbiIsImdldFNldFpvbmUiLCJzZXRPZmZzZXRUb1VUQyIsInNldE9mZnNldFRvTG9jYWwiLCJzdWJ0cmFjdCIsInNldE9mZnNldFRvUGFyc2VkT2Zmc2V0IiwidFpvbmUiLCJtYXRjaE9mZnNldCIsImhhc0FsaWduZWRIb3VyT2Zmc2V0IiwiaXNEYXlsaWdodFNhdmluZ1RpbWUiLCJpc0RheWxpZ2h0U2F2aW5nVGltZVNoaWZ0ZWQiLCJfaXNEU1RTaGlmdGVkIiwib3RoZXIiLCJ0b0FycmF5IiwiaXNMb2NhbCIsImlzVXRjT2Zmc2V0IiwiaXNVdGMiLCJyZXQiLCJkaWZmUmVzIiwiYXNwTmV0UmVnZXgiLCJpc29SZWdleCIsInBhcnNlSXNvIiwibW9tZW50c0RpZmZlcmVuY2UiLCJpbnAiLCJwYXJzZUZsb2F0IiwicG9zaXRpdmVNb21lbnRzRGlmZmVyZW5jZSIsImJhc2UiLCJpc0FmdGVyIiwiaXNCZWZvcmUiLCJjcmVhdGVBZGRlciIsImRpcmVjdGlvbiIsInBlcmlvZCIsImR1ciIsInRtcCIsImlzQWRkaW5nIiwiZ2V0Q2FsZW5kYXJGb3JtYXQiLCJteU1vbWVudCIsImNhbGVuZGFyJDEiLCJ0aW1lIiwiZm9ybWF0cyIsInNvZCIsInN0YXJ0T2YiLCJjYWxlbmRhckZvcm1hdCIsImxvY2FsSW5wdXQiLCJlbmRPZiIsImlzQmV0d2VlbiIsImluY2x1c2l2aXR5IiwiaXNTYW1lIiwiaW5wdXRNcyIsImlzU2FtZU9yQWZ0ZXIiLCJpc1NhbWVPckJlZm9yZSIsImFzRmxvYXQiLCJ0aGF0Iiwiem9uZURlbHRhIiwiZGVsdGEiLCJtb250aERpZmYiLCJhbmNob3IyIiwiYWRqdXN0Iiwid2hvbGVNb250aERpZmYiLCJhbmNob3IiLCJ0b0lTT1N0cmluZyIsImluc3BlY3QiLCJ6b25lIiwicHJlZml4IiwiZGF0ZXRpbWUiLCJzdWZmaXgiLCJpbnB1dFN0cmluZyIsImRlZmF1bHRGb3JtYXRVdGMiLCJkZWZhdWx0Rm9ybWF0IiwicG9zdGZvcm1hdCIsImh1bWFuaXplIiwiZnJvbU5vdyIsInRvTm93IiwibmV3TG9jYWxlRGF0YSIsImlzb1dlZWtkYXkiLCJ1bml4IiwidG9PYmplY3QiLCJ0b0pTT04iLCJpc1ZhbGlkJDEiLCJwYXJzaW5nRmxhZ3MiLCJpbnZhbGlkQXQiLCJjcmVhdGlvbkRhdGEiLCJhZGRXZWVrWWVhckZvcm1hdFRva2VuIiwiZ2V0dGVyIiwiZ2V0U2V0V2Vla1llYXIiLCJnZXRTZXRXZWVrWWVhckhlbHBlciIsImdldFNldElTT1dlZWtZZWFyIiwiaXNvV2VlayIsImdldElTT1dlZWtzSW5ZZWFyIiwiZ2V0V2Vla3NJblllYXIiLCJ3ZWVrSW5mbyIsIndlZWtzVGFyZ2V0Iiwic2V0V2Vla0FsbCIsImRheU9mWWVhckRhdGEiLCJnZXRTZXRRdWFydGVyIiwiZ2V0U2V0RGF5T2ZZZWFyIiwicGFyc2VNcyIsImdldFpvbmVBYmJyIiwiZ2V0Wm9uZU5hbWUiLCJjcmVhdGVVbml4IiwiY3JlYXRlSW5ab25lIiwicGFyc2Vab25lIiwicHJlUGFyc2VQb3N0Rm9ybWF0IiwiZ2V0JDEiLCJpbmRleCIsImZpZWxkIiwic2V0dGVyIiwibGlzdE1vbnRoc0ltcGwiLCJvdXQiLCJsaXN0V2Vla2RheXNJbXBsIiwibG9jYWxlU29ydGVkIiwic2hpZnQiLCJsaXN0TW9udGhzIiwibGlzdE1vbnRoc1Nob3J0IiwibGlzdFdlZWtkYXlzIiwibGlzdFdlZWtkYXlzU2hvcnQiLCJsaXN0V2Vla2RheXNNaW4iLCJtYXRoQWJzIiwiYWRkU3VidHJhY3QkMSIsImFkZCQxIiwic3VidHJhY3QkMSIsImFic0NlaWwiLCJidWJibGUiLCJtb250aHNGcm9tRGF5cyIsIm1vbnRoc1RvRGF5cyIsImRheXNUb01vbnRocyIsImFzIiwidmFsdWVPZiQxIiwibWFrZUFzIiwiYWxpYXMiLCJnZXQkMiIsIm1ha2VHZXR0ZXIiLCJzdWJzdGl0dXRlVGltZUFnbyIsInJlbGF0aXZlVGltZSQxIiwicG9zTmVnRHVyYXRpb24iLCJ0aHJlc2hvbGRzIiwiZ2V0U2V0UmVsYXRpdmVUaW1lUm91bmRpbmciLCJyb3VuZGluZ0Z1bmN0aW9uIiwiZ2V0U2V0UmVsYXRpdmVUaW1lVGhyZXNob2xkIiwidGhyZXNob2xkIiwibGltaXQiLCJ3aXRoU3VmZml4IiwidG9JU09TdHJpbmckMSIsImFicyQxIiwiWSIsIkQiLCJ0b3RhbCIsImFzU2Vjb25kcyIsInNvbWUiLCJmdW4iLCJ0Iiwia2V5cyIsImRlZmF1bHRDYWxlbmRhciIsInNhbWVEYXkiLCJuZXh0RGF5IiwibmV4dFdlZWsiLCJsYXN0RGF5IiwibGFzdFdlZWsiLCJzYW1lRWxzZSIsImRlZmF1bHRMb25nRGF0ZUZvcm1hdCIsIkxUUyIsIkxUIiwiTCIsIkxMIiwiTExMIiwiTExMTCIsImRlZmF1bHRJbnZhbGlkRGF0ZSIsImRlZmF1bHRPcmRpbmFsIiwiZGVmYXVsdE9yZGluYWxQYXJzZSIsImRlZmF1bHRSZWxhdGl2ZVRpbWUiLCJmdXR1cmUiLCJwYXN0IiwibW0iLCJoaCIsImRkIiwiTU0iLCJ5eSIsIm1hdGNoMSIsIm1hdGNoMiIsIm1hdGNoMyIsIm1hdGNoNCIsIm1hdGNoNiIsIm1hdGNoMXRvMiIsIm1hdGNoM3RvNCIsIm1hdGNoNXRvNiIsIm1hdGNoMXRvMyIsIm1hdGNoMXRvNCIsIm1hdGNoMXRvNiIsIm1hdGNoVW5zaWduZWQiLCJtYXRjaFNpZ25lZCIsIm1hdGNoVGltZXN0YW1wIiwibWF0Y2hXb3JkIiwibyIsImRlZmF1bHRMb2NhbGVNb250aHMiLCJkZWZhdWx0TG9jYWxlTW9udGhzU2hvcnQiLCJwYXJzZVR3b0RpZ2l0WWVhciIsImdldFNldFllYXIiLCJkZWZhdWx0TG9jYWxlV2VlayIsImRlZmF1bHRMb2NhbGVXZWVrZGF5cyIsImRlZmF1bHRMb2NhbGVXZWVrZGF5c1Nob3J0IiwiZGVmYXVsdExvY2FsZVdlZWtkYXlzTWluIiwiX2lzUG0iLCJwb3MiLCJwb3MxIiwicG9zMiIsImRlZmF1bHRMb2NhbGVNZXJpZGllbVBhcnNlIiwiZ2V0U2V0SG91ciIsIm9yZGluYWxQYXJzZSIsIm1lcmlkaWVtUGFyc2UiLCJwcm90b3R5cGVNaW4iLCJwcm90b3R5cGVNYXgiLCJsYW5nIiwiaXNvV2Vla1llYXIiLCJnZXRTZXREYXlPZk1vbnRoIiwiZ2V0U2V0TWludXRlIiwiZ2V0U2V0U2Vjb25kIiwiZ2V0U2V0TWlsbGlzZWNvbmQiLCJwcm90byIsImlzb1dlZWtzIiwiaXNvV2Vla3NJblllYXIiLCJpc0RTVCIsInpvbmVBYmJyIiwiem9uZU5hbWUiLCJkYXRlcyIsImlzRFNUU2hpZnRlZCIsInByb3RvJDEiLCJmaXJzdERheU9mWWVhciIsImZpcnN0RGF5T2ZXZWVrIiwibGFuZ0RhdGEiLCJhc01pbGxpc2Vjb25kcyIsImFzTWludXRlcyIsImFzSG91cnMiLCJhc0RheXMiLCJhc1dlZWtzIiwiYXNNb250aHMiLCJhc1llYXJzIiwicHJvdG8kMiIsInRvSXNvU3RyaW5nIiwidmVyc2lvbiIsImludmFsaWQiLCJyZWxhdGl2ZVRpbWVSb3VuZGluZyIsInJlbGF0aXZlVGltZVRocmVzaG9sZCJdLCJtYXBwaW5ncyI6IkNBQVMsU0FBVUEsR0NJbkIsUUFBQUMsR0FBQUMsR0FHQSxHQUFBQyxFQUFBRCxHQUNBLE1BQUFDLEdBQUFELEdBQUFFLE9BR0EsSUFBQUMsR0FBQUYsRUFBQUQsSUFDQUUsV0FDQUUsR0FBQUosRUFDQUssUUFBQSxFQVVBLE9BTkFQLEdBQUFFLEdBQUFNLEtBQUFILEVBQUFELFFBQUFDLElBQUFELFFBQUFILEdBR0FJLEVBQUFFLFFBQUEsRUFHQUYsRUFBQUQsUUF2QkEsR0FBQUQsS0FxQ0EsT0FUQUYsR0FBQVEsRUFBQVQsRUFHQUMsRUFBQVMsRUFBQVAsRUFHQUYsRUFBQVUsRUFBQSxHQUdBVixFQUFBLEtETU0sU0FBU0ksRUFBUUQsRUFBU0gsSUU1Q2hDLFNBQUFJLEdBQUEsWUZnREMsSUFBSU8sR0FBNEIsa0JBQVhDLFNBQW9ELGdCQUFwQkEsUUFBT0MsU0FBd0IsU0FBVUMsR0FBTyxhQUFjQSxJQUFTLFNBQVVBLEdBQU8sTUFBT0EsSUFBeUIsa0JBQVhGLFNBQXlCRSxFQUFJQyxjQUFnQkgsUUFBVUUsSUFBUUYsT0FBT0ksVUFBWSxlQUFrQkYsSUUvQ2pRRyxFQUFZakIsRUFBUSxFQUUxQmtCLFFBQU9DLEdBQUssR0FBSUYsR0FFZixTQUFXRyxFQUFLQyxHQUNPLFdBQWxCVixFQUFPUCxJQUF1QkEsRUFBT0QsUUFDdkNDLEVBQU9ELFFBQVVpQixFQUFJRSxTQUNoQkQsRUFBUUQsR0FBTyxTQUFVRyxHQUN6QixJQUFLQSxFQUFJRCxTQUNQLEtBQU0sSUFBSUUsT0FBTSxtQ0FFbEIsT0FBT0gsR0FBUUUsR0FBSyxJ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QUFqZixFQUFBLE9BRUFtTSxHQUFBLGFBQUFuTSxFQUFBNEssRUFBQWxQLEdBQ0FBLEVBQUFrSCxHQUFBLEdBQUF6TCxNQUFBd04sRUFBQTNFLE1BTUFQLEVBQUE4c0IsUUFBQSxTQUVBMXNCLEVBQUF3WixJQUVBNVosRUFBQXpELEdBQUFrdkIsR0FDQXpyQixFQUFBMkYsT0FDQTNGLEVBQUFoQyxPQUNBZ0MsRUFBQXVILE9BQ0F2SCxFQUFBNEIsSUFBQUosRUFDQXhCLEVBQUEyaUIsS0FBQXdCLEdBQ0Fua0IsRUFBQW1PLE9BQUE2VyxHQUNBaGxCLEVBQUFjLFNBQ0FkLEVBQUF5QixPQUFBc1UsR0FDQS9WLEVBQUErc0IsUUFBQXRwQixFQUNBekQsRUFBQTZiLFNBQUFtQyxHQUNBaGUsRUFBQTZFLFdBQ0E3RSxFQUFBOFMsU0FBQW9TLEdBQ0FsbEIsRUFBQXFrQixVQUFBRCxHQUNBcGtCLEVBQUErSyxXQUFBbUwsR0FDQWxXLEVBQUF5YyxjQUNBemMsRUFBQWtPLFlBQUErVyxHQUNBamxCLEVBQUE0UyxZQUFBd1MsR0FDQXBsQixFQUFBbVcsZ0JBQ0FuVyxFQUFBeVcsZ0JBQ0F6VyxFQUFBMFYsUUFBQWdCLEdBQ0ExVyxFQUFBNlMsY0FBQXNTLEdBQ0FubEIsRUFBQWdKLGlCQUNBaEosRUFBQWd0QixxQkFBQXhHLEdBQ0F4bUIsRUFBQWl0QixzQkFBQXZHLEdBQ0ExbUIsRUFBQTBnQixlQUFBUCxHQUNBbmdCLEVBQUFoTSxVQUFBeTNCLEdBRUF6ckIsTUxxb0I4QnpNLEtBQUtKLEVBQVNILEVBQW9CLEdBQUdJIiwiZmlsZSI6ImZjdHMtZXh0LWRhdGVyYW5nZS1lczUubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqKioqKi8gKGZ1bmN0aW9uKG1vZHVsZXMpIHsgLy8gd2VicGFja0Jvb3RzdHJhcFxuLyoqKioqKi8gXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuLyoqKioqKi8gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuLyoqKioqKi8gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKVxuLyoqKioqKi8gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4vKioqKioqLyBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuLyoqKioqKi8gXHRcdFx0ZXhwb3J0czoge30sXG4vKioqKioqLyBcdFx0XHRpZDogbW9kdWxlSWQsXG4vKioqKioqLyBcdFx0XHRsb2FkZWQ6IGZhbHNlXG4vKioqKioqLyBcdFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4vKioqKioqLyBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbi8qKioqKiovIFx0XHRtb2R1bGUubG9hZGVkID0gdHJ1ZTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbi8qKioqKiovIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4vKioqKioqLyBcdH1cbi8qKioqKiovXG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbi8qKioqKiovIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oMCk7XG4vKioqKioqLyB9KVxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKioqKiovIChbXG4vKiAwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24obW9kdWxlKSB7J3VzZSBzdHJpY3QnO1xuXHRcblx0dmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9O1xuXHRcblx0dmFyIERhdGVSYW5nZSA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cdFxuXHR3aW5kb3cuZHIgPSBuZXcgRGF0ZVJhbmdlKCk7XG5cdFxuXHQ7KGZ1bmN0aW9uIChlbnYsIGZhY3RvcnkpIHtcblx0ICBpZiAoKCBmYWxzZSA/ICd1bmRlZmluZWQnIDogX3R5cGVvZihtb2R1bGUpKSA9PT0gJ29iamVjdCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcblx0ICAgIG1vZHVsZS5leHBvcnRzID0gZW52LmRvY3VtZW50ID8gZmFjdG9yeShlbnYpIDogZnVuY3Rpb24gKHdpbikge1xuXHQgICAgICBpZiAoIXdpbi5kb2N1bWVudCkge1xuXHQgICAgICAgIHRocm93IG5ldyBFcnJvcignV2luZG93IHdpdGggZG9jdW1lbnQgbm90IHByZXNlbnQnKTtcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gZmFjdG9yeSh3aW4sIHRydWUpO1xuXHQgICAgfTtcblx0ICB9IGVsc2Uge1xuXHQgICAgZW52LkRhdGVSYW5nZUNob29zZXIgPSBmYWN0b3J5KGVudiwgdHJ1ZSk7XG5cdCAgfVxuXHR9KSh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6IHVuZGVmaW5lZCwgZnVuY3Rpb24gKF93aW5kb3csIHdpbmRvd0V4aXN0cykge1xuXHQgIHZhciBGQyA9IF93aW5kb3cuRnVzaW9uQ2hhcnRzO1xuXHQgIEZDLnJlZ2lzdGVyKCdleHRlbnNpb24nLCBbJ3ByaXZhdGUnLCAnZGF0ZS1yYW5nZS1jaG9vc2VyJywgZnVuY3Rpb24gKCkge1xuXHQgICAgRkMucmVnaXN0ZXJDb21wb25lbnQoJ2V4dGVuc2lvbnMnLCAnZGF0ZS1yYW5nZS1jaG9vc2VyJywgRGF0ZVJhbmdlKHsgRnVzaW9uQ2hhcnRzOiBGQyB9KSk7XG5cdCAgfV0pO1xuXHR9KTtcblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18oMSkobW9kdWxlKSkpXG5cbi8qKiovIH0sXG4vKiAxICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuXHRcdGlmKCFtb2R1bGUud2VicGFja1BvbHlmaWxsKSB7XG5cdFx0XHRtb2R1bGUuZGVwcmVjYXRlID0gZnVuY3Rpb24oKSB7fTtcblx0XHRcdG1vZHVsZS5wYXRocyA9IFtdO1xuXHRcdFx0Ly8gbW9kdWxlLnBhcmVudCA9IHVuZGVmaW5lZCBieSBkZWZhdWx0XG5cdFx0XHRtb2R1bGUuY2hpbGRyZW4gPSBbXTtcblx0XHRcdG1vZHVsZS53ZWJwYWNrUG9seWZpbGwgPSAxO1xuXHRcdH1cblx0XHRyZXR1cm4gbW9kdWxlO1xuXHR9XG5cblxuLyoqKi8gfSxcbi8qIDIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0LyoqXG5cdCAqIENsYXNzIHJlcHJlc2VudGluZyB0aGUgRGF0ZVJhbmdlLlxuXHQgKi9cblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cdFxuXHRmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXHRcblx0dmFyIG1vbWVudCA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChkZXApIHtcblx0ICB2YXIgRGF0ZVJhbmdlID0gZnVuY3Rpb24gKCkge1xuXHQgICAgZnVuY3Rpb24gRGF0ZVJhbmdlKCkge1xuXHQgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRGF0ZVJhbmdlKTtcblx0XG5cdCAgICAgIC8qKlxuXHQgICAgICAgKiBAcHJpdmF0ZVxuXHQgICAgICAgKi9cblx0XG5cdCAgICAgIHRoaXMuc3RhcnREdCA9IDA7XG5cdCAgICAgIHRoaXMuZW5kRHQgPSAwO1xuXHQgICAgICB0aGlzLnN0YXJ0RGF0YXNldCA9IDA7XG5cdCAgICAgIHRoaXMuZW5kRGF0YXNldCA9IDA7XG5cdCAgICAgIHRoaXMudG9vbGJveCA9IGRlcC5GdXNpb25DaGFydHMuZ2V0Q29tcG9uZW50KCdhcGknLCAndG9vbGJveCcpO1xuXHQgICAgICB0aGlzLkhvcml6b250YWxUb29sYmFyID0gdGhpcy50b29sYm94Lkhvcml6b250YWxUb29sYmFyO1xuXHQgICAgICB0aGlzLkNvbXBvbmVudEdyb3VwID0gdGhpcy50b29sYm94LkNvbXBvbmVudEdyb3VwO1xuXHQgICAgICB0aGlzLlN5bWJvbFN0b3JlID0gdGhpcy50b29sYm94LlN5bWJvbFN0b3JlO1xuXHQgICAgICB0aGlzLnN0YXJ0VGV4dCA9IHtcblx0ICAgICAgICBhdHRyOiBmdW5jdGlvbiBhdHRyKCkge31cblx0ICAgICAgfTtcblx0ICAgICAgdGhpcy5lbmRUZXh0ID0ge1xuXHQgICAgICAgIGF0dHI6IGZ1bmN0aW9uIGF0dHIoKSB7fVxuXHQgICAgICB9O1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogQW4gb2JqZWN0IHJlcHJlc2VudGluZyB0aGUgc3RhcnQgYW5kIGVuZCBkYXRlcy5cblx0ICAgICAqIEB0eXBlIHtEYXRlUmFuZ2UucmFuZ2V9XG5cdCAgICAgKi9cblx0XG5cdFxuXHQgICAgX2NyZWF0ZUNsYXNzKERhdGVSYW5nZSwgW3tcblx0ICAgICAga2V5OiAnZGF0ZUZvcm1hdHRlcicsXG5cdCAgICAgIHZhbHVlOiBmdW5jdGlvbiBkYXRlRm9ybWF0dGVyKGVwb2NoLCBzZXBhcmF0b3IpIHtcblx0ICAgICAgICBlcG9jaCA9IG5ldyBEYXRlKGVwb2NoKTtcblx0ICAgICAgICB2YXIgZm9ybWF0dGVkRGF0ZSA9IFtlcG9jaC5nZXRVVENEYXRlKCksIGVwb2NoLmdldFVUQ01vbnRoKCkgKyAxLCBlcG9jaC5nZXRVVENGdWxsWWVhcigpXTtcblx0ICAgICAgICBmb3JtYXR0ZWREYXRlID0gZm9ybWF0dGVkRGF0ZS5qb2luKHNlcGFyYXRvcik7XG5cdCAgICAgICAgcmV0dXJuIGZvcm1hdHRlZERhdGU7XG5cdCAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAga2V5OiAnc3dhcERhdGVzJyxcblx0XG5cdFxuXHQgICAgICAvKipcblx0ICAgICAgICogU3dhcHMgdGhlIHN0YXJ0IGRhdGUgYW5kIHRoZSBlbmQgZGF0ZSBvZiB0aGUgZGF0ZSByYW5nZVxuXHQgICAgICAgKiBAcHJpdmF0ZVxuXHQgICAgICAgKi9cblx0ICAgICAgdmFsdWU6IGZ1bmN0aW9uIHN3YXBEYXRlcygpIHtcblx0ICAgICAgICB2YXIgdGVtcCA9IHRoaXMuZGF0ZVJhbmdlLnN0YXJ0RGF0ZTtcblx0ICAgICAgICB0aGlzLmRhdGVSYW5nZS5zdGFydERhdGUgPSB0aGlzLmRhdGVSYW5nZS5lbmREYXRlO1xuXHQgICAgICAgIHRoaXMuZGF0ZVJhbmdlLmVuZERhdGUgPSB0ZW1wO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICAvKipcblx0ICAgICAgICogU3luY3MgdGhlIGRhdGVyYW5nZSBzaG93biBieSB0aGUgRnVzaW9uQ2hhcnRzIHRpbWUgc2VyaWVzIGNoYXJ0IGFuZCB0aGUgRGF0ZSBSYW5nZSBDaG9vc2VyXG5cdCAgICAgICAqIEBwcml2YXRlXG5cdCAgICAgICAqL1xuXHRcblx0ICAgIH0sIHtcblx0ICAgICAga2V5OiAnc3luY1JhbmdlJyxcblx0ICAgICAgdmFsdWU6IGZ1bmN0aW9uIHN5bmNSYW5nZSgpIHt9XG5cdFxuXHQgICAgICAvKipcblx0ICAgICAgICogUmV0dXJucyBhIGZvcm1hdHRlZCBkYXRlIHN0cmluZyBmcm9tIEZ1c2lvbkNoYXJ0cyB3aGVuIGdpdmVuIGEgVU5JWCB0aW1lc3RhbXBcblx0ICAgICAgICogQHBhcmFtICB7bnVtYmVyfSB0aW1lc3RhbXAgLSBBIFVOSVggdGltZXN0YW1wIHRvIGJlIGNvbnZlcnRlZCB0byBhIGRhdGUgc3RyaW5nXG5cdCAgICAgICAqIEByZXR1cm4ge3N0cmluZ30gLSBBIGRhdGUgc3RyaW5nIHdoaWNoIGlzIGVxdWl2YWxlbnQgdG8gdGhlIGdpdmVuIHRpbWVzdGFtcFxuXHQgICAgICAgKi9cblx0XG5cdCAgICB9LCB7XG5cdCAgICAgIGtleTogJ2dldEZvcm1hdHRlZERhdGUnLFxuXHQgICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Rm9ybWF0dGVkRGF0ZSh0aW1lc3RhbXApIHtcblx0ICAgICAgICByZXR1cm4gdGhpcy5jaGFydC5nZXRGb3JtYXR0ZWREYXRlKHRpbWVzdGFtcCk7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIC8qKlxuXHQgICAgICAgKiBSZXR1cm5zIGEgVU5JWCB0aW1lc3RhbXAgZnJvbSBGdXNpb25DaGFydHMgd2hlbiBnaXZlbiBhIGZvcm1hdHRlZCBkYXRlIHN0cmluZ1xuXHQgICAgICAgKiBAcGFyYW0gIHtzdHJpbmd9IGRhdGVTdHJpbmcgLSBBIGRhdGUgc3RyaW5nIHRvIGJlIGNvbnZlcnRlZCB0byBhIFVOSVggdGltZXN0YW1wXG5cdCAgICAgICAqIEByZXR1cm4ge251bWJlcn0gQSBVTklYIHRpbWVzdGFtcCB3aGljaCBpcyBlcXVpdmFsZW50IHRvIHRoZSBnaXZlbiBkYXRlIHN0cmluZ1xuXHQgICAgICAgKi9cblx0XG5cdCAgICB9LCB7XG5cdCAgICAgIGtleTogJ2dldFRpbWVzdGFtcCcsXG5cdCAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRUaW1lc3RhbXAoZGF0ZVN0cmluZykge1xuXHQgICAgICAgIHJldHVybiB0aGlzLmNoYXJ0LmdldFRpbWVzdGFtcChkYXRlU3RyaW5nKTtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgLyoqXG5cdCAgICAgICAqIFNldHMgdGhlIGNvbmZpZ3VyYWJsZSBvcHRpb25zIG9mIHRoZSBleHRlbnNpb24gKGUuZy4gY29zbWV0aWNzKVxuXHQgICAgICAgKiBAcGFyYW0ge09iamVjdH0gY29uZmlnT2JqIFRoZSBjb25maWd1cmF0aW9uIG9iamVjdCBjb250YWluaW5nIHZhcmlvdXMgZXh0ZW5zaW9uIG9wdGlvbnNcblx0ICAgICAgICovXG5cdFxuXHQgICAgfSwge1xuXHQgICAgICBrZXk6ICdzZXRDb25maWcnLFxuXHQgICAgICB2YWx1ZTogZnVuY3Rpb24gc2V0Q29uZmlnKGNvbmZpZ09iaikge31cblx0XG5cdCAgICAgIC8qKlxuXHQgICAgICAgKiBHZXRzIHRoZSBjb25maWd1cmFibGUgb3B0aW9ucyBvZiB0aGUgZXh0ZW5zaW9uIChlLmcuIGNvc21ldGljcylcblx0ICAgICAgICogQHJldHVybiB7b2JqZWN0fSBjb25maWdPYmogVGhlIGNvbmZpZ3VyYXRpb24gb2JqZWN0IGNvbnRhaW5pbmcgdmFyaW91cyBleHRlbnNpb24gb3B0aW9uc1xuXHQgICAgICAgKi9cblx0XG5cdCAgICB9LCB7XG5cdCAgICAgIGtleTogJ2dldENvbmZpZycsXG5cdCAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRDb25maWcoKSB7XG5cdCAgICAgICAgcmV0dXJuIHtcblx0ICAgICAgICAgIGNhbGVuZGFyVmlzaWJsZTogJ2ZhbHNlJ1xuXHQgICAgICAgIH07XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIC8qKlxuXHQgICAgICAgKiBGdXNpb25jaGFydHMgbGlmZSBjeWNsZSBtZXRob2QgZm9yIGV4dGVuc2lvblxuXHQgICAgICAgKi9cblx0XG5cdCAgICB9LCB7XG5cdCAgICAgIGtleTogJ2luaXQnLFxuXHQgICAgICB2YWx1ZTogZnVuY3Rpb24gaW5pdChyZXF1aXJlKSB7XG5cdCAgICAgICAgdmFyIGluc3RhbmNlID0gdGhpcztcblx0ICAgICAgICByZXF1aXJlKFsneEF4aXMnLCAneUF4aXMnLCAnZ3JhcGhpY3MnLCAnY2hhcnQnLCAnZGF0YXNldCcsICdQbG90TWFuYWdlcicsICdjYW52YXNDb25maWcnLCAnTWFya2VyTWFuYWdlcicsICdyZWFjdGl2ZU1vZGVsJywgJ2dsb2JhbFJlYWN0aXZlTW9kZWwnLCAnc3BhY2VNYW5hZ2VySW5zdGFuY2UnLCAnZXh0RGF0YScsICdzbWFydExhYmVsJywgZnVuY3Rpb24gKHhBeGlzLCB5QXhpcywgZ3JhcGhpY3MsIGNoYXJ0LCBkYXRhc2V0LCBwbG90TWFuYWdlciwgY2FudmFzQ29uZmlnLCBtYXJrZXJNYW5hZ2VyLCByZWFjdGl2ZU1vZGVsLCBnbG9iYWxSZWFjdGl2ZU1vZGVsLCBzcGFjZU1hbmFnZXJJbnN0YW5jZSwgZXh0RGF0YSwgc21hcnRMYWJlbCkge1xuXHQgICAgICAgICAgaW5zdGFuY2UuZXh0RGF0YSA9IGV4dERhdGE7XG5cdCAgICAgICAgICBpbnN0YW5jZS54QXhpcyA9IHhBeGlzO1xuXHQgICAgICAgICAgaW5zdGFuY2UueUF4aXMgPSB5QXhpcztcblx0ICAgICAgICAgIGluc3RhbmNlLmdyYXBoaWNzID0gZ3JhcGhpY3M7XG5cdCAgICAgICAgICBpbnN0YW5jZS5jaGFydCA9IGNoYXJ0O1xuXHQgICAgICAgICAgaW5zdGFuY2UuZGF0YXNldCA9IGRhdGFzZXQ7XG5cdCAgICAgICAgICBpbnN0YW5jZS5wbG90TWFuYWdlciA9IHBsb3RNYW5hZ2VyO1xuXHQgICAgICAgICAgaW5zdGFuY2UubWFya2VyTWFuYWdlciA9IG1hcmtlck1hbmFnZXI7XG5cdCAgICAgICAgICBpbnN0YW5jZS5jYW52YXNDb25maWcgPSBjYW52YXNDb25maWc7XG5cdCAgICAgICAgICBpbnN0YW5jZS5yZWFjdGl2ZU1vZGVsID0gcmVhY3RpdmVNb2RlbDtcblx0ICAgICAgICAgIGluc3RhbmNlLmdsb2JhbFJlYWN0aXZlTW9kZWwgPSBnbG9iYWxSZWFjdGl2ZU1vZGVsO1xuXHQgICAgICAgICAgaW5zdGFuY2Uuc3BhY2VNYW5hZ2VySW5zdGFuY2UgPSBzcGFjZU1hbmFnZXJJbnN0YW5jZTtcblx0ICAgICAgICAgIGluc3RhbmNlLnNtYXJ0TGFiZWwgPSBzbWFydExhYmVsO1xuXHQgICAgICAgIH1dKTtcblx0ICAgICAgICB0aGlzLnNwYWNlTWFuYWdlckluc3RhbmNlID0gaW5zdGFuY2Uuc3BhY2VNYW5hZ2VySW5zdGFuY2U7XG5cdCAgICAgICAgdGhpcy5nbG9iYWxSZWFjdGl2ZU1vZGVsID0gaW5zdGFuY2UuZ2xvYmFsUmVhY3RpdmVNb2RlbDtcblx0ICAgICAgICB0aGlzLnN0YXJ0RHQgPSBpbnN0YW5jZS5nbG9iYWxSZWFjdGl2ZU1vZGVsLm1vZGVsWyd4LWF4aXMtdmlzaWJsZS1yYW5nZS1zdGFydCddO1xuXHQgICAgICAgIHRoaXMuZW5kRHQgPSBpbnN0YW5jZS5nbG9iYWxSZWFjdGl2ZU1vZGVsLm1vZGVsWyd4LWF4aXMtdmlzaWJsZS1yYW5nZS1lbmQnXTtcblx0ICAgICAgICB0aGlzLnN0YXJ0RGF0YXNldCA9IGluc3RhbmNlLmdsb2JhbFJlYWN0aXZlTW9kZWwubW9kZWxbJ3gtYXhpcy1hYnNvbHV0ZS1yYW5nZS1zdGFydCddO1xuXHQgICAgICAgIHRoaXMuZW5kRGF0YXNldCA9IGluc3RhbmNlLmdsb2JhbFJlYWN0aXZlTW9kZWwubW9kZWxbJ3gtYXhpcy1hYnNvbHV0ZS1yYW5nZS1lbmQnXTtcblx0ICAgICAgICB0aGlzLnRvb2xiYXJzID0gW107XG5cdCAgICAgICAgdGhpcy5tZWFzdXJlbWVudCA9IHt9O1xuXHQgICAgICAgIHRoaXMudG9vbGJhcnMucHVzaCh0aGlzLmNyZWF0ZVRvb2xiYXIoKSk7XG5cdCAgICAgICAgcmV0dXJuIHRoaXM7XG5cdCAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAga2V5OiAnY3JlYXRlVG9vbGJhcicsXG5cdCAgICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVUb29sYmFyKCkge1xuXHQgICAgICAgIHZhciB0b29sYmFyLFxuXHQgICAgICAgICAgICBzZWxmID0gdGhpcyxcblx0ICAgICAgICAgICAgZnJvbURhdGVMYWJlbCxcblx0ICAgICAgICAgICAgdG9EYXRlTGFiZWwsXG5cdCAgICAgICAgICAgIGdyb3VwLFxuXHQgICAgICAgICAgICBmcm9tRm9ybWF0dGVkRGF0ZSxcblx0ICAgICAgICAgICAgdG9Gb3JtYXR0ZWREYXRlO1xuXHRcblx0ICAgICAgICBzZWxmLmZyb21EYXRlID0ge307XG5cdCAgICAgICAgc2VsZi50b0RhdGUgPSB7fTtcblx0XG5cdCAgICAgICAgZnJvbUZvcm1hdHRlZERhdGUgPSBtb21lbnQodGhpcy5zdGFydER0LCAneCcpLmZvcm1hdCgnREQtTU0tWVlZWScpO1xuXHRcblx0ICAgICAgICB0b0Zvcm1hdHRlZERhdGUgPSBtb21lbnQodGhpcy5lbmREdCwgJ3gnKS5mb3JtYXQoJ0RELU1NLVlZWVknKTtcblx0ICAgICAgICB0b29sYmFyID0gbmV3IHRoaXMuSG9yaXpvbnRhbFRvb2xiYXIoe1xuXHQgICAgICAgICAgcGFwZXI6IHRoaXMuZ3JhcGhpY3MucGFwZXIsXG5cdCAgICAgICAgICBjaGFydDogdGhpcy5jaGFydCxcblx0ICAgICAgICAgIHNtYXJ0TGFiZWw6IHRoaXMuc21hcnRMYWJlbCxcblx0ICAgICAgICAgIGNoYXJ0Q29udGFpbmVyOiB0aGlzLmdyYXBoaWNzLmNvbnRhaW5lclxuXHQgICAgICAgIH0pO1xuXHRcblx0ICAgICAgICB0b29sYmFyLnNldENvbmZpZyh7XG5cdCAgICAgICAgICAnZmlsbCc6ICcjRkZGRkZGJyxcblx0ICAgICAgICAgICdib3JkZXJUaGlja25lc3MnOiAwXG5cdCAgICAgICAgfSk7XG5cdFxuXHQgICAgICAgIGdyb3VwID0gbmV3IHRoaXMudG9vbGJveC5Db21wb25lbnRHcm91cCh7XG5cdCAgICAgICAgICBwYXBlcjogdGhpcy5ncmFwaGljcy5wYXBlcixcblx0ICAgICAgICAgIGNoYXJ0OiB0aGlzLmNoYXJ0LFxuXHQgICAgICAgICAgc21hcnRMYWJlbDogdGhpcy5zbWFydExhYmVsLFxuXHQgICAgICAgICAgY2hhcnRDb250YWluZXI6IHRoaXMuZ3JhcGhpY3MuY29udGFpbmVyXG5cdCAgICAgICAgfSk7XG5cdFxuXHQgICAgICAgIGdyb3VwLnNldENvbmZpZyh7XG5cdCAgICAgICAgICAnZmlsbCc6ICcjRkZGRkZGJyxcblx0ICAgICAgICAgICdib3JkZXJUaGlja25lc3MnOiAwXG5cdCAgICAgICAgfSk7XG5cdFxuXHQgICAgICAgIGZyb21EYXRlTGFiZWwgPSBuZXcgdGhpcy50b29sYm94LkxhYmVsKCdGcm9tOicsIHtcblx0ICAgICAgICAgIHNtYXJ0TGFiZWw6IHRoaXMuc21hcnRMYWJlbCxcblx0ICAgICAgICAgIHBhcGVyOiB0aGlzLmdyYXBoaWNzLnBhcGVyXG5cdCAgICAgICAgfSwge1xuXHQgICAgICAgICAgdGV4dDoge1xuXHQgICAgICAgICAgICBzdHlsZToge1xuXHQgICAgICAgICAgICAgICdmb250LXNpemUnOiAnMTMnLFxuXHQgICAgICAgICAgICAgICdmb250LWZhbWlseSc6ICdcIkx1Y2lkYSBHcmFuZGVcIiwgc2Fucy1zZXJpZicsXG5cdCAgICAgICAgICAgICAgLy8gJ2ZvbnQtd2VpZ2h0JzogJ2JvbGQnLFxuXHQgICAgICAgICAgICAgICdmaWxsJzogJyM0QjRCNEInXG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9KTtcblx0XG5cdCAgICAgICAgdG9EYXRlTGFiZWwgPSBuZXcgdGhpcy50b29sYm94LkxhYmVsKCdUbzonLCB7XG5cdCAgICAgICAgICBzbWFydExhYmVsOiB0aGlzLnNtYXJ0TGFiZWwsXG5cdCAgICAgICAgICBwYXBlcjogdGhpcy5ncmFwaGljcy5wYXBlclxuXHQgICAgICAgIH0sIHtcblx0ICAgICAgICAgIHRleHQ6IHtcblx0ICAgICAgICAgICAgc3R5bGU6IHtcblx0ICAgICAgICAgICAgICAnZm9udC1zaXplJzogJzEzJyxcblx0ICAgICAgICAgICAgICAnZm9udC1mYW1pbHknOiAnXCJMdWNpZGEgR3JhbmRlXCIsIHNhbnMtc2VyaWYnLFxuXHQgICAgICAgICAgICAgIC8vICdmb250LXdlaWdodCc6ICdib2xkJyxcblx0ICAgICAgICAgICAgICAnZmlsbCc6ICcjNEI0QjRCJ1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfSk7XG5cdFxuXHQgICAgICAgIHNlbGYuZnJvbURhdGUgPSBuZXcgdGhpcy50b29sYm94LklucHV0VGV4dEJveFN5bWJvbCh7XG5cdCAgICAgICAgICB3aWR0aDogMTIwLFxuXHQgICAgICAgICAgaGVpZ2h0OiAyMlxuXHQgICAgICAgIH0sIHtcblx0ICAgICAgICAgIHBhcGVyOiB0aGlzLmdyYXBoaWNzLnBhcGVyLFxuXHQgICAgICAgICAgY2hhcnQ6IHRoaXMuY2hhcnQsXG5cdCAgICAgICAgICBzbWFydExhYmVsOiB0aGlzLnNtYXJ0TGFiZWwsXG5cdCAgICAgICAgICBjaGFydENvbnRhaW5lcjogdGhpcy5ncmFwaGljcy5jb250YWluZXJcblx0ICAgICAgICB9LCB7XG5cdCAgICAgICAgICAnc3Ryb2tlV2lkdGgnOiAxLFxuXHQgICAgICAgICAgJ3N0cm9rZSc6ICcjY2VkNWQ0Jyxcblx0ICAgICAgICAgICdzeW1ib2xTdHJva2VXaWR0aCc6IDAsXG5cdCAgICAgICAgICAncmFkaXVzJzogMixcblx0ICAgICAgICAgICdtYXJnaW4nOiB7XG5cdCAgICAgICAgICAgICdyaWdodCc6IDIyXG5cdCAgICAgICAgICB9LFxuXHQgICAgICAgICAgJ2J0blRleHRTdHlsZSc6IHtcblx0ICAgICAgICAgICAgJ2ZvbnQtZmFtaWx5JzogJ1wiTHVjaWRhIEdyYW5kZVwiLCBzYW5zLXNlcmlmJyxcblx0ICAgICAgICAgICAgJ2ZvbnRTaXplJzogMTNcblx0ICAgICAgICAgIH0sXG5cdCAgICAgICAgICAnbGFiZWwnOiBmcm9tRm9ybWF0dGVkRGF0ZSxcblx0ICAgICAgICAgIC8vICdjdXN0b21Db25maWcnOiB7XG5cdCAgICAgICAgICAvLyAgICdlcnJvcmVkJzoge1xuXHQgICAgICAgICAgLy8gICAgICdob3Zlcic6IHtcblx0ICAgICAgICAgIC8vICAgICAgICdmaWxsJzogJyNGRkVGRUYnLFxuXHQgICAgICAgICAgLy8gICAgICAgJ3N0cm9rZS13aWR0aCc6IDEsXG5cdCAgICAgICAgICAvLyAgICAgICAnc3Ryb2tlJzogJyNEMjUzNTMnXG5cdCAgICAgICAgICAvLyAgICAgfSxcblx0ICAgICAgICAgIC8vICAgICAnbm9ybWFsJzoge1xuXHQgICAgICAgICAgLy8gICAgICAgJ2ZpbGwnOiAnI0ZGRUZFRicsXG5cdCAgICAgICAgICAvLyAgICAgICAnc3Ryb2tlLXdpZHRoJzogMSxcblx0ICAgICAgICAgIC8vICAgICAgICdzdHJva2UnOiAnI0QyNTM1Mydcblx0ICAgICAgICAgIC8vICAgICB9LFxuXHQgICAgICAgICAgLy8gICAgICdwcmVzc2VkJzoge1xuXHQgICAgICAgICAgLy8gICAgICAgJ2ZpbGwnOiAnI0ZGRUZFRicsXG5cdCAgICAgICAgICAvLyAgICAgICAnc3Ryb2tlLXdpZHRoJzogMSxcblx0ICAgICAgICAgIC8vICAgICAgICdzdHJva2UnOiAnI0QyNTM1Mydcblx0ICAgICAgICAgIC8vICAgICB9XG5cdCAgICAgICAgICAvLyAgIH1cblx0ICAgICAgICAgIC8vIH0sXG5cdCAgICAgICAgICAnbGFiZWxGaWxsJzogJyM2OTY5NjknXG5cdCAgICAgICAgfSk7XG5cdFxuXHQgICAgICAgIHNlbGYuZnJvbURhdGUuc2V0U3RhdGVDb25maWcoe1xuXHQgICAgICAgICAgcHJlc3NlZDoge1xuXHQgICAgICAgICAgICBjb25maWc6IHtcblx0ICAgICAgICAgICAgICBwcmVzc2VkOiB7XG5cdCAgICAgICAgICAgICAgICAnZmlsbCc6ICcjRkZGRkZGJyxcblx0ICAgICAgICAgICAgICAgICdzdHJva2Utd2lkdGgnOiAxLFxuXHQgICAgICAgICAgICAgICAgJ3N0cm9rZSc6ICcjMUUxRjFGJ1xuXHQgICAgICAgICAgICAgIH0sXG5cdCAgICAgICAgICAgICAgbm9ybWFsOiB7XG5cdCAgICAgICAgICAgICAgICAnZmlsbCc6ICcjRkZGRkZGJyxcblx0ICAgICAgICAgICAgICAgICdzdHJva2Utd2lkdGgnOiAxLFxuXHQgICAgICAgICAgICAgICAgJ3N0cm9rZSc6ICcjMUUxRjFGJ1xuXHQgICAgICAgICAgICAgIH0sXG5cdCAgICAgICAgICAgICAgaG92ZXI6IHtcblx0ICAgICAgICAgICAgICAgICdmaWxsJzogJyNGRkZGRkYnLFxuXHQgICAgICAgICAgICAgICAgJ3N0cm9rZS13aWR0aCc6IDEsXG5cdCAgICAgICAgICAgICAgICAvLyAnc3Ryb2tlJzogJyMxRTFGMUYnXG5cdCAgICAgICAgICAgICAgICAnc3Ryb2tlJzogJyMwMDAwRkYnXG5cdCAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfSk7XG5cdFxuXHQgICAgICAgIHNlbGYudG9EYXRlID0gbmV3IHRoaXMudG9vbGJveC5JbnB1dFRleHRCb3hTeW1ib2woe1xuXHQgICAgICAgICAgd2lkdGg6IDEyMCxcblx0ICAgICAgICAgIGhlaWdodDogMjJcblx0ICAgICAgICB9LCB7XG5cdCAgICAgICAgICBwYXBlcjogdGhpcy5ncmFwaGljcy5wYXBlcixcblx0ICAgICAgICAgIGNoYXJ0OiB0aGlzLmNoYXJ0LFxuXHQgICAgICAgICAgc21hcnRMYWJlbDogdGhpcy5zbWFydExhYmVsLFxuXHQgICAgICAgICAgY2hhcnRDb250YWluZXI6IHRoaXMuZ3JhcGhpY3MuY29udGFpbmVyXG5cdCAgICAgICAgfSwge1xuXHQgICAgICAgICAgJ3N0cm9rZVdpZHRoJzogMSxcblx0ICAgICAgICAgICdzdHJva2UnOiAnI2NlZDVkNCcsXG5cdCAgICAgICAgICAnc3ltYm9sU3Ryb2tlV2lkdGgnOiAwLFxuXHQgICAgICAgICAgJ3JhZGl1cyc6IDIsXG5cdCAgICAgICAgICAnYnRuVGV4dFN0eWxlJzoge1xuXHQgICAgICAgICAgICAnZm9udC1mYW1pbHknOiAnXCJMdWNpZGEgR3JhbmRlXCIsIHNhbnMtc2VyaWYnLFxuXHQgICAgICAgICAgICAnZm9udFNpemUnOiAxM1xuXHQgICAgICAgICAgfSxcblx0ICAgICAgICAgICdsYWJlbCc6IHRvRm9ybWF0dGVkRGF0ZSxcblx0ICAgICAgICAgIC8vICdjdXN0b21Db25maWcnOiB7XG5cdCAgICAgICAgICAvLyAgICdlcnJvcmVkJzoge1xuXHQgICAgICAgICAgLy8gICAgICdob3Zlcic6IHtcblx0ICAgICAgICAgIC8vICAgICAgICdmaWxsJzogJyNGRkVGRUYnLFxuXHQgICAgICAgICAgLy8gICAgICAgJ3N0cm9rZS13aWR0aCc6IDEsXG5cdCAgICAgICAgICAvLyAgICAgICAnc3Ryb2tlJzogJyNEMjUzNTMnXG5cdCAgICAgICAgICAvLyAgICAgfSxcblx0ICAgICAgICAgIC8vICAgICAnbm9ybWFsJzoge1xuXHQgICAgICAgICAgLy8gICAgICAgJ2ZpbGwnOiAnI0ZGRUZFRicsXG5cdCAgICAgICAgICAvLyAgICAgICAnc3Ryb2tlLXdpZHRoJzogMSxcblx0ICAgICAgICAgIC8vICAgICAgICdzdHJva2UnOiAnI0QyNTM1Mydcblx0ICAgICAgICAgIC8vICAgICB9LFxuXHQgICAgICAgICAgLy8gICAgICdwcmVzc2VkJzoge1xuXHQgICAgICAgICAgLy8gICAgICAgJ2ZpbGwnOiAnI0ZGRUZFRicsXG5cdCAgICAgICAgICAvLyAgICAgICAnc3Ryb2tlLXdpZHRoJzogMSxcblx0ICAgICAgICAgIC8vICAgICAgICdzdHJva2UnOiAnI0QyNTM1Mydcblx0ICAgICAgICAgIC8vICAgICB9XG5cdCAgICAgICAgICAvLyAgIH1cblx0ICAgICAgICAgIC8vIH0sXG5cdCAgICAgICAgICAnbGFiZWxGaWxsJzogJyM2OTY5NjknXG5cdCAgICAgICAgfSk7XG5cdFxuXHQgICAgICAgIHNlbGYudG9EYXRlLnNldFN0YXRlQ29uZmlnKHtcblx0ICAgICAgICAgIHByZXNzZWQ6IHtcblx0ICAgICAgICAgICAgY29uZmlnOiB7XG5cdCAgICAgICAgICAgICAgcHJlc3NlZDoge1xuXHQgICAgICAgICAgICAgICAgJ2ZpbGwnOiAnI0ZGRkZGRicsXG5cdCAgICAgICAgICAgICAgICAnc3Ryb2tlLXdpZHRoJzogMSxcblx0ICAgICAgICAgICAgICAgICdzdHJva2UnOiAnIzFFMUYxRidcblx0ICAgICAgICAgICAgICB9LFxuXHQgICAgICAgICAgICAgIG5vcm1hbDoge1xuXHQgICAgICAgICAgICAgICAgJ2ZpbGwnOiAnI0ZGRkZGRicsXG5cdCAgICAgICAgICAgICAgICAnc3Ryb2tlLXdpZHRoJzogMSxcblx0ICAgICAgICAgICAgICAgICdzdHJva2UnOiAnIzFFMUYxRidcblx0ICAgICAgICAgICAgICB9LFxuXHQgICAgICAgICAgICAgIGhvdmVyOiB7XG5cdCAgICAgICAgICAgICAgICAnZmlsbCc6ICcjRkZGRkZGJyxcblx0ICAgICAgICAgICAgICAgICdzdHJva2Utd2lkdGgnOiAxLFxuXHQgICAgICAgICAgICAgICAgJ3N0cm9rZSc6ICcjMUUxRjFGJ1xuXHQgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH0pO1xuXHRcblx0ICAgICAgICBzZWxmLmZyb21EYXRlLmF0dGFjaEV2ZW50SGFuZGxlcnMoe1xuXHQgICAgICAgICAgY2xpY2s6IHtcblx0ICAgICAgICAgICAgZm46IGZ1bmN0aW9uIGZuKCkge1xuXHQgICAgICAgICAgICAgIHNlbGYuZnJvbURhdGUuZWRpdCgpO1xuXHQgICAgICAgICAgICAgIHNlbGYuZnJvbURhdGUudXBkYXRlVmlzdWFsKCdwcmVzc2VkJyk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgIH0sXG5cdCAgICAgICAgICB0ZXh0T25CbHVyOiBmdW5jdGlvbiB0ZXh0T25CbHVyKCkge1xuXHQgICAgICAgICAgICBzZWxmLmZyb21EYXRlLmJsdXIoKTtcblx0ICAgICAgICAgICAgc2VsZi5zdGFydERhdGUgPSBzZWxmLmZyb21EYXRlLmdldFRleHQoKTtcblx0ICAgICAgICAgICAgc2VsZi5mcm9tRGF0ZS51cGRhdGVWaXN1YWwoJ2VuYWJsZWQnKTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9KTtcblx0XG5cdCAgICAgICAgc2VsZi50b0RhdGUuYXR0YWNoRXZlbnRIYW5kbGVycyh7XG5cdCAgICAgICAgICBjbGljazoge1xuXHQgICAgICAgICAgICBmbjogZnVuY3Rpb24gZm4oKSB7XG5cdCAgICAgICAgICAgICAgc2VsZi50b0RhdGUuZWRpdCgpO1xuXHQgICAgICAgICAgICAgIHNlbGYudG9EYXRlLnVwZGF0ZVZpc3VhbCgncHJlc3NlZCcpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICB9LFxuXHQgICAgICAgICAgdGV4dE9uQmx1cjogZnVuY3Rpb24gdGV4dE9uQmx1cigpIHtcblx0ICAgICAgICAgICAgc2VsZi50b0RhdGUuYmx1cigpO1xuXHQgICAgICAgICAgICBzZWxmLmVuZERhdGUgPSBzZWxmLnRvRGF0ZS5nZXRUZXh0KCk7XG5cdCAgICAgICAgICAgIHNlbGYudG9EYXRlLnVwZGF0ZVZpc3VhbCgnZW5hYmxlZCcpO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH0pO1xuXHRcblx0ICAgICAgICAvLyBUZW1wb3JhcnkuIFJlcXVpcmVkIHRvIHJlbmRlciB0aGUgdGV4dCBib3ggY29ycmVjdGx5LiBDb21tZW50aW5nIHRoaXMgb3V0IGRpc3RvcnRzIHRvb2xib3guXG5cdCAgICAgICAgdGhpcy5TeW1ib2xTdG9yZS5yZWdpc3RlcigndGV4dEJveEljb24nLCBmdW5jdGlvbiAoeCwgeSwgcmFkLCB3LCBoLCBwYWRYLCBwYWRZKSB7XG5cdCAgICAgICAgICB2YXIgeDEgPSB4IC0gdyAvIDIgKyBwYWRYIC8gMixcblx0ICAgICAgICAgICAgICB4MiA9IHggKyB3IC8gMiAtIHBhZFggLyAyLFxuXHQgICAgICAgICAgICAgIHkxID0geSAtIGggLyAyICsgcGFkWSAvIDIsXG5cdCAgICAgICAgICAgICAgeTIgPSB5ICsgaCAvIDIgLSBwYWRZIC8gMjtcblx0XG5cdCAgICAgICAgICByZXR1cm4gWydNJywgeDEsIHkxLCAnTCcsIHgyLCB5MSwgJ0wnLCB4MiwgeTIsICdMJywgeDEsIHkyLCAnWiddO1xuXHQgICAgICAgIH0pO1xuXHRcblx0ICAgICAgICBncm91cC5hZGRTeW1ib2woZnJvbURhdGVMYWJlbCk7XG5cdCAgICAgICAgZ3JvdXAuYWRkU3ltYm9sKHNlbGYuZnJvbURhdGUpO1xuXHQgICAgICAgIGdyb3VwLmFkZFN5bWJvbCh0b0RhdGVMYWJlbCk7XG5cdCAgICAgICAgZ3JvdXAuYWRkU3ltYm9sKHNlbGYudG9EYXRlKTtcblx0ICAgICAgICB0b29sYmFyLmFkZENvbXBvbmVudChncm91cCk7XG5cdCAgICAgICAgcmV0dXJuIHRvb2xiYXI7XG5cdCAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAga2V5OiAnZ2V0TG9naWNhbFNwYWNlJyxcblx0ICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldExvZ2ljYWxTcGFjZShhdmFpbGFibGVXaWR0aCwgYXZhaWxhYmxlSGVpZ2h0KSB7XG5cdCAgICAgICAgdmFyIGxvZ2ljYWxTcGFjZSxcblx0ICAgICAgICAgICAgd2lkdGggPSAwLFxuXHQgICAgICAgICAgICBoZWlnaHQgPSAwLFxuXHQgICAgICAgICAgICBpLFxuXHQgICAgICAgICAgICBsbjtcblx0XG5cdCAgICAgICAgYXZhaWxhYmxlV2lkdGggLz0gMjtcblx0XG5cdCAgICAgICAgZm9yIChpID0gMCwgbG4gPSB0aGlzLnRvb2xiYXJzLmxlbmd0aDsgaSA8IGxuOyBpKyspIHtcblx0ICAgICAgICAgIGxvZ2ljYWxTcGFjZSA9IHRoaXMudG9vbGJhcnNbaV0uZ2V0TG9naWNhbFNwYWNlKGF2YWlsYWJsZVdpZHRoLCBhdmFpbGFibGVIZWlnaHQpO1xuXHQgICAgICAgICAgd2lkdGggPSBNYXRoLm1heChsb2dpY2FsU3BhY2Uud2lkdGgsIHdpZHRoKTtcblx0ICAgICAgICAgIGhlaWdodCArPSBsb2dpY2FsU3BhY2UuaGVpZ2h0O1xuXHQgICAgICAgICAgdGhpcy50b29sYmFyc1tpXS53aWR0aCA9IGxvZ2ljYWxTcGFjZS53aWR0aDtcblx0ICAgICAgICAgIHRoaXMudG9vbGJhcnNbaV0uaGVpZ2h0ID0gbG9naWNhbFNwYWNlLmhlaWdodDtcblx0ICAgICAgICB9XG5cdCAgICAgICAgaGVpZ2h0ICs9IHRoaXMucGFkZGluZztcblx0ICAgICAgICByZXR1cm4ge1xuXHQgICAgICAgICAgd2lkdGg6IHdpZHRoLFxuXHQgICAgICAgICAgaGVpZ2h0OiBoZWlnaHRcblx0ICAgICAgICB9O1xuXHQgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgIGtleTogJ3BsYWNlSW5DYW52YXMnLFxuXHQgICAgICB2YWx1ZTogZnVuY3Rpb24gcGxhY2VJbkNhbnZhcygpIHtcblx0ICAgICAgICB2YXIgX3NlbGYgPSB0aGlzO1xuXHQgICAgICAgIF9zZWxmLnBhZGRpbmcgPSA1O1xuXHQgICAgICAgIF9zZWxmLnNwYWNlTWFuYWdlckluc3RhbmNlLmFkZChbe1xuXHQgICAgICAgICAgbmFtZTogZnVuY3Rpb24gbmFtZSgpIHtcblx0ICAgICAgICAgICAgcmV0dXJuICdEYXRlUmFuZ2VDaG9vc2VyVG9vbGJveCc7XG5cdCAgICAgICAgICB9LFxuXHQgICAgICAgICAgcmVmOiBmdW5jdGlvbiByZWYob2JqKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBvYmpbJzAnXTtcblx0ICAgICAgICAgIH0sXG5cdCAgICAgICAgICBzZWxmOiBmdW5jdGlvbiBzZWxmKCkge1xuXHQgICAgICAgICAgICByZXR1cm4gX3NlbGY7XG5cdCAgICAgICAgICB9LFxuXHQgICAgICAgICAgcHJpb3JpdHk6IGZ1bmN0aW9uIHByaW9yaXR5KCkge1xuXHQgICAgICAgICAgICByZXR1cm4gMjtcblx0ICAgICAgICAgIH0sXG5cdCAgICAgICAgICBsYXlvdXQ6IGZ1bmN0aW9uIGxheW91dChvYmopIHtcblx0ICAgICAgICAgICAgcmV0dXJuIG9ialtfc2VsZi5leHREYXRhLmxheW91dF0gfHwgb2JqWydpbmxpbmUnXTtcblx0ICAgICAgICAgIH0sXG5cdCAgICAgICAgICBvcmllbnRhdGlvbjogW3tcblx0ICAgICAgICAgICAgdHlwZTogZnVuY3Rpb24gdHlwZShvYmopIHtcblx0ICAgICAgICAgICAgICByZXR1cm4gb2JqW19zZWxmLmV4dERhdGEub3JpZW50YXRpb25dIHx8IG9ialsnaG9yaXpvbnRhbCddO1xuXHQgICAgICAgICAgICB9LFxuXHQgICAgICAgICAgICBwb3NpdGlvbjogW3tcblx0ICAgICAgICAgICAgICB0eXBlOiBmdW5jdGlvbiB0eXBlKG9iaikge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIG9ialtfc2VsZi5leHREYXRhLnBvc2l0aW9uXSB8fCBvYmpbJ3RvcCddO1xuXHQgICAgICAgICAgICAgIH0sXG5cdCAgICAgICAgICAgICAgYWxpZ25tZW50OiBbe1xuXHQgICAgICAgICAgICAgICAgdHlwZTogZnVuY3Rpb24gdHlwZShvYmopIHtcblx0ICAgICAgICAgICAgICAgICAgcmV0dXJuIG9ialtfc2VsZi5leHREYXRhLmFsaWdubWVudF0gfHwgb2JqWydyaWdodCddO1xuXHQgICAgICAgICAgICAgICAgfSxcblx0ICAgICAgICAgICAgICAgIGRpbWVuc2lvbnM6IFtmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgICAgICAgIHZhciBwYXJlbnQgPSB0aGlzLmdldFBhcmVudENvbXBvbmVudEdyb3VwKCk7XG5cdCAgICAgICAgICAgICAgICAgIHJldHVybiBfc2VsZi5nZXRMb2dpY2FsU3BhY2UocGFyZW50LmdldFdpZHRoKCksIHBhcmVudC5nZXRIZWlnaHQoKSk7XG5cdCAgICAgICAgICAgICAgICB9XVxuXHQgICAgICAgICAgICAgIH1dXG5cdCAgICAgICAgICAgIH1dXG5cdCAgICAgICAgICB9XVxuXHQgICAgICAgIH1dKTtcblx0ICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICBrZXk6ICdzZXREcmF3aW5nQ29uZmlndXJhdGlvbicsXG5cdCAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZXREcmF3aW5nQ29uZmlndXJhdGlvbih4LCB5LCB3aWR0aCwgaGVpZ2h0LCBncm91cCkge1xuXHQgICAgICAgIHZhciBtZXMgPSB0aGlzLm1lYXN1cmVtZW50O1xuXHQgICAgICAgIG1lcy54ID0geDtcblx0ICAgICAgICBtZXMueSA9IHk7XG5cdCAgICAgICAgbWVzLndpZHRoID0gd2lkdGg7XG5cdCAgICAgICAgbWVzLmhlaWdodCA9IGhlaWdodDtcblx0XG5cdCAgICAgICAgdGhpcy5wYXJlbnRHcm91cCA9IGdyb3VwO1xuXHRcblx0ICAgICAgICByZXR1cm4gdGhpcztcblx0ICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICBrZXk6ICdkcmF3Jyxcblx0ICAgICAgdmFsdWU6IGZ1bmN0aW9uIGRyYXcoeCwgeSwgd2lkdGgsIGhlaWdodCwgZ3JvdXApIHtcblx0ICAgICAgICB2YXIgbWVhc3VyZW1lbnQgPSB0aGlzLm1lYXN1cmVtZW50LFxuXHQgICAgICAgICAgICB0b29sYmFycyA9IHRoaXMudG9vbGJhcnMsXG5cdCAgICAgICAgICAgIGxuLFxuXHQgICAgICAgICAgICBpLFxuXHQgICAgICAgICAgICB0b29sYmFyLFxuXHQgICAgICAgICAgICBtb2RlbCA9IHRoaXMuZ2xvYmFsUmVhY3RpdmVNb2RlbCxcblx0ICAgICAgICAgICAgc2VsZiA9IHRoaXM7XG5cdFxuXHQgICAgICAgIHggPSB4ID09PSB1bmRlZmluZWQgPyBtZWFzdXJlbWVudC54IDogeDtcblx0ICAgICAgICB5ID0geSA9PT0gdW5kZWZpbmVkID8gbWVhc3VyZW1lbnQueSA6IHk7XG5cdCAgICAgICAgd2lkdGggPSB3aWR0aCA9PT0gdW5kZWZpbmVkID8gbWVhc3VyZW1lbnQud2lkdGggOiB3aWR0aDtcblx0ICAgICAgICBoZWlnaHQgPSBoZWlnaHQgPT09IHVuZGVmaW5lZCA/IG1lYXN1cmVtZW50LmhlaWdodCA6IGhlaWdodDtcblx0ICAgICAgICBncm91cCA9IGdyb3VwID09PSB1bmRlZmluZWQgPyB0aGlzLnBhcmVudEdyb3VwIDogZ3JvdXA7XG5cdCAgICAgICAgaWYgKHdpZHRoICYmIGhlaWdodCkge1xuXHQgICAgICAgICAgZm9yIChpID0gMCwgbG4gPSB0b29sYmFycy5sZW5ndGg7IGkgPCBsbjsgaSsrKSB7XG5cdCAgICAgICAgICAgIHRvb2xiYXIgPSB0b29sYmFyc1tpXTtcblx0ICAgICAgICAgICAgdG9vbGJhci5kcmF3KHgsIHksIGdyb3VwKTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIG1vZGVsLm9uUHJvcHNDaGFuZ2UoWyd4LWF4aXMtdmlzaWJsZS1yYW5nZS1zdGFydCcsICd4LWF4aXMtdmlzaWJsZS1yYW5nZS1lbmQnXSwgZnVuY3Rpb24gKHN0YXJ0LCBlbmQpIHtcblx0ICAgICAgICAgIC8vIHNlbGYuZnJvbURhdGUuYmx1cihuZXcgRGF0ZShzdGFydFsxXSkudG9Mb2NhbGVEYXRlU3RyaW5nKCkpO1xuXHQgICAgICAgICAgLy8gc2VsZi50b0RhdGUuYmx1cihuZXcgRGF0ZShlbmRbMV0pLnRvTG9jYWxlRGF0ZVN0cmluZygpKTtcblx0ICAgICAgICAgIHNlbGYuZnJvbURhdGUuYmx1cihtb21lbnQoc3RhcnRbMV0sICd4JykuZm9ybWF0KCdERC1NTS1ZWVlZJykpO1xuXHQgICAgICAgICAgc2VsZi50b0RhdGUuYmx1cihtb21lbnQoZW5kWzFdLCAneCcpLmZvcm1hdCgnREQtTU0tWVlZWScpKTtcblx0ICAgICAgICB9KTtcblx0ICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICBrZXk6ICdzdGFydERhdGUnLFxuXHQgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcblx0ICAgICAgICByZXR1cm4gdGhpcy5zdGFydER0O1xuXHQgICAgICB9LFxuXHQgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChzdGFydER0KSB7XG5cdCAgICAgICAgdmFyIHN0YXJ0VGltZXN0YW1wID0gcGFyc2VJbnQobW9tZW50KHN0YXJ0RHQsICdERC1NTS1ZWVlZJykuZm9ybWF0KCd4JykpLFxuXHQgICAgICAgICAgICBhYnNvbHV0ZVN0YXJ0ID0gdGhpcy5nbG9iYWxSZWFjdGl2ZU1vZGVsLm1vZGVsWyd4LWF4aXMtYWJzb2x1dGUtcmFuZ2Utc3RhcnQnXTtcblx0ICAgICAgICBpZiAoc3RhcnRUaW1lc3RhbXAgPD0gdGhpcy5lbmREdCAmJiBzdGFydFRpbWVzdGFtcCA+PSBhYnNvbHV0ZVN0YXJ0KSB7XG5cdCAgICAgICAgICB0aGlzLnN0YXJ0RHQgPSBzdGFydFRpbWVzdGFtcDtcblx0ICAgICAgICAgIHRoaXMuZ2xvYmFsUmVhY3RpdmVNb2RlbC5tb2RlbFsneC1heGlzLXZpc2libGUtcmFuZ2Utc3RhcnQnXSA9IHRoaXMuc3RhcnREdDtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgLy8gdGhpcy5mcm9tRGF0ZS51cGRhdGVWaXN1YWwoJ2Vycm9yZWQnKTtcblx0ICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Zyb20gRGF0ZSBlcnJvciBzdGF0ZSEnKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAga2V5OiAnZW5kRGF0ZScsXG5cdCAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuXHQgICAgICAgIHJldHVybiB0aGlzLmVuZER0O1xuXHQgICAgICB9LFxuXHQgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChlbmREdCkge1xuXHQgICAgICAgIHZhciBlbmRUaW1lc3RhbXAgPSBwYXJzZUludChtb21lbnQoZW5kRHQsICdERC1NTS1ZWVlZJykuZm9ybWF0KCd4JykpLFxuXHQgICAgICAgICAgICBhYnNvbHV0ZUVuZCA9IHRoaXMuZ2xvYmFsUmVhY3RpdmVNb2RlbC5tb2RlbFsneC1heGlzLWFic29sdXRlLXJhbmdlLWVuZCddO1xuXHQgICAgICAgIGlmIChlbmRUaW1lc3RhbXAgPj0gdGhpcy5zdGFydER0ICYmIGVuZFRpbWVzdGFtcCA8PSBhYnNvbHV0ZUVuZCkge1xuXHQgICAgICAgICAgdGhpcy5lbmREdCA9IGVuZFRpbWVzdGFtcDtcblx0ICAgICAgICAgIHRoaXMuZ2xvYmFsUmVhY3RpdmVNb2RlbC5tb2RlbFsneC1heGlzLXZpc2libGUtcmFuZ2UtZW5kJ10gPSB0aGlzLmVuZER0O1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAvLyB0aGlzLnRvRGF0ZS51cGRhdGVWaXN1YWwoJ2Vycm9yZWQnKTtcblx0ICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1RvIERhdGUgZXJyb3Igc3RhdGUhJyk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9XSk7XG5cdFxuXHQgICAgcmV0dXJuIERhdGVSYW5nZTtcblx0ICB9KCk7XG5cdFxuXHQgIHJldHVybiBEYXRlUmFuZ2U7XG5cdH07XG5cbi8qKiovIH0sXG4vKiAzICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24obW9kdWxlKSB7Ly8hIG1vbWVudC5qc1xuXHQvLyEgdmVyc2lvbiA6IDIuMTcuMFxuXHQvLyEgYXV0aG9ycyA6IFRpbSBXb29kLCBJc2tyZW4gQ2hlcm5ldiwgTW9tZW50LmpzIGNvbnRyaWJ1dG9yc1xuXHQvLyEgbGljZW5zZSA6IE1JVFxuXHQvLyEgbW9tZW50anMuY29tXG5cdFxuXHQ7KGZ1bmN0aW9uIChnbG9iYWwsIGZhY3RvcnkpIHtcblx0ICAgICB0cnVlID8gbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCkgOlxuXHQgICAgdHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kID8gZGVmaW5lKGZhY3RvcnkpIDpcblx0ICAgIGdsb2JhbC5tb21lbnQgPSBmYWN0b3J5KClcblx0fSh0aGlzLCAoZnVuY3Rpb24gKCkgeyAndXNlIHN0cmljdCc7XG5cdFxuXHR2YXIgaG9va0NhbGxiYWNrO1xuXHRcblx0ZnVuY3Rpb24gaG9va3MgKCkge1xuXHQgICAgcmV0dXJuIGhvb2tDYWxsYmFjay5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuXHR9XG5cdFxuXHQvLyBUaGlzIGlzIGRvbmUgdG8gcmVnaXN0ZXIgdGhlIG1ldGhvZCBjYWxsZWQgd2l0aCBtb21lbnQoKVxuXHQvLyB3aXRob3V0IGNyZWF0aW5nIGNpcmN1bGFyIGRlcGVuZGVuY2llcy5cblx0ZnVuY3Rpb24gc2V0SG9va0NhbGxiYWNrIChjYWxsYmFjaykge1xuXHQgICAgaG9va0NhbGxiYWNrID0gY2FsbGJhY2s7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGlzQXJyYXkoaW5wdXQpIHtcblx0ICAgIHJldHVybiBpbnB1dCBpbnN0YW5jZW9mIEFycmF5IHx8IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChpbnB1dCkgPT09ICdbb2JqZWN0IEFycmF5XSc7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGlzT2JqZWN0KGlucHV0KSB7XG5cdCAgICAvLyBJRTggd2lsbCB0cmVhdCB1bmRlZmluZWQgYW5kIG51bGwgYXMgb2JqZWN0IGlmIGl0IHdhc24ndCBmb3Jcblx0ICAgIC8vIGlucHV0ICE9IG51bGxcblx0ICAgIHJldHVybiBpbnB1dCAhPSBudWxsICYmIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChpbnB1dCkgPT09ICdbb2JqZWN0IE9iamVjdF0nO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBpc09iamVjdEVtcHR5KG9iaikge1xuXHQgICAgdmFyIGs7XG5cdCAgICBmb3IgKGsgaW4gb2JqKSB7XG5cdCAgICAgICAgLy8gZXZlbiBpZiBpdHMgbm90IG93biBwcm9wZXJ0eSBJJ2Qgc3RpbGwgY2FsbCBpdCBub24tZW1wdHlcblx0ICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gdHJ1ZTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gaXNOdW1iZXIoaW5wdXQpIHtcblx0ICAgIHJldHVybiB0eXBlb2YgaW5wdXQgPT09ICdudW1iZXInIHx8IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChpbnB1dCkgPT09ICdbb2JqZWN0IE51bWJlcl0nO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBpc0RhdGUoaW5wdXQpIHtcblx0ICAgIHJldHVybiBpbnB1dCBpbnN0YW5jZW9mIERhdGUgfHwgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGlucHV0KSA9PT0gJ1tvYmplY3QgRGF0ZV0nO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBtYXAoYXJyLCBmbikge1xuXHQgICAgdmFyIHJlcyA9IFtdLCBpO1xuXHQgICAgZm9yIChpID0gMDsgaSA8IGFyci5sZW5ndGg7ICsraSkge1xuXHQgICAgICAgIHJlcy5wdXNoKGZuKGFycltpXSwgaSkpO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIHJlcztcblx0fVxuXHRcblx0ZnVuY3Rpb24gaGFzT3duUHJvcChhLCBiKSB7XG5cdCAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGEsIGIpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBleHRlbmQoYSwgYikge1xuXHQgICAgZm9yICh2YXIgaSBpbiBiKSB7XG5cdCAgICAgICAgaWYgKGhhc093blByb3AoYiwgaSkpIHtcblx0ICAgICAgICAgICAgYVtpXSA9IGJbaV07XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIGlmIChoYXNPd25Qcm9wKGIsICd0b1N0cmluZycpKSB7XG5cdCAgICAgICAgYS50b1N0cmluZyA9IGIudG9TdHJpbmc7XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKGhhc093blByb3AoYiwgJ3ZhbHVlT2YnKSkge1xuXHQgICAgICAgIGEudmFsdWVPZiA9IGIudmFsdWVPZjtcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gYTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gY3JlYXRlVVRDIChpbnB1dCwgZm9ybWF0LCBsb2NhbGUsIHN0cmljdCkge1xuXHQgICAgcmV0dXJuIGNyZWF0ZUxvY2FsT3JVVEMoaW5wdXQsIGZvcm1hdCwgbG9jYWxlLCBzdHJpY3QsIHRydWUpLnV0YygpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBkZWZhdWx0UGFyc2luZ0ZsYWdzKCkge1xuXHQgICAgLy8gV2UgbmVlZCB0byBkZWVwIGNsb25lIHRoaXMgb2JqZWN0LlxuXHQgICAgcmV0dXJuIHtcblx0ICAgICAgICBlbXB0eSAgICAgICAgICAgOiBmYWxzZSxcblx0ICAgICAgICB1bnVzZWRUb2tlbnMgICAgOiBbXSxcblx0ICAgICAgICB1bnVzZWRJbnB1dCAgICAgOiBbXSxcblx0ICAgICAgICBvdmVyZmxvdyAgICAgICAgOiAtMixcblx0ICAgICAgICBjaGFyc0xlZnRPdmVyICAgOiAwLFxuXHQgICAgICAgIG51bGxJbnB1dCAgICAgICA6IGZhbHNlLFxuXHQgICAgICAgIGludmFsaWRNb250aCAgICA6IG51bGwsXG5cdCAgICAgICAgaW52YWxpZEZvcm1hdCAgIDogZmFsc2UsXG5cdCAgICAgICAgdXNlckludmFsaWRhdGVkIDogZmFsc2UsXG5cdCAgICAgICAgaXNvICAgICAgICAgICAgIDogZmFsc2UsXG5cdCAgICAgICAgcGFyc2VkRGF0ZVBhcnRzIDogW10sXG5cdCAgICAgICAgbWVyaWRpZW0gICAgICAgIDogbnVsbFxuXHQgICAgfTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gZ2V0UGFyc2luZ0ZsYWdzKG0pIHtcblx0ICAgIGlmIChtLl9wZiA9PSBudWxsKSB7XG5cdCAgICAgICAgbS5fcGYgPSBkZWZhdWx0UGFyc2luZ0ZsYWdzKCk7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gbS5fcGY7XG5cdH1cblx0XG5cdHZhciBzb21lO1xuXHRpZiAoQXJyYXkucHJvdG90eXBlLnNvbWUpIHtcblx0ICAgIHNvbWUgPSBBcnJheS5wcm90b3R5cGUuc29tZTtcblx0fSBlbHNlIHtcblx0ICAgIHNvbWUgPSBmdW5jdGlvbiAoZnVuKSB7XG5cdCAgICAgICAgdmFyIHQgPSBPYmplY3QodGhpcyk7XG5cdCAgICAgICAgdmFyIGxlbiA9IHQubGVuZ3RoID4+PiAwO1xuXHRcblx0ICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG5cdCAgICAgICAgICAgIGlmIChpIGluIHQgJiYgZnVuLmNhbGwodGhpcywgdFtpXSwgaSwgdCkpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICB9O1xuXHR9XG5cdFxuXHR2YXIgc29tZSQxID0gc29tZTtcblx0XG5cdGZ1bmN0aW9uIGlzVmFsaWQobSkge1xuXHQgICAgaWYgKG0uX2lzVmFsaWQgPT0gbnVsbCkge1xuXHQgICAgICAgIHZhciBmbGFncyA9IGdldFBhcnNpbmdGbGFncyhtKTtcblx0ICAgICAgICB2YXIgcGFyc2VkUGFydHMgPSBzb21lJDEuY2FsbChmbGFncy5wYXJzZWREYXRlUGFydHMsIGZ1bmN0aW9uIChpKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBpICE9IG51bGw7XG5cdCAgICAgICAgfSk7XG5cdCAgICAgICAgdmFyIGlzTm93VmFsaWQgPSAhaXNOYU4obS5fZC5nZXRUaW1lKCkpICYmXG5cdCAgICAgICAgICAgIGZsYWdzLm92ZXJmbG93IDwgMCAmJlxuXHQgICAgICAgICAgICAhZmxhZ3MuZW1wdHkgJiZcblx0ICAgICAgICAgICAgIWZsYWdzLmludmFsaWRNb250aCAmJlxuXHQgICAgICAgICAgICAhZmxhZ3MuaW52YWxpZFdlZWtkYXkgJiZcblx0ICAgICAgICAgICAgIWZsYWdzLm51bGxJbnB1dCAmJlxuXHQgICAgICAgICAgICAhZmxhZ3MuaW52YWxpZEZvcm1hdCAmJlxuXHQgICAgICAgICAgICAhZmxhZ3MudXNlckludmFsaWRhdGVkICYmXG5cdCAgICAgICAgICAgICghZmxhZ3MubWVyaWRpZW0gfHwgKGZsYWdzLm1lcmlkaWVtICYmIHBhcnNlZFBhcnRzKSk7XG5cdFxuXHQgICAgICAgIGlmIChtLl9zdHJpY3QpIHtcblx0ICAgICAgICAgICAgaXNOb3dWYWxpZCA9IGlzTm93VmFsaWQgJiZcblx0ICAgICAgICAgICAgICAgIGZsYWdzLmNoYXJzTGVmdE92ZXIgPT09IDAgJiZcblx0ICAgICAgICAgICAgICAgIGZsYWdzLnVudXNlZFRva2Vucy5sZW5ndGggPT09IDAgJiZcblx0ICAgICAgICAgICAgICAgIGZsYWdzLmJpZ0hvdXIgPT09IHVuZGVmaW5lZDtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIGlmIChPYmplY3QuaXNGcm96ZW4gPT0gbnVsbCB8fCAhT2JqZWN0LmlzRnJvemVuKG0pKSB7XG5cdCAgICAgICAgICAgIG0uX2lzVmFsaWQgPSBpc05vd1ZhbGlkO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBlbHNlIHtcblx0ICAgICAgICAgICAgcmV0dXJuIGlzTm93VmFsaWQ7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHQgICAgcmV0dXJuIG0uX2lzVmFsaWQ7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGNyZWF0ZUludmFsaWQgKGZsYWdzKSB7XG5cdCAgICB2YXIgbSA9IGNyZWF0ZVVUQyhOYU4pO1xuXHQgICAgaWYgKGZsYWdzICE9IG51bGwpIHtcblx0ICAgICAgICBleHRlbmQoZ2V0UGFyc2luZ0ZsYWdzKG0pLCBmbGFncyk7XG5cdCAgICB9XG5cdCAgICBlbHNlIHtcblx0ICAgICAgICBnZXRQYXJzaW5nRmxhZ3MobSkudXNlckludmFsaWRhdGVkID0gdHJ1ZTtcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gbTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gaXNVbmRlZmluZWQoaW5wdXQpIHtcblx0ICAgIHJldHVybiBpbnB1dCA9PT0gdm9pZCAwO1xuXHR9XG5cdFxuXHQvLyBQbHVnaW5zIHRoYXQgYWRkIHByb3BlcnRpZXMgc2hvdWxkIGFsc28gYWRkIHRoZSBrZXkgaGVyZSAobnVsbCB2YWx1ZSksXG5cdC8vIHNvIHdlIGNhbiBwcm9wZXJseSBjbG9uZSBvdXJzZWx2ZXMuXG5cdHZhciBtb21lbnRQcm9wZXJ0aWVzID0gaG9va3MubW9tZW50UHJvcGVydGllcyA9IFtdO1xuXHRcblx0ZnVuY3Rpb24gY29weUNvbmZpZyh0bywgZnJvbSkge1xuXHQgICAgdmFyIGksIHByb3AsIHZhbDtcblx0XG5cdCAgICBpZiAoIWlzVW5kZWZpbmVkKGZyb20uX2lzQU1vbWVudE9iamVjdCkpIHtcblx0ICAgICAgICB0by5faXNBTW9tZW50T2JqZWN0ID0gZnJvbS5faXNBTW9tZW50T2JqZWN0O1xuXHQgICAgfVxuXHQgICAgaWYgKCFpc1VuZGVmaW5lZChmcm9tLl9pKSkge1xuXHQgICAgICAgIHRvLl9pID0gZnJvbS5faTtcblx0ICAgIH1cblx0ICAgIGlmICghaXNVbmRlZmluZWQoZnJvbS5fZikpIHtcblx0ICAgICAgICB0by5fZiA9IGZyb20uX2Y7XG5cdCAgICB9XG5cdCAgICBpZiAoIWlzVW5kZWZpbmVkKGZyb20uX2wpKSB7XG5cdCAgICAgICAgdG8uX2wgPSBmcm9tLl9sO1xuXHQgICAgfVxuXHQgICAgaWYgKCFpc1VuZGVmaW5lZChmcm9tLl9zdHJpY3QpKSB7XG5cdCAgICAgICAgdG8uX3N0cmljdCA9IGZyb20uX3N0cmljdDtcblx0ICAgIH1cblx0ICAgIGlmICghaXNVbmRlZmluZWQoZnJvbS5fdHptKSkge1xuXHQgICAgICAgIHRvLl90em0gPSBmcm9tLl90em07XG5cdCAgICB9XG5cdCAgICBpZiAoIWlzVW5kZWZpbmVkKGZyb20uX2lzVVRDKSkge1xuXHQgICAgICAgIHRvLl9pc1VUQyA9IGZyb20uX2lzVVRDO1xuXHQgICAgfVxuXHQgICAgaWYgKCFpc1VuZGVmaW5lZChmcm9tLl9vZmZzZXQpKSB7XG5cdCAgICAgICAgdG8uX29mZnNldCA9IGZyb20uX29mZnNldDtcblx0ICAgIH1cblx0ICAgIGlmICghaXNVbmRlZmluZWQoZnJvbS5fcGYpKSB7XG5cdCAgICAgICAgdG8uX3BmID0gZ2V0UGFyc2luZ0ZsYWdzKGZyb20pO1xuXHQgICAgfVxuXHQgICAgaWYgKCFpc1VuZGVmaW5lZChmcm9tLl9sb2NhbGUpKSB7XG5cdCAgICAgICAgdG8uX2xvY2FsZSA9IGZyb20uX2xvY2FsZTtcblx0ICAgIH1cblx0XG5cdCAgICBpZiAobW9tZW50UHJvcGVydGllcy5sZW5ndGggPiAwKSB7XG5cdCAgICAgICAgZm9yIChpIGluIG1vbWVudFByb3BlcnRpZXMpIHtcblx0ICAgICAgICAgICAgcHJvcCA9IG1vbWVudFByb3BlcnRpZXNbaV07XG5cdCAgICAgICAgICAgIHZhbCA9IGZyb21bcHJvcF07XG5cdCAgICAgICAgICAgIGlmICghaXNVbmRlZmluZWQodmFsKSkge1xuXHQgICAgICAgICAgICAgICAgdG9bcHJvcF0gPSB2YWw7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIHRvO1xuXHR9XG5cdFxuXHR2YXIgdXBkYXRlSW5Qcm9ncmVzcyA9IGZhbHNlO1xuXHRcblx0Ly8gTW9tZW50IHByb3RvdHlwZSBvYmplY3Rcblx0ZnVuY3Rpb24gTW9tZW50KGNvbmZpZykge1xuXHQgICAgY29weUNvbmZpZyh0aGlzLCBjb25maWcpO1xuXHQgICAgdGhpcy5fZCA9IG5ldyBEYXRlKGNvbmZpZy5fZCAhPSBudWxsID8gY29uZmlnLl9kLmdldFRpbWUoKSA6IE5hTik7XG5cdCAgICBpZiAoIXRoaXMuaXNWYWxpZCgpKSB7XG5cdCAgICAgICAgdGhpcy5fZCA9IG5ldyBEYXRlKE5hTik7XG5cdCAgICB9XG5cdCAgICAvLyBQcmV2ZW50IGluZmluaXRlIGxvb3AgaW4gY2FzZSB1cGRhdGVPZmZzZXQgY3JlYXRlcyBuZXcgbW9tZW50XG5cdCAgICAvLyBvYmplY3RzLlxuXHQgICAgaWYgKHVwZGF0ZUluUHJvZ3Jlc3MgPT09IGZhbHNlKSB7XG5cdCAgICAgICAgdXBkYXRlSW5Qcm9ncmVzcyA9IHRydWU7XG5cdCAgICAgICAgaG9va3MudXBkYXRlT2Zmc2V0KHRoaXMpO1xuXHQgICAgICAgIHVwZGF0ZUluUHJvZ3Jlc3MgPSBmYWxzZTtcblx0ICAgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gaXNNb21lbnQgKG9iaikge1xuXHQgICAgcmV0dXJuIG9iaiBpbnN0YW5jZW9mIE1vbWVudCB8fCAob2JqICE9IG51bGwgJiYgb2JqLl9pc0FNb21lbnRPYmplY3QgIT0gbnVsbCk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGFic0Zsb29yIChudW1iZXIpIHtcblx0ICAgIGlmIChudW1iZXIgPCAwKSB7XG5cdCAgICAgICAgLy8gLTAgLT4gMFxuXHQgICAgICAgIHJldHVybiBNYXRoLmNlaWwobnVtYmVyKSB8fCAwO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihudW1iZXIpO1xuXHQgICAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiB0b0ludChhcmd1bWVudEZvckNvZXJjaW9uKSB7XG5cdCAgICB2YXIgY29lcmNlZE51bWJlciA9ICthcmd1bWVudEZvckNvZXJjaW9uLFxuXHQgICAgICAgIHZhbHVlID0gMDtcblx0XG5cdCAgICBpZiAoY29lcmNlZE51bWJlciAhPT0gMCAmJiBpc0Zpbml0ZShjb2VyY2VkTnVtYmVyKSkge1xuXHQgICAgICAgIHZhbHVlID0gYWJzRmxvb3IoY29lcmNlZE51bWJlcik7XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIHZhbHVlO1xuXHR9XG5cdFxuXHQvLyBjb21wYXJlIHR3byBhcnJheXMsIHJldHVybiB0aGUgbnVtYmVyIG9mIGRpZmZlcmVuY2VzXG5cdGZ1bmN0aW9uIGNvbXBhcmVBcnJheXMoYXJyYXkxLCBhcnJheTIsIGRvbnRDb252ZXJ0KSB7XG5cdCAgICB2YXIgbGVuID0gTWF0aC5taW4oYXJyYXkxLmxlbmd0aCwgYXJyYXkyLmxlbmd0aCksXG5cdCAgICAgICAgbGVuZ3RoRGlmZiA9IE1hdGguYWJzKGFycmF5MS5sZW5ndGggLSBhcnJheTIubGVuZ3RoKSxcblx0ICAgICAgICBkaWZmcyA9IDAsXG5cdCAgICAgICAgaTtcblx0ICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkrKykge1xuXHQgICAgICAgIGlmICgoZG9udENvbnZlcnQgJiYgYXJyYXkxW2ldICE9PSBhcnJheTJbaV0pIHx8XG5cdCAgICAgICAgICAgICghZG9udENvbnZlcnQgJiYgdG9JbnQoYXJyYXkxW2ldKSAhPT0gdG9JbnQoYXJyYXkyW2ldKSkpIHtcblx0ICAgICAgICAgICAgZGlmZnMrKztcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdCAgICByZXR1cm4gZGlmZnMgKyBsZW5ndGhEaWZmO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiB3YXJuKG1zZykge1xuXHQgICAgaWYgKGhvb2tzLnN1cHByZXNzRGVwcmVjYXRpb25XYXJuaW5ncyA9PT0gZmFsc2UgJiZcblx0ICAgICAgICAgICAgKHR5cGVvZiBjb25zb2xlICE9PSAgJ3VuZGVmaW5lZCcpICYmIGNvbnNvbGUud2Fybikge1xuXHQgICAgICAgIGNvbnNvbGUud2FybignRGVwcmVjYXRpb24gd2FybmluZzogJyArIG1zZyk7XG5cdCAgICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGRlcHJlY2F0ZShtc2csIGZuKSB7XG5cdCAgICB2YXIgZmlyc3RUaW1lID0gdHJ1ZTtcblx0XG5cdCAgICByZXR1cm4gZXh0ZW5kKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICBpZiAoaG9va3MuZGVwcmVjYXRpb25IYW5kbGVyICE9IG51bGwpIHtcblx0ICAgICAgICAgICAgaG9va3MuZGVwcmVjYXRpb25IYW5kbGVyKG51bGwsIG1zZyk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmIChmaXJzdFRpbWUpIHtcblx0ICAgICAgICAgICAgdmFyIGFyZ3MgPSBbXTtcblx0ICAgICAgICAgICAgdmFyIGFyZztcblx0ICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICAgICAgICAgIGFyZyA9ICcnO1xuXHQgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBhcmd1bWVudHNbaV0gPT09ICdvYmplY3QnKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgYXJnICs9ICdcXG5bJyArIGkgKyAnXSAnO1xuXHQgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiBhcmd1bWVudHNbMF0pIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgYXJnICs9IGtleSArICc6ICcgKyBhcmd1bWVudHNbMF1ba2V5XSArICcsICc7XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgICAgIGFyZyA9IGFyZy5zbGljZSgwLCAtMik7IC8vIFJlbW92ZSB0cmFpbGluZyBjb21tYSBhbmQgc3BhY2Vcblx0ICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICAgICAgYXJnID0gYXJndW1lbnRzW2ldO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgYXJncy5wdXNoKGFyZyk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgd2Fybihtc2cgKyAnXFxuQXJndW1lbnRzOiAnICsgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJncykuam9pbignJykgKyAnXFxuJyArIChuZXcgRXJyb3IoKSkuc3RhY2spO1xuXHQgICAgICAgICAgICBmaXJzdFRpbWUgPSBmYWxzZTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdCAgICB9LCBmbik7XG5cdH1cblx0XG5cdHZhciBkZXByZWNhdGlvbnMgPSB7fTtcblx0XG5cdGZ1bmN0aW9uIGRlcHJlY2F0ZVNpbXBsZShuYW1lLCBtc2cpIHtcblx0ICAgIGlmIChob29rcy5kZXByZWNhdGlvbkhhbmRsZXIgIT0gbnVsbCkge1xuXHQgICAgICAgIGhvb2tzLmRlcHJlY2F0aW9uSGFuZGxlcihuYW1lLCBtc2cpO1xuXHQgICAgfVxuXHQgICAgaWYgKCFkZXByZWNhdGlvbnNbbmFtZV0pIHtcblx0ICAgICAgICB3YXJuKG1zZyk7XG5cdCAgICAgICAgZGVwcmVjYXRpb25zW25hbWVdID0gdHJ1ZTtcblx0ICAgIH1cblx0fVxuXHRcblx0aG9va3Muc3VwcHJlc3NEZXByZWNhdGlvbldhcm5pbmdzID0gZmFsc2U7XG5cdGhvb2tzLmRlcHJlY2F0aW9uSGFuZGxlciA9IG51bGw7XG5cdFxuXHRmdW5jdGlvbiBpc0Z1bmN0aW9uKGlucHV0KSB7XG5cdCAgICByZXR1cm4gaW5wdXQgaW5zdGFuY2VvZiBGdW5jdGlvbiB8fCBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoaW5wdXQpID09PSAnW29iamVjdCBGdW5jdGlvbl0nO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBzZXQgKGNvbmZpZykge1xuXHQgICAgdmFyIHByb3AsIGk7XG5cdCAgICBmb3IgKGkgaW4gY29uZmlnKSB7XG5cdCAgICAgICAgcHJvcCA9IGNvbmZpZ1tpXTtcblx0ICAgICAgICBpZiAoaXNGdW5jdGlvbihwcm9wKSkge1xuXHQgICAgICAgICAgICB0aGlzW2ldID0gcHJvcDtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICB0aGlzWydfJyArIGldID0gcHJvcDtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdCAgICB0aGlzLl9jb25maWcgPSBjb25maWc7XG5cdCAgICAvLyBMZW5pZW50IG9yZGluYWwgcGFyc2luZyBhY2NlcHRzIGp1c3QgYSBudW1iZXIgaW4gYWRkaXRpb24gdG9cblx0ICAgIC8vIG51bWJlciArIChwb3NzaWJseSkgc3R1ZmYgY29taW5nIGZyb20gX29yZGluYWxQYXJzZUxlbmllbnQuXG5cdCAgICB0aGlzLl9vcmRpbmFsUGFyc2VMZW5pZW50ID0gbmV3IFJlZ0V4cCh0aGlzLl9vcmRpbmFsUGFyc2Uuc291cmNlICsgJ3wnICsgKC9cXGR7MSwyfS8pLnNvdXJjZSk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIG1lcmdlQ29uZmlncyhwYXJlbnRDb25maWcsIGNoaWxkQ29uZmlnKSB7XG5cdCAgICB2YXIgcmVzID0gZXh0ZW5kKHt9LCBwYXJlbnRDb25maWcpLCBwcm9wO1xuXHQgICAgZm9yIChwcm9wIGluIGNoaWxkQ29uZmlnKSB7XG5cdCAgICAgICAgaWYgKGhhc093blByb3AoY2hpbGRDb25maWcsIHByb3ApKSB7XG5cdCAgICAgICAgICAgIGlmIChpc09iamVjdChwYXJlbnRDb25maWdbcHJvcF0pICYmIGlzT2JqZWN0KGNoaWxkQ29uZmlnW3Byb3BdKSkge1xuXHQgICAgICAgICAgICAgICAgcmVzW3Byb3BdID0ge307XG5cdCAgICAgICAgICAgICAgICBleHRlbmQocmVzW3Byb3BdLCBwYXJlbnRDb25maWdbcHJvcF0pO1xuXHQgICAgICAgICAgICAgICAgZXh0ZW5kKHJlc1twcm9wXSwgY2hpbGRDb25maWdbcHJvcF0pO1xuXHQgICAgICAgICAgICB9IGVsc2UgaWYgKGNoaWxkQ29uZmlnW3Byb3BdICE9IG51bGwpIHtcblx0ICAgICAgICAgICAgICAgIHJlc1twcm9wXSA9IGNoaWxkQ29uZmlnW3Byb3BdO1xuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgZGVsZXRlIHJlc1twcm9wXTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgIH1cblx0ICAgIGZvciAocHJvcCBpbiBwYXJlbnRDb25maWcpIHtcblx0ICAgICAgICBpZiAoaGFzT3duUHJvcChwYXJlbnRDb25maWcsIHByb3ApICYmXG5cdCAgICAgICAgICAgICAgICAhaGFzT3duUHJvcChjaGlsZENvbmZpZywgcHJvcCkgJiZcblx0ICAgICAgICAgICAgICAgIGlzT2JqZWN0KHBhcmVudENvbmZpZ1twcm9wXSkpIHtcblx0ICAgICAgICAgICAgLy8gbWFrZSBzdXJlIGNoYW5nZXMgdG8gcHJvcGVydGllcyBkb24ndCBtb2RpZnkgcGFyZW50IGNvbmZpZ1xuXHQgICAgICAgICAgICByZXNbcHJvcF0gPSBleHRlbmQoe30sIHJlc1twcm9wXSk7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHQgICAgcmV0dXJuIHJlcztcblx0fVxuXHRcblx0ZnVuY3Rpb24gTG9jYWxlKGNvbmZpZykge1xuXHQgICAgaWYgKGNvbmZpZyAhPSBudWxsKSB7XG5cdCAgICAgICAgdGhpcy5zZXQoY29uZmlnKTtcblx0ICAgIH1cblx0fVxuXHRcblx0dmFyIGtleXM7XG5cdFxuXHRpZiAoT2JqZWN0LmtleXMpIHtcblx0ICAgIGtleXMgPSBPYmplY3Qua2V5cztcblx0fSBlbHNlIHtcblx0ICAgIGtleXMgPSBmdW5jdGlvbiAob2JqKSB7XG5cdCAgICAgICAgdmFyIGksIHJlcyA9IFtdO1xuXHQgICAgICAgIGZvciAoaSBpbiBvYmopIHtcblx0ICAgICAgICAgICAgaWYgKGhhc093blByb3Aob2JqLCBpKSkge1xuXHQgICAgICAgICAgICAgICAgcmVzLnB1c2goaSk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIHJlcztcblx0ICAgIH07XG5cdH1cblx0XG5cdHZhciBrZXlzJDEgPSBrZXlzO1xuXHRcblx0dmFyIGRlZmF1bHRDYWxlbmRhciA9IHtcblx0ICAgIHNhbWVEYXkgOiAnW1RvZGF5IGF0XSBMVCcsXG5cdCAgICBuZXh0RGF5IDogJ1tUb21vcnJvdyBhdF0gTFQnLFxuXHQgICAgbmV4dFdlZWsgOiAnZGRkZCBbYXRdIExUJyxcblx0ICAgIGxhc3REYXkgOiAnW1llc3RlcmRheSBhdF0gTFQnLFxuXHQgICAgbGFzdFdlZWsgOiAnW0xhc3RdIGRkZGQgW2F0XSBMVCcsXG5cdCAgICBzYW1lRWxzZSA6ICdMJ1xuXHR9O1xuXHRcblx0ZnVuY3Rpb24gY2FsZW5kYXIgKGtleSwgbW9tLCBub3cpIHtcblx0ICAgIHZhciBvdXRwdXQgPSB0aGlzLl9jYWxlbmRhcltrZXldIHx8IHRoaXMuX2NhbGVuZGFyWydzYW1lRWxzZSddO1xuXHQgICAgcmV0dXJuIGlzRnVuY3Rpb24ob3V0cHV0KSA/IG91dHB1dC5jYWxsKG1vbSwgbm93KSA6IG91dHB1dDtcblx0fVxuXHRcblx0dmFyIGRlZmF1bHRMb25nRGF0ZUZvcm1hdCA9IHtcblx0ICAgIExUUyAgOiAnaDptbTpzcyBBJyxcblx0ICAgIExUICAgOiAnaDptbSBBJyxcblx0ICAgIEwgICAgOiAnTU0vREQvWVlZWScsXG5cdCAgICBMTCAgIDogJ01NTU0gRCwgWVlZWScsXG5cdCAgICBMTEwgIDogJ01NTU0gRCwgWVlZWSBoOm1tIEEnLFxuXHQgICAgTExMTCA6ICdkZGRkLCBNTU1NIEQsIFlZWVkgaDptbSBBJ1xuXHR9O1xuXHRcblx0ZnVuY3Rpb24gbG9uZ0RhdGVGb3JtYXQgKGtleSkge1xuXHQgICAgdmFyIGZvcm1hdCA9IHRoaXMuX2xvbmdEYXRlRm9ybWF0W2tleV0sXG5cdCAgICAgICAgZm9ybWF0VXBwZXIgPSB0aGlzLl9sb25nRGF0ZUZvcm1hdFtrZXkudG9VcHBlckNhc2UoKV07XG5cdFxuXHQgICAgaWYgKGZvcm1hdCB8fCAhZm9ybWF0VXBwZXIpIHtcblx0ICAgICAgICByZXR1cm4gZm9ybWF0O1xuXHQgICAgfVxuXHRcblx0ICAgIHRoaXMuX2xvbmdEYXRlRm9ybWF0W2tleV0gPSBmb3JtYXRVcHBlci5yZXBsYWNlKC9NTU1NfE1NfEREfGRkZGQvZywgZnVuY3Rpb24gKHZhbCkge1xuXHQgICAgICAgIHJldHVybiB2YWwuc2xpY2UoMSk7XG5cdCAgICB9KTtcblx0XG5cdCAgICByZXR1cm4gdGhpcy5fbG9uZ0RhdGVGb3JtYXRba2V5XTtcblx0fVxuXHRcblx0dmFyIGRlZmF1bHRJbnZhbGlkRGF0ZSA9ICdJbnZhbGlkIGRhdGUnO1xuXHRcblx0ZnVuY3Rpb24gaW52YWxpZERhdGUgKCkge1xuXHQgICAgcmV0dXJuIHRoaXMuX2ludmFsaWREYXRlO1xuXHR9XG5cdFxuXHR2YXIgZGVmYXVsdE9yZGluYWwgPSAnJWQnO1xuXHR2YXIgZGVmYXVsdE9yZGluYWxQYXJzZSA9IC9cXGR7MSwyfS87XG5cdFxuXHRmdW5jdGlvbiBvcmRpbmFsIChudW1iZXIpIHtcblx0ICAgIHJldHVybiB0aGlzLl9vcmRpbmFsLnJlcGxhY2UoJyVkJywgbnVtYmVyKTtcblx0fVxuXHRcblx0dmFyIGRlZmF1bHRSZWxhdGl2ZVRpbWUgPSB7XG5cdCAgICBmdXR1cmUgOiAnaW4gJXMnLFxuXHQgICAgcGFzdCAgIDogJyVzIGFnbycsXG5cdCAgICBzICA6ICdhIGZldyBzZWNvbmRzJyxcblx0ICAgIG0gIDogJ2EgbWludXRlJyxcblx0ICAgIG1tIDogJyVkIG1pbnV0ZXMnLFxuXHQgICAgaCAgOiAnYW4gaG91cicsXG5cdCAgICBoaCA6ICclZCBob3VycycsXG5cdCAgICBkICA6ICdhIGRheScsXG5cdCAgICBkZCA6ICclZCBkYXlzJyxcblx0ICAgIE0gIDogJ2EgbW9udGgnLFxuXHQgICAgTU0gOiAnJWQgbW9udGhzJyxcblx0ICAgIHkgIDogJ2EgeWVhcicsXG5cdCAgICB5eSA6ICclZCB5ZWFycydcblx0fTtcblx0XG5cdGZ1bmN0aW9uIHJlbGF0aXZlVGltZSAobnVtYmVyLCB3aXRob3V0U3VmZml4LCBzdHJpbmcsIGlzRnV0dXJlKSB7XG5cdCAgICB2YXIgb3V0cHV0ID0gdGhpcy5fcmVsYXRpdmVUaW1lW3N0cmluZ107XG5cdCAgICByZXR1cm4gKGlzRnVuY3Rpb24ob3V0cHV0KSkgP1xuXHQgICAgICAgIG91dHB1dChudW1iZXIsIHdpdGhvdXRTdWZmaXgsIHN0cmluZywgaXNGdXR1cmUpIDpcblx0ICAgICAgICBvdXRwdXQucmVwbGFjZSgvJWQvaSwgbnVtYmVyKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gcGFzdEZ1dHVyZSAoZGlmZiwgb3V0cHV0KSB7XG5cdCAgICB2YXIgZm9ybWF0ID0gdGhpcy5fcmVsYXRpdmVUaW1lW2RpZmYgPiAwID8gJ2Z1dHVyZScgOiAncGFzdCddO1xuXHQgICAgcmV0dXJuIGlzRnVuY3Rpb24oZm9ybWF0KSA/IGZvcm1hdChvdXRwdXQpIDogZm9ybWF0LnJlcGxhY2UoLyVzL2ksIG91dHB1dCk7XG5cdH1cblx0XG5cdHZhciBhbGlhc2VzID0ge307XG5cdFxuXHRmdW5jdGlvbiBhZGRVbml0QWxpYXMgKHVuaXQsIHNob3J0aGFuZCkge1xuXHQgICAgdmFyIGxvd2VyQ2FzZSA9IHVuaXQudG9Mb3dlckNhc2UoKTtcblx0ICAgIGFsaWFzZXNbbG93ZXJDYXNlXSA9IGFsaWFzZXNbbG93ZXJDYXNlICsgJ3MnXSA9IGFsaWFzZXNbc2hvcnRoYW5kXSA9IHVuaXQ7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIG5vcm1hbGl6ZVVuaXRzKHVuaXRzKSB7XG5cdCAgICByZXR1cm4gdHlwZW9mIHVuaXRzID09PSAnc3RyaW5nJyA/IGFsaWFzZXNbdW5pdHNdIHx8IGFsaWFzZXNbdW5pdHMudG9Mb3dlckNhc2UoKV0gOiB1bmRlZmluZWQ7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIG5vcm1hbGl6ZU9iamVjdFVuaXRzKGlucHV0T2JqZWN0KSB7XG5cdCAgICB2YXIgbm9ybWFsaXplZElucHV0ID0ge30sXG5cdCAgICAgICAgbm9ybWFsaXplZFByb3AsXG5cdCAgICAgICAgcHJvcDtcblx0XG5cdCAgICBmb3IgKHByb3AgaW4gaW5wdXRPYmplY3QpIHtcblx0ICAgICAgICBpZiAoaGFzT3duUHJvcChpbnB1dE9iamVjdCwgcHJvcCkpIHtcblx0ICAgICAgICAgICAgbm9ybWFsaXplZFByb3AgPSBub3JtYWxpemVVbml0cyhwcm9wKTtcblx0ICAgICAgICAgICAgaWYgKG5vcm1hbGl6ZWRQcm9wKSB7XG5cdCAgICAgICAgICAgICAgICBub3JtYWxpemVkSW5wdXRbbm9ybWFsaXplZFByb3BdID0gaW5wdXRPYmplY3RbcHJvcF07XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIG5vcm1hbGl6ZWRJbnB1dDtcblx0fVxuXHRcblx0dmFyIHByaW9yaXRpZXMgPSB7fTtcblx0XG5cdGZ1bmN0aW9uIGFkZFVuaXRQcmlvcml0eSh1bml0LCBwcmlvcml0eSkge1xuXHQgICAgcHJpb3JpdGllc1t1bml0XSA9IHByaW9yaXR5O1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBnZXRQcmlvcml0aXplZFVuaXRzKHVuaXRzT2JqKSB7XG5cdCAgICB2YXIgdW5pdHMgPSBbXTtcblx0ICAgIGZvciAodmFyIHUgaW4gdW5pdHNPYmopIHtcblx0ICAgICAgICB1bml0cy5wdXNoKHt1bml0OiB1LCBwcmlvcml0eTogcHJpb3JpdGllc1t1XX0pO1xuXHQgICAgfVxuXHQgICAgdW5pdHMuc29ydChmdW5jdGlvbiAoYSwgYikge1xuXHQgICAgICAgIHJldHVybiBhLnByaW9yaXR5IC0gYi5wcmlvcml0eTtcblx0ICAgIH0pO1xuXHQgICAgcmV0dXJuIHVuaXRzO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBtYWtlR2V0U2V0ICh1bml0LCBrZWVwVGltZSkge1xuXHQgICAgcmV0dXJuIGZ1bmN0aW9uICh2YWx1ZSkge1xuXHQgICAgICAgIGlmICh2YWx1ZSAhPSBudWxsKSB7XG5cdCAgICAgICAgICAgIHNldCQxKHRoaXMsIHVuaXQsIHZhbHVlKTtcblx0ICAgICAgICAgICAgaG9va3MudXBkYXRlT2Zmc2V0KHRoaXMsIGtlZXBUaW1lKTtcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgcmV0dXJuIGdldCh0aGlzLCB1bml0KTtcblx0ICAgICAgICB9XG5cdCAgICB9O1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBnZXQgKG1vbSwgdW5pdCkge1xuXHQgICAgcmV0dXJuIG1vbS5pc1ZhbGlkKCkgP1xuXHQgICAgICAgIG1vbS5fZFsnZ2V0JyArIChtb20uX2lzVVRDID8gJ1VUQycgOiAnJykgKyB1bml0XSgpIDogTmFOO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBzZXQkMSAobW9tLCB1bml0LCB2YWx1ZSkge1xuXHQgICAgaWYgKG1vbS5pc1ZhbGlkKCkpIHtcblx0ICAgICAgICBtb20uX2RbJ3NldCcgKyAobW9tLl9pc1VUQyA/ICdVVEMnIDogJycpICsgdW5pdF0odmFsdWUpO1xuXHQgICAgfVxuXHR9XG5cdFxuXHQvLyBNT01FTlRTXG5cdFxuXHRmdW5jdGlvbiBzdHJpbmdHZXQgKHVuaXRzKSB7XG5cdCAgICB1bml0cyA9IG5vcm1hbGl6ZVVuaXRzKHVuaXRzKTtcblx0ICAgIGlmIChpc0Z1bmN0aW9uKHRoaXNbdW5pdHNdKSkge1xuXHQgICAgICAgIHJldHVybiB0aGlzW3VuaXRzXSgpO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIHRoaXM7XG5cdH1cblx0XG5cdFxuXHRmdW5jdGlvbiBzdHJpbmdTZXQgKHVuaXRzLCB2YWx1ZSkge1xuXHQgICAgaWYgKHR5cGVvZiB1bml0cyA9PT0gJ29iamVjdCcpIHtcblx0ICAgICAgICB1bml0cyA9IG5vcm1hbGl6ZU9iamVjdFVuaXRzKHVuaXRzKTtcblx0ICAgICAgICB2YXIgcHJpb3JpdGl6ZWQgPSBnZXRQcmlvcml0aXplZFVuaXRzKHVuaXRzKTtcblx0ICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByaW9yaXRpemVkLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgICAgIHRoaXNbcHJpb3JpdGl6ZWRbaV0udW5pdF0odW5pdHNbcHJpb3JpdGl6ZWRbaV0udW5pdF0pO1xuXHQgICAgICAgIH1cblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgdW5pdHMgPSBub3JtYWxpemVVbml0cyh1bml0cyk7XG5cdCAgICAgICAgaWYgKGlzRnVuY3Rpb24odGhpc1t1bml0c10pKSB7XG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzW3VuaXRzXSh2YWx1ZSk7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHQgICAgcmV0dXJuIHRoaXM7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHplcm9GaWxsKG51bWJlciwgdGFyZ2V0TGVuZ3RoLCBmb3JjZVNpZ24pIHtcblx0ICAgIHZhciBhYnNOdW1iZXIgPSAnJyArIE1hdGguYWJzKG51bWJlciksXG5cdCAgICAgICAgemVyb3NUb0ZpbGwgPSB0YXJnZXRMZW5ndGggLSBhYnNOdW1iZXIubGVuZ3RoLFxuXHQgICAgICAgIHNpZ24gPSBudW1iZXIgPj0gMDtcblx0ICAgIHJldHVybiAoc2lnbiA/IChmb3JjZVNpZ24gPyAnKycgOiAnJykgOiAnLScpICtcblx0ICAgICAgICBNYXRoLnBvdygxMCwgTWF0aC5tYXgoMCwgemVyb3NUb0ZpbGwpKS50b1N0cmluZygpLnN1YnN0cigxKSArIGFic051bWJlcjtcblx0fVxuXHRcblx0dmFyIGZvcm1hdHRpbmdUb2tlbnMgPSAvKFxcW1teXFxbXSpcXF0pfChcXFxcKT8oW0hoXW1tKHNzKT98TW98TU0/TT9NP3xEb3xERERvfEREP0Q/RD98ZGRkP2Q/fGRvP3x3W298d10/fFdbb3xXXT98UW8/fFlZWVlZWXxZWVlZWXxZWVlZfFlZfGdnKGdnZz8pP3xHRyhHR0c/KT98ZXxFfGF8QXxoaD98SEg/fGtrP3xtbT98c3M/fFN7MSw5fXx4fFh8eno/fFpaP3wuKS9nO1xuXHRcblx0dmFyIGxvY2FsRm9ybWF0dGluZ1Rva2VucyA9IC8oXFxbW15cXFtdKlxcXSl8KFxcXFwpPyhMVFN8TFR8TEw/TD9MP3xsezEsNH0pL2c7XG5cdFxuXHR2YXIgZm9ybWF0RnVuY3Rpb25zID0ge307XG5cdFxuXHR2YXIgZm9ybWF0VG9rZW5GdW5jdGlvbnMgPSB7fTtcblx0XG5cdC8vIHRva2VuOiAgICAnTSdcblx0Ly8gcGFkZGVkOiAgIFsnTU0nLCAyXVxuXHQvLyBvcmRpbmFsOiAgJ01vJ1xuXHQvLyBjYWxsYmFjazogZnVuY3Rpb24gKCkgeyB0aGlzLm1vbnRoKCkgKyAxIH1cblx0ZnVuY3Rpb24gYWRkRm9ybWF0VG9rZW4gKHRva2VuLCBwYWRkZWQsIG9yZGluYWwsIGNhbGxiYWNrKSB7XG5cdCAgICB2YXIgZnVuYyA9IGNhbGxiYWNrO1xuXHQgICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ3N0cmluZycpIHtcblx0ICAgICAgICBmdW5jID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICByZXR1cm4gdGhpc1tjYWxsYmFja10oKTtcblx0ICAgICAgICB9O1xuXHQgICAgfVxuXHQgICAgaWYgKHRva2VuKSB7XG5cdCAgICAgICAgZm9ybWF0VG9rZW5GdW5jdGlvbnNbdG9rZW5dID0gZnVuYztcblx0ICAgIH1cblx0ICAgIGlmIChwYWRkZWQpIHtcblx0ICAgICAgICBmb3JtYXRUb2tlbkZ1bmN0aW9uc1twYWRkZWRbMF1dID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICByZXR1cm4gemVyb0ZpbGwoZnVuYy5hcHBseSh0aGlzLCBhcmd1bWVudHMpLCBwYWRkZWRbMV0sIHBhZGRlZFsyXSk7XG5cdCAgICAgICAgfTtcblx0ICAgIH1cblx0ICAgIGlmIChvcmRpbmFsKSB7XG5cdCAgICAgICAgZm9ybWF0VG9rZW5GdW5jdGlvbnNbb3JkaW5hbF0gPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzLmxvY2FsZURhdGEoKS5vcmRpbmFsKGZ1bmMuYXBwbHkodGhpcywgYXJndW1lbnRzKSwgdG9rZW4pO1xuXHQgICAgICAgIH07XG5cdCAgICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHJlbW92ZUZvcm1hdHRpbmdUb2tlbnMoaW5wdXQpIHtcblx0ICAgIGlmIChpbnB1dC5tYXRjaCgvXFxbW1xcc1xcU10vKSkge1xuXHQgICAgICAgIHJldHVybiBpbnB1dC5yZXBsYWNlKC9eXFxbfFxcXSQvZywgJycpO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIGlucHV0LnJlcGxhY2UoL1xcXFwvZywgJycpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBtYWtlRm9ybWF0RnVuY3Rpb24oZm9ybWF0KSB7XG5cdCAgICB2YXIgYXJyYXkgPSBmb3JtYXQubWF0Y2goZm9ybWF0dGluZ1Rva2VucyksIGksIGxlbmd0aDtcblx0XG5cdCAgICBmb3IgKGkgPSAwLCBsZW5ndGggPSBhcnJheS5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuXHQgICAgICAgIGlmIChmb3JtYXRUb2tlbkZ1bmN0aW9uc1thcnJheVtpXV0pIHtcblx0ICAgICAgICAgICAgYXJyYXlbaV0gPSBmb3JtYXRUb2tlbkZ1bmN0aW9uc1thcnJheVtpXV07XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgYXJyYXlbaV0gPSByZW1vdmVGb3JtYXR0aW5nVG9rZW5zKGFycmF5W2ldKTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIGZ1bmN0aW9uIChtb20pIHtcblx0ICAgICAgICB2YXIgb3V0cHV0ID0gJycsIGk7XG5cdCAgICAgICAgZm9yIChpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgICAgIG91dHB1dCArPSBhcnJheVtpXSBpbnN0YW5jZW9mIEZ1bmN0aW9uID8gYXJyYXlbaV0uY2FsbChtb20sIGZvcm1hdCkgOiBhcnJheVtpXTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIG91dHB1dDtcblx0ICAgIH07XG5cdH1cblx0XG5cdC8vIGZvcm1hdCBkYXRlIHVzaW5nIG5hdGl2ZSBkYXRlIG9iamVjdFxuXHRmdW5jdGlvbiBmb3JtYXRNb21lbnQobSwgZm9ybWF0KSB7XG5cdCAgICBpZiAoIW0uaXNWYWxpZCgpKSB7XG5cdCAgICAgICAgcmV0dXJuIG0ubG9jYWxlRGF0YSgpLmludmFsaWREYXRlKCk7XG5cdCAgICB9XG5cdFxuXHQgICAgZm9ybWF0ID0gZXhwYW5kRm9ybWF0KGZvcm1hdCwgbS5sb2NhbGVEYXRhKCkpO1xuXHQgICAgZm9ybWF0RnVuY3Rpb25zW2Zvcm1hdF0gPSBmb3JtYXRGdW5jdGlvbnNbZm9ybWF0XSB8fCBtYWtlRm9ybWF0RnVuY3Rpb24oZm9ybWF0KTtcblx0XG5cdCAgICByZXR1cm4gZm9ybWF0RnVuY3Rpb25zW2Zvcm1hdF0obSk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGV4cGFuZEZvcm1hdChmb3JtYXQsIGxvY2FsZSkge1xuXHQgICAgdmFyIGkgPSA1O1xuXHRcblx0ICAgIGZ1bmN0aW9uIHJlcGxhY2VMb25nRGF0ZUZvcm1hdFRva2VucyhpbnB1dCkge1xuXHQgICAgICAgIHJldHVybiBsb2NhbGUubG9uZ0RhdGVGb3JtYXQoaW5wdXQpIHx8IGlucHV0O1xuXHQgICAgfVxuXHRcblx0ICAgIGxvY2FsRm9ybWF0dGluZ1Rva2Vucy5sYXN0SW5kZXggPSAwO1xuXHQgICAgd2hpbGUgKGkgPj0gMCAmJiBsb2NhbEZvcm1hdHRpbmdUb2tlbnMudGVzdChmb3JtYXQpKSB7XG5cdCAgICAgICAgZm9ybWF0ID0gZm9ybWF0LnJlcGxhY2UobG9jYWxGb3JtYXR0aW5nVG9rZW5zLCByZXBsYWNlTG9uZ0RhdGVGb3JtYXRUb2tlbnMpO1xuXHQgICAgICAgIGxvY2FsRm9ybWF0dGluZ1Rva2Vucy5sYXN0SW5kZXggPSAwO1xuXHQgICAgICAgIGkgLT0gMTtcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gZm9ybWF0O1xuXHR9XG5cdFxuXHR2YXIgbWF0Y2gxICAgICAgICAgPSAvXFxkLzsgICAgICAgICAgICAvLyAgICAgICAwIC0gOVxuXHR2YXIgbWF0Y2gyICAgICAgICAgPSAvXFxkXFxkLzsgICAgICAgICAgLy8gICAgICAwMCAtIDk5XG5cdHZhciBtYXRjaDMgICAgICAgICA9IC9cXGR7M30vOyAgICAgICAgIC8vICAgICAwMDAgLSA5OTlcblx0dmFyIG1hdGNoNCAgICAgICAgID0gL1xcZHs0fS87ICAgICAgICAgLy8gICAgMDAwMCAtIDk5OTlcblx0dmFyIG1hdGNoNiAgICAgICAgID0gL1srLV0/XFxkezZ9LzsgICAgLy8gLTk5OTk5OSAtIDk5OTk5OVxuXHR2YXIgbWF0Y2gxdG8yICAgICAgPSAvXFxkXFxkPy87ICAgICAgICAgLy8gICAgICAgMCAtIDk5XG5cdHZhciBtYXRjaDN0bzQgICAgICA9IC9cXGRcXGRcXGRcXGQ/LzsgICAgIC8vICAgICA5OTkgLSA5OTk5XG5cdHZhciBtYXRjaDV0bzYgICAgICA9IC9cXGRcXGRcXGRcXGRcXGRcXGQ/LzsgLy8gICA5OTk5OSAtIDk5OTk5OVxuXHR2YXIgbWF0Y2gxdG8zICAgICAgPSAvXFxkezEsM30vOyAgICAgICAvLyAgICAgICAwIC0gOTk5XG5cdHZhciBtYXRjaDF0bzQgICAgICA9IC9cXGR7MSw0fS87ICAgICAgIC8vICAgICAgIDAgLSA5OTk5XG5cdHZhciBtYXRjaDF0bzYgICAgICA9IC9bKy1dP1xcZHsxLDZ9LzsgIC8vIC05OTk5OTkgLSA5OTk5OTlcblx0XG5cdHZhciBtYXRjaFVuc2lnbmVkICA9IC9cXGQrLzsgICAgICAgICAgIC8vICAgICAgIDAgLSBpbmZcblx0dmFyIG1hdGNoU2lnbmVkICAgID0gL1srLV0/XFxkKy87ICAgICAgLy8gICAgLWluZiAtIGluZlxuXHRcblx0dmFyIG1hdGNoT2Zmc2V0ICAgID0gL1p8WystXVxcZFxcZDo/XFxkXFxkL2dpOyAvLyArMDA6MDAgLTAwOjAwICswMDAwIC0wMDAwIG9yIFpcblx0dmFyIG1hdGNoU2hvcnRPZmZzZXQgPSAvWnxbKy1dXFxkXFxkKD86Oj9cXGRcXGQpPy9naTsgLy8gKzAwIC0wMCArMDA6MDAgLTAwOjAwICswMDAwIC0wMDAwIG9yIFpcblx0XG5cdHZhciBtYXRjaFRpbWVzdGFtcCA9IC9bKy1dP1xcZCsoXFwuXFxkezEsM30pPy87IC8vIDEyMzQ1Njc4OSAxMjM0NTY3ODkuMTIzXG5cdFxuXHQvLyBhbnkgd29yZCAob3IgdHdvKSBjaGFyYWN0ZXJzIG9yIG51bWJlcnMgaW5jbHVkaW5nIHR3by90aHJlZSB3b3JkIG1vbnRoIGluIGFyYWJpYy5cblx0Ly8gaW5jbHVkZXMgc2NvdHRpc2ggZ2FlbGljIHR3byB3b3JkIGFuZCBoeXBoZW5hdGVkIG1vbnRoc1xuXHR2YXIgbWF0Y2hXb3JkID0gL1swLTldKlsnYS16XFx1MDBBMC1cXHUwNUZGXFx1MDcwMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSt8W1xcdTA2MDAtXFx1MDZGRlxcL10rKFxccyo/W1xcdTA2MDAtXFx1MDZGRl0rKXsxLDJ9L2k7XG5cdFxuXHRcblx0dmFyIHJlZ2V4ZXMgPSB7fTtcblx0XG5cdGZ1bmN0aW9uIGFkZFJlZ2V4VG9rZW4gKHRva2VuLCByZWdleCwgc3RyaWN0UmVnZXgpIHtcblx0ICAgIHJlZ2V4ZXNbdG9rZW5dID0gaXNGdW5jdGlvbihyZWdleCkgPyByZWdleCA6IGZ1bmN0aW9uIChpc1N0cmljdCwgbG9jYWxlRGF0YSkge1xuXHQgICAgICAgIHJldHVybiAoaXNTdHJpY3QgJiYgc3RyaWN0UmVnZXgpID8gc3RyaWN0UmVnZXggOiByZWdleDtcblx0ICAgIH07XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGdldFBhcnNlUmVnZXhGb3JUb2tlbiAodG9rZW4sIGNvbmZpZykge1xuXHQgICAgaWYgKCFoYXNPd25Qcm9wKHJlZ2V4ZXMsIHRva2VuKSkge1xuXHQgICAgICAgIHJldHVybiBuZXcgUmVnRXhwKHVuZXNjYXBlRm9ybWF0KHRva2VuKSk7XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIHJlZ2V4ZXNbdG9rZW5dKGNvbmZpZy5fc3RyaWN0LCBjb25maWcuX2xvY2FsZSk7XG5cdH1cblx0XG5cdC8vIENvZGUgZnJvbSBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzM1NjE0OTMvaXMtdGhlcmUtYS1yZWdleHAtZXNjYXBlLWZ1bmN0aW9uLWluLWphdmFzY3JpcHRcblx0ZnVuY3Rpb24gdW5lc2NhcGVGb3JtYXQocykge1xuXHQgICAgcmV0dXJuIHJlZ2V4RXNjYXBlKHMucmVwbGFjZSgnXFxcXCcsICcnKS5yZXBsYWNlKC9cXFxcKFxcWyl8XFxcXChcXF0pfFxcWyhbXlxcXVxcW10qKVxcXXxcXFxcKC4pL2csIGZ1bmN0aW9uIChtYXRjaGVkLCBwMSwgcDIsIHAzLCBwNCkge1xuXHQgICAgICAgIHJldHVybiBwMSB8fCBwMiB8fCBwMyB8fCBwNDtcblx0ICAgIH0pKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gcmVnZXhFc2NhcGUocykge1xuXHQgICAgcmV0dXJuIHMucmVwbGFjZSgvWy1cXC9cXFxcXiQqKz8uKCl8W1xcXXt9XS9nLCAnXFxcXCQmJyk7XG5cdH1cblx0XG5cdHZhciB0b2tlbnMgPSB7fTtcblx0XG5cdGZ1bmN0aW9uIGFkZFBhcnNlVG9rZW4gKHRva2VuLCBjYWxsYmFjaykge1xuXHQgICAgdmFyIGksIGZ1bmMgPSBjYWxsYmFjaztcblx0ICAgIGlmICh0eXBlb2YgdG9rZW4gPT09ICdzdHJpbmcnKSB7XG5cdCAgICAgICAgdG9rZW4gPSBbdG9rZW5dO1xuXHQgICAgfVxuXHQgICAgaWYgKGlzTnVtYmVyKGNhbGxiYWNrKSkge1xuXHQgICAgICAgIGZ1bmMgPSBmdW5jdGlvbiAoaW5wdXQsIGFycmF5KSB7XG5cdCAgICAgICAgICAgIGFycmF5W2NhbGxiYWNrXSA9IHRvSW50KGlucHV0KTtcblx0ICAgICAgICB9O1xuXHQgICAgfVxuXHQgICAgZm9yIChpID0gMDsgaSA8IHRva2VuLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgdG9rZW5zW3Rva2VuW2ldXSA9IGZ1bmM7XG5cdCAgICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGFkZFdlZWtQYXJzZVRva2VuICh0b2tlbiwgY2FsbGJhY2spIHtcblx0ICAgIGFkZFBhcnNlVG9rZW4odG9rZW4sIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXksIGNvbmZpZywgdG9rZW4pIHtcblx0ICAgICAgICBjb25maWcuX3cgPSBjb25maWcuX3cgfHwge307XG5cdCAgICAgICAgY2FsbGJhY2soaW5wdXQsIGNvbmZpZy5fdywgY29uZmlnLCB0b2tlbik7XG5cdCAgICB9KTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gYWRkVGltZVRvQXJyYXlGcm9tVG9rZW4odG9rZW4sIGlucHV0LCBjb25maWcpIHtcblx0ICAgIGlmIChpbnB1dCAhPSBudWxsICYmIGhhc093blByb3AodG9rZW5zLCB0b2tlbikpIHtcblx0ICAgICAgICB0b2tlbnNbdG9rZW5dKGlucHV0LCBjb25maWcuX2EsIGNvbmZpZywgdG9rZW4pO1xuXHQgICAgfVxuXHR9XG5cdFxuXHR2YXIgWUVBUiA9IDA7XG5cdHZhciBNT05USCA9IDE7XG5cdHZhciBEQVRFID0gMjtcblx0dmFyIEhPVVIgPSAzO1xuXHR2YXIgTUlOVVRFID0gNDtcblx0dmFyIFNFQ09ORCA9IDU7XG5cdHZhciBNSUxMSVNFQ09ORCA9IDY7XG5cdHZhciBXRUVLID0gNztcblx0dmFyIFdFRUtEQVkgPSA4O1xuXHRcblx0dmFyIGluZGV4T2Y7XG5cdFxuXHRpZiAoQXJyYXkucHJvdG90eXBlLmluZGV4T2YpIHtcblx0ICAgIGluZGV4T2YgPSBBcnJheS5wcm90b3R5cGUuaW5kZXhPZjtcblx0fSBlbHNlIHtcblx0ICAgIGluZGV4T2YgPSBmdW5jdGlvbiAobykge1xuXHQgICAgICAgIC8vIEkga25vd1xuXHQgICAgICAgIHZhciBpO1xuXHQgICAgICAgIGZvciAoaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgKytpKSB7XG5cdCAgICAgICAgICAgIGlmICh0aGlzW2ldID09PSBvKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gaTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gLTE7XG5cdCAgICB9O1xuXHR9XG5cdFxuXHR2YXIgaW5kZXhPZiQxID0gaW5kZXhPZjtcblx0XG5cdGZ1bmN0aW9uIGRheXNJbk1vbnRoKHllYXIsIG1vbnRoKSB7XG5cdCAgICByZXR1cm4gbmV3IERhdGUoRGF0ZS5VVEMoeWVhciwgbW9udGggKyAxLCAwKSkuZ2V0VVRDRGF0ZSgpO1xuXHR9XG5cdFxuXHQvLyBGT1JNQVRUSU5HXG5cdFxuXHRhZGRGb3JtYXRUb2tlbignTScsIFsnTU0nLCAyXSwgJ01vJywgZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuIHRoaXMubW9udGgoKSArIDE7XG5cdH0pO1xuXHRcblx0YWRkRm9ybWF0VG9rZW4oJ01NTScsIDAsIDAsIGZ1bmN0aW9uIChmb3JtYXQpIHtcblx0ICAgIHJldHVybiB0aGlzLmxvY2FsZURhdGEoKS5tb250aHNTaG9ydCh0aGlzLCBmb3JtYXQpO1xuXHR9KTtcblx0XG5cdGFkZEZvcm1hdFRva2VuKCdNTU1NJywgMCwgMCwgZnVuY3Rpb24gKGZvcm1hdCkge1xuXHQgICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLm1vbnRocyh0aGlzLCBmb3JtYXQpO1xuXHR9KTtcblx0XG5cdC8vIEFMSUFTRVNcblx0XG5cdGFkZFVuaXRBbGlhcygnbW9udGgnLCAnTScpO1xuXHRcblx0Ly8gUFJJT1JJVFlcblx0XG5cdGFkZFVuaXRQcmlvcml0eSgnbW9udGgnLCA4KTtcblx0XG5cdC8vIFBBUlNJTkdcblx0XG5cdGFkZFJlZ2V4VG9rZW4oJ00nLCAgICBtYXRjaDF0bzIpO1xuXHRhZGRSZWdleFRva2VuKCdNTScsICAgbWF0Y2gxdG8yLCBtYXRjaDIpO1xuXHRhZGRSZWdleFRva2VuKCdNTU0nLCAgZnVuY3Rpb24gKGlzU3RyaWN0LCBsb2NhbGUpIHtcblx0ICAgIHJldHVybiBsb2NhbGUubW9udGhzU2hvcnRSZWdleChpc1N0cmljdCk7XG5cdH0pO1xuXHRhZGRSZWdleFRva2VuKCdNTU1NJywgZnVuY3Rpb24gKGlzU3RyaWN0LCBsb2NhbGUpIHtcblx0ICAgIHJldHVybiBsb2NhbGUubW9udGhzUmVnZXgoaXNTdHJpY3QpO1xuXHR9KTtcblx0XG5cdGFkZFBhcnNlVG9rZW4oWydNJywgJ01NJ10sIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXkpIHtcblx0ICAgIGFycmF5W01PTlRIXSA9IHRvSW50KGlucHV0KSAtIDE7XG5cdH0pO1xuXHRcblx0YWRkUGFyc2VUb2tlbihbJ01NTScsICdNTU1NJ10sIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXksIGNvbmZpZywgdG9rZW4pIHtcblx0ICAgIHZhciBtb250aCA9IGNvbmZpZy5fbG9jYWxlLm1vbnRoc1BhcnNlKGlucHV0LCB0b2tlbiwgY29uZmlnLl9zdHJpY3QpO1xuXHQgICAgLy8gaWYgd2UgZGlkbid0IGZpbmQgYSBtb250aCBuYW1lLCBtYXJrIHRoZSBkYXRlIGFzIGludmFsaWQuXG5cdCAgICBpZiAobW9udGggIT0gbnVsbCkge1xuXHQgICAgICAgIGFycmF5W01PTlRIXSA9IG1vbnRoO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5pbnZhbGlkTW9udGggPSBpbnB1dDtcblx0ICAgIH1cblx0fSk7XG5cdFxuXHQvLyBMT0NBTEVTXG5cdFxuXHR2YXIgTU9OVEhTX0lOX0ZPUk1BVCA9IC9EW29EXT8oXFxbW15cXFtcXF1dKlxcXXxcXHMpK01NTU0/Lztcblx0dmFyIGRlZmF1bHRMb2NhbGVNb250aHMgPSAnSmFudWFyeV9GZWJydWFyeV9NYXJjaF9BcHJpbF9NYXlfSnVuZV9KdWx5X0F1Z3VzdF9TZXB0ZW1iZXJfT2N0b2Jlcl9Ob3ZlbWJlcl9EZWNlbWJlcicuc3BsaXQoJ18nKTtcblx0ZnVuY3Rpb24gbG9jYWxlTW9udGhzIChtLCBmb3JtYXQpIHtcblx0ICAgIGlmICghbSkge1xuXHQgICAgICAgIHJldHVybiB0aGlzLl9tb250aHM7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gaXNBcnJheSh0aGlzLl9tb250aHMpID8gdGhpcy5fbW9udGhzW20ubW9udGgoKV0gOlxuXHQgICAgICAgIHRoaXMuX21vbnRoc1sodGhpcy5fbW9udGhzLmlzRm9ybWF0IHx8IE1PTlRIU19JTl9GT1JNQVQpLnRlc3QoZm9ybWF0KSA/ICdmb3JtYXQnIDogJ3N0YW5kYWxvbmUnXVttLm1vbnRoKCldO1xuXHR9XG5cdFxuXHR2YXIgZGVmYXVsdExvY2FsZU1vbnRoc1Nob3J0ID0gJ0phbl9GZWJfTWFyX0Fwcl9NYXlfSnVuX0p1bF9BdWdfU2VwX09jdF9Ob3ZfRGVjJy5zcGxpdCgnXycpO1xuXHRmdW5jdGlvbiBsb2NhbGVNb250aHNTaG9ydCAobSwgZm9ybWF0KSB7XG5cdCAgICBpZiAoIW0pIHtcblx0ICAgICAgICByZXR1cm4gdGhpcy5fbW9udGhzU2hvcnQ7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gaXNBcnJheSh0aGlzLl9tb250aHNTaG9ydCkgPyB0aGlzLl9tb250aHNTaG9ydFttLm1vbnRoKCldIDpcblx0ICAgICAgICB0aGlzLl9tb250aHNTaG9ydFtNT05USFNfSU5fRk9STUFULnRlc3QoZm9ybWF0KSA/ICdmb3JtYXQnIDogJ3N0YW5kYWxvbmUnXVttLm1vbnRoKCldO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBoYW5kbGVTdHJpY3RQYXJzZShtb250aE5hbWUsIGZvcm1hdCwgc3RyaWN0KSB7XG5cdCAgICB2YXIgaSwgaWksIG1vbSwgbGxjID0gbW9udGhOYW1lLnRvTG9jYWxlTG93ZXJDYXNlKCk7XG5cdCAgICBpZiAoIXRoaXMuX21vbnRoc1BhcnNlKSB7XG5cdCAgICAgICAgLy8gdGhpcyBpcyBub3QgdXNlZFxuXHQgICAgICAgIHRoaXMuX21vbnRoc1BhcnNlID0gW107XG5cdCAgICAgICAgdGhpcy5fbG9uZ01vbnRoc1BhcnNlID0gW107XG5cdCAgICAgICAgdGhpcy5fc2hvcnRNb250aHNQYXJzZSA9IFtdO1xuXHQgICAgICAgIGZvciAoaSA9IDA7IGkgPCAxMjsgKytpKSB7XG5cdCAgICAgICAgICAgIG1vbSA9IGNyZWF0ZVVUQyhbMjAwMCwgaV0pO1xuXHQgICAgICAgICAgICB0aGlzLl9zaG9ydE1vbnRoc1BhcnNlW2ldID0gdGhpcy5tb250aHNTaG9ydChtb20sICcnKS50b0xvY2FsZUxvd2VyQ2FzZSgpO1xuXHQgICAgICAgICAgICB0aGlzLl9sb25nTW9udGhzUGFyc2VbaV0gPSB0aGlzLm1vbnRocyhtb20sICcnKS50b0xvY2FsZUxvd2VyQ2FzZSgpO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICBpZiAoc3RyaWN0KSB7XG5cdCAgICAgICAgaWYgKGZvcm1hdCA9PT0gJ01NTScpIHtcblx0ICAgICAgICAgICAgaWkgPSBpbmRleE9mJDEuY2FsbCh0aGlzLl9zaG9ydE1vbnRoc1BhcnNlLCBsbGMpO1xuXHQgICAgICAgICAgICByZXR1cm4gaWkgIT09IC0xID8gaWkgOiBudWxsO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIGlpID0gaW5kZXhPZiQxLmNhbGwodGhpcy5fbG9uZ01vbnRoc1BhcnNlLCBsbGMpO1xuXHQgICAgICAgICAgICByZXR1cm4gaWkgIT09IC0xID8gaWkgOiBudWxsO1xuXHQgICAgICAgIH1cblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgaWYgKGZvcm1hdCA9PT0gJ01NTScpIHtcblx0ICAgICAgICAgICAgaWkgPSBpbmRleE9mJDEuY2FsbCh0aGlzLl9zaG9ydE1vbnRoc1BhcnNlLCBsbGMpO1xuXHQgICAgICAgICAgICBpZiAoaWkgIT09IC0xKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gaWk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgaWkgPSBpbmRleE9mJDEuY2FsbCh0aGlzLl9sb25nTW9udGhzUGFyc2UsIGxsYyk7XG5cdCAgICAgICAgICAgIHJldHVybiBpaSAhPT0gLTEgPyBpaSA6IG51bGw7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgaWkgPSBpbmRleE9mJDEuY2FsbCh0aGlzLl9sb25nTW9udGhzUGFyc2UsIGxsYyk7XG5cdCAgICAgICAgICAgIGlmIChpaSAhPT0gLTEpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBpaTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBpaSA9IGluZGV4T2YkMS5jYWxsKHRoaXMuX3Nob3J0TW9udGhzUGFyc2UsIGxsYyk7XG5cdCAgICAgICAgICAgIHJldHVybiBpaSAhPT0gLTEgPyBpaSA6IG51bGw7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBsb2NhbGVNb250aHNQYXJzZSAobW9udGhOYW1lLCBmb3JtYXQsIHN0cmljdCkge1xuXHQgICAgdmFyIGksIG1vbSwgcmVnZXg7XG5cdFxuXHQgICAgaWYgKHRoaXMuX21vbnRoc1BhcnNlRXhhY3QpIHtcblx0ICAgICAgICByZXR1cm4gaGFuZGxlU3RyaWN0UGFyc2UuY2FsbCh0aGlzLCBtb250aE5hbWUsIGZvcm1hdCwgc3RyaWN0KTtcblx0ICAgIH1cblx0XG5cdCAgICBpZiAoIXRoaXMuX21vbnRoc1BhcnNlKSB7XG5cdCAgICAgICAgdGhpcy5fbW9udGhzUGFyc2UgPSBbXTtcblx0ICAgICAgICB0aGlzLl9sb25nTW9udGhzUGFyc2UgPSBbXTtcblx0ICAgICAgICB0aGlzLl9zaG9ydE1vbnRoc1BhcnNlID0gW107XG5cdCAgICB9XG5cdFxuXHQgICAgLy8gVE9ETzogYWRkIHNvcnRpbmdcblx0ICAgIC8vIFNvcnRpbmcgbWFrZXMgc3VyZSBpZiBvbmUgbW9udGggKG9yIGFiYnIpIGlzIGEgcHJlZml4IG9mIGFub3RoZXJcblx0ICAgIC8vIHNlZSBzb3J0aW5nIGluIGNvbXB1dGVNb250aHNQYXJzZVxuXHQgICAgZm9yIChpID0gMDsgaSA8IDEyOyBpKyspIHtcblx0ICAgICAgICAvLyBtYWtlIHRoZSByZWdleCBpZiB3ZSBkb24ndCBoYXZlIGl0IGFscmVhZHlcblx0ICAgICAgICBtb20gPSBjcmVhdGVVVEMoWzIwMDAsIGldKTtcblx0ICAgICAgICBpZiAoc3RyaWN0ICYmICF0aGlzLl9sb25nTW9udGhzUGFyc2VbaV0pIHtcblx0ICAgICAgICAgICAgdGhpcy5fbG9uZ01vbnRoc1BhcnNlW2ldID0gbmV3IFJlZ0V4cCgnXicgKyB0aGlzLm1vbnRocyhtb20sICcnKS5yZXBsYWNlKCcuJywgJycpICsgJyQnLCAnaScpO1xuXHQgICAgICAgICAgICB0aGlzLl9zaG9ydE1vbnRoc1BhcnNlW2ldID0gbmV3IFJlZ0V4cCgnXicgKyB0aGlzLm1vbnRoc1Nob3J0KG1vbSwgJycpLnJlcGxhY2UoJy4nLCAnJykgKyAnJCcsICdpJyk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmICghc3RyaWN0ICYmICF0aGlzLl9tb250aHNQYXJzZVtpXSkge1xuXHQgICAgICAgICAgICByZWdleCA9ICdeJyArIHRoaXMubW9udGhzKG1vbSwgJycpICsgJ3xeJyArIHRoaXMubW9udGhzU2hvcnQobW9tLCAnJyk7XG5cdCAgICAgICAgICAgIHRoaXMuX21vbnRoc1BhcnNlW2ldID0gbmV3IFJlZ0V4cChyZWdleC5yZXBsYWNlKCcuJywgJycpLCAnaScpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICAvLyB0ZXN0IHRoZSByZWdleFxuXHQgICAgICAgIGlmIChzdHJpY3QgJiYgZm9ybWF0ID09PSAnTU1NTScgJiYgdGhpcy5fbG9uZ01vbnRoc1BhcnNlW2ldLnRlc3QobW9udGhOYW1lKSkge1xuXHQgICAgICAgICAgICByZXR1cm4gaTtcblx0ICAgICAgICB9IGVsc2UgaWYgKHN0cmljdCAmJiBmb3JtYXQgPT09ICdNTU0nICYmIHRoaXMuX3Nob3J0TW9udGhzUGFyc2VbaV0udGVzdChtb250aE5hbWUpKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBpO1xuXHQgICAgICAgIH0gZWxzZSBpZiAoIXN0cmljdCAmJiB0aGlzLl9tb250aHNQYXJzZVtpXS50ZXN0KG1vbnRoTmFtZSkpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIGk7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHR9XG5cdFxuXHQvLyBNT01FTlRTXG5cdFxuXHRmdW5jdGlvbiBzZXRNb250aCAobW9tLCB2YWx1ZSkge1xuXHQgICAgdmFyIGRheU9mTW9udGg7XG5cdFxuXHQgICAgaWYgKCFtb20uaXNWYWxpZCgpKSB7XG5cdCAgICAgICAgLy8gTm8gb3Bcblx0ICAgICAgICByZXR1cm4gbW9tO1xuXHQgICAgfVxuXHRcblx0ICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG5cdCAgICAgICAgaWYgKC9eXFxkKyQvLnRlc3QodmFsdWUpKSB7XG5cdCAgICAgICAgICAgIHZhbHVlID0gdG9JbnQodmFsdWUpO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIHZhbHVlID0gbW9tLmxvY2FsZURhdGEoKS5tb250aHNQYXJzZSh2YWx1ZSk7XG5cdCAgICAgICAgICAgIC8vIFRPRE86IEFub3RoZXIgc2lsZW50IGZhaWx1cmU/XG5cdCAgICAgICAgICAgIGlmICghaXNOdW1iZXIodmFsdWUpKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gbW9tO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIGRheU9mTW9udGggPSBNYXRoLm1pbihtb20uZGF0ZSgpLCBkYXlzSW5Nb250aChtb20ueWVhcigpLCB2YWx1ZSkpO1xuXHQgICAgbW9tLl9kWydzZXQnICsgKG1vbS5faXNVVEMgPyAnVVRDJyA6ICcnKSArICdNb250aCddKHZhbHVlLCBkYXlPZk1vbnRoKTtcblx0ICAgIHJldHVybiBtb207XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGdldFNldE1vbnRoICh2YWx1ZSkge1xuXHQgICAgaWYgKHZhbHVlICE9IG51bGwpIHtcblx0ICAgICAgICBzZXRNb250aCh0aGlzLCB2YWx1ZSk7XG5cdCAgICAgICAgaG9va3MudXBkYXRlT2Zmc2V0KHRoaXMsIHRydWUpO1xuXHQgICAgICAgIHJldHVybiB0aGlzO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXR1cm4gZ2V0KHRoaXMsICdNb250aCcpO1xuXHQgICAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBnZXREYXlzSW5Nb250aCAoKSB7XG5cdCAgICByZXR1cm4gZGF5c0luTW9udGgodGhpcy55ZWFyKCksIHRoaXMubW9udGgoKSk7XG5cdH1cblx0XG5cdHZhciBkZWZhdWx0TW9udGhzU2hvcnRSZWdleCA9IG1hdGNoV29yZDtcblx0ZnVuY3Rpb24gbW9udGhzU2hvcnRSZWdleCAoaXNTdHJpY3QpIHtcblx0ICAgIGlmICh0aGlzLl9tb250aHNQYXJzZUV4YWN0KSB7XG5cdCAgICAgICAgaWYgKCFoYXNPd25Qcm9wKHRoaXMsICdfbW9udGhzUmVnZXgnKSkge1xuXHQgICAgICAgICAgICBjb21wdXRlTW9udGhzUGFyc2UuY2FsbCh0aGlzKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgaWYgKGlzU3RyaWN0KSB7XG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzLl9tb250aHNTaG9ydFN0cmljdFJlZ2V4O1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzLl9tb250aHNTaG9ydFJlZ2V4O1xuXHQgICAgICAgIH1cblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgaWYgKCFoYXNPd25Qcm9wKHRoaXMsICdfbW9udGhzU2hvcnRSZWdleCcpKSB7XG5cdCAgICAgICAgICAgIHRoaXMuX21vbnRoc1Nob3J0UmVnZXggPSBkZWZhdWx0TW9udGhzU2hvcnRSZWdleDtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIHRoaXMuX21vbnRoc1Nob3J0U3RyaWN0UmVnZXggJiYgaXNTdHJpY3QgP1xuXHQgICAgICAgICAgICB0aGlzLl9tb250aHNTaG9ydFN0cmljdFJlZ2V4IDogdGhpcy5fbW9udGhzU2hvcnRSZWdleDtcblx0ICAgIH1cblx0fVxuXHRcblx0dmFyIGRlZmF1bHRNb250aHNSZWdleCA9IG1hdGNoV29yZDtcblx0ZnVuY3Rpb24gbW9udGhzUmVnZXggKGlzU3RyaWN0KSB7XG5cdCAgICBpZiAodGhpcy5fbW9udGhzUGFyc2VFeGFjdCkge1xuXHQgICAgICAgIGlmICghaGFzT3duUHJvcCh0aGlzLCAnX21vbnRoc1JlZ2V4JykpIHtcblx0ICAgICAgICAgICAgY29tcHV0ZU1vbnRoc1BhcnNlLmNhbGwodGhpcyk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmIChpc1N0cmljdCkge1xuXHQgICAgICAgICAgICByZXR1cm4gdGhpcy5fbW9udGhzU3RyaWN0UmVnZXg7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXMuX21vbnRoc1JlZ2V4O1xuXHQgICAgICAgIH1cblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgaWYgKCFoYXNPd25Qcm9wKHRoaXMsICdfbW9udGhzUmVnZXgnKSkge1xuXHQgICAgICAgICAgICB0aGlzLl9tb250aHNSZWdleCA9IGRlZmF1bHRNb250aHNSZWdleDtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIHRoaXMuX21vbnRoc1N0cmljdFJlZ2V4ICYmIGlzU3RyaWN0ID9cblx0ICAgICAgICAgICAgdGhpcy5fbW9udGhzU3RyaWN0UmVnZXggOiB0aGlzLl9tb250aHNSZWdleDtcblx0ICAgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gY29tcHV0ZU1vbnRoc1BhcnNlICgpIHtcblx0ICAgIGZ1bmN0aW9uIGNtcExlblJldihhLCBiKSB7XG5cdCAgICAgICAgcmV0dXJuIGIubGVuZ3RoIC0gYS5sZW5ndGg7XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIHNob3J0UGllY2VzID0gW10sIGxvbmdQaWVjZXMgPSBbXSwgbWl4ZWRQaWVjZXMgPSBbXSxcblx0ICAgICAgICBpLCBtb207XG5cdCAgICBmb3IgKGkgPSAwOyBpIDwgMTI7IGkrKykge1xuXHQgICAgICAgIC8vIG1ha2UgdGhlIHJlZ2V4IGlmIHdlIGRvbid0IGhhdmUgaXQgYWxyZWFkeVxuXHQgICAgICAgIG1vbSA9IGNyZWF0ZVVUQyhbMjAwMCwgaV0pO1xuXHQgICAgICAgIHNob3J0UGllY2VzLnB1c2godGhpcy5tb250aHNTaG9ydChtb20sICcnKSk7XG5cdCAgICAgICAgbG9uZ1BpZWNlcy5wdXNoKHRoaXMubW9udGhzKG1vbSwgJycpKTtcblx0ICAgICAgICBtaXhlZFBpZWNlcy5wdXNoKHRoaXMubW9udGhzKG1vbSwgJycpKTtcblx0ICAgICAgICBtaXhlZFBpZWNlcy5wdXNoKHRoaXMubW9udGhzU2hvcnQobW9tLCAnJykpO1xuXHQgICAgfVxuXHQgICAgLy8gU29ydGluZyBtYWtlcyBzdXJlIGlmIG9uZSBtb250aCAob3IgYWJicikgaXMgYSBwcmVmaXggb2YgYW5vdGhlciBpdFxuXHQgICAgLy8gd2lsbCBtYXRjaCB0aGUgbG9uZ2VyIHBpZWNlLlxuXHQgICAgc2hvcnRQaWVjZXMuc29ydChjbXBMZW5SZXYpO1xuXHQgICAgbG9uZ1BpZWNlcy5zb3J0KGNtcExlblJldik7XG5cdCAgICBtaXhlZFBpZWNlcy5zb3J0KGNtcExlblJldik7XG5cdCAgICBmb3IgKGkgPSAwOyBpIDwgMTI7IGkrKykge1xuXHQgICAgICAgIHNob3J0UGllY2VzW2ldID0gcmVnZXhFc2NhcGUoc2hvcnRQaWVjZXNbaV0pO1xuXHQgICAgICAgIGxvbmdQaWVjZXNbaV0gPSByZWdleEVzY2FwZShsb25nUGllY2VzW2ldKTtcblx0ICAgIH1cblx0ICAgIGZvciAoaSA9IDA7IGkgPCAyNDsgaSsrKSB7XG5cdCAgICAgICAgbWl4ZWRQaWVjZXNbaV0gPSByZWdleEVzY2FwZShtaXhlZFBpZWNlc1tpXSk7XG5cdCAgICB9XG5cdFxuXHQgICAgdGhpcy5fbW9udGhzUmVnZXggPSBuZXcgUmVnRXhwKCdeKCcgKyBtaXhlZFBpZWNlcy5qb2luKCd8JykgKyAnKScsICdpJyk7XG5cdCAgICB0aGlzLl9tb250aHNTaG9ydFJlZ2V4ID0gdGhpcy5fbW9udGhzUmVnZXg7XG5cdCAgICB0aGlzLl9tb250aHNTdHJpY3RSZWdleCA9IG5ldyBSZWdFeHAoJ14oJyArIGxvbmdQaWVjZXMuam9pbignfCcpICsgJyknLCAnaScpO1xuXHQgICAgdGhpcy5fbW9udGhzU2hvcnRTdHJpY3RSZWdleCA9IG5ldyBSZWdFeHAoJ14oJyArIHNob3J0UGllY2VzLmpvaW4oJ3wnKSArICcpJywgJ2knKTtcblx0fVxuXHRcblx0Ly8gRk9STUFUVElOR1xuXHRcblx0YWRkRm9ybWF0VG9rZW4oJ1knLCAwLCAwLCBmdW5jdGlvbiAoKSB7XG5cdCAgICB2YXIgeSA9IHRoaXMueWVhcigpO1xuXHQgICAgcmV0dXJuIHkgPD0gOTk5OSA/ICcnICsgeSA6ICcrJyArIHk7XG5cdH0pO1xuXHRcblx0YWRkRm9ybWF0VG9rZW4oMCwgWydZWScsIDJdLCAwLCBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gdGhpcy55ZWFyKCkgJSAxMDA7XG5cdH0pO1xuXHRcblx0YWRkRm9ybWF0VG9rZW4oMCwgWydZWVlZJywgICA0XSwgICAgICAgMCwgJ3llYXInKTtcblx0YWRkRm9ybWF0VG9rZW4oMCwgWydZWVlZWScsICA1XSwgICAgICAgMCwgJ3llYXInKTtcblx0YWRkRm9ybWF0VG9rZW4oMCwgWydZWVlZWVknLCA2LCB0cnVlXSwgMCwgJ3llYXInKTtcblx0XG5cdC8vIEFMSUFTRVNcblx0XG5cdGFkZFVuaXRBbGlhcygneWVhcicsICd5Jyk7XG5cdFxuXHQvLyBQUklPUklUSUVTXG5cdFxuXHRhZGRVbml0UHJpb3JpdHkoJ3llYXInLCAxKTtcblx0XG5cdC8vIFBBUlNJTkdcblx0XG5cdGFkZFJlZ2V4VG9rZW4oJ1knLCAgICAgIG1hdGNoU2lnbmVkKTtcblx0YWRkUmVnZXhUb2tlbignWVknLCAgICAgbWF0Y2gxdG8yLCBtYXRjaDIpO1xuXHRhZGRSZWdleFRva2VuKCdZWVlZJywgICBtYXRjaDF0bzQsIG1hdGNoNCk7XG5cdGFkZFJlZ2V4VG9rZW4oJ1lZWVlZJywgIG1hdGNoMXRvNiwgbWF0Y2g2KTtcblx0YWRkUmVnZXhUb2tlbignWVlZWVlZJywgbWF0Y2gxdG82LCBtYXRjaDYpO1xuXHRcblx0YWRkUGFyc2VUb2tlbihbJ1lZWVlZJywgJ1lZWVlZWSddLCBZRUFSKTtcblx0YWRkUGFyc2VUb2tlbignWVlZWScsIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXkpIHtcblx0ICAgIGFycmF5W1lFQVJdID0gaW5wdXQubGVuZ3RoID09PSAyID8gaG9va3MucGFyc2VUd29EaWdpdFllYXIoaW5wdXQpIDogdG9JbnQoaW5wdXQpO1xuXHR9KTtcblx0YWRkUGFyc2VUb2tlbignWVknLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5KSB7XG5cdCAgICBhcnJheVtZRUFSXSA9IGhvb2tzLnBhcnNlVHdvRGlnaXRZZWFyKGlucHV0KTtcblx0fSk7XG5cdGFkZFBhcnNlVG9rZW4oJ1knLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5KSB7XG5cdCAgICBhcnJheVtZRUFSXSA9IHBhcnNlSW50KGlucHV0LCAxMCk7XG5cdH0pO1xuXHRcblx0Ly8gSEVMUEVSU1xuXHRcblx0ZnVuY3Rpb24gZGF5c0luWWVhcih5ZWFyKSB7XG5cdCAgICByZXR1cm4gaXNMZWFwWWVhcih5ZWFyKSA/IDM2NiA6IDM2NTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gaXNMZWFwWWVhcih5ZWFyKSB7XG5cdCAgICByZXR1cm4gKHllYXIgJSA0ID09PSAwICYmIHllYXIgJSAxMDAgIT09IDApIHx8IHllYXIgJSA0MDAgPT09IDA7XG5cdH1cblx0XG5cdC8vIEhPT0tTXG5cdFxuXHRob29rcy5wYXJzZVR3b0RpZ2l0WWVhciA9IGZ1bmN0aW9uIChpbnB1dCkge1xuXHQgICAgcmV0dXJuIHRvSW50KGlucHV0KSArICh0b0ludChpbnB1dCkgPiA2OCA/IDE5MDAgOiAyMDAwKTtcblx0fTtcblx0XG5cdC8vIE1PTUVOVFNcblx0XG5cdHZhciBnZXRTZXRZZWFyID0gbWFrZUdldFNldCgnRnVsbFllYXInLCB0cnVlKTtcblx0XG5cdGZ1bmN0aW9uIGdldElzTGVhcFllYXIgKCkge1xuXHQgICAgcmV0dXJuIGlzTGVhcFllYXIodGhpcy55ZWFyKCkpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBjcmVhdGVEYXRlICh5LCBtLCBkLCBoLCBNLCBzLCBtcykge1xuXHQgICAgLy9jYW4ndCBqdXN0IGFwcGx5KCkgdG8gY3JlYXRlIGEgZGF0ZTpcblx0ICAgIC8vaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8xODEzNDgvaW5zdGFudGlhdGluZy1hLWphdmFzY3JpcHQtb2JqZWN0LWJ5LWNhbGxpbmctcHJvdG90eXBlLWNvbnN0cnVjdG9yLWFwcGx5XG5cdCAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKHksIG0sIGQsIGgsIE0sIHMsIG1zKTtcblx0XG5cdCAgICAvL3RoZSBkYXRlIGNvbnN0cnVjdG9yIHJlbWFwcyB5ZWFycyAwLTk5IHRvIDE5MDAtMTk5OVxuXHQgICAgaWYgKHkgPCAxMDAgJiYgeSA+PSAwICYmIGlzRmluaXRlKGRhdGUuZ2V0RnVsbFllYXIoKSkpIHtcblx0ICAgICAgICBkYXRlLnNldEZ1bGxZZWFyKHkpO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIGRhdGU7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGNyZWF0ZVVUQ0RhdGUgKHkpIHtcblx0ICAgIHZhciBkYXRlID0gbmV3IERhdGUoRGF0ZS5VVEMuYXBwbHkobnVsbCwgYXJndW1lbnRzKSk7XG5cdFxuXHQgICAgLy90aGUgRGF0ZS5VVEMgZnVuY3Rpb24gcmVtYXBzIHllYXJzIDAtOTkgdG8gMTkwMC0xOTk5XG5cdCAgICBpZiAoeSA8IDEwMCAmJiB5ID49IDAgJiYgaXNGaW5pdGUoZGF0ZS5nZXRVVENGdWxsWWVhcigpKSkge1xuXHQgICAgICAgIGRhdGUuc2V0VVRDRnVsbFllYXIoeSk7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gZGF0ZTtcblx0fVxuXHRcblx0Ly8gc3RhcnQtb2YtZmlyc3Qtd2VlayAtIHN0YXJ0LW9mLXllYXJcblx0ZnVuY3Rpb24gZmlyc3RXZWVrT2Zmc2V0KHllYXIsIGRvdywgZG95KSB7XG5cdCAgICB2YXIgLy8gZmlyc3Qtd2VlayBkYXkgLS0gd2hpY2ggamFudWFyeSBpcyBhbHdheXMgaW4gdGhlIGZpcnN0IHdlZWsgKDQgZm9yIGlzbywgMSBmb3Igb3RoZXIpXG5cdCAgICAgICAgZndkID0gNyArIGRvdyAtIGRveSxcblx0ICAgICAgICAvLyBmaXJzdC13ZWVrIGRheSBsb2NhbCB3ZWVrZGF5IC0tIHdoaWNoIGxvY2FsIHdlZWtkYXkgaXMgZndkXG5cdCAgICAgICAgZndkbHcgPSAoNyArIGNyZWF0ZVVUQ0RhdGUoeWVhciwgMCwgZndkKS5nZXRVVENEYXkoKSAtIGRvdykgJSA3O1xuXHRcblx0ICAgIHJldHVybiAtZndkbHcgKyBmd2QgLSAxO1xuXHR9XG5cdFxuXHQvL2h0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvSVNPX3dlZWtfZGF0ZSNDYWxjdWxhdGluZ19hX2RhdGVfZ2l2ZW5fdGhlX3llYXIuMkNfd2Vla19udW1iZXJfYW5kX3dlZWtkYXlcblx0ZnVuY3Rpb24gZGF5T2ZZZWFyRnJvbVdlZWtzKHllYXIsIHdlZWssIHdlZWtkYXksIGRvdywgZG95KSB7XG5cdCAgICB2YXIgbG9jYWxXZWVrZGF5ID0gKDcgKyB3ZWVrZGF5IC0gZG93KSAlIDcsXG5cdCAgICAgICAgd2Vla09mZnNldCA9IGZpcnN0V2Vla09mZnNldCh5ZWFyLCBkb3csIGRveSksXG5cdCAgICAgICAgZGF5T2ZZZWFyID0gMSArIDcgKiAod2VlayAtIDEpICsgbG9jYWxXZWVrZGF5ICsgd2Vla09mZnNldCxcblx0ICAgICAgICByZXNZZWFyLCByZXNEYXlPZlllYXI7XG5cdFxuXHQgICAgaWYgKGRheU9mWWVhciA8PSAwKSB7XG5cdCAgICAgICAgcmVzWWVhciA9IHllYXIgLSAxO1xuXHQgICAgICAgIHJlc0RheU9mWWVhciA9IGRheXNJblllYXIocmVzWWVhcikgKyBkYXlPZlllYXI7XG5cdCAgICB9IGVsc2UgaWYgKGRheU9mWWVhciA+IGRheXNJblllYXIoeWVhcikpIHtcblx0ICAgICAgICByZXNZZWFyID0geWVhciArIDE7XG5cdCAgICAgICAgcmVzRGF5T2ZZZWFyID0gZGF5T2ZZZWFyIC0gZGF5c0luWWVhcih5ZWFyKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmVzWWVhciA9IHllYXI7XG5cdCAgICAgICAgcmVzRGF5T2ZZZWFyID0gZGF5T2ZZZWFyO1xuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiB7XG5cdCAgICAgICAgeWVhcjogcmVzWWVhcixcblx0ICAgICAgICBkYXlPZlllYXI6IHJlc0RheU9mWWVhclxuXHQgICAgfTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gd2Vla09mWWVhcihtb20sIGRvdywgZG95KSB7XG5cdCAgICB2YXIgd2Vla09mZnNldCA9IGZpcnN0V2Vla09mZnNldChtb20ueWVhcigpLCBkb3csIGRveSksXG5cdCAgICAgICAgd2VlayA9IE1hdGguZmxvb3IoKG1vbS5kYXlPZlllYXIoKSAtIHdlZWtPZmZzZXQgLSAxKSAvIDcpICsgMSxcblx0ICAgICAgICByZXNXZWVrLCByZXNZZWFyO1xuXHRcblx0ICAgIGlmICh3ZWVrIDwgMSkge1xuXHQgICAgICAgIHJlc1llYXIgPSBtb20ueWVhcigpIC0gMTtcblx0ICAgICAgICByZXNXZWVrID0gd2VlayArIHdlZWtzSW5ZZWFyKHJlc1llYXIsIGRvdywgZG95KTtcblx0ICAgIH0gZWxzZSBpZiAod2VlayA+IHdlZWtzSW5ZZWFyKG1vbS55ZWFyKCksIGRvdywgZG95KSkge1xuXHQgICAgICAgIHJlc1dlZWsgPSB3ZWVrIC0gd2Vla3NJblllYXIobW9tLnllYXIoKSwgZG93LCBkb3kpO1xuXHQgICAgICAgIHJlc1llYXIgPSBtb20ueWVhcigpICsgMTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmVzWWVhciA9IG1vbS55ZWFyKCk7XG5cdCAgICAgICAgcmVzV2VlayA9IHdlZWs7XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIHtcblx0ICAgICAgICB3ZWVrOiByZXNXZWVrLFxuXHQgICAgICAgIHllYXI6IHJlc1llYXJcblx0ICAgIH07XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHdlZWtzSW5ZZWFyKHllYXIsIGRvdywgZG95KSB7XG5cdCAgICB2YXIgd2Vla09mZnNldCA9IGZpcnN0V2Vla09mZnNldCh5ZWFyLCBkb3csIGRveSksXG5cdCAgICAgICAgd2Vla09mZnNldE5leHQgPSBmaXJzdFdlZWtPZmZzZXQoeWVhciArIDEsIGRvdywgZG95KTtcblx0ICAgIHJldHVybiAoZGF5c0luWWVhcih5ZWFyKSAtIHdlZWtPZmZzZXQgKyB3ZWVrT2Zmc2V0TmV4dCkgLyA3O1xuXHR9XG5cdFxuXHQvLyBGT1JNQVRUSU5HXG5cdFxuXHRhZGRGb3JtYXRUb2tlbigndycsIFsnd3cnLCAyXSwgJ3dvJywgJ3dlZWsnKTtcblx0YWRkRm9ybWF0VG9rZW4oJ1cnLCBbJ1dXJywgMl0sICdXbycsICdpc29XZWVrJyk7XG5cdFxuXHQvLyBBTElBU0VTXG5cdFxuXHRhZGRVbml0QWxpYXMoJ3dlZWsnLCAndycpO1xuXHRhZGRVbml0QWxpYXMoJ2lzb1dlZWsnLCAnVycpO1xuXHRcblx0Ly8gUFJJT1JJVElFU1xuXHRcblx0YWRkVW5pdFByaW9yaXR5KCd3ZWVrJywgNSk7XG5cdGFkZFVuaXRQcmlvcml0eSgnaXNvV2VlaycsIDUpO1xuXHRcblx0Ly8gUEFSU0lOR1xuXHRcblx0YWRkUmVnZXhUb2tlbigndycsICBtYXRjaDF0bzIpO1xuXHRhZGRSZWdleFRva2VuKCd3dycsIG1hdGNoMXRvMiwgbWF0Y2gyKTtcblx0YWRkUmVnZXhUb2tlbignVycsICBtYXRjaDF0bzIpO1xuXHRhZGRSZWdleFRva2VuKCdXVycsIG1hdGNoMXRvMiwgbWF0Y2gyKTtcblx0XG5cdGFkZFdlZWtQYXJzZVRva2VuKFsndycsICd3dycsICdXJywgJ1dXJ10sIGZ1bmN0aW9uIChpbnB1dCwgd2VlaywgY29uZmlnLCB0b2tlbikge1xuXHQgICAgd2Vla1t0b2tlbi5zdWJzdHIoMCwgMSldID0gdG9JbnQoaW5wdXQpO1xuXHR9KTtcblx0XG5cdC8vIEhFTFBFUlNcblx0XG5cdC8vIExPQ0FMRVNcblx0XG5cdGZ1bmN0aW9uIGxvY2FsZVdlZWsgKG1vbSkge1xuXHQgICAgcmV0dXJuIHdlZWtPZlllYXIobW9tLCB0aGlzLl93ZWVrLmRvdywgdGhpcy5fd2Vlay5kb3kpLndlZWs7XG5cdH1cblx0XG5cdHZhciBkZWZhdWx0TG9jYWxlV2VlayA9IHtcblx0ICAgIGRvdyA6IDAsIC8vIFN1bmRheSBpcyB0aGUgZmlyc3QgZGF5IG9mIHRoZSB3ZWVrLlxuXHQgICAgZG95IDogNiAgLy8gVGhlIHdlZWsgdGhhdCBjb250YWlucyBKYW4gMXN0IGlzIHRoZSBmaXJzdCB3ZWVrIG9mIHRoZSB5ZWFyLlxuXHR9O1xuXHRcblx0ZnVuY3Rpb24gbG9jYWxlRmlyc3REYXlPZldlZWsgKCkge1xuXHQgICAgcmV0dXJuIHRoaXMuX3dlZWsuZG93O1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBsb2NhbGVGaXJzdERheU9mWWVhciAoKSB7XG5cdCAgICByZXR1cm4gdGhpcy5fd2Vlay5kb3k7XG5cdH1cblx0XG5cdC8vIE1PTUVOVFNcblx0XG5cdGZ1bmN0aW9uIGdldFNldFdlZWsgKGlucHV0KSB7XG5cdCAgICB2YXIgd2VlayA9IHRoaXMubG9jYWxlRGF0YSgpLndlZWsodGhpcyk7XG5cdCAgICByZXR1cm4gaW5wdXQgPT0gbnVsbCA/IHdlZWsgOiB0aGlzLmFkZCgoaW5wdXQgLSB3ZWVrKSAqIDcsICdkJyk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGdldFNldElTT1dlZWsgKGlucHV0KSB7XG5cdCAgICB2YXIgd2VlayA9IHdlZWtPZlllYXIodGhpcywgMSwgNCkud2Vlaztcblx0ICAgIHJldHVybiBpbnB1dCA9PSBudWxsID8gd2VlayA6IHRoaXMuYWRkKChpbnB1dCAtIHdlZWspICogNywgJ2QnKTtcblx0fVxuXHRcblx0Ly8gRk9STUFUVElOR1xuXHRcblx0YWRkRm9ybWF0VG9rZW4oJ2QnLCAwLCAnZG8nLCAnZGF5Jyk7XG5cdFxuXHRhZGRGb3JtYXRUb2tlbignZGQnLCAwLCAwLCBmdW5jdGlvbiAoZm9ybWF0KSB7XG5cdCAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkud2Vla2RheXNNaW4odGhpcywgZm9ybWF0KTtcblx0fSk7XG5cdFxuXHRhZGRGb3JtYXRUb2tlbignZGRkJywgMCwgMCwgZnVuY3Rpb24gKGZvcm1hdCkge1xuXHQgICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLndlZWtkYXlzU2hvcnQodGhpcywgZm9ybWF0KTtcblx0fSk7XG5cdFxuXHRhZGRGb3JtYXRUb2tlbignZGRkZCcsIDAsIDAsIGZ1bmN0aW9uIChmb3JtYXQpIHtcblx0ICAgIHJldHVybiB0aGlzLmxvY2FsZURhdGEoKS53ZWVrZGF5cyh0aGlzLCBmb3JtYXQpO1xuXHR9KTtcblx0XG5cdGFkZEZvcm1hdFRva2VuKCdlJywgMCwgMCwgJ3dlZWtkYXknKTtcblx0YWRkRm9ybWF0VG9rZW4oJ0UnLCAwLCAwLCAnaXNvV2Vla2RheScpO1xuXHRcblx0Ly8gQUxJQVNFU1xuXHRcblx0YWRkVW5pdEFsaWFzKCdkYXknLCAnZCcpO1xuXHRhZGRVbml0QWxpYXMoJ3dlZWtkYXknLCAnZScpO1xuXHRhZGRVbml0QWxpYXMoJ2lzb1dlZWtkYXknLCAnRScpO1xuXHRcblx0Ly8gUFJJT1JJVFlcblx0YWRkVW5pdFByaW9yaXR5KCdkYXknLCAxMSk7XG5cdGFkZFVuaXRQcmlvcml0eSgnd2Vla2RheScsIDExKTtcblx0YWRkVW5pdFByaW9yaXR5KCdpc29XZWVrZGF5JywgMTEpO1xuXHRcblx0Ly8gUEFSU0lOR1xuXHRcblx0YWRkUmVnZXhUb2tlbignZCcsICAgIG1hdGNoMXRvMik7XG5cdGFkZFJlZ2V4VG9rZW4oJ2UnLCAgICBtYXRjaDF0bzIpO1xuXHRhZGRSZWdleFRva2VuKCdFJywgICAgbWF0Y2gxdG8yKTtcblx0YWRkUmVnZXhUb2tlbignZGQnLCAgIGZ1bmN0aW9uIChpc1N0cmljdCwgbG9jYWxlKSB7XG5cdCAgICByZXR1cm4gbG9jYWxlLndlZWtkYXlzTWluUmVnZXgoaXNTdHJpY3QpO1xuXHR9KTtcblx0YWRkUmVnZXhUb2tlbignZGRkJywgICBmdW5jdGlvbiAoaXNTdHJpY3QsIGxvY2FsZSkge1xuXHQgICAgcmV0dXJuIGxvY2FsZS53ZWVrZGF5c1Nob3J0UmVnZXgoaXNTdHJpY3QpO1xuXHR9KTtcblx0YWRkUmVnZXhUb2tlbignZGRkZCcsICAgZnVuY3Rpb24gKGlzU3RyaWN0LCBsb2NhbGUpIHtcblx0ICAgIHJldHVybiBsb2NhbGUud2Vla2RheXNSZWdleChpc1N0cmljdCk7XG5cdH0pO1xuXHRcblx0YWRkV2Vla1BhcnNlVG9rZW4oWydkZCcsICdkZGQnLCAnZGRkZCddLCBmdW5jdGlvbiAoaW5wdXQsIHdlZWssIGNvbmZpZywgdG9rZW4pIHtcblx0ICAgIHZhciB3ZWVrZGF5ID0gY29uZmlnLl9sb2NhbGUud2Vla2RheXNQYXJzZShpbnB1dCwgdG9rZW4sIGNvbmZpZy5fc3RyaWN0KTtcblx0ICAgIC8vIGlmIHdlIGRpZG4ndCBnZXQgYSB3ZWVrZGF5IG5hbWUsIG1hcmsgdGhlIGRhdGUgYXMgaW52YWxpZFxuXHQgICAgaWYgKHdlZWtkYXkgIT0gbnVsbCkge1xuXHQgICAgICAgIHdlZWsuZCA9IHdlZWtkYXk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmludmFsaWRXZWVrZGF5ID0gaW5wdXQ7XG5cdCAgICB9XG5cdH0pO1xuXHRcblx0YWRkV2Vla1BhcnNlVG9rZW4oWydkJywgJ2UnLCAnRSddLCBmdW5jdGlvbiAoaW5wdXQsIHdlZWssIGNvbmZpZywgdG9rZW4pIHtcblx0ICAgIHdlZWtbdG9rZW5dID0gdG9JbnQoaW5wdXQpO1xuXHR9KTtcblx0XG5cdC8vIEhFTFBFUlNcblx0XG5cdGZ1bmN0aW9uIHBhcnNlV2Vla2RheShpbnB1dCwgbG9jYWxlKSB7XG5cdCAgICBpZiAodHlwZW9mIGlucHV0ICE9PSAnc3RyaW5nJykge1xuXHQgICAgICAgIHJldHVybiBpbnB1dDtcblx0ICAgIH1cblx0XG5cdCAgICBpZiAoIWlzTmFOKGlucHV0KSkge1xuXHQgICAgICAgIHJldHVybiBwYXJzZUludChpbnB1dCwgMTApO1xuXHQgICAgfVxuXHRcblx0ICAgIGlucHV0ID0gbG9jYWxlLndlZWtkYXlzUGFyc2UoaW5wdXQpO1xuXHQgICAgaWYgKHR5cGVvZiBpbnB1dCA9PT0gJ251bWJlcicpIHtcblx0ICAgICAgICByZXR1cm4gaW5wdXQ7XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIG51bGw7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHBhcnNlSXNvV2Vla2RheShpbnB1dCwgbG9jYWxlKSB7XG5cdCAgICBpZiAodHlwZW9mIGlucHV0ID09PSAnc3RyaW5nJykge1xuXHQgICAgICAgIHJldHVybiBsb2NhbGUud2Vla2RheXNQYXJzZShpbnB1dCkgJSA3IHx8IDc7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gaXNOYU4oaW5wdXQpID8gbnVsbCA6IGlucHV0O1xuXHR9XG5cdFxuXHQvLyBMT0NBTEVTXG5cdFxuXHR2YXIgZGVmYXVsdExvY2FsZVdlZWtkYXlzID0gJ1N1bmRheV9Nb25kYXlfVHVlc2RheV9XZWRuZXNkYXlfVGh1cnNkYXlfRnJpZGF5X1NhdHVyZGF5Jy5zcGxpdCgnXycpO1xuXHRmdW5jdGlvbiBsb2NhbGVXZWVrZGF5cyAobSwgZm9ybWF0KSB7XG5cdCAgICBpZiAoIW0pIHtcblx0ICAgICAgICByZXR1cm4gdGhpcy5fd2Vla2RheXM7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gaXNBcnJheSh0aGlzLl93ZWVrZGF5cykgPyB0aGlzLl93ZWVrZGF5c1ttLmRheSgpXSA6XG5cdCAgICAgICAgdGhpcy5fd2Vla2RheXNbdGhpcy5fd2Vla2RheXMuaXNGb3JtYXQudGVzdChmb3JtYXQpID8gJ2Zvcm1hdCcgOiAnc3RhbmRhbG9uZSddW20uZGF5KCldO1xuXHR9XG5cdFxuXHR2YXIgZGVmYXVsdExvY2FsZVdlZWtkYXlzU2hvcnQgPSAnU3VuX01vbl9UdWVfV2VkX1RodV9GcmlfU2F0Jy5zcGxpdCgnXycpO1xuXHRmdW5jdGlvbiBsb2NhbGVXZWVrZGF5c1Nob3J0IChtKSB7XG5cdCAgICByZXR1cm4gKG0pID8gdGhpcy5fd2Vla2RheXNTaG9ydFttLmRheSgpXSA6IHRoaXMuX3dlZWtkYXlzU2hvcnQ7XG5cdH1cblx0XG5cdHZhciBkZWZhdWx0TG9jYWxlV2Vla2RheXNNaW4gPSAnU3VfTW9fVHVfV2VfVGhfRnJfU2EnLnNwbGl0KCdfJyk7XG5cdGZ1bmN0aW9uIGxvY2FsZVdlZWtkYXlzTWluIChtKSB7XG5cdCAgICByZXR1cm4gKG0pID8gdGhpcy5fd2Vla2RheXNNaW5bbS5kYXkoKV0gOiB0aGlzLl93ZWVrZGF5c01pbjtcblx0fVxuXHRcblx0ZnVuY3Rpb24gaGFuZGxlU3RyaWN0UGFyc2UkMSh3ZWVrZGF5TmFtZSwgZm9ybWF0LCBzdHJpY3QpIHtcblx0ICAgIHZhciBpLCBpaSwgbW9tLCBsbGMgPSB3ZWVrZGF5TmFtZS50b0xvY2FsZUxvd2VyQ2FzZSgpO1xuXHQgICAgaWYgKCF0aGlzLl93ZWVrZGF5c1BhcnNlKSB7XG5cdCAgICAgICAgdGhpcy5fd2Vla2RheXNQYXJzZSA9IFtdO1xuXHQgICAgICAgIHRoaXMuX3Nob3J0V2Vla2RheXNQYXJzZSA9IFtdO1xuXHQgICAgICAgIHRoaXMuX21pbldlZWtkYXlzUGFyc2UgPSBbXTtcblx0XG5cdCAgICAgICAgZm9yIChpID0gMDsgaSA8IDc7ICsraSkge1xuXHQgICAgICAgICAgICBtb20gPSBjcmVhdGVVVEMoWzIwMDAsIDFdKS5kYXkoaSk7XG5cdCAgICAgICAgICAgIHRoaXMuX21pbldlZWtkYXlzUGFyc2VbaV0gPSB0aGlzLndlZWtkYXlzTWluKG1vbSwgJycpLnRvTG9jYWxlTG93ZXJDYXNlKCk7XG5cdCAgICAgICAgICAgIHRoaXMuX3Nob3J0V2Vla2RheXNQYXJzZVtpXSA9IHRoaXMud2Vla2RheXNTaG9ydChtb20sICcnKS50b0xvY2FsZUxvd2VyQ2FzZSgpO1xuXHQgICAgICAgICAgICB0aGlzLl93ZWVrZGF5c1BhcnNlW2ldID0gdGhpcy53ZWVrZGF5cyhtb20sICcnKS50b0xvY2FsZUxvd2VyQ2FzZSgpO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICBpZiAoc3RyaWN0KSB7XG5cdCAgICAgICAgaWYgKGZvcm1hdCA9PT0gJ2RkZGQnKSB7XG5cdCAgICAgICAgICAgIGlpID0gaW5kZXhPZiQxLmNhbGwodGhpcy5fd2Vla2RheXNQYXJzZSwgbGxjKTtcblx0ICAgICAgICAgICAgcmV0dXJuIGlpICE9PSAtMSA/IGlpIDogbnVsbDtcblx0ICAgICAgICB9IGVsc2UgaWYgKGZvcm1hdCA9PT0gJ2RkZCcpIHtcblx0ICAgICAgICAgICAgaWkgPSBpbmRleE9mJDEuY2FsbCh0aGlzLl9zaG9ydFdlZWtkYXlzUGFyc2UsIGxsYyk7XG5cdCAgICAgICAgICAgIHJldHVybiBpaSAhPT0gLTEgPyBpaSA6IG51bGw7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgaWkgPSBpbmRleE9mJDEuY2FsbCh0aGlzLl9taW5XZWVrZGF5c1BhcnNlLCBsbGMpO1xuXHQgICAgICAgICAgICByZXR1cm4gaWkgIT09IC0xID8gaWkgOiBudWxsO1xuXHQgICAgICAgIH1cblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgaWYgKGZvcm1hdCA9PT0gJ2RkZGQnKSB7XG5cdCAgICAgICAgICAgIGlpID0gaW5kZXhPZiQxLmNhbGwodGhpcy5fd2Vla2RheXNQYXJzZSwgbGxjKTtcblx0ICAgICAgICAgICAgaWYgKGlpICE9PSAtMSkge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIGlpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIGlpID0gaW5kZXhPZiQxLmNhbGwodGhpcy5fc2hvcnRXZWVrZGF5c1BhcnNlLCBsbGMpO1xuXHQgICAgICAgICAgICBpZiAoaWkgIT09IC0xKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gaWk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgaWkgPSBpbmRleE9mJDEuY2FsbCh0aGlzLl9taW5XZWVrZGF5c1BhcnNlLCBsbGMpO1xuXHQgICAgICAgICAgICByZXR1cm4gaWkgIT09IC0xID8gaWkgOiBudWxsO1xuXHQgICAgICAgIH0gZWxzZSBpZiAoZm9ybWF0ID09PSAnZGRkJykge1xuXHQgICAgICAgICAgICBpaSA9IGluZGV4T2YkMS5jYWxsKHRoaXMuX3Nob3J0V2Vla2RheXNQYXJzZSwgbGxjKTtcblx0ICAgICAgICAgICAgaWYgKGlpICE9PSAtMSkge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIGlpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIGlpID0gaW5kZXhPZiQxLmNhbGwodGhpcy5fd2Vla2RheXNQYXJzZSwgbGxjKTtcblx0ICAgICAgICAgICAgaWYgKGlpICE9PSAtMSkge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIGlpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIGlpID0gaW5kZXhPZiQxLmNhbGwodGhpcy5fbWluV2Vla2RheXNQYXJzZSwgbGxjKTtcblx0ICAgICAgICAgICAgcmV0dXJuIGlpICE9PSAtMSA/IGlpIDogbnVsbDtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICBpaSA9IGluZGV4T2YkMS5jYWxsKHRoaXMuX21pbldlZWtkYXlzUGFyc2UsIGxsYyk7XG5cdCAgICAgICAgICAgIGlmIChpaSAhPT0gLTEpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBpaTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBpaSA9IGluZGV4T2YkMS5jYWxsKHRoaXMuX3dlZWtkYXlzUGFyc2UsIGxsYyk7XG5cdCAgICAgICAgICAgIGlmIChpaSAhPT0gLTEpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBpaTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBpaSA9IGluZGV4T2YkMS5jYWxsKHRoaXMuX3Nob3J0V2Vla2RheXNQYXJzZSwgbGxjKTtcblx0ICAgICAgICAgICAgcmV0dXJuIGlpICE9PSAtMSA/IGlpIDogbnVsbDtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGxvY2FsZVdlZWtkYXlzUGFyc2UgKHdlZWtkYXlOYW1lLCBmb3JtYXQsIHN0cmljdCkge1xuXHQgICAgdmFyIGksIG1vbSwgcmVnZXg7XG5cdFxuXHQgICAgaWYgKHRoaXMuX3dlZWtkYXlzUGFyc2VFeGFjdCkge1xuXHQgICAgICAgIHJldHVybiBoYW5kbGVTdHJpY3RQYXJzZSQxLmNhbGwodGhpcywgd2Vla2RheU5hbWUsIGZvcm1hdCwgc3RyaWN0KTtcblx0ICAgIH1cblx0XG5cdCAgICBpZiAoIXRoaXMuX3dlZWtkYXlzUGFyc2UpIHtcblx0ICAgICAgICB0aGlzLl93ZWVrZGF5c1BhcnNlID0gW107XG5cdCAgICAgICAgdGhpcy5fbWluV2Vla2RheXNQYXJzZSA9IFtdO1xuXHQgICAgICAgIHRoaXMuX3Nob3J0V2Vla2RheXNQYXJzZSA9IFtdO1xuXHQgICAgICAgIHRoaXMuX2Z1bGxXZWVrZGF5c1BhcnNlID0gW107XG5cdCAgICB9XG5cdFxuXHQgICAgZm9yIChpID0gMDsgaSA8IDc7IGkrKykge1xuXHQgICAgICAgIC8vIG1ha2UgdGhlIHJlZ2V4IGlmIHdlIGRvbid0IGhhdmUgaXQgYWxyZWFkeVxuXHRcblx0ICAgICAgICBtb20gPSBjcmVhdGVVVEMoWzIwMDAsIDFdKS5kYXkoaSk7XG5cdCAgICAgICAgaWYgKHN0cmljdCAmJiAhdGhpcy5fZnVsbFdlZWtkYXlzUGFyc2VbaV0pIHtcblx0ICAgICAgICAgICAgdGhpcy5fZnVsbFdlZWtkYXlzUGFyc2VbaV0gPSBuZXcgUmVnRXhwKCdeJyArIHRoaXMud2Vla2RheXMobW9tLCAnJykucmVwbGFjZSgnLicsICdcXC4/JykgKyAnJCcsICdpJyk7XG5cdCAgICAgICAgICAgIHRoaXMuX3Nob3J0V2Vla2RheXNQYXJzZVtpXSA9IG5ldyBSZWdFeHAoJ14nICsgdGhpcy53ZWVrZGF5c1Nob3J0KG1vbSwgJycpLnJlcGxhY2UoJy4nLCAnXFwuPycpICsgJyQnLCAnaScpO1xuXHQgICAgICAgICAgICB0aGlzLl9taW5XZWVrZGF5c1BhcnNlW2ldID0gbmV3IFJlZ0V4cCgnXicgKyB0aGlzLndlZWtkYXlzTWluKG1vbSwgJycpLnJlcGxhY2UoJy4nLCAnXFwuPycpICsgJyQnLCAnaScpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAoIXRoaXMuX3dlZWtkYXlzUGFyc2VbaV0pIHtcblx0ICAgICAgICAgICAgcmVnZXggPSAnXicgKyB0aGlzLndlZWtkYXlzKG1vbSwgJycpICsgJ3xeJyArIHRoaXMud2Vla2RheXNTaG9ydChtb20sICcnKSArICd8XicgKyB0aGlzLndlZWtkYXlzTWluKG1vbSwgJycpO1xuXHQgICAgICAgICAgICB0aGlzLl93ZWVrZGF5c1BhcnNlW2ldID0gbmV3IFJlZ0V4cChyZWdleC5yZXBsYWNlKCcuJywgJycpLCAnaScpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICAvLyB0ZXN0IHRoZSByZWdleFxuXHQgICAgICAgIGlmIChzdHJpY3QgJiYgZm9ybWF0ID09PSAnZGRkZCcgJiYgdGhpcy5fZnVsbFdlZWtkYXlzUGFyc2VbaV0udGVzdCh3ZWVrZGF5TmFtZSkpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIGk7XG5cdCAgICAgICAgfSBlbHNlIGlmIChzdHJpY3QgJiYgZm9ybWF0ID09PSAnZGRkJyAmJiB0aGlzLl9zaG9ydFdlZWtkYXlzUGFyc2VbaV0udGVzdCh3ZWVrZGF5TmFtZSkpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIGk7XG5cdCAgICAgICAgfSBlbHNlIGlmIChzdHJpY3QgJiYgZm9ybWF0ID09PSAnZGQnICYmIHRoaXMuX21pbldlZWtkYXlzUGFyc2VbaV0udGVzdCh3ZWVrZGF5TmFtZSkpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIGk7XG5cdCAgICAgICAgfSBlbHNlIGlmICghc3RyaWN0ICYmIHRoaXMuX3dlZWtkYXlzUGFyc2VbaV0udGVzdCh3ZWVrZGF5TmFtZSkpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIGk7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHR9XG5cdFxuXHQvLyBNT01FTlRTXG5cdFxuXHRmdW5jdGlvbiBnZXRTZXREYXlPZldlZWsgKGlucHV0KSB7XG5cdCAgICBpZiAoIXRoaXMuaXNWYWxpZCgpKSB7XG5cdCAgICAgICAgcmV0dXJuIGlucHV0ICE9IG51bGwgPyB0aGlzIDogTmFOO1xuXHQgICAgfVxuXHQgICAgdmFyIGRheSA9IHRoaXMuX2lzVVRDID8gdGhpcy5fZC5nZXRVVENEYXkoKSA6IHRoaXMuX2QuZ2V0RGF5KCk7XG5cdCAgICBpZiAoaW5wdXQgIT0gbnVsbCkge1xuXHQgICAgICAgIGlucHV0ID0gcGFyc2VXZWVrZGF5KGlucHV0LCB0aGlzLmxvY2FsZURhdGEoKSk7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMuYWRkKGlucHV0IC0gZGF5LCAnZCcpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXR1cm4gZGF5O1xuXHQgICAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBnZXRTZXRMb2NhbGVEYXlPZldlZWsgKGlucHV0KSB7XG5cdCAgICBpZiAoIXRoaXMuaXNWYWxpZCgpKSB7XG5cdCAgICAgICAgcmV0dXJuIGlucHV0ICE9IG51bGwgPyB0aGlzIDogTmFOO1xuXHQgICAgfVxuXHQgICAgdmFyIHdlZWtkYXkgPSAodGhpcy5kYXkoKSArIDcgLSB0aGlzLmxvY2FsZURhdGEoKS5fd2Vlay5kb3cpICUgNztcblx0ICAgIHJldHVybiBpbnB1dCA9PSBudWxsID8gd2Vla2RheSA6IHRoaXMuYWRkKGlucHV0IC0gd2Vla2RheSwgJ2QnKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gZ2V0U2V0SVNPRGF5T2ZXZWVrIChpbnB1dCkge1xuXHQgICAgaWYgKCF0aGlzLmlzVmFsaWQoKSkge1xuXHQgICAgICAgIHJldHVybiBpbnB1dCAhPSBudWxsID8gdGhpcyA6IE5hTjtcblx0ICAgIH1cblx0XG5cdCAgICAvLyBiZWhhdmVzIHRoZSBzYW1lIGFzIG1vbWVudCNkYXkgZXhjZXB0XG5cdCAgICAvLyBhcyBhIGdldHRlciwgcmV0dXJucyA3IGluc3RlYWQgb2YgMCAoMS03IHJhbmdlIGluc3RlYWQgb2YgMC02KVxuXHQgICAgLy8gYXMgYSBzZXR0ZXIsIHN1bmRheSBzaG91bGQgYmVsb25nIHRvIHRoZSBwcmV2aW91cyB3ZWVrLlxuXHRcblx0ICAgIGlmIChpbnB1dCAhPSBudWxsKSB7XG5cdCAgICAgICAgdmFyIHdlZWtkYXkgPSBwYXJzZUlzb1dlZWtkYXkoaW5wdXQsIHRoaXMubG9jYWxlRGF0YSgpKTtcblx0ICAgICAgICByZXR1cm4gdGhpcy5kYXkodGhpcy5kYXkoKSAlIDcgPyB3ZWVrZGF5IDogd2Vla2RheSAtIDcpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXR1cm4gdGhpcy5kYXkoKSB8fCA3O1xuXHQgICAgfVxuXHR9XG5cdFxuXHR2YXIgZGVmYXVsdFdlZWtkYXlzUmVnZXggPSBtYXRjaFdvcmQ7XG5cdGZ1bmN0aW9uIHdlZWtkYXlzUmVnZXggKGlzU3RyaWN0KSB7XG5cdCAgICBpZiAodGhpcy5fd2Vla2RheXNQYXJzZUV4YWN0KSB7XG5cdCAgICAgICAgaWYgKCFoYXNPd25Qcm9wKHRoaXMsICdfd2Vla2RheXNSZWdleCcpKSB7XG5cdCAgICAgICAgICAgIGNvbXB1dGVXZWVrZGF5c1BhcnNlLmNhbGwodGhpcyk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmIChpc1N0cmljdCkge1xuXHQgICAgICAgICAgICByZXR1cm4gdGhpcy5fd2Vla2RheXNTdHJpY3RSZWdleDtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICByZXR1cm4gdGhpcy5fd2Vla2RheXNSZWdleDtcblx0ICAgICAgICB9XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIGlmICghaGFzT3duUHJvcCh0aGlzLCAnX3dlZWtkYXlzUmVnZXgnKSkge1xuXHQgICAgICAgICAgICB0aGlzLl93ZWVrZGF5c1JlZ2V4ID0gZGVmYXVsdFdlZWtkYXlzUmVnZXg7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiB0aGlzLl93ZWVrZGF5c1N0cmljdFJlZ2V4ICYmIGlzU3RyaWN0ID9cblx0ICAgICAgICAgICAgdGhpcy5fd2Vla2RheXNTdHJpY3RSZWdleCA6IHRoaXMuX3dlZWtkYXlzUmVnZXg7XG5cdCAgICB9XG5cdH1cblx0XG5cdHZhciBkZWZhdWx0V2Vla2RheXNTaG9ydFJlZ2V4ID0gbWF0Y2hXb3JkO1xuXHRmdW5jdGlvbiB3ZWVrZGF5c1Nob3J0UmVnZXggKGlzU3RyaWN0KSB7XG5cdCAgICBpZiAodGhpcy5fd2Vla2RheXNQYXJzZUV4YWN0KSB7XG5cdCAgICAgICAgaWYgKCFoYXNPd25Qcm9wKHRoaXMsICdfd2Vla2RheXNSZWdleCcpKSB7XG5cdCAgICAgICAgICAgIGNvbXB1dGVXZWVrZGF5c1BhcnNlLmNhbGwodGhpcyk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmIChpc1N0cmljdCkge1xuXHQgICAgICAgICAgICByZXR1cm4gdGhpcy5fd2Vla2RheXNTaG9ydFN0cmljdFJlZ2V4O1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzLl93ZWVrZGF5c1Nob3J0UmVnZXg7XG5cdCAgICAgICAgfVxuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICBpZiAoIWhhc093blByb3AodGhpcywgJ193ZWVrZGF5c1Nob3J0UmVnZXgnKSkge1xuXHQgICAgICAgICAgICB0aGlzLl93ZWVrZGF5c1Nob3J0UmVnZXggPSBkZWZhdWx0V2Vla2RheXNTaG9ydFJlZ2V4O1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gdGhpcy5fd2Vla2RheXNTaG9ydFN0cmljdFJlZ2V4ICYmIGlzU3RyaWN0ID9cblx0ICAgICAgICAgICAgdGhpcy5fd2Vla2RheXNTaG9ydFN0cmljdFJlZ2V4IDogdGhpcy5fd2Vla2RheXNTaG9ydFJlZ2V4O1xuXHQgICAgfVxuXHR9XG5cdFxuXHR2YXIgZGVmYXVsdFdlZWtkYXlzTWluUmVnZXggPSBtYXRjaFdvcmQ7XG5cdGZ1bmN0aW9uIHdlZWtkYXlzTWluUmVnZXggKGlzU3RyaWN0KSB7XG5cdCAgICBpZiAodGhpcy5fd2Vla2RheXNQYXJzZUV4YWN0KSB7XG5cdCAgICAgICAgaWYgKCFoYXNPd25Qcm9wKHRoaXMsICdfd2Vla2RheXNSZWdleCcpKSB7XG5cdCAgICAgICAgICAgIGNvbXB1dGVXZWVrZGF5c1BhcnNlLmNhbGwodGhpcyk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmIChpc1N0cmljdCkge1xuXHQgICAgICAgICAgICByZXR1cm4gdGhpcy5fd2Vla2RheXNNaW5TdHJpY3RSZWdleDtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICByZXR1cm4gdGhpcy5fd2Vla2RheXNNaW5SZWdleDtcblx0ICAgICAgICB9XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIGlmICghaGFzT3duUHJvcCh0aGlzLCAnX3dlZWtkYXlzTWluUmVnZXgnKSkge1xuXHQgICAgICAgICAgICB0aGlzLl93ZWVrZGF5c01pblJlZ2V4ID0gZGVmYXVsdFdlZWtkYXlzTWluUmVnZXg7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiB0aGlzLl93ZWVrZGF5c01pblN0cmljdFJlZ2V4ICYmIGlzU3RyaWN0ID9cblx0ICAgICAgICAgICAgdGhpcy5fd2Vla2RheXNNaW5TdHJpY3RSZWdleCA6IHRoaXMuX3dlZWtkYXlzTWluUmVnZXg7XG5cdCAgICB9XG5cdH1cblx0XG5cdFxuXHRmdW5jdGlvbiBjb21wdXRlV2Vla2RheXNQYXJzZSAoKSB7XG5cdCAgICBmdW5jdGlvbiBjbXBMZW5SZXYoYSwgYikge1xuXHQgICAgICAgIHJldHVybiBiLmxlbmd0aCAtIGEubGVuZ3RoO1xuXHQgICAgfVxuXHRcblx0ICAgIHZhciBtaW5QaWVjZXMgPSBbXSwgc2hvcnRQaWVjZXMgPSBbXSwgbG9uZ1BpZWNlcyA9IFtdLCBtaXhlZFBpZWNlcyA9IFtdLFxuXHQgICAgICAgIGksIG1vbSwgbWlucCwgc2hvcnRwLCBsb25ncDtcblx0ICAgIGZvciAoaSA9IDA7IGkgPCA3OyBpKyspIHtcblx0ICAgICAgICAvLyBtYWtlIHRoZSByZWdleCBpZiB3ZSBkb24ndCBoYXZlIGl0IGFscmVhZHlcblx0ICAgICAgICBtb20gPSBjcmVhdGVVVEMoWzIwMDAsIDFdKS5kYXkoaSk7XG5cdCAgICAgICAgbWlucCA9IHRoaXMud2Vla2RheXNNaW4obW9tLCAnJyk7XG5cdCAgICAgICAgc2hvcnRwID0gdGhpcy53ZWVrZGF5c1Nob3J0KG1vbSwgJycpO1xuXHQgICAgICAgIGxvbmdwID0gdGhpcy53ZWVrZGF5cyhtb20sICcnKTtcblx0ICAgICAgICBtaW5QaWVjZXMucHVzaChtaW5wKTtcblx0ICAgICAgICBzaG9ydFBpZWNlcy5wdXNoKHNob3J0cCk7XG5cdCAgICAgICAgbG9uZ1BpZWNlcy5wdXNoKGxvbmdwKTtcblx0ICAgICAgICBtaXhlZFBpZWNlcy5wdXNoKG1pbnApO1xuXHQgICAgICAgIG1peGVkUGllY2VzLnB1c2goc2hvcnRwKTtcblx0ICAgICAgICBtaXhlZFBpZWNlcy5wdXNoKGxvbmdwKTtcblx0ICAgIH1cblx0ICAgIC8vIFNvcnRpbmcgbWFrZXMgc3VyZSBpZiBvbmUgd2Vla2RheSAob3IgYWJicikgaXMgYSBwcmVmaXggb2YgYW5vdGhlciBpdFxuXHQgICAgLy8gd2lsbCBtYXRjaCB0aGUgbG9uZ2VyIHBpZWNlLlxuXHQgICAgbWluUGllY2VzLnNvcnQoY21wTGVuUmV2KTtcblx0ICAgIHNob3J0UGllY2VzLnNvcnQoY21wTGVuUmV2KTtcblx0ICAgIGxvbmdQaWVjZXMuc29ydChjbXBMZW5SZXYpO1xuXHQgICAgbWl4ZWRQaWVjZXMuc29ydChjbXBMZW5SZXYpO1xuXHQgICAgZm9yIChpID0gMDsgaSA8IDc7IGkrKykge1xuXHQgICAgICAgIHNob3J0UGllY2VzW2ldID0gcmVnZXhFc2NhcGUoc2hvcnRQaWVjZXNbaV0pO1xuXHQgICAgICAgIGxvbmdQaWVjZXNbaV0gPSByZWdleEVzY2FwZShsb25nUGllY2VzW2ldKTtcblx0ICAgICAgICBtaXhlZFBpZWNlc1tpXSA9IHJlZ2V4RXNjYXBlKG1peGVkUGllY2VzW2ldKTtcblx0ICAgIH1cblx0XG5cdCAgICB0aGlzLl93ZWVrZGF5c1JlZ2V4ID0gbmV3IFJlZ0V4cCgnXignICsgbWl4ZWRQaWVjZXMuam9pbignfCcpICsgJyknLCAnaScpO1xuXHQgICAgdGhpcy5fd2Vla2RheXNTaG9ydFJlZ2V4ID0gdGhpcy5fd2Vla2RheXNSZWdleDtcblx0ICAgIHRoaXMuX3dlZWtkYXlzTWluUmVnZXggPSB0aGlzLl93ZWVrZGF5c1JlZ2V4O1xuXHRcblx0ICAgIHRoaXMuX3dlZWtkYXlzU3RyaWN0UmVnZXggPSBuZXcgUmVnRXhwKCdeKCcgKyBsb25nUGllY2VzLmpvaW4oJ3wnKSArICcpJywgJ2knKTtcblx0ICAgIHRoaXMuX3dlZWtkYXlzU2hvcnRTdHJpY3RSZWdleCA9IG5ldyBSZWdFeHAoJ14oJyArIHNob3J0UGllY2VzLmpvaW4oJ3wnKSArICcpJywgJ2knKTtcblx0ICAgIHRoaXMuX3dlZWtkYXlzTWluU3RyaWN0UmVnZXggPSBuZXcgUmVnRXhwKCdeKCcgKyBtaW5QaWVjZXMuam9pbignfCcpICsgJyknLCAnaScpO1xuXHR9XG5cdFxuXHQvLyBGT1JNQVRUSU5HXG5cdFxuXHRmdW5jdGlvbiBoRm9ybWF0KCkge1xuXHQgICAgcmV0dXJuIHRoaXMuaG91cnMoKSAlIDEyIHx8IDEyO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBrRm9ybWF0KCkge1xuXHQgICAgcmV0dXJuIHRoaXMuaG91cnMoKSB8fCAyNDtcblx0fVxuXHRcblx0YWRkRm9ybWF0VG9rZW4oJ0gnLCBbJ0hIJywgMl0sIDAsICdob3VyJyk7XG5cdGFkZEZvcm1hdFRva2VuKCdoJywgWydoaCcsIDJdLCAwLCBoRm9ybWF0KTtcblx0YWRkRm9ybWF0VG9rZW4oJ2snLCBbJ2trJywgMl0sIDAsIGtGb3JtYXQpO1xuXHRcblx0YWRkRm9ybWF0VG9rZW4oJ2htbScsIDAsIDAsIGZ1bmN0aW9uICgpIHtcblx0ICAgIHJldHVybiAnJyArIGhGb3JtYXQuYXBwbHkodGhpcykgKyB6ZXJvRmlsbCh0aGlzLm1pbnV0ZXMoKSwgMik7XG5cdH0pO1xuXHRcblx0YWRkRm9ybWF0VG9rZW4oJ2htbXNzJywgMCwgMCwgZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuICcnICsgaEZvcm1hdC5hcHBseSh0aGlzKSArIHplcm9GaWxsKHRoaXMubWludXRlcygpLCAyKSArXG5cdCAgICAgICAgemVyb0ZpbGwodGhpcy5zZWNvbmRzKCksIDIpO1xuXHR9KTtcblx0XG5cdGFkZEZvcm1hdFRva2VuKCdIbW0nLCAwLCAwLCBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gJycgKyB0aGlzLmhvdXJzKCkgKyB6ZXJvRmlsbCh0aGlzLm1pbnV0ZXMoKSwgMik7XG5cdH0pO1xuXHRcblx0YWRkRm9ybWF0VG9rZW4oJ0htbXNzJywgMCwgMCwgZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuICcnICsgdGhpcy5ob3VycygpICsgemVyb0ZpbGwodGhpcy5taW51dGVzKCksIDIpICtcblx0ICAgICAgICB6ZXJvRmlsbCh0aGlzLnNlY29uZHMoKSwgMik7XG5cdH0pO1xuXHRcblx0ZnVuY3Rpb24gbWVyaWRpZW0gKHRva2VuLCBsb3dlcmNhc2UpIHtcblx0ICAgIGFkZEZvcm1hdFRva2VuKHRva2VuLCAwLCAwLCBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLm1lcmlkaWVtKHRoaXMuaG91cnMoKSwgdGhpcy5taW51dGVzKCksIGxvd2VyY2FzZSk7XG5cdCAgICB9KTtcblx0fVxuXHRcblx0bWVyaWRpZW0oJ2EnLCB0cnVlKTtcblx0bWVyaWRpZW0oJ0EnLCBmYWxzZSk7XG5cdFxuXHQvLyBBTElBU0VTXG5cdFxuXHRhZGRVbml0QWxpYXMoJ2hvdXInLCAnaCcpO1xuXHRcblx0Ly8gUFJJT1JJVFlcblx0YWRkVW5pdFByaW9yaXR5KCdob3VyJywgMTMpO1xuXHRcblx0Ly8gUEFSU0lOR1xuXHRcblx0ZnVuY3Rpb24gbWF0Y2hNZXJpZGllbSAoaXNTdHJpY3QsIGxvY2FsZSkge1xuXHQgICAgcmV0dXJuIGxvY2FsZS5fbWVyaWRpZW1QYXJzZTtcblx0fVxuXHRcblx0YWRkUmVnZXhUb2tlbignYScsICBtYXRjaE1lcmlkaWVtKTtcblx0YWRkUmVnZXhUb2tlbignQScsICBtYXRjaE1lcmlkaWVtKTtcblx0YWRkUmVnZXhUb2tlbignSCcsICBtYXRjaDF0bzIpO1xuXHRhZGRSZWdleFRva2VuKCdoJywgIG1hdGNoMXRvMik7XG5cdGFkZFJlZ2V4VG9rZW4oJ0hIJywgbWF0Y2gxdG8yLCBtYXRjaDIpO1xuXHRhZGRSZWdleFRva2VuKCdoaCcsIG1hdGNoMXRvMiwgbWF0Y2gyKTtcblx0XG5cdGFkZFJlZ2V4VG9rZW4oJ2htbScsIG1hdGNoM3RvNCk7XG5cdGFkZFJlZ2V4VG9rZW4oJ2htbXNzJywgbWF0Y2g1dG82KTtcblx0YWRkUmVnZXhUb2tlbignSG1tJywgbWF0Y2gzdG80KTtcblx0YWRkUmVnZXhUb2tlbignSG1tc3MnLCBtYXRjaDV0bzYpO1xuXHRcblx0YWRkUGFyc2VUb2tlbihbJ0gnLCAnSEgnXSwgSE9VUik7XG5cdGFkZFBhcnNlVG9rZW4oWydhJywgJ0EnXSwgZnVuY3Rpb24gKGlucHV0LCBhcnJheSwgY29uZmlnKSB7XG5cdCAgICBjb25maWcuX2lzUG0gPSBjb25maWcuX2xvY2FsZS5pc1BNKGlucHV0KTtcblx0ICAgIGNvbmZpZy5fbWVyaWRpZW0gPSBpbnB1dDtcblx0fSk7XG5cdGFkZFBhcnNlVG9rZW4oWydoJywgJ2hoJ10sIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXksIGNvbmZpZykge1xuXHQgICAgYXJyYXlbSE9VUl0gPSB0b0ludChpbnB1dCk7XG5cdCAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5iaWdIb3VyID0gdHJ1ZTtcblx0fSk7XG5cdGFkZFBhcnNlVG9rZW4oJ2htbScsIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXksIGNvbmZpZykge1xuXHQgICAgdmFyIHBvcyA9IGlucHV0Lmxlbmd0aCAtIDI7XG5cdCAgICBhcnJheVtIT1VSXSA9IHRvSW50KGlucHV0LnN1YnN0cigwLCBwb3MpKTtcblx0ICAgIGFycmF5W01JTlVURV0gPSB0b0ludChpbnB1dC5zdWJzdHIocG9zKSk7XG5cdCAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5iaWdIb3VyID0gdHJ1ZTtcblx0fSk7XG5cdGFkZFBhcnNlVG9rZW4oJ2htbXNzJywgZnVuY3Rpb24gKGlucHV0LCBhcnJheSwgY29uZmlnKSB7XG5cdCAgICB2YXIgcG9zMSA9IGlucHV0Lmxlbmd0aCAtIDQ7XG5cdCAgICB2YXIgcG9zMiA9IGlucHV0Lmxlbmd0aCAtIDI7XG5cdCAgICBhcnJheVtIT1VSXSA9IHRvSW50KGlucHV0LnN1YnN0cigwLCBwb3MxKSk7XG5cdCAgICBhcnJheVtNSU5VVEVdID0gdG9JbnQoaW5wdXQuc3Vic3RyKHBvczEsIDIpKTtcblx0ICAgIGFycmF5W1NFQ09ORF0gPSB0b0ludChpbnB1dC5zdWJzdHIocG9zMikpO1xuXHQgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuYmlnSG91ciA9IHRydWU7XG5cdH0pO1xuXHRhZGRQYXJzZVRva2VuKCdIbW0nLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcpIHtcblx0ICAgIHZhciBwb3MgPSBpbnB1dC5sZW5ndGggLSAyO1xuXHQgICAgYXJyYXlbSE9VUl0gPSB0b0ludChpbnB1dC5zdWJzdHIoMCwgcG9zKSk7XG5cdCAgICBhcnJheVtNSU5VVEVdID0gdG9JbnQoaW5wdXQuc3Vic3RyKHBvcykpO1xuXHR9KTtcblx0YWRkUGFyc2VUb2tlbignSG1tc3MnLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcpIHtcblx0ICAgIHZhciBwb3MxID0gaW5wdXQubGVuZ3RoIC0gNDtcblx0ICAgIHZhciBwb3MyID0gaW5wdXQubGVuZ3RoIC0gMjtcblx0ICAgIGFycmF5W0hPVVJdID0gdG9JbnQoaW5wdXQuc3Vic3RyKDAsIHBvczEpKTtcblx0ICAgIGFycmF5W01JTlVURV0gPSB0b0ludChpbnB1dC5zdWJzdHIocG9zMSwgMikpO1xuXHQgICAgYXJyYXlbU0VDT05EXSA9IHRvSW50KGlucHV0LnN1YnN0cihwb3MyKSk7XG5cdH0pO1xuXHRcblx0Ly8gTE9DQUxFU1xuXHRcblx0ZnVuY3Rpb24gbG9jYWxlSXNQTSAoaW5wdXQpIHtcblx0ICAgIC8vIElFOCBRdWlya3MgTW9kZSAmIElFNyBTdGFuZGFyZHMgTW9kZSBkbyBub3QgYWxsb3cgYWNjZXNzaW5nIHN0cmluZ3MgbGlrZSBhcnJheXNcblx0ICAgIC8vIFVzaW5nIGNoYXJBdCBzaG91bGQgYmUgbW9yZSBjb21wYXRpYmxlLlxuXHQgICAgcmV0dXJuICgoaW5wdXQgKyAnJykudG9Mb3dlckNhc2UoKS5jaGFyQXQoMCkgPT09ICdwJyk7XG5cdH1cblx0XG5cdHZhciBkZWZhdWx0TG9jYWxlTWVyaWRpZW1QYXJzZSA9IC9bYXBdXFwuP20/XFwuPy9pO1xuXHRmdW5jdGlvbiBsb2NhbGVNZXJpZGllbSAoaG91cnMsIG1pbnV0ZXMsIGlzTG93ZXIpIHtcblx0ICAgIGlmIChob3VycyA+IDExKSB7XG5cdCAgICAgICAgcmV0dXJuIGlzTG93ZXIgPyAncG0nIDogJ1BNJztcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmV0dXJuIGlzTG93ZXIgPyAnYW0nIDogJ0FNJztcblx0ICAgIH1cblx0fVxuXHRcblx0XG5cdC8vIE1PTUVOVFNcblx0XG5cdC8vIFNldHRpbmcgdGhlIGhvdXIgc2hvdWxkIGtlZXAgdGhlIHRpbWUsIGJlY2F1c2UgdGhlIHVzZXIgZXhwbGljaXRseVxuXHQvLyBzcGVjaWZpZWQgd2hpY2ggaG91ciBoZSB3YW50cy4gU28gdHJ5aW5nIHRvIG1haW50YWluIHRoZSBzYW1lIGhvdXIgKGluXG5cdC8vIGEgbmV3IHRpbWV6b25lKSBtYWtlcyBzZW5zZS4gQWRkaW5nL3N1YnRyYWN0aW5nIGhvdXJzIGRvZXMgbm90IGZvbGxvd1xuXHQvLyB0aGlzIHJ1bGUuXG5cdHZhciBnZXRTZXRIb3VyID0gbWFrZUdldFNldCgnSG91cnMnLCB0cnVlKTtcblx0XG5cdC8vIG1vbnRoc1xuXHQvLyB3ZWVrXG5cdC8vIHdlZWtkYXlzXG5cdC8vIG1lcmlkaWVtXG5cdHZhciBiYXNlQ29uZmlnID0ge1xuXHQgICAgY2FsZW5kYXI6IGRlZmF1bHRDYWxlbmRhcixcblx0ICAgIGxvbmdEYXRlRm9ybWF0OiBkZWZhdWx0TG9uZ0RhdGVGb3JtYXQsXG5cdCAgICBpbnZhbGlkRGF0ZTogZGVmYXVsdEludmFsaWREYXRlLFxuXHQgICAgb3JkaW5hbDogZGVmYXVsdE9yZGluYWwsXG5cdCAgICBvcmRpbmFsUGFyc2U6IGRlZmF1bHRPcmRpbmFsUGFyc2UsXG5cdCAgICByZWxhdGl2ZVRpbWU6IGRlZmF1bHRSZWxhdGl2ZVRpbWUsXG5cdFxuXHQgICAgbW9udGhzOiBkZWZhdWx0TG9jYWxlTW9udGhzLFxuXHQgICAgbW9udGhzU2hvcnQ6IGRlZmF1bHRMb2NhbGVNb250aHNTaG9ydCxcblx0XG5cdCAgICB3ZWVrOiBkZWZhdWx0TG9jYWxlV2Vlayxcblx0XG5cdCAgICB3ZWVrZGF5czogZGVmYXVsdExvY2FsZVdlZWtkYXlzLFxuXHQgICAgd2Vla2RheXNNaW46IGRlZmF1bHRMb2NhbGVXZWVrZGF5c01pbixcblx0ICAgIHdlZWtkYXlzU2hvcnQ6IGRlZmF1bHRMb2NhbGVXZWVrZGF5c1Nob3J0LFxuXHRcblx0ICAgIG1lcmlkaWVtUGFyc2U6IGRlZmF1bHRMb2NhbGVNZXJpZGllbVBhcnNlXG5cdH07XG5cdFxuXHQvLyBpbnRlcm5hbCBzdG9yYWdlIGZvciBsb2NhbGUgY29uZmlnIGZpbGVzXG5cdHZhciBsb2NhbGVzID0ge307XG5cdHZhciBsb2NhbGVGYW1pbGllcyA9IHt9O1xuXHR2YXIgZ2xvYmFsTG9jYWxlO1xuXHRcblx0ZnVuY3Rpb24gbm9ybWFsaXplTG9jYWxlKGtleSkge1xuXHQgICAgcmV0dXJuIGtleSA/IGtleS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoJ18nLCAnLScpIDoga2V5O1xuXHR9XG5cdFxuXHQvLyBwaWNrIHRoZSBsb2NhbGUgZnJvbSB0aGUgYXJyYXlcblx0Ly8gdHJ5IFsnZW4tYXUnLCAnZW4tZ2InXSBhcyAnZW4tYXUnLCAnZW4tZ2InLCAnZW4nLCBhcyBpbiBtb3ZlIHRocm91Z2ggdGhlIGxpc3QgdHJ5aW5nIGVhY2hcblx0Ly8gc3Vic3RyaW5nIGZyb20gbW9zdCBzcGVjaWZpYyB0byBsZWFzdCwgYnV0IG1vdmUgdG8gdGhlIG5leHQgYXJyYXkgaXRlbSBpZiBpdCdzIGEgbW9yZSBzcGVjaWZpYyB2YXJpYW50IHRoYW4gdGhlIGN1cnJlbnQgcm9vdFxuXHRmdW5jdGlvbiBjaG9vc2VMb2NhbGUobmFtZXMpIHtcblx0ICAgIHZhciBpID0gMCwgaiwgbmV4dCwgbG9jYWxlLCBzcGxpdDtcblx0XG5cdCAgICB3aGlsZSAoaSA8IG5hbWVzLmxlbmd0aCkge1xuXHQgICAgICAgIHNwbGl0ID0gbm9ybWFsaXplTG9jYWxlKG5hbWVzW2ldKS5zcGxpdCgnLScpO1xuXHQgICAgICAgIGogPSBzcGxpdC5sZW5ndGg7XG5cdCAgICAgICAgbmV4dCA9IG5vcm1hbGl6ZUxvY2FsZShuYW1lc1tpICsgMV0pO1xuXHQgICAgICAgIG5leHQgPSBuZXh0ID8gbmV4dC5zcGxpdCgnLScpIDogbnVsbDtcblx0ICAgICAgICB3aGlsZSAoaiA+IDApIHtcblx0ICAgICAgICAgICAgbG9jYWxlID0gbG9hZExvY2FsZShzcGxpdC5zbGljZSgwLCBqKS5qb2luKCctJykpO1xuXHQgICAgICAgICAgICBpZiAobG9jYWxlKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gbG9jYWxlO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIGlmIChuZXh0ICYmIG5leHQubGVuZ3RoID49IGogJiYgY29tcGFyZUFycmF5cyhzcGxpdCwgbmV4dCwgdHJ1ZSkgPj0gaiAtIDEpIHtcblx0ICAgICAgICAgICAgICAgIC8vdGhlIG5leHQgYXJyYXkgaXRlbSBpcyBiZXR0ZXIgdGhhbiBhIHNoYWxsb3dlciBzdWJzdHJpbmcgb2YgdGhpcyBvbmVcblx0ICAgICAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIGotLTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgaSsrO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIG51bGw7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGxvYWRMb2NhbGUobmFtZSkge1xuXHQgICAgdmFyIG9sZExvY2FsZSA9IG51bGw7XG5cdCAgICAvLyBUT0RPOiBGaW5kIGEgYmV0dGVyIHdheSB0byByZWdpc3RlciBhbmQgbG9hZCBhbGwgdGhlIGxvY2FsZXMgaW4gTm9kZVxuXHQgICAgaWYgKCFsb2NhbGVzW25hbWVdICYmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJykgJiZcblx0ICAgICAgICAgICAgbW9kdWxlICYmIG1vZHVsZS5leHBvcnRzKSB7XG5cdCAgICAgICAgdHJ5IHtcblx0ICAgICAgICAgICAgb2xkTG9jYWxlID0gZ2xvYmFsTG9jYWxlLl9hYmJyO1xuXHQgICAgICAgICAgICAhKGZ1bmN0aW9uIHdlYnBhY2tNaXNzaW5nTW9kdWxlKCkgeyB2YXIgZSA9IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSBcXFwiLi9sb2NhbGVcXFwiXCIpOyBlLmNvZGUgPSAnTU9EVUxFX05PVF9GT1VORCc7IHRocm93IGU7IH0oKSk7XG5cdCAgICAgICAgICAgIC8vIGJlY2F1c2UgZGVmaW5lTG9jYWxlIGN1cnJlbnRseSBhbHNvIHNldHMgdGhlIGdsb2JhbCBsb2NhbGUsIHdlXG5cdCAgICAgICAgICAgIC8vIHdhbnQgdG8gdW5kbyB0aGF0IGZvciBsYXp5IGxvYWRlZCBsb2NhbGVzXG5cdCAgICAgICAgICAgIGdldFNldEdsb2JhbExvY2FsZShvbGRMb2NhbGUpO1xuXHQgICAgICAgIH0gY2F0Y2ggKGUpIHsgfVxuXHQgICAgfVxuXHQgICAgcmV0dXJuIGxvY2FsZXNbbmFtZV07XG5cdH1cblx0XG5cdC8vIFRoaXMgZnVuY3Rpb24gd2lsbCBsb2FkIGxvY2FsZSBhbmQgdGhlbiBzZXQgdGhlIGdsb2JhbCBsb2NhbGUuICBJZlxuXHQvLyBubyBhcmd1bWVudHMgYXJlIHBhc3NlZCBpbiwgaXQgd2lsbCBzaW1wbHkgcmV0dXJuIHRoZSBjdXJyZW50IGdsb2JhbFxuXHQvLyBsb2NhbGUga2V5LlxuXHRmdW5jdGlvbiBnZXRTZXRHbG9iYWxMb2NhbGUgKGtleSwgdmFsdWVzKSB7XG5cdCAgICB2YXIgZGF0YTtcblx0ICAgIGlmIChrZXkpIHtcblx0ICAgICAgICBpZiAoaXNVbmRlZmluZWQodmFsdWVzKSkge1xuXHQgICAgICAgICAgICBkYXRhID0gZ2V0TG9jYWxlKGtleSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGVsc2Uge1xuXHQgICAgICAgICAgICBkYXRhID0gZGVmaW5lTG9jYWxlKGtleSwgdmFsdWVzKTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIGlmIChkYXRhKSB7XG5cdCAgICAgICAgICAgIC8vIG1vbWVudC5kdXJhdGlvbi5fbG9jYWxlID0gbW9tZW50Ll9sb2NhbGUgPSBkYXRhO1xuXHQgICAgICAgICAgICBnbG9iYWxMb2NhbGUgPSBkYXRhO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gZ2xvYmFsTG9jYWxlLl9hYmJyO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBkZWZpbmVMb2NhbGUgKG5hbWUsIGNvbmZpZykge1xuXHQgICAgaWYgKGNvbmZpZyAhPT0gbnVsbCkge1xuXHQgICAgICAgIHZhciBwYXJlbnRDb25maWcgPSBiYXNlQ29uZmlnO1xuXHQgICAgICAgIGNvbmZpZy5hYmJyID0gbmFtZTtcblx0ICAgICAgICBpZiAobG9jYWxlc1tuYW1lXSAhPSBudWxsKSB7XG5cdCAgICAgICAgICAgIGRlcHJlY2F0ZVNpbXBsZSgnZGVmaW5lTG9jYWxlT3ZlcnJpZGUnLFxuXHQgICAgICAgICAgICAgICAgICAgICd1c2UgbW9tZW50LnVwZGF0ZUxvY2FsZShsb2NhbGVOYW1lLCBjb25maWcpIHRvIGNoYW5nZSAnICtcblx0ICAgICAgICAgICAgICAgICAgICAnYW4gZXhpc3RpbmcgbG9jYWxlLiBtb21lbnQuZGVmaW5lTG9jYWxlKGxvY2FsZU5hbWUsICcgK1xuXHQgICAgICAgICAgICAgICAgICAgICdjb25maWcpIHNob3VsZCBvbmx5IGJlIHVzZWQgZm9yIGNyZWF0aW5nIGEgbmV3IGxvY2FsZSAnICtcblx0ICAgICAgICAgICAgICAgICAgICAnU2VlIGh0dHA6Ly9tb21lbnRqcy5jb20vZ3VpZGVzLyMvd2FybmluZ3MvZGVmaW5lLWxvY2FsZS8gZm9yIG1vcmUgaW5mby4nKTtcblx0ICAgICAgICAgICAgcGFyZW50Q29uZmlnID0gbG9jYWxlc1tuYW1lXS5fY29uZmlnO1xuXHQgICAgICAgIH0gZWxzZSBpZiAoY29uZmlnLnBhcmVudExvY2FsZSAhPSBudWxsKSB7XG5cdCAgICAgICAgICAgIGlmIChsb2NhbGVzW2NvbmZpZy5wYXJlbnRMb2NhbGVdICE9IG51bGwpIHtcblx0ICAgICAgICAgICAgICAgIHBhcmVudENvbmZpZyA9IGxvY2FsZXNbY29uZmlnLnBhcmVudExvY2FsZV0uX2NvbmZpZztcblx0ICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgIGlmICghbG9jYWxlRmFtaWxpZXNbY29uZmlnLnBhcmVudExvY2FsZV0pIHtcblx0ICAgICAgICAgICAgICAgICAgICBsb2NhbGVGYW1pbGllc1tjb25maWcucGFyZW50TG9jYWxlXSA9IFtdO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgbG9jYWxlRmFtaWxpZXNbY29uZmlnLnBhcmVudExvY2FsZV0ucHVzaCh7XG5cdCAgICAgICAgICAgICAgICAgICAgbmFtZTogbmFtZSxcblx0ICAgICAgICAgICAgICAgICAgICBjb25maWc6IGNvbmZpZ1xuXHQgICAgICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgICBsb2NhbGVzW25hbWVdID0gbmV3IExvY2FsZShtZXJnZUNvbmZpZ3MocGFyZW50Q29uZmlnLCBjb25maWcpKTtcblx0XG5cdCAgICAgICAgaWYgKGxvY2FsZUZhbWlsaWVzW25hbWVdKSB7XG5cdCAgICAgICAgICAgIGxvY2FsZUZhbWlsaWVzW25hbWVdLmZvckVhY2goZnVuY3Rpb24gKHgpIHtcblx0ICAgICAgICAgICAgICAgIGRlZmluZUxvY2FsZSh4Lm5hbWUsIHguY29uZmlnKTtcblx0ICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICAvLyBiYWNrd2FyZHMgY29tcGF0IGZvciBub3c6IGFsc28gc2V0IHRoZSBsb2NhbGVcblx0ICAgICAgICAvLyBtYWtlIHN1cmUgd2Ugc2V0IHRoZSBsb2NhbGUgQUZURVIgYWxsIGNoaWxkIGxvY2FsZXMgaGF2ZSBiZWVuXG5cdCAgICAgICAgLy8gY3JlYXRlZCwgc28gd2Ugd29uJ3QgZW5kIHVwIHdpdGggdGhlIGNoaWxkIGxvY2FsZSBzZXQuXG5cdCAgICAgICAgZ2V0U2V0R2xvYmFsTG9jYWxlKG5hbWUpO1xuXHRcblx0XG5cdCAgICAgICAgcmV0dXJuIGxvY2FsZXNbbmFtZV07XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIC8vIHVzZWZ1bCBmb3IgdGVzdGluZ1xuXHQgICAgICAgIGRlbGV0ZSBsb2NhbGVzW25hbWVdO1xuXHQgICAgICAgIHJldHVybiBudWxsO1xuXHQgICAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiB1cGRhdGVMb2NhbGUobmFtZSwgY29uZmlnKSB7XG5cdCAgICBpZiAoY29uZmlnICE9IG51bGwpIHtcblx0ICAgICAgICB2YXIgbG9jYWxlLCBwYXJlbnRDb25maWcgPSBiYXNlQ29uZmlnO1xuXHQgICAgICAgIC8vIE1FUkdFXG5cdCAgICAgICAgaWYgKGxvY2FsZXNbbmFtZV0gIT0gbnVsbCkge1xuXHQgICAgICAgICAgICBwYXJlbnRDb25maWcgPSBsb2NhbGVzW25hbWVdLl9jb25maWc7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGNvbmZpZyA9IG1lcmdlQ29uZmlncyhwYXJlbnRDb25maWcsIGNvbmZpZyk7XG5cdCAgICAgICAgbG9jYWxlID0gbmV3IExvY2FsZShjb25maWcpO1xuXHQgICAgICAgIGxvY2FsZS5wYXJlbnRMb2NhbGUgPSBsb2NhbGVzW25hbWVdO1xuXHQgICAgICAgIGxvY2FsZXNbbmFtZV0gPSBsb2NhbGU7XG5cdFxuXHQgICAgICAgIC8vIGJhY2t3YXJkcyBjb21wYXQgZm9yIG5vdzogYWxzbyBzZXQgdGhlIGxvY2FsZVxuXHQgICAgICAgIGdldFNldEdsb2JhbExvY2FsZShuYW1lKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgLy8gcGFzcyBudWxsIGZvciBjb25maWcgdG8gdW51cGRhdGUsIHVzZWZ1bCBmb3IgdGVzdHNcblx0ICAgICAgICBpZiAobG9jYWxlc1tuYW1lXSAhPSBudWxsKSB7XG5cdCAgICAgICAgICAgIGlmIChsb2NhbGVzW25hbWVdLnBhcmVudExvY2FsZSAhPSBudWxsKSB7XG5cdCAgICAgICAgICAgICAgICBsb2NhbGVzW25hbWVdID0gbG9jYWxlc1tuYW1lXS5wYXJlbnRMb2NhbGU7XG5cdCAgICAgICAgICAgIH0gZWxzZSBpZiAobG9jYWxlc1tuYW1lXSAhPSBudWxsKSB7XG5cdCAgICAgICAgICAgICAgICBkZWxldGUgbG9jYWxlc1tuYW1lXTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgIH1cblx0ICAgIHJldHVybiBsb2NhbGVzW25hbWVdO1xuXHR9XG5cdFxuXHQvLyByZXR1cm5zIGxvY2FsZSBkYXRhXG5cdGZ1bmN0aW9uIGdldExvY2FsZSAoa2V5KSB7XG5cdCAgICB2YXIgbG9jYWxlO1xuXHRcblx0ICAgIGlmIChrZXkgJiYga2V5Ll9sb2NhbGUgJiYga2V5Ll9sb2NhbGUuX2FiYnIpIHtcblx0ICAgICAgICBrZXkgPSBrZXkuX2xvY2FsZS5fYWJicjtcblx0ICAgIH1cblx0XG5cdCAgICBpZiAoIWtleSkge1xuXHQgICAgICAgIHJldHVybiBnbG9iYWxMb2NhbGU7XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKCFpc0FycmF5KGtleSkpIHtcblx0ICAgICAgICAvL3Nob3J0LWNpcmN1aXQgZXZlcnl0aGluZyBlbHNlXG5cdCAgICAgICAgbG9jYWxlID0gbG9hZExvY2FsZShrZXkpO1xuXHQgICAgICAgIGlmIChsb2NhbGUpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIGxvY2FsZTtcblx0ICAgICAgICB9XG5cdCAgICAgICAga2V5ID0gW2tleV07XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIGNob29zZUxvY2FsZShrZXkpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBsaXN0TG9jYWxlcygpIHtcblx0ICAgIHJldHVybiBrZXlzJDEobG9jYWxlcyk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGNoZWNrT3ZlcmZsb3cgKG0pIHtcblx0ICAgIHZhciBvdmVyZmxvdztcblx0ICAgIHZhciBhID0gbS5fYTtcblx0XG5cdCAgICBpZiAoYSAmJiBnZXRQYXJzaW5nRmxhZ3MobSkub3ZlcmZsb3cgPT09IC0yKSB7XG5cdCAgICAgICAgb3ZlcmZsb3cgPVxuXHQgICAgICAgICAgICBhW01PTlRIXSAgICAgICA8IDAgfHwgYVtNT05USF0gICAgICAgPiAxMSAgPyBNT05USCA6XG5cdCAgICAgICAgICAgIGFbREFURV0gICAgICAgIDwgMSB8fCBhW0RBVEVdICAgICAgICA+IGRheXNJbk1vbnRoKGFbWUVBUl0sIGFbTU9OVEhdKSA/IERBVEUgOlxuXHQgICAgICAgICAgICBhW0hPVVJdICAgICAgICA8IDAgfHwgYVtIT1VSXSAgICAgICAgPiAyNCB8fCAoYVtIT1VSXSA9PT0gMjQgJiYgKGFbTUlOVVRFXSAhPT0gMCB8fCBhW1NFQ09ORF0gIT09IDAgfHwgYVtNSUxMSVNFQ09ORF0gIT09IDApKSA/IEhPVVIgOlxuXHQgICAgICAgICAgICBhW01JTlVURV0gICAgICA8IDAgfHwgYVtNSU5VVEVdICAgICAgPiA1OSAgPyBNSU5VVEUgOlxuXHQgICAgICAgICAgICBhW1NFQ09ORF0gICAgICA8IDAgfHwgYVtTRUNPTkRdICAgICAgPiA1OSAgPyBTRUNPTkQgOlxuXHQgICAgICAgICAgICBhW01JTExJU0VDT05EXSA8IDAgfHwgYVtNSUxMSVNFQ09ORF0gPiA5OTkgPyBNSUxMSVNFQ09ORCA6XG5cdCAgICAgICAgICAgIC0xO1xuXHRcblx0ICAgICAgICBpZiAoZ2V0UGFyc2luZ0ZsYWdzKG0pLl9vdmVyZmxvd0RheU9mWWVhciAmJiAob3ZlcmZsb3cgPCBZRUFSIHx8IG92ZXJmbG93ID4gREFURSkpIHtcblx0ICAgICAgICAgICAgb3ZlcmZsb3cgPSBEQVRFO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAoZ2V0UGFyc2luZ0ZsYWdzKG0pLl9vdmVyZmxvd1dlZWtzICYmIG92ZXJmbG93ID09PSAtMSkge1xuXHQgICAgICAgICAgICBvdmVyZmxvdyA9IFdFRUs7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmIChnZXRQYXJzaW5nRmxhZ3MobSkuX292ZXJmbG93V2Vla2RheSAmJiBvdmVyZmxvdyA9PT0gLTEpIHtcblx0ICAgICAgICAgICAgb3ZlcmZsb3cgPSBXRUVLREFZO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKG0pLm92ZXJmbG93ID0gb3ZlcmZsb3c7XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIG07XG5cdH1cblx0XG5cdC8vIGlzbyA4NjAxIHJlZ2V4XG5cdC8vIDAwMDAtMDAtMDAgMDAwMC1XMDAgb3IgMDAwMC1XMDAtMCArIFQgKyAwMCBvciAwMDowMCBvciAwMDowMDowMCBvciAwMDowMDowMC4wMDAgKyArMDA6MDAgb3IgKzAwMDAgb3IgKzAwKVxuXHR2YXIgZXh0ZW5kZWRJc29SZWdleCA9IC9eXFxzKigoPzpbKy1dXFxkezZ9fFxcZHs0fSktKD86XFxkXFxkLVxcZFxcZHxXXFxkXFxkLVxcZHxXXFxkXFxkfFxcZFxcZFxcZHxcXGRcXGQpKSg/OihUfCApKFxcZFxcZCg/OjpcXGRcXGQoPzo6XFxkXFxkKD86Wy4sXVxcZCspPyk/KT8pKFtcXCtcXC1dXFxkXFxkKD86Oj9cXGRcXGQpP3xcXHMqWik/KT8kLztcblx0dmFyIGJhc2ljSXNvUmVnZXggPSAvXlxccyooKD86WystXVxcZHs2fXxcXGR7NH0pKD86XFxkXFxkXFxkXFxkfFdcXGRcXGRcXGR8V1xcZFxcZHxcXGRcXGRcXGR8XFxkXFxkKSkoPzooVHwgKShcXGRcXGQoPzpcXGRcXGQoPzpcXGRcXGQoPzpbLixdXFxkKyk/KT8pPykoW1xcK1xcLV1cXGRcXGQoPzo6P1xcZFxcZCk/fFxccypaKT8pPyQvO1xuXHRcblx0dmFyIHR6UmVnZXggPSAvWnxbKy1dXFxkXFxkKD86Oj9cXGRcXGQpPy87XG5cdFxuXHR2YXIgaXNvRGF0ZXMgPSBbXG5cdCAgICBbJ1lZWVlZWS1NTS1ERCcsIC9bKy1dXFxkezZ9LVxcZFxcZC1cXGRcXGQvXSxcblx0ICAgIFsnWVlZWS1NTS1ERCcsIC9cXGR7NH0tXFxkXFxkLVxcZFxcZC9dLFxuXHQgICAgWydHR0dHLVtXXVdXLUUnLCAvXFxkezR9LVdcXGRcXGQtXFxkL10sXG5cdCAgICBbJ0dHR0ctW1ddV1cnLCAvXFxkezR9LVdcXGRcXGQvLCBmYWxzZV0sXG5cdCAgICBbJ1lZWVktREREJywgL1xcZHs0fS1cXGR7M30vXSxcblx0ICAgIFsnWVlZWS1NTScsIC9cXGR7NH0tXFxkXFxkLywgZmFsc2VdLFxuXHQgICAgWydZWVlZWVlNTUREJywgL1srLV1cXGR7MTB9L10sXG5cdCAgICBbJ1lZWVlNTUREJywgL1xcZHs4fS9dLFxuXHQgICAgLy8gWVlZWU1NIGlzIE5PVCBhbGxvd2VkIGJ5IHRoZSBzdGFuZGFyZFxuXHQgICAgWydHR0dHW1ddV1dFJywgL1xcZHs0fVdcXGR7M30vXSxcblx0ICAgIFsnR0dHR1tXXVdXJywgL1xcZHs0fVdcXGR7Mn0vLCBmYWxzZV0sXG5cdCAgICBbJ1lZWVlEREQnLCAvXFxkezd9L11cblx0XTtcblx0XG5cdC8vIGlzbyB0aW1lIGZvcm1hdHMgYW5kIHJlZ2V4ZXNcblx0dmFyIGlzb1RpbWVzID0gW1xuXHQgICAgWydISDptbTpzcy5TU1NTJywgL1xcZFxcZDpcXGRcXGQ6XFxkXFxkXFwuXFxkKy9dLFxuXHQgICAgWydISDptbTpzcyxTU1NTJywgL1xcZFxcZDpcXGRcXGQ6XFxkXFxkLFxcZCsvXSxcblx0ICAgIFsnSEg6bW06c3MnLCAvXFxkXFxkOlxcZFxcZDpcXGRcXGQvXSxcblx0ICAgIFsnSEg6bW0nLCAvXFxkXFxkOlxcZFxcZC9dLFxuXHQgICAgWydISG1tc3MuU1NTUycsIC9cXGRcXGRcXGRcXGRcXGRcXGRcXC5cXGQrL10sXG5cdCAgICBbJ0hIbW1zcyxTU1NTJywgL1xcZFxcZFxcZFxcZFxcZFxcZCxcXGQrL10sXG5cdCAgICBbJ0hIbW1zcycsIC9cXGRcXGRcXGRcXGRcXGRcXGQvXSxcblx0ICAgIFsnSEhtbScsIC9cXGRcXGRcXGRcXGQvXSxcblx0ICAgIFsnSEgnLCAvXFxkXFxkL11cblx0XTtcblx0XG5cdHZhciBhc3BOZXRKc29uUmVnZXggPSAvXlxcLz9EYXRlXFwoKFxcLT9cXGQrKS9pO1xuXHRcblx0Ly8gZGF0ZSBmcm9tIGlzbyBmb3JtYXRcblx0ZnVuY3Rpb24gY29uZmlnRnJvbUlTTyhjb25maWcpIHtcblx0ICAgIHZhciBpLCBsLFxuXHQgICAgICAgIHN0cmluZyA9IGNvbmZpZy5faSxcblx0ICAgICAgICBtYXRjaCA9IGV4dGVuZGVkSXNvUmVnZXguZXhlYyhzdHJpbmcpIHx8IGJhc2ljSXNvUmVnZXguZXhlYyhzdHJpbmcpLFxuXHQgICAgICAgIGFsbG93VGltZSwgZGF0ZUZvcm1hdCwgdGltZUZvcm1hdCwgdHpGb3JtYXQ7XG5cdFxuXHQgICAgaWYgKG1hdGNoKSB7XG5cdCAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuaXNvID0gdHJ1ZTtcblx0XG5cdCAgICAgICAgZm9yIChpID0gMCwgbCA9IGlzb0RhdGVzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuXHQgICAgICAgICAgICBpZiAoaXNvRGF0ZXNbaV1bMV0uZXhlYyhtYXRjaFsxXSkpIHtcblx0ICAgICAgICAgICAgICAgIGRhdGVGb3JtYXQgPSBpc29EYXRlc1tpXVswXTtcblx0ICAgICAgICAgICAgICAgIGFsbG93VGltZSA9IGlzb0RhdGVzW2ldWzJdICE9PSBmYWxzZTtcblx0ICAgICAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmIChkYXRlRm9ybWF0ID09IG51bGwpIHtcblx0ICAgICAgICAgICAgY29uZmlnLl9pc1ZhbGlkID0gZmFsc2U7XG5cdCAgICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICB9XG5cdCAgICAgICAgaWYgKG1hdGNoWzNdKSB7XG5cdCAgICAgICAgICAgIGZvciAoaSA9IDAsIGwgPSBpc29UaW1lcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcblx0ICAgICAgICAgICAgICAgIGlmIChpc29UaW1lc1tpXVsxXS5leGVjKG1hdGNoWzNdKSkge1xuXHQgICAgICAgICAgICAgICAgICAgIC8vIG1hdGNoWzJdIHNob3VsZCBiZSAnVCcgb3Igc3BhY2Vcblx0ICAgICAgICAgICAgICAgICAgICB0aW1lRm9ybWF0ID0gKG1hdGNoWzJdIHx8ICcgJykgKyBpc29UaW1lc1tpXVswXTtcblx0ICAgICAgICAgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBpZiAodGltZUZvcm1hdCA9PSBudWxsKSB7XG5cdCAgICAgICAgICAgICAgICBjb25maWcuX2lzVmFsaWQgPSBmYWxzZTtcblx0ICAgICAgICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAoIWFsbG93VGltZSAmJiB0aW1lRm9ybWF0ICE9IG51bGwpIHtcblx0ICAgICAgICAgICAgY29uZmlnLl9pc1ZhbGlkID0gZmFsc2U7XG5cdCAgICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICB9XG5cdCAgICAgICAgaWYgKG1hdGNoWzRdKSB7XG5cdCAgICAgICAgICAgIGlmICh0elJlZ2V4LmV4ZWMobWF0Y2hbNF0pKSB7XG5cdCAgICAgICAgICAgICAgICB0ekZvcm1hdCA9ICdaJztcblx0ICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgIGNvbmZpZy5faXNWYWxpZCA9IGZhbHNlO1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGNvbmZpZy5fZiA9IGRhdGVGb3JtYXQgKyAodGltZUZvcm1hdCB8fCAnJykgKyAodHpGb3JtYXQgfHwgJycpO1xuXHQgICAgICAgIGNvbmZpZ0Zyb21TdHJpbmdBbmRGb3JtYXQoY29uZmlnKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgY29uZmlnLl9pc1ZhbGlkID0gZmFsc2U7XG5cdCAgICB9XG5cdH1cblx0XG5cdC8vIGRhdGUgZnJvbSBpc28gZm9ybWF0IG9yIGZhbGxiYWNrXG5cdGZ1bmN0aW9uIGNvbmZpZ0Zyb21TdHJpbmcoY29uZmlnKSB7XG5cdCAgICB2YXIgbWF0Y2hlZCA9IGFzcE5ldEpzb25SZWdleC5leGVjKGNvbmZpZy5faSk7XG5cdFxuXHQgICAgaWYgKG1hdGNoZWQgIT09IG51bGwpIHtcblx0ICAgICAgICBjb25maWcuX2QgPSBuZXcgRGF0ZSgrbWF0Y2hlZFsxXSk7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHRcblx0ICAgIGNvbmZpZ0Zyb21JU08oY29uZmlnKTtcblx0ICAgIGlmIChjb25maWcuX2lzVmFsaWQgPT09IGZhbHNlKSB7XG5cdCAgICAgICAgZGVsZXRlIGNvbmZpZy5faXNWYWxpZDtcblx0ICAgICAgICBob29rcy5jcmVhdGVGcm9tSW5wdXRGYWxsYmFjayhjb25maWcpO1xuXHQgICAgfVxuXHR9XG5cdFxuXHRob29rcy5jcmVhdGVGcm9tSW5wdXRGYWxsYmFjayA9IGRlcHJlY2F0ZShcblx0ICAgICd2YWx1ZSBwcm92aWRlZCBpcyBub3QgaW4gYSByZWNvZ25pemVkIElTTyBmb3JtYXQuIG1vbWVudCBjb25zdHJ1Y3Rpb24gZmFsbHMgYmFjayB0byBqcyBEYXRlKCksICcgK1xuXHQgICAgJ3doaWNoIGlzIG5vdCByZWxpYWJsZSBhY3Jvc3MgYWxsIGJyb3dzZXJzIGFuZCB2ZXJzaW9ucy4gTm9uIElTTyBkYXRlIGZvcm1hdHMgYXJlICcgK1xuXHQgICAgJ2Rpc2NvdXJhZ2VkIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gYW4gdXBjb21pbmcgbWFqb3IgcmVsZWFzZS4gUGxlYXNlIHJlZmVyIHRvICcgK1xuXHQgICAgJ2h0dHA6Ly9tb21lbnRqcy5jb20vZ3VpZGVzLyMvd2FybmluZ3MvanMtZGF0ZS8gZm9yIG1vcmUgaW5mby4nLFxuXHQgICAgZnVuY3Rpb24gKGNvbmZpZykge1xuXHQgICAgICAgIGNvbmZpZy5fZCA9IG5ldyBEYXRlKGNvbmZpZy5faSArIChjb25maWcuX3VzZVVUQyA/ICcgVVRDJyA6ICcnKSk7XG5cdCAgICB9XG5cdCk7XG5cdFxuXHQvLyBQaWNrIHRoZSBmaXJzdCBkZWZpbmVkIG9mIHR3byBvciB0aHJlZSBhcmd1bWVudHMuXG5cdGZ1bmN0aW9uIGRlZmF1bHRzKGEsIGIsIGMpIHtcblx0ICAgIGlmIChhICE9IG51bGwpIHtcblx0ICAgICAgICByZXR1cm4gYTtcblx0ICAgIH1cblx0ICAgIGlmIChiICE9IG51bGwpIHtcblx0ICAgICAgICByZXR1cm4gYjtcblx0ICAgIH1cblx0ICAgIHJldHVybiBjO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBjdXJyZW50RGF0ZUFycmF5KGNvbmZpZykge1xuXHQgICAgLy8gaG9va3MgaXMgYWN0dWFsbHkgdGhlIGV4cG9ydGVkIG1vbWVudCBvYmplY3Rcblx0ICAgIHZhciBub3dWYWx1ZSA9IG5ldyBEYXRlKGhvb2tzLm5vdygpKTtcblx0ICAgIGlmIChjb25maWcuX3VzZVVUQykge1xuXHQgICAgICAgIHJldHVybiBbbm93VmFsdWUuZ2V0VVRDRnVsbFllYXIoKSwgbm93VmFsdWUuZ2V0VVRDTW9udGgoKSwgbm93VmFsdWUuZ2V0VVRDRGF0ZSgpXTtcblx0ICAgIH1cblx0ICAgIHJldHVybiBbbm93VmFsdWUuZ2V0RnVsbFllYXIoKSwgbm93VmFsdWUuZ2V0TW9udGgoKSwgbm93VmFsdWUuZ2V0RGF0ZSgpXTtcblx0fVxuXHRcblx0Ly8gY29udmVydCBhbiBhcnJheSB0byBhIGRhdGUuXG5cdC8vIHRoZSBhcnJheSBzaG91bGQgbWlycm9yIHRoZSBwYXJhbWV0ZXJzIGJlbG93XG5cdC8vIG5vdGU6IGFsbCB2YWx1ZXMgcGFzdCB0aGUgeWVhciBhcmUgb3B0aW9uYWwgYW5kIHdpbGwgZGVmYXVsdCB0byB0aGUgbG93ZXN0IHBvc3NpYmxlIHZhbHVlLlxuXHQvLyBbeWVhciwgbW9udGgsIGRheSAsIGhvdXIsIG1pbnV0ZSwgc2Vjb25kLCBtaWxsaXNlY29uZF1cblx0ZnVuY3Rpb24gY29uZmlnRnJvbUFycmF5IChjb25maWcpIHtcblx0ICAgIHZhciBpLCBkYXRlLCBpbnB1dCA9IFtdLCBjdXJyZW50RGF0ZSwgeWVhclRvVXNlO1xuXHRcblx0ICAgIGlmIChjb25maWcuX2QpIHtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICB9XG5cdFxuXHQgICAgY3VycmVudERhdGUgPSBjdXJyZW50RGF0ZUFycmF5KGNvbmZpZyk7XG5cdFxuXHQgICAgLy9jb21wdXRlIGRheSBvZiB0aGUgeWVhciBmcm9tIHdlZWtzIGFuZCB3ZWVrZGF5c1xuXHQgICAgaWYgKGNvbmZpZy5fdyAmJiBjb25maWcuX2FbREFURV0gPT0gbnVsbCAmJiBjb25maWcuX2FbTU9OVEhdID09IG51bGwpIHtcblx0ICAgICAgICBkYXlPZlllYXJGcm9tV2Vla0luZm8oY29uZmlnKTtcblx0ICAgIH1cblx0XG5cdCAgICAvL2lmIHRoZSBkYXkgb2YgdGhlIHllYXIgaXMgc2V0LCBmaWd1cmUgb3V0IHdoYXQgaXQgaXNcblx0ICAgIGlmIChjb25maWcuX2RheU9mWWVhcikge1xuXHQgICAgICAgIHllYXJUb1VzZSA9IGRlZmF1bHRzKGNvbmZpZy5fYVtZRUFSXSwgY3VycmVudERhdGVbWUVBUl0pO1xuXHRcblx0ICAgICAgICBpZiAoY29uZmlnLl9kYXlPZlllYXIgPiBkYXlzSW5ZZWFyKHllYXJUb1VzZSkpIHtcblx0ICAgICAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuX292ZXJmbG93RGF5T2ZZZWFyID0gdHJ1ZTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIGRhdGUgPSBjcmVhdGVVVENEYXRlKHllYXJUb1VzZSwgMCwgY29uZmlnLl9kYXlPZlllYXIpO1xuXHQgICAgICAgIGNvbmZpZy5fYVtNT05USF0gPSBkYXRlLmdldFVUQ01vbnRoKCk7XG5cdCAgICAgICAgY29uZmlnLl9hW0RBVEVdID0gZGF0ZS5nZXRVVENEYXRlKCk7XG5cdCAgICB9XG5cdFxuXHQgICAgLy8gRGVmYXVsdCB0byBjdXJyZW50IGRhdGUuXG5cdCAgICAvLyAqIGlmIG5vIHllYXIsIG1vbnRoLCBkYXkgb2YgbW9udGggYXJlIGdpdmVuLCBkZWZhdWx0IHRvIHRvZGF5XG5cdCAgICAvLyAqIGlmIGRheSBvZiBtb250aCBpcyBnaXZlbiwgZGVmYXVsdCBtb250aCBhbmQgeWVhclxuXHQgICAgLy8gKiBpZiBtb250aCBpcyBnaXZlbiwgZGVmYXVsdCBvbmx5IHllYXJcblx0ICAgIC8vICogaWYgeWVhciBpcyBnaXZlbiwgZG9uJ3QgZGVmYXVsdCBhbnl0aGluZ1xuXHQgICAgZm9yIChpID0gMDsgaSA8IDMgJiYgY29uZmlnLl9hW2ldID09IG51bGw7ICsraSkge1xuXHQgICAgICAgIGNvbmZpZy5fYVtpXSA9IGlucHV0W2ldID0gY3VycmVudERhdGVbaV07XG5cdCAgICB9XG5cdFxuXHQgICAgLy8gWmVybyBvdXQgd2hhdGV2ZXIgd2FzIG5vdCBkZWZhdWx0ZWQsIGluY2x1ZGluZyB0aW1lXG5cdCAgICBmb3IgKDsgaSA8IDc7IGkrKykge1xuXHQgICAgICAgIGNvbmZpZy5fYVtpXSA9IGlucHV0W2ldID0gKGNvbmZpZy5fYVtpXSA9PSBudWxsKSA/IChpID09PSAyID8gMSA6IDApIDogY29uZmlnLl9hW2ldO1xuXHQgICAgfVxuXHRcblx0ICAgIC8vIENoZWNrIGZvciAyNDowMDowMC4wMDBcblx0ICAgIGlmIChjb25maWcuX2FbSE9VUl0gPT09IDI0ICYmXG5cdCAgICAgICAgICAgIGNvbmZpZy5fYVtNSU5VVEVdID09PSAwICYmXG5cdCAgICAgICAgICAgIGNvbmZpZy5fYVtTRUNPTkRdID09PSAwICYmXG5cdCAgICAgICAgICAgIGNvbmZpZy5fYVtNSUxMSVNFQ09ORF0gPT09IDApIHtcblx0ICAgICAgICBjb25maWcuX25leHREYXkgPSB0cnVlO1xuXHQgICAgICAgIGNvbmZpZy5fYVtIT1VSXSA9IDA7XG5cdCAgICB9XG5cdFxuXHQgICAgY29uZmlnLl9kID0gKGNvbmZpZy5fdXNlVVRDID8gY3JlYXRlVVRDRGF0ZSA6IGNyZWF0ZURhdGUpLmFwcGx5KG51bGwsIGlucHV0KTtcblx0ICAgIC8vIEFwcGx5IHRpbWV6b25lIG9mZnNldCBmcm9tIGlucHV0LiBUaGUgYWN0dWFsIHV0Y09mZnNldCBjYW4gYmUgY2hhbmdlZFxuXHQgICAgLy8gd2l0aCBwYXJzZVpvbmUuXG5cdCAgICBpZiAoY29uZmlnLl90em0gIT0gbnVsbCkge1xuXHQgICAgICAgIGNvbmZpZy5fZC5zZXRVVENNaW51dGVzKGNvbmZpZy5fZC5nZXRVVENNaW51dGVzKCkgLSBjb25maWcuX3R6bSk7XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKGNvbmZpZy5fbmV4dERheSkge1xuXHQgICAgICAgIGNvbmZpZy5fYVtIT1VSXSA9IDI0O1xuXHQgICAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBkYXlPZlllYXJGcm9tV2Vla0luZm8oY29uZmlnKSB7XG5cdCAgICB2YXIgdywgd2Vla1llYXIsIHdlZWssIHdlZWtkYXksIGRvdywgZG95LCB0ZW1wLCB3ZWVrZGF5T3ZlcmZsb3c7XG5cdFxuXHQgICAgdyA9IGNvbmZpZy5fdztcblx0ICAgIGlmICh3LkdHICE9IG51bGwgfHwgdy5XICE9IG51bGwgfHwgdy5FICE9IG51bGwpIHtcblx0ICAgICAgICBkb3cgPSAxO1xuXHQgICAgICAgIGRveSA9IDQ7XG5cdFxuXHQgICAgICAgIC8vIFRPRE86IFdlIG5lZWQgdG8gdGFrZSB0aGUgY3VycmVudCBpc29XZWVrWWVhciwgYnV0IHRoYXQgZGVwZW5kcyBvblxuXHQgICAgICAgIC8vIGhvdyB3ZSBpbnRlcnByZXQgbm93IChsb2NhbCwgdXRjLCBmaXhlZCBvZmZzZXQpLiBTbyBjcmVhdGVcblx0ICAgICAgICAvLyBhIG5vdyB2ZXJzaW9uIG9mIGN1cnJlbnQgY29uZmlnICh0YWtlIGxvY2FsL3V0Yy9vZmZzZXQgZmxhZ3MsIGFuZFxuXHQgICAgICAgIC8vIGNyZWF0ZSBub3cpLlxuXHQgICAgICAgIHdlZWtZZWFyID0gZGVmYXVsdHMody5HRywgY29uZmlnLl9hW1lFQVJdLCB3ZWVrT2ZZZWFyKGNyZWF0ZUxvY2FsKCksIDEsIDQpLnllYXIpO1xuXHQgICAgICAgIHdlZWsgPSBkZWZhdWx0cyh3LlcsIDEpO1xuXHQgICAgICAgIHdlZWtkYXkgPSBkZWZhdWx0cyh3LkUsIDEpO1xuXHQgICAgICAgIGlmICh3ZWVrZGF5IDwgMSB8fCB3ZWVrZGF5ID4gNykge1xuXHQgICAgICAgICAgICB3ZWVrZGF5T3ZlcmZsb3cgPSB0cnVlO1xuXHQgICAgICAgIH1cblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgZG93ID0gY29uZmlnLl9sb2NhbGUuX3dlZWsuZG93O1xuXHQgICAgICAgIGRveSA9IGNvbmZpZy5fbG9jYWxlLl93ZWVrLmRveTtcblx0XG5cdCAgICAgICAgdmFyIGN1cldlZWsgPSB3ZWVrT2ZZZWFyKGNyZWF0ZUxvY2FsKCksIGRvdywgZG95KTtcblx0XG5cdCAgICAgICAgd2Vla1llYXIgPSBkZWZhdWx0cyh3LmdnLCBjb25maWcuX2FbWUVBUl0sIGN1cldlZWsueWVhcik7XG5cdFxuXHQgICAgICAgIC8vIERlZmF1bHQgdG8gY3VycmVudCB3ZWVrLlxuXHQgICAgICAgIHdlZWsgPSBkZWZhdWx0cyh3LncsIGN1cldlZWsud2Vlayk7XG5cdFxuXHQgICAgICAgIGlmICh3LmQgIT0gbnVsbCkge1xuXHQgICAgICAgICAgICAvLyB3ZWVrZGF5IC0tIGxvdyBkYXkgbnVtYmVycyBhcmUgY29uc2lkZXJlZCBuZXh0IHdlZWtcblx0ICAgICAgICAgICAgd2Vla2RheSA9IHcuZDtcblx0ICAgICAgICAgICAgaWYgKHdlZWtkYXkgPCAwIHx8IHdlZWtkYXkgPiA2KSB7XG5cdCAgICAgICAgICAgICAgICB3ZWVrZGF5T3ZlcmZsb3cgPSB0cnVlO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfSBlbHNlIGlmICh3LmUgIT0gbnVsbCkge1xuXHQgICAgICAgICAgICAvLyBsb2NhbCB3ZWVrZGF5IC0tIGNvdW50aW5nIHN0YXJ0cyBmcm9tIGJlZ2luaW5nIG9mIHdlZWtcblx0ICAgICAgICAgICAgd2Vla2RheSA9IHcuZSArIGRvdztcblx0ICAgICAgICAgICAgaWYgKHcuZSA8IDAgfHwgdy5lID4gNikge1xuXHQgICAgICAgICAgICAgICAgd2Vla2RheU92ZXJmbG93ID0gdHJ1ZTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIC8vIGRlZmF1bHQgdG8gYmVnaW5pbmcgb2Ygd2Vla1xuXHQgICAgICAgICAgICB3ZWVrZGF5ID0gZG93O1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0ICAgIGlmICh3ZWVrIDwgMSB8fCB3ZWVrID4gd2Vla3NJblllYXIod2Vla1llYXIsIGRvdywgZG95KSkge1xuXHQgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLl9vdmVyZmxvd1dlZWtzID0gdHJ1ZTtcblx0ICAgIH0gZWxzZSBpZiAod2Vla2RheU92ZXJmbG93ICE9IG51bGwpIHtcblx0ICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5fb3ZlcmZsb3dXZWVrZGF5ID0gdHJ1ZTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgdGVtcCA9IGRheU9mWWVhckZyb21XZWVrcyh3ZWVrWWVhciwgd2Vlaywgd2Vla2RheSwgZG93LCBkb3kpO1xuXHQgICAgICAgIGNvbmZpZy5fYVtZRUFSXSA9IHRlbXAueWVhcjtcblx0ICAgICAgICBjb25maWcuX2RheU9mWWVhciA9IHRlbXAuZGF5T2ZZZWFyO1xuXHQgICAgfVxuXHR9XG5cdFxuXHQvLyBjb25zdGFudCB0aGF0IHJlZmVycyB0byB0aGUgSVNPIHN0YW5kYXJkXG5cdGhvb2tzLklTT184NjAxID0gZnVuY3Rpb24gKCkge307XG5cdFxuXHQvLyBkYXRlIGZyb20gc3RyaW5nIGFuZCBmb3JtYXQgc3RyaW5nXG5cdGZ1bmN0aW9uIGNvbmZpZ0Zyb21TdHJpbmdBbmRGb3JtYXQoY29uZmlnKSB7XG5cdCAgICAvLyBUT0RPOiBNb3ZlIHRoaXMgdG8gYW5vdGhlciBwYXJ0IG9mIHRoZSBjcmVhdGlvbiBmbG93IHRvIHByZXZlbnQgY2lyY3VsYXIgZGVwc1xuXHQgICAgaWYgKGNvbmZpZy5fZiA9PT0gaG9va3MuSVNPXzg2MDEpIHtcblx0ICAgICAgICBjb25maWdGcm9tSVNPKGNvbmZpZyk7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHRcblx0ICAgIGNvbmZpZy5fYSA9IFtdO1xuXHQgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuZW1wdHkgPSB0cnVlO1xuXHRcblx0ICAgIC8vIFRoaXMgYXJyYXkgaXMgdXNlZCB0byBtYWtlIGEgRGF0ZSwgZWl0aGVyIHdpdGggYG5ldyBEYXRlYCBvciBgRGF0ZS5VVENgXG5cdCAgICB2YXIgc3RyaW5nID0gJycgKyBjb25maWcuX2ksXG5cdCAgICAgICAgaSwgcGFyc2VkSW5wdXQsIHRva2VucywgdG9rZW4sIHNraXBwZWQsXG5cdCAgICAgICAgc3RyaW5nTGVuZ3RoID0gc3RyaW5nLmxlbmd0aCxcblx0ICAgICAgICB0b3RhbFBhcnNlZElucHV0TGVuZ3RoID0gMDtcblx0XG5cdCAgICB0b2tlbnMgPSBleHBhbmRGb3JtYXQoY29uZmlnLl9mLCBjb25maWcuX2xvY2FsZSkubWF0Y2goZm9ybWF0dGluZ1Rva2VucykgfHwgW107XG5cdFxuXHQgICAgZm9yIChpID0gMDsgaSA8IHRva2Vucy5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgIHRva2VuID0gdG9rZW5zW2ldO1xuXHQgICAgICAgIHBhcnNlZElucHV0ID0gKHN0cmluZy5tYXRjaChnZXRQYXJzZVJlZ2V4Rm9yVG9rZW4odG9rZW4sIGNvbmZpZykpIHx8IFtdKVswXTtcblx0ICAgICAgICAvLyBjb25zb2xlLmxvZygndG9rZW4nLCB0b2tlbiwgJ3BhcnNlZElucHV0JywgcGFyc2VkSW5wdXQsXG5cdCAgICAgICAgLy8gICAgICAgICAncmVnZXgnLCBnZXRQYXJzZVJlZ2V4Rm9yVG9rZW4odG9rZW4sIGNvbmZpZykpO1xuXHQgICAgICAgIGlmIChwYXJzZWRJbnB1dCkge1xuXHQgICAgICAgICAgICBza2lwcGVkID0gc3RyaW5nLnN1YnN0cigwLCBzdHJpbmcuaW5kZXhPZihwYXJzZWRJbnB1dCkpO1xuXHQgICAgICAgICAgICBpZiAoc2tpcHBlZC5sZW5ndGggPiAwKSB7XG5cdCAgICAgICAgICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS51bnVzZWRJbnB1dC5wdXNoKHNraXBwZWQpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIHN0cmluZyA9IHN0cmluZy5zbGljZShzdHJpbmcuaW5kZXhPZihwYXJzZWRJbnB1dCkgKyBwYXJzZWRJbnB1dC5sZW5ndGgpO1xuXHQgICAgICAgICAgICB0b3RhbFBhcnNlZElucHV0TGVuZ3RoICs9IHBhcnNlZElucHV0Lmxlbmd0aDtcblx0ICAgICAgICB9XG5cdCAgICAgICAgLy8gZG9uJ3QgcGFyc2UgaWYgaXQncyBub3QgYSBrbm93biB0b2tlblxuXHQgICAgICAgIGlmIChmb3JtYXRUb2tlbkZ1bmN0aW9uc1t0b2tlbl0pIHtcblx0ICAgICAgICAgICAgaWYgKHBhcnNlZElucHV0KSB7XG5cdCAgICAgICAgICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5lbXB0eSA9IGZhbHNlO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykudW51c2VkVG9rZW5zLnB1c2godG9rZW4pO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIGFkZFRpbWVUb0FycmF5RnJvbVRva2VuKHRva2VuLCBwYXJzZWRJbnB1dCwgY29uZmlnKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgZWxzZSBpZiAoY29uZmlnLl9zdHJpY3QgJiYgIXBhcnNlZElucHV0KSB7XG5cdCAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLnVudXNlZFRva2Vucy5wdXNoKHRva2VuKTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgLy8gYWRkIHJlbWFpbmluZyB1bnBhcnNlZCBpbnB1dCBsZW5ndGggdG8gdGhlIHN0cmluZ1xuXHQgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuY2hhcnNMZWZ0T3ZlciA9IHN0cmluZ0xlbmd0aCAtIHRvdGFsUGFyc2VkSW5wdXRMZW5ndGg7XG5cdCAgICBpZiAoc3RyaW5nLmxlbmd0aCA+IDApIHtcblx0ICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS51bnVzZWRJbnB1dC5wdXNoKHN0cmluZyk7XG5cdCAgICB9XG5cdFxuXHQgICAgLy8gY2xlYXIgXzEyaCBmbGFnIGlmIGhvdXIgaXMgPD0gMTJcblx0ICAgIGlmIChjb25maWcuX2FbSE9VUl0gPD0gMTIgJiZcblx0ICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5iaWdIb3VyID09PSB0cnVlICYmXG5cdCAgICAgICAgY29uZmlnLl9hW0hPVVJdID4gMCkge1xuXHQgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmJpZ0hvdXIgPSB1bmRlZmluZWQ7XG5cdCAgICB9XG5cdFxuXHQgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykucGFyc2VkRGF0ZVBhcnRzID0gY29uZmlnLl9hLnNsaWNlKDApO1xuXHQgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykubWVyaWRpZW0gPSBjb25maWcuX21lcmlkaWVtO1xuXHQgICAgLy8gaGFuZGxlIG1lcmlkaWVtXG5cdCAgICBjb25maWcuX2FbSE9VUl0gPSBtZXJpZGllbUZpeFdyYXAoY29uZmlnLl9sb2NhbGUsIGNvbmZpZy5fYVtIT1VSXSwgY29uZmlnLl9tZXJpZGllbSk7XG5cdFxuXHQgICAgY29uZmlnRnJvbUFycmF5KGNvbmZpZyk7XG5cdCAgICBjaGVja092ZXJmbG93KGNvbmZpZyk7XG5cdH1cblx0XG5cdFxuXHRmdW5jdGlvbiBtZXJpZGllbUZpeFdyYXAgKGxvY2FsZSwgaG91ciwgbWVyaWRpZW0pIHtcblx0ICAgIHZhciBpc1BtO1xuXHRcblx0ICAgIGlmIChtZXJpZGllbSA9PSBudWxsKSB7XG5cdCAgICAgICAgLy8gbm90aGluZyB0byBkb1xuXHQgICAgICAgIHJldHVybiBob3VyO1xuXHQgICAgfVxuXHQgICAgaWYgKGxvY2FsZS5tZXJpZGllbUhvdXIgIT0gbnVsbCkge1xuXHQgICAgICAgIHJldHVybiBsb2NhbGUubWVyaWRpZW1Ib3VyKGhvdXIsIG1lcmlkaWVtKTtcblx0ICAgIH0gZWxzZSBpZiAobG9jYWxlLmlzUE0gIT0gbnVsbCkge1xuXHQgICAgICAgIC8vIEZhbGxiYWNrXG5cdCAgICAgICAgaXNQbSA9IGxvY2FsZS5pc1BNKG1lcmlkaWVtKTtcblx0ICAgICAgICBpZiAoaXNQbSAmJiBob3VyIDwgMTIpIHtcblx0ICAgICAgICAgICAgaG91ciArPSAxMjtcblx0ICAgICAgICB9XG5cdCAgICAgICAgaWYgKCFpc1BtICYmIGhvdXIgPT09IDEyKSB7XG5cdCAgICAgICAgICAgIGhvdXIgPSAwO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gaG91cjtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgLy8gdGhpcyBpcyBub3Qgc3VwcG9zZWQgdG8gaGFwcGVuXG5cdCAgICAgICAgcmV0dXJuIGhvdXI7XG5cdCAgICB9XG5cdH1cblx0XG5cdC8vIGRhdGUgZnJvbSBzdHJpbmcgYW5kIGFycmF5IG9mIGZvcm1hdCBzdHJpbmdzXG5cdGZ1bmN0aW9uIGNvbmZpZ0Zyb21TdHJpbmdBbmRBcnJheShjb25maWcpIHtcblx0ICAgIHZhciB0ZW1wQ29uZmlnLFxuXHQgICAgICAgIGJlc3RNb21lbnQsXG5cdFxuXHQgICAgICAgIHNjb3JlVG9CZWF0LFxuXHQgICAgICAgIGksXG5cdCAgICAgICAgY3VycmVudFNjb3JlO1xuXHRcblx0ICAgIGlmIChjb25maWcuX2YubGVuZ3RoID09PSAwKSB7XG5cdCAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuaW52YWxpZEZvcm1hdCA9IHRydWU7XG5cdCAgICAgICAgY29uZmlnLl9kID0gbmV3IERhdGUoTmFOKTtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICB9XG5cdFxuXHQgICAgZm9yIChpID0gMDsgaSA8IGNvbmZpZy5fZi5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgIGN1cnJlbnRTY29yZSA9IDA7XG5cdCAgICAgICAgdGVtcENvbmZpZyA9IGNvcHlDb25maWcoe30sIGNvbmZpZyk7XG5cdCAgICAgICAgaWYgKGNvbmZpZy5fdXNlVVRDICE9IG51bGwpIHtcblx0ICAgICAgICAgICAgdGVtcENvbmZpZy5fdXNlVVRDID0gY29uZmlnLl91c2VVVEM7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHRlbXBDb25maWcuX2YgPSBjb25maWcuX2ZbaV07XG5cdCAgICAgICAgY29uZmlnRnJvbVN0cmluZ0FuZEZvcm1hdCh0ZW1wQ29uZmlnKTtcblx0XG5cdCAgICAgICAgaWYgKCFpc1ZhbGlkKHRlbXBDb25maWcpKSB7XG5cdCAgICAgICAgICAgIGNvbnRpbnVlO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgLy8gaWYgdGhlcmUgaXMgYW55IGlucHV0IHRoYXQgd2FzIG5vdCBwYXJzZWQgYWRkIGEgcGVuYWx0eSBmb3IgdGhhdCBmb3JtYXRcblx0ICAgICAgICBjdXJyZW50U2NvcmUgKz0gZ2V0UGFyc2luZ0ZsYWdzKHRlbXBDb25maWcpLmNoYXJzTGVmdE92ZXI7XG5cdFxuXHQgICAgICAgIC8vb3IgdG9rZW5zXG5cdCAgICAgICAgY3VycmVudFNjb3JlICs9IGdldFBhcnNpbmdGbGFncyh0ZW1wQ29uZmlnKS51bnVzZWRUb2tlbnMubGVuZ3RoICogMTA7XG5cdFxuXHQgICAgICAgIGdldFBhcnNpbmdGbGFncyh0ZW1wQ29uZmlnKS5zY29yZSA9IGN1cnJlbnRTY29yZTtcblx0XG5cdCAgICAgICAgaWYgKHNjb3JlVG9CZWF0ID09IG51bGwgfHwgY3VycmVudFNjb3JlIDwgc2NvcmVUb0JlYXQpIHtcblx0ICAgICAgICAgICAgc2NvcmVUb0JlYXQgPSBjdXJyZW50U2NvcmU7XG5cdCAgICAgICAgICAgIGJlc3RNb21lbnQgPSB0ZW1wQ29uZmlnO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICBleHRlbmQoY29uZmlnLCBiZXN0TW9tZW50IHx8IHRlbXBDb25maWcpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBjb25maWdGcm9tT2JqZWN0KGNvbmZpZykge1xuXHQgICAgaWYgKGNvbmZpZy5fZCkge1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgIH1cblx0XG5cdCAgICB2YXIgaSA9IG5vcm1hbGl6ZU9iamVjdFVuaXRzKGNvbmZpZy5faSk7XG5cdCAgICBjb25maWcuX2EgPSBtYXAoW2kueWVhciwgaS5tb250aCwgaS5kYXkgfHwgaS5kYXRlLCBpLmhvdXIsIGkubWludXRlLCBpLnNlY29uZCwgaS5taWxsaXNlY29uZF0sIGZ1bmN0aW9uIChvYmopIHtcblx0ICAgICAgICByZXR1cm4gb2JqICYmIHBhcnNlSW50KG9iaiwgMTApO1xuXHQgICAgfSk7XG5cdFxuXHQgICAgY29uZmlnRnJvbUFycmF5KGNvbmZpZyk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGNyZWF0ZUZyb21Db25maWcgKGNvbmZpZykge1xuXHQgICAgdmFyIHJlcyA9IG5ldyBNb21lbnQoY2hlY2tPdmVyZmxvdyhwcmVwYXJlQ29uZmlnKGNvbmZpZykpKTtcblx0ICAgIGlmIChyZXMuX25leHREYXkpIHtcblx0ICAgICAgICAvLyBBZGRpbmcgaXMgc21hcnQgZW5vdWdoIGFyb3VuZCBEU1Rcblx0ICAgICAgICByZXMuYWRkKDEsICdkJyk7XG5cdCAgICAgICAgcmVzLl9uZXh0RGF5ID0gdW5kZWZpbmVkO1xuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiByZXM7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHByZXBhcmVDb25maWcgKGNvbmZpZykge1xuXHQgICAgdmFyIGlucHV0ID0gY29uZmlnLl9pLFxuXHQgICAgICAgIGZvcm1hdCA9IGNvbmZpZy5fZjtcblx0XG5cdCAgICBjb25maWcuX2xvY2FsZSA9IGNvbmZpZy5fbG9jYWxlIHx8IGdldExvY2FsZShjb25maWcuX2wpO1xuXHRcblx0ICAgIGlmIChpbnB1dCA9PT0gbnVsbCB8fCAoZm9ybWF0ID09PSB1bmRlZmluZWQgJiYgaW5wdXQgPT09ICcnKSkge1xuXHQgICAgICAgIHJldHVybiBjcmVhdGVJbnZhbGlkKHtudWxsSW5wdXQ6IHRydWV9KTtcblx0ICAgIH1cblx0XG5cdCAgICBpZiAodHlwZW9mIGlucHV0ID09PSAnc3RyaW5nJykge1xuXHQgICAgICAgIGNvbmZpZy5faSA9IGlucHV0ID0gY29uZmlnLl9sb2NhbGUucHJlcGFyc2UoaW5wdXQpO1xuXHQgICAgfVxuXHRcblx0ICAgIGlmIChpc01vbWVudChpbnB1dCkpIHtcblx0ICAgICAgICByZXR1cm4gbmV3IE1vbWVudChjaGVja092ZXJmbG93KGlucHV0KSk7XG5cdCAgICB9IGVsc2UgaWYgKGlzRGF0ZShpbnB1dCkpIHtcblx0ICAgICAgICBjb25maWcuX2QgPSBpbnB1dDtcblx0ICAgIH0gZWxzZSBpZiAoaXNBcnJheShmb3JtYXQpKSB7XG5cdCAgICAgICAgY29uZmlnRnJvbVN0cmluZ0FuZEFycmF5KGNvbmZpZyk7XG5cdCAgICB9IGVsc2UgaWYgKGZvcm1hdCkge1xuXHQgICAgICAgIGNvbmZpZ0Zyb21TdHJpbmdBbmRGb3JtYXQoY29uZmlnKTtcblx0ICAgIH0gIGVsc2Uge1xuXHQgICAgICAgIGNvbmZpZ0Zyb21JbnB1dChjb25maWcpO1xuXHQgICAgfVxuXHRcblx0ICAgIGlmICghaXNWYWxpZChjb25maWcpKSB7XG5cdCAgICAgICAgY29uZmlnLl9kID0gbnVsbDtcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gY29uZmlnO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBjb25maWdGcm9tSW5wdXQoY29uZmlnKSB7XG5cdCAgICB2YXIgaW5wdXQgPSBjb25maWcuX2k7XG5cdCAgICBpZiAoaW5wdXQgPT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgIGNvbmZpZy5fZCA9IG5ldyBEYXRlKGhvb2tzLm5vdygpKTtcblx0ICAgIH0gZWxzZSBpZiAoaXNEYXRlKGlucHV0KSkge1xuXHQgICAgICAgIGNvbmZpZy5fZCA9IG5ldyBEYXRlKGlucHV0LnZhbHVlT2YoKSk7XG5cdCAgICB9IGVsc2UgaWYgKHR5cGVvZiBpbnB1dCA9PT0gJ3N0cmluZycpIHtcblx0ICAgICAgICBjb25maWdGcm9tU3RyaW5nKGNvbmZpZyk7XG5cdCAgICB9IGVsc2UgaWYgKGlzQXJyYXkoaW5wdXQpKSB7XG5cdCAgICAgICAgY29uZmlnLl9hID0gbWFwKGlucHV0LnNsaWNlKDApLCBmdW5jdGlvbiAob2JqKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBwYXJzZUludChvYmosIDEwKTtcblx0ICAgICAgICB9KTtcblx0ICAgICAgICBjb25maWdGcm9tQXJyYXkoY29uZmlnKTtcblx0ICAgIH0gZWxzZSBpZiAodHlwZW9mKGlucHV0KSA9PT0gJ29iamVjdCcpIHtcblx0ICAgICAgICBjb25maWdGcm9tT2JqZWN0KGNvbmZpZyk7XG5cdCAgICB9IGVsc2UgaWYgKGlzTnVtYmVyKGlucHV0KSkge1xuXHQgICAgICAgIC8vIGZyb20gbWlsbGlzZWNvbmRzXG5cdCAgICAgICAgY29uZmlnLl9kID0gbmV3IERhdGUoaW5wdXQpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICBob29rcy5jcmVhdGVGcm9tSW5wdXRGYWxsYmFjayhjb25maWcpO1xuXHQgICAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBjcmVhdGVMb2NhbE9yVVRDIChpbnB1dCwgZm9ybWF0LCBsb2NhbGUsIHN0cmljdCwgaXNVVEMpIHtcblx0ICAgIHZhciBjID0ge307XG5cdFxuXHQgICAgaWYgKGxvY2FsZSA9PT0gdHJ1ZSB8fCBsb2NhbGUgPT09IGZhbHNlKSB7XG5cdCAgICAgICAgc3RyaWN0ID0gbG9jYWxlO1xuXHQgICAgICAgIGxvY2FsZSA9IHVuZGVmaW5lZDtcblx0ICAgIH1cblx0XG5cdCAgICBpZiAoKGlzT2JqZWN0KGlucHV0KSAmJiBpc09iamVjdEVtcHR5KGlucHV0KSkgfHxcblx0ICAgICAgICAgICAgKGlzQXJyYXkoaW5wdXQpICYmIGlucHV0Lmxlbmd0aCA9PT0gMCkpIHtcblx0ICAgICAgICBpbnB1dCA9IHVuZGVmaW5lZDtcblx0ICAgIH1cblx0ICAgIC8vIG9iamVjdCBjb25zdHJ1Y3Rpb24gbXVzdCBiZSBkb25lIHRoaXMgd2F5LlxuXHQgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL21vbWVudC9tb21lbnQvaXNzdWVzLzE0MjNcblx0ICAgIGMuX2lzQU1vbWVudE9iamVjdCA9IHRydWU7XG5cdCAgICBjLl91c2VVVEMgPSBjLl9pc1VUQyA9IGlzVVRDO1xuXHQgICAgYy5fbCA9IGxvY2FsZTtcblx0ICAgIGMuX2kgPSBpbnB1dDtcblx0ICAgIGMuX2YgPSBmb3JtYXQ7XG5cdCAgICBjLl9zdHJpY3QgPSBzdHJpY3Q7XG5cdFxuXHQgICAgcmV0dXJuIGNyZWF0ZUZyb21Db25maWcoYyk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGNyZWF0ZUxvY2FsIChpbnB1dCwgZm9ybWF0LCBsb2NhbGUsIHN0cmljdCkge1xuXHQgICAgcmV0dXJuIGNyZWF0ZUxvY2FsT3JVVEMoaW5wdXQsIGZvcm1hdCwgbG9jYWxlLCBzdHJpY3QsIGZhbHNlKTtcblx0fVxuXHRcblx0dmFyIHByb3RvdHlwZU1pbiA9IGRlcHJlY2F0ZShcblx0ICAgICdtb21lbnQoKS5taW4gaXMgZGVwcmVjYXRlZCwgdXNlIG1vbWVudC5tYXggaW5zdGVhZC4gaHR0cDovL21vbWVudGpzLmNvbS9ndWlkZXMvIy93YXJuaW5ncy9taW4tbWF4LycsXG5cdCAgICBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgdmFyIG90aGVyID0gY3JlYXRlTG9jYWwuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcblx0ICAgICAgICBpZiAodGhpcy5pc1ZhbGlkKCkgJiYgb3RoZXIuaXNWYWxpZCgpKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBvdGhlciA8IHRoaXMgPyB0aGlzIDogb3RoZXI7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUludmFsaWQoKTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdCk7XG5cdFxuXHR2YXIgcHJvdG90eXBlTWF4ID0gZGVwcmVjYXRlKFxuXHQgICAgJ21vbWVudCgpLm1heCBpcyBkZXByZWNhdGVkLCB1c2UgbW9tZW50Lm1pbiBpbnN0ZWFkLiBodHRwOi8vbW9tZW50anMuY29tL2d1aWRlcy8jL3dhcm5pbmdzL21pbi1tYXgvJyxcblx0ICAgIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICB2YXIgb3RoZXIgPSBjcmVhdGVMb2NhbC5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuXHQgICAgICAgIGlmICh0aGlzLmlzVmFsaWQoKSAmJiBvdGhlci5pc1ZhbGlkKCkpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIG90aGVyID4gdGhpcyA/IHRoaXMgOiBvdGhlcjtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICByZXR1cm4gY3JlYXRlSW52YWxpZCgpO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0KTtcblx0XG5cdC8vIFBpY2sgYSBtb21lbnQgbSBmcm9tIG1vbWVudHMgc28gdGhhdCBtW2ZuXShvdGhlcikgaXMgdHJ1ZSBmb3IgYWxsXG5cdC8vIG90aGVyLiBUaGlzIHJlbGllcyBvbiB0aGUgZnVuY3Rpb24gZm4gdG8gYmUgdHJhbnNpdGl2ZS5cblx0Ly9cblx0Ly8gbW9tZW50cyBzaG91bGQgZWl0aGVyIGJlIGFuIGFycmF5IG9mIG1vbWVudCBvYmplY3RzIG9yIGFuIGFycmF5LCB3aG9zZVxuXHQvLyBmaXJzdCBlbGVtZW50IGlzIGFuIGFycmF5IG9mIG1vbWVudCBvYmplY3RzLlxuXHRmdW5jdGlvbiBwaWNrQnkoZm4sIG1vbWVudHMpIHtcblx0ICAgIHZhciByZXMsIGk7XG5cdCAgICBpZiAobW9tZW50cy5sZW5ndGggPT09IDEgJiYgaXNBcnJheShtb21lbnRzWzBdKSkge1xuXHQgICAgICAgIG1vbWVudHMgPSBtb21lbnRzWzBdO1xuXHQgICAgfVxuXHQgICAgaWYgKCFtb21lbnRzLmxlbmd0aCkge1xuXHQgICAgICAgIHJldHVybiBjcmVhdGVMb2NhbCgpO1xuXHQgICAgfVxuXHQgICAgcmVzID0gbW9tZW50c1swXTtcblx0ICAgIGZvciAoaSA9IDE7IGkgPCBtb21lbnRzLmxlbmd0aDsgKytpKSB7XG5cdCAgICAgICAgaWYgKCFtb21lbnRzW2ldLmlzVmFsaWQoKSB8fCBtb21lbnRzW2ldW2ZuXShyZXMpKSB7XG5cdCAgICAgICAgICAgIHJlcyA9IG1vbWVudHNbaV07XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHQgICAgcmV0dXJuIHJlcztcblx0fVxuXHRcblx0Ly8gVE9ETzogVXNlIFtdLnNvcnQgaW5zdGVhZD9cblx0ZnVuY3Rpb24gbWluICgpIHtcblx0ICAgIHZhciBhcmdzID0gW10uc2xpY2UuY2FsbChhcmd1bWVudHMsIDApO1xuXHRcblx0ICAgIHJldHVybiBwaWNrQnkoJ2lzQmVmb3JlJywgYXJncyk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIG1heCAoKSB7XG5cdCAgICB2YXIgYXJncyA9IFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAwKTtcblx0XG5cdCAgICByZXR1cm4gcGlja0J5KCdpc0FmdGVyJywgYXJncyk7XG5cdH1cblx0XG5cdHZhciBub3cgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gRGF0ZS5ub3cgPyBEYXRlLm5vdygpIDogKyhuZXcgRGF0ZSgpKTtcblx0fTtcblx0XG5cdGZ1bmN0aW9uIER1cmF0aW9uIChkdXJhdGlvbikge1xuXHQgICAgdmFyIG5vcm1hbGl6ZWRJbnB1dCA9IG5vcm1hbGl6ZU9iamVjdFVuaXRzKGR1cmF0aW9uKSxcblx0ICAgICAgICB5ZWFycyA9IG5vcm1hbGl6ZWRJbnB1dC55ZWFyIHx8IDAsXG5cdCAgICAgICAgcXVhcnRlcnMgPSBub3JtYWxpemVkSW5wdXQucXVhcnRlciB8fCAwLFxuXHQgICAgICAgIG1vbnRocyA9IG5vcm1hbGl6ZWRJbnB1dC5tb250aCB8fCAwLFxuXHQgICAgICAgIHdlZWtzID0gbm9ybWFsaXplZElucHV0LndlZWsgfHwgMCxcblx0ICAgICAgICBkYXlzID0gbm9ybWFsaXplZElucHV0LmRheSB8fCAwLFxuXHQgICAgICAgIGhvdXJzID0gbm9ybWFsaXplZElucHV0LmhvdXIgfHwgMCxcblx0ICAgICAgICBtaW51dGVzID0gbm9ybWFsaXplZElucHV0Lm1pbnV0ZSB8fCAwLFxuXHQgICAgICAgIHNlY29uZHMgPSBub3JtYWxpemVkSW5wdXQuc2Vjb25kIHx8IDAsXG5cdCAgICAgICAgbWlsbGlzZWNvbmRzID0gbm9ybWFsaXplZElucHV0Lm1pbGxpc2Vjb25kIHx8IDA7XG5cdFxuXHQgICAgLy8gcmVwcmVzZW50YXRpb24gZm9yIGRhdGVBZGRSZW1vdmVcblx0ICAgIHRoaXMuX21pbGxpc2Vjb25kcyA9ICttaWxsaXNlY29uZHMgK1xuXHQgICAgICAgIHNlY29uZHMgKiAxZTMgKyAvLyAxMDAwXG5cdCAgICAgICAgbWludXRlcyAqIDZlNCArIC8vIDEwMDAgKiA2MFxuXHQgICAgICAgIGhvdXJzICogMTAwMCAqIDYwICogNjA7IC8vdXNpbmcgMTAwMCAqIDYwICogNjAgaW5zdGVhZCBvZiAzNmU1IHRvIGF2b2lkIGZsb2F0aW5nIHBvaW50IHJvdW5kaW5nIGVycm9ycyBodHRwczovL2dpdGh1Yi5jb20vbW9tZW50L21vbWVudC9pc3N1ZXMvMjk3OFxuXHQgICAgLy8gQmVjYXVzZSBvZiBkYXRlQWRkUmVtb3ZlIHRyZWF0cyAyNCBob3VycyBhcyBkaWZmZXJlbnQgZnJvbSBhXG5cdCAgICAvLyBkYXkgd2hlbiB3b3JraW5nIGFyb3VuZCBEU1QsIHdlIG5lZWQgdG8gc3RvcmUgdGhlbSBzZXBhcmF0ZWx5XG5cdCAgICB0aGlzLl9kYXlzID0gK2RheXMgK1xuXHQgICAgICAgIHdlZWtzICogNztcblx0ICAgIC8vIEl0IGlzIGltcG9zc2libGUgdHJhbnNsYXRlIG1vbnRocyBpbnRvIGRheXMgd2l0aG91dCBrbm93aW5nXG5cdCAgICAvLyB3aGljaCBtb250aHMgeW91IGFyZSBhcmUgdGFsa2luZyBhYm91dCwgc28gd2UgaGF2ZSB0byBzdG9yZVxuXHQgICAgLy8gaXQgc2VwYXJhdGVseS5cblx0ICAgIHRoaXMuX21vbnRocyA9ICttb250aHMgK1xuXHQgICAgICAgIHF1YXJ0ZXJzICogMyArXG5cdCAgICAgICAgeWVhcnMgKiAxMjtcblx0XG5cdCAgICB0aGlzLl9kYXRhID0ge307XG5cdFxuXHQgICAgdGhpcy5fbG9jYWxlID0gZ2V0TG9jYWxlKCk7XG5cdFxuXHQgICAgdGhpcy5fYnViYmxlKCk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGlzRHVyYXRpb24gKG9iaikge1xuXHQgICAgcmV0dXJuIG9iaiBpbnN0YW5jZW9mIER1cmF0aW9uO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBhYnNSb3VuZCAobnVtYmVyKSB7XG5cdCAgICBpZiAobnVtYmVyIDwgMCkge1xuXHQgICAgICAgIHJldHVybiBNYXRoLnJvdW5kKC0xICogbnVtYmVyKSAqIC0xO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXR1cm4gTWF0aC5yb3VuZChudW1iZXIpO1xuXHQgICAgfVxuXHR9XG5cdFxuXHQvLyBGT1JNQVRUSU5HXG5cdFxuXHRmdW5jdGlvbiBvZmZzZXQgKHRva2VuLCBzZXBhcmF0b3IpIHtcblx0ICAgIGFkZEZvcm1hdFRva2VuKHRva2VuLCAwLCAwLCBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgdmFyIG9mZnNldCA9IHRoaXMudXRjT2Zmc2V0KCk7XG5cdCAgICAgICAgdmFyIHNpZ24gPSAnKyc7XG5cdCAgICAgICAgaWYgKG9mZnNldCA8IDApIHtcblx0ICAgICAgICAgICAgb2Zmc2V0ID0gLW9mZnNldDtcblx0ICAgICAgICAgICAgc2lnbiA9ICctJztcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIHNpZ24gKyB6ZXJvRmlsbCh+fihvZmZzZXQgLyA2MCksIDIpICsgc2VwYXJhdG9yICsgemVyb0ZpbGwofn4ob2Zmc2V0KSAlIDYwLCAyKTtcblx0ICAgIH0pO1xuXHR9XG5cdFxuXHRvZmZzZXQoJ1onLCAnOicpO1xuXHRvZmZzZXQoJ1paJywgJycpO1xuXHRcblx0Ly8gUEFSU0lOR1xuXHRcblx0YWRkUmVnZXhUb2tlbignWicsICBtYXRjaFNob3J0T2Zmc2V0KTtcblx0YWRkUmVnZXhUb2tlbignWlonLCBtYXRjaFNob3J0T2Zmc2V0KTtcblx0YWRkUGFyc2VUb2tlbihbJ1onLCAnWlonXSwgZnVuY3Rpb24gKGlucHV0LCBhcnJheSwgY29uZmlnKSB7XG5cdCAgICBjb25maWcuX3VzZVVUQyA9IHRydWU7XG5cdCAgICBjb25maWcuX3R6bSA9IG9mZnNldEZyb21TdHJpbmcobWF0Y2hTaG9ydE9mZnNldCwgaW5wdXQpO1xuXHR9KTtcblx0XG5cdC8vIEhFTFBFUlNcblx0XG5cdC8vIHRpbWV6b25lIGNodW5rZXJcblx0Ly8gJysxMDowMCcgPiBbJzEwJywgICcwMCddXG5cdC8vICctMTUzMCcgID4gWyctMTUnLCAnMzAnXVxuXHR2YXIgY2h1bmtPZmZzZXQgPSAvKFtcXCtcXC1dfFxcZFxcZCkvZ2k7XG5cdFxuXHRmdW5jdGlvbiBvZmZzZXRGcm9tU3RyaW5nKG1hdGNoZXIsIHN0cmluZykge1xuXHQgICAgdmFyIG1hdGNoZXMgPSAoc3RyaW5nIHx8ICcnKS5tYXRjaChtYXRjaGVyKTtcblx0XG5cdCAgICBpZiAobWF0Y2hlcyA9PT0gbnVsbCkge1xuXHQgICAgICAgIHJldHVybiBudWxsO1xuXHQgICAgfVxuXHRcblx0ICAgIHZhciBjaHVuayAgID0gbWF0Y2hlc1ttYXRjaGVzLmxlbmd0aCAtIDFdIHx8IFtdO1xuXHQgICAgdmFyIHBhcnRzICAgPSAoY2h1bmsgKyAnJykubWF0Y2goY2h1bmtPZmZzZXQpIHx8IFsnLScsIDAsIDBdO1xuXHQgICAgdmFyIG1pbnV0ZXMgPSArKHBhcnRzWzFdICogNjApICsgdG9JbnQocGFydHNbMl0pO1xuXHRcblx0ICAgIHJldHVybiBtaW51dGVzID09PSAwID9cblx0ICAgICAgMCA6XG5cdCAgICAgIHBhcnRzWzBdID09PSAnKycgPyBtaW51dGVzIDogLW1pbnV0ZXM7XG5cdH1cblx0XG5cdC8vIFJldHVybiBhIG1vbWVudCBmcm9tIGlucHV0LCB0aGF0IGlzIGxvY2FsL3V0Yy96b25lIGVxdWl2YWxlbnQgdG8gbW9kZWwuXG5cdGZ1bmN0aW9uIGNsb25lV2l0aE9mZnNldChpbnB1dCwgbW9kZWwpIHtcblx0ICAgIHZhciByZXMsIGRpZmY7XG5cdCAgICBpZiAobW9kZWwuX2lzVVRDKSB7XG5cdCAgICAgICAgcmVzID0gbW9kZWwuY2xvbmUoKTtcblx0ICAgICAgICBkaWZmID0gKGlzTW9tZW50KGlucHV0KSB8fCBpc0RhdGUoaW5wdXQpID8gaW5wdXQudmFsdWVPZigpIDogY3JlYXRlTG9jYWwoaW5wdXQpLnZhbHVlT2YoKSkgLSByZXMudmFsdWVPZigpO1xuXHQgICAgICAgIC8vIFVzZSBsb3ctbGV2ZWwgYXBpLCBiZWNhdXNlIHRoaXMgZm4gaXMgbG93LWxldmVsIGFwaS5cblx0ICAgICAgICByZXMuX2Quc2V0VGltZShyZXMuX2QudmFsdWVPZigpICsgZGlmZik7XG5cdCAgICAgICAgaG9va3MudXBkYXRlT2Zmc2V0KHJlcywgZmFsc2UpO1xuXHQgICAgICAgIHJldHVybiByZXM7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJldHVybiBjcmVhdGVMb2NhbChpbnB1dCkubG9jYWwoKTtcblx0ICAgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gZ2V0RGF0ZU9mZnNldCAobSkge1xuXHQgICAgLy8gT24gRmlyZWZveC4yNCBEYXRlI2dldFRpbWV6b25lT2Zmc2V0IHJldHVybnMgYSBmbG9hdGluZyBwb2ludC5cblx0ICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9tb21lbnQvbW9tZW50L3B1bGwvMTg3MVxuXHQgICAgcmV0dXJuIC1NYXRoLnJvdW5kKG0uX2QuZ2V0VGltZXpvbmVPZmZzZXQoKSAvIDE1KSAqIDE1O1xuXHR9XG5cdFxuXHQvLyBIT09LU1xuXHRcblx0Ly8gVGhpcyBmdW5jdGlvbiB3aWxsIGJlIGNhbGxlZCB3aGVuZXZlciBhIG1vbWVudCBpcyBtdXRhdGVkLlxuXHQvLyBJdCBpcyBpbnRlbmRlZCB0byBrZWVwIHRoZSBvZmZzZXQgaW4gc3luYyB3aXRoIHRoZSB0aW1lem9uZS5cblx0aG9va3MudXBkYXRlT2Zmc2V0ID0gZnVuY3Rpb24gKCkge307XG5cdFxuXHQvLyBNT01FTlRTXG5cdFxuXHQvLyBrZWVwTG9jYWxUaW1lID0gdHJ1ZSBtZWFucyBvbmx5IGNoYW5nZSB0aGUgdGltZXpvbmUsIHdpdGhvdXRcblx0Ly8gYWZmZWN0aW5nIHRoZSBsb2NhbCBob3VyLiBTbyA1OjMxOjI2ICswMzAwIC0tW3V0Y09mZnNldCgyLCB0cnVlKV0tLT5cblx0Ly8gNTozMToyNiArMDIwMCBJdCBpcyBwb3NzaWJsZSB0aGF0IDU6MzE6MjYgZG9lc24ndCBleGlzdCB3aXRoIG9mZnNldFxuXHQvLyArMDIwMCwgc28gd2UgYWRqdXN0IHRoZSB0aW1lIGFzIG5lZWRlZCwgdG8gYmUgdmFsaWQuXG5cdC8vXG5cdC8vIEtlZXBpbmcgdGhlIHRpbWUgYWN0dWFsbHkgYWRkcy9zdWJ0cmFjdHMgKG9uZSBob3VyKVxuXHQvLyBmcm9tIHRoZSBhY3R1YWwgcmVwcmVzZW50ZWQgdGltZS4gVGhhdCBpcyB3aHkgd2UgY2FsbCB1cGRhdGVPZmZzZXRcblx0Ly8gYSBzZWNvbmQgdGltZS4gSW4gY2FzZSBpdCB3YW50cyB1cyB0byBjaGFuZ2UgdGhlIG9mZnNldCBhZ2FpblxuXHQvLyBfY2hhbmdlSW5Qcm9ncmVzcyA9PSB0cnVlIGNhc2UsIHRoZW4gd2UgaGF2ZSB0byBhZGp1c3QsIGJlY2F1c2Vcblx0Ly8gdGhlcmUgaXMgbm8gc3VjaCB0aW1lIGluIHRoZSBnaXZlbiB0aW1lem9uZS5cblx0ZnVuY3Rpb24gZ2V0U2V0T2Zmc2V0IChpbnB1dCwga2VlcExvY2FsVGltZSkge1xuXHQgICAgdmFyIG9mZnNldCA9IHRoaXMuX29mZnNldCB8fCAwLFxuXHQgICAgICAgIGxvY2FsQWRqdXN0O1xuXHQgICAgaWYgKCF0aGlzLmlzVmFsaWQoKSkge1xuXHQgICAgICAgIHJldHVybiBpbnB1dCAhPSBudWxsID8gdGhpcyA6IE5hTjtcblx0ICAgIH1cblx0ICAgIGlmIChpbnB1dCAhPSBudWxsKSB7XG5cdCAgICAgICAgaWYgKHR5cGVvZiBpbnB1dCA9PT0gJ3N0cmluZycpIHtcblx0ICAgICAgICAgICAgaW5wdXQgPSBvZmZzZXRGcm9tU3RyaW5nKG1hdGNoU2hvcnRPZmZzZXQsIGlucHV0KTtcblx0ICAgICAgICAgICAgaWYgKGlucHV0ID09PSBudWxsKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH0gZWxzZSBpZiAoTWF0aC5hYnMoaW5wdXQpIDwgMTYpIHtcblx0ICAgICAgICAgICAgaW5wdXQgPSBpbnB1dCAqIDYwO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAoIXRoaXMuX2lzVVRDICYmIGtlZXBMb2NhbFRpbWUpIHtcblx0ICAgICAgICAgICAgbG9jYWxBZGp1c3QgPSBnZXREYXRlT2Zmc2V0KHRoaXMpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICB0aGlzLl9vZmZzZXQgPSBpbnB1dDtcblx0ICAgICAgICB0aGlzLl9pc1VUQyA9IHRydWU7XG5cdCAgICAgICAgaWYgKGxvY2FsQWRqdXN0ICE9IG51bGwpIHtcblx0ICAgICAgICAgICAgdGhpcy5hZGQobG9jYWxBZGp1c3QsICdtJyk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmIChvZmZzZXQgIT09IGlucHV0KSB7XG5cdCAgICAgICAgICAgIGlmICgha2VlcExvY2FsVGltZSB8fCB0aGlzLl9jaGFuZ2VJblByb2dyZXNzKSB7XG5cdCAgICAgICAgICAgICAgICBhZGRTdWJ0cmFjdCh0aGlzLCBjcmVhdGVEdXJhdGlvbihpbnB1dCAtIG9mZnNldCwgJ20nKSwgMSwgZmFsc2UpO1xuXHQgICAgICAgICAgICB9IGVsc2UgaWYgKCF0aGlzLl9jaGFuZ2VJblByb2dyZXNzKSB7XG5cdCAgICAgICAgICAgICAgICB0aGlzLl9jaGFuZ2VJblByb2dyZXNzID0gdHJ1ZTtcblx0ICAgICAgICAgICAgICAgIGhvb2tzLnVwZGF0ZU9mZnNldCh0aGlzLCB0cnVlKTtcblx0ICAgICAgICAgICAgICAgIHRoaXMuX2NoYW5nZUluUHJvZ3Jlc3MgPSBudWxsO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiB0aGlzO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXR1cm4gdGhpcy5faXNVVEMgPyBvZmZzZXQgOiBnZXREYXRlT2Zmc2V0KHRoaXMpO1xuXHQgICAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBnZXRTZXRab25lIChpbnB1dCwga2VlcExvY2FsVGltZSkge1xuXHQgICAgaWYgKGlucHV0ICE9IG51bGwpIHtcblx0ICAgICAgICBpZiAodHlwZW9mIGlucHV0ICE9PSAnc3RyaW5nJykge1xuXHQgICAgICAgICAgICBpbnB1dCA9IC1pbnB1dDtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIHRoaXMudXRjT2Zmc2V0KGlucHV0LCBrZWVwTG9jYWxUaW1lKTtcblx0XG5cdCAgICAgICAgcmV0dXJuIHRoaXM7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJldHVybiAtdGhpcy51dGNPZmZzZXQoKTtcblx0ICAgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gc2V0T2Zmc2V0VG9VVEMgKGtlZXBMb2NhbFRpbWUpIHtcblx0ICAgIHJldHVybiB0aGlzLnV0Y09mZnNldCgwLCBrZWVwTG9jYWxUaW1lKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gc2V0T2Zmc2V0VG9Mb2NhbCAoa2VlcExvY2FsVGltZSkge1xuXHQgICAgaWYgKHRoaXMuX2lzVVRDKSB7XG5cdCAgICAgICAgdGhpcy51dGNPZmZzZXQoMCwga2VlcExvY2FsVGltZSk7XG5cdCAgICAgICAgdGhpcy5faXNVVEMgPSBmYWxzZTtcblx0XG5cdCAgICAgICAgaWYgKGtlZXBMb2NhbFRpbWUpIHtcblx0ICAgICAgICAgICAgdGhpcy5zdWJ0cmFjdChnZXREYXRlT2Zmc2V0KHRoaXMpLCAnbScpO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0ICAgIHJldHVybiB0aGlzO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBzZXRPZmZzZXRUb1BhcnNlZE9mZnNldCAoKSB7XG5cdCAgICBpZiAodGhpcy5fdHptICE9IG51bGwpIHtcblx0ICAgICAgICB0aGlzLnV0Y09mZnNldCh0aGlzLl90em0pO1xuXHQgICAgfSBlbHNlIGlmICh0eXBlb2YgdGhpcy5faSA9PT0gJ3N0cmluZycpIHtcblx0ICAgICAgICB2YXIgdFpvbmUgPSBvZmZzZXRGcm9tU3RyaW5nKG1hdGNoT2Zmc2V0LCB0aGlzLl9pKTtcblx0ICAgICAgICBpZiAodFpvbmUgIT0gbnVsbCkge1xuXHQgICAgICAgICAgICB0aGlzLnV0Y09mZnNldCh0Wm9uZSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGVsc2Uge1xuXHQgICAgICAgICAgICB0aGlzLnV0Y09mZnNldCgwLCB0cnVlKTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdCAgICByZXR1cm4gdGhpcztcblx0fVxuXHRcblx0ZnVuY3Rpb24gaGFzQWxpZ25lZEhvdXJPZmZzZXQgKGlucHV0KSB7XG5cdCAgICBpZiAoIXRoaXMuaXNWYWxpZCgpKSB7XG5cdCAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgfVxuXHQgICAgaW5wdXQgPSBpbnB1dCA/IGNyZWF0ZUxvY2FsKGlucHV0KS51dGNPZmZzZXQoKSA6IDA7XG5cdFxuXHQgICAgcmV0dXJuICh0aGlzLnV0Y09mZnNldCgpIC0gaW5wdXQpICUgNjAgPT09IDA7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGlzRGF5bGlnaHRTYXZpbmdUaW1lICgpIHtcblx0ICAgIHJldHVybiAoXG5cdCAgICAgICAgdGhpcy51dGNPZmZzZXQoKSA+IHRoaXMuY2xvbmUoKS5tb250aCgwKS51dGNPZmZzZXQoKSB8fFxuXHQgICAgICAgIHRoaXMudXRjT2Zmc2V0KCkgPiB0aGlzLmNsb25lKCkubW9udGgoNSkudXRjT2Zmc2V0KClcblx0ICAgICk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGlzRGF5bGlnaHRTYXZpbmdUaW1lU2hpZnRlZCAoKSB7XG5cdCAgICBpZiAoIWlzVW5kZWZpbmVkKHRoaXMuX2lzRFNUU2hpZnRlZCkpIHtcblx0ICAgICAgICByZXR1cm4gdGhpcy5faXNEU1RTaGlmdGVkO1xuXHQgICAgfVxuXHRcblx0ICAgIHZhciBjID0ge307XG5cdFxuXHQgICAgY29weUNvbmZpZyhjLCB0aGlzKTtcblx0ICAgIGMgPSBwcmVwYXJlQ29uZmlnKGMpO1xuXHRcblx0ICAgIGlmIChjLl9hKSB7XG5cdCAgICAgICAgdmFyIG90aGVyID0gYy5faXNVVEMgPyBjcmVhdGVVVEMoYy5fYSkgOiBjcmVhdGVMb2NhbChjLl9hKTtcblx0ICAgICAgICB0aGlzLl9pc0RTVFNoaWZ0ZWQgPSB0aGlzLmlzVmFsaWQoKSAmJlxuXHQgICAgICAgICAgICBjb21wYXJlQXJyYXlzKGMuX2EsIG90aGVyLnRvQXJyYXkoKSkgPiAwO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICB0aGlzLl9pc0RTVFNoaWZ0ZWQgPSBmYWxzZTtcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gdGhpcy5faXNEU1RTaGlmdGVkO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBpc0xvY2FsICgpIHtcblx0ICAgIHJldHVybiB0aGlzLmlzVmFsaWQoKSA/ICF0aGlzLl9pc1VUQyA6IGZhbHNlO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBpc1V0Y09mZnNldCAoKSB7XG5cdCAgICByZXR1cm4gdGhpcy5pc1ZhbGlkKCkgPyB0aGlzLl9pc1VUQyA6IGZhbHNlO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBpc1V0YyAoKSB7XG5cdCAgICByZXR1cm4gdGhpcy5pc1ZhbGlkKCkgPyB0aGlzLl9pc1VUQyAmJiB0aGlzLl9vZmZzZXQgPT09IDAgOiBmYWxzZTtcblx0fVxuXHRcblx0Ly8gQVNQLk5FVCBqc29uIGRhdGUgZm9ybWF0IHJlZ2V4XG5cdHZhciBhc3BOZXRSZWdleCA9IC9eKFxcLSk/KD86KFxcZCopWy4gXSk/KFxcZCspXFw6KFxcZCspKD86XFw6KFxcZCspKFxcLlxcZCopPyk/JC87XG5cdFxuXHQvLyBmcm9tIGh0dHA6Ly9kb2NzLmNsb3N1cmUtbGlicmFyeS5nb29nbGVjb2RlLmNvbS9naXQvY2xvc3VyZV9nb29nX2RhdGVfZGF0ZS5qcy5zb3VyY2UuaHRtbFxuXHQvLyBzb21ld2hhdCBtb3JlIGluIGxpbmUgd2l0aCA0LjQuMy4yIDIwMDQgc3BlYywgYnV0IGFsbG93cyBkZWNpbWFsIGFueXdoZXJlXG5cdC8vIGFuZCBmdXJ0aGVyIG1vZGlmaWVkIHRvIGFsbG93IGZvciBzdHJpbmdzIGNvbnRhaW5pbmcgYm90aCB3ZWVrIGFuZCBkYXlcblx0dmFyIGlzb1JlZ2V4ID0gL14oLSk/UCg/OigtP1swLTksLl0qKVkpPyg/OigtP1swLTksLl0qKU0pPyg/OigtP1swLTksLl0qKVcpPyg/OigtP1swLTksLl0qKUQpPyg/OlQoPzooLT9bMC05LC5dKilIKT8oPzooLT9bMC05LC5dKilNKT8oPzooLT9bMC05LC5dKilTKT8pPyQvO1xuXHRcblx0ZnVuY3Rpb24gY3JlYXRlRHVyYXRpb24gKGlucHV0LCBrZXkpIHtcblx0ICAgIHZhciBkdXJhdGlvbiA9IGlucHV0LFxuXHQgICAgICAgIC8vIG1hdGNoaW5nIGFnYWluc3QgcmVnZXhwIGlzIGV4cGVuc2l2ZSwgZG8gaXQgb24gZGVtYW5kXG5cdCAgICAgICAgbWF0Y2ggPSBudWxsLFxuXHQgICAgICAgIHNpZ24sXG5cdCAgICAgICAgcmV0LFxuXHQgICAgICAgIGRpZmZSZXM7XG5cdFxuXHQgICAgaWYgKGlzRHVyYXRpb24oaW5wdXQpKSB7XG5cdCAgICAgICAgZHVyYXRpb24gPSB7XG5cdCAgICAgICAgICAgIG1zIDogaW5wdXQuX21pbGxpc2Vjb25kcyxcblx0ICAgICAgICAgICAgZCAgOiBpbnB1dC5fZGF5cyxcblx0ICAgICAgICAgICAgTSAgOiBpbnB1dC5fbW9udGhzXG5cdCAgICAgICAgfTtcblx0ICAgIH0gZWxzZSBpZiAoaXNOdW1iZXIoaW5wdXQpKSB7XG5cdCAgICAgICAgZHVyYXRpb24gPSB7fTtcblx0ICAgICAgICBpZiAoa2V5KSB7XG5cdCAgICAgICAgICAgIGR1cmF0aW9uW2tleV0gPSBpbnB1dDtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICBkdXJhdGlvbi5taWxsaXNlY29uZHMgPSBpbnB1dDtcblx0ICAgICAgICB9XG5cdCAgICB9IGVsc2UgaWYgKCEhKG1hdGNoID0gYXNwTmV0UmVnZXguZXhlYyhpbnB1dCkpKSB7XG5cdCAgICAgICAgc2lnbiA9IChtYXRjaFsxXSA9PT0gJy0nKSA/IC0xIDogMTtcblx0ICAgICAgICBkdXJhdGlvbiA9IHtcblx0ICAgICAgICAgICAgeSAgOiAwLFxuXHQgICAgICAgICAgICBkICA6IHRvSW50KG1hdGNoW0RBVEVdKSAgICAgICAgICAgICAgICAgICAgICAgICAqIHNpZ24sXG5cdCAgICAgICAgICAgIGggIDogdG9JbnQobWF0Y2hbSE9VUl0pICAgICAgICAgICAgICAgICAgICAgICAgICogc2lnbixcblx0ICAgICAgICAgICAgbSAgOiB0b0ludChtYXRjaFtNSU5VVEVdKSAgICAgICAgICAgICAgICAgICAgICAgKiBzaWduLFxuXHQgICAgICAgICAgICBzICA6IHRvSW50KG1hdGNoW1NFQ09ORF0pICAgICAgICAgICAgICAgICAgICAgICAqIHNpZ24sXG5cdCAgICAgICAgICAgIG1zIDogdG9JbnQoYWJzUm91bmQobWF0Y2hbTUlMTElTRUNPTkRdICogMTAwMCkpICogc2lnbiAvLyB0aGUgbWlsbGlzZWNvbmQgZGVjaW1hbCBwb2ludCBpcyBpbmNsdWRlZCBpbiB0aGUgbWF0Y2hcblx0ICAgICAgICB9O1xuXHQgICAgfSBlbHNlIGlmICghIShtYXRjaCA9IGlzb1JlZ2V4LmV4ZWMoaW5wdXQpKSkge1xuXHQgICAgICAgIHNpZ24gPSAobWF0Y2hbMV0gPT09ICctJykgPyAtMSA6IDE7XG5cdCAgICAgICAgZHVyYXRpb24gPSB7XG5cdCAgICAgICAgICAgIHkgOiBwYXJzZUlzbyhtYXRjaFsyXSwgc2lnbiksXG5cdCAgICAgICAgICAgIE0gOiBwYXJzZUlzbyhtYXRjaFszXSwgc2lnbiksXG5cdCAgICAgICAgICAgIHcgOiBwYXJzZUlzbyhtYXRjaFs0XSwgc2lnbiksXG5cdCAgICAgICAgICAgIGQgOiBwYXJzZUlzbyhtYXRjaFs1XSwgc2lnbiksXG5cdCAgICAgICAgICAgIGggOiBwYXJzZUlzbyhtYXRjaFs2XSwgc2lnbiksXG5cdCAgICAgICAgICAgIG0gOiBwYXJzZUlzbyhtYXRjaFs3XSwgc2lnbiksXG5cdCAgICAgICAgICAgIHMgOiBwYXJzZUlzbyhtYXRjaFs4XSwgc2lnbilcblx0ICAgICAgICB9O1xuXHQgICAgfSBlbHNlIGlmIChkdXJhdGlvbiA9PSBudWxsKSB7Ly8gY2hlY2tzIGZvciBudWxsIG9yIHVuZGVmaW5lZFxuXHQgICAgICAgIGR1cmF0aW9uID0ge307XG5cdCAgICB9IGVsc2UgaWYgKHR5cGVvZiBkdXJhdGlvbiA9PT0gJ29iamVjdCcgJiYgKCdmcm9tJyBpbiBkdXJhdGlvbiB8fCAndG8nIGluIGR1cmF0aW9uKSkge1xuXHQgICAgICAgIGRpZmZSZXMgPSBtb21lbnRzRGlmZmVyZW5jZShjcmVhdGVMb2NhbChkdXJhdGlvbi5mcm9tKSwgY3JlYXRlTG9jYWwoZHVyYXRpb24udG8pKTtcblx0XG5cdCAgICAgICAgZHVyYXRpb24gPSB7fTtcblx0ICAgICAgICBkdXJhdGlvbi5tcyA9IGRpZmZSZXMubWlsbGlzZWNvbmRzO1xuXHQgICAgICAgIGR1cmF0aW9uLk0gPSBkaWZmUmVzLm1vbnRocztcblx0ICAgIH1cblx0XG5cdCAgICByZXQgPSBuZXcgRHVyYXRpb24oZHVyYXRpb24pO1xuXHRcblx0ICAgIGlmIChpc0R1cmF0aW9uKGlucHV0KSAmJiBoYXNPd25Qcm9wKGlucHV0LCAnX2xvY2FsZScpKSB7XG5cdCAgICAgICAgcmV0Ll9sb2NhbGUgPSBpbnB1dC5fbG9jYWxlO1xuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiByZXQ7XG5cdH1cblx0XG5cdGNyZWF0ZUR1cmF0aW9uLmZuID0gRHVyYXRpb24ucHJvdG90eXBlO1xuXHRcblx0ZnVuY3Rpb24gcGFyc2VJc28gKGlucCwgc2lnbikge1xuXHQgICAgLy8gV2UnZCBub3JtYWxseSB1c2Ugfn5pbnAgZm9yIHRoaXMsIGJ1dCB1bmZvcnR1bmF0ZWx5IGl0IGFsc29cblx0ICAgIC8vIGNvbnZlcnRzIGZsb2F0cyB0byBpbnRzLlxuXHQgICAgLy8gaW5wIG1heSBiZSB1bmRlZmluZWQsIHNvIGNhcmVmdWwgY2FsbGluZyByZXBsYWNlIG9uIGl0LlxuXHQgICAgdmFyIHJlcyA9IGlucCAmJiBwYXJzZUZsb2F0KGlucC5yZXBsYWNlKCcsJywgJy4nKSk7XG5cdCAgICAvLyBhcHBseSBzaWduIHdoaWxlIHdlJ3JlIGF0IGl0XG5cdCAgICByZXR1cm4gKGlzTmFOKHJlcykgPyAwIDogcmVzKSAqIHNpZ247XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHBvc2l0aXZlTW9tZW50c0RpZmZlcmVuY2UoYmFzZSwgb3RoZXIpIHtcblx0ICAgIHZhciByZXMgPSB7bWlsbGlzZWNvbmRzOiAwLCBtb250aHM6IDB9O1xuXHRcblx0ICAgIHJlcy5tb250aHMgPSBvdGhlci5tb250aCgpIC0gYmFzZS5tb250aCgpICtcblx0ICAgICAgICAob3RoZXIueWVhcigpIC0gYmFzZS55ZWFyKCkpICogMTI7XG5cdCAgICBpZiAoYmFzZS5jbG9uZSgpLmFkZChyZXMubW9udGhzLCAnTScpLmlzQWZ0ZXIob3RoZXIpKSB7XG5cdCAgICAgICAgLS1yZXMubW9udGhzO1xuXHQgICAgfVxuXHRcblx0ICAgIHJlcy5taWxsaXNlY29uZHMgPSArb3RoZXIgLSArKGJhc2UuY2xvbmUoKS5hZGQocmVzLm1vbnRocywgJ00nKSk7XG5cdFxuXHQgICAgcmV0dXJuIHJlcztcblx0fVxuXHRcblx0ZnVuY3Rpb24gbW9tZW50c0RpZmZlcmVuY2UoYmFzZSwgb3RoZXIpIHtcblx0ICAgIHZhciByZXM7XG5cdCAgICBpZiAoIShiYXNlLmlzVmFsaWQoKSAmJiBvdGhlci5pc1ZhbGlkKCkpKSB7XG5cdCAgICAgICAgcmV0dXJuIHttaWxsaXNlY29uZHM6IDAsIG1vbnRoczogMH07XG5cdCAgICB9XG5cdFxuXHQgICAgb3RoZXIgPSBjbG9uZVdpdGhPZmZzZXQob3RoZXIsIGJhc2UpO1xuXHQgICAgaWYgKGJhc2UuaXNCZWZvcmUob3RoZXIpKSB7XG5cdCAgICAgICAgcmVzID0gcG9zaXRpdmVNb21lbnRzRGlmZmVyZW5jZShiYXNlLCBvdGhlcik7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJlcyA9IHBvc2l0aXZlTW9tZW50c0RpZmZlcmVuY2Uob3RoZXIsIGJhc2UpO1xuXHQgICAgICAgIHJlcy5taWxsaXNlY29uZHMgPSAtcmVzLm1pbGxpc2Vjb25kcztcblx0ICAgICAgICByZXMubW9udGhzID0gLXJlcy5tb250aHM7XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIHJlcztcblx0fVxuXHRcblx0Ly8gVE9ETzogcmVtb3ZlICduYW1lJyBhcmcgYWZ0ZXIgZGVwcmVjYXRpb24gaXMgcmVtb3ZlZFxuXHRmdW5jdGlvbiBjcmVhdGVBZGRlcihkaXJlY3Rpb24sIG5hbWUpIHtcblx0ICAgIHJldHVybiBmdW5jdGlvbiAodmFsLCBwZXJpb2QpIHtcblx0ICAgICAgICB2YXIgZHVyLCB0bXA7XG5cdCAgICAgICAgLy9pbnZlcnQgdGhlIGFyZ3VtZW50cywgYnV0IGNvbXBsYWluIGFib3V0IGl0XG5cdCAgICAgICAgaWYgKHBlcmlvZCAhPT0gbnVsbCAmJiAhaXNOYU4oK3BlcmlvZCkpIHtcblx0ICAgICAgICAgICAgZGVwcmVjYXRlU2ltcGxlKG5hbWUsICdtb21lbnQoKS4nICsgbmFtZSAgKyAnKHBlcmlvZCwgbnVtYmVyKSBpcyBkZXByZWNhdGVkLiBQbGVhc2UgdXNlIG1vbWVudCgpLicgKyBuYW1lICsgJyhudW1iZXIsIHBlcmlvZCkuICcgK1xuXHQgICAgICAgICAgICAnU2VlIGh0dHA6Ly9tb21lbnRqcy5jb20vZ3VpZGVzLyMvd2FybmluZ3MvYWRkLWludmVydGVkLXBhcmFtLyBmb3IgbW9yZSBpbmZvLicpO1xuXHQgICAgICAgICAgICB0bXAgPSB2YWw7IHZhbCA9IHBlcmlvZDsgcGVyaW9kID0gdG1wO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgdmFsID0gdHlwZW9mIHZhbCA9PT0gJ3N0cmluZycgPyArdmFsIDogdmFsO1xuXHQgICAgICAgIGR1ciA9IGNyZWF0ZUR1cmF0aW9uKHZhbCwgcGVyaW9kKTtcblx0ICAgICAgICBhZGRTdWJ0cmFjdCh0aGlzLCBkdXIsIGRpcmVjdGlvbik7XG5cdCAgICAgICAgcmV0dXJuIHRoaXM7XG5cdCAgICB9O1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBhZGRTdWJ0cmFjdCAobW9tLCBkdXJhdGlvbiwgaXNBZGRpbmcsIHVwZGF0ZU9mZnNldCkge1xuXHQgICAgdmFyIG1pbGxpc2Vjb25kcyA9IGR1cmF0aW9uLl9taWxsaXNlY29uZHMsXG5cdCAgICAgICAgZGF5cyA9IGFic1JvdW5kKGR1cmF0aW9uLl9kYXlzKSxcblx0ICAgICAgICBtb250aHMgPSBhYnNSb3VuZChkdXJhdGlvbi5fbW9udGhzKTtcblx0XG5cdCAgICBpZiAoIW1vbS5pc1ZhbGlkKCkpIHtcblx0ICAgICAgICAvLyBObyBvcFxuXHQgICAgICAgIHJldHVybjtcblx0ICAgIH1cblx0XG5cdCAgICB1cGRhdGVPZmZzZXQgPSB1cGRhdGVPZmZzZXQgPT0gbnVsbCA/IHRydWUgOiB1cGRhdGVPZmZzZXQ7XG5cdFxuXHQgICAgaWYgKG1pbGxpc2Vjb25kcykge1xuXHQgICAgICAgIG1vbS5fZC5zZXRUaW1lKG1vbS5fZC52YWx1ZU9mKCkgKyBtaWxsaXNlY29uZHMgKiBpc0FkZGluZyk7XG5cdCAgICB9XG5cdCAgICBpZiAoZGF5cykge1xuXHQgICAgICAgIHNldCQxKG1vbSwgJ0RhdGUnLCBnZXQobW9tLCAnRGF0ZScpICsgZGF5cyAqIGlzQWRkaW5nKTtcblx0ICAgIH1cblx0ICAgIGlmIChtb250aHMpIHtcblx0ICAgICAgICBzZXRNb250aChtb20sIGdldChtb20sICdNb250aCcpICsgbW9udGhzICogaXNBZGRpbmcpO1xuXHQgICAgfVxuXHQgICAgaWYgKHVwZGF0ZU9mZnNldCkge1xuXHQgICAgICAgIGhvb2tzLnVwZGF0ZU9mZnNldChtb20sIGRheXMgfHwgbW9udGhzKTtcblx0ICAgIH1cblx0fVxuXHRcblx0dmFyIGFkZCAgICAgID0gY3JlYXRlQWRkZXIoMSwgJ2FkZCcpO1xuXHR2YXIgc3VidHJhY3QgPSBjcmVhdGVBZGRlcigtMSwgJ3N1YnRyYWN0Jyk7XG5cdFxuXHRmdW5jdGlvbiBnZXRDYWxlbmRhckZvcm1hdChteU1vbWVudCwgbm93KSB7XG5cdCAgICB2YXIgZGlmZiA9IG15TW9tZW50LmRpZmYobm93LCAnZGF5cycsIHRydWUpO1xuXHQgICAgcmV0dXJuIGRpZmYgPCAtNiA/ICdzYW1lRWxzZScgOlxuXHQgICAgICAgICAgICBkaWZmIDwgLTEgPyAnbGFzdFdlZWsnIDpcblx0ICAgICAgICAgICAgZGlmZiA8IDAgPyAnbGFzdERheScgOlxuXHQgICAgICAgICAgICBkaWZmIDwgMSA/ICdzYW1lRGF5JyA6XG5cdCAgICAgICAgICAgIGRpZmYgPCAyID8gJ25leHREYXknIDpcblx0ICAgICAgICAgICAgZGlmZiA8IDcgPyAnbmV4dFdlZWsnIDogJ3NhbWVFbHNlJztcblx0fVxuXHRcblx0ZnVuY3Rpb24gY2FsZW5kYXIkMSAodGltZSwgZm9ybWF0cykge1xuXHQgICAgLy8gV2Ugd2FudCB0byBjb21wYXJlIHRoZSBzdGFydCBvZiB0b2RheSwgdnMgdGhpcy5cblx0ICAgIC8vIEdldHRpbmcgc3RhcnQtb2YtdG9kYXkgZGVwZW5kcyBvbiB3aGV0aGVyIHdlJ3JlIGxvY2FsL3V0Yy9vZmZzZXQgb3Igbm90LlxuXHQgICAgdmFyIG5vdyA9IHRpbWUgfHwgY3JlYXRlTG9jYWwoKSxcblx0ICAgICAgICBzb2QgPSBjbG9uZVdpdGhPZmZzZXQobm93LCB0aGlzKS5zdGFydE9mKCdkYXknKSxcblx0ICAgICAgICBmb3JtYXQgPSBob29rcy5jYWxlbmRhckZvcm1hdCh0aGlzLCBzb2QpIHx8ICdzYW1lRWxzZSc7XG5cdFxuXHQgICAgdmFyIG91dHB1dCA9IGZvcm1hdHMgJiYgKGlzRnVuY3Rpb24oZm9ybWF0c1tmb3JtYXRdKSA/IGZvcm1hdHNbZm9ybWF0XS5jYWxsKHRoaXMsIG5vdykgOiBmb3JtYXRzW2Zvcm1hdF0pO1xuXHRcblx0ICAgIHJldHVybiB0aGlzLmZvcm1hdChvdXRwdXQgfHwgdGhpcy5sb2NhbGVEYXRhKCkuY2FsZW5kYXIoZm9ybWF0LCB0aGlzLCBjcmVhdGVMb2NhbChub3cpKSk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGNsb25lICgpIHtcblx0ICAgIHJldHVybiBuZXcgTW9tZW50KHRoaXMpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBpc0FmdGVyIChpbnB1dCwgdW5pdHMpIHtcblx0ICAgIHZhciBsb2NhbElucHV0ID0gaXNNb21lbnQoaW5wdXQpID8gaW5wdXQgOiBjcmVhdGVMb2NhbChpbnB1dCk7XG5cdCAgICBpZiAoISh0aGlzLmlzVmFsaWQoKSAmJiBsb2NhbElucHV0LmlzVmFsaWQoKSkpIHtcblx0ICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICB9XG5cdCAgICB1bml0cyA9IG5vcm1hbGl6ZVVuaXRzKCFpc1VuZGVmaW5lZCh1bml0cykgPyB1bml0cyA6ICdtaWxsaXNlY29uZCcpO1xuXHQgICAgaWYgKHVuaXRzID09PSAnbWlsbGlzZWNvbmQnKSB7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMudmFsdWVPZigpID4gbG9jYWxJbnB1dC52YWx1ZU9mKCk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJldHVybiBsb2NhbElucHV0LnZhbHVlT2YoKSA8IHRoaXMuY2xvbmUoKS5zdGFydE9mKHVuaXRzKS52YWx1ZU9mKCk7XG5cdCAgICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGlzQmVmb3JlIChpbnB1dCwgdW5pdHMpIHtcblx0ICAgIHZhciBsb2NhbElucHV0ID0gaXNNb21lbnQoaW5wdXQpID8gaW5wdXQgOiBjcmVhdGVMb2NhbChpbnB1dCk7XG5cdCAgICBpZiAoISh0aGlzLmlzVmFsaWQoKSAmJiBsb2NhbElucHV0LmlzVmFsaWQoKSkpIHtcblx0ICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICB9XG5cdCAgICB1bml0cyA9IG5vcm1hbGl6ZVVuaXRzKCFpc1VuZGVmaW5lZCh1bml0cykgPyB1bml0cyA6ICdtaWxsaXNlY29uZCcpO1xuXHQgICAgaWYgKHVuaXRzID09PSAnbWlsbGlzZWNvbmQnKSB7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMudmFsdWVPZigpIDwgbG9jYWxJbnB1dC52YWx1ZU9mKCk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJldHVybiB0aGlzLmNsb25lKCkuZW5kT2YodW5pdHMpLnZhbHVlT2YoKSA8IGxvY2FsSW5wdXQudmFsdWVPZigpO1xuXHQgICAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBpc0JldHdlZW4gKGZyb20sIHRvLCB1bml0cywgaW5jbHVzaXZpdHkpIHtcblx0ICAgIGluY2x1c2l2aXR5ID0gaW5jbHVzaXZpdHkgfHwgJygpJztcblx0ICAgIHJldHVybiAoaW5jbHVzaXZpdHlbMF0gPT09ICcoJyA/IHRoaXMuaXNBZnRlcihmcm9tLCB1bml0cykgOiAhdGhpcy5pc0JlZm9yZShmcm9tLCB1bml0cykpICYmXG5cdCAgICAgICAgKGluY2x1c2l2aXR5WzFdID09PSAnKScgPyB0aGlzLmlzQmVmb3JlKHRvLCB1bml0cykgOiAhdGhpcy5pc0FmdGVyKHRvLCB1bml0cykpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBpc1NhbWUgKGlucHV0LCB1bml0cykge1xuXHQgICAgdmFyIGxvY2FsSW5wdXQgPSBpc01vbWVudChpbnB1dCkgPyBpbnB1dCA6IGNyZWF0ZUxvY2FsKGlucHV0KSxcblx0ICAgICAgICBpbnB1dE1zO1xuXHQgICAgaWYgKCEodGhpcy5pc1ZhbGlkKCkgJiYgbG9jYWxJbnB1dC5pc1ZhbGlkKCkpKSB7XG5cdCAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgfVxuXHQgICAgdW5pdHMgPSBub3JtYWxpemVVbml0cyh1bml0cyB8fCAnbWlsbGlzZWNvbmQnKTtcblx0ICAgIGlmICh1bml0cyA9PT0gJ21pbGxpc2Vjb25kJykge1xuXHQgICAgICAgIHJldHVybiB0aGlzLnZhbHVlT2YoKSA9PT0gbG9jYWxJbnB1dC52YWx1ZU9mKCk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIGlucHV0TXMgPSBsb2NhbElucHV0LnZhbHVlT2YoKTtcblx0ICAgICAgICByZXR1cm4gdGhpcy5jbG9uZSgpLnN0YXJ0T2YodW5pdHMpLnZhbHVlT2YoKSA8PSBpbnB1dE1zICYmIGlucHV0TXMgPD0gdGhpcy5jbG9uZSgpLmVuZE9mKHVuaXRzKS52YWx1ZU9mKCk7XG5cdCAgICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGlzU2FtZU9yQWZ0ZXIgKGlucHV0LCB1bml0cykge1xuXHQgICAgcmV0dXJuIHRoaXMuaXNTYW1lKGlucHV0LCB1bml0cykgfHwgdGhpcy5pc0FmdGVyKGlucHV0LHVuaXRzKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gaXNTYW1lT3JCZWZvcmUgKGlucHV0LCB1bml0cykge1xuXHQgICAgcmV0dXJuIHRoaXMuaXNTYW1lKGlucHV0LCB1bml0cykgfHwgdGhpcy5pc0JlZm9yZShpbnB1dCx1bml0cyk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGRpZmYgKGlucHV0LCB1bml0cywgYXNGbG9hdCkge1xuXHQgICAgdmFyIHRoYXQsXG5cdCAgICAgICAgem9uZURlbHRhLFxuXHQgICAgICAgIGRlbHRhLCBvdXRwdXQ7XG5cdFxuXHQgICAgaWYgKCF0aGlzLmlzVmFsaWQoKSkge1xuXHQgICAgICAgIHJldHVybiBOYU47XG5cdCAgICB9XG5cdFxuXHQgICAgdGhhdCA9IGNsb25lV2l0aE9mZnNldChpbnB1dCwgdGhpcyk7XG5cdFxuXHQgICAgaWYgKCF0aGF0LmlzVmFsaWQoKSkge1xuXHQgICAgICAgIHJldHVybiBOYU47XG5cdCAgICB9XG5cdFxuXHQgICAgem9uZURlbHRhID0gKHRoYXQudXRjT2Zmc2V0KCkgLSB0aGlzLnV0Y09mZnNldCgpKSAqIDZlNDtcblx0XG5cdCAgICB1bml0cyA9IG5vcm1hbGl6ZVVuaXRzKHVuaXRzKTtcblx0XG5cdCAgICBpZiAodW5pdHMgPT09ICd5ZWFyJyB8fCB1bml0cyA9PT0gJ21vbnRoJyB8fCB1bml0cyA9PT0gJ3F1YXJ0ZXInKSB7XG5cdCAgICAgICAgb3V0cHV0ID0gbW9udGhEaWZmKHRoaXMsIHRoYXQpO1xuXHQgICAgICAgIGlmICh1bml0cyA9PT0gJ3F1YXJ0ZXInKSB7XG5cdCAgICAgICAgICAgIG91dHB1dCA9IG91dHB1dCAvIDM7XG5cdCAgICAgICAgfSBlbHNlIGlmICh1bml0cyA9PT0gJ3llYXInKSB7XG5cdCAgICAgICAgICAgIG91dHB1dCA9IG91dHB1dCAvIDEyO1xuXHQgICAgICAgIH1cblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgZGVsdGEgPSB0aGlzIC0gdGhhdDtcblx0ICAgICAgICBvdXRwdXQgPSB1bml0cyA9PT0gJ3NlY29uZCcgPyBkZWx0YSAvIDFlMyA6IC8vIDEwMDBcblx0ICAgICAgICAgICAgdW5pdHMgPT09ICdtaW51dGUnID8gZGVsdGEgLyA2ZTQgOiAvLyAxMDAwICogNjBcblx0ICAgICAgICAgICAgdW5pdHMgPT09ICdob3VyJyA/IGRlbHRhIC8gMzZlNSA6IC8vIDEwMDAgKiA2MCAqIDYwXG5cdCAgICAgICAgICAgIHVuaXRzID09PSAnZGF5JyA/IChkZWx0YSAtIHpvbmVEZWx0YSkgLyA4NjRlNSA6IC8vIDEwMDAgKiA2MCAqIDYwICogMjQsIG5lZ2F0ZSBkc3Rcblx0ICAgICAgICAgICAgdW5pdHMgPT09ICd3ZWVrJyA/IChkZWx0YSAtIHpvbmVEZWx0YSkgLyA2MDQ4ZTUgOiAvLyAxMDAwICogNjAgKiA2MCAqIDI0ICogNywgbmVnYXRlIGRzdFxuXHQgICAgICAgICAgICBkZWx0YTtcblx0ICAgIH1cblx0ICAgIHJldHVybiBhc0Zsb2F0ID8gb3V0cHV0IDogYWJzRmxvb3Iob3V0cHV0KTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gbW9udGhEaWZmIChhLCBiKSB7XG5cdCAgICAvLyBkaWZmZXJlbmNlIGluIG1vbnRoc1xuXHQgICAgdmFyIHdob2xlTW9udGhEaWZmID0gKChiLnllYXIoKSAtIGEueWVhcigpKSAqIDEyKSArIChiLm1vbnRoKCkgLSBhLm1vbnRoKCkpLFxuXHQgICAgICAgIC8vIGIgaXMgaW4gKGFuY2hvciAtIDEgbW9udGgsIGFuY2hvciArIDEgbW9udGgpXG5cdCAgICAgICAgYW5jaG9yID0gYS5jbG9uZSgpLmFkZCh3aG9sZU1vbnRoRGlmZiwgJ21vbnRocycpLFxuXHQgICAgICAgIGFuY2hvcjIsIGFkanVzdDtcblx0XG5cdCAgICBpZiAoYiAtIGFuY2hvciA8IDApIHtcblx0ICAgICAgICBhbmNob3IyID0gYS5jbG9uZSgpLmFkZCh3aG9sZU1vbnRoRGlmZiAtIDEsICdtb250aHMnKTtcblx0ICAgICAgICAvLyBsaW5lYXIgYWNyb3NzIHRoZSBtb250aFxuXHQgICAgICAgIGFkanVzdCA9IChiIC0gYW5jaG9yKSAvIChhbmNob3IgLSBhbmNob3IyKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgYW5jaG9yMiA9IGEuY2xvbmUoKS5hZGQod2hvbGVNb250aERpZmYgKyAxLCAnbW9udGhzJyk7XG5cdCAgICAgICAgLy8gbGluZWFyIGFjcm9zcyB0aGUgbW9udGhcblx0ICAgICAgICBhZGp1c3QgPSAoYiAtIGFuY2hvcikgLyAoYW5jaG9yMiAtIGFuY2hvcik7XG5cdCAgICB9XG5cdFxuXHQgICAgLy9jaGVjayBmb3IgbmVnYXRpdmUgemVybywgcmV0dXJuIHplcm8gaWYgbmVnYXRpdmUgemVyb1xuXHQgICAgcmV0dXJuIC0od2hvbGVNb250aERpZmYgKyBhZGp1c3QpIHx8IDA7XG5cdH1cblx0XG5cdGhvb2tzLmRlZmF1bHRGb3JtYXQgPSAnWVlZWS1NTS1ERFRISDptbTpzc1onO1xuXHRob29rcy5kZWZhdWx0Rm9ybWF0VXRjID0gJ1lZWVktTU0tRERUSEg6bW06c3NbWl0nO1xuXHRcblx0ZnVuY3Rpb24gdG9TdHJpbmcgKCkge1xuXHQgICAgcmV0dXJuIHRoaXMuY2xvbmUoKS5sb2NhbGUoJ2VuJykuZm9ybWF0KCdkZGQgTU1NIEREIFlZWVkgSEg6bW06c3MgW0dNVF1aWicpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiB0b0lTT1N0cmluZyAoKSB7XG5cdCAgICB2YXIgbSA9IHRoaXMuY2xvbmUoKS51dGMoKTtcblx0ICAgIGlmICgwIDwgbS55ZWFyKCkgJiYgbS55ZWFyKCkgPD0gOTk5OSkge1xuXHQgICAgICAgIGlmIChpc0Z1bmN0aW9uKERhdGUucHJvdG90eXBlLnRvSVNPU3RyaW5nKSkge1xuXHQgICAgICAgICAgICAvLyBuYXRpdmUgaW1wbGVtZW50YXRpb24gaXMgfjUweCBmYXN0ZXIsIHVzZSBpdCB3aGVuIHdlIGNhblxuXHQgICAgICAgICAgICByZXR1cm4gdGhpcy50b0RhdGUoKS50b0lTT1N0cmluZygpO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIHJldHVybiBmb3JtYXRNb21lbnQobSwgJ1lZWVktTU0tRERbVF1ISDptbTpzcy5TU1NbWl0nKTtcblx0ICAgICAgICB9XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJldHVybiBmb3JtYXRNb21lbnQobSwgJ1lZWVlZWS1NTS1ERFtUXUhIOm1tOnNzLlNTU1taXScpO1xuXHQgICAgfVxuXHR9XG5cdFxuXHQvKipcblx0ICogUmV0dXJuIGEgaHVtYW4gcmVhZGFibGUgcmVwcmVzZW50YXRpb24gb2YgYSBtb21lbnQgdGhhdCBjYW5cblx0ICogYWxzbyBiZSBldmFsdWF0ZWQgdG8gZ2V0IGEgbmV3IG1vbWVudCB3aGljaCBpcyB0aGUgc2FtZVxuXHQgKlxuXHQgKiBAbGluayBodHRwczovL25vZGVqcy5vcmcvZGlzdC9sYXRlc3QvZG9jcy9hcGkvdXRpbC5odG1sI3V0aWxfY3VzdG9tX2luc3BlY3RfZnVuY3Rpb25fb25fb2JqZWN0c1xuXHQgKi9cblx0ZnVuY3Rpb24gaW5zcGVjdCAoKSB7XG5cdCAgICBpZiAoIXRoaXMuaXNWYWxpZCgpKSB7XG5cdCAgICAgICAgcmV0dXJuICdtb21lbnQuaW52YWxpZCgvKiAnICsgdGhpcy5faSArICcgKi8pJztcblx0ICAgIH1cblx0ICAgIHZhciBmdW5jID0gJ21vbWVudCc7XG5cdCAgICB2YXIgem9uZSA9ICcnO1xuXHQgICAgaWYgKCF0aGlzLmlzTG9jYWwoKSkge1xuXHQgICAgICAgIGZ1bmMgPSB0aGlzLnV0Y09mZnNldCgpID09PSAwID8gJ21vbWVudC51dGMnIDogJ21vbWVudC5wYXJzZVpvbmUnO1xuXHQgICAgICAgIHpvbmUgPSAnWic7XG5cdCAgICB9XG5cdCAgICB2YXIgcHJlZml4ID0gJ1snICsgZnVuYyArICcoXCJdJztcblx0ICAgIHZhciB5ZWFyID0gKDAgPCB0aGlzLnllYXIoKSAmJiB0aGlzLnllYXIoKSA8PSA5OTk5KSA/ICdZWVlZJyA6ICdZWVlZWVknO1xuXHQgICAgdmFyIGRhdGV0aW1lID0gJy1NTS1ERFtUXUhIOm1tOnNzLlNTUyc7XG5cdCAgICB2YXIgc3VmZml4ID0gem9uZSArICdbXCIpXSc7XG5cdFxuXHQgICAgcmV0dXJuIHRoaXMuZm9ybWF0KHByZWZpeCArIHllYXIgKyBkYXRldGltZSArIHN1ZmZpeCk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGZvcm1hdCAoaW5wdXRTdHJpbmcpIHtcblx0ICAgIGlmICghaW5wdXRTdHJpbmcpIHtcblx0ICAgICAgICBpbnB1dFN0cmluZyA9IHRoaXMuaXNVdGMoKSA/IGhvb2tzLmRlZmF1bHRGb3JtYXRVdGMgOiBob29rcy5kZWZhdWx0Rm9ybWF0O1xuXHQgICAgfVxuXHQgICAgdmFyIG91dHB1dCA9IGZvcm1hdE1vbWVudCh0aGlzLCBpbnB1dFN0cmluZyk7XG5cdCAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkucG9zdGZvcm1hdChvdXRwdXQpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBmcm9tICh0aW1lLCB3aXRob3V0U3VmZml4KSB7XG5cdCAgICBpZiAodGhpcy5pc1ZhbGlkKCkgJiZcblx0ICAgICAgICAgICAgKChpc01vbWVudCh0aW1lKSAmJiB0aW1lLmlzVmFsaWQoKSkgfHxcblx0ICAgICAgICAgICAgIGNyZWF0ZUxvY2FsKHRpbWUpLmlzVmFsaWQoKSkpIHtcblx0ICAgICAgICByZXR1cm4gY3JlYXRlRHVyYXRpb24oe3RvOiB0aGlzLCBmcm9tOiB0aW1lfSkubG9jYWxlKHRoaXMubG9jYWxlKCkpLmh1bWFuaXplKCF3aXRob3V0U3VmZml4KTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLmludmFsaWREYXRlKCk7XG5cdCAgICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGZyb21Ob3cgKHdpdGhvdXRTdWZmaXgpIHtcblx0ICAgIHJldHVybiB0aGlzLmZyb20oY3JlYXRlTG9jYWwoKSwgd2l0aG91dFN1ZmZpeCk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHRvICh0aW1lLCB3aXRob3V0U3VmZml4KSB7XG5cdCAgICBpZiAodGhpcy5pc1ZhbGlkKCkgJiZcblx0ICAgICAgICAgICAgKChpc01vbWVudCh0aW1lKSAmJiB0aW1lLmlzVmFsaWQoKSkgfHxcblx0ICAgICAgICAgICAgIGNyZWF0ZUxvY2FsKHRpbWUpLmlzVmFsaWQoKSkpIHtcblx0ICAgICAgICByZXR1cm4gY3JlYXRlRHVyYXRpb24oe2Zyb206IHRoaXMsIHRvOiB0aW1lfSkubG9jYWxlKHRoaXMubG9jYWxlKCkpLmh1bWFuaXplKCF3aXRob3V0U3VmZml4KTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLmludmFsaWREYXRlKCk7XG5cdCAgICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHRvTm93ICh3aXRob3V0U3VmZml4KSB7XG5cdCAgICByZXR1cm4gdGhpcy50byhjcmVhdGVMb2NhbCgpLCB3aXRob3V0U3VmZml4KTtcblx0fVxuXHRcblx0Ly8gSWYgcGFzc2VkIGEgbG9jYWxlIGtleSwgaXQgd2lsbCBzZXQgdGhlIGxvY2FsZSBmb3IgdGhpc1xuXHQvLyBpbnN0YW5jZS4gIE90aGVyd2lzZSwgaXQgd2lsbCByZXR1cm4gdGhlIGxvY2FsZSBjb25maWd1cmF0aW9uXG5cdC8vIHZhcmlhYmxlcyBmb3IgdGhpcyBpbnN0YW5jZS5cblx0ZnVuY3Rpb24gbG9jYWxlIChrZXkpIHtcblx0ICAgIHZhciBuZXdMb2NhbGVEYXRhO1xuXHRcblx0ICAgIGlmIChrZXkgPT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgIHJldHVybiB0aGlzLl9sb2NhbGUuX2FiYnI7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIG5ld0xvY2FsZURhdGEgPSBnZXRMb2NhbGUoa2V5KTtcblx0ICAgICAgICBpZiAobmV3TG9jYWxlRGF0YSAhPSBudWxsKSB7XG5cdCAgICAgICAgICAgIHRoaXMuX2xvY2FsZSA9IG5ld0xvY2FsZURhdGE7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiB0aGlzO1xuXHQgICAgfVxuXHR9XG5cdFxuXHR2YXIgbGFuZyA9IGRlcHJlY2F0ZShcblx0ICAgICdtb21lbnQoKS5sYW5nKCkgaXMgZGVwcmVjYXRlZC4gSW5zdGVhZCwgdXNlIG1vbWVudCgpLmxvY2FsZURhdGEoKSB0byBnZXQgdGhlIGxhbmd1YWdlIGNvbmZpZ3VyYXRpb24uIFVzZSBtb21lbnQoKS5sb2NhbGUoKSB0byBjaGFuZ2UgbGFuZ3VhZ2VzLicsXG5cdCAgICBmdW5jdGlvbiAoa2V5KSB7XG5cdCAgICAgICAgaWYgKGtleSA9PT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzLmxvY2FsZURhdGEoKTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICByZXR1cm4gdGhpcy5sb2NhbGUoa2V5KTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdCk7XG5cdFxuXHRmdW5jdGlvbiBsb2NhbGVEYXRhICgpIHtcblx0ICAgIHJldHVybiB0aGlzLl9sb2NhbGU7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHN0YXJ0T2YgKHVuaXRzKSB7XG5cdCAgICB1bml0cyA9IG5vcm1hbGl6ZVVuaXRzKHVuaXRzKTtcblx0ICAgIC8vIHRoZSBmb2xsb3dpbmcgc3dpdGNoIGludGVudGlvbmFsbHkgb21pdHMgYnJlYWsga2V5d29yZHNcblx0ICAgIC8vIHRvIHV0aWxpemUgZmFsbGluZyB0aHJvdWdoIHRoZSBjYXNlcy5cblx0ICAgIHN3aXRjaCAodW5pdHMpIHtcblx0ICAgICAgICBjYXNlICd5ZWFyJzpcblx0ICAgICAgICAgICAgdGhpcy5tb250aCgwKTtcblx0ICAgICAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuXHQgICAgICAgIGNhc2UgJ3F1YXJ0ZXInOlxuXHQgICAgICAgIGNhc2UgJ21vbnRoJzpcblx0ICAgICAgICAgICAgdGhpcy5kYXRlKDEpO1xuXHQgICAgICAgICAgICAvKiBmYWxscyB0aHJvdWdoICovXG5cdCAgICAgICAgY2FzZSAnd2Vlayc6XG5cdCAgICAgICAgY2FzZSAnaXNvV2Vlayc6XG5cdCAgICAgICAgY2FzZSAnZGF5Jzpcblx0ICAgICAgICBjYXNlICdkYXRlJzpcblx0ICAgICAgICAgICAgdGhpcy5ob3VycygwKTtcblx0ICAgICAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuXHQgICAgICAgIGNhc2UgJ2hvdXInOlxuXHQgICAgICAgICAgICB0aGlzLm1pbnV0ZXMoMCk7XG5cdCAgICAgICAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cblx0ICAgICAgICBjYXNlICdtaW51dGUnOlxuXHQgICAgICAgICAgICB0aGlzLnNlY29uZHMoMCk7XG5cdCAgICAgICAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cblx0ICAgICAgICBjYXNlICdzZWNvbmQnOlxuXHQgICAgICAgICAgICB0aGlzLm1pbGxpc2Vjb25kcygwKTtcblx0ICAgIH1cblx0XG5cdCAgICAvLyB3ZWVrcyBhcmUgYSBzcGVjaWFsIGNhc2Vcblx0ICAgIGlmICh1bml0cyA9PT0gJ3dlZWsnKSB7XG5cdCAgICAgICAgdGhpcy53ZWVrZGF5KDApO1xuXHQgICAgfVxuXHQgICAgaWYgKHVuaXRzID09PSAnaXNvV2VlaycpIHtcblx0ICAgICAgICB0aGlzLmlzb1dlZWtkYXkoMSk7XG5cdCAgICB9XG5cdFxuXHQgICAgLy8gcXVhcnRlcnMgYXJlIGFsc28gc3BlY2lhbFxuXHQgICAgaWYgKHVuaXRzID09PSAncXVhcnRlcicpIHtcblx0ICAgICAgICB0aGlzLm1vbnRoKE1hdGguZmxvb3IodGhpcy5tb250aCgpIC8gMykgKiAzKTtcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gdGhpcztcblx0fVxuXHRcblx0ZnVuY3Rpb24gZW5kT2YgKHVuaXRzKSB7XG5cdCAgICB1bml0cyA9IG5vcm1hbGl6ZVVuaXRzKHVuaXRzKTtcblx0ICAgIGlmICh1bml0cyA9PT0gdW5kZWZpbmVkIHx8IHVuaXRzID09PSAnbWlsbGlzZWNvbmQnKSB7XG5cdCAgICAgICAgcmV0dXJuIHRoaXM7XG5cdCAgICB9XG5cdFxuXHQgICAgLy8gJ2RhdGUnIGlzIGFuIGFsaWFzIGZvciAnZGF5Jywgc28gaXQgc2hvdWxkIGJlIGNvbnNpZGVyZWQgYXMgc3VjaC5cblx0ICAgIGlmICh1bml0cyA9PT0gJ2RhdGUnKSB7XG5cdCAgICAgICAgdW5pdHMgPSAnZGF5Jztcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gdGhpcy5zdGFydE9mKHVuaXRzKS5hZGQoMSwgKHVuaXRzID09PSAnaXNvV2VlaycgPyAnd2VlaycgOiB1bml0cykpLnN1YnRyYWN0KDEsICdtcycpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiB2YWx1ZU9mICgpIHtcblx0ICAgIHJldHVybiB0aGlzLl9kLnZhbHVlT2YoKSAtICgodGhpcy5fb2Zmc2V0IHx8IDApICogNjAwMDApO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiB1bml4ICgpIHtcblx0ICAgIHJldHVybiBNYXRoLmZsb29yKHRoaXMudmFsdWVPZigpIC8gMTAwMCk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHRvRGF0ZSAoKSB7XG5cdCAgICByZXR1cm4gbmV3IERhdGUodGhpcy52YWx1ZU9mKCkpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiB0b0FycmF5ICgpIHtcblx0ICAgIHZhciBtID0gdGhpcztcblx0ICAgIHJldHVybiBbbS55ZWFyKCksIG0ubW9udGgoKSwgbS5kYXRlKCksIG0uaG91cigpLCBtLm1pbnV0ZSgpLCBtLnNlY29uZCgpLCBtLm1pbGxpc2Vjb25kKCldO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiB0b09iamVjdCAoKSB7XG5cdCAgICB2YXIgbSA9IHRoaXM7XG5cdCAgICByZXR1cm4ge1xuXHQgICAgICAgIHllYXJzOiBtLnllYXIoKSxcblx0ICAgICAgICBtb250aHM6IG0ubW9udGgoKSxcblx0ICAgICAgICBkYXRlOiBtLmRhdGUoKSxcblx0ICAgICAgICBob3VyczogbS5ob3VycygpLFxuXHQgICAgICAgIG1pbnV0ZXM6IG0ubWludXRlcygpLFxuXHQgICAgICAgIHNlY29uZHM6IG0uc2Vjb25kcygpLFxuXHQgICAgICAgIG1pbGxpc2Vjb25kczogbS5taWxsaXNlY29uZHMoKVxuXHQgICAgfTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gdG9KU09OICgpIHtcblx0ICAgIC8vIG5ldyBEYXRlKE5hTikudG9KU09OKCkgPT09IG51bGxcblx0ICAgIHJldHVybiB0aGlzLmlzVmFsaWQoKSA/IHRoaXMudG9JU09TdHJpbmcoKSA6IG51bGw7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGlzVmFsaWQkMSAoKSB7XG5cdCAgICByZXR1cm4gaXNWYWxpZCh0aGlzKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gcGFyc2luZ0ZsYWdzICgpIHtcblx0ICAgIHJldHVybiBleHRlbmQoe30sIGdldFBhcnNpbmdGbGFncyh0aGlzKSk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGludmFsaWRBdCAoKSB7XG5cdCAgICByZXR1cm4gZ2V0UGFyc2luZ0ZsYWdzKHRoaXMpLm92ZXJmbG93O1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBjcmVhdGlvbkRhdGEoKSB7XG5cdCAgICByZXR1cm4ge1xuXHQgICAgICAgIGlucHV0OiB0aGlzLl9pLFxuXHQgICAgICAgIGZvcm1hdDogdGhpcy5fZixcblx0ICAgICAgICBsb2NhbGU6IHRoaXMuX2xvY2FsZSxcblx0ICAgICAgICBpc1VUQzogdGhpcy5faXNVVEMsXG5cdCAgICAgICAgc3RyaWN0OiB0aGlzLl9zdHJpY3Rcblx0ICAgIH07XG5cdH1cblx0XG5cdC8vIEZPUk1BVFRJTkdcblx0XG5cdGFkZEZvcm1hdFRva2VuKDAsIFsnZ2cnLCAyXSwgMCwgZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuIHRoaXMud2Vla1llYXIoKSAlIDEwMDtcblx0fSk7XG5cdFxuXHRhZGRGb3JtYXRUb2tlbigwLCBbJ0dHJywgMl0sIDAsIGZ1bmN0aW9uICgpIHtcblx0ICAgIHJldHVybiB0aGlzLmlzb1dlZWtZZWFyKCkgJSAxMDA7XG5cdH0pO1xuXHRcblx0ZnVuY3Rpb24gYWRkV2Vla1llYXJGb3JtYXRUb2tlbiAodG9rZW4sIGdldHRlcikge1xuXHQgICAgYWRkRm9ybWF0VG9rZW4oMCwgW3Rva2VuLCB0b2tlbi5sZW5ndGhdLCAwLCBnZXR0ZXIpO1xuXHR9XG5cdFxuXHRhZGRXZWVrWWVhckZvcm1hdFRva2VuKCdnZ2dnJywgICAgICd3ZWVrWWVhcicpO1xuXHRhZGRXZWVrWWVhckZvcm1hdFRva2VuKCdnZ2dnZycsICAgICd3ZWVrWWVhcicpO1xuXHRhZGRXZWVrWWVhckZvcm1hdFRva2VuKCdHR0dHJywgICdpc29XZWVrWWVhcicpO1xuXHRhZGRXZWVrWWVhckZvcm1hdFRva2VuKCdHR0dHRycsICdpc29XZWVrWWVhcicpO1xuXHRcblx0Ly8gQUxJQVNFU1xuXHRcblx0YWRkVW5pdEFsaWFzKCd3ZWVrWWVhcicsICdnZycpO1xuXHRhZGRVbml0QWxpYXMoJ2lzb1dlZWtZZWFyJywgJ0dHJyk7XG5cdFxuXHQvLyBQUklPUklUWVxuXHRcblx0YWRkVW5pdFByaW9yaXR5KCd3ZWVrWWVhcicsIDEpO1xuXHRhZGRVbml0UHJpb3JpdHkoJ2lzb1dlZWtZZWFyJywgMSk7XG5cdFxuXHRcblx0Ly8gUEFSU0lOR1xuXHRcblx0YWRkUmVnZXhUb2tlbignRycsICAgICAgbWF0Y2hTaWduZWQpO1xuXHRhZGRSZWdleFRva2VuKCdnJywgICAgICBtYXRjaFNpZ25lZCk7XG5cdGFkZFJlZ2V4VG9rZW4oJ0dHJywgICAgIG1hdGNoMXRvMiwgbWF0Y2gyKTtcblx0YWRkUmVnZXhUb2tlbignZ2cnLCAgICAgbWF0Y2gxdG8yLCBtYXRjaDIpO1xuXHRhZGRSZWdleFRva2VuKCdHR0dHJywgICBtYXRjaDF0bzQsIG1hdGNoNCk7XG5cdGFkZFJlZ2V4VG9rZW4oJ2dnZ2cnLCAgIG1hdGNoMXRvNCwgbWF0Y2g0KTtcblx0YWRkUmVnZXhUb2tlbignR0dHR0cnLCAgbWF0Y2gxdG82LCBtYXRjaDYpO1xuXHRhZGRSZWdleFRva2VuKCdnZ2dnZycsICBtYXRjaDF0bzYsIG1hdGNoNik7XG5cdFxuXHRhZGRXZWVrUGFyc2VUb2tlbihbJ2dnZ2cnLCAnZ2dnZ2cnLCAnR0dHRycsICdHR0dHRyddLCBmdW5jdGlvbiAoaW5wdXQsIHdlZWssIGNvbmZpZywgdG9rZW4pIHtcblx0ICAgIHdlZWtbdG9rZW4uc3Vic3RyKDAsIDIpXSA9IHRvSW50KGlucHV0KTtcblx0fSk7XG5cdFxuXHRhZGRXZWVrUGFyc2VUb2tlbihbJ2dnJywgJ0dHJ10sIGZ1bmN0aW9uIChpbnB1dCwgd2VlaywgY29uZmlnLCB0b2tlbikge1xuXHQgICAgd2Vla1t0b2tlbl0gPSBob29rcy5wYXJzZVR3b0RpZ2l0WWVhcihpbnB1dCk7XG5cdH0pO1xuXHRcblx0Ly8gTU9NRU5UU1xuXHRcblx0ZnVuY3Rpb24gZ2V0U2V0V2Vla1llYXIgKGlucHV0KSB7XG5cdCAgICByZXR1cm4gZ2V0U2V0V2Vla1llYXJIZWxwZXIuY2FsbCh0aGlzLFxuXHQgICAgICAgICAgICBpbnB1dCxcblx0ICAgICAgICAgICAgdGhpcy53ZWVrKCksXG5cdCAgICAgICAgICAgIHRoaXMud2Vla2RheSgpLFxuXHQgICAgICAgICAgICB0aGlzLmxvY2FsZURhdGEoKS5fd2Vlay5kb3csXG5cdCAgICAgICAgICAgIHRoaXMubG9jYWxlRGF0YSgpLl93ZWVrLmRveSk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGdldFNldElTT1dlZWtZZWFyIChpbnB1dCkge1xuXHQgICAgcmV0dXJuIGdldFNldFdlZWtZZWFySGVscGVyLmNhbGwodGhpcyxcblx0ICAgICAgICAgICAgaW5wdXQsIHRoaXMuaXNvV2VlaygpLCB0aGlzLmlzb1dlZWtkYXkoKSwgMSwgNCk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGdldElTT1dlZWtzSW5ZZWFyICgpIHtcblx0ICAgIHJldHVybiB3ZWVrc0luWWVhcih0aGlzLnllYXIoKSwgMSwgNCk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGdldFdlZWtzSW5ZZWFyICgpIHtcblx0ICAgIHZhciB3ZWVrSW5mbyA9IHRoaXMubG9jYWxlRGF0YSgpLl93ZWVrO1xuXHQgICAgcmV0dXJuIHdlZWtzSW5ZZWFyKHRoaXMueWVhcigpLCB3ZWVrSW5mby5kb3csIHdlZWtJbmZvLmRveSk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGdldFNldFdlZWtZZWFySGVscGVyKGlucHV0LCB3ZWVrLCB3ZWVrZGF5LCBkb3csIGRveSkge1xuXHQgICAgdmFyIHdlZWtzVGFyZ2V0O1xuXHQgICAgaWYgKGlucHV0ID09IG51bGwpIHtcblx0ICAgICAgICByZXR1cm4gd2Vla09mWWVhcih0aGlzLCBkb3csIGRveSkueWVhcjtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgd2Vla3NUYXJnZXQgPSB3ZWVrc0luWWVhcihpbnB1dCwgZG93LCBkb3kpO1xuXHQgICAgICAgIGlmICh3ZWVrID4gd2Vla3NUYXJnZXQpIHtcblx0ICAgICAgICAgICAgd2VlayA9IHdlZWtzVGFyZ2V0O1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gc2V0V2Vla0FsbC5jYWxsKHRoaXMsIGlucHV0LCB3ZWVrLCB3ZWVrZGF5LCBkb3csIGRveSk7XG5cdCAgICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHNldFdlZWtBbGwod2Vla1llYXIsIHdlZWssIHdlZWtkYXksIGRvdywgZG95KSB7XG5cdCAgICB2YXIgZGF5T2ZZZWFyRGF0YSA9IGRheU9mWWVhckZyb21XZWVrcyh3ZWVrWWVhciwgd2Vlaywgd2Vla2RheSwgZG93LCBkb3kpLFxuXHQgICAgICAgIGRhdGUgPSBjcmVhdGVVVENEYXRlKGRheU9mWWVhckRhdGEueWVhciwgMCwgZGF5T2ZZZWFyRGF0YS5kYXlPZlllYXIpO1xuXHRcblx0ICAgIHRoaXMueWVhcihkYXRlLmdldFVUQ0Z1bGxZZWFyKCkpO1xuXHQgICAgdGhpcy5tb250aChkYXRlLmdldFVUQ01vbnRoKCkpO1xuXHQgICAgdGhpcy5kYXRlKGRhdGUuZ2V0VVRDRGF0ZSgpKTtcblx0ICAgIHJldHVybiB0aGlzO1xuXHR9XG5cdFxuXHQvLyBGT1JNQVRUSU5HXG5cdFxuXHRhZGRGb3JtYXRUb2tlbignUScsIDAsICdRbycsICdxdWFydGVyJyk7XG5cdFxuXHQvLyBBTElBU0VTXG5cdFxuXHRhZGRVbml0QWxpYXMoJ3F1YXJ0ZXInLCAnUScpO1xuXHRcblx0Ly8gUFJJT1JJVFlcblx0XG5cdGFkZFVuaXRQcmlvcml0eSgncXVhcnRlcicsIDcpO1xuXHRcblx0Ly8gUEFSU0lOR1xuXHRcblx0YWRkUmVnZXhUb2tlbignUScsIG1hdGNoMSk7XG5cdGFkZFBhcnNlVG9rZW4oJ1EnLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5KSB7XG5cdCAgICBhcnJheVtNT05USF0gPSAodG9JbnQoaW5wdXQpIC0gMSkgKiAzO1xuXHR9KTtcblx0XG5cdC8vIE1PTUVOVFNcblx0XG5cdGZ1bmN0aW9uIGdldFNldFF1YXJ0ZXIgKGlucHV0KSB7XG5cdCAgICByZXR1cm4gaW5wdXQgPT0gbnVsbCA/IE1hdGguY2VpbCgodGhpcy5tb250aCgpICsgMSkgLyAzKSA6IHRoaXMubW9udGgoKGlucHV0IC0gMSkgKiAzICsgdGhpcy5tb250aCgpICUgMyk7XG5cdH1cblx0XG5cdC8vIEZPUk1BVFRJTkdcblx0XG5cdGFkZEZvcm1hdFRva2VuKCdEJywgWydERCcsIDJdLCAnRG8nLCAnZGF0ZScpO1xuXHRcblx0Ly8gQUxJQVNFU1xuXHRcblx0YWRkVW5pdEFsaWFzKCdkYXRlJywgJ0QnKTtcblx0XG5cdC8vIFBSSU9ST0lUWVxuXHRhZGRVbml0UHJpb3JpdHkoJ2RhdGUnLCA5KTtcblx0XG5cdC8vIFBBUlNJTkdcblx0XG5cdGFkZFJlZ2V4VG9rZW4oJ0QnLCAgbWF0Y2gxdG8yKTtcblx0YWRkUmVnZXhUb2tlbignREQnLCBtYXRjaDF0bzIsIG1hdGNoMik7XG5cdGFkZFJlZ2V4VG9rZW4oJ0RvJywgZnVuY3Rpb24gKGlzU3RyaWN0LCBsb2NhbGUpIHtcblx0ICAgIHJldHVybiBpc1N0cmljdCA/IGxvY2FsZS5fb3JkaW5hbFBhcnNlIDogbG9jYWxlLl9vcmRpbmFsUGFyc2VMZW5pZW50O1xuXHR9KTtcblx0XG5cdGFkZFBhcnNlVG9rZW4oWydEJywgJ0REJ10sIERBVEUpO1xuXHRhZGRQYXJzZVRva2VuKCdEbycsIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXkpIHtcblx0ICAgIGFycmF5W0RBVEVdID0gdG9JbnQoaW5wdXQubWF0Y2gobWF0Y2gxdG8yKVswXSwgMTApO1xuXHR9KTtcblx0XG5cdC8vIE1PTUVOVFNcblx0XG5cdHZhciBnZXRTZXREYXlPZk1vbnRoID0gbWFrZUdldFNldCgnRGF0ZScsIHRydWUpO1xuXHRcblx0Ly8gRk9STUFUVElOR1xuXHRcblx0YWRkRm9ybWF0VG9rZW4oJ0RERCcsIFsnRERERCcsIDNdLCAnREREbycsICdkYXlPZlllYXInKTtcblx0XG5cdC8vIEFMSUFTRVNcblx0XG5cdGFkZFVuaXRBbGlhcygnZGF5T2ZZZWFyJywgJ0RERCcpO1xuXHRcblx0Ly8gUFJJT1JJVFlcblx0YWRkVW5pdFByaW9yaXR5KCdkYXlPZlllYXInLCA0KTtcblx0XG5cdC8vIFBBUlNJTkdcblx0XG5cdGFkZFJlZ2V4VG9rZW4oJ0RERCcsICBtYXRjaDF0bzMpO1xuXHRhZGRSZWdleFRva2VuKCdEREREJywgbWF0Y2gzKTtcblx0YWRkUGFyc2VUb2tlbihbJ0RERCcsICdEREREJ10sIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXksIGNvbmZpZykge1xuXHQgICAgY29uZmlnLl9kYXlPZlllYXIgPSB0b0ludChpbnB1dCk7XG5cdH0pO1xuXHRcblx0Ly8gSEVMUEVSU1xuXHRcblx0Ly8gTU9NRU5UU1xuXHRcblx0ZnVuY3Rpb24gZ2V0U2V0RGF5T2ZZZWFyIChpbnB1dCkge1xuXHQgICAgdmFyIGRheU9mWWVhciA9IE1hdGgucm91bmQoKHRoaXMuY2xvbmUoKS5zdGFydE9mKCdkYXknKSAtIHRoaXMuY2xvbmUoKS5zdGFydE9mKCd5ZWFyJykpIC8gODY0ZTUpICsgMTtcblx0ICAgIHJldHVybiBpbnB1dCA9PSBudWxsID8gZGF5T2ZZZWFyIDogdGhpcy5hZGQoKGlucHV0IC0gZGF5T2ZZZWFyKSwgJ2QnKTtcblx0fVxuXHRcblx0Ly8gRk9STUFUVElOR1xuXHRcblx0YWRkRm9ybWF0VG9rZW4oJ20nLCBbJ21tJywgMl0sIDAsICdtaW51dGUnKTtcblx0XG5cdC8vIEFMSUFTRVNcblx0XG5cdGFkZFVuaXRBbGlhcygnbWludXRlJywgJ20nKTtcblx0XG5cdC8vIFBSSU9SSVRZXG5cdFxuXHRhZGRVbml0UHJpb3JpdHkoJ21pbnV0ZScsIDE0KTtcblx0XG5cdC8vIFBBUlNJTkdcblx0XG5cdGFkZFJlZ2V4VG9rZW4oJ20nLCAgbWF0Y2gxdG8yKTtcblx0YWRkUmVnZXhUb2tlbignbW0nLCBtYXRjaDF0bzIsIG1hdGNoMik7XG5cdGFkZFBhcnNlVG9rZW4oWydtJywgJ21tJ10sIE1JTlVURSk7XG5cdFxuXHQvLyBNT01FTlRTXG5cdFxuXHR2YXIgZ2V0U2V0TWludXRlID0gbWFrZUdldFNldCgnTWludXRlcycsIGZhbHNlKTtcblx0XG5cdC8vIEZPUk1BVFRJTkdcblx0XG5cdGFkZEZvcm1hdFRva2VuKCdzJywgWydzcycsIDJdLCAwLCAnc2Vjb25kJyk7XG5cdFxuXHQvLyBBTElBU0VTXG5cdFxuXHRhZGRVbml0QWxpYXMoJ3NlY29uZCcsICdzJyk7XG5cdFxuXHQvLyBQUklPUklUWVxuXHRcblx0YWRkVW5pdFByaW9yaXR5KCdzZWNvbmQnLCAxNSk7XG5cdFxuXHQvLyBQQVJTSU5HXG5cdFxuXHRhZGRSZWdleFRva2VuKCdzJywgIG1hdGNoMXRvMik7XG5cdGFkZFJlZ2V4VG9rZW4oJ3NzJywgbWF0Y2gxdG8yLCBtYXRjaDIpO1xuXHRhZGRQYXJzZVRva2VuKFsncycsICdzcyddLCBTRUNPTkQpO1xuXHRcblx0Ly8gTU9NRU5UU1xuXHRcblx0dmFyIGdldFNldFNlY29uZCA9IG1ha2VHZXRTZXQoJ1NlY29uZHMnLCBmYWxzZSk7XG5cdFxuXHQvLyBGT1JNQVRUSU5HXG5cdFxuXHRhZGRGb3JtYXRUb2tlbignUycsIDAsIDAsIGZ1bmN0aW9uICgpIHtcblx0ICAgIHJldHVybiB+fih0aGlzLm1pbGxpc2Vjb25kKCkgLyAxMDApO1xuXHR9KTtcblx0XG5cdGFkZEZvcm1hdFRva2VuKDAsIFsnU1MnLCAyXSwgMCwgZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuIH5+KHRoaXMubWlsbGlzZWNvbmQoKSAvIDEwKTtcblx0fSk7XG5cdFxuXHRhZGRGb3JtYXRUb2tlbigwLCBbJ1NTUycsIDNdLCAwLCAnbWlsbGlzZWNvbmQnKTtcblx0YWRkRm9ybWF0VG9rZW4oMCwgWydTU1NTJywgNF0sIDAsIGZ1bmN0aW9uICgpIHtcblx0ICAgIHJldHVybiB0aGlzLm1pbGxpc2Vjb25kKCkgKiAxMDtcblx0fSk7XG5cdGFkZEZvcm1hdFRva2VuKDAsIFsnU1NTU1MnLCA1XSwgMCwgZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuIHRoaXMubWlsbGlzZWNvbmQoKSAqIDEwMDtcblx0fSk7XG5cdGFkZEZvcm1hdFRva2VuKDAsIFsnU1NTU1NTJywgNl0sIDAsIGZ1bmN0aW9uICgpIHtcblx0ICAgIHJldHVybiB0aGlzLm1pbGxpc2Vjb25kKCkgKiAxMDAwO1xuXHR9KTtcblx0YWRkRm9ybWF0VG9rZW4oMCwgWydTU1NTU1NTJywgN10sIDAsIGZ1bmN0aW9uICgpIHtcblx0ICAgIHJldHVybiB0aGlzLm1pbGxpc2Vjb25kKCkgKiAxMDAwMDtcblx0fSk7XG5cdGFkZEZvcm1hdFRva2VuKDAsIFsnU1NTU1NTU1MnLCA4XSwgMCwgZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuIHRoaXMubWlsbGlzZWNvbmQoKSAqIDEwMDAwMDtcblx0fSk7XG5cdGFkZEZvcm1hdFRva2VuKDAsIFsnU1NTU1NTU1NTJywgOV0sIDAsIGZ1bmN0aW9uICgpIHtcblx0ICAgIHJldHVybiB0aGlzLm1pbGxpc2Vjb25kKCkgKiAxMDAwMDAwO1xuXHR9KTtcblx0XG5cdFxuXHQvLyBBTElBU0VTXG5cdFxuXHRhZGRVbml0QWxpYXMoJ21pbGxpc2Vjb25kJywgJ21zJyk7XG5cdFxuXHQvLyBQUklPUklUWVxuXHRcblx0YWRkVW5pdFByaW9yaXR5KCdtaWxsaXNlY29uZCcsIDE2KTtcblx0XG5cdC8vIFBBUlNJTkdcblx0XG5cdGFkZFJlZ2V4VG9rZW4oJ1MnLCAgICBtYXRjaDF0bzMsIG1hdGNoMSk7XG5cdGFkZFJlZ2V4VG9rZW4oJ1NTJywgICBtYXRjaDF0bzMsIG1hdGNoMik7XG5cdGFkZFJlZ2V4VG9rZW4oJ1NTUycsICBtYXRjaDF0bzMsIG1hdGNoMyk7XG5cdFxuXHR2YXIgdG9rZW47XG5cdGZvciAodG9rZW4gPSAnU1NTUyc7IHRva2VuLmxlbmd0aCA8PSA5OyB0b2tlbiArPSAnUycpIHtcblx0ICAgIGFkZFJlZ2V4VG9rZW4odG9rZW4sIG1hdGNoVW5zaWduZWQpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBwYXJzZU1zKGlucHV0LCBhcnJheSkge1xuXHQgICAgYXJyYXlbTUlMTElTRUNPTkRdID0gdG9JbnQoKCcwLicgKyBpbnB1dCkgKiAxMDAwKTtcblx0fVxuXHRcblx0Zm9yICh0b2tlbiA9ICdTJzsgdG9rZW4ubGVuZ3RoIDw9IDk7IHRva2VuICs9ICdTJykge1xuXHQgICAgYWRkUGFyc2VUb2tlbih0b2tlbiwgcGFyc2VNcyk7XG5cdH1cblx0Ly8gTU9NRU5UU1xuXHRcblx0dmFyIGdldFNldE1pbGxpc2Vjb25kID0gbWFrZUdldFNldCgnTWlsbGlzZWNvbmRzJywgZmFsc2UpO1xuXHRcblx0Ly8gRk9STUFUVElOR1xuXHRcblx0YWRkRm9ybWF0VG9rZW4oJ3onLCAgMCwgMCwgJ3pvbmVBYmJyJyk7XG5cdGFkZEZvcm1hdFRva2VuKCd6eicsIDAsIDAsICd6b25lTmFtZScpO1xuXHRcblx0Ly8gTU9NRU5UU1xuXHRcblx0ZnVuY3Rpb24gZ2V0Wm9uZUFiYnIgKCkge1xuXHQgICAgcmV0dXJuIHRoaXMuX2lzVVRDID8gJ1VUQycgOiAnJztcblx0fVxuXHRcblx0ZnVuY3Rpb24gZ2V0Wm9uZU5hbWUgKCkge1xuXHQgICAgcmV0dXJuIHRoaXMuX2lzVVRDID8gJ0Nvb3JkaW5hdGVkIFVuaXZlcnNhbCBUaW1lJyA6ICcnO1xuXHR9XG5cdFxuXHR2YXIgcHJvdG8gPSBNb21lbnQucHJvdG90eXBlO1xuXHRcblx0cHJvdG8uYWRkICAgICAgICAgICAgICAgPSBhZGQ7XG5cdHByb3RvLmNhbGVuZGFyICAgICAgICAgID0gY2FsZW5kYXIkMTtcblx0cHJvdG8uY2xvbmUgICAgICAgICAgICAgPSBjbG9uZTtcblx0cHJvdG8uZGlmZiAgICAgICAgICAgICAgPSBkaWZmO1xuXHRwcm90by5lbmRPZiAgICAgICAgICAgICA9IGVuZE9mO1xuXHRwcm90by5mb3JtYXQgICAgICAgICAgICA9IGZvcm1hdDtcblx0cHJvdG8uZnJvbSAgICAgICAgICAgICAgPSBmcm9tO1xuXHRwcm90by5mcm9tTm93ICAgICAgICAgICA9IGZyb21Ob3c7XG5cdHByb3RvLnRvICAgICAgICAgICAgICAgID0gdG87XG5cdHByb3RvLnRvTm93ICAgICAgICAgICAgID0gdG9Ob3c7XG5cdHByb3RvLmdldCAgICAgICAgICAgICAgID0gc3RyaW5nR2V0O1xuXHRwcm90by5pbnZhbGlkQXQgICAgICAgICA9IGludmFsaWRBdDtcblx0cHJvdG8uaXNBZnRlciAgICAgICAgICAgPSBpc0FmdGVyO1xuXHRwcm90by5pc0JlZm9yZSAgICAgICAgICA9IGlzQmVmb3JlO1xuXHRwcm90by5pc0JldHdlZW4gICAgICAgICA9IGlzQmV0d2Vlbjtcblx0cHJvdG8uaXNTYW1lICAgICAgICAgICAgPSBpc1NhbWU7XG5cdHByb3RvLmlzU2FtZU9yQWZ0ZXIgICAgID0gaXNTYW1lT3JBZnRlcjtcblx0cHJvdG8uaXNTYW1lT3JCZWZvcmUgICAgPSBpc1NhbWVPckJlZm9yZTtcblx0cHJvdG8uaXNWYWxpZCAgICAgICAgICAgPSBpc1ZhbGlkJDE7XG5cdHByb3RvLmxhbmcgICAgICAgICAgICAgID0gbGFuZztcblx0cHJvdG8ubG9jYWxlICAgICAgICAgICAgPSBsb2NhbGU7XG5cdHByb3RvLmxvY2FsZURhdGEgICAgICAgID0gbG9jYWxlRGF0YTtcblx0cHJvdG8ubWF4ICAgICAgICAgICAgICAgPSBwcm90b3R5cGVNYXg7XG5cdHByb3RvLm1pbiAgICAgICAgICAgICAgID0gcHJvdG90eXBlTWluO1xuXHRwcm90by5wYXJzaW5nRmxhZ3MgICAgICA9IHBhcnNpbmdGbGFncztcblx0cHJvdG8uc2V0ICAgICAgICAgICAgICAgPSBzdHJpbmdTZXQ7XG5cdHByb3RvLnN0YXJ0T2YgICAgICAgICAgID0gc3RhcnRPZjtcblx0cHJvdG8uc3VidHJhY3QgICAgICAgICAgPSBzdWJ0cmFjdDtcblx0cHJvdG8udG9BcnJheSAgICAgICAgICAgPSB0b0FycmF5O1xuXHRwcm90by50b09iamVjdCAgICAgICAgICA9IHRvT2JqZWN0O1xuXHRwcm90by50b0RhdGUgICAgICAgICAgICA9IHRvRGF0ZTtcblx0cHJvdG8udG9JU09TdHJpbmcgICAgICAgPSB0b0lTT1N0cmluZztcblx0cHJvdG8uaW5zcGVjdCAgICAgICAgICAgPSBpbnNwZWN0O1xuXHRwcm90by50b0pTT04gICAgICAgICAgICA9IHRvSlNPTjtcblx0cHJvdG8udG9TdHJpbmcgICAgICAgICAgPSB0b1N0cmluZztcblx0cHJvdG8udW5peCAgICAgICAgICAgICAgPSB1bml4O1xuXHRwcm90by52YWx1ZU9mICAgICAgICAgICA9IHZhbHVlT2Y7XG5cdHByb3RvLmNyZWF0aW9uRGF0YSAgICAgID0gY3JlYXRpb25EYXRhO1xuXHRcblx0Ly8gWWVhclxuXHRwcm90by55ZWFyICAgICAgID0gZ2V0U2V0WWVhcjtcblx0cHJvdG8uaXNMZWFwWWVhciA9IGdldElzTGVhcFllYXI7XG5cdFxuXHQvLyBXZWVrIFllYXJcblx0cHJvdG8ud2Vla1llYXIgICAgPSBnZXRTZXRXZWVrWWVhcjtcblx0cHJvdG8uaXNvV2Vla1llYXIgPSBnZXRTZXRJU09XZWVrWWVhcjtcblx0XG5cdC8vIFF1YXJ0ZXJcblx0cHJvdG8ucXVhcnRlciA9IHByb3RvLnF1YXJ0ZXJzID0gZ2V0U2V0UXVhcnRlcjtcblx0XG5cdC8vIE1vbnRoXG5cdHByb3RvLm1vbnRoICAgICAgID0gZ2V0U2V0TW9udGg7XG5cdHByb3RvLmRheXNJbk1vbnRoID0gZ2V0RGF5c0luTW9udGg7XG5cdFxuXHQvLyBXZWVrXG5cdHByb3RvLndlZWsgICAgICAgICAgID0gcHJvdG8ud2Vla3MgICAgICAgID0gZ2V0U2V0V2Vlaztcblx0cHJvdG8uaXNvV2VlayAgICAgICAgPSBwcm90by5pc29XZWVrcyAgICAgPSBnZXRTZXRJU09XZWVrO1xuXHRwcm90by53ZWVrc0luWWVhciAgICA9IGdldFdlZWtzSW5ZZWFyO1xuXHRwcm90by5pc29XZWVrc0luWWVhciA9IGdldElTT1dlZWtzSW5ZZWFyO1xuXHRcblx0Ly8gRGF5XG5cdHByb3RvLmRhdGUgICAgICAgPSBnZXRTZXREYXlPZk1vbnRoO1xuXHRwcm90by5kYXkgICAgICAgID0gcHJvdG8uZGF5cyAgICAgICAgICAgICA9IGdldFNldERheU9mV2Vlaztcblx0cHJvdG8ud2Vla2RheSAgICA9IGdldFNldExvY2FsZURheU9mV2Vlaztcblx0cHJvdG8uaXNvV2Vla2RheSA9IGdldFNldElTT0RheU9mV2Vlaztcblx0cHJvdG8uZGF5T2ZZZWFyICA9IGdldFNldERheU9mWWVhcjtcblx0XG5cdC8vIEhvdXJcblx0cHJvdG8uaG91ciA9IHByb3RvLmhvdXJzID0gZ2V0U2V0SG91cjtcblx0XG5cdC8vIE1pbnV0ZVxuXHRwcm90by5taW51dGUgPSBwcm90by5taW51dGVzID0gZ2V0U2V0TWludXRlO1xuXHRcblx0Ly8gU2Vjb25kXG5cdHByb3RvLnNlY29uZCA9IHByb3RvLnNlY29uZHMgPSBnZXRTZXRTZWNvbmQ7XG5cdFxuXHQvLyBNaWxsaXNlY29uZFxuXHRwcm90by5taWxsaXNlY29uZCA9IHByb3RvLm1pbGxpc2Vjb25kcyA9IGdldFNldE1pbGxpc2Vjb25kO1xuXHRcblx0Ly8gT2Zmc2V0XG5cdHByb3RvLnV0Y09mZnNldCAgICAgICAgICAgID0gZ2V0U2V0T2Zmc2V0O1xuXHRwcm90by51dGMgICAgICAgICAgICAgICAgICA9IHNldE9mZnNldFRvVVRDO1xuXHRwcm90by5sb2NhbCAgICAgICAgICAgICAgICA9IHNldE9mZnNldFRvTG9jYWw7XG5cdHByb3RvLnBhcnNlWm9uZSAgICAgICAgICAgID0gc2V0T2Zmc2V0VG9QYXJzZWRPZmZzZXQ7XG5cdHByb3RvLmhhc0FsaWduZWRIb3VyT2Zmc2V0ID0gaGFzQWxpZ25lZEhvdXJPZmZzZXQ7XG5cdHByb3RvLmlzRFNUICAgICAgICAgICAgICAgID0gaXNEYXlsaWdodFNhdmluZ1RpbWU7XG5cdHByb3RvLmlzTG9jYWwgICAgICAgICAgICAgID0gaXNMb2NhbDtcblx0cHJvdG8uaXNVdGNPZmZzZXQgICAgICAgICAgPSBpc1V0Y09mZnNldDtcblx0cHJvdG8uaXNVdGMgICAgICAgICAgICAgICAgPSBpc1V0Yztcblx0cHJvdG8uaXNVVEMgICAgICAgICAgICAgICAgPSBpc1V0Yztcblx0XG5cdC8vIFRpbWV6b25lXG5cdHByb3RvLnpvbmVBYmJyID0gZ2V0Wm9uZUFiYnI7XG5cdHByb3RvLnpvbmVOYW1lID0gZ2V0Wm9uZU5hbWU7XG5cdFxuXHQvLyBEZXByZWNhdGlvbnNcblx0cHJvdG8uZGF0ZXMgID0gZGVwcmVjYXRlKCdkYXRlcyBhY2Nlc3NvciBpcyBkZXByZWNhdGVkLiBVc2UgZGF0ZSBpbnN0ZWFkLicsIGdldFNldERheU9mTW9udGgpO1xuXHRwcm90by5tb250aHMgPSBkZXByZWNhdGUoJ21vbnRocyBhY2Nlc3NvciBpcyBkZXByZWNhdGVkLiBVc2UgbW9udGggaW5zdGVhZCcsIGdldFNldE1vbnRoKTtcblx0cHJvdG8ueWVhcnMgID0gZGVwcmVjYXRlKCd5ZWFycyBhY2Nlc3NvciBpcyBkZXByZWNhdGVkLiBVc2UgeWVhciBpbnN0ZWFkJywgZ2V0U2V0WWVhcik7XG5cdHByb3RvLnpvbmUgICA9IGRlcHJlY2F0ZSgnbW9tZW50KCkuem9uZSBpcyBkZXByZWNhdGVkLCB1c2UgbW9tZW50KCkudXRjT2Zmc2V0IGluc3RlYWQuIGh0dHA6Ly9tb21lbnRqcy5jb20vZ3VpZGVzLyMvd2FybmluZ3Mvem9uZS8nLCBnZXRTZXRab25lKTtcblx0cHJvdG8uaXNEU1RTaGlmdGVkID0gZGVwcmVjYXRlKCdpc0RTVFNoaWZ0ZWQgaXMgZGVwcmVjYXRlZC4gU2VlIGh0dHA6Ly9tb21lbnRqcy5jb20vZ3VpZGVzLyMvd2FybmluZ3MvZHN0LXNoaWZ0ZWQvIGZvciBtb3JlIGluZm9ybWF0aW9uJywgaXNEYXlsaWdodFNhdmluZ1RpbWVTaGlmdGVkKTtcblx0XG5cdGZ1bmN0aW9uIGNyZWF0ZVVuaXggKGlucHV0KSB7XG5cdCAgICByZXR1cm4gY3JlYXRlTG9jYWwoaW5wdXQgKiAxMDAwKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gY3JlYXRlSW5ab25lICgpIHtcblx0ICAgIHJldHVybiBjcmVhdGVMb2NhbC5hcHBseShudWxsLCBhcmd1bWVudHMpLnBhcnNlWm9uZSgpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBwcmVQYXJzZVBvc3RGb3JtYXQgKHN0cmluZykge1xuXHQgICAgcmV0dXJuIHN0cmluZztcblx0fVxuXHRcblx0dmFyIHByb3RvJDEgPSBMb2NhbGUucHJvdG90eXBlO1xuXHRcblx0cHJvdG8kMS5jYWxlbmRhciAgICAgICAgPSBjYWxlbmRhcjtcblx0cHJvdG8kMS5sb25nRGF0ZUZvcm1hdCAgPSBsb25nRGF0ZUZvcm1hdDtcblx0cHJvdG8kMS5pbnZhbGlkRGF0ZSAgICAgPSBpbnZhbGlkRGF0ZTtcblx0cHJvdG8kMS5vcmRpbmFsICAgICAgICAgPSBvcmRpbmFsO1xuXHRwcm90byQxLnByZXBhcnNlICAgICAgICA9IHByZVBhcnNlUG9zdEZvcm1hdDtcblx0cHJvdG8kMS5wb3N0Zm9ybWF0ICAgICAgPSBwcmVQYXJzZVBvc3RGb3JtYXQ7XG5cdHByb3RvJDEucmVsYXRpdmVUaW1lICAgID0gcmVsYXRpdmVUaW1lO1xuXHRwcm90byQxLnBhc3RGdXR1cmUgICAgICA9IHBhc3RGdXR1cmU7XG5cdHByb3RvJDEuc2V0ICAgICAgICAgICAgID0gc2V0O1xuXHRcblx0Ly8gTW9udGhcblx0cHJvdG8kMS5tb250aHMgICAgICAgICAgICA9ICAgICAgICBsb2NhbGVNb250aHM7XG5cdHByb3RvJDEubW9udGhzU2hvcnQgICAgICAgPSAgICAgICAgbG9jYWxlTW9udGhzU2hvcnQ7XG5cdHByb3RvJDEubW9udGhzUGFyc2UgICAgICAgPSAgICAgICAgbG9jYWxlTW9udGhzUGFyc2U7XG5cdHByb3RvJDEubW9udGhzUmVnZXggICAgICAgPSBtb250aHNSZWdleDtcblx0cHJvdG8kMS5tb250aHNTaG9ydFJlZ2V4ICA9IG1vbnRoc1Nob3J0UmVnZXg7XG5cdFxuXHQvLyBXZWVrXG5cdHByb3RvJDEud2VlayA9IGxvY2FsZVdlZWs7XG5cdHByb3RvJDEuZmlyc3REYXlPZlllYXIgPSBsb2NhbGVGaXJzdERheU9mWWVhcjtcblx0cHJvdG8kMS5maXJzdERheU9mV2VlayA9IGxvY2FsZUZpcnN0RGF5T2ZXZWVrO1xuXHRcblx0Ly8gRGF5IG9mIFdlZWtcblx0cHJvdG8kMS53ZWVrZGF5cyAgICAgICA9ICAgICAgICBsb2NhbGVXZWVrZGF5cztcblx0cHJvdG8kMS53ZWVrZGF5c01pbiAgICA9ICAgICAgICBsb2NhbGVXZWVrZGF5c01pbjtcblx0cHJvdG8kMS53ZWVrZGF5c1Nob3J0ICA9ICAgICAgICBsb2NhbGVXZWVrZGF5c1Nob3J0O1xuXHRwcm90byQxLndlZWtkYXlzUGFyc2UgID0gICAgICAgIGxvY2FsZVdlZWtkYXlzUGFyc2U7XG5cdFxuXHRwcm90byQxLndlZWtkYXlzUmVnZXggICAgICAgPSAgICAgICAgd2Vla2RheXNSZWdleDtcblx0cHJvdG8kMS53ZWVrZGF5c1Nob3J0UmVnZXggID0gICAgICAgIHdlZWtkYXlzU2hvcnRSZWdleDtcblx0cHJvdG8kMS53ZWVrZGF5c01pblJlZ2V4ICAgID0gICAgICAgIHdlZWtkYXlzTWluUmVnZXg7XG5cdFxuXHQvLyBIb3Vyc1xuXHRwcm90byQxLmlzUE0gPSBsb2NhbGVJc1BNO1xuXHRwcm90byQxLm1lcmlkaWVtID0gbG9jYWxlTWVyaWRpZW07XG5cdFxuXHRmdW5jdGlvbiBnZXQkMSAoZm9ybWF0LCBpbmRleCwgZmllbGQsIHNldHRlcikge1xuXHQgICAgdmFyIGxvY2FsZSA9IGdldExvY2FsZSgpO1xuXHQgICAgdmFyIHV0YyA9IGNyZWF0ZVVUQygpLnNldChzZXR0ZXIsIGluZGV4KTtcblx0ICAgIHJldHVybiBsb2NhbGVbZmllbGRdKHV0YywgZm9ybWF0KTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gbGlzdE1vbnRoc0ltcGwgKGZvcm1hdCwgaW5kZXgsIGZpZWxkKSB7XG5cdCAgICBpZiAoaXNOdW1iZXIoZm9ybWF0KSkge1xuXHQgICAgICAgIGluZGV4ID0gZm9ybWF0O1xuXHQgICAgICAgIGZvcm1hdCA9IHVuZGVmaW5lZDtcblx0ICAgIH1cblx0XG5cdCAgICBmb3JtYXQgPSBmb3JtYXQgfHwgJyc7XG5cdFxuXHQgICAgaWYgKGluZGV4ICE9IG51bGwpIHtcblx0ICAgICAgICByZXR1cm4gZ2V0JDEoZm9ybWF0LCBpbmRleCwgZmllbGQsICdtb250aCcpO1xuXHQgICAgfVxuXHRcblx0ICAgIHZhciBpO1xuXHQgICAgdmFyIG91dCA9IFtdO1xuXHQgICAgZm9yIChpID0gMDsgaSA8IDEyOyBpKyspIHtcblx0ICAgICAgICBvdXRbaV0gPSBnZXQkMShmb3JtYXQsIGksIGZpZWxkLCAnbW9udGgnKTtcblx0ICAgIH1cblx0ICAgIHJldHVybiBvdXQ7XG5cdH1cblx0XG5cdC8vICgpXG5cdC8vICg1KVxuXHQvLyAoZm10LCA1KVxuXHQvLyAoZm10KVxuXHQvLyAodHJ1ZSlcblx0Ly8gKHRydWUsIDUpXG5cdC8vICh0cnVlLCBmbXQsIDUpXG5cdC8vICh0cnVlLCBmbXQpXG5cdGZ1bmN0aW9uIGxpc3RXZWVrZGF5c0ltcGwgKGxvY2FsZVNvcnRlZCwgZm9ybWF0LCBpbmRleCwgZmllbGQpIHtcblx0ICAgIGlmICh0eXBlb2YgbG9jYWxlU29ydGVkID09PSAnYm9vbGVhbicpIHtcblx0ICAgICAgICBpZiAoaXNOdW1iZXIoZm9ybWF0KSkge1xuXHQgICAgICAgICAgICBpbmRleCA9IGZvcm1hdDtcblx0ICAgICAgICAgICAgZm9ybWF0ID0gdW5kZWZpbmVkO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgZm9ybWF0ID0gZm9ybWF0IHx8ICcnO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICBmb3JtYXQgPSBsb2NhbGVTb3J0ZWQ7XG5cdCAgICAgICAgaW5kZXggPSBmb3JtYXQ7XG5cdCAgICAgICAgbG9jYWxlU29ydGVkID0gZmFsc2U7XG5cdFxuXHQgICAgICAgIGlmIChpc051bWJlcihmb3JtYXQpKSB7XG5cdCAgICAgICAgICAgIGluZGV4ID0gZm9ybWF0O1xuXHQgICAgICAgICAgICBmb3JtYXQgPSB1bmRlZmluZWQ7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICBmb3JtYXQgPSBmb3JtYXQgfHwgJyc7XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIGxvY2FsZSA9IGdldExvY2FsZSgpLFxuXHQgICAgICAgIHNoaWZ0ID0gbG9jYWxlU29ydGVkID8gbG9jYWxlLl93ZWVrLmRvdyA6IDA7XG5cdFxuXHQgICAgaWYgKGluZGV4ICE9IG51bGwpIHtcblx0ICAgICAgICByZXR1cm4gZ2V0JDEoZm9ybWF0LCAoaW5kZXggKyBzaGlmdCkgJSA3LCBmaWVsZCwgJ2RheScpO1xuXHQgICAgfVxuXHRcblx0ICAgIHZhciBpO1xuXHQgICAgdmFyIG91dCA9IFtdO1xuXHQgICAgZm9yIChpID0gMDsgaSA8IDc7IGkrKykge1xuXHQgICAgICAgIG91dFtpXSA9IGdldCQxKGZvcm1hdCwgKGkgKyBzaGlmdCkgJSA3LCBmaWVsZCwgJ2RheScpO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIG91dDtcblx0fVxuXHRcblx0ZnVuY3Rpb24gbGlzdE1vbnRocyAoZm9ybWF0LCBpbmRleCkge1xuXHQgICAgcmV0dXJuIGxpc3RNb250aHNJbXBsKGZvcm1hdCwgaW5kZXgsICdtb250aHMnKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gbGlzdE1vbnRoc1Nob3J0IChmb3JtYXQsIGluZGV4KSB7XG5cdCAgICByZXR1cm4gbGlzdE1vbnRoc0ltcGwoZm9ybWF0LCBpbmRleCwgJ21vbnRoc1Nob3J0Jyk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGxpc3RXZWVrZGF5cyAobG9jYWxlU29ydGVkLCBmb3JtYXQsIGluZGV4KSB7XG5cdCAgICByZXR1cm4gbGlzdFdlZWtkYXlzSW1wbChsb2NhbGVTb3J0ZWQsIGZvcm1hdCwgaW5kZXgsICd3ZWVrZGF5cycpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBsaXN0V2Vla2RheXNTaG9ydCAobG9jYWxlU29ydGVkLCBmb3JtYXQsIGluZGV4KSB7XG5cdCAgICByZXR1cm4gbGlzdFdlZWtkYXlzSW1wbChsb2NhbGVTb3J0ZWQsIGZvcm1hdCwgaW5kZXgsICd3ZWVrZGF5c1Nob3J0Jyk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGxpc3RXZWVrZGF5c01pbiAobG9jYWxlU29ydGVkLCBmb3JtYXQsIGluZGV4KSB7XG5cdCAgICByZXR1cm4gbGlzdFdlZWtkYXlzSW1wbChsb2NhbGVTb3J0ZWQsIGZvcm1hdCwgaW5kZXgsICd3ZWVrZGF5c01pbicpO1xuXHR9XG5cdFxuXHRnZXRTZXRHbG9iYWxMb2NhbGUoJ2VuJywge1xuXHQgICAgb3JkaW5hbFBhcnNlOiAvXFxkezEsMn0odGh8c3R8bmR8cmQpLyxcblx0ICAgIG9yZGluYWwgOiBmdW5jdGlvbiAobnVtYmVyKSB7XG5cdCAgICAgICAgdmFyIGIgPSBudW1iZXIgJSAxMCxcblx0ICAgICAgICAgICAgb3V0cHV0ID0gKHRvSW50KG51bWJlciAlIDEwMCAvIDEwKSA9PT0gMSkgPyAndGgnIDpcblx0ICAgICAgICAgICAgKGIgPT09IDEpID8gJ3N0JyA6XG5cdCAgICAgICAgICAgIChiID09PSAyKSA/ICduZCcgOlxuXHQgICAgICAgICAgICAoYiA9PT0gMykgPyAncmQnIDogJ3RoJztcblx0ICAgICAgICByZXR1cm4gbnVtYmVyICsgb3V0cHV0O1xuXHQgICAgfVxuXHR9KTtcblx0XG5cdC8vIFNpZGUgZWZmZWN0IGltcG9ydHNcblx0aG9va3MubGFuZyA9IGRlcHJlY2F0ZSgnbW9tZW50LmxhbmcgaXMgZGVwcmVjYXRlZC4gVXNlIG1vbWVudC5sb2NhbGUgaW5zdGVhZC4nLCBnZXRTZXRHbG9iYWxMb2NhbGUpO1xuXHRob29rcy5sYW5nRGF0YSA9IGRlcHJlY2F0ZSgnbW9tZW50LmxhbmdEYXRhIGlzIGRlcHJlY2F0ZWQuIFVzZSBtb21lbnQubG9jYWxlRGF0YSBpbnN0ZWFkLicsIGdldExvY2FsZSk7XG5cdFxuXHR2YXIgbWF0aEFicyA9IE1hdGguYWJzO1xuXHRcblx0ZnVuY3Rpb24gYWJzICgpIHtcblx0ICAgIHZhciBkYXRhICAgICAgICAgICA9IHRoaXMuX2RhdGE7XG5cdFxuXHQgICAgdGhpcy5fbWlsbGlzZWNvbmRzID0gbWF0aEFicyh0aGlzLl9taWxsaXNlY29uZHMpO1xuXHQgICAgdGhpcy5fZGF5cyAgICAgICAgID0gbWF0aEFicyh0aGlzLl9kYXlzKTtcblx0ICAgIHRoaXMuX21vbnRocyAgICAgICA9IG1hdGhBYnModGhpcy5fbW9udGhzKTtcblx0XG5cdCAgICBkYXRhLm1pbGxpc2Vjb25kcyAgPSBtYXRoQWJzKGRhdGEubWlsbGlzZWNvbmRzKTtcblx0ICAgIGRhdGEuc2Vjb25kcyAgICAgICA9IG1hdGhBYnMoZGF0YS5zZWNvbmRzKTtcblx0ICAgIGRhdGEubWludXRlcyAgICAgICA9IG1hdGhBYnMoZGF0YS5taW51dGVzKTtcblx0ICAgIGRhdGEuaG91cnMgICAgICAgICA9IG1hdGhBYnMoZGF0YS5ob3Vycyk7XG5cdCAgICBkYXRhLm1vbnRocyAgICAgICAgPSBtYXRoQWJzKGRhdGEubW9udGhzKTtcblx0ICAgIGRhdGEueWVhcnMgICAgICAgICA9IG1hdGhBYnMoZGF0YS55ZWFycyk7XG5cdFxuXHQgICAgcmV0dXJuIHRoaXM7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGFkZFN1YnRyYWN0JDEgKGR1cmF0aW9uLCBpbnB1dCwgdmFsdWUsIGRpcmVjdGlvbikge1xuXHQgICAgdmFyIG90aGVyID0gY3JlYXRlRHVyYXRpb24oaW5wdXQsIHZhbHVlKTtcblx0XG5cdCAgICBkdXJhdGlvbi5fbWlsbGlzZWNvbmRzICs9IGRpcmVjdGlvbiAqIG90aGVyLl9taWxsaXNlY29uZHM7XG5cdCAgICBkdXJhdGlvbi5fZGF5cyAgICAgICAgICs9IGRpcmVjdGlvbiAqIG90aGVyLl9kYXlzO1xuXHQgICAgZHVyYXRpb24uX21vbnRocyAgICAgICArPSBkaXJlY3Rpb24gKiBvdGhlci5fbW9udGhzO1xuXHRcblx0ICAgIHJldHVybiBkdXJhdGlvbi5fYnViYmxlKCk7XG5cdH1cblx0XG5cdC8vIHN1cHBvcnRzIG9ubHkgMi4wLXN0eWxlIGFkZCgxLCAncycpIG9yIGFkZChkdXJhdGlvbilcblx0ZnVuY3Rpb24gYWRkJDEgKGlucHV0LCB2YWx1ZSkge1xuXHQgICAgcmV0dXJuIGFkZFN1YnRyYWN0JDEodGhpcywgaW5wdXQsIHZhbHVlLCAxKTtcblx0fVxuXHRcblx0Ly8gc3VwcG9ydHMgb25seSAyLjAtc3R5bGUgc3VidHJhY3QoMSwgJ3MnKSBvciBzdWJ0cmFjdChkdXJhdGlvbilcblx0ZnVuY3Rpb24gc3VidHJhY3QkMSAoaW5wdXQsIHZhbHVlKSB7XG5cdCAgICByZXR1cm4gYWRkU3VidHJhY3QkMSh0aGlzLCBpbnB1dCwgdmFsdWUsIC0xKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gYWJzQ2VpbCAobnVtYmVyKSB7XG5cdCAgICBpZiAobnVtYmVyIDwgMCkge1xuXHQgICAgICAgIHJldHVybiBNYXRoLmZsb29yKG51bWJlcik7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJldHVybiBNYXRoLmNlaWwobnVtYmVyKTtcblx0ICAgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gYnViYmxlICgpIHtcblx0ICAgIHZhciBtaWxsaXNlY29uZHMgPSB0aGlzLl9taWxsaXNlY29uZHM7XG5cdCAgICB2YXIgZGF5cyAgICAgICAgID0gdGhpcy5fZGF5cztcblx0ICAgIHZhciBtb250aHMgICAgICAgPSB0aGlzLl9tb250aHM7XG5cdCAgICB2YXIgZGF0YSAgICAgICAgID0gdGhpcy5fZGF0YTtcblx0ICAgIHZhciBzZWNvbmRzLCBtaW51dGVzLCBob3VycywgeWVhcnMsIG1vbnRoc0Zyb21EYXlzO1xuXHRcblx0ICAgIC8vIGlmIHdlIGhhdmUgYSBtaXggb2YgcG9zaXRpdmUgYW5kIG5lZ2F0aXZlIHZhbHVlcywgYnViYmxlIGRvd24gZmlyc3Rcblx0ICAgIC8vIGNoZWNrOiBodHRwczovL2dpdGh1Yi5jb20vbW9tZW50L21vbWVudC9pc3N1ZXMvMjE2NlxuXHQgICAgaWYgKCEoKG1pbGxpc2Vjb25kcyA+PSAwICYmIGRheXMgPj0gMCAmJiBtb250aHMgPj0gMCkgfHxcblx0ICAgICAgICAgICAgKG1pbGxpc2Vjb25kcyA8PSAwICYmIGRheXMgPD0gMCAmJiBtb250aHMgPD0gMCkpKSB7XG5cdCAgICAgICAgbWlsbGlzZWNvbmRzICs9IGFic0NlaWwobW9udGhzVG9EYXlzKG1vbnRocykgKyBkYXlzKSAqIDg2NGU1O1xuXHQgICAgICAgIGRheXMgPSAwO1xuXHQgICAgICAgIG1vbnRocyA9IDA7XG5cdCAgICB9XG5cdFxuXHQgICAgLy8gVGhlIGZvbGxvd2luZyBjb2RlIGJ1YmJsZXMgdXAgdmFsdWVzLCBzZWUgdGhlIHRlc3RzIGZvclxuXHQgICAgLy8gZXhhbXBsZXMgb2Ygd2hhdCB0aGF0IG1lYW5zLlxuXHQgICAgZGF0YS5taWxsaXNlY29uZHMgPSBtaWxsaXNlY29uZHMgJSAxMDAwO1xuXHRcblx0ICAgIHNlY29uZHMgICAgICAgICAgID0gYWJzRmxvb3IobWlsbGlzZWNvbmRzIC8gMTAwMCk7XG5cdCAgICBkYXRhLnNlY29uZHMgICAgICA9IHNlY29uZHMgJSA2MDtcblx0XG5cdCAgICBtaW51dGVzICAgICAgICAgICA9IGFic0Zsb29yKHNlY29uZHMgLyA2MCk7XG5cdCAgICBkYXRhLm1pbnV0ZXMgICAgICA9IG1pbnV0ZXMgJSA2MDtcblx0XG5cdCAgICBob3VycyAgICAgICAgICAgICA9IGFic0Zsb29yKG1pbnV0ZXMgLyA2MCk7XG5cdCAgICBkYXRhLmhvdXJzICAgICAgICA9IGhvdXJzICUgMjQ7XG5cdFxuXHQgICAgZGF5cyArPSBhYnNGbG9vcihob3VycyAvIDI0KTtcblx0XG5cdCAgICAvLyBjb252ZXJ0IGRheXMgdG8gbW9udGhzXG5cdCAgICBtb250aHNGcm9tRGF5cyA9IGFic0Zsb29yKGRheXNUb01vbnRocyhkYXlzKSk7XG5cdCAgICBtb250aHMgKz0gbW9udGhzRnJvbURheXM7XG5cdCAgICBkYXlzIC09IGFic0NlaWwobW9udGhzVG9EYXlzKG1vbnRoc0Zyb21EYXlzKSk7XG5cdFxuXHQgICAgLy8gMTIgbW9udGhzIC0+IDEgeWVhclxuXHQgICAgeWVhcnMgPSBhYnNGbG9vcihtb250aHMgLyAxMik7XG5cdCAgICBtb250aHMgJT0gMTI7XG5cdFxuXHQgICAgZGF0YS5kYXlzICAgPSBkYXlzO1xuXHQgICAgZGF0YS5tb250aHMgPSBtb250aHM7XG5cdCAgICBkYXRhLnllYXJzICA9IHllYXJzO1xuXHRcblx0ICAgIHJldHVybiB0aGlzO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBkYXlzVG9Nb250aHMgKGRheXMpIHtcblx0ICAgIC8vIDQwMCB5ZWFycyBoYXZlIDE0NjA5NyBkYXlzICh0YWtpbmcgaW50byBhY2NvdW50IGxlYXAgeWVhciBydWxlcylcblx0ICAgIC8vIDQwMCB5ZWFycyBoYXZlIDEyIG1vbnRocyA9PT0gNDgwMFxuXHQgICAgcmV0dXJuIGRheXMgKiA0ODAwIC8gMTQ2MDk3O1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBtb250aHNUb0RheXMgKG1vbnRocykge1xuXHQgICAgLy8gdGhlIHJldmVyc2Ugb2YgZGF5c1RvTW9udGhzXG5cdCAgICByZXR1cm4gbW9udGhzICogMTQ2MDk3IC8gNDgwMDtcblx0fVxuXHRcblx0ZnVuY3Rpb24gYXMgKHVuaXRzKSB7XG5cdCAgICB2YXIgZGF5cztcblx0ICAgIHZhciBtb250aHM7XG5cdCAgICB2YXIgbWlsbGlzZWNvbmRzID0gdGhpcy5fbWlsbGlzZWNvbmRzO1xuXHRcblx0ICAgIHVuaXRzID0gbm9ybWFsaXplVW5pdHModW5pdHMpO1xuXHRcblx0ICAgIGlmICh1bml0cyA9PT0gJ21vbnRoJyB8fCB1bml0cyA9PT0gJ3llYXInKSB7XG5cdCAgICAgICAgZGF5cyAgID0gdGhpcy5fZGF5cyAgICsgbWlsbGlzZWNvbmRzIC8gODY0ZTU7XG5cdCAgICAgICAgbW9udGhzID0gdGhpcy5fbW9udGhzICsgZGF5c1RvTW9udGhzKGRheXMpO1xuXHQgICAgICAgIHJldHVybiB1bml0cyA9PT0gJ21vbnRoJyA/IG1vbnRocyA6IG1vbnRocyAvIDEyO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICAvLyBoYW5kbGUgbWlsbGlzZWNvbmRzIHNlcGFyYXRlbHkgYmVjYXVzZSBvZiBmbG9hdGluZyBwb2ludCBtYXRoIGVycm9ycyAoaXNzdWUgIzE4NjcpXG5cdCAgICAgICAgZGF5cyA9IHRoaXMuX2RheXMgKyBNYXRoLnJvdW5kKG1vbnRoc1RvRGF5cyh0aGlzLl9tb250aHMpKTtcblx0ICAgICAgICBzd2l0Y2ggKHVuaXRzKSB7XG5cdCAgICAgICAgICAgIGNhc2UgJ3dlZWsnICAgOiByZXR1cm4gZGF5cyAvIDcgICAgICsgbWlsbGlzZWNvbmRzIC8gNjA0OGU1O1xuXHQgICAgICAgICAgICBjYXNlICdkYXknICAgIDogcmV0dXJuIGRheXMgICAgICAgICArIG1pbGxpc2Vjb25kcyAvIDg2NGU1O1xuXHQgICAgICAgICAgICBjYXNlICdob3VyJyAgIDogcmV0dXJuIGRheXMgKiAyNCAgICArIG1pbGxpc2Vjb25kcyAvIDM2ZTU7XG5cdCAgICAgICAgICAgIGNhc2UgJ21pbnV0ZScgOiByZXR1cm4gZGF5cyAqIDE0NDAgICsgbWlsbGlzZWNvbmRzIC8gNmU0O1xuXHQgICAgICAgICAgICBjYXNlICdzZWNvbmQnIDogcmV0dXJuIGRheXMgKiA4NjQwMCArIG1pbGxpc2Vjb25kcyAvIDEwMDA7XG5cdCAgICAgICAgICAgIC8vIE1hdGguZmxvb3IgcHJldmVudHMgZmxvYXRpbmcgcG9pbnQgbWF0aCBlcnJvcnMgaGVyZVxuXHQgICAgICAgICAgICBjYXNlICdtaWxsaXNlY29uZCc6IHJldHVybiBNYXRoLmZsb29yKGRheXMgKiA4NjRlNSkgKyBtaWxsaXNlY29uZHM7XG5cdCAgICAgICAgICAgIGRlZmF1bHQ6IHRocm93IG5ldyBFcnJvcignVW5rbm93biB1bml0ICcgKyB1bml0cyk7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHR9XG5cdFxuXHQvLyBUT0RPOiBVc2UgdGhpcy5hcygnbXMnKT9cblx0ZnVuY3Rpb24gdmFsdWVPZiQxICgpIHtcblx0ICAgIHJldHVybiAoXG5cdCAgICAgICAgdGhpcy5fbWlsbGlzZWNvbmRzICtcblx0ICAgICAgICB0aGlzLl9kYXlzICogODY0ZTUgK1xuXHQgICAgICAgICh0aGlzLl9tb250aHMgJSAxMikgKiAyNTkyZTYgK1xuXHQgICAgICAgIHRvSW50KHRoaXMuX21vbnRocyAvIDEyKSAqIDMxNTM2ZTZcblx0ICAgICk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIG1ha2VBcyAoYWxpYXMpIHtcblx0ICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMuYXMoYWxpYXMpO1xuXHQgICAgfTtcblx0fVxuXHRcblx0dmFyIGFzTWlsbGlzZWNvbmRzID0gbWFrZUFzKCdtcycpO1xuXHR2YXIgYXNTZWNvbmRzICAgICAgPSBtYWtlQXMoJ3MnKTtcblx0dmFyIGFzTWludXRlcyAgICAgID0gbWFrZUFzKCdtJyk7XG5cdHZhciBhc0hvdXJzICAgICAgICA9IG1ha2VBcygnaCcpO1xuXHR2YXIgYXNEYXlzICAgICAgICAgPSBtYWtlQXMoJ2QnKTtcblx0dmFyIGFzV2Vla3MgICAgICAgID0gbWFrZUFzKCd3Jyk7XG5cdHZhciBhc01vbnRocyAgICAgICA9IG1ha2VBcygnTScpO1xuXHR2YXIgYXNZZWFycyAgICAgICAgPSBtYWtlQXMoJ3knKTtcblx0XG5cdGZ1bmN0aW9uIGdldCQyICh1bml0cykge1xuXHQgICAgdW5pdHMgPSBub3JtYWxpemVVbml0cyh1bml0cyk7XG5cdCAgICByZXR1cm4gdGhpc1t1bml0cyArICdzJ10oKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gbWFrZUdldHRlcihuYW1lKSB7XG5cdCAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIHJldHVybiB0aGlzLl9kYXRhW25hbWVdO1xuXHQgICAgfTtcblx0fVxuXHRcblx0dmFyIG1pbGxpc2Vjb25kcyA9IG1ha2VHZXR0ZXIoJ21pbGxpc2Vjb25kcycpO1xuXHR2YXIgc2Vjb25kcyAgICAgID0gbWFrZUdldHRlcignc2Vjb25kcycpO1xuXHR2YXIgbWludXRlcyAgICAgID0gbWFrZUdldHRlcignbWludXRlcycpO1xuXHR2YXIgaG91cnMgICAgICAgID0gbWFrZUdldHRlcignaG91cnMnKTtcblx0dmFyIGRheXMgICAgICAgICA9IG1ha2VHZXR0ZXIoJ2RheXMnKTtcblx0dmFyIG1vbnRocyAgICAgICA9IG1ha2VHZXR0ZXIoJ21vbnRocycpO1xuXHR2YXIgeWVhcnMgICAgICAgID0gbWFrZUdldHRlcigneWVhcnMnKTtcblx0XG5cdGZ1bmN0aW9uIHdlZWtzICgpIHtcblx0ICAgIHJldHVybiBhYnNGbG9vcih0aGlzLmRheXMoKSAvIDcpO1xuXHR9XG5cdFxuXHR2YXIgcm91bmQgPSBNYXRoLnJvdW5kO1xuXHR2YXIgdGhyZXNob2xkcyA9IHtcblx0ICAgIHM6IDQ1LCAgLy8gc2Vjb25kcyB0byBtaW51dGVcblx0ICAgIG06IDQ1LCAgLy8gbWludXRlcyB0byBob3VyXG5cdCAgICBoOiAyMiwgIC8vIGhvdXJzIHRvIGRheVxuXHQgICAgZDogMjYsICAvLyBkYXlzIHRvIG1vbnRoXG5cdCAgICBNOiAxMSAgIC8vIG1vbnRocyB0byB5ZWFyXG5cdH07XG5cdFxuXHQvLyBoZWxwZXIgZnVuY3Rpb24gZm9yIG1vbWVudC5mbi5mcm9tLCBtb21lbnQuZm4uZnJvbU5vdywgYW5kIG1vbWVudC5kdXJhdGlvbi5mbi5odW1hbml6ZVxuXHRmdW5jdGlvbiBzdWJzdGl0dXRlVGltZUFnbyhzdHJpbmcsIG51bWJlciwgd2l0aG91dFN1ZmZpeCwgaXNGdXR1cmUsIGxvY2FsZSkge1xuXHQgICAgcmV0dXJuIGxvY2FsZS5yZWxhdGl2ZVRpbWUobnVtYmVyIHx8IDEsICEhd2l0aG91dFN1ZmZpeCwgc3RyaW5nLCBpc0Z1dHVyZSk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHJlbGF0aXZlVGltZSQxIChwb3NOZWdEdXJhdGlvbiwgd2l0aG91dFN1ZmZpeCwgbG9jYWxlKSB7XG5cdCAgICB2YXIgZHVyYXRpb24gPSBjcmVhdGVEdXJhdGlvbihwb3NOZWdEdXJhdGlvbikuYWJzKCk7XG5cdCAgICB2YXIgc2Vjb25kcyAgPSByb3VuZChkdXJhdGlvbi5hcygncycpKTtcblx0ICAgIHZhciBtaW51dGVzICA9IHJvdW5kKGR1cmF0aW9uLmFzKCdtJykpO1xuXHQgICAgdmFyIGhvdXJzICAgID0gcm91bmQoZHVyYXRpb24uYXMoJ2gnKSk7XG5cdCAgICB2YXIgZGF5cyAgICAgPSByb3VuZChkdXJhdGlvbi5hcygnZCcpKTtcblx0ICAgIHZhciBtb250aHMgICA9IHJvdW5kKGR1cmF0aW9uLmFzKCdNJykpO1xuXHQgICAgdmFyIHllYXJzICAgID0gcm91bmQoZHVyYXRpb24uYXMoJ3knKSk7XG5cdFxuXHQgICAgdmFyIGEgPSBzZWNvbmRzIDwgdGhyZXNob2xkcy5zICYmIFsncycsIHNlY29uZHNdICB8fFxuXHQgICAgICAgICAgICBtaW51dGVzIDw9IDEgICAgICAgICAgICYmIFsnbSddICAgICAgICAgICB8fFxuXHQgICAgICAgICAgICBtaW51dGVzIDwgdGhyZXNob2xkcy5tICYmIFsnbW0nLCBtaW51dGVzXSB8fFxuXHQgICAgICAgICAgICBob3VycyAgIDw9IDEgICAgICAgICAgICYmIFsnaCddICAgICAgICAgICB8fFxuXHQgICAgICAgICAgICBob3VycyAgIDwgdGhyZXNob2xkcy5oICYmIFsnaGgnLCBob3Vyc10gICB8fFxuXHQgICAgICAgICAgICBkYXlzICAgIDw9IDEgICAgICAgICAgICYmIFsnZCddICAgICAgICAgICB8fFxuXHQgICAgICAgICAgICBkYXlzICAgIDwgdGhyZXNob2xkcy5kICYmIFsnZGQnLCBkYXlzXSAgICB8fFxuXHQgICAgICAgICAgICBtb250aHMgIDw9IDEgICAgICAgICAgICYmIFsnTSddICAgICAgICAgICB8fFxuXHQgICAgICAgICAgICBtb250aHMgIDwgdGhyZXNob2xkcy5NICYmIFsnTU0nLCBtb250aHNdICB8fFxuXHQgICAgICAgICAgICB5ZWFycyAgIDw9IDEgICAgICAgICAgICYmIFsneSddICAgICAgICAgICB8fCBbJ3l5JywgeWVhcnNdO1xuXHRcblx0ICAgIGFbMl0gPSB3aXRob3V0U3VmZml4O1xuXHQgICAgYVszXSA9ICtwb3NOZWdEdXJhdGlvbiA+IDA7XG5cdCAgICBhWzRdID0gbG9jYWxlO1xuXHQgICAgcmV0dXJuIHN1YnN0aXR1dGVUaW1lQWdvLmFwcGx5KG51bGwsIGEpO1xuXHR9XG5cdFxuXHQvLyBUaGlzIGZ1bmN0aW9uIGFsbG93cyB5b3UgdG8gc2V0IHRoZSByb3VuZGluZyBmdW5jdGlvbiBmb3IgcmVsYXRpdmUgdGltZSBzdHJpbmdzXG5cdGZ1bmN0aW9uIGdldFNldFJlbGF0aXZlVGltZVJvdW5kaW5nIChyb3VuZGluZ0Z1bmN0aW9uKSB7XG5cdCAgICBpZiAocm91bmRpbmdGdW5jdGlvbiA9PT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgcmV0dXJuIHJvdW5kO1xuXHQgICAgfVxuXHQgICAgaWYgKHR5cGVvZihyb3VuZGluZ0Z1bmN0aW9uKSA9PT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgICAgIHJvdW5kID0gcm91bmRpbmdGdW5jdGlvbjtcblx0ICAgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgIH1cblx0ICAgIHJldHVybiBmYWxzZTtcblx0fVxuXHRcblx0Ly8gVGhpcyBmdW5jdGlvbiBhbGxvd3MgeW91IHRvIHNldCBhIHRocmVzaG9sZCBmb3IgcmVsYXRpdmUgdGltZSBzdHJpbmdzXG5cdGZ1bmN0aW9uIGdldFNldFJlbGF0aXZlVGltZVRocmVzaG9sZCAodGhyZXNob2xkLCBsaW1pdCkge1xuXHQgICAgaWYgKHRocmVzaG9sZHNbdGhyZXNob2xkXSA9PT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgfVxuXHQgICAgaWYgKGxpbWl0ID09PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICByZXR1cm4gdGhyZXNob2xkc1t0aHJlc2hvbGRdO1xuXHQgICAgfVxuXHQgICAgdGhyZXNob2xkc1t0aHJlc2hvbGRdID0gbGltaXQ7XG5cdCAgICByZXR1cm4gdHJ1ZTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gaHVtYW5pemUgKHdpdGhTdWZmaXgpIHtcblx0ICAgIHZhciBsb2NhbGUgPSB0aGlzLmxvY2FsZURhdGEoKTtcblx0ICAgIHZhciBvdXRwdXQgPSByZWxhdGl2ZVRpbWUkMSh0aGlzLCAhd2l0aFN1ZmZpeCwgbG9jYWxlKTtcblx0XG5cdCAgICBpZiAod2l0aFN1ZmZpeCkge1xuXHQgICAgICAgIG91dHB1dCA9IGxvY2FsZS5wYXN0RnV0dXJlKCt0aGlzLCBvdXRwdXQpO1xuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiBsb2NhbGUucG9zdGZvcm1hdChvdXRwdXQpO1xuXHR9XG5cdFxuXHR2YXIgYWJzJDEgPSBNYXRoLmFicztcblx0XG5cdGZ1bmN0aW9uIHRvSVNPU3RyaW5nJDEoKSB7XG5cdCAgICAvLyBmb3IgSVNPIHN0cmluZ3Mgd2UgZG8gbm90IHVzZSB0aGUgbm9ybWFsIGJ1YmJsaW5nIHJ1bGVzOlxuXHQgICAgLy8gICogbWlsbGlzZWNvbmRzIGJ1YmJsZSB1cCB1bnRpbCB0aGV5IGJlY29tZSBob3Vyc1xuXHQgICAgLy8gICogZGF5cyBkbyBub3QgYnViYmxlIGF0IGFsbFxuXHQgICAgLy8gICogbW9udGhzIGJ1YmJsZSB1cCB1bnRpbCB0aGV5IGJlY29tZSB5ZWFyc1xuXHQgICAgLy8gVGhpcyBpcyBiZWNhdXNlIHRoZXJlIGlzIG5vIGNvbnRleHQtZnJlZSBjb252ZXJzaW9uIGJldHdlZW4gaG91cnMgYW5kIGRheXNcblx0ICAgIC8vICh0aGluayBvZiBjbG9jayBjaGFuZ2VzKVxuXHQgICAgLy8gYW5kIGFsc28gbm90IGJldHdlZW4gZGF5cyBhbmQgbW9udGhzICgyOC0zMSBkYXlzIHBlciBtb250aClcblx0ICAgIHZhciBzZWNvbmRzID0gYWJzJDEodGhpcy5fbWlsbGlzZWNvbmRzKSAvIDEwMDA7XG5cdCAgICB2YXIgZGF5cyAgICAgICAgID0gYWJzJDEodGhpcy5fZGF5cyk7XG5cdCAgICB2YXIgbW9udGhzICAgICAgID0gYWJzJDEodGhpcy5fbW9udGhzKTtcblx0ICAgIHZhciBtaW51dGVzLCBob3VycywgeWVhcnM7XG5cdFxuXHQgICAgLy8gMzYwMCBzZWNvbmRzIC0+IDYwIG1pbnV0ZXMgLT4gMSBob3VyXG5cdCAgICBtaW51dGVzICAgICAgICAgICA9IGFic0Zsb29yKHNlY29uZHMgLyA2MCk7XG5cdCAgICBob3VycyAgICAgICAgICAgICA9IGFic0Zsb29yKG1pbnV0ZXMgLyA2MCk7XG5cdCAgICBzZWNvbmRzICU9IDYwO1xuXHQgICAgbWludXRlcyAlPSA2MDtcblx0XG5cdCAgICAvLyAxMiBtb250aHMgLT4gMSB5ZWFyXG5cdCAgICB5ZWFycyAgPSBhYnNGbG9vcihtb250aHMgLyAxMik7XG5cdCAgICBtb250aHMgJT0gMTI7XG5cdFxuXHRcblx0ICAgIC8vIGluc3BpcmVkIGJ5IGh0dHBzOi8vZ2l0aHViLmNvbS9kb3JkaWxsZS9tb21lbnQtaXNvZHVyYXRpb24vYmxvYi9tYXN0ZXIvbW9tZW50Lmlzb2R1cmF0aW9uLmpzXG5cdCAgICB2YXIgWSA9IHllYXJzO1xuXHQgICAgdmFyIE0gPSBtb250aHM7XG5cdCAgICB2YXIgRCA9IGRheXM7XG5cdCAgICB2YXIgaCA9IGhvdXJzO1xuXHQgICAgdmFyIG0gPSBtaW51dGVzO1xuXHQgICAgdmFyIHMgPSBzZWNvbmRzO1xuXHQgICAgdmFyIHRvdGFsID0gdGhpcy5hc1NlY29uZHMoKTtcblx0XG5cdCAgICBpZiAoIXRvdGFsKSB7XG5cdCAgICAgICAgLy8gdGhpcyBpcyB0aGUgc2FtZSBhcyBDIydzIChOb2RhKSBhbmQgcHl0aG9uIChpc29kYXRlKS4uLlxuXHQgICAgICAgIC8vIGJ1dCBub3Qgb3RoZXIgSlMgKGdvb2cuZGF0ZSlcblx0ICAgICAgICByZXR1cm4gJ1AwRCc7XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuICh0b3RhbCA8IDAgPyAnLScgOiAnJykgK1xuXHQgICAgICAgICdQJyArXG5cdCAgICAgICAgKFkgPyBZICsgJ1knIDogJycpICtcblx0ICAgICAgICAoTSA/IE0gKyAnTScgOiAnJykgK1xuXHQgICAgICAgIChEID8gRCArICdEJyA6ICcnKSArXG5cdCAgICAgICAgKChoIHx8IG0gfHwgcykgPyAnVCcgOiAnJykgK1xuXHQgICAgICAgIChoID8gaCArICdIJyA6ICcnKSArXG5cdCAgICAgICAgKG0gPyBtICsgJ00nIDogJycpICtcblx0ICAgICAgICAocyA/IHMgKyAnUycgOiAnJyk7XG5cdH1cblx0XG5cdHZhciBwcm90byQyID0gRHVyYXRpb24ucHJvdG90eXBlO1xuXHRcblx0cHJvdG8kMi5hYnMgICAgICAgICAgICA9IGFicztcblx0cHJvdG8kMi5hZGQgICAgICAgICAgICA9IGFkZCQxO1xuXHRwcm90byQyLnN1YnRyYWN0ICAgICAgID0gc3VidHJhY3QkMTtcblx0cHJvdG8kMi5hcyAgICAgICAgICAgICA9IGFzO1xuXHRwcm90byQyLmFzTWlsbGlzZWNvbmRzID0gYXNNaWxsaXNlY29uZHM7XG5cdHByb3RvJDIuYXNTZWNvbmRzICAgICAgPSBhc1NlY29uZHM7XG5cdHByb3RvJDIuYXNNaW51dGVzICAgICAgPSBhc01pbnV0ZXM7XG5cdHByb3RvJDIuYXNIb3VycyAgICAgICAgPSBhc0hvdXJzO1xuXHRwcm90byQyLmFzRGF5cyAgICAgICAgID0gYXNEYXlzO1xuXHRwcm90byQyLmFzV2Vla3MgICAgICAgID0gYXNXZWVrcztcblx0cHJvdG8kMi5hc01vbnRocyAgICAgICA9IGFzTW9udGhzO1xuXHRwcm90byQyLmFzWWVhcnMgICAgICAgID0gYXNZZWFycztcblx0cHJvdG8kMi52YWx1ZU9mICAgICAgICA9IHZhbHVlT2YkMTtcblx0cHJvdG8kMi5fYnViYmxlICAgICAgICA9IGJ1YmJsZTtcblx0cHJvdG8kMi5nZXQgICAgICAgICAgICA9IGdldCQyO1xuXHRwcm90byQyLm1pbGxpc2Vjb25kcyAgID0gbWlsbGlzZWNvbmRzO1xuXHRwcm90byQyLnNlY29uZHMgICAgICAgID0gc2Vjb25kcztcblx0cHJvdG8kMi5taW51dGVzICAgICAgICA9IG1pbnV0ZXM7XG5cdHByb3RvJDIuaG91cnMgICAgICAgICAgPSBob3Vycztcblx0cHJvdG8kMi5kYXlzICAgICAgICAgICA9IGRheXM7XG5cdHByb3RvJDIud2Vla3MgICAgICAgICAgPSB3ZWVrcztcblx0cHJvdG8kMi5tb250aHMgICAgICAgICA9IG1vbnRocztcblx0cHJvdG8kMi55ZWFycyAgICAgICAgICA9IHllYXJzO1xuXHRwcm90byQyLmh1bWFuaXplICAgICAgID0gaHVtYW5pemU7XG5cdHByb3RvJDIudG9JU09TdHJpbmcgICAgPSB0b0lTT1N0cmluZyQxO1xuXHRwcm90byQyLnRvU3RyaW5nICAgICAgID0gdG9JU09TdHJpbmckMTtcblx0cHJvdG8kMi50b0pTT04gICAgICAgICA9IHRvSVNPU3RyaW5nJDE7XG5cdHByb3RvJDIubG9jYWxlICAgICAgICAgPSBsb2NhbGU7XG5cdHByb3RvJDIubG9jYWxlRGF0YSAgICAgPSBsb2NhbGVEYXRhO1xuXHRcblx0Ly8gRGVwcmVjYXRpb25zXG5cdHByb3RvJDIudG9Jc29TdHJpbmcgPSBkZXByZWNhdGUoJ3RvSXNvU3RyaW5nKCkgaXMgZGVwcmVjYXRlZC4gUGxlYXNlIHVzZSB0b0lTT1N0cmluZygpIGluc3RlYWQgKG5vdGljZSB0aGUgY2FwaXRhbHMpJywgdG9JU09TdHJpbmckMSk7XG5cdHByb3RvJDIubGFuZyA9IGxhbmc7XG5cdFxuXHQvLyBTaWRlIGVmZmVjdCBpbXBvcnRzXG5cdFxuXHQvLyBGT1JNQVRUSU5HXG5cdFxuXHRhZGRGb3JtYXRUb2tlbignWCcsIDAsIDAsICd1bml4Jyk7XG5cdGFkZEZvcm1hdFRva2VuKCd4JywgMCwgMCwgJ3ZhbHVlT2YnKTtcblx0XG5cdC8vIFBBUlNJTkdcblx0XG5cdGFkZFJlZ2V4VG9rZW4oJ3gnLCBtYXRjaFNpZ25lZCk7XG5cdGFkZFJlZ2V4VG9rZW4oJ1gnLCBtYXRjaFRpbWVzdGFtcCk7XG5cdGFkZFBhcnNlVG9rZW4oJ1gnLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcpIHtcblx0ICAgIGNvbmZpZy5fZCA9IG5ldyBEYXRlKHBhcnNlRmxvYXQoaW5wdXQsIDEwKSAqIDEwMDApO1xuXHR9KTtcblx0YWRkUGFyc2VUb2tlbigneCcsIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXksIGNvbmZpZykge1xuXHQgICAgY29uZmlnLl9kID0gbmV3IERhdGUodG9JbnQoaW5wdXQpKTtcblx0fSk7XG5cdFxuXHQvLyBTaWRlIGVmZmVjdCBpbXBvcnRzXG5cdFxuXHRcblx0aG9va3MudmVyc2lvbiA9ICcyLjE3LjAnO1xuXHRcblx0c2V0SG9va0NhbGxiYWNrKGNyZWF0ZUxvY2FsKTtcblx0XG5cdGhvb2tzLmZuICAgICAgICAgICAgICAgICAgICA9IHByb3RvO1xuXHRob29rcy5taW4gICAgICAgICAgICAgICAgICAgPSBtaW47XG5cdGhvb2tzLm1heCAgICAgICAgICAgICAgICAgICA9IG1heDtcblx0aG9va3Mubm93ICAgICAgICAgICAgICAgICAgID0gbm93O1xuXHRob29rcy51dGMgICAgICAgICAgICAgICAgICAgPSBjcmVhdGVVVEM7XG5cdGhvb2tzLnVuaXggICAgICAgICAgICAgICAgICA9IGNyZWF0ZVVuaXg7XG5cdGhvb2tzLm1vbnRocyAgICAgICAgICAgICAgICA9IGxpc3RNb250aHM7XG5cdGhvb2tzLmlzRGF0ZSAgICAgICAgICAgICAgICA9IGlzRGF0ZTtcblx0aG9va3MubG9jYWxlICAgICAgICAgICAgICAgID0gZ2V0U2V0R2xvYmFsTG9jYWxlO1xuXHRob29rcy5pbnZhbGlkICAgICAgICAgICAgICAgPSBjcmVhdGVJbnZhbGlkO1xuXHRob29rcy5kdXJhdGlvbiAgICAgICAgICAgICAgPSBjcmVhdGVEdXJhdGlvbjtcblx0aG9va3MuaXNNb21lbnQgICAgICAgICAgICAgID0gaXNNb21lbnQ7XG5cdGhvb2tzLndlZWtkYXlzICAgICAgICAgICAgICA9IGxpc3RXZWVrZGF5cztcblx0aG9va3MucGFyc2Vab25lICAgICAgICAgICAgID0gY3JlYXRlSW5ab25lO1xuXHRob29rcy5sb2NhbGVEYXRhICAgICAgICAgICAgPSBnZXRMb2NhbGU7XG5cdGhvb2tzLmlzRHVyYXRpb24gICAgICAgICAgICA9IGlzRHVyYXRpb247XG5cdGhvb2tzLm1vbnRoc1Nob3J0ICAgICAgICAgICA9IGxpc3RNb250aHNTaG9ydDtcblx0aG9va3Mud2Vla2RheXNNaW4gICAgICAgICAgID0gbGlzdFdlZWtkYXlzTWluO1xuXHRob29rcy5kZWZpbmVMb2NhbGUgICAgICAgICAgPSBkZWZpbmVMb2NhbGU7XG5cdGhvb2tzLnVwZGF0ZUxvY2FsZSAgICAgICAgICA9IHVwZGF0ZUxvY2FsZTtcblx0aG9va3MubG9jYWxlcyAgICAgICAgICAgICAgID0gbGlzdExvY2FsZXM7XG5cdGhvb2tzLndlZWtkYXlzU2hvcnQgICAgICAgICA9IGxpc3RXZWVrZGF5c1Nob3J0O1xuXHRob29rcy5ub3JtYWxpemVVbml0cyAgICAgICAgPSBub3JtYWxpemVVbml0cztcblx0aG9va3MucmVsYXRpdmVUaW1lUm91bmRpbmcgPSBnZXRTZXRSZWxhdGl2ZVRpbWVSb3VuZGluZztcblx0aG9va3MucmVsYXRpdmVUaW1lVGhyZXNob2xkID0gZ2V0U2V0UmVsYXRpdmVUaW1lVGhyZXNob2xkO1xuXHRob29rcy5jYWxlbmRhckZvcm1hdCAgICAgICAgPSBnZXRDYWxlbmRhckZvcm1hdDtcblx0aG9va3MucHJvdG90eXBlICAgICAgICAgICAgID0gcHJvdG87XG5cdFxuXHRyZXR1cm4gaG9va3M7XG5cdFxuXHR9KSkpO1xuXHRcblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18oMSkobW9kdWxlKSkpXG5cbi8qKiovIH1cbi8qKioqKiovIF0pO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBmY3RzLWV4dC1kYXRlcmFuZ2UtZXM1Lm1pbi5qcyIsIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKVxuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuXG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRleHBvcnRzOiB7fSxcbiBcdFx0XHRpZDogbW9kdWxlSWQsXG4gXHRcdFx0bG9hZGVkOiBmYWxzZVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sb2FkZWQgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2svYm9vdHN0cmFwIGY0YWUyNWJmYmE3YjdlNTc4YWQyIiwiJ3VzZSBzdHJpY3QnO1xuY29uc3QgRGF0ZVJhbmdlID0gcmVxdWlyZSgnLi9mY3RzLWV4dC1kYXRlcmFuZ2UnKTtcblxud2luZG93LmRyID0gbmV3IERhdGVSYW5nZSgpO1xuXG47KGZ1bmN0aW9uIChlbnYsIGZhY3RvcnkpIHtcbiAgaWYgKHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnICYmIG1vZHVsZS5leHBvcnRzKSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBlbnYuZG9jdW1lbnRcbiAgICAgICA/IGZhY3RvcnkoZW52KSA6IGZ1bmN0aW9uICh3aW4pIHtcbiAgICAgICAgIGlmICghd2luLmRvY3VtZW50KSB7XG4gICAgICAgICAgIHRocm93IG5ldyBFcnJvcignV2luZG93IHdpdGggZG9jdW1lbnQgbm90IHByZXNlbnQnKTtcbiAgICAgICAgIH1cbiAgICAgICAgIHJldHVybiBmYWN0b3J5KHdpbiwgdHJ1ZSk7XG4gICAgICAgfTtcbiAgfSBlbHNlIHtcbiAgICBlbnYuRGF0ZVJhbmdlQ2hvb3NlciA9IGZhY3RvcnkoZW52LCB0cnVlKTtcbiAgfVxufSkodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cgOiB0aGlzLCBmdW5jdGlvbiAoX3dpbmRvdywgd2luZG93RXhpc3RzKSB7XG4gIHZhciBGQyA9IF93aW5kb3cuRnVzaW9uQ2hhcnRzO1xuICBGQy5yZWdpc3RlcignZXh0ZW5zaW9uJywgWydwcml2YXRlJywgJ2RhdGUtcmFuZ2UtY2hvb3NlcicsIGZ1bmN0aW9uICgpIHtcbiAgICBGQy5yZWdpc3RlckNvbXBvbmVudCgnZXh0ZW5zaW9ucycsICdkYXRlLXJhbmdlLWNob29zZXInLCBEYXRlUmFuZ2Uoe0Z1c2lvbkNoYXJ0czogRkN9KSk7XG4gIH1dKTtcbn0pO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2luZGV4LmpzIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihtb2R1bGUpIHtcblx0aWYoIW1vZHVsZS53ZWJwYWNrUG9seWZpbGwpIHtcblx0XHRtb2R1bGUuZGVwcmVjYXRlID0gZnVuY3Rpb24oKSB7fTtcblx0XHRtb2R1bGUucGF0aHMgPSBbXTtcblx0XHQvLyBtb2R1bGUucGFyZW50ID0gdW5kZWZpbmVkIGJ5IGRlZmF1bHRcblx0XHRtb2R1bGUuY2hpbGRyZW4gPSBbXTtcblx0XHRtb2R1bGUud2VicGFja1BvbHlmaWxsID0gMTtcblx0fVxuXHRyZXR1cm4gbW9kdWxlO1xufVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gKHdlYnBhY2spL2J1aWxkaW4vbW9kdWxlLmpzXG4vLyBtb2R1bGUgaWQgPSAxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIid1c2Ugc3RyaWN0Jztcbi8qKlxuICogQ2xhc3MgcmVwcmVzZW50aW5nIHRoZSBEYXRlUmFuZ2UuXG4gKi9cblxudmFyIG1vbWVudCA9IHJlcXVpcmUoJ21vbWVudCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChkZXApIHtcbiAgY2xhc3MgRGF0ZVJhbmdlIHtcbiAgICBjb25zdHJ1Y3RvciAoKSB7XG4gICAgICAvKipcbiAgICAgICAqIEBwcml2YXRlXG4gICAgICAgKi9cblxuICAgICAgdGhpcy5zdGFydER0ID0gMDtcbiAgICAgIHRoaXMuZW5kRHQgPSAwO1xuICAgICAgdGhpcy5zdGFydERhdGFzZXQgPSAwO1xuICAgICAgdGhpcy5lbmREYXRhc2V0ID0gMDtcbiAgICAgIHRoaXMudG9vbGJveCA9IGRlcC5GdXNpb25DaGFydHMuZ2V0Q29tcG9uZW50KCdhcGknLCAndG9vbGJveCcpO1xuICAgICAgdGhpcy5Ib3Jpem9udGFsVG9vbGJhciA9IHRoaXMudG9vbGJveC5Ib3Jpem9udGFsVG9vbGJhcjtcbiAgICAgIHRoaXMuQ29tcG9uZW50R3JvdXAgPSB0aGlzLnRvb2xib3guQ29tcG9uZW50R3JvdXA7XG4gICAgICB0aGlzLlN5bWJvbFN0b3JlID0gdGhpcy50b29sYm94LlN5bWJvbFN0b3JlO1xuICAgICAgdGhpcy5zdGFydFRleHQgPSB7XG4gICAgICAgIGF0dHI6IGZ1bmN0aW9uICgpIHt9XG4gICAgICB9O1xuICAgICAgdGhpcy5lbmRUZXh0ID0ge1xuICAgICAgICBhdHRyOiBmdW5jdGlvbiAoKSB7fVxuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBbiBvYmplY3QgcmVwcmVzZW50aW5nIHRoZSBzdGFydCBhbmQgZW5kIGRhdGVzLlxuICAgICAqIEB0eXBlIHtEYXRlUmFuZ2UucmFuZ2V9XG4gICAgICovXG4gICAgZ2V0IHN0YXJ0RGF0ZSAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5zdGFydER0O1xuICAgIH1cblxuICAgIHNldCBzdGFydERhdGUgKHN0YXJ0RHQpIHtcbiAgICAgIGxldCBzdGFydFRpbWVzdGFtcCA9IHBhcnNlSW50KG1vbWVudChzdGFydER0LCAnREQtTU0tWVlZWScpLmZvcm1hdCgneCcpKSxcbiAgICAgICAgYWJzb2x1dGVTdGFydCA9IHRoaXMuZ2xvYmFsUmVhY3RpdmVNb2RlbC5tb2RlbFsneC1heGlzLWFic29sdXRlLXJhbmdlLXN0YXJ0J107XG4gICAgICBpZiAoc3RhcnRUaW1lc3RhbXAgPD0gdGhpcy5lbmREdCAmJiBzdGFydFRpbWVzdGFtcCA+PSBhYnNvbHV0ZVN0YXJ0KSB7XG4gICAgICAgIHRoaXMuc3RhcnREdCA9IHN0YXJ0VGltZXN0YW1wO1xuICAgICAgICB0aGlzLmdsb2JhbFJlYWN0aXZlTW9kZWwubW9kZWxbJ3gtYXhpcy12aXNpYmxlLXJhbmdlLXN0YXJ0J10gPSB0aGlzLnN0YXJ0RHQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyB0aGlzLmZyb21EYXRlLnVwZGF0ZVZpc3VhbCgnZXJyb3JlZCcpO1xuICAgICAgICBjb25zb2xlLmVycm9yKCdGcm9tIERhdGUgZXJyb3Igc3RhdGUhJyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZGF0ZUZvcm1hdHRlciAoZXBvY2gsIHNlcGFyYXRvcikge1xuICAgICAgZXBvY2ggPSBuZXcgRGF0ZShlcG9jaCk7XG4gICAgICB2YXIgZm9ybWF0dGVkRGF0ZSA9IFtlcG9jaC5nZXRVVENEYXRlKCksIChlcG9jaC5nZXRVVENNb250aCgpICsgMSksIGVwb2NoLmdldFVUQ0Z1bGxZZWFyKCldO1xuICAgICAgZm9ybWF0dGVkRGF0ZSA9IGZvcm1hdHRlZERhdGUuam9pbihzZXBhcmF0b3IpO1xuICAgICAgcmV0dXJuIGZvcm1hdHRlZERhdGU7XG4gICAgfVxuXG4gICAgZ2V0IGVuZERhdGUgKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZW5kRHQ7XG4gICAgfVxuXG4gICAgc2V0IGVuZERhdGUgKGVuZER0KSB7XG4gICAgICBsZXQgZW5kVGltZXN0YW1wID0gcGFyc2VJbnQobW9tZW50KGVuZER0LCAnREQtTU0tWVlZWScpLmZvcm1hdCgneCcpKSxcbiAgICAgICAgYWJzb2x1dGVFbmQgPSB0aGlzLmdsb2JhbFJlYWN0aXZlTW9kZWwubW9kZWxbJ3gtYXhpcy1hYnNvbHV0ZS1yYW5nZS1lbmQnXTtcbiAgICAgIGlmIChlbmRUaW1lc3RhbXAgPj0gdGhpcy5zdGFydER0ICYmIGVuZFRpbWVzdGFtcCA8PSBhYnNvbHV0ZUVuZCkge1xuICAgICAgICB0aGlzLmVuZER0ID0gZW5kVGltZXN0YW1wO1xuICAgICAgICB0aGlzLmdsb2JhbFJlYWN0aXZlTW9kZWwubW9kZWxbJ3gtYXhpcy12aXNpYmxlLXJhbmdlLWVuZCddID0gdGhpcy5lbmREdDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIHRoaXMudG9EYXRlLnVwZGF0ZVZpc3VhbCgnZXJyb3JlZCcpO1xuICAgICAgICBjb25zb2xlLmVycm9yKCdUbyBEYXRlIGVycm9yIHN0YXRlIScpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFN3YXBzIHRoZSBzdGFydCBkYXRlIGFuZCB0aGUgZW5kIGRhdGUgb2YgdGhlIGRhdGUgcmFuZ2VcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHN3YXBEYXRlcyAoKSB7XG4gICAgICBsZXQgdGVtcCA9IHRoaXMuZGF0ZVJhbmdlLnN0YXJ0RGF0ZTtcbiAgICAgIHRoaXMuZGF0ZVJhbmdlLnN0YXJ0RGF0ZSA9IHRoaXMuZGF0ZVJhbmdlLmVuZERhdGU7XG4gICAgICB0aGlzLmRhdGVSYW5nZS5lbmREYXRlID0gdGVtcDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTeW5jcyB0aGUgZGF0ZXJhbmdlIHNob3duIGJ5IHRoZSBGdXNpb25DaGFydHMgdGltZSBzZXJpZXMgY2hhcnQgYW5kIHRoZSBEYXRlIFJhbmdlIENob29zZXJcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHN5bmNSYW5nZSAoKSB7fVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIGZvcm1hdHRlZCBkYXRlIHN0cmluZyBmcm9tIEZ1c2lvbkNoYXJ0cyB3aGVuIGdpdmVuIGEgVU5JWCB0aW1lc3RhbXBcbiAgICAgKiBAcGFyYW0gIHtudW1iZXJ9IHRpbWVzdGFtcCAtIEEgVU5JWCB0aW1lc3RhbXAgdG8gYmUgY29udmVydGVkIHRvIGEgZGF0ZSBzdHJpbmdcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IC0gQSBkYXRlIHN0cmluZyB3aGljaCBpcyBlcXVpdmFsZW50IHRvIHRoZSBnaXZlbiB0aW1lc3RhbXBcbiAgICAgKi9cbiAgICBnZXRGb3JtYXR0ZWREYXRlICh0aW1lc3RhbXApIHtcbiAgICAgIHJldHVybiB0aGlzLmNoYXJ0LmdldEZvcm1hdHRlZERhdGUodGltZXN0YW1wKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgVU5JWCB0aW1lc3RhbXAgZnJvbSBGdXNpb25DaGFydHMgd2hlbiBnaXZlbiBhIGZvcm1hdHRlZCBkYXRlIHN0cmluZ1xuICAgICAqIEBwYXJhbSAge3N0cmluZ30gZGF0ZVN0cmluZyAtIEEgZGF0ZSBzdHJpbmcgdG8gYmUgY29udmVydGVkIHRvIGEgVU5JWCB0aW1lc3RhbXBcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IEEgVU5JWCB0aW1lc3RhbXAgd2hpY2ggaXMgZXF1aXZhbGVudCB0byB0aGUgZ2l2ZW4gZGF0ZSBzdHJpbmdcbiAgICAgKi9cbiAgICBnZXRUaW1lc3RhbXAgKGRhdGVTdHJpbmcpIHtcbiAgICAgIHJldHVybiB0aGlzLmNoYXJ0LmdldFRpbWVzdGFtcChkYXRlU3RyaW5nKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBjb25maWd1cmFibGUgb3B0aW9ucyBvZiB0aGUgZXh0ZW5zaW9uIChlLmcuIGNvc21ldGljcylcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gY29uZmlnT2JqIFRoZSBjb25maWd1cmF0aW9uIG9iamVjdCBjb250YWluaW5nIHZhcmlvdXMgZXh0ZW5zaW9uIG9wdGlvbnNcbiAgICAgKi9cbiAgICBzZXRDb25maWcgKGNvbmZpZ09iaikge31cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGNvbmZpZ3VyYWJsZSBvcHRpb25zIG9mIHRoZSBleHRlbnNpb24gKGUuZy4gY29zbWV0aWNzKVxuICAgICAqIEByZXR1cm4ge29iamVjdH0gY29uZmlnT2JqIFRoZSBjb25maWd1cmF0aW9uIG9iamVjdCBjb250YWluaW5nIHZhcmlvdXMgZXh0ZW5zaW9uIG9wdGlvbnNcbiAgICAgKi9cbiAgICBnZXRDb25maWcgKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgY2FsZW5kYXJWaXNpYmxlOiAnZmFsc2UnXG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZ1c2lvbmNoYXJ0cyBsaWZlIGN5Y2xlIG1ldGhvZCBmb3IgZXh0ZW5zaW9uXG4gICAgICovXG4gICAgaW5pdCAocmVxdWlyZSkge1xuICAgICAgdmFyIGluc3RhbmNlID0gdGhpcztcbiAgICAgIHJlcXVpcmUoW1xuICAgICAgICAneEF4aXMnLFxuICAgICAgICAneUF4aXMnLFxuICAgICAgICAnZ3JhcGhpY3MnLFxuICAgICAgICAnY2hhcnQnLFxuICAgICAgICAnZGF0YXNldCcsXG4gICAgICAgICdQbG90TWFuYWdlcicsXG4gICAgICAgICdjYW52YXNDb25maWcnLFxuICAgICAgICAnTWFya2VyTWFuYWdlcicsXG4gICAgICAgICdyZWFjdGl2ZU1vZGVsJyxcbiAgICAgICAgJ2dsb2JhbFJlYWN0aXZlTW9kZWwnLFxuICAgICAgICAnc3BhY2VNYW5hZ2VySW5zdGFuY2UnLFxuICAgICAgICAnZXh0RGF0YScsXG4gICAgICAgICdzbWFydExhYmVsJyxcbiAgICAgICAgZnVuY3Rpb24gKFxuICAgICAgICAgICAgICB4QXhpcyxcbiAgICAgICAgICAgICAgeUF4aXMsXG4gICAgICAgICAgICAgIGdyYXBoaWNzLFxuICAgICAgICAgICAgICBjaGFydCxcbiAgICAgICAgICAgICAgZGF0YXNldCxcbiAgICAgICAgICAgICAgcGxvdE1hbmFnZXIsXG4gICAgICAgICAgICAgIGNhbnZhc0NvbmZpZyxcbiAgICAgICAgICAgICAgbWFya2VyTWFuYWdlcixcbiAgICAgICAgICAgICAgcmVhY3RpdmVNb2RlbCxcbiAgICAgICAgICAgICAgZ2xvYmFsUmVhY3RpdmVNb2RlbCxcbiAgICAgICAgICAgICAgc3BhY2VNYW5hZ2VySW5zdGFuY2UsXG4gICAgICAgICAgICAgIGV4dERhdGEsXG4gICAgICAgICAgICAgIHNtYXJ0TGFiZWwpIHtcbiAgICAgICAgICBpbnN0YW5jZS5leHREYXRhID0gZXh0RGF0YTtcbiAgICAgICAgICBpbnN0YW5jZS54QXhpcyA9IHhBeGlzO1xuICAgICAgICAgIGluc3RhbmNlLnlBeGlzID0geUF4aXM7XG4gICAgICAgICAgaW5zdGFuY2UuZ3JhcGhpY3MgPSBncmFwaGljcztcbiAgICAgICAgICBpbnN0YW5jZS5jaGFydCA9IGNoYXJ0O1xuICAgICAgICAgIGluc3RhbmNlLmRhdGFzZXQgPSBkYXRhc2V0O1xuICAgICAgICAgIGluc3RhbmNlLnBsb3RNYW5hZ2VyID0gcGxvdE1hbmFnZXI7XG4gICAgICAgICAgaW5zdGFuY2UubWFya2VyTWFuYWdlciA9IG1hcmtlck1hbmFnZXI7XG4gICAgICAgICAgaW5zdGFuY2UuY2FudmFzQ29uZmlnID0gY2FudmFzQ29uZmlnO1xuICAgICAgICAgIGluc3RhbmNlLnJlYWN0aXZlTW9kZWwgPSByZWFjdGl2ZU1vZGVsO1xuICAgICAgICAgIGluc3RhbmNlLmdsb2JhbFJlYWN0aXZlTW9kZWwgPSBnbG9iYWxSZWFjdGl2ZU1vZGVsO1xuICAgICAgICAgIGluc3RhbmNlLnNwYWNlTWFuYWdlckluc3RhbmNlID0gc3BhY2VNYW5hZ2VySW5zdGFuY2U7XG4gICAgICAgICAgaW5zdGFuY2Uuc21hcnRMYWJlbCA9IHNtYXJ0TGFiZWw7XG4gICAgICAgIH1cbiAgICAgIF0pO1xuICAgICAgdGhpcy5zcGFjZU1hbmFnZXJJbnN0YW5jZSA9IGluc3RhbmNlLnNwYWNlTWFuYWdlckluc3RhbmNlO1xuICAgICAgdGhpcy5nbG9iYWxSZWFjdGl2ZU1vZGVsID0gaW5zdGFuY2UuZ2xvYmFsUmVhY3RpdmVNb2RlbDtcbiAgICAgIHRoaXMuc3RhcnREdCA9IGluc3RhbmNlLmdsb2JhbFJlYWN0aXZlTW9kZWwubW9kZWxbJ3gtYXhpcy12aXNpYmxlLXJhbmdlLXN0YXJ0J107XG4gICAgICB0aGlzLmVuZER0ID0gaW5zdGFuY2UuZ2xvYmFsUmVhY3RpdmVNb2RlbC5tb2RlbFsneC1heGlzLXZpc2libGUtcmFuZ2UtZW5kJ107XG4gICAgICB0aGlzLnN0YXJ0RGF0YXNldCA9IGluc3RhbmNlLmdsb2JhbFJlYWN0aXZlTW9kZWwubW9kZWxbJ3gtYXhpcy1hYnNvbHV0ZS1yYW5nZS1zdGFydCddO1xuICAgICAgdGhpcy5lbmREYXRhc2V0ID0gaW5zdGFuY2UuZ2xvYmFsUmVhY3RpdmVNb2RlbC5tb2RlbFsneC1heGlzLWFic29sdXRlLXJhbmdlLWVuZCddO1xuICAgICAgdGhpcy50b29sYmFycyA9IFtdO1xuICAgICAgdGhpcy5tZWFzdXJlbWVudCA9IHt9O1xuICAgICAgdGhpcy50b29sYmFycy5wdXNoKHRoaXMuY3JlYXRlVG9vbGJhcigpKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICBjcmVhdGVUb29sYmFyICgpIHtcbiAgICAgIHZhciB0b29sYmFyLFxuICAgICAgICBzZWxmID0gdGhpcyxcbiAgICAgICAgZnJvbURhdGVMYWJlbCxcbiAgICAgICAgdG9EYXRlTGFiZWwsXG4gICAgICAgIGdyb3VwLFxuICAgICAgICBmcm9tRm9ybWF0dGVkRGF0ZSxcbiAgICAgICAgdG9Gb3JtYXR0ZWREYXRlO1xuXG4gICAgICBzZWxmLmZyb21EYXRlID0ge307XG4gICAgICBzZWxmLnRvRGF0ZSA9IHt9O1xuXG4gICAgICBmcm9tRm9ybWF0dGVkRGF0ZSA9IG1vbWVudCh0aGlzLnN0YXJ0RHQsICd4JykuZm9ybWF0KCdERC1NTS1ZWVlZJyk7XG5cbiAgICAgIHRvRm9ybWF0dGVkRGF0ZSA9IG1vbWVudCh0aGlzLmVuZER0LCAneCcpLmZvcm1hdCgnREQtTU0tWVlZWScpO1xuICAgICAgdG9vbGJhciA9IG5ldyB0aGlzLkhvcml6b250YWxUb29sYmFyKHtcbiAgICAgICAgcGFwZXI6IHRoaXMuZ3JhcGhpY3MucGFwZXIsXG4gICAgICAgIGNoYXJ0OiB0aGlzLmNoYXJ0LFxuICAgICAgICBzbWFydExhYmVsOiB0aGlzLnNtYXJ0TGFiZWwsXG4gICAgICAgIGNoYXJ0Q29udGFpbmVyOiB0aGlzLmdyYXBoaWNzLmNvbnRhaW5lclxuICAgICAgfSk7XG5cbiAgICAgIHRvb2xiYXIuc2V0Q29uZmlnKHtcbiAgICAgICAgJ2ZpbGwnOiAnI0ZGRkZGRicsXG4gICAgICAgICdib3JkZXJUaGlja25lc3MnOiAwXG4gICAgICB9KTtcblxuICAgICAgZ3JvdXAgPSBuZXcgdGhpcy50b29sYm94LkNvbXBvbmVudEdyb3VwKHtcbiAgICAgICAgcGFwZXI6IHRoaXMuZ3JhcGhpY3MucGFwZXIsXG4gICAgICAgIGNoYXJ0OiB0aGlzLmNoYXJ0LFxuICAgICAgICBzbWFydExhYmVsOiB0aGlzLnNtYXJ0TGFiZWwsXG4gICAgICAgIGNoYXJ0Q29udGFpbmVyOiB0aGlzLmdyYXBoaWNzLmNvbnRhaW5lclxuICAgICAgfSk7XG5cbiAgICAgIGdyb3VwLnNldENvbmZpZyh7XG4gICAgICAgICdmaWxsJzogJyNGRkZGRkYnLFxuICAgICAgICAnYm9yZGVyVGhpY2tuZXNzJzogMFxuICAgICAgfSk7XG5cbiAgICAgIGZyb21EYXRlTGFiZWwgPSBuZXcgdGhpcy50b29sYm94LkxhYmVsKFxuICAgICAgICAnRnJvbTonLCB7XG4gICAgICAgICAgc21hcnRMYWJlbDogdGhpcy5zbWFydExhYmVsLFxuICAgICAgICAgIHBhcGVyOiB0aGlzLmdyYXBoaWNzLnBhcGVyXG4gICAgICAgIH0sIHtcbiAgICAgICAgICB0ZXh0OiB7XG4gICAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgICAnZm9udC1zaXplJzogJzEzJyxcbiAgICAgICAgICAgICAgJ2ZvbnQtZmFtaWx5JzogJ1wiTHVjaWRhIEdyYW5kZVwiLCBzYW5zLXNlcmlmJyxcbiAgICAgICAgICAgICAgLy8gJ2ZvbnQtd2VpZ2h0JzogJ2JvbGQnLFxuICAgICAgICAgICAgICAnZmlsbCc6ICcjNEI0QjRCJ1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgKTtcblxuICAgICAgdG9EYXRlTGFiZWwgPSBuZXcgdGhpcy50b29sYm94LkxhYmVsKFxuICAgICAgICAnVG86Jywge1xuICAgICAgICAgIHNtYXJ0TGFiZWw6IHRoaXMuc21hcnRMYWJlbCxcbiAgICAgICAgICBwYXBlcjogdGhpcy5ncmFwaGljcy5wYXBlclxuICAgICAgICB9LCB7XG4gICAgICAgICAgdGV4dDoge1xuICAgICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgICAgJ2ZvbnQtc2l6ZSc6ICcxMycsXG4gICAgICAgICAgICAgICdmb250LWZhbWlseSc6ICdcIkx1Y2lkYSBHcmFuZGVcIiwgc2Fucy1zZXJpZicsXG4gICAgICAgICAgICAgIC8vICdmb250LXdlaWdodCc6ICdib2xkJyxcbiAgICAgICAgICAgICAgJ2ZpbGwnOiAnIzRCNEI0QidcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICk7XG5cbiAgICAgIHNlbGYuZnJvbURhdGUgPSBuZXcgdGhpcy50b29sYm94LklucHV0VGV4dEJveFN5bWJvbCh7XG4gICAgICAgIHdpZHRoOiAxMjAsXG4gICAgICAgIGhlaWdodDogMjJcbiAgICAgIH0sIHtcbiAgICAgICAgcGFwZXI6IHRoaXMuZ3JhcGhpY3MucGFwZXIsXG4gICAgICAgIGNoYXJ0OiB0aGlzLmNoYXJ0LFxuICAgICAgICBzbWFydExhYmVsOiB0aGlzLnNtYXJ0TGFiZWwsXG4gICAgICAgIGNoYXJ0Q29udGFpbmVyOiB0aGlzLmdyYXBoaWNzLmNvbnRhaW5lclxuICAgICAgfSwge1xuICAgICAgICAnc3Ryb2tlV2lkdGgnOiAxLFxuICAgICAgICAnc3Ryb2tlJzogJyNjZWQ1ZDQnLFxuICAgICAgICAnc3ltYm9sU3Ryb2tlV2lkdGgnOiAwLFxuICAgICAgICAncmFkaXVzJzogMixcbiAgICAgICAgJ21hcmdpbic6IHtcbiAgICAgICAgICAncmlnaHQnOiAyMlxuICAgICAgICB9LFxuICAgICAgICAnYnRuVGV4dFN0eWxlJzoge1xuICAgICAgICAgICdmb250LWZhbWlseSc6ICdcIkx1Y2lkYSBHcmFuZGVcIiwgc2Fucy1zZXJpZicsXG4gICAgICAgICAgJ2ZvbnRTaXplJzogMTNcbiAgICAgICAgfSxcbiAgICAgICAgJ2xhYmVsJzogZnJvbUZvcm1hdHRlZERhdGUsXG4gICAgICAgIC8vICdjdXN0b21Db25maWcnOiB7XG4gICAgICAgIC8vICAgJ2Vycm9yZWQnOiB7XG4gICAgICAgIC8vICAgICAnaG92ZXInOiB7XG4gICAgICAgIC8vICAgICAgICdmaWxsJzogJyNGRkVGRUYnLFxuICAgICAgICAvLyAgICAgICAnc3Ryb2tlLXdpZHRoJzogMSxcbiAgICAgICAgLy8gICAgICAgJ3N0cm9rZSc6ICcjRDI1MzUzJ1xuICAgICAgICAvLyAgICAgfSxcbiAgICAgICAgLy8gICAgICdub3JtYWwnOiB7XG4gICAgICAgIC8vICAgICAgICdmaWxsJzogJyNGRkVGRUYnLFxuICAgICAgICAvLyAgICAgICAnc3Ryb2tlLXdpZHRoJzogMSxcbiAgICAgICAgLy8gICAgICAgJ3N0cm9rZSc6ICcjRDI1MzUzJ1xuICAgICAgICAvLyAgICAgfSxcbiAgICAgICAgLy8gICAgICdwcmVzc2VkJzoge1xuICAgICAgICAvLyAgICAgICAnZmlsbCc6ICcjRkZFRkVGJyxcbiAgICAgICAgLy8gICAgICAgJ3N0cm9rZS13aWR0aCc6IDEsXG4gICAgICAgIC8vICAgICAgICdzdHJva2UnOiAnI0QyNTM1MydcbiAgICAgICAgLy8gICAgIH1cbiAgICAgICAgLy8gICB9XG4gICAgICAgIC8vIH0sXG4gICAgICAgICdsYWJlbEZpbGwnOiAnIzY5Njk2OSdcbiAgICAgIH0pO1xuXG4gICAgICBzZWxmLmZyb21EYXRlLnNldFN0YXRlQ29uZmlnKHtcbiAgICAgICAgcHJlc3NlZDoge1xuICAgICAgICAgIGNvbmZpZzoge1xuICAgICAgICAgICAgcHJlc3NlZDoge1xuICAgICAgICAgICAgICAnZmlsbCc6ICcjRkZGRkZGJyxcbiAgICAgICAgICAgICAgJ3N0cm9rZS13aWR0aCc6IDEsXG4gICAgICAgICAgICAgICdzdHJva2UnOiAnIzFFMUYxRidcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBub3JtYWw6IHtcbiAgICAgICAgICAgICAgJ2ZpbGwnOiAnI0ZGRkZGRicsXG4gICAgICAgICAgICAgICdzdHJva2Utd2lkdGgnOiAxLFxuICAgICAgICAgICAgICAnc3Ryb2tlJzogJyMxRTFGMUYnXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaG92ZXI6IHtcbiAgICAgICAgICAgICAgJ2ZpbGwnOiAnI0ZGRkZGRicsXG4gICAgICAgICAgICAgICdzdHJva2Utd2lkdGgnOiAxLFxuICAgICAgICAgICAgICAvLyAnc3Ryb2tlJzogJyMxRTFGMUYnXG4gICAgICAgICAgICAgICdzdHJva2UnOiAnIzAwMDBGRidcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBzZWxmLnRvRGF0ZSA9IG5ldyB0aGlzLnRvb2xib3guSW5wdXRUZXh0Qm94U3ltYm9sKHtcbiAgICAgICAgd2lkdGg6IDEyMCxcbiAgICAgICAgaGVpZ2h0OiAyMlxuICAgICAgfSwge1xuICAgICAgICBwYXBlcjogdGhpcy5ncmFwaGljcy5wYXBlcixcbiAgICAgICAgY2hhcnQ6IHRoaXMuY2hhcnQsXG4gICAgICAgIHNtYXJ0TGFiZWw6IHRoaXMuc21hcnRMYWJlbCxcbiAgICAgICAgY2hhcnRDb250YWluZXI6IHRoaXMuZ3JhcGhpY3MuY29udGFpbmVyXG4gICAgICB9LCB7XG4gICAgICAgICdzdHJva2VXaWR0aCc6IDEsXG4gICAgICAgICdzdHJva2UnOiAnI2NlZDVkNCcsXG4gICAgICAgICdzeW1ib2xTdHJva2VXaWR0aCc6IDAsXG4gICAgICAgICdyYWRpdXMnOiAyLFxuICAgICAgICAnYnRuVGV4dFN0eWxlJzoge1xuICAgICAgICAgICdmb250LWZhbWlseSc6ICdcIkx1Y2lkYSBHcmFuZGVcIiwgc2Fucy1zZXJpZicsXG4gICAgICAgICAgJ2ZvbnRTaXplJzogMTNcbiAgICAgICAgfSxcbiAgICAgICAgJ2xhYmVsJzogdG9Gb3JtYXR0ZWREYXRlLFxuICAgICAgICAvLyAnY3VzdG9tQ29uZmlnJzoge1xuICAgICAgICAvLyAgICdlcnJvcmVkJzoge1xuICAgICAgICAvLyAgICAgJ2hvdmVyJzoge1xuICAgICAgICAvLyAgICAgICAnZmlsbCc6ICcjRkZFRkVGJyxcbiAgICAgICAgLy8gICAgICAgJ3N0cm9rZS13aWR0aCc6IDEsXG4gICAgICAgIC8vICAgICAgICdzdHJva2UnOiAnI0QyNTM1MydcbiAgICAgICAgLy8gICAgIH0sXG4gICAgICAgIC8vICAgICAnbm9ybWFsJzoge1xuICAgICAgICAvLyAgICAgICAnZmlsbCc6ICcjRkZFRkVGJyxcbiAgICAgICAgLy8gICAgICAgJ3N0cm9rZS13aWR0aCc6IDEsXG4gICAgICAgIC8vICAgICAgICdzdHJva2UnOiAnI0QyNTM1MydcbiAgICAgICAgLy8gICAgIH0sXG4gICAgICAgIC8vICAgICAncHJlc3NlZCc6IHtcbiAgICAgICAgLy8gICAgICAgJ2ZpbGwnOiAnI0ZGRUZFRicsXG4gICAgICAgIC8vICAgICAgICdzdHJva2Utd2lkdGgnOiAxLFxuICAgICAgICAvLyAgICAgICAnc3Ryb2tlJzogJyNEMjUzNTMnXG4gICAgICAgIC8vICAgICB9XG4gICAgICAgIC8vICAgfVxuICAgICAgICAvLyB9LFxuICAgICAgICAnbGFiZWxGaWxsJzogJyM2OTY5NjknXG4gICAgICB9KTtcblxuICAgICAgc2VsZi50b0RhdGUuc2V0U3RhdGVDb25maWcoe1xuICAgICAgICBwcmVzc2VkOiB7XG4gICAgICAgICAgY29uZmlnOiB7XG4gICAgICAgICAgICBwcmVzc2VkOiB7XG4gICAgICAgICAgICAgICdmaWxsJzogJyNGRkZGRkYnLFxuICAgICAgICAgICAgICAnc3Ryb2tlLXdpZHRoJzogMSxcbiAgICAgICAgICAgICAgJ3N0cm9rZSc6ICcjMUUxRjFGJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG5vcm1hbDoge1xuICAgICAgICAgICAgICAnZmlsbCc6ICcjRkZGRkZGJyxcbiAgICAgICAgICAgICAgJ3N0cm9rZS13aWR0aCc6IDEsXG4gICAgICAgICAgICAgICdzdHJva2UnOiAnIzFFMUYxRidcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBob3Zlcjoge1xuICAgICAgICAgICAgICAnZmlsbCc6ICcjRkZGRkZGJyxcbiAgICAgICAgICAgICAgJ3N0cm9rZS13aWR0aCc6IDEsXG4gICAgICAgICAgICAgICdzdHJva2UnOiAnIzFFMUYxRidcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBzZWxmLmZyb21EYXRlLmF0dGFjaEV2ZW50SGFuZGxlcnMoe1xuICAgICAgICBjbGljazoge1xuICAgICAgICAgIGZuOiAoKSA9PiB7XG4gICAgICAgICAgICBzZWxmLmZyb21EYXRlLmVkaXQoKTtcbiAgICAgICAgICAgIHNlbGYuZnJvbURhdGUudXBkYXRlVmlzdWFsKCdwcmVzc2VkJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICB0ZXh0T25CbHVyOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgc2VsZi5mcm9tRGF0ZS5ibHVyKCk7XG4gICAgICAgICAgc2VsZi5zdGFydERhdGUgPSBzZWxmLmZyb21EYXRlLmdldFRleHQoKTtcbiAgICAgICAgICBzZWxmLmZyb21EYXRlLnVwZGF0ZVZpc3VhbCgnZW5hYmxlZCcpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgc2VsZi50b0RhdGUuYXR0YWNoRXZlbnRIYW5kbGVycyh7XG4gICAgICAgIGNsaWNrOiB7XG4gICAgICAgICAgZm46ICgpID0+IHtcbiAgICAgICAgICAgIHNlbGYudG9EYXRlLmVkaXQoKTtcbiAgICAgICAgICAgIHNlbGYudG9EYXRlLnVwZGF0ZVZpc3VhbCgncHJlc3NlZCcpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgdGV4dE9uQmx1cjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHNlbGYudG9EYXRlLmJsdXIoKTtcbiAgICAgICAgICBzZWxmLmVuZERhdGUgPSBzZWxmLnRvRGF0ZS5nZXRUZXh0KCk7XG4gICAgICAgICAgc2VsZi50b0RhdGUudXBkYXRlVmlzdWFsKCdlbmFibGVkJyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICAvLyBUZW1wb3JhcnkuIFJlcXVpcmVkIHRvIHJlbmRlciB0aGUgdGV4dCBib3ggY29ycmVjdGx5LiBDb21tZW50aW5nIHRoaXMgb3V0IGRpc3RvcnRzIHRvb2xib3guXG4gICAgICB0aGlzLlN5bWJvbFN0b3JlLnJlZ2lzdGVyKCd0ZXh0Qm94SWNvbicsIGZ1bmN0aW9uICh4LCB5LCByYWQsIHcsIGgsIHBhZFgsIHBhZFkpIHtcbiAgICAgICAgdmFyIHgxID0geCAtIHcgLyAyICsgcGFkWCAvIDIsXG4gICAgICAgICAgeDIgPSB4ICsgdyAvIDIgLSBwYWRYIC8gMixcbiAgICAgICAgICB5MSA9IHkgLSBoIC8gMiArIHBhZFkgLyAyLFxuICAgICAgICAgIHkyID0geSArIGggLyAyIC0gcGFkWSAvIDI7XG5cbiAgICAgICAgcmV0dXJuIFsnTScsIHgxLCB5MSwgJ0wnLCB4MiwgeTEsICdMJywgeDIsIHkyLCAnTCcsIHgxLCB5MiwgJ1onXTtcbiAgICAgIH0pO1xuXG4gICAgICBncm91cC5hZGRTeW1ib2woZnJvbURhdGVMYWJlbCk7XG4gICAgICBncm91cC5hZGRTeW1ib2woc2VsZi5mcm9tRGF0ZSk7XG4gICAgICBncm91cC5hZGRTeW1ib2wodG9EYXRlTGFiZWwpO1xuICAgICAgZ3JvdXAuYWRkU3ltYm9sKHNlbGYudG9EYXRlKTtcbiAgICAgIHRvb2xiYXIuYWRkQ29tcG9uZW50KGdyb3VwKTtcbiAgICAgIHJldHVybiB0b29sYmFyO1xuICAgIH07XG5cbiAgICBnZXRMb2dpY2FsU3BhY2UgKGF2YWlsYWJsZVdpZHRoLCBhdmFpbGFibGVIZWlnaHQpIHtcbiAgICAgIHZhciBsb2dpY2FsU3BhY2UsXG4gICAgICAgIHdpZHRoID0gMCxcbiAgICAgICAgaGVpZ2h0ID0gMCxcbiAgICAgICAgaSxcbiAgICAgICAgbG47XG5cbiAgICAgIGF2YWlsYWJsZVdpZHRoIC89IDI7XG5cbiAgICAgIGZvciAoaSA9IDAsIGxuID0gdGhpcy50b29sYmFycy5sZW5ndGg7IGkgPCBsbjsgaSsrKSB7XG4gICAgICAgIGxvZ2ljYWxTcGFjZSA9IHRoaXMudG9vbGJhcnNbaV0uZ2V0TG9naWNhbFNwYWNlKGF2YWlsYWJsZVdpZHRoLCBhdmFpbGFibGVIZWlnaHQpO1xuICAgICAgICB3aWR0aCA9IE1hdGgubWF4KGxvZ2ljYWxTcGFjZS53aWR0aCwgd2lkdGgpO1xuICAgICAgICBoZWlnaHQgKz0gbG9naWNhbFNwYWNlLmhlaWdodDtcbiAgICAgICAgdGhpcy50b29sYmFyc1tpXS53aWR0aCA9IGxvZ2ljYWxTcGFjZS53aWR0aDtcbiAgICAgICAgdGhpcy50b29sYmFyc1tpXS5oZWlnaHQgPSBsb2dpY2FsU3BhY2UuaGVpZ2h0O1xuICAgICAgfVxuICAgICAgaGVpZ2h0ICs9IHRoaXMucGFkZGluZztcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHdpZHRoOiB3aWR0aCxcbiAgICAgICAgaGVpZ2h0OiBoZWlnaHRcbiAgICAgIH07XG4gICAgfTtcblxuICAgIHBsYWNlSW5DYW52YXMgKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgc2VsZi5wYWRkaW5nID0gNTtcbiAgICAgIHNlbGYuc3BhY2VNYW5hZ2VySW5zdGFuY2UuYWRkKFt7XG4gICAgICAgIG5hbWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gJ0RhdGVSYW5nZUNob29zZXJUb29sYm94JztcbiAgICAgICAgfSxcbiAgICAgICAgcmVmOiBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgICAgcmV0dXJuIG9ialsnMCddO1xuICAgICAgICB9LFxuICAgICAgICBzZWxmOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgICAgIH0sXG4gICAgICAgIHByaW9yaXR5OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIDI7XG4gICAgICAgIH0sXG4gICAgICAgIGxheW91dDogZnVuY3Rpb24gKG9iaikge1xuICAgICAgICAgIHJldHVybiBvYmpbc2VsZi5leHREYXRhLmxheW91dF0gfHwgb2JqWydpbmxpbmUnXTtcbiAgICAgICAgfSxcbiAgICAgICAgb3JpZW50YXRpb246IFt7XG4gICAgICAgICAgdHlwZTogZnVuY3Rpb24gKG9iaikge1xuICAgICAgICAgICAgcmV0dXJuIG9ialtzZWxmLmV4dERhdGEub3JpZW50YXRpb25dIHx8IG9ialsnaG9yaXpvbnRhbCddO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgcG9zaXRpb246IFt7XG4gICAgICAgICAgICB0eXBlOiBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgICAgICAgIHJldHVybiBvYmpbc2VsZi5leHREYXRhLnBvc2l0aW9uXSB8fCBvYmpbJ3RvcCddO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGFsaWdubWVudDogW3tcbiAgICAgICAgICAgICAgdHlwZTogZnVuY3Rpb24gKG9iaikge1xuICAgICAgICAgICAgICAgIHJldHVybiBvYmpbc2VsZi5leHREYXRhLmFsaWdubWVudF0gfHwgb2JqWydyaWdodCddO1xuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBkaW1lbnNpb25zOiBbZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBwYXJlbnQgPSB0aGlzLmdldFBhcmVudENvbXBvbmVudEdyb3VwKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNlbGYuZ2V0TG9naWNhbFNwYWNlKHBhcmVudC5nZXRXaWR0aCgpLCBwYXJlbnQuZ2V0SGVpZ2h0KCkpO1xuICAgICAgICAgICAgICB9XVxuICAgICAgICAgICAgfV1cbiAgICAgICAgICB9XVxuICAgICAgICB9XVxuICAgICAgfV0pO1xuICAgIH07XG5cbiAgICBzZXREcmF3aW5nQ29uZmlndXJhdGlvbiAoeCwgeSwgd2lkdGgsIGhlaWdodCwgZ3JvdXApIHtcbiAgICAgIHZhciBtZXMgPSB0aGlzLm1lYXN1cmVtZW50O1xuICAgICAgbWVzLnggPSB4O1xuICAgICAgbWVzLnkgPSB5O1xuICAgICAgbWVzLndpZHRoID0gd2lkdGg7XG4gICAgICBtZXMuaGVpZ2h0ID0gaGVpZ2h0O1xuXG4gICAgICB0aGlzLnBhcmVudEdyb3VwID0gZ3JvdXA7XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICBkcmF3ICh4LCB5LCB3aWR0aCwgaGVpZ2h0LCBncm91cCkge1xuICAgICAgdmFyIG1lYXN1cmVtZW50ID0gdGhpcy5tZWFzdXJlbWVudCxcbiAgICAgICAgdG9vbGJhcnMgPSB0aGlzLnRvb2xiYXJzLFxuICAgICAgICBsbixcbiAgICAgICAgaSxcbiAgICAgICAgdG9vbGJhcixcbiAgICAgICAgbW9kZWwgPSB0aGlzLmdsb2JhbFJlYWN0aXZlTW9kZWwsXG4gICAgICAgIHNlbGYgPSB0aGlzO1xuXG4gICAgICB4ID0geCA9PT0gdW5kZWZpbmVkID8gbWVhc3VyZW1lbnQueCA6IHg7XG4gICAgICB5ID0geSA9PT0gdW5kZWZpbmVkID8gbWVhc3VyZW1lbnQueSA6IHk7XG4gICAgICB3aWR0aCA9IHdpZHRoID09PSB1bmRlZmluZWQgPyBtZWFzdXJlbWVudC53aWR0aCA6IHdpZHRoO1xuICAgICAgaGVpZ2h0ID0gaGVpZ2h0ID09PSB1bmRlZmluZWQgPyBtZWFzdXJlbWVudC5oZWlnaHQgOiBoZWlnaHQ7XG4gICAgICBncm91cCA9IGdyb3VwID09PSB1bmRlZmluZWQgPyB0aGlzLnBhcmVudEdyb3VwIDogZ3JvdXA7XG4gICAgICBpZiAod2lkdGggJiYgaGVpZ2h0KSB7XG4gICAgICAgIGZvciAoaSA9IDAsIGxuID0gdG9vbGJhcnMubGVuZ3RoOyBpIDwgbG47IGkrKykge1xuICAgICAgICAgIHRvb2xiYXIgPSB0b29sYmFyc1tpXTtcbiAgICAgICAgICB0b29sYmFyLmRyYXcoeCwgeSwgZ3JvdXApO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIG1vZGVsLm9uUHJvcHNDaGFuZ2UoWyd4LWF4aXMtdmlzaWJsZS1yYW5nZS1zdGFydCcsICd4LWF4aXMtdmlzaWJsZS1yYW5nZS1lbmQnXSxcbiAgICAgICAgZnVuY3Rpb24gKHN0YXJ0LCBlbmQpIHtcbiAgICAgICAgICAvLyBzZWxmLmZyb21EYXRlLmJsdXIobmV3IERhdGUoc3RhcnRbMV0pLnRvTG9jYWxlRGF0ZVN0cmluZygpKTtcbiAgICAgICAgICAvLyBzZWxmLnRvRGF0ZS5ibHVyKG5ldyBEYXRlKGVuZFsxXSkudG9Mb2NhbGVEYXRlU3RyaW5nKCkpO1xuICAgICAgICAgIHNlbGYuZnJvbURhdGUuYmx1cihtb21lbnQoc3RhcnRbMV0sICd4JykuZm9ybWF0KCdERC1NTS1ZWVlZJykpO1xuICAgICAgICAgIHNlbGYudG9EYXRlLmJsdXIobW9tZW50KGVuZFsxXSwgJ3gnKS5mb3JtYXQoJ0RELU1NLVlZWVknKSk7XG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgfTtcbiAgfVxuICByZXR1cm4gRGF0ZVJhbmdlO1xufTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9mY3RzLWV4dC1kYXRlcmFuZ2UuanMiLCIvLyEgbW9tZW50LmpzXG4vLyEgdmVyc2lvbiA6IDIuMTcuMFxuLy8hIGF1dGhvcnMgOiBUaW0gV29vZCwgSXNrcmVuIENoZXJuZXYsIE1vbWVudC5qcyBjb250cmlidXRvcnNcbi8vISBsaWNlbnNlIDogTUlUXG4vLyEgbW9tZW50anMuY29tXG5cbjsoZnVuY3Rpb24gKGdsb2JhbCwgZmFjdG9yeSkge1xuICAgIHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyA/IG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpIDpcbiAgICB0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQgPyBkZWZpbmUoZmFjdG9yeSkgOlxuICAgIGdsb2JhbC5tb21lbnQgPSBmYWN0b3J5KClcbn0odGhpcywgKGZ1bmN0aW9uICgpIHsgJ3VzZSBzdHJpY3QnO1xuXG52YXIgaG9va0NhbGxiYWNrO1xuXG5mdW5jdGlvbiBob29rcyAoKSB7XG4gICAgcmV0dXJuIGhvb2tDYWxsYmFjay5hcHBseShudWxsLCBhcmd1bWVudHMpO1xufVxuXG4vLyBUaGlzIGlzIGRvbmUgdG8gcmVnaXN0ZXIgdGhlIG1ldGhvZCBjYWxsZWQgd2l0aCBtb21lbnQoKVxuLy8gd2l0aG91dCBjcmVhdGluZyBjaXJjdWxhciBkZXBlbmRlbmNpZXMuXG5mdW5jdGlvbiBzZXRIb29rQ2FsbGJhY2sgKGNhbGxiYWNrKSB7XG4gICAgaG9va0NhbGxiYWNrID0gY2FsbGJhY2s7XG59XG5cbmZ1bmN0aW9uIGlzQXJyYXkoaW5wdXQpIHtcbiAgICByZXR1cm4gaW5wdXQgaW5zdGFuY2VvZiBBcnJheSB8fCBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoaW5wdXQpID09PSAnW29iamVjdCBBcnJheV0nO1xufVxuXG5mdW5jdGlvbiBpc09iamVjdChpbnB1dCkge1xuICAgIC8vIElFOCB3aWxsIHRyZWF0IHVuZGVmaW5lZCBhbmQgbnVsbCBhcyBvYmplY3QgaWYgaXQgd2Fzbid0IGZvclxuICAgIC8vIGlucHV0ICE9IG51bGxcbiAgICByZXR1cm4gaW5wdXQgIT0gbnVsbCAmJiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoaW5wdXQpID09PSAnW29iamVjdCBPYmplY3RdJztcbn1cblxuZnVuY3Rpb24gaXNPYmplY3RFbXB0eShvYmopIHtcbiAgICB2YXIgaztcbiAgICBmb3IgKGsgaW4gb2JqKSB7XG4gICAgICAgIC8vIGV2ZW4gaWYgaXRzIG5vdCBvd24gcHJvcGVydHkgSSdkIHN0aWxsIGNhbGwgaXQgbm9uLWVtcHR5XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIGlzTnVtYmVyKGlucHV0KSB7XG4gICAgcmV0dXJuIHR5cGVvZiBpbnB1dCA9PT0gJ251bWJlcicgfHwgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGlucHV0KSA9PT0gJ1tvYmplY3QgTnVtYmVyXSc7XG59XG5cbmZ1bmN0aW9uIGlzRGF0ZShpbnB1dCkge1xuICAgIHJldHVybiBpbnB1dCBpbnN0YW5jZW9mIERhdGUgfHwgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGlucHV0KSA9PT0gJ1tvYmplY3QgRGF0ZV0nO1xufVxuXG5mdW5jdGlvbiBtYXAoYXJyLCBmbikge1xuICAgIHZhciByZXMgPSBbXSwgaTtcbiAgICBmb3IgKGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIHJlcy5wdXNoKGZuKGFycltpXSwgaSkpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzO1xufVxuXG5mdW5jdGlvbiBoYXNPd25Qcm9wKGEsIGIpIHtcbiAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGEsIGIpO1xufVxuXG5mdW5jdGlvbiBleHRlbmQoYSwgYikge1xuICAgIGZvciAodmFyIGkgaW4gYikge1xuICAgICAgICBpZiAoaGFzT3duUHJvcChiLCBpKSkge1xuICAgICAgICAgICAgYVtpXSA9IGJbaV07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoaGFzT3duUHJvcChiLCAndG9TdHJpbmcnKSkge1xuICAgICAgICBhLnRvU3RyaW5nID0gYi50b1N0cmluZztcbiAgICB9XG5cbiAgICBpZiAoaGFzT3duUHJvcChiLCAndmFsdWVPZicpKSB7XG4gICAgICAgIGEudmFsdWVPZiA9IGIudmFsdWVPZjtcbiAgICB9XG5cbiAgICByZXR1cm4gYTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlVVRDIChpbnB1dCwgZm9ybWF0LCBsb2NhbGUsIHN0cmljdCkge1xuICAgIHJldHVybiBjcmVhdGVMb2NhbE9yVVRDKGlucHV0LCBmb3JtYXQsIGxvY2FsZSwgc3RyaWN0LCB0cnVlKS51dGMoKTtcbn1cblxuZnVuY3Rpb24gZGVmYXVsdFBhcnNpbmdGbGFncygpIHtcbiAgICAvLyBXZSBuZWVkIHRvIGRlZXAgY2xvbmUgdGhpcyBvYmplY3QuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgZW1wdHkgICAgICAgICAgIDogZmFsc2UsXG4gICAgICAgIHVudXNlZFRva2VucyAgICA6IFtdLFxuICAgICAgICB1bnVzZWRJbnB1dCAgICAgOiBbXSxcbiAgICAgICAgb3ZlcmZsb3cgICAgICAgIDogLTIsXG4gICAgICAgIGNoYXJzTGVmdE92ZXIgICA6IDAsXG4gICAgICAgIG51bGxJbnB1dCAgICAgICA6IGZhbHNlLFxuICAgICAgICBpbnZhbGlkTW9udGggICAgOiBudWxsLFxuICAgICAgICBpbnZhbGlkRm9ybWF0ICAgOiBmYWxzZSxcbiAgICAgICAgdXNlckludmFsaWRhdGVkIDogZmFsc2UsXG4gICAgICAgIGlzbyAgICAgICAgICAgICA6IGZhbHNlLFxuICAgICAgICBwYXJzZWREYXRlUGFydHMgOiBbXSxcbiAgICAgICAgbWVyaWRpZW0gICAgICAgIDogbnVsbFxuICAgIH07XG59XG5cbmZ1bmN0aW9uIGdldFBhcnNpbmdGbGFncyhtKSB7XG4gICAgaWYgKG0uX3BmID09IG51bGwpIHtcbiAgICAgICAgbS5fcGYgPSBkZWZhdWx0UGFyc2luZ0ZsYWdzKCk7XG4gICAgfVxuICAgIHJldHVybiBtLl9wZjtcbn1cblxudmFyIHNvbWU7XG5pZiAoQXJyYXkucHJvdG90eXBlLnNvbWUpIHtcbiAgICBzb21lID0gQXJyYXkucHJvdG90eXBlLnNvbWU7XG59IGVsc2Uge1xuICAgIHNvbWUgPSBmdW5jdGlvbiAoZnVuKSB7XG4gICAgICAgIHZhciB0ID0gT2JqZWN0KHRoaXMpO1xuICAgICAgICB2YXIgbGVuID0gdC5sZW5ndGggPj4+IDA7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgaWYgKGkgaW4gdCAmJiBmdW4uY2FsbCh0aGlzLCB0W2ldLCBpLCB0KSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG59XG5cbnZhciBzb21lJDEgPSBzb21lO1xuXG5mdW5jdGlvbiBpc1ZhbGlkKG0pIHtcbiAgICBpZiAobS5faXNWYWxpZCA9PSBudWxsKSB7XG4gICAgICAgIHZhciBmbGFncyA9IGdldFBhcnNpbmdGbGFncyhtKTtcbiAgICAgICAgdmFyIHBhcnNlZFBhcnRzID0gc29tZSQxLmNhbGwoZmxhZ3MucGFyc2VkRGF0ZVBhcnRzLCBmdW5jdGlvbiAoaSkge1xuICAgICAgICAgICAgcmV0dXJuIGkgIT0gbnVsbDtcbiAgICAgICAgfSk7XG4gICAgICAgIHZhciBpc05vd1ZhbGlkID0gIWlzTmFOKG0uX2QuZ2V0VGltZSgpKSAmJlxuICAgICAgICAgICAgZmxhZ3Mub3ZlcmZsb3cgPCAwICYmXG4gICAgICAgICAgICAhZmxhZ3MuZW1wdHkgJiZcbiAgICAgICAgICAgICFmbGFncy5pbnZhbGlkTW9udGggJiZcbiAgICAgICAgICAgICFmbGFncy5pbnZhbGlkV2Vla2RheSAmJlxuICAgICAgICAgICAgIWZsYWdzLm51bGxJbnB1dCAmJlxuICAgICAgICAgICAgIWZsYWdzLmludmFsaWRGb3JtYXQgJiZcbiAgICAgICAgICAgICFmbGFncy51c2VySW52YWxpZGF0ZWQgJiZcbiAgICAgICAgICAgICghZmxhZ3MubWVyaWRpZW0gfHwgKGZsYWdzLm1lcmlkaWVtICYmIHBhcnNlZFBhcnRzKSk7XG5cbiAgICAgICAgaWYgKG0uX3N0cmljdCkge1xuICAgICAgICAgICAgaXNOb3dWYWxpZCA9IGlzTm93VmFsaWQgJiZcbiAgICAgICAgICAgICAgICBmbGFncy5jaGFyc0xlZnRPdmVyID09PSAwICYmXG4gICAgICAgICAgICAgICAgZmxhZ3MudW51c2VkVG9rZW5zLmxlbmd0aCA9PT0gMCAmJlxuICAgICAgICAgICAgICAgIGZsYWdzLmJpZ0hvdXIgPT09IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChPYmplY3QuaXNGcm96ZW4gPT0gbnVsbCB8fCAhT2JqZWN0LmlzRnJvemVuKG0pKSB7XG4gICAgICAgICAgICBtLl9pc1ZhbGlkID0gaXNOb3dWYWxpZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBpc05vd1ZhbGlkO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtLl9pc1ZhbGlkO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVJbnZhbGlkIChmbGFncykge1xuICAgIHZhciBtID0gY3JlYXRlVVRDKE5hTik7XG4gICAgaWYgKGZsYWdzICE9IG51bGwpIHtcbiAgICAgICAgZXh0ZW5kKGdldFBhcnNpbmdGbGFncyhtKSwgZmxhZ3MpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKG0pLnVzZXJJbnZhbGlkYXRlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIG07XG59XG5cbmZ1bmN0aW9uIGlzVW5kZWZpbmVkKGlucHV0KSB7XG4gICAgcmV0dXJuIGlucHV0ID09PSB2b2lkIDA7XG59XG5cbi8vIFBsdWdpbnMgdGhhdCBhZGQgcHJvcGVydGllcyBzaG91bGQgYWxzbyBhZGQgdGhlIGtleSBoZXJlIChudWxsIHZhbHVlKSxcbi8vIHNvIHdlIGNhbiBwcm9wZXJseSBjbG9uZSBvdXJzZWx2ZXMuXG52YXIgbW9tZW50UHJvcGVydGllcyA9IGhvb2tzLm1vbWVudFByb3BlcnRpZXMgPSBbXTtcblxuZnVuY3Rpb24gY29weUNvbmZpZyh0bywgZnJvbSkge1xuICAgIHZhciBpLCBwcm9wLCB2YWw7XG5cbiAgICBpZiAoIWlzVW5kZWZpbmVkKGZyb20uX2lzQU1vbWVudE9iamVjdCkpIHtcbiAgICAgICAgdG8uX2lzQU1vbWVudE9iamVjdCA9IGZyb20uX2lzQU1vbWVudE9iamVjdDtcbiAgICB9XG4gICAgaWYgKCFpc1VuZGVmaW5lZChmcm9tLl9pKSkge1xuICAgICAgICB0by5faSA9IGZyb20uX2k7XG4gICAgfVxuICAgIGlmICghaXNVbmRlZmluZWQoZnJvbS5fZikpIHtcbiAgICAgICAgdG8uX2YgPSBmcm9tLl9mO1xuICAgIH1cbiAgICBpZiAoIWlzVW5kZWZpbmVkKGZyb20uX2wpKSB7XG4gICAgICAgIHRvLl9sID0gZnJvbS5fbDtcbiAgICB9XG4gICAgaWYgKCFpc1VuZGVmaW5lZChmcm9tLl9zdHJpY3QpKSB7XG4gICAgICAgIHRvLl9zdHJpY3QgPSBmcm9tLl9zdHJpY3Q7XG4gICAgfVxuICAgIGlmICghaXNVbmRlZmluZWQoZnJvbS5fdHptKSkge1xuICAgICAgICB0by5fdHptID0gZnJvbS5fdHptO1xuICAgIH1cbiAgICBpZiAoIWlzVW5kZWZpbmVkKGZyb20uX2lzVVRDKSkge1xuICAgICAgICB0by5faXNVVEMgPSBmcm9tLl9pc1VUQztcbiAgICB9XG4gICAgaWYgKCFpc1VuZGVmaW5lZChmcm9tLl9vZmZzZXQpKSB7XG4gICAgICAgIHRvLl9vZmZzZXQgPSBmcm9tLl9vZmZzZXQ7XG4gICAgfVxuICAgIGlmICghaXNVbmRlZmluZWQoZnJvbS5fcGYpKSB7XG4gICAgICAgIHRvLl9wZiA9IGdldFBhcnNpbmdGbGFncyhmcm9tKTtcbiAgICB9XG4gICAgaWYgKCFpc1VuZGVmaW5lZChmcm9tLl9sb2NhbGUpKSB7XG4gICAgICAgIHRvLl9sb2NhbGUgPSBmcm9tLl9sb2NhbGU7XG4gICAgfVxuXG4gICAgaWYgKG1vbWVudFByb3BlcnRpZXMubGVuZ3RoID4gMCkge1xuICAgICAgICBmb3IgKGkgaW4gbW9tZW50UHJvcGVydGllcykge1xuICAgICAgICAgICAgcHJvcCA9IG1vbWVudFByb3BlcnRpZXNbaV07XG4gICAgICAgICAgICB2YWwgPSBmcm9tW3Byb3BdO1xuICAgICAgICAgICAgaWYgKCFpc1VuZGVmaW5lZCh2YWwpKSB7XG4gICAgICAgICAgICAgICAgdG9bcHJvcF0gPSB2YWw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdG87XG59XG5cbnZhciB1cGRhdGVJblByb2dyZXNzID0gZmFsc2U7XG5cbi8vIE1vbWVudCBwcm90b3R5cGUgb2JqZWN0XG5mdW5jdGlvbiBNb21lbnQoY29uZmlnKSB7XG4gICAgY29weUNvbmZpZyh0aGlzLCBjb25maWcpO1xuICAgIHRoaXMuX2QgPSBuZXcgRGF0ZShjb25maWcuX2QgIT0gbnVsbCA/IGNvbmZpZy5fZC5nZXRUaW1lKCkgOiBOYU4pO1xuICAgIGlmICghdGhpcy5pc1ZhbGlkKCkpIHtcbiAgICAgICAgdGhpcy5fZCA9IG5ldyBEYXRlKE5hTik7XG4gICAgfVxuICAgIC8vIFByZXZlbnQgaW5maW5pdGUgbG9vcCBpbiBjYXNlIHVwZGF0ZU9mZnNldCBjcmVhdGVzIG5ldyBtb21lbnRcbiAgICAvLyBvYmplY3RzLlxuICAgIGlmICh1cGRhdGVJblByb2dyZXNzID09PSBmYWxzZSkge1xuICAgICAgICB1cGRhdGVJblByb2dyZXNzID0gdHJ1ZTtcbiAgICAgICAgaG9va3MudXBkYXRlT2Zmc2V0KHRoaXMpO1xuICAgICAgICB1cGRhdGVJblByb2dyZXNzID0gZmFsc2U7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBpc01vbWVudCAob2JqKSB7XG4gICAgcmV0dXJuIG9iaiBpbnN0YW5jZW9mIE1vbWVudCB8fCAob2JqICE9IG51bGwgJiYgb2JqLl9pc0FNb21lbnRPYmplY3QgIT0gbnVsbCk7XG59XG5cbmZ1bmN0aW9uIGFic0Zsb29yIChudW1iZXIpIHtcbiAgICBpZiAobnVtYmVyIDwgMCkge1xuICAgICAgICAvLyAtMCAtPiAwXG4gICAgICAgIHJldHVybiBNYXRoLmNlaWwobnVtYmVyKSB8fCAwO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBNYXRoLmZsb29yKG51bWJlcik7XG4gICAgfVxufVxuXG5mdW5jdGlvbiB0b0ludChhcmd1bWVudEZvckNvZXJjaW9uKSB7XG4gICAgdmFyIGNvZXJjZWROdW1iZXIgPSArYXJndW1lbnRGb3JDb2VyY2lvbixcbiAgICAgICAgdmFsdWUgPSAwO1xuXG4gICAgaWYgKGNvZXJjZWROdW1iZXIgIT09IDAgJiYgaXNGaW5pdGUoY29lcmNlZE51bWJlcikpIHtcbiAgICAgICAgdmFsdWUgPSBhYnNGbG9vcihjb2VyY2VkTnVtYmVyKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdmFsdWU7XG59XG5cbi8vIGNvbXBhcmUgdHdvIGFycmF5cywgcmV0dXJuIHRoZSBudW1iZXIgb2YgZGlmZmVyZW5jZXNcbmZ1bmN0aW9uIGNvbXBhcmVBcnJheXMoYXJyYXkxLCBhcnJheTIsIGRvbnRDb252ZXJ0KSB7XG4gICAgdmFyIGxlbiA9IE1hdGgubWluKGFycmF5MS5sZW5ndGgsIGFycmF5Mi5sZW5ndGgpLFxuICAgICAgICBsZW5ndGhEaWZmID0gTWF0aC5hYnMoYXJyYXkxLmxlbmd0aCAtIGFycmF5Mi5sZW5ndGgpLFxuICAgICAgICBkaWZmcyA9IDAsXG4gICAgICAgIGk7XG4gICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIGlmICgoZG9udENvbnZlcnQgJiYgYXJyYXkxW2ldICE9PSBhcnJheTJbaV0pIHx8XG4gICAgICAgICAgICAoIWRvbnRDb252ZXJ0ICYmIHRvSW50KGFycmF5MVtpXSkgIT09IHRvSW50KGFycmF5MltpXSkpKSB7XG4gICAgICAgICAgICBkaWZmcysrO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBkaWZmcyArIGxlbmd0aERpZmY7XG59XG5cbmZ1bmN0aW9uIHdhcm4obXNnKSB7XG4gICAgaWYgKGhvb2tzLnN1cHByZXNzRGVwcmVjYXRpb25XYXJuaW5ncyA9PT0gZmFsc2UgJiZcbiAgICAgICAgICAgICh0eXBlb2YgY29uc29sZSAhPT0gICd1bmRlZmluZWQnKSAmJiBjb25zb2xlLndhcm4pIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdEZXByZWNhdGlvbiB3YXJuaW5nOiAnICsgbXNnKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRlcHJlY2F0ZShtc2csIGZuKSB7XG4gICAgdmFyIGZpcnN0VGltZSA9IHRydWU7XG5cbiAgICByZXR1cm4gZXh0ZW5kKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKGhvb2tzLmRlcHJlY2F0aW9uSGFuZGxlciAhPSBudWxsKSB7XG4gICAgICAgICAgICBob29rcy5kZXByZWNhdGlvbkhhbmRsZXIobnVsbCwgbXNnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZmlyc3RUaW1lKSB7XG4gICAgICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICAgICAgdmFyIGFyZztcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgYXJnID0gJyc7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBhcmd1bWVudHNbaV0gPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgICAgIGFyZyArPSAnXFxuWycgKyBpICsgJ10gJztcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIGFyZ3VtZW50c1swXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXJnICs9IGtleSArICc6ICcgKyBhcmd1bWVudHNbMF1ba2V5XSArICcsICc7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYXJnID0gYXJnLnNsaWNlKDAsIC0yKTsgLy8gUmVtb3ZlIHRyYWlsaW5nIGNvbW1hIGFuZCBzcGFjZVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGFyZyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYXJncy5wdXNoKGFyZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB3YXJuKG1zZyArICdcXG5Bcmd1bWVudHM6ICcgKyBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmdzKS5qb2luKCcnKSArICdcXG4nICsgKG5ldyBFcnJvcigpKS5zdGFjayk7XG4gICAgICAgICAgICBmaXJzdFRpbWUgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9LCBmbik7XG59XG5cbnZhciBkZXByZWNhdGlvbnMgPSB7fTtcblxuZnVuY3Rpb24gZGVwcmVjYXRlU2ltcGxlKG5hbWUsIG1zZykge1xuICAgIGlmIChob29rcy5kZXByZWNhdGlvbkhhbmRsZXIgIT0gbnVsbCkge1xuICAgICAgICBob29rcy5kZXByZWNhdGlvbkhhbmRsZXIobmFtZSwgbXNnKTtcbiAgICB9XG4gICAgaWYgKCFkZXByZWNhdGlvbnNbbmFtZV0pIHtcbiAgICAgICAgd2Fybihtc2cpO1xuICAgICAgICBkZXByZWNhdGlvbnNbbmFtZV0gPSB0cnVlO1xuICAgIH1cbn1cblxuaG9va3Muc3VwcHJlc3NEZXByZWNhdGlvbldhcm5pbmdzID0gZmFsc2U7XG5ob29rcy5kZXByZWNhdGlvbkhhbmRsZXIgPSBudWxsO1xuXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKGlucHV0KSB7XG4gICAgcmV0dXJuIGlucHV0IGluc3RhbmNlb2YgRnVuY3Rpb24gfHwgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGlucHV0KSA9PT0gJ1tvYmplY3QgRnVuY3Rpb25dJztcbn1cblxuZnVuY3Rpb24gc2V0IChjb25maWcpIHtcbiAgICB2YXIgcHJvcCwgaTtcbiAgICBmb3IgKGkgaW4gY29uZmlnKSB7XG4gICAgICAgIHByb3AgPSBjb25maWdbaV07XG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKHByb3ApKSB7XG4gICAgICAgICAgICB0aGlzW2ldID0gcHJvcDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXNbJ18nICsgaV0gPSBwcm9wO1xuICAgICAgICB9XG4gICAgfVxuICAgIHRoaXMuX2NvbmZpZyA9IGNvbmZpZztcbiAgICAvLyBMZW5pZW50IG9yZGluYWwgcGFyc2luZyBhY2NlcHRzIGp1c3QgYSBudW1iZXIgaW4gYWRkaXRpb24gdG9cbiAgICAvLyBudW1iZXIgKyAocG9zc2libHkpIHN0dWZmIGNvbWluZyBmcm9tIF9vcmRpbmFsUGFyc2VMZW5pZW50LlxuICAgIHRoaXMuX29yZGluYWxQYXJzZUxlbmllbnQgPSBuZXcgUmVnRXhwKHRoaXMuX29yZGluYWxQYXJzZS5zb3VyY2UgKyAnfCcgKyAoL1xcZHsxLDJ9Lykuc291cmNlKTtcbn1cblxuZnVuY3Rpb24gbWVyZ2VDb25maWdzKHBhcmVudENvbmZpZywgY2hpbGRDb25maWcpIHtcbiAgICB2YXIgcmVzID0gZXh0ZW5kKHt9LCBwYXJlbnRDb25maWcpLCBwcm9wO1xuICAgIGZvciAocHJvcCBpbiBjaGlsZENvbmZpZykge1xuICAgICAgICBpZiAoaGFzT3duUHJvcChjaGlsZENvbmZpZywgcHJvcCkpIHtcbiAgICAgICAgICAgIGlmIChpc09iamVjdChwYXJlbnRDb25maWdbcHJvcF0pICYmIGlzT2JqZWN0KGNoaWxkQ29uZmlnW3Byb3BdKSkge1xuICAgICAgICAgICAgICAgIHJlc1twcm9wXSA9IHt9O1xuICAgICAgICAgICAgICAgIGV4dGVuZChyZXNbcHJvcF0sIHBhcmVudENvbmZpZ1twcm9wXSk7XG4gICAgICAgICAgICAgICAgZXh0ZW5kKHJlc1twcm9wXSwgY2hpbGRDb25maWdbcHJvcF0pO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjaGlsZENvbmZpZ1twcm9wXSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmVzW3Byb3BdID0gY2hpbGRDb25maWdbcHJvcF07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSByZXNbcHJvcF07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZm9yIChwcm9wIGluIHBhcmVudENvbmZpZykge1xuICAgICAgICBpZiAoaGFzT3duUHJvcChwYXJlbnRDb25maWcsIHByb3ApICYmXG4gICAgICAgICAgICAgICAgIWhhc093blByb3AoY2hpbGRDb25maWcsIHByb3ApICYmXG4gICAgICAgICAgICAgICAgaXNPYmplY3QocGFyZW50Q29uZmlnW3Byb3BdKSkge1xuICAgICAgICAgICAgLy8gbWFrZSBzdXJlIGNoYW5nZXMgdG8gcHJvcGVydGllcyBkb24ndCBtb2RpZnkgcGFyZW50IGNvbmZpZ1xuICAgICAgICAgICAgcmVzW3Byb3BdID0gZXh0ZW5kKHt9LCByZXNbcHJvcF0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXM7XG59XG5cbmZ1bmN0aW9uIExvY2FsZShjb25maWcpIHtcbiAgICBpZiAoY29uZmlnICE9IG51bGwpIHtcbiAgICAgICAgdGhpcy5zZXQoY29uZmlnKTtcbiAgICB9XG59XG5cbnZhciBrZXlzO1xuXG5pZiAoT2JqZWN0LmtleXMpIHtcbiAgICBrZXlzID0gT2JqZWN0LmtleXM7XG59IGVsc2Uge1xuICAgIGtleXMgPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgIHZhciBpLCByZXMgPSBbXTtcbiAgICAgICAgZm9yIChpIGluIG9iaikge1xuICAgICAgICAgICAgaWYgKGhhc093blByb3Aob2JqLCBpKSkge1xuICAgICAgICAgICAgICAgIHJlcy5wdXNoKGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfTtcbn1cblxudmFyIGtleXMkMSA9IGtleXM7XG5cbnZhciBkZWZhdWx0Q2FsZW5kYXIgPSB7XG4gICAgc2FtZURheSA6ICdbVG9kYXkgYXRdIExUJyxcbiAgICBuZXh0RGF5IDogJ1tUb21vcnJvdyBhdF0gTFQnLFxuICAgIG5leHRXZWVrIDogJ2RkZGQgW2F0XSBMVCcsXG4gICAgbGFzdERheSA6ICdbWWVzdGVyZGF5IGF0XSBMVCcsXG4gICAgbGFzdFdlZWsgOiAnW0xhc3RdIGRkZGQgW2F0XSBMVCcsXG4gICAgc2FtZUVsc2UgOiAnTCdcbn07XG5cbmZ1bmN0aW9uIGNhbGVuZGFyIChrZXksIG1vbSwgbm93KSB7XG4gICAgdmFyIG91dHB1dCA9IHRoaXMuX2NhbGVuZGFyW2tleV0gfHwgdGhpcy5fY2FsZW5kYXJbJ3NhbWVFbHNlJ107XG4gICAgcmV0dXJuIGlzRnVuY3Rpb24ob3V0cHV0KSA/IG91dHB1dC5jYWxsKG1vbSwgbm93KSA6IG91dHB1dDtcbn1cblxudmFyIGRlZmF1bHRMb25nRGF0ZUZvcm1hdCA9IHtcbiAgICBMVFMgIDogJ2g6bW06c3MgQScsXG4gICAgTFQgICA6ICdoOm1tIEEnLFxuICAgIEwgICAgOiAnTU0vREQvWVlZWScsXG4gICAgTEwgICA6ICdNTU1NIEQsIFlZWVknLFxuICAgIExMTCAgOiAnTU1NTSBELCBZWVlZIGg6bW0gQScsXG4gICAgTExMTCA6ICdkZGRkLCBNTU1NIEQsIFlZWVkgaDptbSBBJ1xufTtcblxuZnVuY3Rpb24gbG9uZ0RhdGVGb3JtYXQgKGtleSkge1xuICAgIHZhciBmb3JtYXQgPSB0aGlzLl9sb25nRGF0ZUZvcm1hdFtrZXldLFxuICAgICAgICBmb3JtYXRVcHBlciA9IHRoaXMuX2xvbmdEYXRlRm9ybWF0W2tleS50b1VwcGVyQ2FzZSgpXTtcblxuICAgIGlmIChmb3JtYXQgfHwgIWZvcm1hdFVwcGVyKSB7XG4gICAgICAgIHJldHVybiBmb3JtYXQ7XG4gICAgfVxuXG4gICAgdGhpcy5fbG9uZ0RhdGVGb3JtYXRba2V5XSA9IGZvcm1hdFVwcGVyLnJlcGxhY2UoL01NTU18TU18RER8ZGRkZC9nLCBmdW5jdGlvbiAodmFsKSB7XG4gICAgICAgIHJldHVybiB2YWwuc2xpY2UoMSk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gdGhpcy5fbG9uZ0RhdGVGb3JtYXRba2V5XTtcbn1cblxudmFyIGRlZmF1bHRJbnZhbGlkRGF0ZSA9ICdJbnZhbGlkIGRhdGUnO1xuXG5mdW5jdGlvbiBpbnZhbGlkRGF0ZSAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2ludmFsaWREYXRlO1xufVxuXG52YXIgZGVmYXVsdE9yZGluYWwgPSAnJWQnO1xudmFyIGRlZmF1bHRPcmRpbmFsUGFyc2UgPSAvXFxkezEsMn0vO1xuXG5mdW5jdGlvbiBvcmRpbmFsIChudW1iZXIpIHtcbiAgICByZXR1cm4gdGhpcy5fb3JkaW5hbC5yZXBsYWNlKCclZCcsIG51bWJlcik7XG59XG5cbnZhciBkZWZhdWx0UmVsYXRpdmVUaW1lID0ge1xuICAgIGZ1dHVyZSA6ICdpbiAlcycsXG4gICAgcGFzdCAgIDogJyVzIGFnbycsXG4gICAgcyAgOiAnYSBmZXcgc2Vjb25kcycsXG4gICAgbSAgOiAnYSBtaW51dGUnLFxuICAgIG1tIDogJyVkIG1pbnV0ZXMnLFxuICAgIGggIDogJ2FuIGhvdXInLFxuICAgIGhoIDogJyVkIGhvdXJzJyxcbiAgICBkICA6ICdhIGRheScsXG4gICAgZGQgOiAnJWQgZGF5cycsXG4gICAgTSAgOiAnYSBtb250aCcsXG4gICAgTU0gOiAnJWQgbW9udGhzJyxcbiAgICB5ICA6ICdhIHllYXInLFxuICAgIHl5IDogJyVkIHllYXJzJ1xufTtcblxuZnVuY3Rpb24gcmVsYXRpdmVUaW1lIChudW1iZXIsIHdpdGhvdXRTdWZmaXgsIHN0cmluZywgaXNGdXR1cmUpIHtcbiAgICB2YXIgb3V0cHV0ID0gdGhpcy5fcmVsYXRpdmVUaW1lW3N0cmluZ107XG4gICAgcmV0dXJuIChpc0Z1bmN0aW9uKG91dHB1dCkpID9cbiAgICAgICAgb3V0cHV0KG51bWJlciwgd2l0aG91dFN1ZmZpeCwgc3RyaW5nLCBpc0Z1dHVyZSkgOlxuICAgICAgICBvdXRwdXQucmVwbGFjZSgvJWQvaSwgbnVtYmVyKTtcbn1cblxuZnVuY3Rpb24gcGFzdEZ1dHVyZSAoZGlmZiwgb3V0cHV0KSB7XG4gICAgdmFyIGZvcm1hdCA9IHRoaXMuX3JlbGF0aXZlVGltZVtkaWZmID4gMCA/ICdmdXR1cmUnIDogJ3Bhc3QnXTtcbiAgICByZXR1cm4gaXNGdW5jdGlvbihmb3JtYXQpID8gZm9ybWF0KG91dHB1dCkgOiBmb3JtYXQucmVwbGFjZSgvJXMvaSwgb3V0cHV0KTtcbn1cblxudmFyIGFsaWFzZXMgPSB7fTtcblxuZnVuY3Rpb24gYWRkVW5pdEFsaWFzICh1bml0LCBzaG9ydGhhbmQpIHtcbiAgICB2YXIgbG93ZXJDYXNlID0gdW5pdC50b0xvd2VyQ2FzZSgpO1xuICAgIGFsaWFzZXNbbG93ZXJDYXNlXSA9IGFsaWFzZXNbbG93ZXJDYXNlICsgJ3MnXSA9IGFsaWFzZXNbc2hvcnRoYW5kXSA9IHVuaXQ7XG59XG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZVVuaXRzKHVuaXRzKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB1bml0cyA9PT0gJ3N0cmluZycgPyBhbGlhc2VzW3VuaXRzXSB8fCBhbGlhc2VzW3VuaXRzLnRvTG93ZXJDYXNlKCldIDogdW5kZWZpbmVkO1xufVxuXG5mdW5jdGlvbiBub3JtYWxpemVPYmplY3RVbml0cyhpbnB1dE9iamVjdCkge1xuICAgIHZhciBub3JtYWxpemVkSW5wdXQgPSB7fSxcbiAgICAgICAgbm9ybWFsaXplZFByb3AsXG4gICAgICAgIHByb3A7XG5cbiAgICBmb3IgKHByb3AgaW4gaW5wdXRPYmplY3QpIHtcbiAgICAgICAgaWYgKGhhc093blByb3AoaW5wdXRPYmplY3QsIHByb3ApKSB7XG4gICAgICAgICAgICBub3JtYWxpemVkUHJvcCA9IG5vcm1hbGl6ZVVuaXRzKHByb3ApO1xuICAgICAgICAgICAgaWYgKG5vcm1hbGl6ZWRQcm9wKSB7XG4gICAgICAgICAgICAgICAgbm9ybWFsaXplZElucHV0W25vcm1hbGl6ZWRQcm9wXSA9IGlucHV0T2JqZWN0W3Byb3BdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG5vcm1hbGl6ZWRJbnB1dDtcbn1cblxudmFyIHByaW9yaXRpZXMgPSB7fTtcblxuZnVuY3Rpb24gYWRkVW5pdFByaW9yaXR5KHVuaXQsIHByaW9yaXR5KSB7XG4gICAgcHJpb3JpdGllc1t1bml0XSA9IHByaW9yaXR5O1xufVxuXG5mdW5jdGlvbiBnZXRQcmlvcml0aXplZFVuaXRzKHVuaXRzT2JqKSB7XG4gICAgdmFyIHVuaXRzID0gW107XG4gICAgZm9yICh2YXIgdSBpbiB1bml0c09iaikge1xuICAgICAgICB1bml0cy5wdXNoKHt1bml0OiB1LCBwcmlvcml0eTogcHJpb3JpdGllc1t1XX0pO1xuICAgIH1cbiAgICB1bml0cy5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgIHJldHVybiBhLnByaW9yaXR5IC0gYi5wcmlvcml0eTtcbiAgICB9KTtcbiAgICByZXR1cm4gdW5pdHM7XG59XG5cbmZ1bmN0aW9uIG1ha2VHZXRTZXQgKHVuaXQsIGtlZXBUaW1lKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICBpZiAodmFsdWUgIT0gbnVsbCkge1xuICAgICAgICAgICAgc2V0JDEodGhpcywgdW5pdCwgdmFsdWUpO1xuICAgICAgICAgICAgaG9va3MudXBkYXRlT2Zmc2V0KHRoaXMsIGtlZXBUaW1lKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGdldCh0aGlzLCB1bml0KTtcbiAgICAgICAgfVxuICAgIH07XG59XG5cbmZ1bmN0aW9uIGdldCAobW9tLCB1bml0KSB7XG4gICAgcmV0dXJuIG1vbS5pc1ZhbGlkKCkgP1xuICAgICAgICBtb20uX2RbJ2dldCcgKyAobW9tLl9pc1VUQyA/ICdVVEMnIDogJycpICsgdW5pdF0oKSA6IE5hTjtcbn1cblxuZnVuY3Rpb24gc2V0JDEgKG1vbSwgdW5pdCwgdmFsdWUpIHtcbiAgICBpZiAobW9tLmlzVmFsaWQoKSkge1xuICAgICAgICBtb20uX2RbJ3NldCcgKyAobW9tLl9pc1VUQyA/ICdVVEMnIDogJycpICsgdW5pdF0odmFsdWUpO1xuICAgIH1cbn1cblxuLy8gTU9NRU5UU1xuXG5mdW5jdGlvbiBzdHJpbmdHZXQgKHVuaXRzKSB7XG4gICAgdW5pdHMgPSBub3JtYWxpemVVbml0cyh1bml0cyk7XG4gICAgaWYgKGlzRnVuY3Rpb24odGhpc1t1bml0c10pKSB7XG4gICAgICAgIHJldHVybiB0aGlzW3VuaXRzXSgpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbn1cblxuXG5mdW5jdGlvbiBzdHJpbmdTZXQgKHVuaXRzLCB2YWx1ZSkge1xuICAgIGlmICh0eXBlb2YgdW5pdHMgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIHVuaXRzID0gbm9ybWFsaXplT2JqZWN0VW5pdHModW5pdHMpO1xuICAgICAgICB2YXIgcHJpb3JpdGl6ZWQgPSBnZXRQcmlvcml0aXplZFVuaXRzKHVuaXRzKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcmlvcml0aXplZC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpc1twcmlvcml0aXplZFtpXS51bml0XSh1bml0c1twcmlvcml0aXplZFtpXS51bml0XSk7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICB1bml0cyA9IG5vcm1hbGl6ZVVuaXRzKHVuaXRzKTtcbiAgICAgICAgaWYgKGlzRnVuY3Rpb24odGhpc1t1bml0c10pKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpc1t1bml0c10odmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xufVxuXG5mdW5jdGlvbiB6ZXJvRmlsbChudW1iZXIsIHRhcmdldExlbmd0aCwgZm9yY2VTaWduKSB7XG4gICAgdmFyIGFic051bWJlciA9ICcnICsgTWF0aC5hYnMobnVtYmVyKSxcbiAgICAgICAgemVyb3NUb0ZpbGwgPSB0YXJnZXRMZW5ndGggLSBhYnNOdW1iZXIubGVuZ3RoLFxuICAgICAgICBzaWduID0gbnVtYmVyID49IDA7XG4gICAgcmV0dXJuIChzaWduID8gKGZvcmNlU2lnbiA/ICcrJyA6ICcnKSA6ICctJykgK1xuICAgICAgICBNYXRoLnBvdygxMCwgTWF0aC5tYXgoMCwgemVyb3NUb0ZpbGwpKS50b1N0cmluZygpLnN1YnN0cigxKSArIGFic051bWJlcjtcbn1cblxudmFyIGZvcm1hdHRpbmdUb2tlbnMgPSAvKFxcW1teXFxbXSpcXF0pfChcXFxcKT8oW0hoXW1tKHNzKT98TW98TU0/TT9NP3xEb3xERERvfEREP0Q/RD98ZGRkP2Q/fGRvP3x3W298d10/fFdbb3xXXT98UW8/fFlZWVlZWXxZWVlZWXxZWVlZfFlZfGdnKGdnZz8pP3xHRyhHR0c/KT98ZXxFfGF8QXxoaD98SEg/fGtrP3xtbT98c3M/fFN7MSw5fXx4fFh8eno/fFpaP3wuKS9nO1xuXG52YXIgbG9jYWxGb3JtYXR0aW5nVG9rZW5zID0gLyhcXFtbXlxcW10qXFxdKXwoXFxcXCk/KExUU3xMVHxMTD9MP0w/fGx7MSw0fSkvZztcblxudmFyIGZvcm1hdEZ1bmN0aW9ucyA9IHt9O1xuXG52YXIgZm9ybWF0VG9rZW5GdW5jdGlvbnMgPSB7fTtcblxuLy8gdG9rZW46ICAgICdNJ1xuLy8gcGFkZGVkOiAgIFsnTU0nLCAyXVxuLy8gb3JkaW5hbDogICdNbydcbi8vIGNhbGxiYWNrOiBmdW5jdGlvbiAoKSB7IHRoaXMubW9udGgoKSArIDEgfVxuZnVuY3Rpb24gYWRkRm9ybWF0VG9rZW4gKHRva2VuLCBwYWRkZWQsIG9yZGluYWwsIGNhbGxiYWNrKSB7XG4gICAgdmFyIGZ1bmMgPSBjYWxsYmFjaztcbiAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnc3RyaW5nJykge1xuICAgICAgICBmdW5jID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXNbY2FsbGJhY2tdKCk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIGlmICh0b2tlbikge1xuICAgICAgICBmb3JtYXRUb2tlbkZ1bmN0aW9uc1t0b2tlbl0gPSBmdW5jO1xuICAgIH1cbiAgICBpZiAocGFkZGVkKSB7XG4gICAgICAgIGZvcm1hdFRva2VuRnVuY3Rpb25zW3BhZGRlZFswXV0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gemVyb0ZpbGwoZnVuYy5hcHBseSh0aGlzLCBhcmd1bWVudHMpLCBwYWRkZWRbMV0sIHBhZGRlZFsyXSk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIGlmIChvcmRpbmFsKSB7XG4gICAgICAgIGZvcm1hdFRva2VuRnVuY3Rpb25zW29yZGluYWxdID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLm9yZGluYWwoZnVuYy5hcHBseSh0aGlzLCBhcmd1bWVudHMpLCB0b2tlbik7XG4gICAgICAgIH07XG4gICAgfVxufVxuXG5mdW5jdGlvbiByZW1vdmVGb3JtYXR0aW5nVG9rZW5zKGlucHV0KSB7XG4gICAgaWYgKGlucHV0Lm1hdGNoKC9cXFtbXFxzXFxTXS8pKSB7XG4gICAgICAgIHJldHVybiBpbnB1dC5yZXBsYWNlKC9eXFxbfFxcXSQvZywgJycpO1xuICAgIH1cbiAgICByZXR1cm4gaW5wdXQucmVwbGFjZSgvXFxcXC9nLCAnJyk7XG59XG5cbmZ1bmN0aW9uIG1ha2VGb3JtYXRGdW5jdGlvbihmb3JtYXQpIHtcbiAgICB2YXIgYXJyYXkgPSBmb3JtYXQubWF0Y2goZm9ybWF0dGluZ1Rva2VucyksIGksIGxlbmd0aDtcblxuICAgIGZvciAoaSA9IDAsIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChmb3JtYXRUb2tlbkZ1bmN0aW9uc1thcnJheVtpXV0pIHtcbiAgICAgICAgICAgIGFycmF5W2ldID0gZm9ybWF0VG9rZW5GdW5jdGlvbnNbYXJyYXlbaV1dO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYXJyYXlbaV0gPSByZW1vdmVGb3JtYXR0aW5nVG9rZW5zKGFycmF5W2ldKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBmdW5jdGlvbiAobW9tKSB7XG4gICAgICAgIHZhciBvdXRwdXQgPSAnJywgaTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBvdXRwdXQgKz0gYXJyYXlbaV0gaW5zdGFuY2VvZiBGdW5jdGlvbiA/IGFycmF5W2ldLmNhbGwobW9tLCBmb3JtYXQpIDogYXJyYXlbaV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG91dHB1dDtcbiAgICB9O1xufVxuXG4vLyBmb3JtYXQgZGF0ZSB1c2luZyBuYXRpdmUgZGF0ZSBvYmplY3RcbmZ1bmN0aW9uIGZvcm1hdE1vbWVudChtLCBmb3JtYXQpIHtcbiAgICBpZiAoIW0uaXNWYWxpZCgpKSB7XG4gICAgICAgIHJldHVybiBtLmxvY2FsZURhdGEoKS5pbnZhbGlkRGF0ZSgpO1xuICAgIH1cblxuICAgIGZvcm1hdCA9IGV4cGFuZEZvcm1hdChmb3JtYXQsIG0ubG9jYWxlRGF0YSgpKTtcbiAgICBmb3JtYXRGdW5jdGlvbnNbZm9ybWF0XSA9IGZvcm1hdEZ1bmN0aW9uc1tmb3JtYXRdIHx8IG1ha2VGb3JtYXRGdW5jdGlvbihmb3JtYXQpO1xuXG4gICAgcmV0dXJuIGZvcm1hdEZ1bmN0aW9uc1tmb3JtYXRdKG0pO1xufVxuXG5mdW5jdGlvbiBleHBhbmRGb3JtYXQoZm9ybWF0LCBsb2NhbGUpIHtcbiAgICB2YXIgaSA9IDU7XG5cbiAgICBmdW5jdGlvbiByZXBsYWNlTG9uZ0RhdGVGb3JtYXRUb2tlbnMoaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIGxvY2FsZS5sb25nRGF0ZUZvcm1hdChpbnB1dCkgfHwgaW5wdXQ7XG4gICAgfVxuXG4gICAgbG9jYWxGb3JtYXR0aW5nVG9rZW5zLmxhc3RJbmRleCA9IDA7XG4gICAgd2hpbGUgKGkgPj0gMCAmJiBsb2NhbEZvcm1hdHRpbmdUb2tlbnMudGVzdChmb3JtYXQpKSB7XG4gICAgICAgIGZvcm1hdCA9IGZvcm1hdC5yZXBsYWNlKGxvY2FsRm9ybWF0dGluZ1Rva2VucywgcmVwbGFjZUxvbmdEYXRlRm9ybWF0VG9rZW5zKTtcbiAgICAgICAgbG9jYWxGb3JtYXR0aW5nVG9rZW5zLmxhc3RJbmRleCA9IDA7XG4gICAgICAgIGkgLT0gMTtcbiAgICB9XG5cbiAgICByZXR1cm4gZm9ybWF0O1xufVxuXG52YXIgbWF0Y2gxICAgICAgICAgPSAvXFxkLzsgICAgICAgICAgICAvLyAgICAgICAwIC0gOVxudmFyIG1hdGNoMiAgICAgICAgID0gL1xcZFxcZC87ICAgICAgICAgIC8vICAgICAgMDAgLSA5OVxudmFyIG1hdGNoMyAgICAgICAgID0gL1xcZHszfS87ICAgICAgICAgLy8gICAgIDAwMCAtIDk5OVxudmFyIG1hdGNoNCAgICAgICAgID0gL1xcZHs0fS87ICAgICAgICAgLy8gICAgMDAwMCAtIDk5OTlcbnZhciBtYXRjaDYgICAgICAgICA9IC9bKy1dP1xcZHs2fS87ICAgIC8vIC05OTk5OTkgLSA5OTk5OTlcbnZhciBtYXRjaDF0bzIgICAgICA9IC9cXGRcXGQ/LzsgICAgICAgICAvLyAgICAgICAwIC0gOTlcbnZhciBtYXRjaDN0bzQgICAgICA9IC9cXGRcXGRcXGRcXGQ/LzsgICAgIC8vICAgICA5OTkgLSA5OTk5XG52YXIgbWF0Y2g1dG82ICAgICAgPSAvXFxkXFxkXFxkXFxkXFxkXFxkPy87IC8vICAgOTk5OTkgLSA5OTk5OTlcbnZhciBtYXRjaDF0bzMgICAgICA9IC9cXGR7MSwzfS87ICAgICAgIC8vICAgICAgIDAgLSA5OTlcbnZhciBtYXRjaDF0bzQgICAgICA9IC9cXGR7MSw0fS87ICAgICAgIC8vICAgICAgIDAgLSA5OTk5XG52YXIgbWF0Y2gxdG82ICAgICAgPSAvWystXT9cXGR7MSw2fS87ICAvLyAtOTk5OTk5IC0gOTk5OTk5XG5cbnZhciBtYXRjaFVuc2lnbmVkICA9IC9cXGQrLzsgICAgICAgICAgIC8vICAgICAgIDAgLSBpbmZcbnZhciBtYXRjaFNpZ25lZCAgICA9IC9bKy1dP1xcZCsvOyAgICAgIC8vICAgIC1pbmYgLSBpbmZcblxudmFyIG1hdGNoT2Zmc2V0ICAgID0gL1p8WystXVxcZFxcZDo/XFxkXFxkL2dpOyAvLyArMDA6MDAgLTAwOjAwICswMDAwIC0wMDAwIG9yIFpcbnZhciBtYXRjaFNob3J0T2Zmc2V0ID0gL1p8WystXVxcZFxcZCg/Ojo/XFxkXFxkKT8vZ2k7IC8vICswMCAtMDAgKzAwOjAwIC0wMDowMCArMDAwMCAtMDAwMCBvciBaXG5cbnZhciBtYXRjaFRpbWVzdGFtcCA9IC9bKy1dP1xcZCsoXFwuXFxkezEsM30pPy87IC8vIDEyMzQ1Njc4OSAxMjM0NTY3ODkuMTIzXG5cbi8vIGFueSB3b3JkIChvciB0d28pIGNoYXJhY3RlcnMgb3IgbnVtYmVycyBpbmNsdWRpbmcgdHdvL3RocmVlIHdvcmQgbW9udGggaW4gYXJhYmljLlxuLy8gaW5jbHVkZXMgc2NvdHRpc2ggZ2FlbGljIHR3byB3b3JkIGFuZCBoeXBoZW5hdGVkIG1vbnRoc1xudmFyIG1hdGNoV29yZCA9IC9bMC05XSpbJ2EtelxcdTAwQTAtXFx1MDVGRlxcdTA3MDAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0rfFtcXHUwNjAwLVxcdTA2RkZcXC9dKyhcXHMqP1tcXHUwNjAwLVxcdTA2RkZdKyl7MSwyfS9pO1xuXG5cbnZhciByZWdleGVzID0ge307XG5cbmZ1bmN0aW9uIGFkZFJlZ2V4VG9rZW4gKHRva2VuLCByZWdleCwgc3RyaWN0UmVnZXgpIHtcbiAgICByZWdleGVzW3Rva2VuXSA9IGlzRnVuY3Rpb24ocmVnZXgpID8gcmVnZXggOiBmdW5jdGlvbiAoaXNTdHJpY3QsIGxvY2FsZURhdGEpIHtcbiAgICAgICAgcmV0dXJuIChpc1N0cmljdCAmJiBzdHJpY3RSZWdleCkgPyBzdHJpY3RSZWdleCA6IHJlZ2V4O1xuICAgIH07XG59XG5cbmZ1bmN0aW9uIGdldFBhcnNlUmVnZXhGb3JUb2tlbiAodG9rZW4sIGNvbmZpZykge1xuICAgIGlmICghaGFzT3duUHJvcChyZWdleGVzLCB0b2tlbikpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSZWdFeHAodW5lc2NhcGVGb3JtYXQodG9rZW4pKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVnZXhlc1t0b2tlbl0oY29uZmlnLl9zdHJpY3QsIGNvbmZpZy5fbG9jYWxlKTtcbn1cblxuLy8gQ29kZSBmcm9tIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMzU2MTQ5My9pcy10aGVyZS1hLXJlZ2V4cC1lc2NhcGUtZnVuY3Rpb24taW4tamF2YXNjcmlwdFxuZnVuY3Rpb24gdW5lc2NhcGVGb3JtYXQocykge1xuICAgIHJldHVybiByZWdleEVzY2FwZShzLnJlcGxhY2UoJ1xcXFwnLCAnJykucmVwbGFjZSgvXFxcXChcXFspfFxcXFwoXFxdKXxcXFsoW15cXF1cXFtdKilcXF18XFxcXCguKS9nLCBmdW5jdGlvbiAobWF0Y2hlZCwgcDEsIHAyLCBwMywgcDQpIHtcbiAgICAgICAgcmV0dXJuIHAxIHx8IHAyIHx8IHAzIHx8IHA0O1xuICAgIH0pKTtcbn1cblxuZnVuY3Rpb24gcmVnZXhFc2NhcGUocykge1xuICAgIHJldHVybiBzLnJlcGxhY2UoL1stXFwvXFxcXF4kKis/LigpfFtcXF17fV0vZywgJ1xcXFwkJicpO1xufVxuXG52YXIgdG9rZW5zID0ge307XG5cbmZ1bmN0aW9uIGFkZFBhcnNlVG9rZW4gKHRva2VuLCBjYWxsYmFjaykge1xuICAgIHZhciBpLCBmdW5jID0gY2FsbGJhY2s7XG4gICAgaWYgKHR5cGVvZiB0b2tlbiA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgdG9rZW4gPSBbdG9rZW5dO1xuICAgIH1cbiAgICBpZiAoaXNOdW1iZXIoY2FsbGJhY2spKSB7XG4gICAgICAgIGZ1bmMgPSBmdW5jdGlvbiAoaW5wdXQsIGFycmF5KSB7XG4gICAgICAgICAgICBhcnJheVtjYWxsYmFja10gPSB0b0ludChpbnB1dCk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIGZvciAoaSA9IDA7IGkgPCB0b2tlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICB0b2tlbnNbdG9rZW5baV1dID0gZnVuYztcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGFkZFdlZWtQYXJzZVRva2VuICh0b2tlbiwgY2FsbGJhY2spIHtcbiAgICBhZGRQYXJzZVRva2VuKHRva2VuLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcsIHRva2VuKSB7XG4gICAgICAgIGNvbmZpZy5fdyA9IGNvbmZpZy5fdyB8fCB7fTtcbiAgICAgICAgY2FsbGJhY2soaW5wdXQsIGNvbmZpZy5fdywgY29uZmlnLCB0b2tlbik7XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIGFkZFRpbWVUb0FycmF5RnJvbVRva2VuKHRva2VuLCBpbnB1dCwgY29uZmlnKSB7XG4gICAgaWYgKGlucHV0ICE9IG51bGwgJiYgaGFzT3duUHJvcCh0b2tlbnMsIHRva2VuKSkge1xuICAgICAgICB0b2tlbnNbdG9rZW5dKGlucHV0LCBjb25maWcuX2EsIGNvbmZpZywgdG9rZW4pO1xuICAgIH1cbn1cblxudmFyIFlFQVIgPSAwO1xudmFyIE1PTlRIID0gMTtcbnZhciBEQVRFID0gMjtcbnZhciBIT1VSID0gMztcbnZhciBNSU5VVEUgPSA0O1xudmFyIFNFQ09ORCA9IDU7XG52YXIgTUlMTElTRUNPTkQgPSA2O1xudmFyIFdFRUsgPSA3O1xudmFyIFdFRUtEQVkgPSA4O1xuXG52YXIgaW5kZXhPZjtcblxuaWYgKEFycmF5LnByb3RvdHlwZS5pbmRleE9mKSB7XG4gICAgaW5kZXhPZiA9IEFycmF5LnByb3RvdHlwZS5pbmRleE9mO1xufSBlbHNlIHtcbiAgICBpbmRleE9mID0gZnVuY3Rpb24gKG8pIHtcbiAgICAgICAgLy8gSSBrbm93XG4gICAgICAgIHZhciBpO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgaWYgKHRoaXNbaV0gPT09IG8pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gLTE7XG4gICAgfTtcbn1cblxudmFyIGluZGV4T2YkMSA9IGluZGV4T2Y7XG5cbmZ1bmN0aW9uIGRheXNJbk1vbnRoKHllYXIsIG1vbnRoKSB7XG4gICAgcmV0dXJuIG5ldyBEYXRlKERhdGUuVVRDKHllYXIsIG1vbnRoICsgMSwgMCkpLmdldFVUQ0RhdGUoKTtcbn1cblxuLy8gRk9STUFUVElOR1xuXG5hZGRGb3JtYXRUb2tlbignTScsIFsnTU0nLCAyXSwgJ01vJywgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLm1vbnRoKCkgKyAxO1xufSk7XG5cbmFkZEZvcm1hdFRva2VuKCdNTU0nLCAwLCAwLCBmdW5jdGlvbiAoZm9ybWF0KSB7XG4gICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLm1vbnRoc1Nob3J0KHRoaXMsIGZvcm1hdCk7XG59KTtcblxuYWRkRm9ybWF0VG9rZW4oJ01NTU0nLCAwLCAwLCBmdW5jdGlvbiAoZm9ybWF0KSB7XG4gICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLm1vbnRocyh0aGlzLCBmb3JtYXQpO1xufSk7XG5cbi8vIEFMSUFTRVNcblxuYWRkVW5pdEFsaWFzKCdtb250aCcsICdNJyk7XG5cbi8vIFBSSU9SSVRZXG5cbmFkZFVuaXRQcmlvcml0eSgnbW9udGgnLCA4KTtcblxuLy8gUEFSU0lOR1xuXG5hZGRSZWdleFRva2VuKCdNJywgICAgbWF0Y2gxdG8yKTtcbmFkZFJlZ2V4VG9rZW4oJ01NJywgICBtYXRjaDF0bzIsIG1hdGNoMik7XG5hZGRSZWdleFRva2VuKCdNTU0nLCAgZnVuY3Rpb24gKGlzU3RyaWN0LCBsb2NhbGUpIHtcbiAgICByZXR1cm4gbG9jYWxlLm1vbnRoc1Nob3J0UmVnZXgoaXNTdHJpY3QpO1xufSk7XG5hZGRSZWdleFRva2VuKCdNTU1NJywgZnVuY3Rpb24gKGlzU3RyaWN0LCBsb2NhbGUpIHtcbiAgICByZXR1cm4gbG9jYWxlLm1vbnRoc1JlZ2V4KGlzU3RyaWN0KTtcbn0pO1xuXG5hZGRQYXJzZVRva2VuKFsnTScsICdNTSddLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5KSB7XG4gICAgYXJyYXlbTU9OVEhdID0gdG9JbnQoaW5wdXQpIC0gMTtcbn0pO1xuXG5hZGRQYXJzZVRva2VuKFsnTU1NJywgJ01NTU0nXSwgZnVuY3Rpb24gKGlucHV0LCBhcnJheSwgY29uZmlnLCB0b2tlbikge1xuICAgIHZhciBtb250aCA9IGNvbmZpZy5fbG9jYWxlLm1vbnRoc1BhcnNlKGlucHV0LCB0b2tlbiwgY29uZmlnLl9zdHJpY3QpO1xuICAgIC8vIGlmIHdlIGRpZG4ndCBmaW5kIGEgbW9udGggbmFtZSwgbWFyayB0aGUgZGF0ZSBhcyBpbnZhbGlkLlxuICAgIGlmIChtb250aCAhPSBudWxsKSB7XG4gICAgICAgIGFycmF5W01PTlRIXSA9IG1vbnRoO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmludmFsaWRNb250aCA9IGlucHV0O1xuICAgIH1cbn0pO1xuXG4vLyBMT0NBTEVTXG5cbnZhciBNT05USFNfSU5fRk9STUFUID0gL0Rbb0RdPyhcXFtbXlxcW1xcXV0qXFxdfFxccykrTU1NTT8vO1xudmFyIGRlZmF1bHRMb2NhbGVNb250aHMgPSAnSmFudWFyeV9GZWJydWFyeV9NYXJjaF9BcHJpbF9NYXlfSnVuZV9KdWx5X0F1Z3VzdF9TZXB0ZW1iZXJfT2N0b2Jlcl9Ob3ZlbWJlcl9EZWNlbWJlcicuc3BsaXQoJ18nKTtcbmZ1bmN0aW9uIGxvY2FsZU1vbnRocyAobSwgZm9ybWF0KSB7XG4gICAgaWYgKCFtKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tb250aHM7XG4gICAgfVxuICAgIHJldHVybiBpc0FycmF5KHRoaXMuX21vbnRocykgPyB0aGlzLl9tb250aHNbbS5tb250aCgpXSA6XG4gICAgICAgIHRoaXMuX21vbnRoc1sodGhpcy5fbW9udGhzLmlzRm9ybWF0IHx8IE1PTlRIU19JTl9GT1JNQVQpLnRlc3QoZm9ybWF0KSA/ICdmb3JtYXQnIDogJ3N0YW5kYWxvbmUnXVttLm1vbnRoKCldO1xufVxuXG52YXIgZGVmYXVsdExvY2FsZU1vbnRoc1Nob3J0ID0gJ0phbl9GZWJfTWFyX0Fwcl9NYXlfSnVuX0p1bF9BdWdfU2VwX09jdF9Ob3ZfRGVjJy5zcGxpdCgnXycpO1xuZnVuY3Rpb24gbG9jYWxlTW9udGhzU2hvcnQgKG0sIGZvcm1hdCkge1xuICAgIGlmICghbSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbW9udGhzU2hvcnQ7XG4gICAgfVxuICAgIHJldHVybiBpc0FycmF5KHRoaXMuX21vbnRoc1Nob3J0KSA/IHRoaXMuX21vbnRoc1Nob3J0W20ubW9udGgoKV0gOlxuICAgICAgICB0aGlzLl9tb250aHNTaG9ydFtNT05USFNfSU5fRk9STUFULnRlc3QoZm9ybWF0KSA/ICdmb3JtYXQnIDogJ3N0YW5kYWxvbmUnXVttLm1vbnRoKCldO1xufVxuXG5mdW5jdGlvbiBoYW5kbGVTdHJpY3RQYXJzZShtb250aE5hbWUsIGZvcm1hdCwgc3RyaWN0KSB7XG4gICAgdmFyIGksIGlpLCBtb20sIGxsYyA9IG1vbnRoTmFtZS50b0xvY2FsZUxvd2VyQ2FzZSgpO1xuICAgIGlmICghdGhpcy5fbW9udGhzUGFyc2UpIHtcbiAgICAgICAgLy8gdGhpcyBpcyBub3QgdXNlZFxuICAgICAgICB0aGlzLl9tb250aHNQYXJzZSA9IFtdO1xuICAgICAgICB0aGlzLl9sb25nTW9udGhzUGFyc2UgPSBbXTtcbiAgICAgICAgdGhpcy5fc2hvcnRNb250aHNQYXJzZSA9IFtdO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgMTI7ICsraSkge1xuICAgICAgICAgICAgbW9tID0gY3JlYXRlVVRDKFsyMDAwLCBpXSk7XG4gICAgICAgICAgICB0aGlzLl9zaG9ydE1vbnRoc1BhcnNlW2ldID0gdGhpcy5tb250aHNTaG9ydChtb20sICcnKS50b0xvY2FsZUxvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgdGhpcy5fbG9uZ01vbnRoc1BhcnNlW2ldID0gdGhpcy5tb250aHMobW9tLCAnJykudG9Mb2NhbGVMb3dlckNhc2UoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmIChzdHJpY3QpIHtcbiAgICAgICAgaWYgKGZvcm1hdCA9PT0gJ01NTScpIHtcbiAgICAgICAgICAgIGlpID0gaW5kZXhPZiQxLmNhbGwodGhpcy5fc2hvcnRNb250aHNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgIHJldHVybiBpaSAhPT0gLTEgPyBpaSA6IG51bGw7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpaSA9IGluZGV4T2YkMS5jYWxsKHRoaXMuX2xvbmdNb250aHNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgIHJldHVybiBpaSAhPT0gLTEgPyBpaSA6IG51bGw7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoZm9ybWF0ID09PSAnTU1NJykge1xuICAgICAgICAgICAgaWkgPSBpbmRleE9mJDEuY2FsbCh0aGlzLl9zaG9ydE1vbnRoc1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgaWYgKGlpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlpID0gaW5kZXhPZiQxLmNhbGwodGhpcy5fbG9uZ01vbnRoc1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgcmV0dXJuIGlpICE9PSAtMSA/IGlpIDogbnVsbDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlpID0gaW5kZXhPZiQxLmNhbGwodGhpcy5fbG9uZ01vbnRoc1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgaWYgKGlpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlpID0gaW5kZXhPZiQxLmNhbGwodGhpcy5fc2hvcnRNb250aHNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgIHJldHVybiBpaSAhPT0gLTEgPyBpaSA6IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIGxvY2FsZU1vbnRoc1BhcnNlIChtb250aE5hbWUsIGZvcm1hdCwgc3RyaWN0KSB7XG4gICAgdmFyIGksIG1vbSwgcmVnZXg7XG5cbiAgICBpZiAodGhpcy5fbW9udGhzUGFyc2VFeGFjdCkge1xuICAgICAgICByZXR1cm4gaGFuZGxlU3RyaWN0UGFyc2UuY2FsbCh0aGlzLCBtb250aE5hbWUsIGZvcm1hdCwgc3RyaWN0KTtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuX21vbnRoc1BhcnNlKSB7XG4gICAgICAgIHRoaXMuX21vbnRoc1BhcnNlID0gW107XG4gICAgICAgIHRoaXMuX2xvbmdNb250aHNQYXJzZSA9IFtdO1xuICAgICAgICB0aGlzLl9zaG9ydE1vbnRoc1BhcnNlID0gW107XG4gICAgfVxuXG4gICAgLy8gVE9ETzogYWRkIHNvcnRpbmdcbiAgICAvLyBTb3J0aW5nIG1ha2VzIHN1cmUgaWYgb25lIG1vbnRoIChvciBhYmJyKSBpcyBhIHByZWZpeCBvZiBhbm90aGVyXG4gICAgLy8gc2VlIHNvcnRpbmcgaW4gY29tcHV0ZU1vbnRoc1BhcnNlXG4gICAgZm9yIChpID0gMDsgaSA8IDEyOyBpKyspIHtcbiAgICAgICAgLy8gbWFrZSB0aGUgcmVnZXggaWYgd2UgZG9uJ3QgaGF2ZSBpdCBhbHJlYWR5XG4gICAgICAgIG1vbSA9IGNyZWF0ZVVUQyhbMjAwMCwgaV0pO1xuICAgICAgICBpZiAoc3RyaWN0ICYmICF0aGlzLl9sb25nTW9udGhzUGFyc2VbaV0pIHtcbiAgICAgICAgICAgIHRoaXMuX2xvbmdNb250aHNQYXJzZVtpXSA9IG5ldyBSZWdFeHAoJ14nICsgdGhpcy5tb250aHMobW9tLCAnJykucmVwbGFjZSgnLicsICcnKSArICckJywgJ2knKTtcbiAgICAgICAgICAgIHRoaXMuX3Nob3J0TW9udGhzUGFyc2VbaV0gPSBuZXcgUmVnRXhwKCdeJyArIHRoaXMubW9udGhzU2hvcnQobW9tLCAnJykucmVwbGFjZSgnLicsICcnKSArICckJywgJ2knKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXN0cmljdCAmJiAhdGhpcy5fbW9udGhzUGFyc2VbaV0pIHtcbiAgICAgICAgICAgIHJlZ2V4ID0gJ14nICsgdGhpcy5tb250aHMobW9tLCAnJykgKyAnfF4nICsgdGhpcy5tb250aHNTaG9ydChtb20sICcnKTtcbiAgICAgICAgICAgIHRoaXMuX21vbnRoc1BhcnNlW2ldID0gbmV3IFJlZ0V4cChyZWdleC5yZXBsYWNlKCcuJywgJycpLCAnaScpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHRlc3QgdGhlIHJlZ2V4XG4gICAgICAgIGlmIChzdHJpY3QgJiYgZm9ybWF0ID09PSAnTU1NTScgJiYgdGhpcy5fbG9uZ01vbnRoc1BhcnNlW2ldLnRlc3QobW9udGhOYW1lKSkge1xuICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgIH0gZWxzZSBpZiAoc3RyaWN0ICYmIGZvcm1hdCA9PT0gJ01NTScgJiYgdGhpcy5fc2hvcnRNb250aHNQYXJzZVtpXS50ZXN0KG1vbnRoTmFtZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICB9IGVsc2UgaWYgKCFzdHJpY3QgJiYgdGhpcy5fbW9udGhzUGFyc2VbaV0udGVzdChtb250aE5hbWUpKSB7XG4gICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLy8gTU9NRU5UU1xuXG5mdW5jdGlvbiBzZXRNb250aCAobW9tLCB2YWx1ZSkge1xuICAgIHZhciBkYXlPZk1vbnRoO1xuXG4gICAgaWYgKCFtb20uaXNWYWxpZCgpKSB7XG4gICAgICAgIC8vIE5vIG9wXG4gICAgICAgIHJldHVybiBtb207XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgaWYgKC9eXFxkKyQvLnRlc3QodmFsdWUpKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IHRvSW50KHZhbHVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhbHVlID0gbW9tLmxvY2FsZURhdGEoKS5tb250aHNQYXJzZSh2YWx1ZSk7XG4gICAgICAgICAgICAvLyBUT0RPOiBBbm90aGVyIHNpbGVudCBmYWlsdXJlP1xuICAgICAgICAgICAgaWYgKCFpc051bWJlcih2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbW9tO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZGF5T2ZNb250aCA9IE1hdGgubWluKG1vbS5kYXRlKCksIGRheXNJbk1vbnRoKG1vbS55ZWFyKCksIHZhbHVlKSk7XG4gICAgbW9tLl9kWydzZXQnICsgKG1vbS5faXNVVEMgPyAnVVRDJyA6ICcnKSArICdNb250aCddKHZhbHVlLCBkYXlPZk1vbnRoKTtcbiAgICByZXR1cm4gbW9tO1xufVxuXG5mdW5jdGlvbiBnZXRTZXRNb250aCAodmFsdWUpIHtcbiAgICBpZiAodmFsdWUgIT0gbnVsbCkge1xuICAgICAgICBzZXRNb250aCh0aGlzLCB2YWx1ZSk7XG4gICAgICAgIGhvb2tzLnVwZGF0ZU9mZnNldCh0aGlzLCB0cnVlKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGdldCh0aGlzLCAnTW9udGgnKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGdldERheXNJbk1vbnRoICgpIHtcbiAgICByZXR1cm4gZGF5c0luTW9udGgodGhpcy55ZWFyKCksIHRoaXMubW9udGgoKSk7XG59XG5cbnZhciBkZWZhdWx0TW9udGhzU2hvcnRSZWdleCA9IG1hdGNoV29yZDtcbmZ1bmN0aW9uIG1vbnRoc1Nob3J0UmVnZXggKGlzU3RyaWN0KSB7XG4gICAgaWYgKHRoaXMuX21vbnRoc1BhcnNlRXhhY3QpIHtcbiAgICAgICAgaWYgKCFoYXNPd25Qcm9wKHRoaXMsICdfbW9udGhzUmVnZXgnKSkge1xuICAgICAgICAgICAgY29tcHV0ZU1vbnRoc1BhcnNlLmNhbGwodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzU3RyaWN0KSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbW9udGhzU2hvcnRTdHJpY3RSZWdleDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9tb250aHNTaG9ydFJlZ2V4O1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKCFoYXNPd25Qcm9wKHRoaXMsICdfbW9udGhzU2hvcnRSZWdleCcpKSB7XG4gICAgICAgICAgICB0aGlzLl9tb250aHNTaG9ydFJlZ2V4ID0gZGVmYXVsdE1vbnRoc1Nob3J0UmVnZXg7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX21vbnRoc1Nob3J0U3RyaWN0UmVnZXggJiYgaXNTdHJpY3QgP1xuICAgICAgICAgICAgdGhpcy5fbW9udGhzU2hvcnRTdHJpY3RSZWdleCA6IHRoaXMuX21vbnRoc1Nob3J0UmVnZXg7XG4gICAgfVxufVxuXG52YXIgZGVmYXVsdE1vbnRoc1JlZ2V4ID0gbWF0Y2hXb3JkO1xuZnVuY3Rpb24gbW9udGhzUmVnZXggKGlzU3RyaWN0KSB7XG4gICAgaWYgKHRoaXMuX21vbnRoc1BhcnNlRXhhY3QpIHtcbiAgICAgICAgaWYgKCFoYXNPd25Qcm9wKHRoaXMsICdfbW9udGhzUmVnZXgnKSkge1xuICAgICAgICAgICAgY29tcHV0ZU1vbnRoc1BhcnNlLmNhbGwodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzU3RyaWN0KSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbW9udGhzU3RyaWN0UmVnZXg7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbW9udGhzUmVnZXg7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoIWhhc093blByb3AodGhpcywgJ19tb250aHNSZWdleCcpKSB7XG4gICAgICAgICAgICB0aGlzLl9tb250aHNSZWdleCA9IGRlZmF1bHRNb250aHNSZWdleDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fbW9udGhzU3RyaWN0UmVnZXggJiYgaXNTdHJpY3QgP1xuICAgICAgICAgICAgdGhpcy5fbW9udGhzU3RyaWN0UmVnZXggOiB0aGlzLl9tb250aHNSZWdleDtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGNvbXB1dGVNb250aHNQYXJzZSAoKSB7XG4gICAgZnVuY3Rpb24gY21wTGVuUmV2KGEsIGIpIHtcbiAgICAgICAgcmV0dXJuIGIubGVuZ3RoIC0gYS5sZW5ndGg7XG4gICAgfVxuXG4gICAgdmFyIHNob3J0UGllY2VzID0gW10sIGxvbmdQaWVjZXMgPSBbXSwgbWl4ZWRQaWVjZXMgPSBbXSxcbiAgICAgICAgaSwgbW9tO1xuICAgIGZvciAoaSA9IDA7IGkgPCAxMjsgaSsrKSB7XG4gICAgICAgIC8vIG1ha2UgdGhlIHJlZ2V4IGlmIHdlIGRvbid0IGhhdmUgaXQgYWxyZWFkeVxuICAgICAgICBtb20gPSBjcmVhdGVVVEMoWzIwMDAsIGldKTtcbiAgICAgICAgc2hvcnRQaWVjZXMucHVzaCh0aGlzLm1vbnRoc1Nob3J0KG1vbSwgJycpKTtcbiAgICAgICAgbG9uZ1BpZWNlcy5wdXNoKHRoaXMubW9udGhzKG1vbSwgJycpKTtcbiAgICAgICAgbWl4ZWRQaWVjZXMucHVzaCh0aGlzLm1vbnRocyhtb20sICcnKSk7XG4gICAgICAgIG1peGVkUGllY2VzLnB1c2godGhpcy5tb250aHNTaG9ydChtb20sICcnKSk7XG4gICAgfVxuICAgIC8vIFNvcnRpbmcgbWFrZXMgc3VyZSBpZiBvbmUgbW9udGggKG9yIGFiYnIpIGlzIGEgcHJlZml4IG9mIGFub3RoZXIgaXRcbiAgICAvLyB3aWxsIG1hdGNoIHRoZSBsb25nZXIgcGllY2UuXG4gICAgc2hvcnRQaWVjZXMuc29ydChjbXBMZW5SZXYpO1xuICAgIGxvbmdQaWVjZXMuc29ydChjbXBMZW5SZXYpO1xuICAgIG1peGVkUGllY2VzLnNvcnQoY21wTGVuUmV2KTtcbiAgICBmb3IgKGkgPSAwOyBpIDwgMTI7IGkrKykge1xuICAgICAgICBzaG9ydFBpZWNlc1tpXSA9IHJlZ2V4RXNjYXBlKHNob3J0UGllY2VzW2ldKTtcbiAgICAgICAgbG9uZ1BpZWNlc1tpXSA9IHJlZ2V4RXNjYXBlKGxvbmdQaWVjZXNbaV0pO1xuICAgIH1cbiAgICBmb3IgKGkgPSAwOyBpIDwgMjQ7IGkrKykge1xuICAgICAgICBtaXhlZFBpZWNlc1tpXSA9IHJlZ2V4RXNjYXBlKG1peGVkUGllY2VzW2ldKTtcbiAgICB9XG5cbiAgICB0aGlzLl9tb250aHNSZWdleCA9IG5ldyBSZWdFeHAoJ14oJyArIG1peGVkUGllY2VzLmpvaW4oJ3wnKSArICcpJywgJ2knKTtcbiAgICB0aGlzLl9tb250aHNTaG9ydFJlZ2V4ID0gdGhpcy5fbW9udGhzUmVnZXg7XG4gICAgdGhpcy5fbW9udGhzU3RyaWN0UmVnZXggPSBuZXcgUmVnRXhwKCdeKCcgKyBsb25nUGllY2VzLmpvaW4oJ3wnKSArICcpJywgJ2knKTtcbiAgICB0aGlzLl9tb250aHNTaG9ydFN0cmljdFJlZ2V4ID0gbmV3IFJlZ0V4cCgnXignICsgc2hvcnRQaWVjZXMuam9pbignfCcpICsgJyknLCAnaScpO1xufVxuXG4vLyBGT1JNQVRUSU5HXG5cbmFkZEZvcm1hdFRva2VuKCdZJywgMCwgMCwgZnVuY3Rpb24gKCkge1xuICAgIHZhciB5ID0gdGhpcy55ZWFyKCk7XG4gICAgcmV0dXJuIHkgPD0gOTk5OSA/ICcnICsgeSA6ICcrJyArIHk7XG59KTtcblxuYWRkRm9ybWF0VG9rZW4oMCwgWydZWScsIDJdLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMueWVhcigpICUgMTAwO1xufSk7XG5cbmFkZEZvcm1hdFRva2VuKDAsIFsnWVlZWScsICAgNF0sICAgICAgIDAsICd5ZWFyJyk7XG5hZGRGb3JtYXRUb2tlbigwLCBbJ1lZWVlZJywgIDVdLCAgICAgICAwLCAneWVhcicpO1xuYWRkRm9ybWF0VG9rZW4oMCwgWydZWVlZWVknLCA2LCB0cnVlXSwgMCwgJ3llYXInKTtcblxuLy8gQUxJQVNFU1xuXG5hZGRVbml0QWxpYXMoJ3llYXInLCAneScpO1xuXG4vLyBQUklPUklUSUVTXG5cbmFkZFVuaXRQcmlvcml0eSgneWVhcicsIDEpO1xuXG4vLyBQQVJTSU5HXG5cbmFkZFJlZ2V4VG9rZW4oJ1knLCAgICAgIG1hdGNoU2lnbmVkKTtcbmFkZFJlZ2V4VG9rZW4oJ1lZJywgICAgIG1hdGNoMXRvMiwgbWF0Y2gyKTtcbmFkZFJlZ2V4VG9rZW4oJ1lZWVknLCAgIG1hdGNoMXRvNCwgbWF0Y2g0KTtcbmFkZFJlZ2V4VG9rZW4oJ1lZWVlZJywgIG1hdGNoMXRvNiwgbWF0Y2g2KTtcbmFkZFJlZ2V4VG9rZW4oJ1lZWVlZWScsIG1hdGNoMXRvNiwgbWF0Y2g2KTtcblxuYWRkUGFyc2VUb2tlbihbJ1lZWVlZJywgJ1lZWVlZWSddLCBZRUFSKTtcbmFkZFBhcnNlVG9rZW4oJ1lZWVknLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5KSB7XG4gICAgYXJyYXlbWUVBUl0gPSBpbnB1dC5sZW5ndGggPT09IDIgPyBob29rcy5wYXJzZVR3b0RpZ2l0WWVhcihpbnB1dCkgOiB0b0ludChpbnB1dCk7XG59KTtcbmFkZFBhcnNlVG9rZW4oJ1lZJywgZnVuY3Rpb24gKGlucHV0LCBhcnJheSkge1xuICAgIGFycmF5W1lFQVJdID0gaG9va3MucGFyc2VUd29EaWdpdFllYXIoaW5wdXQpO1xufSk7XG5hZGRQYXJzZVRva2VuKCdZJywgZnVuY3Rpb24gKGlucHV0LCBhcnJheSkge1xuICAgIGFycmF5W1lFQVJdID0gcGFyc2VJbnQoaW5wdXQsIDEwKTtcbn0pO1xuXG4vLyBIRUxQRVJTXG5cbmZ1bmN0aW9uIGRheXNJblllYXIoeWVhcikge1xuICAgIHJldHVybiBpc0xlYXBZZWFyKHllYXIpID8gMzY2IDogMzY1O1xufVxuXG5mdW5jdGlvbiBpc0xlYXBZZWFyKHllYXIpIHtcbiAgICByZXR1cm4gKHllYXIgJSA0ID09PSAwICYmIHllYXIgJSAxMDAgIT09IDApIHx8IHllYXIgJSA0MDAgPT09IDA7XG59XG5cbi8vIEhPT0tTXG5cbmhvb2tzLnBhcnNlVHdvRGlnaXRZZWFyID0gZnVuY3Rpb24gKGlucHV0KSB7XG4gICAgcmV0dXJuIHRvSW50KGlucHV0KSArICh0b0ludChpbnB1dCkgPiA2OCA/IDE5MDAgOiAyMDAwKTtcbn07XG5cbi8vIE1PTUVOVFNcblxudmFyIGdldFNldFllYXIgPSBtYWtlR2V0U2V0KCdGdWxsWWVhcicsIHRydWUpO1xuXG5mdW5jdGlvbiBnZXRJc0xlYXBZZWFyICgpIHtcbiAgICByZXR1cm4gaXNMZWFwWWVhcih0aGlzLnllYXIoKSk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZURhdGUgKHksIG0sIGQsIGgsIE0sIHMsIG1zKSB7XG4gICAgLy9jYW4ndCBqdXN0IGFwcGx5KCkgdG8gY3JlYXRlIGEgZGF0ZTpcbiAgICAvL2h0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTgxMzQ4L2luc3RhbnRpYXRpbmctYS1qYXZhc2NyaXB0LW9iamVjdC1ieS1jYWxsaW5nLXByb3RvdHlwZS1jb25zdHJ1Y3Rvci1hcHBseVxuICAgIHZhciBkYXRlID0gbmV3IERhdGUoeSwgbSwgZCwgaCwgTSwgcywgbXMpO1xuXG4gICAgLy90aGUgZGF0ZSBjb25zdHJ1Y3RvciByZW1hcHMgeWVhcnMgMC05OSB0byAxOTAwLTE5OTlcbiAgICBpZiAoeSA8IDEwMCAmJiB5ID49IDAgJiYgaXNGaW5pdGUoZGF0ZS5nZXRGdWxsWWVhcigpKSkge1xuICAgICAgICBkYXRlLnNldEZ1bGxZZWFyKHkpO1xuICAgIH1cbiAgICByZXR1cm4gZGF0ZTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlVVRDRGF0ZSAoeSkge1xuICAgIHZhciBkYXRlID0gbmV3IERhdGUoRGF0ZS5VVEMuYXBwbHkobnVsbCwgYXJndW1lbnRzKSk7XG5cbiAgICAvL3RoZSBEYXRlLlVUQyBmdW5jdGlvbiByZW1hcHMgeWVhcnMgMC05OSB0byAxOTAwLTE5OTlcbiAgICBpZiAoeSA8IDEwMCAmJiB5ID49IDAgJiYgaXNGaW5pdGUoZGF0ZS5nZXRVVENGdWxsWWVhcigpKSkge1xuICAgICAgICBkYXRlLnNldFVUQ0Z1bGxZZWFyKHkpO1xuICAgIH1cbiAgICByZXR1cm4gZGF0ZTtcbn1cblxuLy8gc3RhcnQtb2YtZmlyc3Qtd2VlayAtIHN0YXJ0LW9mLXllYXJcbmZ1bmN0aW9uIGZpcnN0V2Vla09mZnNldCh5ZWFyLCBkb3csIGRveSkge1xuICAgIHZhciAvLyBmaXJzdC13ZWVrIGRheSAtLSB3aGljaCBqYW51YXJ5IGlzIGFsd2F5cyBpbiB0aGUgZmlyc3Qgd2VlayAoNCBmb3IgaXNvLCAxIGZvciBvdGhlcilcbiAgICAgICAgZndkID0gNyArIGRvdyAtIGRveSxcbiAgICAgICAgLy8gZmlyc3Qtd2VlayBkYXkgbG9jYWwgd2Vla2RheSAtLSB3aGljaCBsb2NhbCB3ZWVrZGF5IGlzIGZ3ZFxuICAgICAgICBmd2RsdyA9ICg3ICsgY3JlYXRlVVRDRGF0ZSh5ZWFyLCAwLCBmd2QpLmdldFVUQ0RheSgpIC0gZG93KSAlIDc7XG5cbiAgICByZXR1cm4gLWZ3ZGx3ICsgZndkIC0gMTtcbn1cblxuLy9odHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0lTT193ZWVrX2RhdGUjQ2FsY3VsYXRpbmdfYV9kYXRlX2dpdmVuX3RoZV95ZWFyLjJDX3dlZWtfbnVtYmVyX2FuZF93ZWVrZGF5XG5mdW5jdGlvbiBkYXlPZlllYXJGcm9tV2Vla3MoeWVhciwgd2Vlaywgd2Vla2RheSwgZG93LCBkb3kpIHtcbiAgICB2YXIgbG9jYWxXZWVrZGF5ID0gKDcgKyB3ZWVrZGF5IC0gZG93KSAlIDcsXG4gICAgICAgIHdlZWtPZmZzZXQgPSBmaXJzdFdlZWtPZmZzZXQoeWVhciwgZG93LCBkb3kpLFxuICAgICAgICBkYXlPZlllYXIgPSAxICsgNyAqICh3ZWVrIC0gMSkgKyBsb2NhbFdlZWtkYXkgKyB3ZWVrT2Zmc2V0LFxuICAgICAgICByZXNZZWFyLCByZXNEYXlPZlllYXI7XG5cbiAgICBpZiAoZGF5T2ZZZWFyIDw9IDApIHtcbiAgICAgICAgcmVzWWVhciA9IHllYXIgLSAxO1xuICAgICAgICByZXNEYXlPZlllYXIgPSBkYXlzSW5ZZWFyKHJlc1llYXIpICsgZGF5T2ZZZWFyO1xuICAgIH0gZWxzZSBpZiAoZGF5T2ZZZWFyID4gZGF5c0luWWVhcih5ZWFyKSkge1xuICAgICAgICByZXNZZWFyID0geWVhciArIDE7XG4gICAgICAgIHJlc0RheU9mWWVhciA9IGRheU9mWWVhciAtIGRheXNJblllYXIoeWVhcik7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmVzWWVhciA9IHllYXI7XG4gICAgICAgIHJlc0RheU9mWWVhciA9IGRheU9mWWVhcjtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICB5ZWFyOiByZXNZZWFyLFxuICAgICAgICBkYXlPZlllYXI6IHJlc0RheU9mWWVhclxuICAgIH07XG59XG5cbmZ1bmN0aW9uIHdlZWtPZlllYXIobW9tLCBkb3csIGRveSkge1xuICAgIHZhciB3ZWVrT2Zmc2V0ID0gZmlyc3RXZWVrT2Zmc2V0KG1vbS55ZWFyKCksIGRvdywgZG95KSxcbiAgICAgICAgd2VlayA9IE1hdGguZmxvb3IoKG1vbS5kYXlPZlllYXIoKSAtIHdlZWtPZmZzZXQgLSAxKSAvIDcpICsgMSxcbiAgICAgICAgcmVzV2VlaywgcmVzWWVhcjtcblxuICAgIGlmICh3ZWVrIDwgMSkge1xuICAgICAgICByZXNZZWFyID0gbW9tLnllYXIoKSAtIDE7XG4gICAgICAgIHJlc1dlZWsgPSB3ZWVrICsgd2Vla3NJblllYXIocmVzWWVhciwgZG93LCBkb3kpO1xuICAgIH0gZWxzZSBpZiAod2VlayA+IHdlZWtzSW5ZZWFyKG1vbS55ZWFyKCksIGRvdywgZG95KSkge1xuICAgICAgICByZXNXZWVrID0gd2VlayAtIHdlZWtzSW5ZZWFyKG1vbS55ZWFyKCksIGRvdywgZG95KTtcbiAgICAgICAgcmVzWWVhciA9IG1vbS55ZWFyKCkgKyAxO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc1llYXIgPSBtb20ueWVhcigpO1xuICAgICAgICByZXNXZWVrID0gd2VlaztcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICB3ZWVrOiByZXNXZWVrLFxuICAgICAgICB5ZWFyOiByZXNZZWFyXG4gICAgfTtcbn1cblxuZnVuY3Rpb24gd2Vla3NJblllYXIoeWVhciwgZG93LCBkb3kpIHtcbiAgICB2YXIgd2Vla09mZnNldCA9IGZpcnN0V2Vla09mZnNldCh5ZWFyLCBkb3csIGRveSksXG4gICAgICAgIHdlZWtPZmZzZXROZXh0ID0gZmlyc3RXZWVrT2Zmc2V0KHllYXIgKyAxLCBkb3csIGRveSk7XG4gICAgcmV0dXJuIChkYXlzSW5ZZWFyKHllYXIpIC0gd2Vla09mZnNldCArIHdlZWtPZmZzZXROZXh0KSAvIDc7XG59XG5cbi8vIEZPUk1BVFRJTkdcblxuYWRkRm9ybWF0VG9rZW4oJ3cnLCBbJ3d3JywgMl0sICd3bycsICd3ZWVrJyk7XG5hZGRGb3JtYXRUb2tlbignVycsIFsnV1cnLCAyXSwgJ1dvJywgJ2lzb1dlZWsnKTtcblxuLy8gQUxJQVNFU1xuXG5hZGRVbml0QWxpYXMoJ3dlZWsnLCAndycpO1xuYWRkVW5pdEFsaWFzKCdpc29XZWVrJywgJ1cnKTtcblxuLy8gUFJJT1JJVElFU1xuXG5hZGRVbml0UHJpb3JpdHkoJ3dlZWsnLCA1KTtcbmFkZFVuaXRQcmlvcml0eSgnaXNvV2VlaycsIDUpO1xuXG4vLyBQQVJTSU5HXG5cbmFkZFJlZ2V4VG9rZW4oJ3cnLCAgbWF0Y2gxdG8yKTtcbmFkZFJlZ2V4VG9rZW4oJ3d3JywgbWF0Y2gxdG8yLCBtYXRjaDIpO1xuYWRkUmVnZXhUb2tlbignVycsICBtYXRjaDF0bzIpO1xuYWRkUmVnZXhUb2tlbignV1cnLCBtYXRjaDF0bzIsIG1hdGNoMik7XG5cbmFkZFdlZWtQYXJzZVRva2VuKFsndycsICd3dycsICdXJywgJ1dXJ10sIGZ1bmN0aW9uIChpbnB1dCwgd2VlaywgY29uZmlnLCB0b2tlbikge1xuICAgIHdlZWtbdG9rZW4uc3Vic3RyKDAsIDEpXSA9IHRvSW50KGlucHV0KTtcbn0pO1xuXG4vLyBIRUxQRVJTXG5cbi8vIExPQ0FMRVNcblxuZnVuY3Rpb24gbG9jYWxlV2VlayAobW9tKSB7XG4gICAgcmV0dXJuIHdlZWtPZlllYXIobW9tLCB0aGlzLl93ZWVrLmRvdywgdGhpcy5fd2Vlay5kb3kpLndlZWs7XG59XG5cbnZhciBkZWZhdWx0TG9jYWxlV2VlayA9IHtcbiAgICBkb3cgOiAwLCAvLyBTdW5kYXkgaXMgdGhlIGZpcnN0IGRheSBvZiB0aGUgd2Vlay5cbiAgICBkb3kgOiA2ICAvLyBUaGUgd2VlayB0aGF0IGNvbnRhaW5zIEphbiAxc3QgaXMgdGhlIGZpcnN0IHdlZWsgb2YgdGhlIHllYXIuXG59O1xuXG5mdW5jdGlvbiBsb2NhbGVGaXJzdERheU9mV2VlayAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3dlZWsuZG93O1xufVxuXG5mdW5jdGlvbiBsb2NhbGVGaXJzdERheU9mWWVhciAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3dlZWsuZG95O1xufVxuXG4vLyBNT01FTlRTXG5cbmZ1bmN0aW9uIGdldFNldFdlZWsgKGlucHV0KSB7XG4gICAgdmFyIHdlZWsgPSB0aGlzLmxvY2FsZURhdGEoKS53ZWVrKHRoaXMpO1xuICAgIHJldHVybiBpbnB1dCA9PSBudWxsID8gd2VlayA6IHRoaXMuYWRkKChpbnB1dCAtIHdlZWspICogNywgJ2QnKTtcbn1cblxuZnVuY3Rpb24gZ2V0U2V0SVNPV2VlayAoaW5wdXQpIHtcbiAgICB2YXIgd2VlayA9IHdlZWtPZlllYXIodGhpcywgMSwgNCkud2VlaztcbiAgICByZXR1cm4gaW5wdXQgPT0gbnVsbCA/IHdlZWsgOiB0aGlzLmFkZCgoaW5wdXQgLSB3ZWVrKSAqIDcsICdkJyk7XG59XG5cbi8vIEZPUk1BVFRJTkdcblxuYWRkRm9ybWF0VG9rZW4oJ2QnLCAwLCAnZG8nLCAnZGF5Jyk7XG5cbmFkZEZvcm1hdFRva2VuKCdkZCcsIDAsIDAsIGZ1bmN0aW9uIChmb3JtYXQpIHtcbiAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkud2Vla2RheXNNaW4odGhpcywgZm9ybWF0KTtcbn0pO1xuXG5hZGRGb3JtYXRUb2tlbignZGRkJywgMCwgMCwgZnVuY3Rpb24gKGZvcm1hdCkge1xuICAgIHJldHVybiB0aGlzLmxvY2FsZURhdGEoKS53ZWVrZGF5c1Nob3J0KHRoaXMsIGZvcm1hdCk7XG59KTtcblxuYWRkRm9ybWF0VG9rZW4oJ2RkZGQnLCAwLCAwLCBmdW5jdGlvbiAoZm9ybWF0KSB7XG4gICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLndlZWtkYXlzKHRoaXMsIGZvcm1hdCk7XG59KTtcblxuYWRkRm9ybWF0VG9rZW4oJ2UnLCAwLCAwLCAnd2Vla2RheScpO1xuYWRkRm9ybWF0VG9rZW4oJ0UnLCAwLCAwLCAnaXNvV2Vla2RheScpO1xuXG4vLyBBTElBU0VTXG5cbmFkZFVuaXRBbGlhcygnZGF5JywgJ2QnKTtcbmFkZFVuaXRBbGlhcygnd2Vla2RheScsICdlJyk7XG5hZGRVbml0QWxpYXMoJ2lzb1dlZWtkYXknLCAnRScpO1xuXG4vLyBQUklPUklUWVxuYWRkVW5pdFByaW9yaXR5KCdkYXknLCAxMSk7XG5hZGRVbml0UHJpb3JpdHkoJ3dlZWtkYXknLCAxMSk7XG5hZGRVbml0UHJpb3JpdHkoJ2lzb1dlZWtkYXknLCAxMSk7XG5cbi8vIFBBUlNJTkdcblxuYWRkUmVnZXhUb2tlbignZCcsICAgIG1hdGNoMXRvMik7XG5hZGRSZWdleFRva2VuKCdlJywgICAgbWF0Y2gxdG8yKTtcbmFkZFJlZ2V4VG9rZW4oJ0UnLCAgICBtYXRjaDF0bzIpO1xuYWRkUmVnZXhUb2tlbignZGQnLCAgIGZ1bmN0aW9uIChpc1N0cmljdCwgbG9jYWxlKSB7XG4gICAgcmV0dXJuIGxvY2FsZS53ZWVrZGF5c01pblJlZ2V4KGlzU3RyaWN0KTtcbn0pO1xuYWRkUmVnZXhUb2tlbignZGRkJywgICBmdW5jdGlvbiAoaXNTdHJpY3QsIGxvY2FsZSkge1xuICAgIHJldHVybiBsb2NhbGUud2Vla2RheXNTaG9ydFJlZ2V4KGlzU3RyaWN0KTtcbn0pO1xuYWRkUmVnZXhUb2tlbignZGRkZCcsICAgZnVuY3Rpb24gKGlzU3RyaWN0LCBsb2NhbGUpIHtcbiAgICByZXR1cm4gbG9jYWxlLndlZWtkYXlzUmVnZXgoaXNTdHJpY3QpO1xufSk7XG5cbmFkZFdlZWtQYXJzZVRva2VuKFsnZGQnLCAnZGRkJywgJ2RkZGQnXSwgZnVuY3Rpb24gKGlucHV0LCB3ZWVrLCBjb25maWcsIHRva2VuKSB7XG4gICAgdmFyIHdlZWtkYXkgPSBjb25maWcuX2xvY2FsZS53ZWVrZGF5c1BhcnNlKGlucHV0LCB0b2tlbiwgY29uZmlnLl9zdHJpY3QpO1xuICAgIC8vIGlmIHdlIGRpZG4ndCBnZXQgYSB3ZWVrZGF5IG5hbWUsIG1hcmsgdGhlIGRhdGUgYXMgaW52YWxpZFxuICAgIGlmICh3ZWVrZGF5ICE9IG51bGwpIHtcbiAgICAgICAgd2Vlay5kID0gd2Vla2RheTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5pbnZhbGlkV2Vla2RheSA9IGlucHV0O1xuICAgIH1cbn0pO1xuXG5hZGRXZWVrUGFyc2VUb2tlbihbJ2QnLCAnZScsICdFJ10sIGZ1bmN0aW9uIChpbnB1dCwgd2VlaywgY29uZmlnLCB0b2tlbikge1xuICAgIHdlZWtbdG9rZW5dID0gdG9JbnQoaW5wdXQpO1xufSk7XG5cbi8vIEhFTFBFUlNcblxuZnVuY3Rpb24gcGFyc2VXZWVrZGF5KGlucHV0LCBsb2NhbGUpIHtcbiAgICBpZiAodHlwZW9mIGlucHV0ICE9PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gaW5wdXQ7XG4gICAgfVxuXG4gICAgaWYgKCFpc05hTihpbnB1dCkpIHtcbiAgICAgICAgcmV0dXJuIHBhcnNlSW50KGlucHV0LCAxMCk7XG4gICAgfVxuXG4gICAgaW5wdXQgPSBsb2NhbGUud2Vla2RheXNQYXJzZShpbnB1dCk7XG4gICAgaWYgKHR5cGVvZiBpbnB1dCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgcmV0dXJuIGlucHV0O1xuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xufVxuXG5mdW5jdGlvbiBwYXJzZUlzb1dlZWtkYXkoaW5wdXQsIGxvY2FsZSkge1xuICAgIGlmICh0eXBlb2YgaW5wdXQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiBsb2NhbGUud2Vla2RheXNQYXJzZShpbnB1dCkgJSA3IHx8IDc7XG4gICAgfVxuICAgIHJldHVybiBpc05hTihpbnB1dCkgPyBudWxsIDogaW5wdXQ7XG59XG5cbi8vIExPQ0FMRVNcblxudmFyIGRlZmF1bHRMb2NhbGVXZWVrZGF5cyA9ICdTdW5kYXlfTW9uZGF5X1R1ZXNkYXlfV2VkbmVzZGF5X1RodXJzZGF5X0ZyaWRheV9TYXR1cmRheScuc3BsaXQoJ18nKTtcbmZ1bmN0aW9uIGxvY2FsZVdlZWtkYXlzIChtLCBmb3JtYXQpIHtcbiAgICBpZiAoIW0pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3dlZWtkYXlzO1xuICAgIH1cbiAgICByZXR1cm4gaXNBcnJheSh0aGlzLl93ZWVrZGF5cykgPyB0aGlzLl93ZWVrZGF5c1ttLmRheSgpXSA6XG4gICAgICAgIHRoaXMuX3dlZWtkYXlzW3RoaXMuX3dlZWtkYXlzLmlzRm9ybWF0LnRlc3QoZm9ybWF0KSA/ICdmb3JtYXQnIDogJ3N0YW5kYWxvbmUnXVttLmRheSgpXTtcbn1cblxudmFyIGRlZmF1bHRMb2NhbGVXZWVrZGF5c1Nob3J0ID0gJ1N1bl9Nb25fVHVlX1dlZF9UaHVfRnJpX1NhdCcuc3BsaXQoJ18nKTtcbmZ1bmN0aW9uIGxvY2FsZVdlZWtkYXlzU2hvcnQgKG0pIHtcbiAgICByZXR1cm4gKG0pID8gdGhpcy5fd2Vla2RheXNTaG9ydFttLmRheSgpXSA6IHRoaXMuX3dlZWtkYXlzU2hvcnQ7XG59XG5cbnZhciBkZWZhdWx0TG9jYWxlV2Vla2RheXNNaW4gPSAnU3VfTW9fVHVfV2VfVGhfRnJfU2EnLnNwbGl0KCdfJyk7XG5mdW5jdGlvbiBsb2NhbGVXZWVrZGF5c01pbiAobSkge1xuICAgIHJldHVybiAobSkgPyB0aGlzLl93ZWVrZGF5c01pblttLmRheSgpXSA6IHRoaXMuX3dlZWtkYXlzTWluO1xufVxuXG5mdW5jdGlvbiBoYW5kbGVTdHJpY3RQYXJzZSQxKHdlZWtkYXlOYW1lLCBmb3JtYXQsIHN0cmljdCkge1xuICAgIHZhciBpLCBpaSwgbW9tLCBsbGMgPSB3ZWVrZGF5TmFtZS50b0xvY2FsZUxvd2VyQ2FzZSgpO1xuICAgIGlmICghdGhpcy5fd2Vla2RheXNQYXJzZSkge1xuICAgICAgICB0aGlzLl93ZWVrZGF5c1BhcnNlID0gW107XG4gICAgICAgIHRoaXMuX3Nob3J0V2Vla2RheXNQYXJzZSA9IFtdO1xuICAgICAgICB0aGlzLl9taW5XZWVrZGF5c1BhcnNlID0gW107XG5cbiAgICAgICAgZm9yIChpID0gMDsgaSA8IDc7ICsraSkge1xuICAgICAgICAgICAgbW9tID0gY3JlYXRlVVRDKFsyMDAwLCAxXSkuZGF5KGkpO1xuICAgICAgICAgICAgdGhpcy5fbWluV2Vla2RheXNQYXJzZVtpXSA9IHRoaXMud2Vla2RheXNNaW4obW9tLCAnJykudG9Mb2NhbGVMb3dlckNhc2UoKTtcbiAgICAgICAgICAgIHRoaXMuX3Nob3J0V2Vla2RheXNQYXJzZVtpXSA9IHRoaXMud2Vla2RheXNTaG9ydChtb20sICcnKS50b0xvY2FsZUxvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgdGhpcy5fd2Vla2RheXNQYXJzZVtpXSA9IHRoaXMud2Vla2RheXMobW9tLCAnJykudG9Mb2NhbGVMb3dlckNhc2UoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmIChzdHJpY3QpIHtcbiAgICAgICAgaWYgKGZvcm1hdCA9PT0gJ2RkZGQnKSB7XG4gICAgICAgICAgICBpaSA9IGluZGV4T2YkMS5jYWxsKHRoaXMuX3dlZWtkYXlzUGFyc2UsIGxsYyk7XG4gICAgICAgICAgICByZXR1cm4gaWkgIT09IC0xID8gaWkgOiBudWxsO1xuICAgICAgICB9IGVsc2UgaWYgKGZvcm1hdCA9PT0gJ2RkZCcpIHtcbiAgICAgICAgICAgIGlpID0gaW5kZXhPZiQxLmNhbGwodGhpcy5fc2hvcnRXZWVrZGF5c1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgcmV0dXJuIGlpICE9PSAtMSA/IGlpIDogbnVsbDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlpID0gaW5kZXhPZiQxLmNhbGwodGhpcy5fbWluV2Vla2RheXNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgIHJldHVybiBpaSAhPT0gLTEgPyBpaSA6IG51bGw7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoZm9ybWF0ID09PSAnZGRkZCcpIHtcbiAgICAgICAgICAgIGlpID0gaW5kZXhPZiQxLmNhbGwodGhpcy5fd2Vla2RheXNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgIGlmIChpaSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaWk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpaSA9IGluZGV4T2YkMS5jYWxsKHRoaXMuX3Nob3J0V2Vla2RheXNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgIGlmIChpaSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaWk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpaSA9IGluZGV4T2YkMS5jYWxsKHRoaXMuX21pbldlZWtkYXlzUGFyc2UsIGxsYyk7XG4gICAgICAgICAgICByZXR1cm4gaWkgIT09IC0xID8gaWkgOiBudWxsO1xuICAgICAgICB9IGVsc2UgaWYgKGZvcm1hdCA9PT0gJ2RkZCcpIHtcbiAgICAgICAgICAgIGlpID0gaW5kZXhPZiQxLmNhbGwodGhpcy5fc2hvcnRXZWVrZGF5c1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgaWYgKGlpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlpID0gaW5kZXhPZiQxLmNhbGwodGhpcy5fd2Vla2RheXNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgIGlmIChpaSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaWk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpaSA9IGluZGV4T2YkMS5jYWxsKHRoaXMuX21pbldlZWtkYXlzUGFyc2UsIGxsYyk7XG4gICAgICAgICAgICByZXR1cm4gaWkgIT09IC0xID8gaWkgOiBudWxsO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWkgPSBpbmRleE9mJDEuY2FsbCh0aGlzLl9taW5XZWVrZGF5c1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgaWYgKGlpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlpID0gaW5kZXhPZiQxLmNhbGwodGhpcy5fd2Vla2RheXNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgIGlmIChpaSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaWk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpaSA9IGluZGV4T2YkMS5jYWxsKHRoaXMuX3Nob3J0V2Vla2RheXNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgIHJldHVybiBpaSAhPT0gLTEgPyBpaSA6IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIGxvY2FsZVdlZWtkYXlzUGFyc2UgKHdlZWtkYXlOYW1lLCBmb3JtYXQsIHN0cmljdCkge1xuICAgIHZhciBpLCBtb20sIHJlZ2V4O1xuXG4gICAgaWYgKHRoaXMuX3dlZWtkYXlzUGFyc2VFeGFjdCkge1xuICAgICAgICByZXR1cm4gaGFuZGxlU3RyaWN0UGFyc2UkMS5jYWxsKHRoaXMsIHdlZWtkYXlOYW1lLCBmb3JtYXQsIHN0cmljdCk7XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLl93ZWVrZGF5c1BhcnNlKSB7XG4gICAgICAgIHRoaXMuX3dlZWtkYXlzUGFyc2UgPSBbXTtcbiAgICAgICAgdGhpcy5fbWluV2Vla2RheXNQYXJzZSA9IFtdO1xuICAgICAgICB0aGlzLl9zaG9ydFdlZWtkYXlzUGFyc2UgPSBbXTtcbiAgICAgICAgdGhpcy5fZnVsbFdlZWtkYXlzUGFyc2UgPSBbXTtcbiAgICB9XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgNzsgaSsrKSB7XG4gICAgICAgIC8vIG1ha2UgdGhlIHJlZ2V4IGlmIHdlIGRvbid0IGhhdmUgaXQgYWxyZWFkeVxuXG4gICAgICAgIG1vbSA9IGNyZWF0ZVVUQyhbMjAwMCwgMV0pLmRheShpKTtcbiAgICAgICAgaWYgKHN0cmljdCAmJiAhdGhpcy5fZnVsbFdlZWtkYXlzUGFyc2VbaV0pIHtcbiAgICAgICAgICAgIHRoaXMuX2Z1bGxXZWVrZGF5c1BhcnNlW2ldID0gbmV3IFJlZ0V4cCgnXicgKyB0aGlzLndlZWtkYXlzKG1vbSwgJycpLnJlcGxhY2UoJy4nLCAnXFwuPycpICsgJyQnLCAnaScpO1xuICAgICAgICAgICAgdGhpcy5fc2hvcnRXZWVrZGF5c1BhcnNlW2ldID0gbmV3IFJlZ0V4cCgnXicgKyB0aGlzLndlZWtkYXlzU2hvcnQobW9tLCAnJykucmVwbGFjZSgnLicsICdcXC4/JykgKyAnJCcsICdpJyk7XG4gICAgICAgICAgICB0aGlzLl9taW5XZWVrZGF5c1BhcnNlW2ldID0gbmV3IFJlZ0V4cCgnXicgKyB0aGlzLndlZWtkYXlzTWluKG1vbSwgJycpLnJlcGxhY2UoJy4nLCAnXFwuPycpICsgJyQnLCAnaScpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5fd2Vla2RheXNQYXJzZVtpXSkge1xuICAgICAgICAgICAgcmVnZXggPSAnXicgKyB0aGlzLndlZWtkYXlzKG1vbSwgJycpICsgJ3xeJyArIHRoaXMud2Vla2RheXNTaG9ydChtb20sICcnKSArICd8XicgKyB0aGlzLndlZWtkYXlzTWluKG1vbSwgJycpO1xuICAgICAgICAgICAgdGhpcy5fd2Vla2RheXNQYXJzZVtpXSA9IG5ldyBSZWdFeHAocmVnZXgucmVwbGFjZSgnLicsICcnKSwgJ2knKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB0ZXN0IHRoZSByZWdleFxuICAgICAgICBpZiAoc3RyaWN0ICYmIGZvcm1hdCA9PT0gJ2RkZGQnICYmIHRoaXMuX2Z1bGxXZWVrZGF5c1BhcnNlW2ldLnRlc3Qod2Vla2RheU5hbWUpKSB7XG4gICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgfSBlbHNlIGlmIChzdHJpY3QgJiYgZm9ybWF0ID09PSAnZGRkJyAmJiB0aGlzLl9zaG9ydFdlZWtkYXlzUGFyc2VbaV0udGVzdCh3ZWVrZGF5TmFtZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICB9IGVsc2UgaWYgKHN0cmljdCAmJiBmb3JtYXQgPT09ICdkZCcgJiYgdGhpcy5fbWluV2Vla2RheXNQYXJzZVtpXS50ZXN0KHdlZWtkYXlOYW1lKSkge1xuICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgIH0gZWxzZSBpZiAoIXN0cmljdCAmJiB0aGlzLl93ZWVrZGF5c1BhcnNlW2ldLnRlc3Qod2Vla2RheU5hbWUpKSB7XG4gICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLy8gTU9NRU5UU1xuXG5mdW5jdGlvbiBnZXRTZXREYXlPZldlZWsgKGlucHV0KSB7XG4gICAgaWYgKCF0aGlzLmlzVmFsaWQoKSkge1xuICAgICAgICByZXR1cm4gaW5wdXQgIT0gbnVsbCA/IHRoaXMgOiBOYU47XG4gICAgfVxuICAgIHZhciBkYXkgPSB0aGlzLl9pc1VUQyA/IHRoaXMuX2QuZ2V0VVRDRGF5KCkgOiB0aGlzLl9kLmdldERheSgpO1xuICAgIGlmIChpbnB1dCAhPSBudWxsKSB7XG4gICAgICAgIGlucHV0ID0gcGFyc2VXZWVrZGF5KGlucHV0LCB0aGlzLmxvY2FsZURhdGEoKSk7XG4gICAgICAgIHJldHVybiB0aGlzLmFkZChpbnB1dCAtIGRheSwgJ2QnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZGF5O1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZ2V0U2V0TG9jYWxlRGF5T2ZXZWVrIChpbnB1dCkge1xuICAgIGlmICghdGhpcy5pc1ZhbGlkKCkpIHtcbiAgICAgICAgcmV0dXJuIGlucHV0ICE9IG51bGwgPyB0aGlzIDogTmFOO1xuICAgIH1cbiAgICB2YXIgd2Vla2RheSA9ICh0aGlzLmRheSgpICsgNyAtIHRoaXMubG9jYWxlRGF0YSgpLl93ZWVrLmRvdykgJSA3O1xuICAgIHJldHVybiBpbnB1dCA9PSBudWxsID8gd2Vla2RheSA6IHRoaXMuYWRkKGlucHV0IC0gd2Vla2RheSwgJ2QnKTtcbn1cblxuZnVuY3Rpb24gZ2V0U2V0SVNPRGF5T2ZXZWVrIChpbnB1dCkge1xuICAgIGlmICghdGhpcy5pc1ZhbGlkKCkpIHtcbiAgICAgICAgcmV0dXJuIGlucHV0ICE9IG51bGwgPyB0aGlzIDogTmFOO1xuICAgIH1cblxuICAgIC8vIGJlaGF2ZXMgdGhlIHNhbWUgYXMgbW9tZW50I2RheSBleGNlcHRcbiAgICAvLyBhcyBhIGdldHRlciwgcmV0dXJucyA3IGluc3RlYWQgb2YgMCAoMS03IHJhbmdlIGluc3RlYWQgb2YgMC02KVxuICAgIC8vIGFzIGEgc2V0dGVyLCBzdW5kYXkgc2hvdWxkIGJlbG9uZyB0byB0aGUgcHJldmlvdXMgd2Vlay5cblxuICAgIGlmIChpbnB1dCAhPSBudWxsKSB7XG4gICAgICAgIHZhciB3ZWVrZGF5ID0gcGFyc2VJc29XZWVrZGF5KGlucHV0LCB0aGlzLmxvY2FsZURhdGEoKSk7XG4gICAgICAgIHJldHVybiB0aGlzLmRheSh0aGlzLmRheSgpICUgNyA/IHdlZWtkYXkgOiB3ZWVrZGF5IC0gNyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF5KCkgfHwgNztcbiAgICB9XG59XG5cbnZhciBkZWZhdWx0V2Vla2RheXNSZWdleCA9IG1hdGNoV29yZDtcbmZ1bmN0aW9uIHdlZWtkYXlzUmVnZXggKGlzU3RyaWN0KSB7XG4gICAgaWYgKHRoaXMuX3dlZWtkYXlzUGFyc2VFeGFjdCkge1xuICAgICAgICBpZiAoIWhhc093blByb3AodGhpcywgJ193ZWVrZGF5c1JlZ2V4JykpIHtcbiAgICAgICAgICAgIGNvbXB1dGVXZWVrZGF5c1BhcnNlLmNhbGwodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzU3RyaWN0KSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fd2Vla2RheXNTdHJpY3RSZWdleDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl93ZWVrZGF5c1JlZ2V4O1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKCFoYXNPd25Qcm9wKHRoaXMsICdfd2Vla2RheXNSZWdleCcpKSB7XG4gICAgICAgICAgICB0aGlzLl93ZWVrZGF5c1JlZ2V4ID0gZGVmYXVsdFdlZWtkYXlzUmVnZXg7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX3dlZWtkYXlzU3RyaWN0UmVnZXggJiYgaXNTdHJpY3QgP1xuICAgICAgICAgICAgdGhpcy5fd2Vla2RheXNTdHJpY3RSZWdleCA6IHRoaXMuX3dlZWtkYXlzUmVnZXg7XG4gICAgfVxufVxuXG52YXIgZGVmYXVsdFdlZWtkYXlzU2hvcnRSZWdleCA9IG1hdGNoV29yZDtcbmZ1bmN0aW9uIHdlZWtkYXlzU2hvcnRSZWdleCAoaXNTdHJpY3QpIHtcbiAgICBpZiAodGhpcy5fd2Vla2RheXNQYXJzZUV4YWN0KSB7XG4gICAgICAgIGlmICghaGFzT3duUHJvcCh0aGlzLCAnX3dlZWtkYXlzUmVnZXgnKSkge1xuICAgICAgICAgICAgY29tcHV0ZVdlZWtkYXlzUGFyc2UuY2FsbCh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNTdHJpY3QpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl93ZWVrZGF5c1Nob3J0U3RyaWN0UmVnZXg7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fd2Vla2RheXNTaG9ydFJlZ2V4O1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKCFoYXNPd25Qcm9wKHRoaXMsICdfd2Vla2RheXNTaG9ydFJlZ2V4JykpIHtcbiAgICAgICAgICAgIHRoaXMuX3dlZWtkYXlzU2hvcnRSZWdleCA9IGRlZmF1bHRXZWVrZGF5c1Nob3J0UmVnZXg7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX3dlZWtkYXlzU2hvcnRTdHJpY3RSZWdleCAmJiBpc1N0cmljdCA/XG4gICAgICAgICAgICB0aGlzLl93ZWVrZGF5c1Nob3J0U3RyaWN0UmVnZXggOiB0aGlzLl93ZWVrZGF5c1Nob3J0UmVnZXg7XG4gICAgfVxufVxuXG52YXIgZGVmYXVsdFdlZWtkYXlzTWluUmVnZXggPSBtYXRjaFdvcmQ7XG5mdW5jdGlvbiB3ZWVrZGF5c01pblJlZ2V4IChpc1N0cmljdCkge1xuICAgIGlmICh0aGlzLl93ZWVrZGF5c1BhcnNlRXhhY3QpIHtcbiAgICAgICAgaWYgKCFoYXNPd25Qcm9wKHRoaXMsICdfd2Vla2RheXNSZWdleCcpKSB7XG4gICAgICAgICAgICBjb21wdXRlV2Vla2RheXNQYXJzZS5jYWxsKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc1N0cmljdCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3dlZWtkYXlzTWluU3RyaWN0UmVnZXg7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fd2Vla2RheXNNaW5SZWdleDtcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICghaGFzT3duUHJvcCh0aGlzLCAnX3dlZWtkYXlzTWluUmVnZXgnKSkge1xuICAgICAgICAgICAgdGhpcy5fd2Vla2RheXNNaW5SZWdleCA9IGRlZmF1bHRXZWVrZGF5c01pblJlZ2V4O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl93ZWVrZGF5c01pblN0cmljdFJlZ2V4ICYmIGlzU3RyaWN0ID9cbiAgICAgICAgICAgIHRoaXMuX3dlZWtkYXlzTWluU3RyaWN0UmVnZXggOiB0aGlzLl93ZWVrZGF5c01pblJlZ2V4O1xuICAgIH1cbn1cblxuXG5mdW5jdGlvbiBjb21wdXRlV2Vla2RheXNQYXJzZSAoKSB7XG4gICAgZnVuY3Rpb24gY21wTGVuUmV2KGEsIGIpIHtcbiAgICAgICAgcmV0dXJuIGIubGVuZ3RoIC0gYS5sZW5ndGg7XG4gICAgfVxuXG4gICAgdmFyIG1pblBpZWNlcyA9IFtdLCBzaG9ydFBpZWNlcyA9IFtdLCBsb25nUGllY2VzID0gW10sIG1peGVkUGllY2VzID0gW10sXG4gICAgICAgIGksIG1vbSwgbWlucCwgc2hvcnRwLCBsb25ncDtcbiAgICBmb3IgKGkgPSAwOyBpIDwgNzsgaSsrKSB7XG4gICAgICAgIC8vIG1ha2UgdGhlIHJlZ2V4IGlmIHdlIGRvbid0IGhhdmUgaXQgYWxyZWFkeVxuICAgICAgICBtb20gPSBjcmVhdGVVVEMoWzIwMDAsIDFdKS5kYXkoaSk7XG4gICAgICAgIG1pbnAgPSB0aGlzLndlZWtkYXlzTWluKG1vbSwgJycpO1xuICAgICAgICBzaG9ydHAgPSB0aGlzLndlZWtkYXlzU2hvcnQobW9tLCAnJyk7XG4gICAgICAgIGxvbmdwID0gdGhpcy53ZWVrZGF5cyhtb20sICcnKTtcbiAgICAgICAgbWluUGllY2VzLnB1c2gobWlucCk7XG4gICAgICAgIHNob3J0UGllY2VzLnB1c2goc2hvcnRwKTtcbiAgICAgICAgbG9uZ1BpZWNlcy5wdXNoKGxvbmdwKTtcbiAgICAgICAgbWl4ZWRQaWVjZXMucHVzaChtaW5wKTtcbiAgICAgICAgbWl4ZWRQaWVjZXMucHVzaChzaG9ydHApO1xuICAgICAgICBtaXhlZFBpZWNlcy5wdXNoKGxvbmdwKTtcbiAgICB9XG4gICAgLy8gU29ydGluZyBtYWtlcyBzdXJlIGlmIG9uZSB3ZWVrZGF5IChvciBhYmJyKSBpcyBhIHByZWZpeCBvZiBhbm90aGVyIGl0XG4gICAgLy8gd2lsbCBtYXRjaCB0aGUgbG9uZ2VyIHBpZWNlLlxuICAgIG1pblBpZWNlcy5zb3J0KGNtcExlblJldik7XG4gICAgc2hvcnRQaWVjZXMuc29ydChjbXBMZW5SZXYpO1xuICAgIGxvbmdQaWVjZXMuc29ydChjbXBMZW5SZXYpO1xuICAgIG1peGVkUGllY2VzLnNvcnQoY21wTGVuUmV2KTtcbiAgICBmb3IgKGkgPSAwOyBpIDwgNzsgaSsrKSB7XG4gICAgICAgIHNob3J0UGllY2VzW2ldID0gcmVnZXhFc2NhcGUoc2hvcnRQaWVjZXNbaV0pO1xuICAgICAgICBsb25nUGllY2VzW2ldID0gcmVnZXhFc2NhcGUobG9uZ1BpZWNlc1tpXSk7XG4gICAgICAgIG1peGVkUGllY2VzW2ldID0gcmVnZXhFc2NhcGUobWl4ZWRQaWVjZXNbaV0pO1xuICAgIH1cblxuICAgIHRoaXMuX3dlZWtkYXlzUmVnZXggPSBuZXcgUmVnRXhwKCdeKCcgKyBtaXhlZFBpZWNlcy5qb2luKCd8JykgKyAnKScsICdpJyk7XG4gICAgdGhpcy5fd2Vla2RheXNTaG9ydFJlZ2V4ID0gdGhpcy5fd2Vla2RheXNSZWdleDtcbiAgICB0aGlzLl93ZWVrZGF5c01pblJlZ2V4ID0gdGhpcy5fd2Vla2RheXNSZWdleDtcblxuICAgIHRoaXMuX3dlZWtkYXlzU3RyaWN0UmVnZXggPSBuZXcgUmVnRXhwKCdeKCcgKyBsb25nUGllY2VzLmpvaW4oJ3wnKSArICcpJywgJ2knKTtcbiAgICB0aGlzLl93ZWVrZGF5c1Nob3J0U3RyaWN0UmVnZXggPSBuZXcgUmVnRXhwKCdeKCcgKyBzaG9ydFBpZWNlcy5qb2luKCd8JykgKyAnKScsICdpJyk7XG4gICAgdGhpcy5fd2Vla2RheXNNaW5TdHJpY3RSZWdleCA9IG5ldyBSZWdFeHAoJ14oJyArIG1pblBpZWNlcy5qb2luKCd8JykgKyAnKScsICdpJyk7XG59XG5cbi8vIEZPUk1BVFRJTkdcblxuZnVuY3Rpb24gaEZvcm1hdCgpIHtcbiAgICByZXR1cm4gdGhpcy5ob3VycygpICUgMTIgfHwgMTI7XG59XG5cbmZ1bmN0aW9uIGtGb3JtYXQoKSB7XG4gICAgcmV0dXJuIHRoaXMuaG91cnMoKSB8fCAyNDtcbn1cblxuYWRkRm9ybWF0VG9rZW4oJ0gnLCBbJ0hIJywgMl0sIDAsICdob3VyJyk7XG5hZGRGb3JtYXRUb2tlbignaCcsIFsnaGgnLCAyXSwgMCwgaEZvcm1hdCk7XG5hZGRGb3JtYXRUb2tlbignaycsIFsna2snLCAyXSwgMCwga0Zvcm1hdCk7XG5cbmFkZEZvcm1hdFRva2VuKCdobW0nLCAwLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuICcnICsgaEZvcm1hdC5hcHBseSh0aGlzKSArIHplcm9GaWxsKHRoaXMubWludXRlcygpLCAyKTtcbn0pO1xuXG5hZGRGb3JtYXRUb2tlbignaG1tc3MnLCAwLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuICcnICsgaEZvcm1hdC5hcHBseSh0aGlzKSArIHplcm9GaWxsKHRoaXMubWludXRlcygpLCAyKSArXG4gICAgICAgIHplcm9GaWxsKHRoaXMuc2Vjb25kcygpLCAyKTtcbn0pO1xuXG5hZGRGb3JtYXRUb2tlbignSG1tJywgMCwgMCwgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAnJyArIHRoaXMuaG91cnMoKSArIHplcm9GaWxsKHRoaXMubWludXRlcygpLCAyKTtcbn0pO1xuXG5hZGRGb3JtYXRUb2tlbignSG1tc3MnLCAwLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuICcnICsgdGhpcy5ob3VycygpICsgemVyb0ZpbGwodGhpcy5taW51dGVzKCksIDIpICtcbiAgICAgICAgemVyb0ZpbGwodGhpcy5zZWNvbmRzKCksIDIpO1xufSk7XG5cbmZ1bmN0aW9uIG1lcmlkaWVtICh0b2tlbiwgbG93ZXJjYXNlKSB7XG4gICAgYWRkRm9ybWF0VG9rZW4odG9rZW4sIDAsIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLm1lcmlkaWVtKHRoaXMuaG91cnMoKSwgdGhpcy5taW51dGVzKCksIGxvd2VyY2FzZSk7XG4gICAgfSk7XG59XG5cbm1lcmlkaWVtKCdhJywgdHJ1ZSk7XG5tZXJpZGllbSgnQScsIGZhbHNlKTtcblxuLy8gQUxJQVNFU1xuXG5hZGRVbml0QWxpYXMoJ2hvdXInLCAnaCcpO1xuXG4vLyBQUklPUklUWVxuYWRkVW5pdFByaW9yaXR5KCdob3VyJywgMTMpO1xuXG4vLyBQQVJTSU5HXG5cbmZ1bmN0aW9uIG1hdGNoTWVyaWRpZW0gKGlzU3RyaWN0LCBsb2NhbGUpIHtcbiAgICByZXR1cm4gbG9jYWxlLl9tZXJpZGllbVBhcnNlO1xufVxuXG5hZGRSZWdleFRva2VuKCdhJywgIG1hdGNoTWVyaWRpZW0pO1xuYWRkUmVnZXhUb2tlbignQScsICBtYXRjaE1lcmlkaWVtKTtcbmFkZFJlZ2V4VG9rZW4oJ0gnLCAgbWF0Y2gxdG8yKTtcbmFkZFJlZ2V4VG9rZW4oJ2gnLCAgbWF0Y2gxdG8yKTtcbmFkZFJlZ2V4VG9rZW4oJ0hIJywgbWF0Y2gxdG8yLCBtYXRjaDIpO1xuYWRkUmVnZXhUb2tlbignaGgnLCBtYXRjaDF0bzIsIG1hdGNoMik7XG5cbmFkZFJlZ2V4VG9rZW4oJ2htbScsIG1hdGNoM3RvNCk7XG5hZGRSZWdleFRva2VuKCdobW1zcycsIG1hdGNoNXRvNik7XG5hZGRSZWdleFRva2VuKCdIbW0nLCBtYXRjaDN0bzQpO1xuYWRkUmVnZXhUb2tlbignSG1tc3MnLCBtYXRjaDV0bzYpO1xuXG5hZGRQYXJzZVRva2VuKFsnSCcsICdISCddLCBIT1VSKTtcbmFkZFBhcnNlVG9rZW4oWydhJywgJ0EnXSwgZnVuY3Rpb24gKGlucHV0LCBhcnJheSwgY29uZmlnKSB7XG4gICAgY29uZmlnLl9pc1BtID0gY29uZmlnLl9sb2NhbGUuaXNQTShpbnB1dCk7XG4gICAgY29uZmlnLl9tZXJpZGllbSA9IGlucHV0O1xufSk7XG5hZGRQYXJzZVRva2VuKFsnaCcsICdoaCddLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcpIHtcbiAgICBhcnJheVtIT1VSXSA9IHRvSW50KGlucHV0KTtcbiAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5iaWdIb3VyID0gdHJ1ZTtcbn0pO1xuYWRkUGFyc2VUb2tlbignaG1tJywgZnVuY3Rpb24gKGlucHV0LCBhcnJheSwgY29uZmlnKSB7XG4gICAgdmFyIHBvcyA9IGlucHV0Lmxlbmd0aCAtIDI7XG4gICAgYXJyYXlbSE9VUl0gPSB0b0ludChpbnB1dC5zdWJzdHIoMCwgcG9zKSk7XG4gICAgYXJyYXlbTUlOVVRFXSA9IHRvSW50KGlucHV0LnN1YnN0cihwb3MpKTtcbiAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5iaWdIb3VyID0gdHJ1ZTtcbn0pO1xuYWRkUGFyc2VUb2tlbignaG1tc3MnLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcpIHtcbiAgICB2YXIgcG9zMSA9IGlucHV0Lmxlbmd0aCAtIDQ7XG4gICAgdmFyIHBvczIgPSBpbnB1dC5sZW5ndGggLSAyO1xuICAgIGFycmF5W0hPVVJdID0gdG9JbnQoaW5wdXQuc3Vic3RyKDAsIHBvczEpKTtcbiAgICBhcnJheVtNSU5VVEVdID0gdG9JbnQoaW5wdXQuc3Vic3RyKHBvczEsIDIpKTtcbiAgICBhcnJheVtTRUNPTkRdID0gdG9JbnQoaW5wdXQuc3Vic3RyKHBvczIpKTtcbiAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5iaWdIb3VyID0gdHJ1ZTtcbn0pO1xuYWRkUGFyc2VUb2tlbignSG1tJywgZnVuY3Rpb24gKGlucHV0LCBhcnJheSwgY29uZmlnKSB7XG4gICAgdmFyIHBvcyA9IGlucHV0Lmxlbmd0aCAtIDI7XG4gICAgYXJyYXlbSE9VUl0gPSB0b0ludChpbnB1dC5zdWJzdHIoMCwgcG9zKSk7XG4gICAgYXJyYXlbTUlOVVRFXSA9IHRvSW50KGlucHV0LnN1YnN0cihwb3MpKTtcbn0pO1xuYWRkUGFyc2VUb2tlbignSG1tc3MnLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcpIHtcbiAgICB2YXIgcG9zMSA9IGlucHV0Lmxlbmd0aCAtIDQ7XG4gICAgdmFyIHBvczIgPSBpbnB1dC5sZW5ndGggLSAyO1xuICAgIGFycmF5W0hPVVJdID0gdG9JbnQoaW5wdXQuc3Vic3RyKDAsIHBvczEpKTtcbiAgICBhcnJheVtNSU5VVEVdID0gdG9JbnQoaW5wdXQuc3Vic3RyKHBvczEsIDIpKTtcbiAgICBhcnJheVtTRUNPTkRdID0gdG9JbnQoaW5wdXQuc3Vic3RyKHBvczIpKTtcbn0pO1xuXG4vLyBMT0NBTEVTXG5cbmZ1bmN0aW9uIGxvY2FsZUlzUE0gKGlucHV0KSB7XG4gICAgLy8gSUU4IFF1aXJrcyBNb2RlICYgSUU3IFN0YW5kYXJkcyBNb2RlIGRvIG5vdCBhbGxvdyBhY2Nlc3Npbmcgc3RyaW5ncyBsaWtlIGFycmF5c1xuICAgIC8vIFVzaW5nIGNoYXJBdCBzaG91bGQgYmUgbW9yZSBjb21wYXRpYmxlLlxuICAgIHJldHVybiAoKGlucHV0ICsgJycpLnRvTG93ZXJDYXNlKCkuY2hhckF0KDApID09PSAncCcpO1xufVxuXG52YXIgZGVmYXVsdExvY2FsZU1lcmlkaWVtUGFyc2UgPSAvW2FwXVxcLj9tP1xcLj8vaTtcbmZ1bmN0aW9uIGxvY2FsZU1lcmlkaWVtIChob3VycywgbWludXRlcywgaXNMb3dlcikge1xuICAgIGlmIChob3VycyA+IDExKSB7XG4gICAgICAgIHJldHVybiBpc0xvd2VyID8gJ3BtJyA6ICdQTSc7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGlzTG93ZXIgPyAnYW0nIDogJ0FNJztcbiAgICB9XG59XG5cblxuLy8gTU9NRU5UU1xuXG4vLyBTZXR0aW5nIHRoZSBob3VyIHNob3VsZCBrZWVwIHRoZSB0aW1lLCBiZWNhdXNlIHRoZSB1c2VyIGV4cGxpY2l0bHlcbi8vIHNwZWNpZmllZCB3aGljaCBob3VyIGhlIHdhbnRzLiBTbyB0cnlpbmcgdG8gbWFpbnRhaW4gdGhlIHNhbWUgaG91ciAoaW5cbi8vIGEgbmV3IHRpbWV6b25lKSBtYWtlcyBzZW5zZS4gQWRkaW5nL3N1YnRyYWN0aW5nIGhvdXJzIGRvZXMgbm90IGZvbGxvd1xuLy8gdGhpcyBydWxlLlxudmFyIGdldFNldEhvdXIgPSBtYWtlR2V0U2V0KCdIb3VycycsIHRydWUpO1xuXG4vLyBtb250aHNcbi8vIHdlZWtcbi8vIHdlZWtkYXlzXG4vLyBtZXJpZGllbVxudmFyIGJhc2VDb25maWcgPSB7XG4gICAgY2FsZW5kYXI6IGRlZmF1bHRDYWxlbmRhcixcbiAgICBsb25nRGF0ZUZvcm1hdDogZGVmYXVsdExvbmdEYXRlRm9ybWF0LFxuICAgIGludmFsaWREYXRlOiBkZWZhdWx0SW52YWxpZERhdGUsXG4gICAgb3JkaW5hbDogZGVmYXVsdE9yZGluYWwsXG4gICAgb3JkaW5hbFBhcnNlOiBkZWZhdWx0T3JkaW5hbFBhcnNlLFxuICAgIHJlbGF0aXZlVGltZTogZGVmYXVsdFJlbGF0aXZlVGltZSxcblxuICAgIG1vbnRoczogZGVmYXVsdExvY2FsZU1vbnRocyxcbiAgICBtb250aHNTaG9ydDogZGVmYXVsdExvY2FsZU1vbnRoc1Nob3J0LFxuXG4gICAgd2VlazogZGVmYXVsdExvY2FsZVdlZWssXG5cbiAgICB3ZWVrZGF5czogZGVmYXVsdExvY2FsZVdlZWtkYXlzLFxuICAgIHdlZWtkYXlzTWluOiBkZWZhdWx0TG9jYWxlV2Vla2RheXNNaW4sXG4gICAgd2Vla2RheXNTaG9ydDogZGVmYXVsdExvY2FsZVdlZWtkYXlzU2hvcnQsXG5cbiAgICBtZXJpZGllbVBhcnNlOiBkZWZhdWx0TG9jYWxlTWVyaWRpZW1QYXJzZVxufTtcblxuLy8gaW50ZXJuYWwgc3RvcmFnZSBmb3IgbG9jYWxlIGNvbmZpZyBmaWxlc1xudmFyIGxvY2FsZXMgPSB7fTtcbnZhciBsb2NhbGVGYW1pbGllcyA9IHt9O1xudmFyIGdsb2JhbExvY2FsZTtcblxuZnVuY3Rpb24gbm9ybWFsaXplTG9jYWxlKGtleSkge1xuICAgIHJldHVybiBrZXkgPyBrZXkudG9Mb3dlckNhc2UoKS5yZXBsYWNlKCdfJywgJy0nKSA6IGtleTtcbn1cblxuLy8gcGljayB0aGUgbG9jYWxlIGZyb20gdGhlIGFycmF5XG4vLyB0cnkgWydlbi1hdScsICdlbi1nYiddIGFzICdlbi1hdScsICdlbi1nYicsICdlbicsIGFzIGluIG1vdmUgdGhyb3VnaCB0aGUgbGlzdCB0cnlpbmcgZWFjaFxuLy8gc3Vic3RyaW5nIGZyb20gbW9zdCBzcGVjaWZpYyB0byBsZWFzdCwgYnV0IG1vdmUgdG8gdGhlIG5leHQgYXJyYXkgaXRlbSBpZiBpdCdzIGEgbW9yZSBzcGVjaWZpYyB2YXJpYW50IHRoYW4gdGhlIGN1cnJlbnQgcm9vdFxuZnVuY3Rpb24gY2hvb3NlTG9jYWxlKG5hbWVzKSB7XG4gICAgdmFyIGkgPSAwLCBqLCBuZXh0LCBsb2NhbGUsIHNwbGl0O1xuXG4gICAgd2hpbGUgKGkgPCBuYW1lcy5sZW5ndGgpIHtcbiAgICAgICAgc3BsaXQgPSBub3JtYWxpemVMb2NhbGUobmFtZXNbaV0pLnNwbGl0KCctJyk7XG4gICAgICAgIGogPSBzcGxpdC5sZW5ndGg7XG4gICAgICAgIG5leHQgPSBub3JtYWxpemVMb2NhbGUobmFtZXNbaSArIDFdKTtcbiAgICAgICAgbmV4dCA9IG5leHQgPyBuZXh0LnNwbGl0KCctJykgOiBudWxsO1xuICAgICAgICB3aGlsZSAoaiA+IDApIHtcbiAgICAgICAgICAgIGxvY2FsZSA9IGxvYWRMb2NhbGUoc3BsaXQuc2xpY2UoMCwgaikuam9pbignLScpKTtcbiAgICAgICAgICAgIGlmIChsb2NhbGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbG9jYWxlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG5leHQgJiYgbmV4dC5sZW5ndGggPj0gaiAmJiBjb21wYXJlQXJyYXlzKHNwbGl0LCBuZXh0LCB0cnVlKSA+PSBqIC0gMSkge1xuICAgICAgICAgICAgICAgIC8vdGhlIG5leHQgYXJyYXkgaXRlbSBpcyBiZXR0ZXIgdGhhbiBhIHNoYWxsb3dlciBzdWJzdHJpbmcgb2YgdGhpcyBvbmVcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGotLTtcbiAgICAgICAgfVxuICAgICAgICBpKys7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuXG5mdW5jdGlvbiBsb2FkTG9jYWxlKG5hbWUpIHtcbiAgICB2YXIgb2xkTG9jYWxlID0gbnVsbDtcbiAgICAvLyBUT0RPOiBGaW5kIGEgYmV0dGVyIHdheSB0byByZWdpc3RlciBhbmQgbG9hZCBhbGwgdGhlIGxvY2FsZXMgaW4gTm9kZVxuICAgIGlmICghbG9jYWxlc1tuYW1lXSAmJiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcpICYmXG4gICAgICAgICAgICBtb2R1bGUgJiYgbW9kdWxlLmV4cG9ydHMpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIG9sZExvY2FsZSA9IGdsb2JhbExvY2FsZS5fYWJicjtcbiAgICAgICAgICAgIHJlcXVpcmUoJy4vbG9jYWxlLycgKyBuYW1lKTtcbiAgICAgICAgICAgIC8vIGJlY2F1c2UgZGVmaW5lTG9jYWxlIGN1cnJlbnRseSBhbHNvIHNldHMgdGhlIGdsb2JhbCBsb2NhbGUsIHdlXG4gICAgICAgICAgICAvLyB3YW50IHRvIHVuZG8gdGhhdCBmb3IgbGF6eSBsb2FkZWQgbG9jYWxlc1xuICAgICAgICAgICAgZ2V0U2V0R2xvYmFsTG9jYWxlKG9sZExvY2FsZSk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHsgfVxuICAgIH1cbiAgICByZXR1cm4gbG9jYWxlc1tuYW1lXTtcbn1cblxuLy8gVGhpcyBmdW5jdGlvbiB3aWxsIGxvYWQgbG9jYWxlIGFuZCB0aGVuIHNldCB0aGUgZ2xvYmFsIGxvY2FsZS4gIElmXG4vLyBubyBhcmd1bWVudHMgYXJlIHBhc3NlZCBpbiwgaXQgd2lsbCBzaW1wbHkgcmV0dXJuIHRoZSBjdXJyZW50IGdsb2JhbFxuLy8gbG9jYWxlIGtleS5cbmZ1bmN0aW9uIGdldFNldEdsb2JhbExvY2FsZSAoa2V5LCB2YWx1ZXMpIHtcbiAgICB2YXIgZGF0YTtcbiAgICBpZiAoa2V5KSB7XG4gICAgICAgIGlmIChpc1VuZGVmaW5lZCh2YWx1ZXMpKSB7XG4gICAgICAgICAgICBkYXRhID0gZ2V0TG9jYWxlKGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBkYXRhID0gZGVmaW5lTG9jYWxlKGtleSwgdmFsdWVzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkYXRhKSB7XG4gICAgICAgICAgICAvLyBtb21lbnQuZHVyYXRpb24uX2xvY2FsZSA9IG1vbWVudC5fbG9jYWxlID0gZGF0YTtcbiAgICAgICAgICAgIGdsb2JhbExvY2FsZSA9IGRhdGE7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZ2xvYmFsTG9jYWxlLl9hYmJyO1xufVxuXG5mdW5jdGlvbiBkZWZpbmVMb2NhbGUgKG5hbWUsIGNvbmZpZykge1xuICAgIGlmIChjb25maWcgIT09IG51bGwpIHtcbiAgICAgICAgdmFyIHBhcmVudENvbmZpZyA9IGJhc2VDb25maWc7XG4gICAgICAgIGNvbmZpZy5hYmJyID0gbmFtZTtcbiAgICAgICAgaWYgKGxvY2FsZXNbbmFtZV0gIT0gbnVsbCkge1xuICAgICAgICAgICAgZGVwcmVjYXRlU2ltcGxlKCdkZWZpbmVMb2NhbGVPdmVycmlkZScsXG4gICAgICAgICAgICAgICAgICAgICd1c2UgbW9tZW50LnVwZGF0ZUxvY2FsZShsb2NhbGVOYW1lLCBjb25maWcpIHRvIGNoYW5nZSAnICtcbiAgICAgICAgICAgICAgICAgICAgJ2FuIGV4aXN0aW5nIGxvY2FsZS4gbW9tZW50LmRlZmluZUxvY2FsZShsb2NhbGVOYW1lLCAnICtcbiAgICAgICAgICAgICAgICAgICAgJ2NvbmZpZykgc2hvdWxkIG9ubHkgYmUgdXNlZCBmb3IgY3JlYXRpbmcgYSBuZXcgbG9jYWxlICcgK1xuICAgICAgICAgICAgICAgICAgICAnU2VlIGh0dHA6Ly9tb21lbnRqcy5jb20vZ3VpZGVzLyMvd2FybmluZ3MvZGVmaW5lLWxvY2FsZS8gZm9yIG1vcmUgaW5mby4nKTtcbiAgICAgICAgICAgIHBhcmVudENvbmZpZyA9IGxvY2FsZXNbbmFtZV0uX2NvbmZpZztcbiAgICAgICAgfSBlbHNlIGlmIChjb25maWcucGFyZW50TG9jYWxlICE9IG51bGwpIHtcbiAgICAgICAgICAgIGlmIChsb2NhbGVzW2NvbmZpZy5wYXJlbnRMb2NhbGVdICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBwYXJlbnRDb25maWcgPSBsb2NhbGVzW2NvbmZpZy5wYXJlbnRMb2NhbGVdLl9jb25maWc7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmICghbG9jYWxlRmFtaWxpZXNbY29uZmlnLnBhcmVudExvY2FsZV0pIHtcbiAgICAgICAgICAgICAgICAgICAgbG9jYWxlRmFtaWxpZXNbY29uZmlnLnBhcmVudExvY2FsZV0gPSBbXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbG9jYWxlRmFtaWxpZXNbY29uZmlnLnBhcmVudExvY2FsZV0ucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZzogY29uZmlnXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbG9jYWxlc1tuYW1lXSA9IG5ldyBMb2NhbGUobWVyZ2VDb25maWdzKHBhcmVudENvbmZpZywgY29uZmlnKSk7XG5cbiAgICAgICAgaWYgKGxvY2FsZUZhbWlsaWVzW25hbWVdKSB7XG4gICAgICAgICAgICBsb2NhbGVGYW1pbGllc1tuYW1lXS5mb3JFYWNoKGZ1bmN0aW9uICh4KSB7XG4gICAgICAgICAgICAgICAgZGVmaW5lTG9jYWxlKHgubmFtZSwgeC5jb25maWcpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBiYWNrd2FyZHMgY29tcGF0IGZvciBub3c6IGFsc28gc2V0IHRoZSBsb2NhbGVcbiAgICAgICAgLy8gbWFrZSBzdXJlIHdlIHNldCB0aGUgbG9jYWxlIEFGVEVSIGFsbCBjaGlsZCBsb2NhbGVzIGhhdmUgYmVlblxuICAgICAgICAvLyBjcmVhdGVkLCBzbyB3ZSB3b24ndCBlbmQgdXAgd2l0aCB0aGUgY2hpbGQgbG9jYWxlIHNldC5cbiAgICAgICAgZ2V0U2V0R2xvYmFsTG9jYWxlKG5hbWUpO1xuXG5cbiAgICAgICAgcmV0dXJuIGxvY2FsZXNbbmFtZV07XG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gdXNlZnVsIGZvciB0ZXN0aW5nXG4gICAgICAgIGRlbGV0ZSBsb2NhbGVzW25hbWVdO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZUxvY2FsZShuYW1lLCBjb25maWcpIHtcbiAgICBpZiAoY29uZmlnICE9IG51bGwpIHtcbiAgICAgICAgdmFyIGxvY2FsZSwgcGFyZW50Q29uZmlnID0gYmFzZUNvbmZpZztcbiAgICAgICAgLy8gTUVSR0VcbiAgICAgICAgaWYgKGxvY2FsZXNbbmFtZV0gIT0gbnVsbCkge1xuICAgICAgICAgICAgcGFyZW50Q29uZmlnID0gbG9jYWxlc1tuYW1lXS5fY29uZmlnO1xuICAgICAgICB9XG4gICAgICAgIGNvbmZpZyA9IG1lcmdlQ29uZmlncyhwYXJlbnRDb25maWcsIGNvbmZpZyk7XG4gICAgICAgIGxvY2FsZSA9IG5ldyBMb2NhbGUoY29uZmlnKTtcbiAgICAgICAgbG9jYWxlLnBhcmVudExvY2FsZSA9IGxvY2FsZXNbbmFtZV07XG4gICAgICAgIGxvY2FsZXNbbmFtZV0gPSBsb2NhbGU7XG5cbiAgICAgICAgLy8gYmFja3dhcmRzIGNvbXBhdCBmb3Igbm93OiBhbHNvIHNldCB0aGUgbG9jYWxlXG4gICAgICAgIGdldFNldEdsb2JhbExvY2FsZShuYW1lKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICAvLyBwYXNzIG51bGwgZm9yIGNvbmZpZyB0byB1bnVwZGF0ZSwgdXNlZnVsIGZvciB0ZXN0c1xuICAgICAgICBpZiAobG9jYWxlc1tuYW1lXSAhPSBudWxsKSB7XG4gICAgICAgICAgICBpZiAobG9jYWxlc1tuYW1lXS5wYXJlbnRMb2NhbGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGxvY2FsZXNbbmFtZV0gPSBsb2NhbGVzW25hbWVdLnBhcmVudExvY2FsZTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobG9jYWxlc1tuYW1lXSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlIGxvY2FsZXNbbmFtZV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGxvY2FsZXNbbmFtZV07XG59XG5cbi8vIHJldHVybnMgbG9jYWxlIGRhdGFcbmZ1bmN0aW9uIGdldExvY2FsZSAoa2V5KSB7XG4gICAgdmFyIGxvY2FsZTtcblxuICAgIGlmIChrZXkgJiYga2V5Ll9sb2NhbGUgJiYga2V5Ll9sb2NhbGUuX2FiYnIpIHtcbiAgICAgICAga2V5ID0ga2V5Ll9sb2NhbGUuX2FiYnI7XG4gICAgfVxuXG4gICAgaWYgKCFrZXkpIHtcbiAgICAgICAgcmV0dXJuIGdsb2JhbExvY2FsZTtcbiAgICB9XG5cbiAgICBpZiAoIWlzQXJyYXkoa2V5KSkge1xuICAgICAgICAvL3Nob3J0LWNpcmN1aXQgZXZlcnl0aGluZyBlbHNlXG4gICAgICAgIGxvY2FsZSA9IGxvYWRMb2NhbGUoa2V5KTtcbiAgICAgICAgaWYgKGxvY2FsZSkge1xuICAgICAgICAgICAgcmV0dXJuIGxvY2FsZTtcbiAgICAgICAgfVxuICAgICAgICBrZXkgPSBba2V5XTtcbiAgICB9XG5cbiAgICByZXR1cm4gY2hvb3NlTG9jYWxlKGtleSk7XG59XG5cbmZ1bmN0aW9uIGxpc3RMb2NhbGVzKCkge1xuICAgIHJldHVybiBrZXlzJDEobG9jYWxlcyk7XG59XG5cbmZ1bmN0aW9uIGNoZWNrT3ZlcmZsb3cgKG0pIHtcbiAgICB2YXIgb3ZlcmZsb3c7XG4gICAgdmFyIGEgPSBtLl9hO1xuXG4gICAgaWYgKGEgJiYgZ2V0UGFyc2luZ0ZsYWdzKG0pLm92ZXJmbG93ID09PSAtMikge1xuICAgICAgICBvdmVyZmxvdyA9XG4gICAgICAgICAgICBhW01PTlRIXSAgICAgICA8IDAgfHwgYVtNT05USF0gICAgICAgPiAxMSAgPyBNT05USCA6XG4gICAgICAgICAgICBhW0RBVEVdICAgICAgICA8IDEgfHwgYVtEQVRFXSAgICAgICAgPiBkYXlzSW5Nb250aChhW1lFQVJdLCBhW01PTlRIXSkgPyBEQVRFIDpcbiAgICAgICAgICAgIGFbSE9VUl0gICAgICAgIDwgMCB8fCBhW0hPVVJdICAgICAgICA+IDI0IHx8IChhW0hPVVJdID09PSAyNCAmJiAoYVtNSU5VVEVdICE9PSAwIHx8IGFbU0VDT05EXSAhPT0gMCB8fCBhW01JTExJU0VDT05EXSAhPT0gMCkpID8gSE9VUiA6XG4gICAgICAgICAgICBhW01JTlVURV0gICAgICA8IDAgfHwgYVtNSU5VVEVdICAgICAgPiA1OSAgPyBNSU5VVEUgOlxuICAgICAgICAgICAgYVtTRUNPTkRdICAgICAgPCAwIHx8IGFbU0VDT05EXSAgICAgID4gNTkgID8gU0VDT05EIDpcbiAgICAgICAgICAgIGFbTUlMTElTRUNPTkRdIDwgMCB8fCBhW01JTExJU0VDT05EXSA+IDk5OSA/IE1JTExJU0VDT05EIDpcbiAgICAgICAgICAgIC0xO1xuXG4gICAgICAgIGlmIChnZXRQYXJzaW5nRmxhZ3MobSkuX292ZXJmbG93RGF5T2ZZZWFyICYmIChvdmVyZmxvdyA8IFlFQVIgfHwgb3ZlcmZsb3cgPiBEQVRFKSkge1xuICAgICAgICAgICAgb3ZlcmZsb3cgPSBEQVRFO1xuICAgICAgICB9XG4gICAgICAgIGlmIChnZXRQYXJzaW5nRmxhZ3MobSkuX292ZXJmbG93V2Vla3MgJiYgb3ZlcmZsb3cgPT09IC0xKSB7XG4gICAgICAgICAgICBvdmVyZmxvdyA9IFdFRUs7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGdldFBhcnNpbmdGbGFncyhtKS5fb3ZlcmZsb3dXZWVrZGF5ICYmIG92ZXJmbG93ID09PSAtMSkge1xuICAgICAgICAgICAgb3ZlcmZsb3cgPSBXRUVLREFZO1xuICAgICAgICB9XG5cbiAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKG0pLm92ZXJmbG93ID0gb3ZlcmZsb3c7XG4gICAgfVxuXG4gICAgcmV0dXJuIG07XG59XG5cbi8vIGlzbyA4NjAxIHJlZ2V4XG4vLyAwMDAwLTAwLTAwIDAwMDAtVzAwIG9yIDAwMDAtVzAwLTAgKyBUICsgMDAgb3IgMDA6MDAgb3IgMDA6MDA6MDAgb3IgMDA6MDA6MDAuMDAwICsgKzAwOjAwIG9yICswMDAwIG9yICswMClcbnZhciBleHRlbmRlZElzb1JlZ2V4ID0gL15cXHMqKCg/OlsrLV1cXGR7Nn18XFxkezR9KS0oPzpcXGRcXGQtXFxkXFxkfFdcXGRcXGQtXFxkfFdcXGRcXGR8XFxkXFxkXFxkfFxcZFxcZCkpKD86KFR8ICkoXFxkXFxkKD86OlxcZFxcZCg/OjpcXGRcXGQoPzpbLixdXFxkKyk/KT8pPykoW1xcK1xcLV1cXGRcXGQoPzo6P1xcZFxcZCk/fFxccypaKT8pPyQvO1xudmFyIGJhc2ljSXNvUmVnZXggPSAvXlxccyooKD86WystXVxcZHs2fXxcXGR7NH0pKD86XFxkXFxkXFxkXFxkfFdcXGRcXGRcXGR8V1xcZFxcZHxcXGRcXGRcXGR8XFxkXFxkKSkoPzooVHwgKShcXGRcXGQoPzpcXGRcXGQoPzpcXGRcXGQoPzpbLixdXFxkKyk/KT8pPykoW1xcK1xcLV1cXGRcXGQoPzo6P1xcZFxcZCk/fFxccypaKT8pPyQvO1xuXG52YXIgdHpSZWdleCA9IC9afFsrLV1cXGRcXGQoPzo6P1xcZFxcZCk/LztcblxudmFyIGlzb0RhdGVzID0gW1xuICAgIFsnWVlZWVlZLU1NLUREJywgL1srLV1cXGR7Nn0tXFxkXFxkLVxcZFxcZC9dLFxuICAgIFsnWVlZWS1NTS1ERCcsIC9cXGR7NH0tXFxkXFxkLVxcZFxcZC9dLFxuICAgIFsnR0dHRy1bV11XVy1FJywgL1xcZHs0fS1XXFxkXFxkLVxcZC9dLFxuICAgIFsnR0dHRy1bV11XVycsIC9cXGR7NH0tV1xcZFxcZC8sIGZhbHNlXSxcbiAgICBbJ1lZWVktREREJywgL1xcZHs0fS1cXGR7M30vXSxcbiAgICBbJ1lZWVktTU0nLCAvXFxkezR9LVxcZFxcZC8sIGZhbHNlXSxcbiAgICBbJ1lZWVlZWU1NREQnLCAvWystXVxcZHsxMH0vXSxcbiAgICBbJ1lZWVlNTUREJywgL1xcZHs4fS9dLFxuICAgIC8vIFlZWVlNTSBpcyBOT1QgYWxsb3dlZCBieSB0aGUgc3RhbmRhcmRcbiAgICBbJ0dHR0dbV11XV0UnLCAvXFxkezR9V1xcZHszfS9dLFxuICAgIFsnR0dHR1tXXVdXJywgL1xcZHs0fVdcXGR7Mn0vLCBmYWxzZV0sXG4gICAgWydZWVlZREREJywgL1xcZHs3fS9dXG5dO1xuXG4vLyBpc28gdGltZSBmb3JtYXRzIGFuZCByZWdleGVzXG52YXIgaXNvVGltZXMgPSBbXG4gICAgWydISDptbTpzcy5TU1NTJywgL1xcZFxcZDpcXGRcXGQ6XFxkXFxkXFwuXFxkKy9dLFxuICAgIFsnSEg6bW06c3MsU1NTUycsIC9cXGRcXGQ6XFxkXFxkOlxcZFxcZCxcXGQrL10sXG4gICAgWydISDptbTpzcycsIC9cXGRcXGQ6XFxkXFxkOlxcZFxcZC9dLFxuICAgIFsnSEg6bW0nLCAvXFxkXFxkOlxcZFxcZC9dLFxuICAgIFsnSEhtbXNzLlNTU1MnLCAvXFxkXFxkXFxkXFxkXFxkXFxkXFwuXFxkKy9dLFxuICAgIFsnSEhtbXNzLFNTU1MnLCAvXFxkXFxkXFxkXFxkXFxkXFxkLFxcZCsvXSxcbiAgICBbJ0hIbW1zcycsIC9cXGRcXGRcXGRcXGRcXGRcXGQvXSxcbiAgICBbJ0hIbW0nLCAvXFxkXFxkXFxkXFxkL10sXG4gICAgWydISCcsIC9cXGRcXGQvXVxuXTtcblxudmFyIGFzcE5ldEpzb25SZWdleCA9IC9eXFwvP0RhdGVcXCgoXFwtP1xcZCspL2k7XG5cbi8vIGRhdGUgZnJvbSBpc28gZm9ybWF0XG5mdW5jdGlvbiBjb25maWdGcm9tSVNPKGNvbmZpZykge1xuICAgIHZhciBpLCBsLFxuICAgICAgICBzdHJpbmcgPSBjb25maWcuX2ksXG4gICAgICAgIG1hdGNoID0gZXh0ZW5kZWRJc29SZWdleC5leGVjKHN0cmluZykgfHwgYmFzaWNJc29SZWdleC5leGVjKHN0cmluZyksXG4gICAgICAgIGFsbG93VGltZSwgZGF0ZUZvcm1hdCwgdGltZUZvcm1hdCwgdHpGb3JtYXQ7XG5cbiAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuaXNvID0gdHJ1ZTtcblxuICAgICAgICBmb3IgKGkgPSAwLCBsID0gaXNvRGF0ZXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoaXNvRGF0ZXNbaV1bMV0uZXhlYyhtYXRjaFsxXSkpIHtcbiAgICAgICAgICAgICAgICBkYXRlRm9ybWF0ID0gaXNvRGF0ZXNbaV1bMF07XG4gICAgICAgICAgICAgICAgYWxsb3dUaW1lID0gaXNvRGF0ZXNbaV1bMl0gIT09IGZhbHNlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChkYXRlRm9ybWF0ID09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbmZpZy5faXNWYWxpZCA9IGZhbHNlO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtYXRjaFszXSkge1xuICAgICAgICAgICAgZm9yIChpID0gMCwgbCA9IGlzb1RpbWVzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmIChpc29UaW1lc1tpXVsxXS5leGVjKG1hdGNoWzNdKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBtYXRjaFsyXSBzaG91bGQgYmUgJ1QnIG9yIHNwYWNlXG4gICAgICAgICAgICAgICAgICAgIHRpbWVGb3JtYXQgPSAobWF0Y2hbMl0gfHwgJyAnKSArIGlzb1RpbWVzW2ldWzBdO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGltZUZvcm1hdCA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY29uZmlnLl9pc1ZhbGlkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghYWxsb3dUaW1lICYmIHRpbWVGb3JtYXQgIT0gbnVsbCkge1xuICAgICAgICAgICAgY29uZmlnLl9pc1ZhbGlkID0gZmFsc2U7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1hdGNoWzRdKSB7XG4gICAgICAgICAgICBpZiAodHpSZWdleC5leGVjKG1hdGNoWzRdKSkge1xuICAgICAgICAgICAgICAgIHR6Rm9ybWF0ID0gJ1onO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25maWcuX2lzVmFsaWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uZmlnLl9mID0gZGF0ZUZvcm1hdCArICh0aW1lRm9ybWF0IHx8ICcnKSArICh0ekZvcm1hdCB8fCAnJyk7XG4gICAgICAgIGNvbmZpZ0Zyb21TdHJpbmdBbmRGb3JtYXQoY29uZmlnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBjb25maWcuX2lzVmFsaWQgPSBmYWxzZTtcbiAgICB9XG59XG5cbi8vIGRhdGUgZnJvbSBpc28gZm9ybWF0IG9yIGZhbGxiYWNrXG5mdW5jdGlvbiBjb25maWdGcm9tU3RyaW5nKGNvbmZpZykge1xuICAgIHZhciBtYXRjaGVkID0gYXNwTmV0SnNvblJlZ2V4LmV4ZWMoY29uZmlnLl9pKTtcblxuICAgIGlmIChtYXRjaGVkICE9PSBudWxsKSB7XG4gICAgICAgIGNvbmZpZy5fZCA9IG5ldyBEYXRlKCttYXRjaGVkWzFdKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbmZpZ0Zyb21JU08oY29uZmlnKTtcbiAgICBpZiAoY29uZmlnLl9pc1ZhbGlkID09PSBmYWxzZSkge1xuICAgICAgICBkZWxldGUgY29uZmlnLl9pc1ZhbGlkO1xuICAgICAgICBob29rcy5jcmVhdGVGcm9tSW5wdXRGYWxsYmFjayhjb25maWcpO1xuICAgIH1cbn1cblxuaG9va3MuY3JlYXRlRnJvbUlucHV0RmFsbGJhY2sgPSBkZXByZWNhdGUoXG4gICAgJ3ZhbHVlIHByb3ZpZGVkIGlzIG5vdCBpbiBhIHJlY29nbml6ZWQgSVNPIGZvcm1hdC4gbW9tZW50IGNvbnN0cnVjdGlvbiBmYWxscyBiYWNrIHRvIGpzIERhdGUoKSwgJyArXG4gICAgJ3doaWNoIGlzIG5vdCByZWxpYWJsZSBhY3Jvc3MgYWxsIGJyb3dzZXJzIGFuZCB2ZXJzaW9ucy4gTm9uIElTTyBkYXRlIGZvcm1hdHMgYXJlICcgK1xuICAgICdkaXNjb3VyYWdlZCBhbmQgd2lsbCBiZSByZW1vdmVkIGluIGFuIHVwY29taW5nIG1ham9yIHJlbGVhc2UuIFBsZWFzZSByZWZlciB0byAnICtcbiAgICAnaHR0cDovL21vbWVudGpzLmNvbS9ndWlkZXMvIy93YXJuaW5ncy9qcy1kYXRlLyBmb3IgbW9yZSBpbmZvLicsXG4gICAgZnVuY3Rpb24gKGNvbmZpZykge1xuICAgICAgICBjb25maWcuX2QgPSBuZXcgRGF0ZShjb25maWcuX2kgKyAoY29uZmlnLl91c2VVVEMgPyAnIFVUQycgOiAnJykpO1xuICAgIH1cbik7XG5cbi8vIFBpY2sgdGhlIGZpcnN0IGRlZmluZWQgb2YgdHdvIG9yIHRocmVlIGFyZ3VtZW50cy5cbmZ1bmN0aW9uIGRlZmF1bHRzKGEsIGIsIGMpIHtcbiAgICBpZiAoYSAhPSBudWxsKSB7XG4gICAgICAgIHJldHVybiBhO1xuICAgIH1cbiAgICBpZiAoYiAhPSBudWxsKSB7XG4gICAgICAgIHJldHVybiBiO1xuICAgIH1cbiAgICByZXR1cm4gYztcbn1cblxuZnVuY3Rpb24gY3VycmVudERhdGVBcnJheShjb25maWcpIHtcbiAgICAvLyBob29rcyBpcyBhY3R1YWxseSB0aGUgZXhwb3J0ZWQgbW9tZW50IG9iamVjdFxuICAgIHZhciBub3dWYWx1ZSA9IG5ldyBEYXRlKGhvb2tzLm5vdygpKTtcbiAgICBpZiAoY29uZmlnLl91c2VVVEMpIHtcbiAgICAgICAgcmV0dXJuIFtub3dWYWx1ZS5nZXRVVENGdWxsWWVhcigpLCBub3dWYWx1ZS5nZXRVVENNb250aCgpLCBub3dWYWx1ZS5nZXRVVENEYXRlKCldO1xuICAgIH1cbiAgICByZXR1cm4gW25vd1ZhbHVlLmdldEZ1bGxZZWFyKCksIG5vd1ZhbHVlLmdldE1vbnRoKCksIG5vd1ZhbHVlLmdldERhdGUoKV07XG59XG5cbi8vIGNvbnZlcnQgYW4gYXJyYXkgdG8gYSBkYXRlLlxuLy8gdGhlIGFycmF5IHNob3VsZCBtaXJyb3IgdGhlIHBhcmFtZXRlcnMgYmVsb3dcbi8vIG5vdGU6IGFsbCB2YWx1ZXMgcGFzdCB0aGUgeWVhciBhcmUgb3B0aW9uYWwgYW5kIHdpbGwgZGVmYXVsdCB0byB0aGUgbG93ZXN0IHBvc3NpYmxlIHZhbHVlLlxuLy8gW3llYXIsIG1vbnRoLCBkYXkgLCBob3VyLCBtaW51dGUsIHNlY29uZCwgbWlsbGlzZWNvbmRdXG5mdW5jdGlvbiBjb25maWdGcm9tQXJyYXkgKGNvbmZpZykge1xuICAgIHZhciBpLCBkYXRlLCBpbnB1dCA9IFtdLCBjdXJyZW50RGF0ZSwgeWVhclRvVXNlO1xuXG4gICAgaWYgKGNvbmZpZy5fZCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY3VycmVudERhdGUgPSBjdXJyZW50RGF0ZUFycmF5KGNvbmZpZyk7XG5cbiAgICAvL2NvbXB1dGUgZGF5IG9mIHRoZSB5ZWFyIGZyb20gd2Vla3MgYW5kIHdlZWtkYXlzXG4gICAgaWYgKGNvbmZpZy5fdyAmJiBjb25maWcuX2FbREFURV0gPT0gbnVsbCAmJiBjb25maWcuX2FbTU9OVEhdID09IG51bGwpIHtcbiAgICAgICAgZGF5T2ZZZWFyRnJvbVdlZWtJbmZvKGNvbmZpZyk7XG4gICAgfVxuXG4gICAgLy9pZiB0aGUgZGF5IG9mIHRoZSB5ZWFyIGlzIHNldCwgZmlndXJlIG91dCB3aGF0IGl0IGlzXG4gICAgaWYgKGNvbmZpZy5fZGF5T2ZZZWFyKSB7XG4gICAgICAgIHllYXJUb1VzZSA9IGRlZmF1bHRzKGNvbmZpZy5fYVtZRUFSXSwgY3VycmVudERhdGVbWUVBUl0pO1xuXG4gICAgICAgIGlmIChjb25maWcuX2RheU9mWWVhciA+IGRheXNJblllYXIoeWVhclRvVXNlKSkge1xuICAgICAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuX292ZXJmbG93RGF5T2ZZZWFyID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGRhdGUgPSBjcmVhdGVVVENEYXRlKHllYXJUb1VzZSwgMCwgY29uZmlnLl9kYXlPZlllYXIpO1xuICAgICAgICBjb25maWcuX2FbTU9OVEhdID0gZGF0ZS5nZXRVVENNb250aCgpO1xuICAgICAgICBjb25maWcuX2FbREFURV0gPSBkYXRlLmdldFVUQ0RhdGUoKTtcbiAgICB9XG5cbiAgICAvLyBEZWZhdWx0IHRvIGN1cnJlbnQgZGF0ZS5cbiAgICAvLyAqIGlmIG5vIHllYXIsIG1vbnRoLCBkYXkgb2YgbW9udGggYXJlIGdpdmVuLCBkZWZhdWx0IHRvIHRvZGF5XG4gICAgLy8gKiBpZiBkYXkgb2YgbW9udGggaXMgZ2l2ZW4sIGRlZmF1bHQgbW9udGggYW5kIHllYXJcbiAgICAvLyAqIGlmIG1vbnRoIGlzIGdpdmVuLCBkZWZhdWx0IG9ubHkgeWVhclxuICAgIC8vICogaWYgeWVhciBpcyBnaXZlbiwgZG9uJ3QgZGVmYXVsdCBhbnl0aGluZ1xuICAgIGZvciAoaSA9IDA7IGkgPCAzICYmIGNvbmZpZy5fYVtpXSA9PSBudWxsOyArK2kpIHtcbiAgICAgICAgY29uZmlnLl9hW2ldID0gaW5wdXRbaV0gPSBjdXJyZW50RGF0ZVtpXTtcbiAgICB9XG5cbiAgICAvLyBaZXJvIG91dCB3aGF0ZXZlciB3YXMgbm90IGRlZmF1bHRlZCwgaW5jbHVkaW5nIHRpbWVcbiAgICBmb3IgKDsgaSA8IDc7IGkrKykge1xuICAgICAgICBjb25maWcuX2FbaV0gPSBpbnB1dFtpXSA9IChjb25maWcuX2FbaV0gPT0gbnVsbCkgPyAoaSA9PT0gMiA/IDEgOiAwKSA6IGNvbmZpZy5fYVtpXTtcbiAgICB9XG5cbiAgICAvLyBDaGVjayBmb3IgMjQ6MDA6MDAuMDAwXG4gICAgaWYgKGNvbmZpZy5fYVtIT1VSXSA9PT0gMjQgJiZcbiAgICAgICAgICAgIGNvbmZpZy5fYVtNSU5VVEVdID09PSAwICYmXG4gICAgICAgICAgICBjb25maWcuX2FbU0VDT05EXSA9PT0gMCAmJlxuICAgICAgICAgICAgY29uZmlnLl9hW01JTExJU0VDT05EXSA9PT0gMCkge1xuICAgICAgICBjb25maWcuX25leHREYXkgPSB0cnVlO1xuICAgICAgICBjb25maWcuX2FbSE9VUl0gPSAwO1xuICAgIH1cblxuICAgIGNvbmZpZy5fZCA9IChjb25maWcuX3VzZVVUQyA/IGNyZWF0ZVVUQ0RhdGUgOiBjcmVhdGVEYXRlKS5hcHBseShudWxsLCBpbnB1dCk7XG4gICAgLy8gQXBwbHkgdGltZXpvbmUgb2Zmc2V0IGZyb20gaW5wdXQuIFRoZSBhY3R1YWwgdXRjT2Zmc2V0IGNhbiBiZSBjaGFuZ2VkXG4gICAgLy8gd2l0aCBwYXJzZVpvbmUuXG4gICAgaWYgKGNvbmZpZy5fdHptICE9IG51bGwpIHtcbiAgICAgICAgY29uZmlnLl9kLnNldFVUQ01pbnV0ZXMoY29uZmlnLl9kLmdldFVUQ01pbnV0ZXMoKSAtIGNvbmZpZy5fdHptKTtcbiAgICB9XG5cbiAgICBpZiAoY29uZmlnLl9uZXh0RGF5KSB7XG4gICAgICAgIGNvbmZpZy5fYVtIT1VSXSA9IDI0O1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZGF5T2ZZZWFyRnJvbVdlZWtJbmZvKGNvbmZpZykge1xuICAgIHZhciB3LCB3ZWVrWWVhciwgd2Vlaywgd2Vla2RheSwgZG93LCBkb3ksIHRlbXAsIHdlZWtkYXlPdmVyZmxvdztcblxuICAgIHcgPSBjb25maWcuX3c7XG4gICAgaWYgKHcuR0cgIT0gbnVsbCB8fCB3LlcgIT0gbnVsbCB8fCB3LkUgIT0gbnVsbCkge1xuICAgICAgICBkb3cgPSAxO1xuICAgICAgICBkb3kgPSA0O1xuXG4gICAgICAgIC8vIFRPRE86IFdlIG5lZWQgdG8gdGFrZSB0aGUgY3VycmVudCBpc29XZWVrWWVhciwgYnV0IHRoYXQgZGVwZW5kcyBvblxuICAgICAgICAvLyBob3cgd2UgaW50ZXJwcmV0IG5vdyAobG9jYWwsIHV0YywgZml4ZWQgb2Zmc2V0KS4gU28gY3JlYXRlXG4gICAgICAgIC8vIGEgbm93IHZlcnNpb24gb2YgY3VycmVudCBjb25maWcgKHRha2UgbG9jYWwvdXRjL29mZnNldCBmbGFncywgYW5kXG4gICAgICAgIC8vIGNyZWF0ZSBub3cpLlxuICAgICAgICB3ZWVrWWVhciA9IGRlZmF1bHRzKHcuR0csIGNvbmZpZy5fYVtZRUFSXSwgd2Vla09mWWVhcihjcmVhdGVMb2NhbCgpLCAxLCA0KS55ZWFyKTtcbiAgICAgICAgd2VlayA9IGRlZmF1bHRzKHcuVywgMSk7XG4gICAgICAgIHdlZWtkYXkgPSBkZWZhdWx0cyh3LkUsIDEpO1xuICAgICAgICBpZiAod2Vla2RheSA8IDEgfHwgd2Vla2RheSA+IDcpIHtcbiAgICAgICAgICAgIHdlZWtkYXlPdmVyZmxvdyA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICBkb3cgPSBjb25maWcuX2xvY2FsZS5fd2Vlay5kb3c7XG4gICAgICAgIGRveSA9IGNvbmZpZy5fbG9jYWxlLl93ZWVrLmRveTtcblxuICAgICAgICB2YXIgY3VyV2VlayA9IHdlZWtPZlllYXIoY3JlYXRlTG9jYWwoKSwgZG93LCBkb3kpO1xuXG4gICAgICAgIHdlZWtZZWFyID0gZGVmYXVsdHMody5nZywgY29uZmlnLl9hW1lFQVJdLCBjdXJXZWVrLnllYXIpO1xuXG4gICAgICAgIC8vIERlZmF1bHQgdG8gY3VycmVudCB3ZWVrLlxuICAgICAgICB3ZWVrID0gZGVmYXVsdHMody53LCBjdXJXZWVrLndlZWspO1xuXG4gICAgICAgIGlmICh3LmQgIT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gd2Vla2RheSAtLSBsb3cgZGF5IG51bWJlcnMgYXJlIGNvbnNpZGVyZWQgbmV4dCB3ZWVrXG4gICAgICAgICAgICB3ZWVrZGF5ID0gdy5kO1xuICAgICAgICAgICAgaWYgKHdlZWtkYXkgPCAwIHx8IHdlZWtkYXkgPiA2KSB7XG4gICAgICAgICAgICAgICAgd2Vla2RheU92ZXJmbG93ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICh3LmUgIT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gbG9jYWwgd2Vla2RheSAtLSBjb3VudGluZyBzdGFydHMgZnJvbSBiZWdpbmluZyBvZiB3ZWVrXG4gICAgICAgICAgICB3ZWVrZGF5ID0gdy5lICsgZG93O1xuICAgICAgICAgICAgaWYgKHcuZSA8IDAgfHwgdy5lID4gNikge1xuICAgICAgICAgICAgICAgIHdlZWtkYXlPdmVyZmxvdyA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBkZWZhdWx0IHRvIGJlZ2luaW5nIG9mIHdlZWtcbiAgICAgICAgICAgIHdlZWtkYXkgPSBkb3c7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKHdlZWsgPCAxIHx8IHdlZWsgPiB3ZWVrc0luWWVhcih3ZWVrWWVhciwgZG93LCBkb3kpKSB7XG4gICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLl9vdmVyZmxvd1dlZWtzID0gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKHdlZWtkYXlPdmVyZmxvdyAhPSBudWxsKSB7XG4gICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLl9vdmVyZmxvd1dlZWtkYXkgPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHRlbXAgPSBkYXlPZlllYXJGcm9tV2Vla3Mod2Vla1llYXIsIHdlZWssIHdlZWtkYXksIGRvdywgZG95KTtcbiAgICAgICAgY29uZmlnLl9hW1lFQVJdID0gdGVtcC55ZWFyO1xuICAgICAgICBjb25maWcuX2RheU9mWWVhciA9IHRlbXAuZGF5T2ZZZWFyO1xuICAgIH1cbn1cblxuLy8gY29uc3RhbnQgdGhhdCByZWZlcnMgdG8gdGhlIElTTyBzdGFuZGFyZFxuaG9va3MuSVNPXzg2MDEgPSBmdW5jdGlvbiAoKSB7fTtcblxuLy8gZGF0ZSBmcm9tIHN0cmluZyBhbmQgZm9ybWF0IHN0cmluZ1xuZnVuY3Rpb24gY29uZmlnRnJvbVN0cmluZ0FuZEZvcm1hdChjb25maWcpIHtcbiAgICAvLyBUT0RPOiBNb3ZlIHRoaXMgdG8gYW5vdGhlciBwYXJ0IG9mIHRoZSBjcmVhdGlvbiBmbG93IHRvIHByZXZlbnQgY2lyY3VsYXIgZGVwc1xuICAgIGlmIChjb25maWcuX2YgPT09IGhvb2tzLklTT184NjAxKSB7XG4gICAgICAgIGNvbmZpZ0Zyb21JU08oY29uZmlnKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbmZpZy5fYSA9IFtdO1xuICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmVtcHR5ID0gdHJ1ZTtcblxuICAgIC8vIFRoaXMgYXJyYXkgaXMgdXNlZCB0byBtYWtlIGEgRGF0ZSwgZWl0aGVyIHdpdGggYG5ldyBEYXRlYCBvciBgRGF0ZS5VVENgXG4gICAgdmFyIHN0cmluZyA9ICcnICsgY29uZmlnLl9pLFxuICAgICAgICBpLCBwYXJzZWRJbnB1dCwgdG9rZW5zLCB0b2tlbiwgc2tpcHBlZCxcbiAgICAgICAgc3RyaW5nTGVuZ3RoID0gc3RyaW5nLmxlbmd0aCxcbiAgICAgICAgdG90YWxQYXJzZWRJbnB1dExlbmd0aCA9IDA7XG5cbiAgICB0b2tlbnMgPSBleHBhbmRGb3JtYXQoY29uZmlnLl9mLCBjb25maWcuX2xvY2FsZSkubWF0Y2goZm9ybWF0dGluZ1Rva2VucykgfHwgW107XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgdG9rZW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHRva2VuID0gdG9rZW5zW2ldO1xuICAgICAgICBwYXJzZWRJbnB1dCA9IChzdHJpbmcubWF0Y2goZ2V0UGFyc2VSZWdleEZvclRva2VuKHRva2VuLCBjb25maWcpKSB8fCBbXSlbMF07XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCd0b2tlbicsIHRva2VuLCAncGFyc2VkSW5wdXQnLCBwYXJzZWRJbnB1dCxcbiAgICAgICAgLy8gICAgICAgICAncmVnZXgnLCBnZXRQYXJzZVJlZ2V4Rm9yVG9rZW4odG9rZW4sIGNvbmZpZykpO1xuICAgICAgICBpZiAocGFyc2VkSW5wdXQpIHtcbiAgICAgICAgICAgIHNraXBwZWQgPSBzdHJpbmcuc3Vic3RyKDAsIHN0cmluZy5pbmRleE9mKHBhcnNlZElucHV0KSk7XG4gICAgICAgICAgICBpZiAoc2tpcHBlZC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykudW51c2VkSW5wdXQucHVzaChza2lwcGVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN0cmluZyA9IHN0cmluZy5zbGljZShzdHJpbmcuaW5kZXhPZihwYXJzZWRJbnB1dCkgKyBwYXJzZWRJbnB1dC5sZW5ndGgpO1xuICAgICAgICAgICAgdG90YWxQYXJzZWRJbnB1dExlbmd0aCArPSBwYXJzZWRJbnB1dC5sZW5ndGg7XG4gICAgICAgIH1cbiAgICAgICAgLy8gZG9uJ3QgcGFyc2UgaWYgaXQncyBub3QgYSBrbm93biB0b2tlblxuICAgICAgICBpZiAoZm9ybWF0VG9rZW5GdW5jdGlvbnNbdG9rZW5dKSB7XG4gICAgICAgICAgICBpZiAocGFyc2VkSW5wdXQpIHtcbiAgICAgICAgICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5lbXB0eSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykudW51c2VkVG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYWRkVGltZVRvQXJyYXlGcm9tVG9rZW4odG9rZW4sIHBhcnNlZElucHV0LCBjb25maWcpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGNvbmZpZy5fc3RyaWN0ICYmICFwYXJzZWRJbnB1dCkge1xuICAgICAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykudW51c2VkVG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gYWRkIHJlbWFpbmluZyB1bnBhcnNlZCBpbnB1dCBsZW5ndGggdG8gdGhlIHN0cmluZ1xuICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmNoYXJzTGVmdE92ZXIgPSBzdHJpbmdMZW5ndGggLSB0b3RhbFBhcnNlZElucHV0TGVuZ3RoO1xuICAgIGlmIChzdHJpbmcubGVuZ3RoID4gMCkge1xuICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS51bnVzZWRJbnB1dC5wdXNoKHN0cmluZyk7XG4gICAgfVxuXG4gICAgLy8gY2xlYXIgXzEyaCBmbGFnIGlmIGhvdXIgaXMgPD0gMTJcbiAgICBpZiAoY29uZmlnLl9hW0hPVVJdIDw9IDEyICYmXG4gICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmJpZ0hvdXIgPT09IHRydWUgJiZcbiAgICAgICAgY29uZmlnLl9hW0hPVVJdID4gMCkge1xuICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5iaWdIb3VyID0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLnBhcnNlZERhdGVQYXJ0cyA9IGNvbmZpZy5fYS5zbGljZSgwKTtcbiAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5tZXJpZGllbSA9IGNvbmZpZy5fbWVyaWRpZW07XG4gICAgLy8gaGFuZGxlIG1lcmlkaWVtXG4gICAgY29uZmlnLl9hW0hPVVJdID0gbWVyaWRpZW1GaXhXcmFwKGNvbmZpZy5fbG9jYWxlLCBjb25maWcuX2FbSE9VUl0sIGNvbmZpZy5fbWVyaWRpZW0pO1xuXG4gICAgY29uZmlnRnJvbUFycmF5KGNvbmZpZyk7XG4gICAgY2hlY2tPdmVyZmxvdyhjb25maWcpO1xufVxuXG5cbmZ1bmN0aW9uIG1lcmlkaWVtRml4V3JhcCAobG9jYWxlLCBob3VyLCBtZXJpZGllbSkge1xuICAgIHZhciBpc1BtO1xuXG4gICAgaWYgKG1lcmlkaWVtID09IG51bGwpIHtcbiAgICAgICAgLy8gbm90aGluZyB0byBkb1xuICAgICAgICByZXR1cm4gaG91cjtcbiAgICB9XG4gICAgaWYgKGxvY2FsZS5tZXJpZGllbUhvdXIgIT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gbG9jYWxlLm1lcmlkaWVtSG91cihob3VyLCBtZXJpZGllbSk7XG4gICAgfSBlbHNlIGlmIChsb2NhbGUuaXNQTSAhPSBudWxsKSB7XG4gICAgICAgIC8vIEZhbGxiYWNrXG4gICAgICAgIGlzUG0gPSBsb2NhbGUuaXNQTShtZXJpZGllbSk7XG4gICAgICAgIGlmIChpc1BtICYmIGhvdXIgPCAxMikge1xuICAgICAgICAgICAgaG91ciArPSAxMjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzUG0gJiYgaG91ciA9PT0gMTIpIHtcbiAgICAgICAgICAgIGhvdXIgPSAwO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBob3VyO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIHRoaXMgaXMgbm90IHN1cHBvc2VkIHRvIGhhcHBlblxuICAgICAgICByZXR1cm4gaG91cjtcbiAgICB9XG59XG5cbi8vIGRhdGUgZnJvbSBzdHJpbmcgYW5kIGFycmF5IG9mIGZvcm1hdCBzdHJpbmdzXG5mdW5jdGlvbiBjb25maWdGcm9tU3RyaW5nQW5kQXJyYXkoY29uZmlnKSB7XG4gICAgdmFyIHRlbXBDb25maWcsXG4gICAgICAgIGJlc3RNb21lbnQsXG5cbiAgICAgICAgc2NvcmVUb0JlYXQsXG4gICAgICAgIGksXG4gICAgICAgIGN1cnJlbnRTY29yZTtcblxuICAgIGlmIChjb25maWcuX2YubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmludmFsaWRGb3JtYXQgPSB0cnVlO1xuICAgICAgICBjb25maWcuX2QgPSBuZXcgRGF0ZShOYU4pO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZm9yIChpID0gMDsgaSA8IGNvbmZpZy5fZi5sZW5ndGg7IGkrKykge1xuICAgICAgICBjdXJyZW50U2NvcmUgPSAwO1xuICAgICAgICB0ZW1wQ29uZmlnID0gY29weUNvbmZpZyh7fSwgY29uZmlnKTtcbiAgICAgICAgaWYgKGNvbmZpZy5fdXNlVVRDICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRlbXBDb25maWcuX3VzZVVUQyA9IGNvbmZpZy5fdXNlVVRDO1xuICAgICAgICB9XG4gICAgICAgIHRlbXBDb25maWcuX2YgPSBjb25maWcuX2ZbaV07XG4gICAgICAgIGNvbmZpZ0Zyb21TdHJpbmdBbmRGb3JtYXQodGVtcENvbmZpZyk7XG5cbiAgICAgICAgaWYgKCFpc1ZhbGlkKHRlbXBDb25maWcpKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGlmIHRoZXJlIGlzIGFueSBpbnB1dCB0aGF0IHdhcyBub3QgcGFyc2VkIGFkZCBhIHBlbmFsdHkgZm9yIHRoYXQgZm9ybWF0XG4gICAgICAgIGN1cnJlbnRTY29yZSArPSBnZXRQYXJzaW5nRmxhZ3ModGVtcENvbmZpZykuY2hhcnNMZWZ0T3ZlcjtcblxuICAgICAgICAvL29yIHRva2Vuc1xuICAgICAgICBjdXJyZW50U2NvcmUgKz0gZ2V0UGFyc2luZ0ZsYWdzKHRlbXBDb25maWcpLnVudXNlZFRva2Vucy5sZW5ndGggKiAxMDtcblxuICAgICAgICBnZXRQYXJzaW5nRmxhZ3ModGVtcENvbmZpZykuc2NvcmUgPSBjdXJyZW50U2NvcmU7XG5cbiAgICAgICAgaWYgKHNjb3JlVG9CZWF0ID09IG51bGwgfHwgY3VycmVudFNjb3JlIDwgc2NvcmVUb0JlYXQpIHtcbiAgICAgICAgICAgIHNjb3JlVG9CZWF0ID0gY3VycmVudFNjb3JlO1xuICAgICAgICAgICAgYmVzdE1vbWVudCA9IHRlbXBDb25maWc7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBleHRlbmQoY29uZmlnLCBiZXN0TW9tZW50IHx8IHRlbXBDb25maWcpO1xufVxuXG5mdW5jdGlvbiBjb25maWdGcm9tT2JqZWN0KGNvbmZpZykge1xuICAgIGlmIChjb25maWcuX2QpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBpID0gbm9ybWFsaXplT2JqZWN0VW5pdHMoY29uZmlnLl9pKTtcbiAgICBjb25maWcuX2EgPSBtYXAoW2kueWVhciwgaS5tb250aCwgaS5kYXkgfHwgaS5kYXRlLCBpLmhvdXIsIGkubWludXRlLCBpLnNlY29uZCwgaS5taWxsaXNlY29uZF0sIGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgcmV0dXJuIG9iaiAmJiBwYXJzZUludChvYmosIDEwKTtcbiAgICB9KTtcblxuICAgIGNvbmZpZ0Zyb21BcnJheShjb25maWcpO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVGcm9tQ29uZmlnIChjb25maWcpIHtcbiAgICB2YXIgcmVzID0gbmV3IE1vbWVudChjaGVja092ZXJmbG93KHByZXBhcmVDb25maWcoY29uZmlnKSkpO1xuICAgIGlmIChyZXMuX25leHREYXkpIHtcbiAgICAgICAgLy8gQWRkaW5nIGlzIHNtYXJ0IGVub3VnaCBhcm91bmQgRFNUXG4gICAgICAgIHJlcy5hZGQoMSwgJ2QnKTtcbiAgICAgICAgcmVzLl9uZXh0RGF5ID0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIHJldHVybiByZXM7XG59XG5cbmZ1bmN0aW9uIHByZXBhcmVDb25maWcgKGNvbmZpZykge1xuICAgIHZhciBpbnB1dCA9IGNvbmZpZy5faSxcbiAgICAgICAgZm9ybWF0ID0gY29uZmlnLl9mO1xuXG4gICAgY29uZmlnLl9sb2NhbGUgPSBjb25maWcuX2xvY2FsZSB8fCBnZXRMb2NhbGUoY29uZmlnLl9sKTtcblxuICAgIGlmIChpbnB1dCA9PT0gbnVsbCB8fCAoZm9ybWF0ID09PSB1bmRlZmluZWQgJiYgaW5wdXQgPT09ICcnKSkge1xuICAgICAgICByZXR1cm4gY3JlYXRlSW52YWxpZCh7bnVsbElucHV0OiB0cnVlfSk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBpbnB1dCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgY29uZmlnLl9pID0gaW5wdXQgPSBjb25maWcuX2xvY2FsZS5wcmVwYXJzZShpbnB1dCk7XG4gICAgfVxuXG4gICAgaWYgKGlzTW9tZW50KGlucHV0KSkge1xuICAgICAgICByZXR1cm4gbmV3IE1vbWVudChjaGVja092ZXJmbG93KGlucHV0KSk7XG4gICAgfSBlbHNlIGlmIChpc0RhdGUoaW5wdXQpKSB7XG4gICAgICAgIGNvbmZpZy5fZCA9IGlucHV0O1xuICAgIH0gZWxzZSBpZiAoaXNBcnJheShmb3JtYXQpKSB7XG4gICAgICAgIGNvbmZpZ0Zyb21TdHJpbmdBbmRBcnJheShjb25maWcpO1xuICAgIH0gZWxzZSBpZiAoZm9ybWF0KSB7XG4gICAgICAgIGNvbmZpZ0Zyb21TdHJpbmdBbmRGb3JtYXQoY29uZmlnKTtcbiAgICB9ICBlbHNlIHtcbiAgICAgICAgY29uZmlnRnJvbUlucHV0KGNvbmZpZyk7XG4gICAgfVxuXG4gICAgaWYgKCFpc1ZhbGlkKGNvbmZpZykpIHtcbiAgICAgICAgY29uZmlnLl9kID0gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gY29uZmlnO1xufVxuXG5mdW5jdGlvbiBjb25maWdGcm9tSW5wdXQoY29uZmlnKSB7XG4gICAgdmFyIGlucHV0ID0gY29uZmlnLl9pO1xuICAgIGlmIChpbnB1dCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbmZpZy5fZCA9IG5ldyBEYXRlKGhvb2tzLm5vdygpKTtcbiAgICB9IGVsc2UgaWYgKGlzRGF0ZShpbnB1dCkpIHtcbiAgICAgICAgY29uZmlnLl9kID0gbmV3IERhdGUoaW5wdXQudmFsdWVPZigpKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBpbnB1dCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgY29uZmlnRnJvbVN0cmluZyhjb25maWcpO1xuICAgIH0gZWxzZSBpZiAoaXNBcnJheShpbnB1dCkpIHtcbiAgICAgICAgY29uZmlnLl9hID0gbWFwKGlucHV0LnNsaWNlKDApLCBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VJbnQob2JqLCAxMCk7XG4gICAgICAgIH0pO1xuICAgICAgICBjb25maWdGcm9tQXJyYXkoY29uZmlnKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZihpbnB1dCkgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIGNvbmZpZ0Zyb21PYmplY3QoY29uZmlnKTtcbiAgICB9IGVsc2UgaWYgKGlzTnVtYmVyKGlucHV0KSkge1xuICAgICAgICAvLyBmcm9tIG1pbGxpc2Vjb25kc1xuICAgICAgICBjb25maWcuX2QgPSBuZXcgRGF0ZShpbnB1dCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgaG9va3MuY3JlYXRlRnJvbUlucHV0RmFsbGJhY2soY29uZmlnKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUxvY2FsT3JVVEMgKGlucHV0LCBmb3JtYXQsIGxvY2FsZSwgc3RyaWN0LCBpc1VUQykge1xuICAgIHZhciBjID0ge307XG5cbiAgICBpZiAobG9jYWxlID09PSB0cnVlIHx8IGxvY2FsZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgc3RyaWN0ID0gbG9jYWxlO1xuICAgICAgICBsb2NhbGUgPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgaWYgKChpc09iamVjdChpbnB1dCkgJiYgaXNPYmplY3RFbXB0eShpbnB1dCkpIHx8XG4gICAgICAgICAgICAoaXNBcnJheShpbnB1dCkgJiYgaW5wdXQubGVuZ3RoID09PSAwKSkge1xuICAgICAgICBpbnB1dCA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgLy8gb2JqZWN0IGNvbnN0cnVjdGlvbiBtdXN0IGJlIGRvbmUgdGhpcyB3YXkuXG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL21vbWVudC9tb21lbnQvaXNzdWVzLzE0MjNcbiAgICBjLl9pc0FNb21lbnRPYmplY3QgPSB0cnVlO1xuICAgIGMuX3VzZVVUQyA9IGMuX2lzVVRDID0gaXNVVEM7XG4gICAgYy5fbCA9IGxvY2FsZTtcbiAgICBjLl9pID0gaW5wdXQ7XG4gICAgYy5fZiA9IGZvcm1hdDtcbiAgICBjLl9zdHJpY3QgPSBzdHJpY3Q7XG5cbiAgICByZXR1cm4gY3JlYXRlRnJvbUNvbmZpZyhjKTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlTG9jYWwgKGlucHV0LCBmb3JtYXQsIGxvY2FsZSwgc3RyaWN0KSB7XG4gICAgcmV0dXJuIGNyZWF0ZUxvY2FsT3JVVEMoaW5wdXQsIGZvcm1hdCwgbG9jYWxlLCBzdHJpY3QsIGZhbHNlKTtcbn1cblxudmFyIHByb3RvdHlwZU1pbiA9IGRlcHJlY2F0ZShcbiAgICAnbW9tZW50KCkubWluIGlzIGRlcHJlY2F0ZWQsIHVzZSBtb21lbnQubWF4IGluc3RlYWQuIGh0dHA6Ly9tb21lbnRqcy5jb20vZ3VpZGVzLyMvd2FybmluZ3MvbWluLW1heC8nLFxuICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG90aGVyID0gY3JlYXRlTG9jYWwuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgICAgICAgaWYgKHRoaXMuaXNWYWxpZCgpICYmIG90aGVyLmlzVmFsaWQoKSkge1xuICAgICAgICAgICAgcmV0dXJuIG90aGVyIDwgdGhpcyA/IHRoaXMgOiBvdGhlcjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVJbnZhbGlkKCk7XG4gICAgICAgIH1cbiAgICB9XG4pO1xuXG52YXIgcHJvdG90eXBlTWF4ID0gZGVwcmVjYXRlKFxuICAgICdtb21lbnQoKS5tYXggaXMgZGVwcmVjYXRlZCwgdXNlIG1vbWVudC5taW4gaW5zdGVhZC4gaHR0cDovL21vbWVudGpzLmNvbS9ndWlkZXMvIy93YXJuaW5ncy9taW4tbWF4LycsXG4gICAgZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgb3RoZXIgPSBjcmVhdGVMb2NhbC5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICAgICAgICBpZiAodGhpcy5pc1ZhbGlkKCkgJiYgb3RoZXIuaXNWYWxpZCgpKSB7XG4gICAgICAgICAgICByZXR1cm4gb3RoZXIgPiB0aGlzID8gdGhpcyA6IG90aGVyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUludmFsaWQoKTtcbiAgICAgICAgfVxuICAgIH1cbik7XG5cbi8vIFBpY2sgYSBtb21lbnQgbSBmcm9tIG1vbWVudHMgc28gdGhhdCBtW2ZuXShvdGhlcikgaXMgdHJ1ZSBmb3IgYWxsXG4vLyBvdGhlci4gVGhpcyByZWxpZXMgb24gdGhlIGZ1bmN0aW9uIGZuIHRvIGJlIHRyYW5zaXRpdmUuXG4vL1xuLy8gbW9tZW50cyBzaG91bGQgZWl0aGVyIGJlIGFuIGFycmF5IG9mIG1vbWVudCBvYmplY3RzIG9yIGFuIGFycmF5LCB3aG9zZVxuLy8gZmlyc3QgZWxlbWVudCBpcyBhbiBhcnJheSBvZiBtb21lbnQgb2JqZWN0cy5cbmZ1bmN0aW9uIHBpY2tCeShmbiwgbW9tZW50cykge1xuICAgIHZhciByZXMsIGk7XG4gICAgaWYgKG1vbWVudHMubGVuZ3RoID09PSAxICYmIGlzQXJyYXkobW9tZW50c1swXSkpIHtcbiAgICAgICAgbW9tZW50cyA9IG1vbWVudHNbMF07XG4gICAgfVxuICAgIGlmICghbW9tZW50cy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUxvY2FsKCk7XG4gICAgfVxuICAgIHJlcyA9IG1vbWVudHNbMF07XG4gICAgZm9yIChpID0gMTsgaSA8IG1vbWVudHMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgaWYgKCFtb21lbnRzW2ldLmlzVmFsaWQoKSB8fCBtb21lbnRzW2ldW2ZuXShyZXMpKSB7XG4gICAgICAgICAgICByZXMgPSBtb21lbnRzW2ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXM7XG59XG5cbi8vIFRPRE86IFVzZSBbXS5zb3J0IGluc3RlYWQ/XG5mdW5jdGlvbiBtaW4gKCkge1xuICAgIHZhciBhcmdzID0gW10uc2xpY2UuY2FsbChhcmd1bWVudHMsIDApO1xuXG4gICAgcmV0dXJuIHBpY2tCeSgnaXNCZWZvcmUnLCBhcmdzKTtcbn1cblxuZnVuY3Rpb24gbWF4ICgpIHtcbiAgICB2YXIgYXJncyA9IFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAwKTtcblxuICAgIHJldHVybiBwaWNrQnkoJ2lzQWZ0ZXInLCBhcmdzKTtcbn1cblxudmFyIG5vdyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gRGF0ZS5ub3cgPyBEYXRlLm5vdygpIDogKyhuZXcgRGF0ZSgpKTtcbn07XG5cbmZ1bmN0aW9uIER1cmF0aW9uIChkdXJhdGlvbikge1xuICAgIHZhciBub3JtYWxpemVkSW5wdXQgPSBub3JtYWxpemVPYmplY3RVbml0cyhkdXJhdGlvbiksXG4gICAgICAgIHllYXJzID0gbm9ybWFsaXplZElucHV0LnllYXIgfHwgMCxcbiAgICAgICAgcXVhcnRlcnMgPSBub3JtYWxpemVkSW5wdXQucXVhcnRlciB8fCAwLFxuICAgICAgICBtb250aHMgPSBub3JtYWxpemVkSW5wdXQubW9udGggfHwgMCxcbiAgICAgICAgd2Vla3MgPSBub3JtYWxpemVkSW5wdXQud2VlayB8fCAwLFxuICAgICAgICBkYXlzID0gbm9ybWFsaXplZElucHV0LmRheSB8fCAwLFxuICAgICAgICBob3VycyA9IG5vcm1hbGl6ZWRJbnB1dC5ob3VyIHx8IDAsXG4gICAgICAgIG1pbnV0ZXMgPSBub3JtYWxpemVkSW5wdXQubWludXRlIHx8IDAsXG4gICAgICAgIHNlY29uZHMgPSBub3JtYWxpemVkSW5wdXQuc2Vjb25kIHx8IDAsXG4gICAgICAgIG1pbGxpc2Vjb25kcyA9IG5vcm1hbGl6ZWRJbnB1dC5taWxsaXNlY29uZCB8fCAwO1xuXG4gICAgLy8gcmVwcmVzZW50YXRpb24gZm9yIGRhdGVBZGRSZW1vdmVcbiAgICB0aGlzLl9taWxsaXNlY29uZHMgPSArbWlsbGlzZWNvbmRzICtcbiAgICAgICAgc2Vjb25kcyAqIDFlMyArIC8vIDEwMDBcbiAgICAgICAgbWludXRlcyAqIDZlNCArIC8vIDEwMDAgKiA2MFxuICAgICAgICBob3VycyAqIDEwMDAgKiA2MCAqIDYwOyAvL3VzaW5nIDEwMDAgKiA2MCAqIDYwIGluc3RlYWQgb2YgMzZlNSB0byBhdm9pZCBmbG9hdGluZyBwb2ludCByb3VuZGluZyBlcnJvcnMgaHR0cHM6Ly9naXRodWIuY29tL21vbWVudC9tb21lbnQvaXNzdWVzLzI5NzhcbiAgICAvLyBCZWNhdXNlIG9mIGRhdGVBZGRSZW1vdmUgdHJlYXRzIDI0IGhvdXJzIGFzIGRpZmZlcmVudCBmcm9tIGFcbiAgICAvLyBkYXkgd2hlbiB3b3JraW5nIGFyb3VuZCBEU1QsIHdlIG5lZWQgdG8gc3RvcmUgdGhlbSBzZXBhcmF0ZWx5XG4gICAgdGhpcy5fZGF5cyA9ICtkYXlzICtcbiAgICAgICAgd2Vla3MgKiA3O1xuICAgIC8vIEl0IGlzIGltcG9zc2libGUgdHJhbnNsYXRlIG1vbnRocyBpbnRvIGRheXMgd2l0aG91dCBrbm93aW5nXG4gICAgLy8gd2hpY2ggbW9udGhzIHlvdSBhcmUgYXJlIHRhbGtpbmcgYWJvdXQsIHNvIHdlIGhhdmUgdG8gc3RvcmVcbiAgICAvLyBpdCBzZXBhcmF0ZWx5LlxuICAgIHRoaXMuX21vbnRocyA9ICttb250aHMgK1xuICAgICAgICBxdWFydGVycyAqIDMgK1xuICAgICAgICB5ZWFycyAqIDEyO1xuXG4gICAgdGhpcy5fZGF0YSA9IHt9O1xuXG4gICAgdGhpcy5fbG9jYWxlID0gZ2V0TG9jYWxlKCk7XG5cbiAgICB0aGlzLl9idWJibGUoKTtcbn1cblxuZnVuY3Rpb24gaXNEdXJhdGlvbiAob2JqKSB7XG4gICAgcmV0dXJuIG9iaiBpbnN0YW5jZW9mIER1cmF0aW9uO1xufVxuXG5mdW5jdGlvbiBhYnNSb3VuZCAobnVtYmVyKSB7XG4gICAgaWYgKG51bWJlciA8IDApIHtcbiAgICAgICAgcmV0dXJuIE1hdGgucm91bmQoLTEgKiBudW1iZXIpICogLTE7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIE1hdGgucm91bmQobnVtYmVyKTtcbiAgICB9XG59XG5cbi8vIEZPUk1BVFRJTkdcblxuZnVuY3Rpb24gb2Zmc2V0ICh0b2tlbiwgc2VwYXJhdG9yKSB7XG4gICAgYWRkRm9ybWF0VG9rZW4odG9rZW4sIDAsIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG9mZnNldCA9IHRoaXMudXRjT2Zmc2V0KCk7XG4gICAgICAgIHZhciBzaWduID0gJysnO1xuICAgICAgICBpZiAob2Zmc2V0IDwgMCkge1xuICAgICAgICAgICAgb2Zmc2V0ID0gLW9mZnNldDtcbiAgICAgICAgICAgIHNpZ24gPSAnLSc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNpZ24gKyB6ZXJvRmlsbCh+fihvZmZzZXQgLyA2MCksIDIpICsgc2VwYXJhdG9yICsgemVyb0ZpbGwofn4ob2Zmc2V0KSAlIDYwLCAyKTtcbiAgICB9KTtcbn1cblxub2Zmc2V0KCdaJywgJzonKTtcbm9mZnNldCgnWlonLCAnJyk7XG5cbi8vIFBBUlNJTkdcblxuYWRkUmVnZXhUb2tlbignWicsICBtYXRjaFNob3J0T2Zmc2V0KTtcbmFkZFJlZ2V4VG9rZW4oJ1paJywgbWF0Y2hTaG9ydE9mZnNldCk7XG5hZGRQYXJzZVRva2VuKFsnWicsICdaWiddLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcpIHtcbiAgICBjb25maWcuX3VzZVVUQyA9IHRydWU7XG4gICAgY29uZmlnLl90em0gPSBvZmZzZXRGcm9tU3RyaW5nKG1hdGNoU2hvcnRPZmZzZXQsIGlucHV0KTtcbn0pO1xuXG4vLyBIRUxQRVJTXG5cbi8vIHRpbWV6b25lIGNodW5rZXJcbi8vICcrMTA6MDAnID4gWycxMCcsICAnMDAnXVxuLy8gJy0xNTMwJyAgPiBbJy0xNScsICczMCddXG52YXIgY2h1bmtPZmZzZXQgPSAvKFtcXCtcXC1dfFxcZFxcZCkvZ2k7XG5cbmZ1bmN0aW9uIG9mZnNldEZyb21TdHJpbmcobWF0Y2hlciwgc3RyaW5nKSB7XG4gICAgdmFyIG1hdGNoZXMgPSAoc3RyaW5nIHx8ICcnKS5tYXRjaChtYXRjaGVyKTtcblxuICAgIGlmIChtYXRjaGVzID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHZhciBjaHVuayAgID0gbWF0Y2hlc1ttYXRjaGVzLmxlbmd0aCAtIDFdIHx8IFtdO1xuICAgIHZhciBwYXJ0cyAgID0gKGNodW5rICsgJycpLm1hdGNoKGNodW5rT2Zmc2V0KSB8fCBbJy0nLCAwLCAwXTtcbiAgICB2YXIgbWludXRlcyA9ICsocGFydHNbMV0gKiA2MCkgKyB0b0ludChwYXJ0c1syXSk7XG5cbiAgICByZXR1cm4gbWludXRlcyA9PT0gMCA/XG4gICAgICAwIDpcbiAgICAgIHBhcnRzWzBdID09PSAnKycgPyBtaW51dGVzIDogLW1pbnV0ZXM7XG59XG5cbi8vIFJldHVybiBhIG1vbWVudCBmcm9tIGlucHV0LCB0aGF0IGlzIGxvY2FsL3V0Yy96b25lIGVxdWl2YWxlbnQgdG8gbW9kZWwuXG5mdW5jdGlvbiBjbG9uZVdpdGhPZmZzZXQoaW5wdXQsIG1vZGVsKSB7XG4gICAgdmFyIHJlcywgZGlmZjtcbiAgICBpZiAobW9kZWwuX2lzVVRDKSB7XG4gICAgICAgIHJlcyA9IG1vZGVsLmNsb25lKCk7XG4gICAgICAgIGRpZmYgPSAoaXNNb21lbnQoaW5wdXQpIHx8IGlzRGF0ZShpbnB1dCkgPyBpbnB1dC52YWx1ZU9mKCkgOiBjcmVhdGVMb2NhbChpbnB1dCkudmFsdWVPZigpKSAtIHJlcy52YWx1ZU9mKCk7XG4gICAgICAgIC8vIFVzZSBsb3ctbGV2ZWwgYXBpLCBiZWNhdXNlIHRoaXMgZm4gaXMgbG93LWxldmVsIGFwaS5cbiAgICAgICAgcmVzLl9kLnNldFRpbWUocmVzLl9kLnZhbHVlT2YoKSArIGRpZmYpO1xuICAgICAgICBob29rcy51cGRhdGVPZmZzZXQocmVzLCBmYWxzZSk7XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUxvY2FsKGlucHV0KS5sb2NhbCgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZ2V0RGF0ZU9mZnNldCAobSkge1xuICAgIC8vIE9uIEZpcmVmb3guMjQgRGF0ZSNnZXRUaW1lem9uZU9mZnNldCByZXR1cm5zIGEgZmxvYXRpbmcgcG9pbnQuXG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL21vbWVudC9tb21lbnQvcHVsbC8xODcxXG4gICAgcmV0dXJuIC1NYXRoLnJvdW5kKG0uX2QuZ2V0VGltZXpvbmVPZmZzZXQoKSAvIDE1KSAqIDE1O1xufVxuXG4vLyBIT09LU1xuXG4vLyBUaGlzIGZ1bmN0aW9uIHdpbGwgYmUgY2FsbGVkIHdoZW5ldmVyIGEgbW9tZW50IGlzIG11dGF0ZWQuXG4vLyBJdCBpcyBpbnRlbmRlZCB0byBrZWVwIHRoZSBvZmZzZXQgaW4gc3luYyB3aXRoIHRoZSB0aW1lem9uZS5cbmhvb2tzLnVwZGF0ZU9mZnNldCA9IGZ1bmN0aW9uICgpIHt9O1xuXG4vLyBNT01FTlRTXG5cbi8vIGtlZXBMb2NhbFRpbWUgPSB0cnVlIG1lYW5zIG9ubHkgY2hhbmdlIHRoZSB0aW1lem9uZSwgd2l0aG91dFxuLy8gYWZmZWN0aW5nIHRoZSBsb2NhbCBob3VyLiBTbyA1OjMxOjI2ICswMzAwIC0tW3V0Y09mZnNldCgyLCB0cnVlKV0tLT5cbi8vIDU6MzE6MjYgKzAyMDAgSXQgaXMgcG9zc2libGUgdGhhdCA1OjMxOjI2IGRvZXNuJ3QgZXhpc3Qgd2l0aCBvZmZzZXRcbi8vICswMjAwLCBzbyB3ZSBhZGp1c3QgdGhlIHRpbWUgYXMgbmVlZGVkLCB0byBiZSB2YWxpZC5cbi8vXG4vLyBLZWVwaW5nIHRoZSB0aW1lIGFjdHVhbGx5IGFkZHMvc3VidHJhY3RzIChvbmUgaG91cilcbi8vIGZyb20gdGhlIGFjdHVhbCByZXByZXNlbnRlZCB0aW1lLiBUaGF0IGlzIHdoeSB3ZSBjYWxsIHVwZGF0ZU9mZnNldFxuLy8gYSBzZWNvbmQgdGltZS4gSW4gY2FzZSBpdCB3YW50cyB1cyB0byBjaGFuZ2UgdGhlIG9mZnNldCBhZ2FpblxuLy8gX2NoYW5nZUluUHJvZ3Jlc3MgPT0gdHJ1ZSBjYXNlLCB0aGVuIHdlIGhhdmUgdG8gYWRqdXN0LCBiZWNhdXNlXG4vLyB0aGVyZSBpcyBubyBzdWNoIHRpbWUgaW4gdGhlIGdpdmVuIHRpbWV6b25lLlxuZnVuY3Rpb24gZ2V0U2V0T2Zmc2V0IChpbnB1dCwga2VlcExvY2FsVGltZSkge1xuICAgIHZhciBvZmZzZXQgPSB0aGlzLl9vZmZzZXQgfHwgMCxcbiAgICAgICAgbG9jYWxBZGp1c3Q7XG4gICAgaWYgKCF0aGlzLmlzVmFsaWQoKSkge1xuICAgICAgICByZXR1cm4gaW5wdXQgIT0gbnVsbCA/IHRoaXMgOiBOYU47XG4gICAgfVxuICAgIGlmIChpbnB1dCAhPSBudWxsKSB7XG4gICAgICAgIGlmICh0eXBlb2YgaW5wdXQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBpbnB1dCA9IG9mZnNldEZyb21TdHJpbmcobWF0Y2hTaG9ydE9mZnNldCwgaW5wdXQpO1xuICAgICAgICAgICAgaWYgKGlucHV0ID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoTWF0aC5hYnMoaW5wdXQpIDwgMTYpIHtcbiAgICAgICAgICAgIGlucHV0ID0gaW5wdXQgKiA2MDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuX2lzVVRDICYmIGtlZXBMb2NhbFRpbWUpIHtcbiAgICAgICAgICAgIGxvY2FsQWRqdXN0ID0gZ2V0RGF0ZU9mZnNldCh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9vZmZzZXQgPSBpbnB1dDtcbiAgICAgICAgdGhpcy5faXNVVEMgPSB0cnVlO1xuICAgICAgICBpZiAobG9jYWxBZGp1c3QgIT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5hZGQobG9jYWxBZGp1c3QsICdtJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9mZnNldCAhPT0gaW5wdXQpIHtcbiAgICAgICAgICAgIGlmICgha2VlcExvY2FsVGltZSB8fCB0aGlzLl9jaGFuZ2VJblByb2dyZXNzKSB7XG4gICAgICAgICAgICAgICAgYWRkU3VidHJhY3QodGhpcywgY3JlYXRlRHVyYXRpb24oaW5wdXQgLSBvZmZzZXQsICdtJyksIDEsIGZhbHNlKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIXRoaXMuX2NoYW5nZUluUHJvZ3Jlc3MpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9jaGFuZ2VJblByb2dyZXNzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBob29rcy51cGRhdGVPZmZzZXQodGhpcywgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fY2hhbmdlSW5Qcm9ncmVzcyA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzVVRDID8gb2Zmc2V0IDogZ2V0RGF0ZU9mZnNldCh0aGlzKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGdldFNldFpvbmUgKGlucHV0LCBrZWVwTG9jYWxUaW1lKSB7XG4gICAgaWYgKGlucHV0ICE9IG51bGwpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBpbnB1dCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIGlucHV0ID0gLWlucHV0O1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy51dGNPZmZzZXQoaW5wdXQsIGtlZXBMb2NhbFRpbWUpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiAtdGhpcy51dGNPZmZzZXQoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHNldE9mZnNldFRvVVRDIChrZWVwTG9jYWxUaW1lKSB7XG4gICAgcmV0dXJuIHRoaXMudXRjT2Zmc2V0KDAsIGtlZXBMb2NhbFRpbWUpO1xufVxuXG5mdW5jdGlvbiBzZXRPZmZzZXRUb0xvY2FsIChrZWVwTG9jYWxUaW1lKSB7XG4gICAgaWYgKHRoaXMuX2lzVVRDKSB7XG4gICAgICAgIHRoaXMudXRjT2Zmc2V0KDAsIGtlZXBMb2NhbFRpbWUpO1xuICAgICAgICB0aGlzLl9pc1VUQyA9IGZhbHNlO1xuXG4gICAgICAgIGlmIChrZWVwTG9jYWxUaW1lKSB7XG4gICAgICAgICAgICB0aGlzLnN1YnRyYWN0KGdldERhdGVPZmZzZXQodGhpcyksICdtJyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG59XG5cbmZ1bmN0aW9uIHNldE9mZnNldFRvUGFyc2VkT2Zmc2V0ICgpIHtcbiAgICBpZiAodGhpcy5fdHptICE9IG51bGwpIHtcbiAgICAgICAgdGhpcy51dGNPZmZzZXQodGhpcy5fdHptKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiB0aGlzLl9pID09PSAnc3RyaW5nJykge1xuICAgICAgICB2YXIgdFpvbmUgPSBvZmZzZXRGcm9tU3RyaW5nKG1hdGNoT2Zmc2V0LCB0aGlzLl9pKTtcbiAgICAgICAgaWYgKHRab25lICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMudXRjT2Zmc2V0KHRab25lKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudXRjT2Zmc2V0KDAsIHRydWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xufVxuXG5mdW5jdGlvbiBoYXNBbGlnbmVkSG91ck9mZnNldCAoaW5wdXQpIHtcbiAgICBpZiAoIXRoaXMuaXNWYWxpZCgpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaW5wdXQgPSBpbnB1dCA/IGNyZWF0ZUxvY2FsKGlucHV0KS51dGNPZmZzZXQoKSA6IDA7XG5cbiAgICByZXR1cm4gKHRoaXMudXRjT2Zmc2V0KCkgLSBpbnB1dCkgJSA2MCA9PT0gMDtcbn1cblxuZnVuY3Rpb24gaXNEYXlsaWdodFNhdmluZ1RpbWUgKCkge1xuICAgIHJldHVybiAoXG4gICAgICAgIHRoaXMudXRjT2Zmc2V0KCkgPiB0aGlzLmNsb25lKCkubW9udGgoMCkudXRjT2Zmc2V0KCkgfHxcbiAgICAgICAgdGhpcy51dGNPZmZzZXQoKSA+IHRoaXMuY2xvbmUoKS5tb250aCg1KS51dGNPZmZzZXQoKVxuICAgICk7XG59XG5cbmZ1bmN0aW9uIGlzRGF5bGlnaHRTYXZpbmdUaW1lU2hpZnRlZCAoKSB7XG4gICAgaWYgKCFpc1VuZGVmaW5lZCh0aGlzLl9pc0RTVFNoaWZ0ZWQpKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pc0RTVFNoaWZ0ZWQ7XG4gICAgfVxuXG4gICAgdmFyIGMgPSB7fTtcblxuICAgIGNvcHlDb25maWcoYywgdGhpcyk7XG4gICAgYyA9IHByZXBhcmVDb25maWcoYyk7XG5cbiAgICBpZiAoYy5fYSkge1xuICAgICAgICB2YXIgb3RoZXIgPSBjLl9pc1VUQyA/IGNyZWF0ZVVUQyhjLl9hKSA6IGNyZWF0ZUxvY2FsKGMuX2EpO1xuICAgICAgICB0aGlzLl9pc0RTVFNoaWZ0ZWQgPSB0aGlzLmlzVmFsaWQoKSAmJlxuICAgICAgICAgICAgY29tcGFyZUFycmF5cyhjLl9hLCBvdGhlci50b0FycmF5KCkpID4gMDtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9pc0RTVFNoaWZ0ZWQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5faXNEU1RTaGlmdGVkO1xufVxuXG5mdW5jdGlvbiBpc0xvY2FsICgpIHtcbiAgICByZXR1cm4gdGhpcy5pc1ZhbGlkKCkgPyAhdGhpcy5faXNVVEMgOiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gaXNVdGNPZmZzZXQgKCkge1xuICAgIHJldHVybiB0aGlzLmlzVmFsaWQoKSA/IHRoaXMuX2lzVVRDIDogZmFsc2U7XG59XG5cbmZ1bmN0aW9uIGlzVXRjICgpIHtcbiAgICByZXR1cm4gdGhpcy5pc1ZhbGlkKCkgPyB0aGlzLl9pc1VUQyAmJiB0aGlzLl9vZmZzZXQgPT09IDAgOiBmYWxzZTtcbn1cblxuLy8gQVNQLk5FVCBqc29uIGRhdGUgZm9ybWF0IHJlZ2V4XG52YXIgYXNwTmV0UmVnZXggPSAvXihcXC0pPyg/OihcXGQqKVsuIF0pPyhcXGQrKVxcOihcXGQrKSg/OlxcOihcXGQrKShcXC5cXGQqKT8pPyQvO1xuXG4vLyBmcm9tIGh0dHA6Ly9kb2NzLmNsb3N1cmUtbGlicmFyeS5nb29nbGVjb2RlLmNvbS9naXQvY2xvc3VyZV9nb29nX2RhdGVfZGF0ZS5qcy5zb3VyY2UuaHRtbFxuLy8gc29tZXdoYXQgbW9yZSBpbiBsaW5lIHdpdGggNC40LjMuMiAyMDA0IHNwZWMsIGJ1dCBhbGxvd3MgZGVjaW1hbCBhbnl3aGVyZVxuLy8gYW5kIGZ1cnRoZXIgbW9kaWZpZWQgdG8gYWxsb3cgZm9yIHN0cmluZ3MgY29udGFpbmluZyBib3RoIHdlZWsgYW5kIGRheVxudmFyIGlzb1JlZ2V4ID0gL14oLSk/UCg/OigtP1swLTksLl0qKVkpPyg/OigtP1swLTksLl0qKU0pPyg/OigtP1swLTksLl0qKVcpPyg/OigtP1swLTksLl0qKUQpPyg/OlQoPzooLT9bMC05LC5dKilIKT8oPzooLT9bMC05LC5dKilNKT8oPzooLT9bMC05LC5dKilTKT8pPyQvO1xuXG5mdW5jdGlvbiBjcmVhdGVEdXJhdGlvbiAoaW5wdXQsIGtleSkge1xuICAgIHZhciBkdXJhdGlvbiA9IGlucHV0LFxuICAgICAgICAvLyBtYXRjaGluZyBhZ2FpbnN0IHJlZ2V4cCBpcyBleHBlbnNpdmUsIGRvIGl0IG9uIGRlbWFuZFxuICAgICAgICBtYXRjaCA9IG51bGwsXG4gICAgICAgIHNpZ24sXG4gICAgICAgIHJldCxcbiAgICAgICAgZGlmZlJlcztcblxuICAgIGlmIChpc0R1cmF0aW9uKGlucHV0KSkge1xuICAgICAgICBkdXJhdGlvbiA9IHtcbiAgICAgICAgICAgIG1zIDogaW5wdXQuX21pbGxpc2Vjb25kcyxcbiAgICAgICAgICAgIGQgIDogaW5wdXQuX2RheXMsXG4gICAgICAgICAgICBNICA6IGlucHV0Ll9tb250aHNcbiAgICAgICAgfTtcbiAgICB9IGVsc2UgaWYgKGlzTnVtYmVyKGlucHV0KSkge1xuICAgICAgICBkdXJhdGlvbiA9IHt9O1xuICAgICAgICBpZiAoa2V5KSB7XG4gICAgICAgICAgICBkdXJhdGlvbltrZXldID0gaW5wdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkdXJhdGlvbi5taWxsaXNlY29uZHMgPSBpbnB1dDtcbiAgICAgICAgfVxuICAgIH0gZWxzZSBpZiAoISEobWF0Y2ggPSBhc3BOZXRSZWdleC5leGVjKGlucHV0KSkpIHtcbiAgICAgICAgc2lnbiA9IChtYXRjaFsxXSA9PT0gJy0nKSA/IC0xIDogMTtcbiAgICAgICAgZHVyYXRpb24gPSB7XG4gICAgICAgICAgICB5ICA6IDAsXG4gICAgICAgICAgICBkICA6IHRvSW50KG1hdGNoW0RBVEVdKSAgICAgICAgICAgICAgICAgICAgICAgICAqIHNpZ24sXG4gICAgICAgICAgICBoICA6IHRvSW50KG1hdGNoW0hPVVJdKSAgICAgICAgICAgICAgICAgICAgICAgICAqIHNpZ24sXG4gICAgICAgICAgICBtICA6IHRvSW50KG1hdGNoW01JTlVURV0pICAgICAgICAgICAgICAgICAgICAgICAqIHNpZ24sXG4gICAgICAgICAgICBzICA6IHRvSW50KG1hdGNoW1NFQ09ORF0pICAgICAgICAgICAgICAgICAgICAgICAqIHNpZ24sXG4gICAgICAgICAgICBtcyA6IHRvSW50KGFic1JvdW5kKG1hdGNoW01JTExJU0VDT05EXSAqIDEwMDApKSAqIHNpZ24gLy8gdGhlIG1pbGxpc2Vjb25kIGRlY2ltYWwgcG9pbnQgaXMgaW5jbHVkZWQgaW4gdGhlIG1hdGNoXG4gICAgICAgIH07XG4gICAgfSBlbHNlIGlmICghIShtYXRjaCA9IGlzb1JlZ2V4LmV4ZWMoaW5wdXQpKSkge1xuICAgICAgICBzaWduID0gKG1hdGNoWzFdID09PSAnLScpID8gLTEgOiAxO1xuICAgICAgICBkdXJhdGlvbiA9IHtcbiAgICAgICAgICAgIHkgOiBwYXJzZUlzbyhtYXRjaFsyXSwgc2lnbiksXG4gICAgICAgICAgICBNIDogcGFyc2VJc28obWF0Y2hbM10sIHNpZ24pLFxuICAgICAgICAgICAgdyA6IHBhcnNlSXNvKG1hdGNoWzRdLCBzaWduKSxcbiAgICAgICAgICAgIGQgOiBwYXJzZUlzbyhtYXRjaFs1XSwgc2lnbiksXG4gICAgICAgICAgICBoIDogcGFyc2VJc28obWF0Y2hbNl0sIHNpZ24pLFxuICAgICAgICAgICAgbSA6IHBhcnNlSXNvKG1hdGNoWzddLCBzaWduKSxcbiAgICAgICAgICAgIHMgOiBwYXJzZUlzbyhtYXRjaFs4XSwgc2lnbilcbiAgICAgICAgfTtcbiAgICB9IGVsc2UgaWYgKGR1cmF0aW9uID09IG51bGwpIHsvLyBjaGVja3MgZm9yIG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGR1cmF0aW9uID0ge307XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZHVyYXRpb24gPT09ICdvYmplY3QnICYmICgnZnJvbScgaW4gZHVyYXRpb24gfHwgJ3RvJyBpbiBkdXJhdGlvbikpIHtcbiAgICAgICAgZGlmZlJlcyA9IG1vbWVudHNEaWZmZXJlbmNlKGNyZWF0ZUxvY2FsKGR1cmF0aW9uLmZyb20pLCBjcmVhdGVMb2NhbChkdXJhdGlvbi50bykpO1xuXG4gICAgICAgIGR1cmF0aW9uID0ge307XG4gICAgICAgIGR1cmF0aW9uLm1zID0gZGlmZlJlcy5taWxsaXNlY29uZHM7XG4gICAgICAgIGR1cmF0aW9uLk0gPSBkaWZmUmVzLm1vbnRocztcbiAgICB9XG5cbiAgICByZXQgPSBuZXcgRHVyYXRpb24oZHVyYXRpb24pO1xuXG4gICAgaWYgKGlzRHVyYXRpb24oaW5wdXQpICYmIGhhc093blByb3AoaW5wdXQsICdfbG9jYWxlJykpIHtcbiAgICAgICAgcmV0Ll9sb2NhbGUgPSBpbnB1dC5fbG9jYWxlO1xuICAgIH1cblxuICAgIHJldHVybiByZXQ7XG59XG5cbmNyZWF0ZUR1cmF0aW9uLmZuID0gRHVyYXRpb24ucHJvdG90eXBlO1xuXG5mdW5jdGlvbiBwYXJzZUlzbyAoaW5wLCBzaWduKSB7XG4gICAgLy8gV2UnZCBub3JtYWxseSB1c2Ugfn5pbnAgZm9yIHRoaXMsIGJ1dCB1bmZvcnR1bmF0ZWx5IGl0IGFsc29cbiAgICAvLyBjb252ZXJ0cyBmbG9hdHMgdG8gaW50cy5cbiAgICAvLyBpbnAgbWF5IGJlIHVuZGVmaW5lZCwgc28gY2FyZWZ1bCBjYWxsaW5nIHJlcGxhY2Ugb24gaXQuXG4gICAgdmFyIHJlcyA9IGlucCAmJiBwYXJzZUZsb2F0KGlucC5yZXBsYWNlKCcsJywgJy4nKSk7XG4gICAgLy8gYXBwbHkgc2lnbiB3aGlsZSB3ZSdyZSBhdCBpdFxuICAgIHJldHVybiAoaXNOYU4ocmVzKSA/IDAgOiByZXMpICogc2lnbjtcbn1cblxuZnVuY3Rpb24gcG9zaXRpdmVNb21lbnRzRGlmZmVyZW5jZShiYXNlLCBvdGhlcikge1xuICAgIHZhciByZXMgPSB7bWlsbGlzZWNvbmRzOiAwLCBtb250aHM6IDB9O1xuXG4gICAgcmVzLm1vbnRocyA9IG90aGVyLm1vbnRoKCkgLSBiYXNlLm1vbnRoKCkgK1xuICAgICAgICAob3RoZXIueWVhcigpIC0gYmFzZS55ZWFyKCkpICogMTI7XG4gICAgaWYgKGJhc2UuY2xvbmUoKS5hZGQocmVzLm1vbnRocywgJ00nKS5pc0FmdGVyKG90aGVyKSkge1xuICAgICAgICAtLXJlcy5tb250aHM7XG4gICAgfVxuXG4gICAgcmVzLm1pbGxpc2Vjb25kcyA9ICtvdGhlciAtICsoYmFzZS5jbG9uZSgpLmFkZChyZXMubW9udGhzLCAnTScpKTtcblxuICAgIHJldHVybiByZXM7XG59XG5cbmZ1bmN0aW9uIG1vbWVudHNEaWZmZXJlbmNlKGJhc2UsIG90aGVyKSB7XG4gICAgdmFyIHJlcztcbiAgICBpZiAoIShiYXNlLmlzVmFsaWQoKSAmJiBvdGhlci5pc1ZhbGlkKCkpKSB7XG4gICAgICAgIHJldHVybiB7bWlsbGlzZWNvbmRzOiAwLCBtb250aHM6IDB9O1xuICAgIH1cblxuICAgIG90aGVyID0gY2xvbmVXaXRoT2Zmc2V0KG90aGVyLCBiYXNlKTtcbiAgICBpZiAoYmFzZS5pc0JlZm9yZShvdGhlcikpIHtcbiAgICAgICAgcmVzID0gcG9zaXRpdmVNb21lbnRzRGlmZmVyZW5jZShiYXNlLCBvdGhlcik7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmVzID0gcG9zaXRpdmVNb21lbnRzRGlmZmVyZW5jZShvdGhlciwgYmFzZSk7XG4gICAgICAgIHJlcy5taWxsaXNlY29uZHMgPSAtcmVzLm1pbGxpc2Vjb25kcztcbiAgICAgICAgcmVzLm1vbnRocyA9IC1yZXMubW9udGhzO1xuICAgIH1cblxuICAgIHJldHVybiByZXM7XG59XG5cbi8vIFRPRE86IHJlbW92ZSAnbmFtZScgYXJnIGFmdGVyIGRlcHJlY2F0aW9uIGlzIHJlbW92ZWRcbmZ1bmN0aW9uIGNyZWF0ZUFkZGVyKGRpcmVjdGlvbiwgbmFtZSkge1xuICAgIHJldHVybiBmdW5jdGlvbiAodmFsLCBwZXJpb2QpIHtcbiAgICAgICAgdmFyIGR1ciwgdG1wO1xuICAgICAgICAvL2ludmVydCB0aGUgYXJndW1lbnRzLCBidXQgY29tcGxhaW4gYWJvdXQgaXRcbiAgICAgICAgaWYgKHBlcmlvZCAhPT0gbnVsbCAmJiAhaXNOYU4oK3BlcmlvZCkpIHtcbiAgICAgICAgICAgIGRlcHJlY2F0ZVNpbXBsZShuYW1lLCAnbW9tZW50KCkuJyArIG5hbWUgICsgJyhwZXJpb2QsIG51bWJlcikgaXMgZGVwcmVjYXRlZC4gUGxlYXNlIHVzZSBtb21lbnQoKS4nICsgbmFtZSArICcobnVtYmVyLCBwZXJpb2QpLiAnICtcbiAgICAgICAgICAgICdTZWUgaHR0cDovL21vbWVudGpzLmNvbS9ndWlkZXMvIy93YXJuaW5ncy9hZGQtaW52ZXJ0ZWQtcGFyYW0vIGZvciBtb3JlIGluZm8uJyk7XG4gICAgICAgICAgICB0bXAgPSB2YWw7IHZhbCA9IHBlcmlvZDsgcGVyaW9kID0gdG1wO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFsID0gdHlwZW9mIHZhbCA9PT0gJ3N0cmluZycgPyArdmFsIDogdmFsO1xuICAgICAgICBkdXIgPSBjcmVhdGVEdXJhdGlvbih2YWwsIHBlcmlvZCk7XG4gICAgICAgIGFkZFN1YnRyYWN0KHRoaXMsIGR1ciwgZGlyZWN0aW9uKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbn1cblxuZnVuY3Rpb24gYWRkU3VidHJhY3QgKG1vbSwgZHVyYXRpb24sIGlzQWRkaW5nLCB1cGRhdGVPZmZzZXQpIHtcbiAgICB2YXIgbWlsbGlzZWNvbmRzID0gZHVyYXRpb24uX21pbGxpc2Vjb25kcyxcbiAgICAgICAgZGF5cyA9IGFic1JvdW5kKGR1cmF0aW9uLl9kYXlzKSxcbiAgICAgICAgbW9udGhzID0gYWJzUm91bmQoZHVyYXRpb24uX21vbnRocyk7XG5cbiAgICBpZiAoIW1vbS5pc1ZhbGlkKCkpIHtcbiAgICAgICAgLy8gTm8gb3BcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHVwZGF0ZU9mZnNldCA9IHVwZGF0ZU9mZnNldCA9PSBudWxsID8gdHJ1ZSA6IHVwZGF0ZU9mZnNldDtcblxuICAgIGlmIChtaWxsaXNlY29uZHMpIHtcbiAgICAgICAgbW9tLl9kLnNldFRpbWUobW9tLl9kLnZhbHVlT2YoKSArIG1pbGxpc2Vjb25kcyAqIGlzQWRkaW5nKTtcbiAgICB9XG4gICAgaWYgKGRheXMpIHtcbiAgICAgICAgc2V0JDEobW9tLCAnRGF0ZScsIGdldChtb20sICdEYXRlJykgKyBkYXlzICogaXNBZGRpbmcpO1xuICAgIH1cbiAgICBpZiAobW9udGhzKSB7XG4gICAgICAgIHNldE1vbnRoKG1vbSwgZ2V0KG1vbSwgJ01vbnRoJykgKyBtb250aHMgKiBpc0FkZGluZyk7XG4gICAgfVxuICAgIGlmICh1cGRhdGVPZmZzZXQpIHtcbiAgICAgICAgaG9va3MudXBkYXRlT2Zmc2V0KG1vbSwgZGF5cyB8fCBtb250aHMpO1xuICAgIH1cbn1cblxudmFyIGFkZCAgICAgID0gY3JlYXRlQWRkZXIoMSwgJ2FkZCcpO1xudmFyIHN1YnRyYWN0ID0gY3JlYXRlQWRkZXIoLTEsICdzdWJ0cmFjdCcpO1xuXG5mdW5jdGlvbiBnZXRDYWxlbmRhckZvcm1hdChteU1vbWVudCwgbm93KSB7XG4gICAgdmFyIGRpZmYgPSBteU1vbWVudC5kaWZmKG5vdywgJ2RheXMnLCB0cnVlKTtcbiAgICByZXR1cm4gZGlmZiA8IC02ID8gJ3NhbWVFbHNlJyA6XG4gICAgICAgICAgICBkaWZmIDwgLTEgPyAnbGFzdFdlZWsnIDpcbiAgICAgICAgICAgIGRpZmYgPCAwID8gJ2xhc3REYXknIDpcbiAgICAgICAgICAgIGRpZmYgPCAxID8gJ3NhbWVEYXknIDpcbiAgICAgICAgICAgIGRpZmYgPCAyID8gJ25leHREYXknIDpcbiAgICAgICAgICAgIGRpZmYgPCA3ID8gJ25leHRXZWVrJyA6ICdzYW1lRWxzZSc7XG59XG5cbmZ1bmN0aW9uIGNhbGVuZGFyJDEgKHRpbWUsIGZvcm1hdHMpIHtcbiAgICAvLyBXZSB3YW50IHRvIGNvbXBhcmUgdGhlIHN0YXJ0IG9mIHRvZGF5LCB2cyB0aGlzLlxuICAgIC8vIEdldHRpbmcgc3RhcnQtb2YtdG9kYXkgZGVwZW5kcyBvbiB3aGV0aGVyIHdlJ3JlIGxvY2FsL3V0Yy9vZmZzZXQgb3Igbm90LlxuICAgIHZhciBub3cgPSB0aW1lIHx8IGNyZWF0ZUxvY2FsKCksXG4gICAgICAgIHNvZCA9IGNsb25lV2l0aE9mZnNldChub3csIHRoaXMpLnN0YXJ0T2YoJ2RheScpLFxuICAgICAgICBmb3JtYXQgPSBob29rcy5jYWxlbmRhckZvcm1hdCh0aGlzLCBzb2QpIHx8ICdzYW1lRWxzZSc7XG5cbiAgICB2YXIgb3V0cHV0ID0gZm9ybWF0cyAmJiAoaXNGdW5jdGlvbihmb3JtYXRzW2Zvcm1hdF0pID8gZm9ybWF0c1tmb3JtYXRdLmNhbGwodGhpcywgbm93KSA6IGZvcm1hdHNbZm9ybWF0XSk7XG5cbiAgICByZXR1cm4gdGhpcy5mb3JtYXQob3V0cHV0IHx8IHRoaXMubG9jYWxlRGF0YSgpLmNhbGVuZGFyKGZvcm1hdCwgdGhpcywgY3JlYXRlTG9jYWwobm93KSkpO1xufVxuXG5mdW5jdGlvbiBjbG9uZSAoKSB7XG4gICAgcmV0dXJuIG5ldyBNb21lbnQodGhpcyk7XG59XG5cbmZ1bmN0aW9uIGlzQWZ0ZXIgKGlucHV0LCB1bml0cykge1xuICAgIHZhciBsb2NhbElucHV0ID0gaXNNb21lbnQoaW5wdXQpID8gaW5wdXQgOiBjcmVhdGVMb2NhbChpbnB1dCk7XG4gICAgaWYgKCEodGhpcy5pc1ZhbGlkKCkgJiYgbG9jYWxJbnB1dC5pc1ZhbGlkKCkpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgdW5pdHMgPSBub3JtYWxpemVVbml0cyghaXNVbmRlZmluZWQodW5pdHMpID8gdW5pdHMgOiAnbWlsbGlzZWNvbmQnKTtcbiAgICBpZiAodW5pdHMgPT09ICdtaWxsaXNlY29uZCcpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmFsdWVPZigpID4gbG9jYWxJbnB1dC52YWx1ZU9mKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGxvY2FsSW5wdXQudmFsdWVPZigpIDwgdGhpcy5jbG9uZSgpLnN0YXJ0T2YodW5pdHMpLnZhbHVlT2YoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGlzQmVmb3JlIChpbnB1dCwgdW5pdHMpIHtcbiAgICB2YXIgbG9jYWxJbnB1dCA9IGlzTW9tZW50KGlucHV0KSA/IGlucHV0IDogY3JlYXRlTG9jYWwoaW5wdXQpO1xuICAgIGlmICghKHRoaXMuaXNWYWxpZCgpICYmIGxvY2FsSW5wdXQuaXNWYWxpZCgpKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHVuaXRzID0gbm9ybWFsaXplVW5pdHMoIWlzVW5kZWZpbmVkKHVuaXRzKSA/IHVuaXRzIDogJ21pbGxpc2Vjb25kJyk7XG4gICAgaWYgKHVuaXRzID09PSAnbWlsbGlzZWNvbmQnKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZhbHVlT2YoKSA8IGxvY2FsSW5wdXQudmFsdWVPZigpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNsb25lKCkuZW5kT2YodW5pdHMpLnZhbHVlT2YoKSA8IGxvY2FsSW5wdXQudmFsdWVPZigpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gaXNCZXR3ZWVuIChmcm9tLCB0bywgdW5pdHMsIGluY2x1c2l2aXR5KSB7XG4gICAgaW5jbHVzaXZpdHkgPSBpbmNsdXNpdml0eSB8fCAnKCknO1xuICAgIHJldHVybiAoaW5jbHVzaXZpdHlbMF0gPT09ICcoJyA/IHRoaXMuaXNBZnRlcihmcm9tLCB1bml0cykgOiAhdGhpcy5pc0JlZm9yZShmcm9tLCB1bml0cykpICYmXG4gICAgICAgIChpbmNsdXNpdml0eVsxXSA9PT0gJyknID8gdGhpcy5pc0JlZm9yZSh0bywgdW5pdHMpIDogIXRoaXMuaXNBZnRlcih0bywgdW5pdHMpKTtcbn1cblxuZnVuY3Rpb24gaXNTYW1lIChpbnB1dCwgdW5pdHMpIHtcbiAgICB2YXIgbG9jYWxJbnB1dCA9IGlzTW9tZW50KGlucHV0KSA/IGlucHV0IDogY3JlYXRlTG9jYWwoaW5wdXQpLFxuICAgICAgICBpbnB1dE1zO1xuICAgIGlmICghKHRoaXMuaXNWYWxpZCgpICYmIGxvY2FsSW5wdXQuaXNWYWxpZCgpKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHVuaXRzID0gbm9ybWFsaXplVW5pdHModW5pdHMgfHwgJ21pbGxpc2Vjb25kJyk7XG4gICAgaWYgKHVuaXRzID09PSAnbWlsbGlzZWNvbmQnKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZhbHVlT2YoKSA9PT0gbG9jYWxJbnB1dC52YWx1ZU9mKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgaW5wdXRNcyA9IGxvY2FsSW5wdXQudmFsdWVPZigpO1xuICAgICAgICByZXR1cm4gdGhpcy5jbG9uZSgpLnN0YXJ0T2YodW5pdHMpLnZhbHVlT2YoKSA8PSBpbnB1dE1zICYmIGlucHV0TXMgPD0gdGhpcy5jbG9uZSgpLmVuZE9mKHVuaXRzKS52YWx1ZU9mKCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBpc1NhbWVPckFmdGVyIChpbnB1dCwgdW5pdHMpIHtcbiAgICByZXR1cm4gdGhpcy5pc1NhbWUoaW5wdXQsIHVuaXRzKSB8fCB0aGlzLmlzQWZ0ZXIoaW5wdXQsdW5pdHMpO1xufVxuXG5mdW5jdGlvbiBpc1NhbWVPckJlZm9yZSAoaW5wdXQsIHVuaXRzKSB7XG4gICAgcmV0dXJuIHRoaXMuaXNTYW1lKGlucHV0LCB1bml0cykgfHwgdGhpcy5pc0JlZm9yZShpbnB1dCx1bml0cyk7XG59XG5cbmZ1bmN0aW9uIGRpZmYgKGlucHV0LCB1bml0cywgYXNGbG9hdCkge1xuICAgIHZhciB0aGF0LFxuICAgICAgICB6b25lRGVsdGEsXG4gICAgICAgIGRlbHRhLCBvdXRwdXQ7XG5cbiAgICBpZiAoIXRoaXMuaXNWYWxpZCgpKSB7XG4gICAgICAgIHJldHVybiBOYU47XG4gICAgfVxuXG4gICAgdGhhdCA9IGNsb25lV2l0aE9mZnNldChpbnB1dCwgdGhpcyk7XG5cbiAgICBpZiAoIXRoYXQuaXNWYWxpZCgpKSB7XG4gICAgICAgIHJldHVybiBOYU47XG4gICAgfVxuXG4gICAgem9uZURlbHRhID0gKHRoYXQudXRjT2Zmc2V0KCkgLSB0aGlzLnV0Y09mZnNldCgpKSAqIDZlNDtcblxuICAgIHVuaXRzID0gbm9ybWFsaXplVW5pdHModW5pdHMpO1xuXG4gICAgaWYgKHVuaXRzID09PSAneWVhcicgfHwgdW5pdHMgPT09ICdtb250aCcgfHwgdW5pdHMgPT09ICdxdWFydGVyJykge1xuICAgICAgICBvdXRwdXQgPSBtb250aERpZmYodGhpcywgdGhhdCk7XG4gICAgICAgIGlmICh1bml0cyA9PT0gJ3F1YXJ0ZXInKSB7XG4gICAgICAgICAgICBvdXRwdXQgPSBvdXRwdXQgLyAzO1xuICAgICAgICB9IGVsc2UgaWYgKHVuaXRzID09PSAneWVhcicpIHtcbiAgICAgICAgICAgIG91dHB1dCA9IG91dHB1dCAvIDEyO1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZGVsdGEgPSB0aGlzIC0gdGhhdDtcbiAgICAgICAgb3V0cHV0ID0gdW5pdHMgPT09ICdzZWNvbmQnID8gZGVsdGEgLyAxZTMgOiAvLyAxMDAwXG4gICAgICAgICAgICB1bml0cyA9PT0gJ21pbnV0ZScgPyBkZWx0YSAvIDZlNCA6IC8vIDEwMDAgKiA2MFxuICAgICAgICAgICAgdW5pdHMgPT09ICdob3VyJyA/IGRlbHRhIC8gMzZlNSA6IC8vIDEwMDAgKiA2MCAqIDYwXG4gICAgICAgICAgICB1bml0cyA9PT0gJ2RheScgPyAoZGVsdGEgLSB6b25lRGVsdGEpIC8gODY0ZTUgOiAvLyAxMDAwICogNjAgKiA2MCAqIDI0LCBuZWdhdGUgZHN0XG4gICAgICAgICAgICB1bml0cyA9PT0gJ3dlZWsnID8gKGRlbHRhIC0gem9uZURlbHRhKSAvIDYwNDhlNSA6IC8vIDEwMDAgKiA2MCAqIDYwICogMjQgKiA3LCBuZWdhdGUgZHN0XG4gICAgICAgICAgICBkZWx0YTtcbiAgICB9XG4gICAgcmV0dXJuIGFzRmxvYXQgPyBvdXRwdXQgOiBhYnNGbG9vcihvdXRwdXQpO1xufVxuXG5mdW5jdGlvbiBtb250aERpZmYgKGEsIGIpIHtcbiAgICAvLyBkaWZmZXJlbmNlIGluIG1vbnRoc1xuICAgIHZhciB3aG9sZU1vbnRoRGlmZiA9ICgoYi55ZWFyKCkgLSBhLnllYXIoKSkgKiAxMikgKyAoYi5tb250aCgpIC0gYS5tb250aCgpKSxcbiAgICAgICAgLy8gYiBpcyBpbiAoYW5jaG9yIC0gMSBtb250aCwgYW5jaG9yICsgMSBtb250aClcbiAgICAgICAgYW5jaG9yID0gYS5jbG9uZSgpLmFkZCh3aG9sZU1vbnRoRGlmZiwgJ21vbnRocycpLFxuICAgICAgICBhbmNob3IyLCBhZGp1c3Q7XG5cbiAgICBpZiAoYiAtIGFuY2hvciA8IDApIHtcbiAgICAgICAgYW5jaG9yMiA9IGEuY2xvbmUoKS5hZGQod2hvbGVNb250aERpZmYgLSAxLCAnbW9udGhzJyk7XG4gICAgICAgIC8vIGxpbmVhciBhY3Jvc3MgdGhlIG1vbnRoXG4gICAgICAgIGFkanVzdCA9IChiIC0gYW5jaG9yKSAvIChhbmNob3IgLSBhbmNob3IyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBhbmNob3IyID0gYS5jbG9uZSgpLmFkZCh3aG9sZU1vbnRoRGlmZiArIDEsICdtb250aHMnKTtcbiAgICAgICAgLy8gbGluZWFyIGFjcm9zcyB0aGUgbW9udGhcbiAgICAgICAgYWRqdXN0ID0gKGIgLSBhbmNob3IpIC8gKGFuY2hvcjIgLSBhbmNob3IpO1xuICAgIH1cblxuICAgIC8vY2hlY2sgZm9yIG5lZ2F0aXZlIHplcm8sIHJldHVybiB6ZXJvIGlmIG5lZ2F0aXZlIHplcm9cbiAgICByZXR1cm4gLSh3aG9sZU1vbnRoRGlmZiArIGFkanVzdCkgfHwgMDtcbn1cblxuaG9va3MuZGVmYXVsdEZvcm1hdCA9ICdZWVlZLU1NLUREVEhIOm1tOnNzWic7XG5ob29rcy5kZWZhdWx0Rm9ybWF0VXRjID0gJ1lZWVktTU0tRERUSEg6bW06c3NbWl0nO1xuXG5mdW5jdGlvbiB0b1N0cmluZyAoKSB7XG4gICAgcmV0dXJuIHRoaXMuY2xvbmUoKS5sb2NhbGUoJ2VuJykuZm9ybWF0KCdkZGQgTU1NIEREIFlZWVkgSEg6bW06c3MgW0dNVF1aWicpO1xufVxuXG5mdW5jdGlvbiB0b0lTT1N0cmluZyAoKSB7XG4gICAgdmFyIG0gPSB0aGlzLmNsb25lKCkudXRjKCk7XG4gICAgaWYgKDAgPCBtLnllYXIoKSAmJiBtLnllYXIoKSA8PSA5OTk5KSB7XG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKERhdGUucHJvdG90eXBlLnRvSVNPU3RyaW5nKSkge1xuICAgICAgICAgICAgLy8gbmF0aXZlIGltcGxlbWVudGF0aW9uIGlzIH41MHggZmFzdGVyLCB1c2UgaXQgd2hlbiB3ZSBjYW5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRvRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZm9ybWF0TW9tZW50KG0sICdZWVlZLU1NLUREW1RdSEg6bW06c3MuU1NTW1pdJyk7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZm9ybWF0TW9tZW50KG0sICdZWVlZWVktTU0tRERbVF1ISDptbTpzcy5TU1NbWl0nKTtcbiAgICB9XG59XG5cbi8qKlxuICogUmV0dXJuIGEgaHVtYW4gcmVhZGFibGUgcmVwcmVzZW50YXRpb24gb2YgYSBtb21lbnQgdGhhdCBjYW5cbiAqIGFsc28gYmUgZXZhbHVhdGVkIHRvIGdldCBhIG5ldyBtb21lbnQgd2hpY2ggaXMgdGhlIHNhbWVcbiAqXG4gKiBAbGluayBodHRwczovL25vZGVqcy5vcmcvZGlzdC9sYXRlc3QvZG9jcy9hcGkvdXRpbC5odG1sI3V0aWxfY3VzdG9tX2luc3BlY3RfZnVuY3Rpb25fb25fb2JqZWN0c1xuICovXG5mdW5jdGlvbiBpbnNwZWN0ICgpIHtcbiAgICBpZiAoIXRoaXMuaXNWYWxpZCgpKSB7XG4gICAgICAgIHJldHVybiAnbW9tZW50LmludmFsaWQoLyogJyArIHRoaXMuX2kgKyAnICovKSc7XG4gICAgfVxuICAgIHZhciBmdW5jID0gJ21vbWVudCc7XG4gICAgdmFyIHpvbmUgPSAnJztcbiAgICBpZiAoIXRoaXMuaXNMb2NhbCgpKSB7XG4gICAgICAgIGZ1bmMgPSB0aGlzLnV0Y09mZnNldCgpID09PSAwID8gJ21vbWVudC51dGMnIDogJ21vbWVudC5wYXJzZVpvbmUnO1xuICAgICAgICB6b25lID0gJ1onO1xuICAgIH1cbiAgICB2YXIgcHJlZml4ID0gJ1snICsgZnVuYyArICcoXCJdJztcbiAgICB2YXIgeWVhciA9ICgwIDwgdGhpcy55ZWFyKCkgJiYgdGhpcy55ZWFyKCkgPD0gOTk5OSkgPyAnWVlZWScgOiAnWVlZWVlZJztcbiAgICB2YXIgZGF0ZXRpbWUgPSAnLU1NLUREW1RdSEg6bW06c3MuU1NTJztcbiAgICB2YXIgc3VmZml4ID0gem9uZSArICdbXCIpXSc7XG5cbiAgICByZXR1cm4gdGhpcy5mb3JtYXQocHJlZml4ICsgeWVhciArIGRhdGV0aW1lICsgc3VmZml4KTtcbn1cblxuZnVuY3Rpb24gZm9ybWF0IChpbnB1dFN0cmluZykge1xuICAgIGlmICghaW5wdXRTdHJpbmcpIHtcbiAgICAgICAgaW5wdXRTdHJpbmcgPSB0aGlzLmlzVXRjKCkgPyBob29rcy5kZWZhdWx0Rm9ybWF0VXRjIDogaG9va3MuZGVmYXVsdEZvcm1hdDtcbiAgICB9XG4gICAgdmFyIG91dHB1dCA9IGZvcm1hdE1vbWVudCh0aGlzLCBpbnB1dFN0cmluZyk7XG4gICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLnBvc3Rmb3JtYXQob3V0cHV0KTtcbn1cblxuZnVuY3Rpb24gZnJvbSAodGltZSwgd2l0aG91dFN1ZmZpeCkge1xuICAgIGlmICh0aGlzLmlzVmFsaWQoKSAmJlxuICAgICAgICAgICAgKChpc01vbWVudCh0aW1lKSAmJiB0aW1lLmlzVmFsaWQoKSkgfHxcbiAgICAgICAgICAgICBjcmVhdGVMb2NhbCh0aW1lKS5pc1ZhbGlkKCkpKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVEdXJhdGlvbih7dG86IHRoaXMsIGZyb206IHRpbWV9KS5sb2NhbGUodGhpcy5sb2NhbGUoKSkuaHVtYW5pemUoIXdpdGhvdXRTdWZmaXgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxvY2FsZURhdGEoKS5pbnZhbGlkRGF0ZSgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZnJvbU5vdyAod2l0aG91dFN1ZmZpeCkge1xuICAgIHJldHVybiB0aGlzLmZyb20oY3JlYXRlTG9jYWwoKSwgd2l0aG91dFN1ZmZpeCk7XG59XG5cbmZ1bmN0aW9uIHRvICh0aW1lLCB3aXRob3V0U3VmZml4KSB7XG4gICAgaWYgKHRoaXMuaXNWYWxpZCgpICYmXG4gICAgICAgICAgICAoKGlzTW9tZW50KHRpbWUpICYmIHRpbWUuaXNWYWxpZCgpKSB8fFxuICAgICAgICAgICAgIGNyZWF0ZUxvY2FsKHRpbWUpLmlzVmFsaWQoKSkpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUR1cmF0aW9uKHtmcm9tOiB0aGlzLCB0bzogdGltZX0pLmxvY2FsZSh0aGlzLmxvY2FsZSgpKS5odW1hbml6ZSghd2l0aG91dFN1ZmZpeCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLmludmFsaWREYXRlKCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiB0b05vdyAod2l0aG91dFN1ZmZpeCkge1xuICAgIHJldHVybiB0aGlzLnRvKGNyZWF0ZUxvY2FsKCksIHdpdGhvdXRTdWZmaXgpO1xufVxuXG4vLyBJZiBwYXNzZWQgYSBsb2NhbGUga2V5LCBpdCB3aWxsIHNldCB0aGUgbG9jYWxlIGZvciB0aGlzXG4vLyBpbnN0YW5jZS4gIE90aGVyd2lzZSwgaXQgd2lsbCByZXR1cm4gdGhlIGxvY2FsZSBjb25maWd1cmF0aW9uXG4vLyB2YXJpYWJsZXMgZm9yIHRoaXMgaW5zdGFuY2UuXG5mdW5jdGlvbiBsb2NhbGUgKGtleSkge1xuICAgIHZhciBuZXdMb2NhbGVEYXRhO1xuXG4gICAgaWYgKGtleSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9sb2NhbGUuX2FiYnI7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgbmV3TG9jYWxlRGF0YSA9IGdldExvY2FsZShrZXkpO1xuICAgICAgICBpZiAobmV3TG9jYWxlRGF0YSAhPSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl9sb2NhbGUgPSBuZXdMb2NhbGVEYXRhO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbn1cblxudmFyIGxhbmcgPSBkZXByZWNhdGUoXG4gICAgJ21vbWVudCgpLmxhbmcoKSBpcyBkZXByZWNhdGVkLiBJbnN0ZWFkLCB1c2UgbW9tZW50KCkubG9jYWxlRGF0YSgpIHRvIGdldCB0aGUgbGFuZ3VhZ2UgY29uZmlndXJhdGlvbi4gVXNlIG1vbWVudCgpLmxvY2FsZSgpIHRvIGNoYW5nZSBsYW5ndWFnZXMuJyxcbiAgICBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIGlmIChrZXkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubG9jYWxlKGtleSk7XG4gICAgICAgIH1cbiAgICB9XG4pO1xuXG5mdW5jdGlvbiBsb2NhbGVEYXRhICgpIHtcbiAgICByZXR1cm4gdGhpcy5fbG9jYWxlO1xufVxuXG5mdW5jdGlvbiBzdGFydE9mICh1bml0cykge1xuICAgIHVuaXRzID0gbm9ybWFsaXplVW5pdHModW5pdHMpO1xuICAgIC8vIHRoZSBmb2xsb3dpbmcgc3dpdGNoIGludGVudGlvbmFsbHkgb21pdHMgYnJlYWsga2V5d29yZHNcbiAgICAvLyB0byB1dGlsaXplIGZhbGxpbmcgdGhyb3VnaCB0aGUgY2FzZXMuXG4gICAgc3dpdGNoICh1bml0cykge1xuICAgICAgICBjYXNlICd5ZWFyJzpcbiAgICAgICAgICAgIHRoaXMubW9udGgoMCk7XG4gICAgICAgICAgICAvKiBmYWxscyB0aHJvdWdoICovXG4gICAgICAgIGNhc2UgJ3F1YXJ0ZXInOlxuICAgICAgICBjYXNlICdtb250aCc6XG4gICAgICAgICAgICB0aGlzLmRhdGUoMSk7XG4gICAgICAgICAgICAvKiBmYWxscyB0aHJvdWdoICovXG4gICAgICAgIGNhc2UgJ3dlZWsnOlxuICAgICAgICBjYXNlICdpc29XZWVrJzpcbiAgICAgICAgY2FzZSAnZGF5JzpcbiAgICAgICAgY2FzZSAnZGF0ZSc6XG4gICAgICAgICAgICB0aGlzLmhvdXJzKDApO1xuICAgICAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgICAgICBjYXNlICdob3VyJzpcbiAgICAgICAgICAgIHRoaXMubWludXRlcygwKTtcbiAgICAgICAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICAgICAgY2FzZSAnbWludXRlJzpcbiAgICAgICAgICAgIHRoaXMuc2Vjb25kcygwKTtcbiAgICAgICAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICAgICAgY2FzZSAnc2Vjb25kJzpcbiAgICAgICAgICAgIHRoaXMubWlsbGlzZWNvbmRzKDApO1xuICAgIH1cblxuICAgIC8vIHdlZWtzIGFyZSBhIHNwZWNpYWwgY2FzZVxuICAgIGlmICh1bml0cyA9PT0gJ3dlZWsnKSB7XG4gICAgICAgIHRoaXMud2Vla2RheSgwKTtcbiAgICB9XG4gICAgaWYgKHVuaXRzID09PSAnaXNvV2VlaycpIHtcbiAgICAgICAgdGhpcy5pc29XZWVrZGF5KDEpO1xuICAgIH1cblxuICAgIC8vIHF1YXJ0ZXJzIGFyZSBhbHNvIHNwZWNpYWxcbiAgICBpZiAodW5pdHMgPT09ICdxdWFydGVyJykge1xuICAgICAgICB0aGlzLm1vbnRoKE1hdGguZmxvb3IodGhpcy5tb250aCgpIC8gMykgKiAzKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbn1cblxuZnVuY3Rpb24gZW5kT2YgKHVuaXRzKSB7XG4gICAgdW5pdHMgPSBub3JtYWxpemVVbml0cyh1bml0cyk7XG4gICAgaWYgKHVuaXRzID09PSB1bmRlZmluZWQgfHwgdW5pdHMgPT09ICdtaWxsaXNlY29uZCcpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLy8gJ2RhdGUnIGlzIGFuIGFsaWFzIGZvciAnZGF5Jywgc28gaXQgc2hvdWxkIGJlIGNvbnNpZGVyZWQgYXMgc3VjaC5cbiAgICBpZiAodW5pdHMgPT09ICdkYXRlJykge1xuICAgICAgICB1bml0cyA9ICdkYXknO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLnN0YXJ0T2YodW5pdHMpLmFkZCgxLCAodW5pdHMgPT09ICdpc29XZWVrJyA/ICd3ZWVrJyA6IHVuaXRzKSkuc3VidHJhY3QoMSwgJ21zJyk7XG59XG5cbmZ1bmN0aW9uIHZhbHVlT2YgKCkge1xuICAgIHJldHVybiB0aGlzLl9kLnZhbHVlT2YoKSAtICgodGhpcy5fb2Zmc2V0IHx8IDApICogNjAwMDApO1xufVxuXG5mdW5jdGlvbiB1bml4ICgpIHtcbiAgICByZXR1cm4gTWF0aC5mbG9vcih0aGlzLnZhbHVlT2YoKSAvIDEwMDApO1xufVxuXG5mdW5jdGlvbiB0b0RhdGUgKCkge1xuICAgIHJldHVybiBuZXcgRGF0ZSh0aGlzLnZhbHVlT2YoKSk7XG59XG5cbmZ1bmN0aW9uIHRvQXJyYXkgKCkge1xuICAgIHZhciBtID0gdGhpcztcbiAgICByZXR1cm4gW20ueWVhcigpLCBtLm1vbnRoKCksIG0uZGF0ZSgpLCBtLmhvdXIoKSwgbS5taW51dGUoKSwgbS5zZWNvbmQoKSwgbS5taWxsaXNlY29uZCgpXTtcbn1cblxuZnVuY3Rpb24gdG9PYmplY3QgKCkge1xuICAgIHZhciBtID0gdGhpcztcbiAgICByZXR1cm4ge1xuICAgICAgICB5ZWFyczogbS55ZWFyKCksXG4gICAgICAgIG1vbnRoczogbS5tb250aCgpLFxuICAgICAgICBkYXRlOiBtLmRhdGUoKSxcbiAgICAgICAgaG91cnM6IG0uaG91cnMoKSxcbiAgICAgICAgbWludXRlczogbS5taW51dGVzKCksXG4gICAgICAgIHNlY29uZHM6IG0uc2Vjb25kcygpLFxuICAgICAgICBtaWxsaXNlY29uZHM6IG0ubWlsbGlzZWNvbmRzKClcbiAgICB9O1xufVxuXG5mdW5jdGlvbiB0b0pTT04gKCkge1xuICAgIC8vIG5ldyBEYXRlKE5hTikudG9KU09OKCkgPT09IG51bGxcbiAgICByZXR1cm4gdGhpcy5pc1ZhbGlkKCkgPyB0aGlzLnRvSVNPU3RyaW5nKCkgOiBudWxsO1xufVxuXG5mdW5jdGlvbiBpc1ZhbGlkJDEgKCkge1xuICAgIHJldHVybiBpc1ZhbGlkKHRoaXMpO1xufVxuXG5mdW5jdGlvbiBwYXJzaW5nRmxhZ3MgKCkge1xuICAgIHJldHVybiBleHRlbmQoe30sIGdldFBhcnNpbmdGbGFncyh0aGlzKSk7XG59XG5cbmZ1bmN0aW9uIGludmFsaWRBdCAoKSB7XG4gICAgcmV0dXJuIGdldFBhcnNpbmdGbGFncyh0aGlzKS5vdmVyZmxvdztcbn1cblxuZnVuY3Rpb24gY3JlYXRpb25EYXRhKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGlucHV0OiB0aGlzLl9pLFxuICAgICAgICBmb3JtYXQ6IHRoaXMuX2YsXG4gICAgICAgIGxvY2FsZTogdGhpcy5fbG9jYWxlLFxuICAgICAgICBpc1VUQzogdGhpcy5faXNVVEMsXG4gICAgICAgIHN0cmljdDogdGhpcy5fc3RyaWN0XG4gICAgfTtcbn1cblxuLy8gRk9STUFUVElOR1xuXG5hZGRGb3JtYXRUb2tlbigwLCBbJ2dnJywgMl0sIDAsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy53ZWVrWWVhcigpICUgMTAwO1xufSk7XG5cbmFkZEZvcm1hdFRva2VuKDAsIFsnR0cnLCAyXSwgMCwgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmlzb1dlZWtZZWFyKCkgJSAxMDA7XG59KTtcblxuZnVuY3Rpb24gYWRkV2Vla1llYXJGb3JtYXRUb2tlbiAodG9rZW4sIGdldHRlcikge1xuICAgIGFkZEZvcm1hdFRva2VuKDAsIFt0b2tlbiwgdG9rZW4ubGVuZ3RoXSwgMCwgZ2V0dGVyKTtcbn1cblxuYWRkV2Vla1llYXJGb3JtYXRUb2tlbignZ2dnZycsICAgICAnd2Vla1llYXInKTtcbmFkZFdlZWtZZWFyRm9ybWF0VG9rZW4oJ2dnZ2dnJywgICAgJ3dlZWtZZWFyJyk7XG5hZGRXZWVrWWVhckZvcm1hdFRva2VuKCdHR0dHJywgICdpc29XZWVrWWVhcicpO1xuYWRkV2Vla1llYXJGb3JtYXRUb2tlbignR0dHR0cnLCAnaXNvV2Vla1llYXInKTtcblxuLy8gQUxJQVNFU1xuXG5hZGRVbml0QWxpYXMoJ3dlZWtZZWFyJywgJ2dnJyk7XG5hZGRVbml0QWxpYXMoJ2lzb1dlZWtZZWFyJywgJ0dHJyk7XG5cbi8vIFBSSU9SSVRZXG5cbmFkZFVuaXRQcmlvcml0eSgnd2Vla1llYXInLCAxKTtcbmFkZFVuaXRQcmlvcml0eSgnaXNvV2Vla1llYXInLCAxKTtcblxuXG4vLyBQQVJTSU5HXG5cbmFkZFJlZ2V4VG9rZW4oJ0cnLCAgICAgIG1hdGNoU2lnbmVkKTtcbmFkZFJlZ2V4VG9rZW4oJ2cnLCAgICAgIG1hdGNoU2lnbmVkKTtcbmFkZFJlZ2V4VG9rZW4oJ0dHJywgICAgIG1hdGNoMXRvMiwgbWF0Y2gyKTtcbmFkZFJlZ2V4VG9rZW4oJ2dnJywgICAgIG1hdGNoMXRvMiwgbWF0Y2gyKTtcbmFkZFJlZ2V4VG9rZW4oJ0dHR0cnLCAgIG1hdGNoMXRvNCwgbWF0Y2g0KTtcbmFkZFJlZ2V4VG9rZW4oJ2dnZ2cnLCAgIG1hdGNoMXRvNCwgbWF0Y2g0KTtcbmFkZFJlZ2V4VG9rZW4oJ0dHR0dHJywgIG1hdGNoMXRvNiwgbWF0Y2g2KTtcbmFkZFJlZ2V4VG9rZW4oJ2dnZ2dnJywgIG1hdGNoMXRvNiwgbWF0Y2g2KTtcblxuYWRkV2Vla1BhcnNlVG9rZW4oWydnZ2dnJywgJ2dnZ2dnJywgJ0dHR0cnLCAnR0dHR0cnXSwgZnVuY3Rpb24gKGlucHV0LCB3ZWVrLCBjb25maWcsIHRva2VuKSB7XG4gICAgd2Vla1t0b2tlbi5zdWJzdHIoMCwgMildID0gdG9JbnQoaW5wdXQpO1xufSk7XG5cbmFkZFdlZWtQYXJzZVRva2VuKFsnZ2cnLCAnR0cnXSwgZnVuY3Rpb24gKGlucHV0LCB3ZWVrLCBjb25maWcsIHRva2VuKSB7XG4gICAgd2Vla1t0b2tlbl0gPSBob29rcy5wYXJzZVR3b0RpZ2l0WWVhcihpbnB1dCk7XG59KTtcblxuLy8gTU9NRU5UU1xuXG5mdW5jdGlvbiBnZXRTZXRXZWVrWWVhciAoaW5wdXQpIHtcbiAgICByZXR1cm4gZ2V0U2V0V2Vla1llYXJIZWxwZXIuY2FsbCh0aGlzLFxuICAgICAgICAgICAgaW5wdXQsXG4gICAgICAgICAgICB0aGlzLndlZWsoKSxcbiAgICAgICAgICAgIHRoaXMud2Vla2RheSgpLFxuICAgICAgICAgICAgdGhpcy5sb2NhbGVEYXRhKCkuX3dlZWsuZG93LFxuICAgICAgICAgICAgdGhpcy5sb2NhbGVEYXRhKCkuX3dlZWsuZG95KTtcbn1cblxuZnVuY3Rpb24gZ2V0U2V0SVNPV2Vla1llYXIgKGlucHV0KSB7XG4gICAgcmV0dXJuIGdldFNldFdlZWtZZWFySGVscGVyLmNhbGwodGhpcyxcbiAgICAgICAgICAgIGlucHV0LCB0aGlzLmlzb1dlZWsoKSwgdGhpcy5pc29XZWVrZGF5KCksIDEsIDQpO1xufVxuXG5mdW5jdGlvbiBnZXRJU09XZWVrc0luWWVhciAoKSB7XG4gICAgcmV0dXJuIHdlZWtzSW5ZZWFyKHRoaXMueWVhcigpLCAxLCA0KTtcbn1cblxuZnVuY3Rpb24gZ2V0V2Vla3NJblllYXIgKCkge1xuICAgIHZhciB3ZWVrSW5mbyA9IHRoaXMubG9jYWxlRGF0YSgpLl93ZWVrO1xuICAgIHJldHVybiB3ZWVrc0luWWVhcih0aGlzLnllYXIoKSwgd2Vla0luZm8uZG93LCB3ZWVrSW5mby5kb3kpO1xufVxuXG5mdW5jdGlvbiBnZXRTZXRXZWVrWWVhckhlbHBlcihpbnB1dCwgd2Vlaywgd2Vla2RheSwgZG93LCBkb3kpIHtcbiAgICB2YXIgd2Vla3NUYXJnZXQ7XG4gICAgaWYgKGlucHV0ID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHdlZWtPZlllYXIodGhpcywgZG93LCBkb3kpLnllYXI7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgd2Vla3NUYXJnZXQgPSB3ZWVrc0luWWVhcihpbnB1dCwgZG93LCBkb3kpO1xuICAgICAgICBpZiAod2VlayA+IHdlZWtzVGFyZ2V0KSB7XG4gICAgICAgICAgICB3ZWVrID0gd2Vla3NUYXJnZXQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNldFdlZWtBbGwuY2FsbCh0aGlzLCBpbnB1dCwgd2Vlaywgd2Vla2RheSwgZG93LCBkb3kpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gc2V0V2Vla0FsbCh3ZWVrWWVhciwgd2Vlaywgd2Vla2RheSwgZG93LCBkb3kpIHtcbiAgICB2YXIgZGF5T2ZZZWFyRGF0YSA9IGRheU9mWWVhckZyb21XZWVrcyh3ZWVrWWVhciwgd2Vlaywgd2Vla2RheSwgZG93LCBkb3kpLFxuICAgICAgICBkYXRlID0gY3JlYXRlVVRDRGF0ZShkYXlPZlllYXJEYXRhLnllYXIsIDAsIGRheU9mWWVhckRhdGEuZGF5T2ZZZWFyKTtcblxuICAgIHRoaXMueWVhcihkYXRlLmdldFVUQ0Z1bGxZZWFyKCkpO1xuICAgIHRoaXMubW9udGgoZGF0ZS5nZXRVVENNb250aCgpKTtcbiAgICB0aGlzLmRhdGUoZGF0ZS5nZXRVVENEYXRlKCkpO1xuICAgIHJldHVybiB0aGlzO1xufVxuXG4vLyBGT1JNQVRUSU5HXG5cbmFkZEZvcm1hdFRva2VuKCdRJywgMCwgJ1FvJywgJ3F1YXJ0ZXInKTtcblxuLy8gQUxJQVNFU1xuXG5hZGRVbml0QWxpYXMoJ3F1YXJ0ZXInLCAnUScpO1xuXG4vLyBQUklPUklUWVxuXG5hZGRVbml0UHJpb3JpdHkoJ3F1YXJ0ZXInLCA3KTtcblxuLy8gUEFSU0lOR1xuXG5hZGRSZWdleFRva2VuKCdRJywgbWF0Y2gxKTtcbmFkZFBhcnNlVG9rZW4oJ1EnLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5KSB7XG4gICAgYXJyYXlbTU9OVEhdID0gKHRvSW50KGlucHV0KSAtIDEpICogMztcbn0pO1xuXG4vLyBNT01FTlRTXG5cbmZ1bmN0aW9uIGdldFNldFF1YXJ0ZXIgKGlucHV0KSB7XG4gICAgcmV0dXJuIGlucHV0ID09IG51bGwgPyBNYXRoLmNlaWwoKHRoaXMubW9udGgoKSArIDEpIC8gMykgOiB0aGlzLm1vbnRoKChpbnB1dCAtIDEpICogMyArIHRoaXMubW9udGgoKSAlIDMpO1xufVxuXG4vLyBGT1JNQVRUSU5HXG5cbmFkZEZvcm1hdFRva2VuKCdEJywgWydERCcsIDJdLCAnRG8nLCAnZGF0ZScpO1xuXG4vLyBBTElBU0VTXG5cbmFkZFVuaXRBbGlhcygnZGF0ZScsICdEJyk7XG5cbi8vIFBSSU9ST0lUWVxuYWRkVW5pdFByaW9yaXR5KCdkYXRlJywgOSk7XG5cbi8vIFBBUlNJTkdcblxuYWRkUmVnZXhUb2tlbignRCcsICBtYXRjaDF0bzIpO1xuYWRkUmVnZXhUb2tlbignREQnLCBtYXRjaDF0bzIsIG1hdGNoMik7XG5hZGRSZWdleFRva2VuKCdEbycsIGZ1bmN0aW9uIChpc1N0cmljdCwgbG9jYWxlKSB7XG4gICAgcmV0dXJuIGlzU3RyaWN0ID8gbG9jYWxlLl9vcmRpbmFsUGFyc2UgOiBsb2NhbGUuX29yZGluYWxQYXJzZUxlbmllbnQ7XG59KTtcblxuYWRkUGFyc2VUb2tlbihbJ0QnLCAnREQnXSwgREFURSk7XG5hZGRQYXJzZVRva2VuKCdEbycsIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXkpIHtcbiAgICBhcnJheVtEQVRFXSA9IHRvSW50KGlucHV0Lm1hdGNoKG1hdGNoMXRvMilbMF0sIDEwKTtcbn0pO1xuXG4vLyBNT01FTlRTXG5cbnZhciBnZXRTZXREYXlPZk1vbnRoID0gbWFrZUdldFNldCgnRGF0ZScsIHRydWUpO1xuXG4vLyBGT1JNQVRUSU5HXG5cbmFkZEZvcm1hdFRva2VuKCdEREQnLCBbJ0REREQnLCAzXSwgJ0RERG8nLCAnZGF5T2ZZZWFyJyk7XG5cbi8vIEFMSUFTRVNcblxuYWRkVW5pdEFsaWFzKCdkYXlPZlllYXInLCAnREREJyk7XG5cbi8vIFBSSU9SSVRZXG5hZGRVbml0UHJpb3JpdHkoJ2RheU9mWWVhcicsIDQpO1xuXG4vLyBQQVJTSU5HXG5cbmFkZFJlZ2V4VG9rZW4oJ0RERCcsICBtYXRjaDF0bzMpO1xuYWRkUmVnZXhUb2tlbignRERERCcsIG1hdGNoMyk7XG5hZGRQYXJzZVRva2VuKFsnREREJywgJ0REREQnXSwgZnVuY3Rpb24gKGlucHV0LCBhcnJheSwgY29uZmlnKSB7XG4gICAgY29uZmlnLl9kYXlPZlllYXIgPSB0b0ludChpbnB1dCk7XG59KTtcblxuLy8gSEVMUEVSU1xuXG4vLyBNT01FTlRTXG5cbmZ1bmN0aW9uIGdldFNldERheU9mWWVhciAoaW5wdXQpIHtcbiAgICB2YXIgZGF5T2ZZZWFyID0gTWF0aC5yb3VuZCgodGhpcy5jbG9uZSgpLnN0YXJ0T2YoJ2RheScpIC0gdGhpcy5jbG9uZSgpLnN0YXJ0T2YoJ3llYXInKSkgLyA4NjRlNSkgKyAxO1xuICAgIHJldHVybiBpbnB1dCA9PSBudWxsID8gZGF5T2ZZZWFyIDogdGhpcy5hZGQoKGlucHV0IC0gZGF5T2ZZZWFyKSwgJ2QnKTtcbn1cblxuLy8gRk9STUFUVElOR1xuXG5hZGRGb3JtYXRUb2tlbignbScsIFsnbW0nLCAyXSwgMCwgJ21pbnV0ZScpO1xuXG4vLyBBTElBU0VTXG5cbmFkZFVuaXRBbGlhcygnbWludXRlJywgJ20nKTtcblxuLy8gUFJJT1JJVFlcblxuYWRkVW5pdFByaW9yaXR5KCdtaW51dGUnLCAxNCk7XG5cbi8vIFBBUlNJTkdcblxuYWRkUmVnZXhUb2tlbignbScsICBtYXRjaDF0bzIpO1xuYWRkUmVnZXhUb2tlbignbW0nLCBtYXRjaDF0bzIsIG1hdGNoMik7XG5hZGRQYXJzZVRva2VuKFsnbScsICdtbSddLCBNSU5VVEUpO1xuXG4vLyBNT01FTlRTXG5cbnZhciBnZXRTZXRNaW51dGUgPSBtYWtlR2V0U2V0KCdNaW51dGVzJywgZmFsc2UpO1xuXG4vLyBGT1JNQVRUSU5HXG5cbmFkZEZvcm1hdFRva2VuKCdzJywgWydzcycsIDJdLCAwLCAnc2Vjb25kJyk7XG5cbi8vIEFMSUFTRVNcblxuYWRkVW5pdEFsaWFzKCdzZWNvbmQnLCAncycpO1xuXG4vLyBQUklPUklUWVxuXG5hZGRVbml0UHJpb3JpdHkoJ3NlY29uZCcsIDE1KTtcblxuLy8gUEFSU0lOR1xuXG5hZGRSZWdleFRva2VuKCdzJywgIG1hdGNoMXRvMik7XG5hZGRSZWdleFRva2VuKCdzcycsIG1hdGNoMXRvMiwgbWF0Y2gyKTtcbmFkZFBhcnNlVG9rZW4oWydzJywgJ3NzJ10sIFNFQ09ORCk7XG5cbi8vIE1PTUVOVFNcblxudmFyIGdldFNldFNlY29uZCA9IG1ha2VHZXRTZXQoJ1NlY29uZHMnLCBmYWxzZSk7XG5cbi8vIEZPUk1BVFRJTkdcblxuYWRkRm9ybWF0VG9rZW4oJ1MnLCAwLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIH5+KHRoaXMubWlsbGlzZWNvbmQoKSAvIDEwMCk7XG59KTtcblxuYWRkRm9ybWF0VG9rZW4oMCwgWydTUycsIDJdLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIH5+KHRoaXMubWlsbGlzZWNvbmQoKSAvIDEwKTtcbn0pO1xuXG5hZGRGb3JtYXRUb2tlbigwLCBbJ1NTUycsIDNdLCAwLCAnbWlsbGlzZWNvbmQnKTtcbmFkZEZvcm1hdFRva2VuKDAsIFsnU1NTUycsIDRdLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMubWlsbGlzZWNvbmQoKSAqIDEwO1xufSk7XG5hZGRGb3JtYXRUb2tlbigwLCBbJ1NTU1NTJywgNV0sIDAsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5taWxsaXNlY29uZCgpICogMTAwO1xufSk7XG5hZGRGb3JtYXRUb2tlbigwLCBbJ1NTU1NTUycsIDZdLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMubWlsbGlzZWNvbmQoKSAqIDEwMDA7XG59KTtcbmFkZEZvcm1hdFRva2VuKDAsIFsnU1NTU1NTUycsIDddLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMubWlsbGlzZWNvbmQoKSAqIDEwMDAwO1xufSk7XG5hZGRGb3JtYXRUb2tlbigwLCBbJ1NTU1NTU1NTJywgOF0sIDAsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5taWxsaXNlY29uZCgpICogMTAwMDAwO1xufSk7XG5hZGRGb3JtYXRUb2tlbigwLCBbJ1NTU1NTU1NTUycsIDldLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMubWlsbGlzZWNvbmQoKSAqIDEwMDAwMDA7XG59KTtcblxuXG4vLyBBTElBU0VTXG5cbmFkZFVuaXRBbGlhcygnbWlsbGlzZWNvbmQnLCAnbXMnKTtcblxuLy8gUFJJT1JJVFlcblxuYWRkVW5pdFByaW9yaXR5KCdtaWxsaXNlY29uZCcsIDE2KTtcblxuLy8gUEFSU0lOR1xuXG5hZGRSZWdleFRva2VuKCdTJywgICAgbWF0Y2gxdG8zLCBtYXRjaDEpO1xuYWRkUmVnZXhUb2tlbignU1MnLCAgIG1hdGNoMXRvMywgbWF0Y2gyKTtcbmFkZFJlZ2V4VG9rZW4oJ1NTUycsICBtYXRjaDF0bzMsIG1hdGNoMyk7XG5cbnZhciB0b2tlbjtcbmZvciAodG9rZW4gPSAnU1NTUyc7IHRva2VuLmxlbmd0aCA8PSA5OyB0b2tlbiArPSAnUycpIHtcbiAgICBhZGRSZWdleFRva2VuKHRva2VuLCBtYXRjaFVuc2lnbmVkKTtcbn1cblxuZnVuY3Rpb24gcGFyc2VNcyhpbnB1dCwgYXJyYXkpIHtcbiAgICBhcnJheVtNSUxMSVNFQ09ORF0gPSB0b0ludCgoJzAuJyArIGlucHV0KSAqIDEwMDApO1xufVxuXG5mb3IgKHRva2VuID0gJ1MnOyB0b2tlbi5sZW5ndGggPD0gOTsgdG9rZW4gKz0gJ1MnKSB7XG4gICAgYWRkUGFyc2VUb2tlbih0b2tlbiwgcGFyc2VNcyk7XG59XG4vLyBNT01FTlRTXG5cbnZhciBnZXRTZXRNaWxsaXNlY29uZCA9IG1ha2VHZXRTZXQoJ01pbGxpc2Vjb25kcycsIGZhbHNlKTtcblxuLy8gRk9STUFUVElOR1xuXG5hZGRGb3JtYXRUb2tlbigneicsICAwLCAwLCAnem9uZUFiYnInKTtcbmFkZEZvcm1hdFRva2VuKCd6eicsIDAsIDAsICd6b25lTmFtZScpO1xuXG4vLyBNT01FTlRTXG5cbmZ1bmN0aW9uIGdldFpvbmVBYmJyICgpIHtcbiAgICByZXR1cm4gdGhpcy5faXNVVEMgPyAnVVRDJyA6ICcnO1xufVxuXG5mdW5jdGlvbiBnZXRab25lTmFtZSAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2lzVVRDID8gJ0Nvb3JkaW5hdGVkIFVuaXZlcnNhbCBUaW1lJyA6ICcnO1xufVxuXG52YXIgcHJvdG8gPSBNb21lbnQucHJvdG90eXBlO1xuXG5wcm90by5hZGQgICAgICAgICAgICAgICA9IGFkZDtcbnByb3RvLmNhbGVuZGFyICAgICAgICAgID0gY2FsZW5kYXIkMTtcbnByb3RvLmNsb25lICAgICAgICAgICAgID0gY2xvbmU7XG5wcm90by5kaWZmICAgICAgICAgICAgICA9IGRpZmY7XG5wcm90by5lbmRPZiAgICAgICAgICAgICA9IGVuZE9mO1xucHJvdG8uZm9ybWF0ICAgICAgICAgICAgPSBmb3JtYXQ7XG5wcm90by5mcm9tICAgICAgICAgICAgICA9IGZyb207XG5wcm90by5mcm9tTm93ICAgICAgICAgICA9IGZyb21Ob3c7XG5wcm90by50byAgICAgICAgICAgICAgICA9IHRvO1xucHJvdG8udG9Ob3cgICAgICAgICAgICAgPSB0b05vdztcbnByb3RvLmdldCAgICAgICAgICAgICAgID0gc3RyaW5nR2V0O1xucHJvdG8uaW52YWxpZEF0ICAgICAgICAgPSBpbnZhbGlkQXQ7XG5wcm90by5pc0FmdGVyICAgICAgICAgICA9IGlzQWZ0ZXI7XG5wcm90by5pc0JlZm9yZSAgICAgICAgICA9IGlzQmVmb3JlO1xucHJvdG8uaXNCZXR3ZWVuICAgICAgICAgPSBpc0JldHdlZW47XG5wcm90by5pc1NhbWUgICAgICAgICAgICA9IGlzU2FtZTtcbnByb3RvLmlzU2FtZU9yQWZ0ZXIgICAgID0gaXNTYW1lT3JBZnRlcjtcbnByb3RvLmlzU2FtZU9yQmVmb3JlICAgID0gaXNTYW1lT3JCZWZvcmU7XG5wcm90by5pc1ZhbGlkICAgICAgICAgICA9IGlzVmFsaWQkMTtcbnByb3RvLmxhbmcgICAgICAgICAgICAgID0gbGFuZztcbnByb3RvLmxvY2FsZSAgICAgICAgICAgID0gbG9jYWxlO1xucHJvdG8ubG9jYWxlRGF0YSAgICAgICAgPSBsb2NhbGVEYXRhO1xucHJvdG8ubWF4ICAgICAgICAgICAgICAgPSBwcm90b3R5cGVNYXg7XG5wcm90by5taW4gICAgICAgICAgICAgICA9IHByb3RvdHlwZU1pbjtcbnByb3RvLnBhcnNpbmdGbGFncyAgICAgID0gcGFyc2luZ0ZsYWdzO1xucHJvdG8uc2V0ICAgICAgICAgICAgICAgPSBzdHJpbmdTZXQ7XG5wcm90by5zdGFydE9mICAgICAgICAgICA9IHN0YXJ0T2Y7XG5wcm90by5zdWJ0cmFjdCAgICAgICAgICA9IHN1YnRyYWN0O1xucHJvdG8udG9BcnJheSAgICAgICAgICAgPSB0b0FycmF5O1xucHJvdG8udG9PYmplY3QgICAgICAgICAgPSB0b09iamVjdDtcbnByb3RvLnRvRGF0ZSAgICAgICAgICAgID0gdG9EYXRlO1xucHJvdG8udG9JU09TdHJpbmcgICAgICAgPSB0b0lTT1N0cmluZztcbnByb3RvLmluc3BlY3QgICAgICAgICAgID0gaW5zcGVjdDtcbnByb3RvLnRvSlNPTiAgICAgICAgICAgID0gdG9KU09OO1xucHJvdG8udG9TdHJpbmcgICAgICAgICAgPSB0b1N0cmluZztcbnByb3RvLnVuaXggICAgICAgICAgICAgID0gdW5peDtcbnByb3RvLnZhbHVlT2YgICAgICAgICAgID0gdmFsdWVPZjtcbnByb3RvLmNyZWF0aW9uRGF0YSAgICAgID0gY3JlYXRpb25EYXRhO1xuXG4vLyBZZWFyXG5wcm90by55ZWFyICAgICAgID0gZ2V0U2V0WWVhcjtcbnByb3RvLmlzTGVhcFllYXIgPSBnZXRJc0xlYXBZZWFyO1xuXG4vLyBXZWVrIFllYXJcbnByb3RvLndlZWtZZWFyICAgID0gZ2V0U2V0V2Vla1llYXI7XG5wcm90by5pc29XZWVrWWVhciA9IGdldFNldElTT1dlZWtZZWFyO1xuXG4vLyBRdWFydGVyXG5wcm90by5xdWFydGVyID0gcHJvdG8ucXVhcnRlcnMgPSBnZXRTZXRRdWFydGVyO1xuXG4vLyBNb250aFxucHJvdG8ubW9udGggICAgICAgPSBnZXRTZXRNb250aDtcbnByb3RvLmRheXNJbk1vbnRoID0gZ2V0RGF5c0luTW9udGg7XG5cbi8vIFdlZWtcbnByb3RvLndlZWsgICAgICAgICAgID0gcHJvdG8ud2Vla3MgICAgICAgID0gZ2V0U2V0V2VlaztcbnByb3RvLmlzb1dlZWsgICAgICAgID0gcHJvdG8uaXNvV2Vla3MgICAgID0gZ2V0U2V0SVNPV2VlaztcbnByb3RvLndlZWtzSW5ZZWFyICAgID0gZ2V0V2Vla3NJblllYXI7XG5wcm90by5pc29XZWVrc0luWWVhciA9IGdldElTT1dlZWtzSW5ZZWFyO1xuXG4vLyBEYXlcbnByb3RvLmRhdGUgICAgICAgPSBnZXRTZXREYXlPZk1vbnRoO1xucHJvdG8uZGF5ICAgICAgICA9IHByb3RvLmRheXMgICAgICAgICAgICAgPSBnZXRTZXREYXlPZldlZWs7XG5wcm90by53ZWVrZGF5ICAgID0gZ2V0U2V0TG9jYWxlRGF5T2ZXZWVrO1xucHJvdG8uaXNvV2Vla2RheSA9IGdldFNldElTT0RheU9mV2VlaztcbnByb3RvLmRheU9mWWVhciAgPSBnZXRTZXREYXlPZlllYXI7XG5cbi8vIEhvdXJcbnByb3RvLmhvdXIgPSBwcm90by5ob3VycyA9IGdldFNldEhvdXI7XG5cbi8vIE1pbnV0ZVxucHJvdG8ubWludXRlID0gcHJvdG8ubWludXRlcyA9IGdldFNldE1pbnV0ZTtcblxuLy8gU2Vjb25kXG5wcm90by5zZWNvbmQgPSBwcm90by5zZWNvbmRzID0gZ2V0U2V0U2Vjb25kO1xuXG4vLyBNaWxsaXNlY29uZFxucHJvdG8ubWlsbGlzZWNvbmQgPSBwcm90by5taWxsaXNlY29uZHMgPSBnZXRTZXRNaWxsaXNlY29uZDtcblxuLy8gT2Zmc2V0XG5wcm90by51dGNPZmZzZXQgICAgICAgICAgICA9IGdldFNldE9mZnNldDtcbnByb3RvLnV0YyAgICAgICAgICAgICAgICAgID0gc2V0T2Zmc2V0VG9VVEM7XG5wcm90by5sb2NhbCAgICAgICAgICAgICAgICA9IHNldE9mZnNldFRvTG9jYWw7XG5wcm90by5wYXJzZVpvbmUgICAgICAgICAgICA9IHNldE9mZnNldFRvUGFyc2VkT2Zmc2V0O1xucHJvdG8uaGFzQWxpZ25lZEhvdXJPZmZzZXQgPSBoYXNBbGlnbmVkSG91ck9mZnNldDtcbnByb3RvLmlzRFNUICAgICAgICAgICAgICAgID0gaXNEYXlsaWdodFNhdmluZ1RpbWU7XG5wcm90by5pc0xvY2FsICAgICAgICAgICAgICA9IGlzTG9jYWw7XG5wcm90by5pc1V0Y09mZnNldCAgICAgICAgICA9IGlzVXRjT2Zmc2V0O1xucHJvdG8uaXNVdGMgICAgICAgICAgICAgICAgPSBpc1V0YztcbnByb3RvLmlzVVRDICAgICAgICAgICAgICAgID0gaXNVdGM7XG5cbi8vIFRpbWV6b25lXG5wcm90by56b25lQWJiciA9IGdldFpvbmVBYmJyO1xucHJvdG8uem9uZU5hbWUgPSBnZXRab25lTmFtZTtcblxuLy8gRGVwcmVjYXRpb25zXG5wcm90by5kYXRlcyAgPSBkZXByZWNhdGUoJ2RhdGVzIGFjY2Vzc29yIGlzIGRlcHJlY2F0ZWQuIFVzZSBkYXRlIGluc3RlYWQuJywgZ2V0U2V0RGF5T2ZNb250aCk7XG5wcm90by5tb250aHMgPSBkZXByZWNhdGUoJ21vbnRocyBhY2Nlc3NvciBpcyBkZXByZWNhdGVkLiBVc2UgbW9udGggaW5zdGVhZCcsIGdldFNldE1vbnRoKTtcbnByb3RvLnllYXJzICA9IGRlcHJlY2F0ZSgneWVhcnMgYWNjZXNzb3IgaXMgZGVwcmVjYXRlZC4gVXNlIHllYXIgaW5zdGVhZCcsIGdldFNldFllYXIpO1xucHJvdG8uem9uZSAgID0gZGVwcmVjYXRlKCdtb21lbnQoKS56b25lIGlzIGRlcHJlY2F0ZWQsIHVzZSBtb21lbnQoKS51dGNPZmZzZXQgaW5zdGVhZC4gaHR0cDovL21vbWVudGpzLmNvbS9ndWlkZXMvIy93YXJuaW5ncy96b25lLycsIGdldFNldFpvbmUpO1xucHJvdG8uaXNEU1RTaGlmdGVkID0gZGVwcmVjYXRlKCdpc0RTVFNoaWZ0ZWQgaXMgZGVwcmVjYXRlZC4gU2VlIGh0dHA6Ly9tb21lbnRqcy5jb20vZ3VpZGVzLyMvd2FybmluZ3MvZHN0LXNoaWZ0ZWQvIGZvciBtb3JlIGluZm9ybWF0aW9uJywgaXNEYXlsaWdodFNhdmluZ1RpbWVTaGlmdGVkKTtcblxuZnVuY3Rpb24gY3JlYXRlVW5peCAoaW5wdXQpIHtcbiAgICByZXR1cm4gY3JlYXRlTG9jYWwoaW5wdXQgKiAxMDAwKTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlSW5ab25lICgpIHtcbiAgICByZXR1cm4gY3JlYXRlTG9jYWwuYXBwbHkobnVsbCwgYXJndW1lbnRzKS5wYXJzZVpvbmUoKTtcbn1cblxuZnVuY3Rpb24gcHJlUGFyc2VQb3N0Rm9ybWF0IChzdHJpbmcpIHtcbiAgICByZXR1cm4gc3RyaW5nO1xufVxuXG52YXIgcHJvdG8kMSA9IExvY2FsZS5wcm90b3R5cGU7XG5cbnByb3RvJDEuY2FsZW5kYXIgICAgICAgID0gY2FsZW5kYXI7XG5wcm90byQxLmxvbmdEYXRlRm9ybWF0ICA9IGxvbmdEYXRlRm9ybWF0O1xucHJvdG8kMS5pbnZhbGlkRGF0ZSAgICAgPSBpbnZhbGlkRGF0ZTtcbnByb3RvJDEub3JkaW5hbCAgICAgICAgID0gb3JkaW5hbDtcbnByb3RvJDEucHJlcGFyc2UgICAgICAgID0gcHJlUGFyc2VQb3N0Rm9ybWF0O1xucHJvdG8kMS5wb3N0Zm9ybWF0ICAgICAgPSBwcmVQYXJzZVBvc3RGb3JtYXQ7XG5wcm90byQxLnJlbGF0aXZlVGltZSAgICA9IHJlbGF0aXZlVGltZTtcbnByb3RvJDEucGFzdEZ1dHVyZSAgICAgID0gcGFzdEZ1dHVyZTtcbnByb3RvJDEuc2V0ICAgICAgICAgICAgID0gc2V0O1xuXG4vLyBNb250aFxucHJvdG8kMS5tb250aHMgICAgICAgICAgICA9ICAgICAgICBsb2NhbGVNb250aHM7XG5wcm90byQxLm1vbnRoc1Nob3J0ICAgICAgID0gICAgICAgIGxvY2FsZU1vbnRoc1Nob3J0O1xucHJvdG8kMS5tb250aHNQYXJzZSAgICAgICA9ICAgICAgICBsb2NhbGVNb250aHNQYXJzZTtcbnByb3RvJDEubW9udGhzUmVnZXggICAgICAgPSBtb250aHNSZWdleDtcbnByb3RvJDEubW9udGhzU2hvcnRSZWdleCAgPSBtb250aHNTaG9ydFJlZ2V4O1xuXG4vLyBXZWVrXG5wcm90byQxLndlZWsgPSBsb2NhbGVXZWVrO1xucHJvdG8kMS5maXJzdERheU9mWWVhciA9IGxvY2FsZUZpcnN0RGF5T2ZZZWFyO1xucHJvdG8kMS5maXJzdERheU9mV2VlayA9IGxvY2FsZUZpcnN0RGF5T2ZXZWVrO1xuXG4vLyBEYXkgb2YgV2Vla1xucHJvdG8kMS53ZWVrZGF5cyAgICAgICA9ICAgICAgICBsb2NhbGVXZWVrZGF5cztcbnByb3RvJDEud2Vla2RheXNNaW4gICAgPSAgICAgICAgbG9jYWxlV2Vla2RheXNNaW47XG5wcm90byQxLndlZWtkYXlzU2hvcnQgID0gICAgICAgIGxvY2FsZVdlZWtkYXlzU2hvcnQ7XG5wcm90byQxLndlZWtkYXlzUGFyc2UgID0gICAgICAgIGxvY2FsZVdlZWtkYXlzUGFyc2U7XG5cbnByb3RvJDEud2Vla2RheXNSZWdleCAgICAgICA9ICAgICAgICB3ZWVrZGF5c1JlZ2V4O1xucHJvdG8kMS53ZWVrZGF5c1Nob3J0UmVnZXggID0gICAgICAgIHdlZWtkYXlzU2hvcnRSZWdleDtcbnByb3RvJDEud2Vla2RheXNNaW5SZWdleCAgICA9ICAgICAgICB3ZWVrZGF5c01pblJlZ2V4O1xuXG4vLyBIb3Vyc1xucHJvdG8kMS5pc1BNID0gbG9jYWxlSXNQTTtcbnByb3RvJDEubWVyaWRpZW0gPSBsb2NhbGVNZXJpZGllbTtcblxuZnVuY3Rpb24gZ2V0JDEgKGZvcm1hdCwgaW5kZXgsIGZpZWxkLCBzZXR0ZXIpIHtcbiAgICB2YXIgbG9jYWxlID0gZ2V0TG9jYWxlKCk7XG4gICAgdmFyIHV0YyA9IGNyZWF0ZVVUQygpLnNldChzZXR0ZXIsIGluZGV4KTtcbiAgICByZXR1cm4gbG9jYWxlW2ZpZWxkXSh1dGMsIGZvcm1hdCk7XG59XG5cbmZ1bmN0aW9uIGxpc3RNb250aHNJbXBsIChmb3JtYXQsIGluZGV4LCBmaWVsZCkge1xuICAgIGlmIChpc051bWJlcihmb3JtYXQpKSB7XG4gICAgICAgIGluZGV4ID0gZm9ybWF0O1xuICAgICAgICBmb3JtYXQgPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgZm9ybWF0ID0gZm9ybWF0IHx8ICcnO1xuXG4gICAgaWYgKGluZGV4ICE9IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIGdldCQxKGZvcm1hdCwgaW5kZXgsIGZpZWxkLCAnbW9udGgnKTtcbiAgICB9XG5cbiAgICB2YXIgaTtcbiAgICB2YXIgb3V0ID0gW107XG4gICAgZm9yIChpID0gMDsgaSA8IDEyOyBpKyspIHtcbiAgICAgICAgb3V0W2ldID0gZ2V0JDEoZm9ybWF0LCBpLCBmaWVsZCwgJ21vbnRoJyk7XG4gICAgfVxuICAgIHJldHVybiBvdXQ7XG59XG5cbi8vICgpXG4vLyAoNSlcbi8vIChmbXQsIDUpXG4vLyAoZm10KVxuLy8gKHRydWUpXG4vLyAodHJ1ZSwgNSlcbi8vICh0cnVlLCBmbXQsIDUpXG4vLyAodHJ1ZSwgZm10KVxuZnVuY3Rpb24gbGlzdFdlZWtkYXlzSW1wbCAobG9jYWxlU29ydGVkLCBmb3JtYXQsIGluZGV4LCBmaWVsZCkge1xuICAgIGlmICh0eXBlb2YgbG9jYWxlU29ydGVkID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgaWYgKGlzTnVtYmVyKGZvcm1hdCkpIHtcbiAgICAgICAgICAgIGluZGV4ID0gZm9ybWF0O1xuICAgICAgICAgICAgZm9ybWF0ID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9ybWF0ID0gZm9ybWF0IHx8ICcnO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGZvcm1hdCA9IGxvY2FsZVNvcnRlZDtcbiAgICAgICAgaW5kZXggPSBmb3JtYXQ7XG4gICAgICAgIGxvY2FsZVNvcnRlZCA9IGZhbHNlO1xuXG4gICAgICAgIGlmIChpc051bWJlcihmb3JtYXQpKSB7XG4gICAgICAgICAgICBpbmRleCA9IGZvcm1hdDtcbiAgICAgICAgICAgIGZvcm1hdCA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvcm1hdCA9IGZvcm1hdCB8fCAnJztcbiAgICB9XG5cbiAgICB2YXIgbG9jYWxlID0gZ2V0TG9jYWxlKCksXG4gICAgICAgIHNoaWZ0ID0gbG9jYWxlU29ydGVkID8gbG9jYWxlLl93ZWVrLmRvdyA6IDA7XG5cbiAgICBpZiAoaW5kZXggIT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gZ2V0JDEoZm9ybWF0LCAoaW5kZXggKyBzaGlmdCkgJSA3LCBmaWVsZCwgJ2RheScpO1xuICAgIH1cblxuICAgIHZhciBpO1xuICAgIHZhciBvdXQgPSBbXTtcbiAgICBmb3IgKGkgPSAwOyBpIDwgNzsgaSsrKSB7XG4gICAgICAgIG91dFtpXSA9IGdldCQxKGZvcm1hdCwgKGkgKyBzaGlmdCkgJSA3LCBmaWVsZCwgJ2RheScpO1xuICAgIH1cbiAgICByZXR1cm4gb3V0O1xufVxuXG5mdW5jdGlvbiBsaXN0TW9udGhzIChmb3JtYXQsIGluZGV4KSB7XG4gICAgcmV0dXJuIGxpc3RNb250aHNJbXBsKGZvcm1hdCwgaW5kZXgsICdtb250aHMnKTtcbn1cblxuZnVuY3Rpb24gbGlzdE1vbnRoc1Nob3J0IChmb3JtYXQsIGluZGV4KSB7XG4gICAgcmV0dXJuIGxpc3RNb250aHNJbXBsKGZvcm1hdCwgaW5kZXgsICdtb250aHNTaG9ydCcpO1xufVxuXG5mdW5jdGlvbiBsaXN0V2Vla2RheXMgKGxvY2FsZVNvcnRlZCwgZm9ybWF0LCBpbmRleCkge1xuICAgIHJldHVybiBsaXN0V2Vla2RheXNJbXBsKGxvY2FsZVNvcnRlZCwgZm9ybWF0LCBpbmRleCwgJ3dlZWtkYXlzJyk7XG59XG5cbmZ1bmN0aW9uIGxpc3RXZWVrZGF5c1Nob3J0IChsb2NhbGVTb3J0ZWQsIGZvcm1hdCwgaW5kZXgpIHtcbiAgICByZXR1cm4gbGlzdFdlZWtkYXlzSW1wbChsb2NhbGVTb3J0ZWQsIGZvcm1hdCwgaW5kZXgsICd3ZWVrZGF5c1Nob3J0Jyk7XG59XG5cbmZ1bmN0aW9uIGxpc3RXZWVrZGF5c01pbiAobG9jYWxlU29ydGVkLCBmb3JtYXQsIGluZGV4KSB7XG4gICAgcmV0dXJuIGxpc3RXZWVrZGF5c0ltcGwobG9jYWxlU29ydGVkLCBmb3JtYXQsIGluZGV4LCAnd2Vla2RheXNNaW4nKTtcbn1cblxuZ2V0U2V0R2xvYmFsTG9jYWxlKCdlbicsIHtcbiAgICBvcmRpbmFsUGFyc2U6IC9cXGR7MSwyfSh0aHxzdHxuZHxyZCkvLFxuICAgIG9yZGluYWwgOiBmdW5jdGlvbiAobnVtYmVyKSB7XG4gICAgICAgIHZhciBiID0gbnVtYmVyICUgMTAsXG4gICAgICAgICAgICBvdXRwdXQgPSAodG9JbnQobnVtYmVyICUgMTAwIC8gMTApID09PSAxKSA/ICd0aCcgOlxuICAgICAgICAgICAgKGIgPT09IDEpID8gJ3N0JyA6XG4gICAgICAgICAgICAoYiA9PT0gMikgPyAnbmQnIDpcbiAgICAgICAgICAgIChiID09PSAzKSA/ICdyZCcgOiAndGgnO1xuICAgICAgICByZXR1cm4gbnVtYmVyICsgb3V0cHV0O1xuICAgIH1cbn0pO1xuXG4vLyBTaWRlIGVmZmVjdCBpbXBvcnRzXG5ob29rcy5sYW5nID0gZGVwcmVjYXRlKCdtb21lbnQubGFuZyBpcyBkZXByZWNhdGVkLiBVc2UgbW9tZW50LmxvY2FsZSBpbnN0ZWFkLicsIGdldFNldEdsb2JhbExvY2FsZSk7XG5ob29rcy5sYW5nRGF0YSA9IGRlcHJlY2F0ZSgnbW9tZW50LmxhbmdEYXRhIGlzIGRlcHJlY2F0ZWQuIFVzZSBtb21lbnQubG9jYWxlRGF0YSBpbnN0ZWFkLicsIGdldExvY2FsZSk7XG5cbnZhciBtYXRoQWJzID0gTWF0aC5hYnM7XG5cbmZ1bmN0aW9uIGFicyAoKSB7XG4gICAgdmFyIGRhdGEgICAgICAgICAgID0gdGhpcy5fZGF0YTtcblxuICAgIHRoaXMuX21pbGxpc2Vjb25kcyA9IG1hdGhBYnModGhpcy5fbWlsbGlzZWNvbmRzKTtcbiAgICB0aGlzLl9kYXlzICAgICAgICAgPSBtYXRoQWJzKHRoaXMuX2RheXMpO1xuICAgIHRoaXMuX21vbnRocyAgICAgICA9IG1hdGhBYnModGhpcy5fbW9udGhzKTtcblxuICAgIGRhdGEubWlsbGlzZWNvbmRzICA9IG1hdGhBYnMoZGF0YS5taWxsaXNlY29uZHMpO1xuICAgIGRhdGEuc2Vjb25kcyAgICAgICA9IG1hdGhBYnMoZGF0YS5zZWNvbmRzKTtcbiAgICBkYXRhLm1pbnV0ZXMgICAgICAgPSBtYXRoQWJzKGRhdGEubWludXRlcyk7XG4gICAgZGF0YS5ob3VycyAgICAgICAgID0gbWF0aEFicyhkYXRhLmhvdXJzKTtcbiAgICBkYXRhLm1vbnRocyAgICAgICAgPSBtYXRoQWJzKGRhdGEubW9udGhzKTtcbiAgICBkYXRhLnllYXJzICAgICAgICAgPSBtYXRoQWJzKGRhdGEueWVhcnMpO1xuXG4gICAgcmV0dXJuIHRoaXM7XG59XG5cbmZ1bmN0aW9uIGFkZFN1YnRyYWN0JDEgKGR1cmF0aW9uLCBpbnB1dCwgdmFsdWUsIGRpcmVjdGlvbikge1xuICAgIHZhciBvdGhlciA9IGNyZWF0ZUR1cmF0aW9uKGlucHV0LCB2YWx1ZSk7XG5cbiAgICBkdXJhdGlvbi5fbWlsbGlzZWNvbmRzICs9IGRpcmVjdGlvbiAqIG90aGVyLl9taWxsaXNlY29uZHM7XG4gICAgZHVyYXRpb24uX2RheXMgICAgICAgICArPSBkaXJlY3Rpb24gKiBvdGhlci5fZGF5cztcbiAgICBkdXJhdGlvbi5fbW9udGhzICAgICAgICs9IGRpcmVjdGlvbiAqIG90aGVyLl9tb250aHM7XG5cbiAgICByZXR1cm4gZHVyYXRpb24uX2J1YmJsZSgpO1xufVxuXG4vLyBzdXBwb3J0cyBvbmx5IDIuMC1zdHlsZSBhZGQoMSwgJ3MnKSBvciBhZGQoZHVyYXRpb24pXG5mdW5jdGlvbiBhZGQkMSAoaW5wdXQsIHZhbHVlKSB7XG4gICAgcmV0dXJuIGFkZFN1YnRyYWN0JDEodGhpcywgaW5wdXQsIHZhbHVlLCAxKTtcbn1cblxuLy8gc3VwcG9ydHMgb25seSAyLjAtc3R5bGUgc3VidHJhY3QoMSwgJ3MnKSBvciBzdWJ0cmFjdChkdXJhdGlvbilcbmZ1bmN0aW9uIHN1YnRyYWN0JDEgKGlucHV0LCB2YWx1ZSkge1xuICAgIHJldHVybiBhZGRTdWJ0cmFjdCQxKHRoaXMsIGlucHV0LCB2YWx1ZSwgLTEpO1xufVxuXG5mdW5jdGlvbiBhYnNDZWlsIChudW1iZXIpIHtcbiAgICBpZiAobnVtYmVyIDwgMCkge1xuICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihudW1iZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBNYXRoLmNlaWwobnVtYmVyKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGJ1YmJsZSAoKSB7XG4gICAgdmFyIG1pbGxpc2Vjb25kcyA9IHRoaXMuX21pbGxpc2Vjb25kcztcbiAgICB2YXIgZGF5cyAgICAgICAgID0gdGhpcy5fZGF5cztcbiAgICB2YXIgbW9udGhzICAgICAgID0gdGhpcy5fbW9udGhzO1xuICAgIHZhciBkYXRhICAgICAgICAgPSB0aGlzLl9kYXRhO1xuICAgIHZhciBzZWNvbmRzLCBtaW51dGVzLCBob3VycywgeWVhcnMsIG1vbnRoc0Zyb21EYXlzO1xuXG4gICAgLy8gaWYgd2UgaGF2ZSBhIG1peCBvZiBwb3NpdGl2ZSBhbmQgbmVnYXRpdmUgdmFsdWVzLCBidWJibGUgZG93biBmaXJzdFxuICAgIC8vIGNoZWNrOiBodHRwczovL2dpdGh1Yi5jb20vbW9tZW50L21vbWVudC9pc3N1ZXMvMjE2NlxuICAgIGlmICghKChtaWxsaXNlY29uZHMgPj0gMCAmJiBkYXlzID49IDAgJiYgbW9udGhzID49IDApIHx8XG4gICAgICAgICAgICAobWlsbGlzZWNvbmRzIDw9IDAgJiYgZGF5cyA8PSAwICYmIG1vbnRocyA8PSAwKSkpIHtcbiAgICAgICAgbWlsbGlzZWNvbmRzICs9IGFic0NlaWwobW9udGhzVG9EYXlzKG1vbnRocykgKyBkYXlzKSAqIDg2NGU1O1xuICAgICAgICBkYXlzID0gMDtcbiAgICAgICAgbW9udGhzID0gMDtcbiAgICB9XG5cbiAgICAvLyBUaGUgZm9sbG93aW5nIGNvZGUgYnViYmxlcyB1cCB2YWx1ZXMsIHNlZSB0aGUgdGVzdHMgZm9yXG4gICAgLy8gZXhhbXBsZXMgb2Ygd2hhdCB0aGF0IG1lYW5zLlxuICAgIGRhdGEubWlsbGlzZWNvbmRzID0gbWlsbGlzZWNvbmRzICUgMTAwMDtcblxuICAgIHNlY29uZHMgICAgICAgICAgID0gYWJzRmxvb3IobWlsbGlzZWNvbmRzIC8gMTAwMCk7XG4gICAgZGF0YS5zZWNvbmRzICAgICAgPSBzZWNvbmRzICUgNjA7XG5cbiAgICBtaW51dGVzICAgICAgICAgICA9IGFic0Zsb29yKHNlY29uZHMgLyA2MCk7XG4gICAgZGF0YS5taW51dGVzICAgICAgPSBtaW51dGVzICUgNjA7XG5cbiAgICBob3VycyAgICAgICAgICAgICA9IGFic0Zsb29yKG1pbnV0ZXMgLyA2MCk7XG4gICAgZGF0YS5ob3VycyAgICAgICAgPSBob3VycyAlIDI0O1xuXG4gICAgZGF5cyArPSBhYnNGbG9vcihob3VycyAvIDI0KTtcblxuICAgIC8vIGNvbnZlcnQgZGF5cyB0byBtb250aHNcbiAgICBtb250aHNGcm9tRGF5cyA9IGFic0Zsb29yKGRheXNUb01vbnRocyhkYXlzKSk7XG4gICAgbW9udGhzICs9IG1vbnRoc0Zyb21EYXlzO1xuICAgIGRheXMgLT0gYWJzQ2VpbChtb250aHNUb0RheXMobW9udGhzRnJvbURheXMpKTtcblxuICAgIC8vIDEyIG1vbnRocyAtPiAxIHllYXJcbiAgICB5ZWFycyA9IGFic0Zsb29yKG1vbnRocyAvIDEyKTtcbiAgICBtb250aHMgJT0gMTI7XG5cbiAgICBkYXRhLmRheXMgICA9IGRheXM7XG4gICAgZGF0YS5tb250aHMgPSBtb250aHM7XG4gICAgZGF0YS55ZWFycyAgPSB5ZWFycztcblxuICAgIHJldHVybiB0aGlzO1xufVxuXG5mdW5jdGlvbiBkYXlzVG9Nb250aHMgKGRheXMpIHtcbiAgICAvLyA0MDAgeWVhcnMgaGF2ZSAxNDYwOTcgZGF5cyAodGFraW5nIGludG8gYWNjb3VudCBsZWFwIHllYXIgcnVsZXMpXG4gICAgLy8gNDAwIHllYXJzIGhhdmUgMTIgbW9udGhzID09PSA0ODAwXG4gICAgcmV0dXJuIGRheXMgKiA0ODAwIC8gMTQ2MDk3O1xufVxuXG5mdW5jdGlvbiBtb250aHNUb0RheXMgKG1vbnRocykge1xuICAgIC8vIHRoZSByZXZlcnNlIG9mIGRheXNUb01vbnRoc1xuICAgIHJldHVybiBtb250aHMgKiAxNDYwOTcgLyA0ODAwO1xufVxuXG5mdW5jdGlvbiBhcyAodW5pdHMpIHtcbiAgICB2YXIgZGF5cztcbiAgICB2YXIgbW9udGhzO1xuICAgIHZhciBtaWxsaXNlY29uZHMgPSB0aGlzLl9taWxsaXNlY29uZHM7XG5cbiAgICB1bml0cyA9IG5vcm1hbGl6ZVVuaXRzKHVuaXRzKTtcblxuICAgIGlmICh1bml0cyA9PT0gJ21vbnRoJyB8fCB1bml0cyA9PT0gJ3llYXInKSB7XG4gICAgICAgIGRheXMgICA9IHRoaXMuX2RheXMgICArIG1pbGxpc2Vjb25kcyAvIDg2NGU1O1xuICAgICAgICBtb250aHMgPSB0aGlzLl9tb250aHMgKyBkYXlzVG9Nb250aHMoZGF5cyk7XG4gICAgICAgIHJldHVybiB1bml0cyA9PT0gJ21vbnRoJyA/IG1vbnRocyA6IG1vbnRocyAvIDEyO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGhhbmRsZSBtaWxsaXNlY29uZHMgc2VwYXJhdGVseSBiZWNhdXNlIG9mIGZsb2F0aW5nIHBvaW50IG1hdGggZXJyb3JzIChpc3N1ZSAjMTg2NylcbiAgICAgICAgZGF5cyA9IHRoaXMuX2RheXMgKyBNYXRoLnJvdW5kKG1vbnRoc1RvRGF5cyh0aGlzLl9tb250aHMpKTtcbiAgICAgICAgc3dpdGNoICh1bml0cykge1xuICAgICAgICAgICAgY2FzZSAnd2VlaycgICA6IHJldHVybiBkYXlzIC8gNyAgICAgKyBtaWxsaXNlY29uZHMgLyA2MDQ4ZTU7XG4gICAgICAgICAgICBjYXNlICdkYXknICAgIDogcmV0dXJuIGRheXMgICAgICAgICArIG1pbGxpc2Vjb25kcyAvIDg2NGU1O1xuICAgICAgICAgICAgY2FzZSAnaG91cicgICA6IHJldHVybiBkYXlzICogMjQgICAgKyBtaWxsaXNlY29uZHMgLyAzNmU1O1xuICAgICAgICAgICAgY2FzZSAnbWludXRlJyA6IHJldHVybiBkYXlzICogMTQ0MCAgKyBtaWxsaXNlY29uZHMgLyA2ZTQ7XG4gICAgICAgICAgICBjYXNlICdzZWNvbmQnIDogcmV0dXJuIGRheXMgKiA4NjQwMCArIG1pbGxpc2Vjb25kcyAvIDEwMDA7XG4gICAgICAgICAgICAvLyBNYXRoLmZsb29yIHByZXZlbnRzIGZsb2F0aW5nIHBvaW50IG1hdGggZXJyb3JzIGhlcmVcbiAgICAgICAgICAgIGNhc2UgJ21pbGxpc2Vjb25kJzogcmV0dXJuIE1hdGguZmxvb3IoZGF5cyAqIDg2NGU1KSArIG1pbGxpc2Vjb25kcztcbiAgICAgICAgICAgIGRlZmF1bHQ6IHRocm93IG5ldyBFcnJvcignVW5rbm93biB1bml0ICcgKyB1bml0cyk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8vIFRPRE86IFVzZSB0aGlzLmFzKCdtcycpP1xuZnVuY3Rpb24gdmFsdWVPZiQxICgpIHtcbiAgICByZXR1cm4gKFxuICAgICAgICB0aGlzLl9taWxsaXNlY29uZHMgK1xuICAgICAgICB0aGlzLl9kYXlzICogODY0ZTUgK1xuICAgICAgICAodGhpcy5fbW9udGhzICUgMTIpICogMjU5MmU2ICtcbiAgICAgICAgdG9JbnQodGhpcy5fbW9udGhzIC8gMTIpICogMzE1MzZlNlxuICAgICk7XG59XG5cbmZ1bmN0aW9uIG1ha2VBcyAoYWxpYXMpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hcyhhbGlhcyk7XG4gICAgfTtcbn1cblxudmFyIGFzTWlsbGlzZWNvbmRzID0gbWFrZUFzKCdtcycpO1xudmFyIGFzU2Vjb25kcyAgICAgID0gbWFrZUFzKCdzJyk7XG52YXIgYXNNaW51dGVzICAgICAgPSBtYWtlQXMoJ20nKTtcbnZhciBhc0hvdXJzICAgICAgICA9IG1ha2VBcygnaCcpO1xudmFyIGFzRGF5cyAgICAgICAgID0gbWFrZUFzKCdkJyk7XG52YXIgYXNXZWVrcyAgICAgICAgPSBtYWtlQXMoJ3cnKTtcbnZhciBhc01vbnRocyAgICAgICA9IG1ha2VBcygnTScpO1xudmFyIGFzWWVhcnMgICAgICAgID0gbWFrZUFzKCd5Jyk7XG5cbmZ1bmN0aW9uIGdldCQyICh1bml0cykge1xuICAgIHVuaXRzID0gbm9ybWFsaXplVW5pdHModW5pdHMpO1xuICAgIHJldHVybiB0aGlzW3VuaXRzICsgJ3MnXSgpO1xufVxuXG5mdW5jdGlvbiBtYWtlR2V0dGVyKG5hbWUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGF0YVtuYW1lXTtcbiAgICB9O1xufVxuXG52YXIgbWlsbGlzZWNvbmRzID0gbWFrZUdldHRlcignbWlsbGlzZWNvbmRzJyk7XG52YXIgc2Vjb25kcyAgICAgID0gbWFrZUdldHRlcignc2Vjb25kcycpO1xudmFyIG1pbnV0ZXMgICAgICA9IG1ha2VHZXR0ZXIoJ21pbnV0ZXMnKTtcbnZhciBob3VycyAgICAgICAgPSBtYWtlR2V0dGVyKCdob3VycycpO1xudmFyIGRheXMgICAgICAgICA9IG1ha2VHZXR0ZXIoJ2RheXMnKTtcbnZhciBtb250aHMgICAgICAgPSBtYWtlR2V0dGVyKCdtb250aHMnKTtcbnZhciB5ZWFycyAgICAgICAgPSBtYWtlR2V0dGVyKCd5ZWFycycpO1xuXG5mdW5jdGlvbiB3ZWVrcyAoKSB7XG4gICAgcmV0dXJuIGFic0Zsb29yKHRoaXMuZGF5cygpIC8gNyk7XG59XG5cbnZhciByb3VuZCA9IE1hdGgucm91bmQ7XG52YXIgdGhyZXNob2xkcyA9IHtcbiAgICBzOiA0NSwgIC8vIHNlY29uZHMgdG8gbWludXRlXG4gICAgbTogNDUsICAvLyBtaW51dGVzIHRvIGhvdXJcbiAgICBoOiAyMiwgIC8vIGhvdXJzIHRvIGRheVxuICAgIGQ6IDI2LCAgLy8gZGF5cyB0byBtb250aFxuICAgIE06IDExICAgLy8gbW9udGhzIHRvIHllYXJcbn07XG5cbi8vIGhlbHBlciBmdW5jdGlvbiBmb3IgbW9tZW50LmZuLmZyb20sIG1vbWVudC5mbi5mcm9tTm93LCBhbmQgbW9tZW50LmR1cmF0aW9uLmZuLmh1bWFuaXplXG5mdW5jdGlvbiBzdWJzdGl0dXRlVGltZUFnbyhzdHJpbmcsIG51bWJlciwgd2l0aG91dFN1ZmZpeCwgaXNGdXR1cmUsIGxvY2FsZSkge1xuICAgIHJldHVybiBsb2NhbGUucmVsYXRpdmVUaW1lKG51bWJlciB8fCAxLCAhIXdpdGhvdXRTdWZmaXgsIHN0cmluZywgaXNGdXR1cmUpO1xufVxuXG5mdW5jdGlvbiByZWxhdGl2ZVRpbWUkMSAocG9zTmVnRHVyYXRpb24sIHdpdGhvdXRTdWZmaXgsIGxvY2FsZSkge1xuICAgIHZhciBkdXJhdGlvbiA9IGNyZWF0ZUR1cmF0aW9uKHBvc05lZ0R1cmF0aW9uKS5hYnMoKTtcbiAgICB2YXIgc2Vjb25kcyAgPSByb3VuZChkdXJhdGlvbi5hcygncycpKTtcbiAgICB2YXIgbWludXRlcyAgPSByb3VuZChkdXJhdGlvbi5hcygnbScpKTtcbiAgICB2YXIgaG91cnMgICAgPSByb3VuZChkdXJhdGlvbi5hcygnaCcpKTtcbiAgICB2YXIgZGF5cyAgICAgPSByb3VuZChkdXJhdGlvbi5hcygnZCcpKTtcbiAgICB2YXIgbW9udGhzICAgPSByb3VuZChkdXJhdGlvbi5hcygnTScpKTtcbiAgICB2YXIgeWVhcnMgICAgPSByb3VuZChkdXJhdGlvbi5hcygneScpKTtcblxuICAgIHZhciBhID0gc2Vjb25kcyA8IHRocmVzaG9sZHMucyAmJiBbJ3MnLCBzZWNvbmRzXSAgfHxcbiAgICAgICAgICAgIG1pbnV0ZXMgPD0gMSAgICAgICAgICAgJiYgWydtJ10gICAgICAgICAgIHx8XG4gICAgICAgICAgICBtaW51dGVzIDwgdGhyZXNob2xkcy5tICYmIFsnbW0nLCBtaW51dGVzXSB8fFxuICAgICAgICAgICAgaG91cnMgICA8PSAxICAgICAgICAgICAmJiBbJ2gnXSAgICAgICAgICAgfHxcbiAgICAgICAgICAgIGhvdXJzICAgPCB0aHJlc2hvbGRzLmggJiYgWydoaCcsIGhvdXJzXSAgIHx8XG4gICAgICAgICAgICBkYXlzICAgIDw9IDEgICAgICAgICAgICYmIFsnZCddICAgICAgICAgICB8fFxuICAgICAgICAgICAgZGF5cyAgICA8IHRocmVzaG9sZHMuZCAmJiBbJ2RkJywgZGF5c10gICAgfHxcbiAgICAgICAgICAgIG1vbnRocyAgPD0gMSAgICAgICAgICAgJiYgWydNJ10gICAgICAgICAgIHx8XG4gICAgICAgICAgICBtb250aHMgIDwgdGhyZXNob2xkcy5NICYmIFsnTU0nLCBtb250aHNdICB8fFxuICAgICAgICAgICAgeWVhcnMgICA8PSAxICAgICAgICAgICAmJiBbJ3knXSAgICAgICAgICAgfHwgWyd5eScsIHllYXJzXTtcblxuICAgIGFbMl0gPSB3aXRob3V0U3VmZml4O1xuICAgIGFbM10gPSArcG9zTmVnRHVyYXRpb24gPiAwO1xuICAgIGFbNF0gPSBsb2NhbGU7XG4gICAgcmV0dXJuIHN1YnN0aXR1dGVUaW1lQWdvLmFwcGx5KG51bGwsIGEpO1xufVxuXG4vLyBUaGlzIGZ1bmN0aW9uIGFsbG93cyB5b3UgdG8gc2V0IHRoZSByb3VuZGluZyBmdW5jdGlvbiBmb3IgcmVsYXRpdmUgdGltZSBzdHJpbmdzXG5mdW5jdGlvbiBnZXRTZXRSZWxhdGl2ZVRpbWVSb3VuZGluZyAocm91bmRpbmdGdW5jdGlvbikge1xuICAgIGlmIChyb3VuZGluZ0Z1bmN0aW9uID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHJvdW5kO1xuICAgIH1cbiAgICBpZiAodHlwZW9mKHJvdW5kaW5nRnVuY3Rpb24pID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJvdW5kID0gcm91bmRpbmdGdW5jdGlvbjtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuLy8gVGhpcyBmdW5jdGlvbiBhbGxvd3MgeW91IHRvIHNldCBhIHRocmVzaG9sZCBmb3IgcmVsYXRpdmUgdGltZSBzdHJpbmdzXG5mdW5jdGlvbiBnZXRTZXRSZWxhdGl2ZVRpbWVUaHJlc2hvbGQgKHRocmVzaG9sZCwgbGltaXQpIHtcbiAgICBpZiAodGhyZXNob2xkc1t0aHJlc2hvbGRdID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAobGltaXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gdGhyZXNob2xkc1t0aHJlc2hvbGRdO1xuICAgIH1cbiAgICB0aHJlc2hvbGRzW3RocmVzaG9sZF0gPSBsaW1pdDtcbiAgICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gaHVtYW5pemUgKHdpdGhTdWZmaXgpIHtcbiAgICB2YXIgbG9jYWxlID0gdGhpcy5sb2NhbGVEYXRhKCk7XG4gICAgdmFyIG91dHB1dCA9IHJlbGF0aXZlVGltZSQxKHRoaXMsICF3aXRoU3VmZml4LCBsb2NhbGUpO1xuXG4gICAgaWYgKHdpdGhTdWZmaXgpIHtcbiAgICAgICAgb3V0cHV0ID0gbG9jYWxlLnBhc3RGdXR1cmUoK3RoaXMsIG91dHB1dCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGxvY2FsZS5wb3N0Zm9ybWF0KG91dHB1dCk7XG59XG5cbnZhciBhYnMkMSA9IE1hdGguYWJzO1xuXG5mdW5jdGlvbiB0b0lTT1N0cmluZyQxKCkge1xuICAgIC8vIGZvciBJU08gc3RyaW5ncyB3ZSBkbyBub3QgdXNlIHRoZSBub3JtYWwgYnViYmxpbmcgcnVsZXM6XG4gICAgLy8gICogbWlsbGlzZWNvbmRzIGJ1YmJsZSB1cCB1bnRpbCB0aGV5IGJlY29tZSBob3Vyc1xuICAgIC8vICAqIGRheXMgZG8gbm90IGJ1YmJsZSBhdCBhbGxcbiAgICAvLyAgKiBtb250aHMgYnViYmxlIHVwIHVudGlsIHRoZXkgYmVjb21lIHllYXJzXG4gICAgLy8gVGhpcyBpcyBiZWNhdXNlIHRoZXJlIGlzIG5vIGNvbnRleHQtZnJlZSBjb252ZXJzaW9uIGJldHdlZW4gaG91cnMgYW5kIGRheXNcbiAgICAvLyAodGhpbmsgb2YgY2xvY2sgY2hhbmdlcylcbiAgICAvLyBhbmQgYWxzbyBub3QgYmV0d2VlbiBkYXlzIGFuZCBtb250aHMgKDI4LTMxIGRheXMgcGVyIG1vbnRoKVxuICAgIHZhciBzZWNvbmRzID0gYWJzJDEodGhpcy5fbWlsbGlzZWNvbmRzKSAvIDEwMDA7XG4gICAgdmFyIGRheXMgICAgICAgICA9IGFicyQxKHRoaXMuX2RheXMpO1xuICAgIHZhciBtb250aHMgICAgICAgPSBhYnMkMSh0aGlzLl9tb250aHMpO1xuICAgIHZhciBtaW51dGVzLCBob3VycywgeWVhcnM7XG5cbiAgICAvLyAzNjAwIHNlY29uZHMgLT4gNjAgbWludXRlcyAtPiAxIGhvdXJcbiAgICBtaW51dGVzICAgICAgICAgICA9IGFic0Zsb29yKHNlY29uZHMgLyA2MCk7XG4gICAgaG91cnMgICAgICAgICAgICAgPSBhYnNGbG9vcihtaW51dGVzIC8gNjApO1xuICAgIHNlY29uZHMgJT0gNjA7XG4gICAgbWludXRlcyAlPSA2MDtcblxuICAgIC8vIDEyIG1vbnRocyAtPiAxIHllYXJcbiAgICB5ZWFycyAgPSBhYnNGbG9vcihtb250aHMgLyAxMik7XG4gICAgbW9udGhzICU9IDEyO1xuXG5cbiAgICAvLyBpbnNwaXJlZCBieSBodHRwczovL2dpdGh1Yi5jb20vZG9yZGlsbGUvbW9tZW50LWlzb2R1cmF0aW9uL2Jsb2IvbWFzdGVyL21vbWVudC5pc29kdXJhdGlvbi5qc1xuICAgIHZhciBZID0geWVhcnM7XG4gICAgdmFyIE0gPSBtb250aHM7XG4gICAgdmFyIEQgPSBkYXlzO1xuICAgIHZhciBoID0gaG91cnM7XG4gICAgdmFyIG0gPSBtaW51dGVzO1xuICAgIHZhciBzID0gc2Vjb25kcztcbiAgICB2YXIgdG90YWwgPSB0aGlzLmFzU2Vjb25kcygpO1xuXG4gICAgaWYgKCF0b3RhbCkge1xuICAgICAgICAvLyB0aGlzIGlzIHRoZSBzYW1lIGFzIEMjJ3MgKE5vZGEpIGFuZCBweXRob24gKGlzb2RhdGUpLi4uXG4gICAgICAgIC8vIGJ1dCBub3Qgb3RoZXIgSlMgKGdvb2cuZGF0ZSlcbiAgICAgICAgcmV0dXJuICdQMEQnO1xuICAgIH1cblxuICAgIHJldHVybiAodG90YWwgPCAwID8gJy0nIDogJycpICtcbiAgICAgICAgJ1AnICtcbiAgICAgICAgKFkgPyBZICsgJ1knIDogJycpICtcbiAgICAgICAgKE0gPyBNICsgJ00nIDogJycpICtcbiAgICAgICAgKEQgPyBEICsgJ0QnIDogJycpICtcbiAgICAgICAgKChoIHx8IG0gfHwgcykgPyAnVCcgOiAnJykgK1xuICAgICAgICAoaCA/IGggKyAnSCcgOiAnJykgK1xuICAgICAgICAobSA/IG0gKyAnTScgOiAnJykgK1xuICAgICAgICAocyA/IHMgKyAnUycgOiAnJyk7XG59XG5cbnZhciBwcm90byQyID0gRHVyYXRpb24ucHJvdG90eXBlO1xuXG5wcm90byQyLmFicyAgICAgICAgICAgID0gYWJzO1xucHJvdG8kMi5hZGQgICAgICAgICAgICA9IGFkZCQxO1xucHJvdG8kMi5zdWJ0cmFjdCAgICAgICA9IHN1YnRyYWN0JDE7XG5wcm90byQyLmFzICAgICAgICAgICAgID0gYXM7XG5wcm90byQyLmFzTWlsbGlzZWNvbmRzID0gYXNNaWxsaXNlY29uZHM7XG5wcm90byQyLmFzU2Vjb25kcyAgICAgID0gYXNTZWNvbmRzO1xucHJvdG8kMi5hc01pbnV0ZXMgICAgICA9IGFzTWludXRlcztcbnByb3RvJDIuYXNIb3VycyAgICAgICAgPSBhc0hvdXJzO1xucHJvdG8kMi5hc0RheXMgICAgICAgICA9IGFzRGF5cztcbnByb3RvJDIuYXNXZWVrcyAgICAgICAgPSBhc1dlZWtzO1xucHJvdG8kMi5hc01vbnRocyAgICAgICA9IGFzTW9udGhzO1xucHJvdG8kMi5hc1llYXJzICAgICAgICA9IGFzWWVhcnM7XG5wcm90byQyLnZhbHVlT2YgICAgICAgID0gdmFsdWVPZiQxO1xucHJvdG8kMi5fYnViYmxlICAgICAgICA9IGJ1YmJsZTtcbnByb3RvJDIuZ2V0ICAgICAgICAgICAgPSBnZXQkMjtcbnByb3RvJDIubWlsbGlzZWNvbmRzICAgPSBtaWxsaXNlY29uZHM7XG5wcm90byQyLnNlY29uZHMgICAgICAgID0gc2Vjb25kcztcbnByb3RvJDIubWludXRlcyAgICAgICAgPSBtaW51dGVzO1xucHJvdG8kMi5ob3VycyAgICAgICAgICA9IGhvdXJzO1xucHJvdG8kMi5kYXlzICAgICAgICAgICA9IGRheXM7XG5wcm90byQyLndlZWtzICAgICAgICAgID0gd2Vla3M7XG5wcm90byQyLm1vbnRocyAgICAgICAgID0gbW9udGhzO1xucHJvdG8kMi55ZWFycyAgICAgICAgICA9IHllYXJzO1xucHJvdG8kMi5odW1hbml6ZSAgICAgICA9IGh1bWFuaXplO1xucHJvdG8kMi50b0lTT1N0cmluZyAgICA9IHRvSVNPU3RyaW5nJDE7XG5wcm90byQyLnRvU3RyaW5nICAgICAgID0gdG9JU09TdHJpbmckMTtcbnByb3RvJDIudG9KU09OICAgICAgICAgPSB0b0lTT1N0cmluZyQxO1xucHJvdG8kMi5sb2NhbGUgICAgICAgICA9IGxvY2FsZTtcbnByb3RvJDIubG9jYWxlRGF0YSAgICAgPSBsb2NhbGVEYXRhO1xuXG4vLyBEZXByZWNhdGlvbnNcbnByb3RvJDIudG9Jc29TdHJpbmcgPSBkZXByZWNhdGUoJ3RvSXNvU3RyaW5nKCkgaXMgZGVwcmVjYXRlZC4gUGxlYXNlIHVzZSB0b0lTT1N0cmluZygpIGluc3RlYWQgKG5vdGljZSB0aGUgY2FwaXRhbHMpJywgdG9JU09TdHJpbmckMSk7XG5wcm90byQyLmxhbmcgPSBsYW5nO1xuXG4vLyBTaWRlIGVmZmVjdCBpbXBvcnRzXG5cbi8vIEZPUk1BVFRJTkdcblxuYWRkRm9ybWF0VG9rZW4oJ1gnLCAwLCAwLCAndW5peCcpO1xuYWRkRm9ybWF0VG9rZW4oJ3gnLCAwLCAwLCAndmFsdWVPZicpO1xuXG4vLyBQQVJTSU5HXG5cbmFkZFJlZ2V4VG9rZW4oJ3gnLCBtYXRjaFNpZ25lZCk7XG5hZGRSZWdleFRva2VuKCdYJywgbWF0Y2hUaW1lc3RhbXApO1xuYWRkUGFyc2VUb2tlbignWCcsIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXksIGNvbmZpZykge1xuICAgIGNvbmZpZy5fZCA9IG5ldyBEYXRlKHBhcnNlRmxvYXQoaW5wdXQsIDEwKSAqIDEwMDApO1xufSk7XG5hZGRQYXJzZVRva2VuKCd4JywgZnVuY3Rpb24gKGlucHV0LCBhcnJheSwgY29uZmlnKSB7XG4gICAgY29uZmlnLl9kID0gbmV3IERhdGUodG9JbnQoaW5wdXQpKTtcbn0pO1xuXG4vLyBTaWRlIGVmZmVjdCBpbXBvcnRzXG5cblxuaG9va3MudmVyc2lvbiA9ICcyLjE3LjAnO1xuXG5zZXRIb29rQ2FsbGJhY2soY3JlYXRlTG9jYWwpO1xuXG5ob29rcy5mbiAgICAgICAgICAgICAgICAgICAgPSBwcm90bztcbmhvb2tzLm1pbiAgICAgICAgICAgICAgICAgICA9IG1pbjtcbmhvb2tzLm1heCAgICAgICAgICAgICAgICAgICA9IG1heDtcbmhvb2tzLm5vdyAgICAgICAgICAgICAgICAgICA9IG5vdztcbmhvb2tzLnV0YyAgICAgICAgICAgICAgICAgICA9IGNyZWF0ZVVUQztcbmhvb2tzLnVuaXggICAgICAgICAgICAgICAgICA9IGNyZWF0ZVVuaXg7XG5ob29rcy5tb250aHMgICAgICAgICAgICAgICAgPSBsaXN0TW9udGhzO1xuaG9va3MuaXNEYXRlICAgICAgICAgICAgICAgID0gaXNEYXRlO1xuaG9va3MubG9jYWxlICAgICAgICAgICAgICAgID0gZ2V0U2V0R2xvYmFsTG9jYWxlO1xuaG9va3MuaW52YWxpZCAgICAgICAgICAgICAgID0gY3JlYXRlSW52YWxpZDtcbmhvb2tzLmR1cmF0aW9uICAgICAgICAgICAgICA9IGNyZWF0ZUR1cmF0aW9uO1xuaG9va3MuaXNNb21lbnQgICAgICAgICAgICAgID0gaXNNb21lbnQ7XG5ob29rcy53ZWVrZGF5cyAgICAgICAgICAgICAgPSBsaXN0V2Vla2RheXM7XG5ob29rcy5wYXJzZVpvbmUgICAgICAgICAgICAgPSBjcmVhdGVJblpvbmU7XG5ob29rcy5sb2NhbGVEYXRhICAgICAgICAgICAgPSBnZXRMb2NhbGU7XG5ob29rcy5pc0R1cmF0aW9uICAgICAgICAgICAgPSBpc0R1cmF0aW9uO1xuaG9va3MubW9udGhzU2hvcnQgICAgICAgICAgID0gbGlzdE1vbnRoc1Nob3J0O1xuaG9va3Mud2Vla2RheXNNaW4gICAgICAgICAgID0gbGlzdFdlZWtkYXlzTWluO1xuaG9va3MuZGVmaW5lTG9jYWxlICAgICAgICAgID0gZGVmaW5lTG9jYWxlO1xuaG9va3MudXBkYXRlTG9jYWxlICAgICAgICAgID0gdXBkYXRlTG9jYWxlO1xuaG9va3MubG9jYWxlcyAgICAgICAgICAgICAgID0gbGlzdExvY2FsZXM7XG5ob29rcy53ZWVrZGF5c1Nob3J0ICAgICAgICAgPSBsaXN0V2Vla2RheXNTaG9ydDtcbmhvb2tzLm5vcm1hbGl6ZVVuaXRzICAgICAgICA9IG5vcm1hbGl6ZVVuaXRzO1xuaG9va3MucmVsYXRpdmVUaW1lUm91bmRpbmcgPSBnZXRTZXRSZWxhdGl2ZVRpbWVSb3VuZGluZztcbmhvb2tzLnJlbGF0aXZlVGltZVRocmVzaG9sZCA9IGdldFNldFJlbGF0aXZlVGltZVRocmVzaG9sZDtcbmhvb2tzLmNhbGVuZGFyRm9ybWF0ICAgICAgICA9IGdldENhbGVuZGFyRm9ybWF0O1xuaG9va3MucHJvdG90eXBlICAgICAgICAgICAgID0gcHJvdG87XG5cbnJldHVybiBob29rcztcblxufSkpKTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9tb21lbnQvbW9tZW50LmpzXG4vLyBtb2R1bGUgaWQgPSAzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=