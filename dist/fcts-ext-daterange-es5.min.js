!function(t){function e(r){if(n[r])return n[r].exports;var a=n[r]={exports:{},id:r,loaded:!1};return t[r].call(a.exports,a,a.exports,e),a.loaded=!0,a.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";var r=n(1);FusionCharts.register("extension",["date-range-chooser",function(t){var e=this,n=e.extAPI;window.dr=new r,n(window.dr)}])},function(t,e,n){(function(e){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(2),o=n(4),u=function(){function t(){r(this,t),this.dateRange={startDate:0,endDate:0},this.startText={attr:function(){}},this.endText={attr:function(){}}}return a(t,[{key:"init",value:function(t){t("X-Axis","Y-Axis","graphics",function(t,n,r){e.x=t,e.y=n,e.paper=r})}},{key:"placeInCanvas",value:function(){this.range={startDate:12,endDate:23}}},{key:"draw",value:function(){var t=e.paper,n=this.range,r=t.text(20,22,"From: ");r.attr("font-family","sans-serif"),r.attr("fill","#000");var a=t.rect(50,10,60,25);a.attr("stroke","#000"),this.startText=t.text(63,22,n.startDate),this.startText.attr("font-family","sans-serif"),this.startText.attr("fill","#000");var i=t.text(170,22,"To: ");i.attr("font-family","sans-serif"),i.attr("fill","#000");var o=t.rect(190,10,60,25);o.attr("stroke","#000"),this.endText=t.text(203,22,n.endDate),this.endText.attr("font-family","sans-serif"),this.endText.attr("fill","#000")}},{key:"dispose",value:function(){}},{key:"swapDates",value:function(){var t=this.dateRange.startDate;this.dateRange.startDate=this.dateRange.endDate,this.dateRange.endDate=t}},{key:"syncRange",value:function(){}},{key:"getFormattedDate",value:function(t){return"12/12/2012"}},{key:"getTimestamp",value:function(t){return 6745123}},{key:"setConfig",value:function(t){}},{key:"getConfig",value:function(){return{color:"#000000"}}},{key:"range",get:function(){return this.dateRange},set:function(t){if(t.startDate<=t.endDate){this.dateRange.startDate=t.startDate,this.dateRange.endDate=t.endDate;var e=new i;e.timestamp=this.dateRange.startDate,this.startText.attr("text",e.timestamp);var n=new o;n.timestamp=this.dateRange.endDate,this.endText.attr("text",n.timestamp)}}}]),t}();t.exports=u}).call(e,function(){return this}())},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(3),s=function(t){function e(){return r(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,t),o(e,[{key:"validateDate",value:function(t){return!0}}]),e}(u);t.exports=s},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function(){function t(){n(this,t),this.timestamp=0}return r(t,[{key:"displayDate",value:function(){}},{key:"date",get:function(){return this.timestamp},set:function(t){this.timestamp=t}}]),t}();t.exports=a},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(3),s=function(t){function e(){return r(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,t),o(e,[{key:"validateDate",value:function(t){return!0}}]),e}(u);t.exports=s}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZmN0cy1leHQtZGF0ZXJhbmdlLWVzNS5taW4uanMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svYm9vdHN0cmFwIDE1NzgyYTFjYjUyNjhkMmRlOTA5Iiwid2VicGFjazovLy8uL3NyYy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZmN0cy1leHQtZGF0ZXJhbmdlLmpzIiwid2VicGFjazovLy8uL3NyYy9mY3RzLWV4dC1zdGFydGRhdGVpbnB1dC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZmN0cy1leHQtZGF0ZWlucHV0LmpzIiwid2VicGFjazovLy8uL3NyYy9mY3RzLWV4dC1lbmRkYXRlaW5wdXQuanMiXSwibmFtZXMiOlsibW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImluc3RhbGxlZE1vZHVsZXMiLCJleHBvcnRzIiwibW9kdWxlIiwiaWQiLCJsb2FkZWQiLCJjYWxsIiwibSIsImMiLCJwIiwiRGF0ZVJhbmdlIiwiRnVzaW9uQ2hhcnRzIiwicmVnaXN0ZXIiLCJnbG9iYWwiLCJ0aGlzIiwiZXh0QVBJIiwid2luZG93IiwiZHIiLCJfY2xhc3NDYWxsQ2hlY2siLCJpbnN0YW5jZSIsIkNvbnN0cnVjdG9yIiwiVHlwZUVycm9yIiwiX2NyZWF0ZUNsYXNzIiwiZGVmaW5lUHJvcGVydGllcyIsInRhcmdldCIsInByb3BzIiwiaSIsImxlbmd0aCIsImRlc2NyaXB0b3IiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImtleSIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsInByb3RvdHlwZSIsIlN0YXJ0RGF0ZUlucHV0IiwiRW5kRGF0ZUlucHV0IiwiZGF0ZVJhbmdlIiwic3RhcnREYXRlIiwiZW5kRGF0ZSIsInN0YXJ0VGV4dCIsImF0dHIiLCJlbmRUZXh0IiwidmFsdWUiLCJyZXF1aXJlIiwieCIsInkiLCJncmFwaGljcyIsInBhcGVyIiwicmFuZ2UiLCJzdGFydExhYmVsIiwidGV4dCIsInN0YXJ0UmVjdCIsInJlY3QiLCJlbmRMYWJlbCIsImVuZFJlY3QiLCJ0ZW1wIiwidGltZXN0YW1wIiwiZGF0ZVN0cmluZyIsImNvbmZpZ09iaiIsImNvbG9yIiwiZ2V0Iiwic2V0Iiwic2RpIiwiZWRpIiwiX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iLCJzZWxmIiwiUmVmZXJlbmNlRXJyb3IiLCJfaW5oZXJpdHMiLCJzdWJDbGFzcyIsInN1cGVyQ2xhc3MiLCJjcmVhdGUiLCJjb25zdHJ1Y3RvciIsInNldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwiRGF0ZUlucHV0IiwiX0RhdGVJbnB1dCIsImdldFByb3RvdHlwZU9mIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJtcyJdLCJtYXBwaW5ncyI6IkNBQVMsU0FBVUEsR0NJbkIsUUFBQUMsR0FBQUMsR0FHQSxHQUFBQyxFQUFBRCxHQUNBLE1BQUFDLEdBQUFELEdBQUFFLE9BR0EsSUFBQUMsR0FBQUYsRUFBQUQsSUFDQUUsV0FDQUUsR0FBQUosRUFDQUssUUFBQSxFQVVBLE9BTkFQLEdBQUFFLEdBQUFNLEtBQUFILEVBQUFELFFBQUFDLElBQUFELFFBQUFILEdBR0FJLEVBQUFFLFFBQUEsRUFHQUYsRUFBQUQsUUF2QkEsR0FBQUQsS0FxQ0EsT0FUQUYsR0FBQVEsRUFBQVQsRUFHQUMsRUFBQVMsRUFBQVAsRUFHQUYsRUFBQVUsRUFBQSxHQUdBVixFQUFBLEtETU0sU0FBU0ksRUFBUUQsRUFBU0gsR0U1Q2hDLFlBQ0EsSUFBTVcsR0FBWVgsRUFBUSxFQUkxQlksY0FBYUMsU0FBUyxhQUFjLHFCQUFzQixTQUFVUixHQUNsRSxHQUFJUyxHQUFTQyxLQUNUQyxFQUFTRixFQUFPRSxNQUtwQkMsUUFBT0MsR0FBSyxHQUFJUCxHQUNoQkssRUFBT0MsT0FBT0MsUUZvRFYsU0FBU2QsRUFBUUQsRUFBU0gsSUdqRWhDLFNBQUFjLEdBQUEsWUh1RUMsU0FBU0ssR0FBZ0JDLEVBQVVDLEdBQWUsS0FBTUQsWUFB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LEVBQWFlLEVBQVlDLEdBQWlKLE1BQTlIRCxJQUFZWixFQUFpQkgsRUFBWWlCLFVBQVdGLEdBQWlCQyxHQUFhYixFQUFpQkgsRUFBYWdCLEdBQXFCaEIsTU0zVzNoQjBELEVBQVkvRSxFQUFRLEdBT3BCd0MsRU5vWGMsU0FBVXdDLEdBRzNCLFFBQVN4QyxLQUdQLE1BRkFyQixHQUFnQkosS0FBTXlCLEdBRWY2QixFQUEyQnRELE1BQU95QixFQUFhc0MsV0FBYTdDLE9BQU9nRCxlQUFlekMsSUFBZTBDLE1BQU1uRSxLQUFNb0UsWUFldEgsTUFwQkFYLEdBQVVoQyxFQUFjd0MsR0FReEJ6RCxFQUFhaUIsSUFDWEwsSUFBSyxlQU1MWSxNQUFPLFNNL1hJYyxHQUNaLE9BQU8sTU5tWURyQixHTXpZaUJ1QyxFQVUzQjNFLEdBQU9ELFFBQVVxQyIsImZpbGUiOiJmY3RzLWV4dC1kYXRlcmFuZ2UtZXM1Lm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKioqKiovIChmdW5jdGlvbihtb2R1bGVzKSB7IC8vIHdlYnBhY2tCb290c3RyYXBcbi8qKioqKiovIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbi8qKioqKiovIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbi8qKioqKiovIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSlcbi8qKioqKiovIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuLyoqKioqKi8gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbi8qKioqKiovIFx0XHRcdGV4cG9ydHM6IHt9LFxuLyoqKioqKi8gXHRcdFx0aWQ6IG1vZHVsZUlkLFxuLyoqKioqKi8gXHRcdFx0bG9hZGVkOiBmYWxzZVxuLyoqKioqKi8gXHRcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuLyoqKioqKi8gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4vKioqKioqLyBcdFx0bW9kdWxlLmxvYWRlZCA9IHRydWU7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4vKioqKioqLyBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuLyoqKioqKi8gXHR9XG4vKioqKioqL1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vKioqKioqLyBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuLyoqKioqKi8gfSlcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqKioqLyAoW1xuLyogMCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0dmFyIERhdGVSYW5nZSA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHQvLyB2YXIgZmMgPSBuZXcgRnVzaW9uQ2hhcnRzKCk7XG5cdFxuXHRGdXNpb25DaGFydHMucmVnaXN0ZXIoJ2V4dGVuc2lvbicsIFsnZGF0ZS1yYW5nZS1jaG9vc2VyJywgZnVuY3Rpb24gKGlkKSB7XG5cdCAgdmFyIGdsb2JhbCA9IHRoaXM7XG5cdCAgdmFyIGV4dEFQSSA9IGdsb2JhbC5leHRBUEk7XG5cdFxuXHQgIC8vIHZhciBvdGhlckFQSSA9IEZ1c2lvbkNoYXJ0cy5nZXRFeHRDb21wb25lbnQoaWQsICdhcGknLCAnbGVnYWN5ZXh0YXBpJyk7XG5cdCAgLy8gdmFyIHRvb2xCb3hBcGkgPSBGdXNpb25DaGFydHMuZ2V0Q29tcG9uZW50KCdhcGknLCAndG9vbGJveCcpO1xuXHRcblx0ICB3aW5kb3cuZHIgPSBuZXcgRGF0ZVJhbmdlKCk7XG5cdCAgZXh0QVBJKHdpbmRvdy5kcik7XG5cdH1dKTtcblxuLyoqKi8gfSxcbi8qIDEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihnbG9iYWwpIHsndXNlIHN0cmljdCc7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXHRcblx0ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblx0XG5cdHZhciBTdGFydERhdGVJbnB1dCA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cdHZhciBFbmREYXRlSW5wdXQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXHQvKipcblx0ICogQ2xhc3MgcmVwcmVzZW50aW5nIHRoZSBEYXRlUmFuZ2UuXG5cdCAqL1xuXHRcblx0dmFyIERhdGVSYW5nZSA9IGZ1bmN0aW9uICgpIHtcblx0ICAvKipcblx0ICAgKiBDcmVhdGUgYSBEYXRlUmFuZ2UuXG5cdCAgICogQHR5cGVkZWYge29iamVjdH0gRGF0ZVJhbmdlLnJhbmdlXG5cdCAgICogQHByb3BlcnR5IHtudW1iZXJ9IHN0YXJ0RGF0ZSAtIFRoZSBzdGFydCBkYXRlIG9mIHRoZSBkYXRlIHJhbmdlLlxuXHQgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBlbmREYXRlIC0gVGhlIGVuZCBkYXRlIG9mIHRoZSBkYXRlIHJhbmdlLlxuXHQgICAqL1xuXHQgIGZ1bmN0aW9uIERhdGVSYW5nZSgpIHtcblx0ICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBEYXRlUmFuZ2UpO1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogQHByaXZhdGVcblx0ICAgICAqL1xuXHQgICAgdGhpcy5kYXRlUmFuZ2UgPSB7XG5cdCAgICAgIHN0YXJ0RGF0ZTogMCxcblx0ICAgICAgZW5kRGF0ZTogMFxuXHQgICAgfTtcblx0ICAgIHRoaXMuc3RhcnRUZXh0ID0ge1xuXHQgICAgICBhdHRyOiBmdW5jdGlvbiBhdHRyKCkge31cblx0ICAgIH07XG5cdCAgICB0aGlzLmVuZFRleHQgPSB7XG5cdCAgICAgIGF0dHI6IGZ1bmN0aW9uIGF0dHIoKSB7fVxuXHQgICAgfTtcblx0ICB9XG5cdFxuXHQgIC8qKlxuXHQgICAqIEFuIG9iamVjdCByZXByZXNlbnRpbmcgdGhlIHN0YXJ0IGFuZCBlbmQgZGF0ZXMuXG5cdCAgICogQHR5cGUge0RhdGVSYW5nZS5yYW5nZX1cblx0ICAgKi9cblx0XG5cdFxuXHQgIF9jcmVhdGVDbGFzcyhEYXRlUmFuZ2UsIFt7XG5cdCAgICBrZXk6ICdpbml0Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBpbml0KHJlcXVpcmUpIHtcblx0ICAgICAgcmVxdWlyZSgnWC1BeGlzJywgJ1ktQXhpcycsICdncmFwaGljcycsIGZ1bmN0aW9uICh4LCB5LCBncmFwaGljcykge1xuXHQgICAgICAgIGdsb2JhbC54ID0geDtcblx0ICAgICAgICBnbG9iYWwueSA9IHk7XG5cdCAgICAgICAgZ2xvYmFsLnBhcGVyID0gZ3JhcGhpY3M7XG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3BsYWNlSW5DYW52YXMnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHBsYWNlSW5DYW52YXMoKSB7XG5cdCAgICAgIHRoaXMucmFuZ2UgPSB7XG5cdCAgICAgICAgc3RhcnREYXRlOiAxMixcblx0ICAgICAgICBlbmREYXRlOiAyM1xuXHQgICAgICB9O1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2RyYXcnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGRyYXcoKSB7XG5cdCAgICAgIHZhciBwYXBlciA9IGdsb2JhbC5wYXBlcjtcblx0ICAgICAgdmFyIHJhbmdlID0gdGhpcy5yYW5nZTtcblx0XG5cdCAgICAgIHZhciBzdGFydExhYmVsID0gcGFwZXIudGV4dCgyMCwgMjIsICdGcm9tOiAnKTtcblx0ICAgICAgc3RhcnRMYWJlbC5hdHRyKCdmb250LWZhbWlseScsICdzYW5zLXNlcmlmJyk7XG5cdCAgICAgIHN0YXJ0TGFiZWwuYXR0cignZmlsbCcsICcjMDAwJyk7XG5cdCAgICAgIHZhciBzdGFydFJlY3QgPSBwYXBlci5yZWN0KDUwLCAxMCwgNjAsIDI1KTtcblx0ICAgICAgc3RhcnRSZWN0LmF0dHIoJ3N0cm9rZScsICcjMDAwJyk7XG5cdCAgICAgIHRoaXMuc3RhcnRUZXh0ID0gcGFwZXIudGV4dCg2MywgMjIsIHJhbmdlLnN0YXJ0RGF0ZSk7XG5cdCAgICAgIHRoaXMuc3RhcnRUZXh0LmF0dHIoJ2ZvbnQtZmFtaWx5JywgJ3NhbnMtc2VyaWYnKTtcblx0ICAgICAgdGhpcy5zdGFydFRleHQuYXR0cignZmlsbCcsICcjMDAwJyk7XG5cdFxuXHQgICAgICB2YXIgZW5kTGFiZWwgPSBwYXBlci50ZXh0KDE3MCwgMjIsICdUbzogJyk7XG5cdCAgICAgIGVuZExhYmVsLmF0dHIoJ2ZvbnQtZmFtaWx5JywgJ3NhbnMtc2VyaWYnKTtcblx0ICAgICAgZW5kTGFiZWwuYXR0cignZmlsbCcsICcjMDAwJyk7XG5cdCAgICAgIHZhciBlbmRSZWN0ID0gcGFwZXIucmVjdCgxOTAsIDEwLCA2MCwgMjUpO1xuXHQgICAgICBlbmRSZWN0LmF0dHIoJ3N0cm9rZScsICcjMDAwJyk7XG5cdCAgICAgIHRoaXMuZW5kVGV4dCA9IHBhcGVyLnRleHQoMjAzLCAyMiwgcmFuZ2UuZW5kRGF0ZSk7XG5cdCAgICAgIHRoaXMuZW5kVGV4dC5hdHRyKCdmb250LWZhbWlseScsICdzYW5zLXNlcmlmJyk7XG5cdCAgICAgIHRoaXMuZW5kVGV4dC5hdHRyKCdmaWxsJywgJyMwMDAnKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdkaXNwb3NlJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBkaXNwb3NlKCkge31cblx0ICAgIC8vIFRPRE86IGRpc3Bvc2UgZXh0ZW5zaW9uXG5cdFxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogU3dhcHMgdGhlIHN0YXJ0IGRhdGUgYW5kIHRoZSBlbmQgZGF0ZSBvZiB0aGUgZGF0ZSByYW5nZVxuXHQgICAgICogQHByaXZhdGVcblx0ICAgICAqL1xuXHRcblx0ICB9LCB7XG5cdCAgICBrZXk6ICdzd2FwRGF0ZXMnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHN3YXBEYXRlcygpIHtcblx0ICAgICAgdmFyIHRlbXAgPSB0aGlzLmRhdGVSYW5nZS5zdGFydERhdGU7XG5cdCAgICAgIHRoaXMuZGF0ZVJhbmdlLnN0YXJ0RGF0ZSA9IHRoaXMuZGF0ZVJhbmdlLmVuZERhdGU7XG5cdCAgICAgIHRoaXMuZGF0ZVJhbmdlLmVuZERhdGUgPSB0ZW1wO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogU3luY3MgdGhlIGRhdGVyYW5nZSBzaG93biBieSB0aGUgRnVzaW9uQ2hhcnRzIHRpbWUgc2VyaWVzIGNoYXJ0IGFuZCB0aGUgRGF0ZSBSYW5nZSBDaG9vc2VyXG5cdCAgICAgKiBAcHJpdmF0ZVxuXHQgICAgICovXG5cdFxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3N5bmNSYW5nZScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gc3luY1JhbmdlKCkge31cblx0XG5cdCAgICAvKipcblx0ICAgICAqIFJldHVybnMgYSBmb3JtYXR0ZWQgZGF0ZSBzdHJpbmcgZnJvbSBGdXNpb25DaGFydHMgd2hlbiBnaXZlbiBhIFVOSVggdGltZXN0YW1wXG5cdCAgICAgKiBAcGFyYW0gIHtudW1iZXJ9IHRpbWVzdGFtcCAtIEEgVU5JWCB0aW1lc3RhbXAgdG8gYmUgY29udmVydGVkIHRvIGEgZGF0ZSBzdHJpbmdcblx0ICAgICAqIEByZXR1cm4ge3N0cmluZ30gQSBkYXRlIHN0cmluZyB3aGljaCBpcyBlcXVpdmFsZW50IHRvIHRoZSBnaXZlbiB0aW1lc3RhbXBcblx0ICAgICAqL1xuXHRcblx0ICB9LCB7XG5cdCAgICBrZXk6ICdnZXRGb3JtYXR0ZWREYXRlJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRGb3JtYXR0ZWREYXRlKHRpbWVzdGFtcCkge1xuXHQgICAgICByZXR1cm4gJzEyLzEyLzIwMTInO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogUmV0dXJucyBhIFVOSVggdGltZXN0YW1wIGZyb20gRnVzaW9uQ2hhcnRzIHdoZW4gZ2l2ZW4gYSBmb3JtYXR0ZWQgZGF0ZSBzdHJpbmdcblx0ICAgICAqIEBwYXJhbSAge3N0cmluZ30gZGF0ZVN0cmluZyAtIEEgZGF0ZSBzdHJpbmcgdG8gYmUgY29udmVydGVkIHRvIGEgVU5JWCB0aW1lc3RhbXBcblx0ICAgICAqIEByZXR1cm4ge251bWJlcn0gQSBVTklYIHRpbWVzdGFtcCB3aGljaCBpcyBlcXVpdmFsZW50IHRvIHRoZSBnaXZlbiBkYXRlIHN0cmluZ1xuXHQgICAgICovXG5cdFxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2dldFRpbWVzdGFtcCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0VGltZXN0YW1wKGRhdGVTdHJpbmcpIHtcblx0ICAgICAgcmV0dXJuIDY3NDUxMjM7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBTZXRzIHRoZSBjb25maWd1cmFibGUgb3B0aW9ucyBvZiB0aGUgZXh0ZW5zaW9uIChlLmcuIGNvc21ldGljcylcblx0ICAgICAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWdPYmogVGhlIGNvbmZpZ3VyYXRpb24gb2JqZWN0IGNvbnRhaW5pbmcgdmFyaW91cyBleHRlbnNpb24gb3B0aW9uc1xuXHQgICAgICovXG5cdFxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3NldENvbmZpZycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gc2V0Q29uZmlnKGNvbmZpZ09iaikge31cblx0XG5cdCAgICAvKipcblx0ICAgICAqIEdldHMgdGhlIGNvbmZpZ3VyYWJsZSBvcHRpb25zIG9mIHRoZSBleHRlbnNpb24gKGUuZy4gY29zbWV0aWNzKVxuXHQgICAgICogQHJldHVybiB7b2JqZWN0fSBjb25maWdPYmogVGhlIGNvbmZpZ3VyYXRpb24gb2JqZWN0IGNvbnRhaW5pbmcgdmFyaW91cyBleHRlbnNpb24gb3B0aW9uc1xuXHQgICAgICovXG5cdFxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2dldENvbmZpZycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Q29uZmlnKCkge1xuXHQgICAgICByZXR1cm4ge1xuXHQgICAgICAgIGNvbG9yOiAnIzAwMDAwMCdcblx0ICAgICAgfTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdyYW5nZScsXG5cdCAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMuZGF0ZVJhbmdlO1xuXHQgICAgfSxcblx0ICAgIHNldDogZnVuY3Rpb24gc2V0KHJhbmdlKSB7XG5cdCAgICAgIGlmIChyYW5nZS5zdGFydERhdGUgPD0gcmFuZ2UuZW5kRGF0ZSkge1xuXHQgICAgICAgIHRoaXMuZGF0ZVJhbmdlLnN0YXJ0RGF0ZSA9IHJhbmdlLnN0YXJ0RGF0ZTtcblx0ICAgICAgICB0aGlzLmRhdGVSYW5nZS5lbmREYXRlID0gcmFuZ2UuZW5kRGF0ZTtcblx0XG5cdCAgICAgICAgdmFyIHNkaSA9IG5ldyBTdGFydERhdGVJbnB1dCgpO1xuXHQgICAgICAgIHNkaS50aW1lc3RhbXAgPSB0aGlzLmRhdGVSYW5nZS5zdGFydERhdGU7XG5cdCAgICAgICAgdGhpcy5zdGFydFRleHQuYXR0cigndGV4dCcsIHNkaS50aW1lc3RhbXApO1xuXHRcblx0ICAgICAgICB2YXIgZWRpID0gbmV3IEVuZERhdGVJbnB1dCgpO1xuXHQgICAgICAgIGVkaS50aW1lc3RhbXAgPSB0aGlzLmRhdGVSYW5nZS5lbmREYXRlO1xuXHQgICAgICAgIHRoaXMuZW5kVGV4dC5hdHRyKCd0ZXh0JywgZWRpLnRpbWVzdGFtcCk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9XSk7XG5cdFxuXHQgIHJldHVybiBEYXRlUmFuZ2U7XG5cdH0oKTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gRGF0ZVJhbmdlO1xuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwoZXhwb3J0cywgKGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSgpKSkpXG5cbi8qKiovIH0sXG4vKiAyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXHRcblx0ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblx0XG5cdGZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXHRcblx0ZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cdFxuXHR2YXIgRGF0ZUlucHV0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0XG5cdC8qKlxuXHQgKiBBIGNvbmNyZXRlIHJlcHJlc2VudGF0aW9uIG9mIERhdGVJbnB1dCBmb3IgdGhlIHN0YXJ0IGRhdGUuXG5cdCAqIEBleHRlbmRzIERhdGVJbnB1dFxuXHQgKiBAcHJpdmF0ZVxuXHQgKi9cblx0XG5cdHZhciBTdGFydERhdGVJbnB1dCA9IGZ1bmN0aW9uIChfRGF0ZUlucHV0KSB7XG5cdCAgX2luaGVyaXRzKFN0YXJ0RGF0ZUlucHV0LCBfRGF0ZUlucHV0KTtcblx0XG5cdCAgZnVuY3Rpb24gU3RhcnREYXRlSW5wdXQoKSB7XG5cdCAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU3RhcnREYXRlSW5wdXQpO1xuXHRcblx0ICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoU3RhcnREYXRlSW5wdXQuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihTdGFydERhdGVJbnB1dCkpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuXHQgIH1cblx0XG5cdCAgX2NyZWF0ZUNsYXNzKFN0YXJ0RGF0ZUlucHV0LCBbe1xuXHQgICAga2V5OiAndmFsaWRhdGVEYXRlJyxcblx0XG5cdCAgICAvKipcblx0ICAgICAqIFZhbGlkYXRlIHRoZSBnaXZlbiB0aW1lc3RhbXBcblx0ICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgdGhlIGdpdmVuIHRpbWVzdGFtcCBpcyB2YWxpZCBvciBub3Rcblx0ICAgICAqL1xuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHZhbGlkYXRlRGF0ZSh0aW1lc3RhbXApIHtcblx0ICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICB9XG5cdCAgfV0pO1xuXHRcblx0ICByZXR1cm4gU3RhcnREYXRlSW5wdXQ7XG5cdH0oRGF0ZUlucHV0KTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gU3RhcnREYXRlSW5wdXQ7XG5cbi8qKiovIH0sXG4vKiAzICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdC8qKlxuXHQgKiBDbGFzcyByZXByZXNlbnRpbmcgYSBhYnN0cmFjdCBEYXRlSW5wdXQuXG5cdCAqIEBhYnN0cmFjdFxuXHQgKiBAcHJpdmF0ZVxuXHQgKi9cblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cdFxuXHRmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXHRcblx0dmFyIERhdGVJbnB1dCA9IGZ1bmN0aW9uICgpIHtcblx0ICBmdW5jdGlvbiBEYXRlSW5wdXQoKSB7XG5cdCAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRGF0ZUlucHV0KTtcblx0XG5cdCAgICAvKipcblx0ICAgICAqIEB0eXBlZGVmIHtvYmplY3R9IERhdGVJbnB1dC5pbnB1dFxuXHQgICAgICogQHByb3BlcnR5IHtudW1iZXJ9IHRpbWVzdGFtcCAtIFRoZSBjdXJyZW50IHRpbWUgc2hvd24gb24gdGhlIGRhdGUgaW5wdXQuXG5cdCAgICAgKi9cblx0ICAgIC8qKlxuXHQgICAgICogQHByaXZhdGVcblx0ICAgICAqL1xuXHQgICAgdGhpcy50aW1lc3RhbXAgPSAwO1xuXHQgIH1cblx0XG5cdCAgLyoqXG5cdCAgICogUmVwcmVzZW50cyB0aGUgbnVtZXJpYyB2YWx1ZSBvZiB0aGUgZGF0ZVxuXHQgICAqIEB0eXBlIG51bWJlclxuXHQgICAqL1xuXHRcblx0XG5cdCAgX2NyZWF0ZUNsYXNzKERhdGVJbnB1dCwgW3tcblx0ICAgIGtleTogJ2Rpc3BsYXlEYXRlJyxcblx0XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBEaXNwbGF5cyB0aGUgZGF0ZSBvbiB0aGUgZGF0ZSBpbnB1dFxuXHQgICAgICogQHByaXZhdGVcblx0ICAgICAqL1xuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGRpc3BsYXlEYXRlKCkge31cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdkYXRlJyxcblx0ICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuXHQgICAgICByZXR1cm4gdGhpcy50aW1lc3RhbXA7XG5cdCAgICB9LFxuXHQgICAgc2V0OiBmdW5jdGlvbiBzZXQobXMpIHtcblx0ICAgICAgdGhpcy50aW1lc3RhbXAgPSBtcztcblx0ICAgIH1cblx0ICB9XSk7XG5cdFxuXHQgIHJldHVybiBEYXRlSW5wdXQ7XG5cdH0oKTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gRGF0ZUlucHV0O1xuXG4vKioqLyB9LFxuLyogNCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblx0XG5cdGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cdFxuXHRmdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblx0XG5cdGZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXHRcblx0dmFyIERhdGVJbnB1dCA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdFxuXHQvKipcblx0ICogQSBjb25jcmV0ZSByZXByZXNlbnRhdGlvbiBvZiBEYXRlSW5wdXQgZm9yIHRoZSBlbmQgZGF0ZS5cblx0ICogQGV4dGVuZHMgRGF0ZUlucHV0XG5cdCAqIEBwcml2YXRlXG5cdCAqL1xuXHRcblx0dmFyIEVuZERhdGVJbnB1dCA9IGZ1bmN0aW9uIChfRGF0ZUlucHV0KSB7XG5cdCAgX2luaGVyaXRzKEVuZERhdGVJbnB1dCwgX0RhdGVJbnB1dCk7XG5cdFxuXHQgIGZ1bmN0aW9uIEVuZERhdGVJbnB1dCgpIHtcblx0ICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBFbmREYXRlSW5wdXQpO1xuXHRcblx0ICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoRW5kRGF0ZUlucHV0Ll9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoRW5kRGF0ZUlucHV0KSkuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG5cdCAgfVxuXHRcblx0ICBfY3JlYXRlQ2xhc3MoRW5kRGF0ZUlucHV0LCBbe1xuXHQgICAga2V5OiAndmFsaWRhdGVEYXRlJyxcblx0XG5cdCAgICAvKipcblx0ICAgICAqIFZhbGlkYXRlIHRoZSBnaXZlbiB0aW1lc3RhbXBcblx0ICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgdGhlIGdpdmVuIHRpbWVzdGFtcCBpcyB2YWxpZCBvciBub3Rcblx0ICAgICAqL1xuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHZhbGlkYXRlRGF0ZSh0aW1lc3RhbXApIHtcblx0ICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICB9XG5cdCAgfV0pO1xuXHRcblx0ICByZXR1cm4gRW5kRGF0ZUlucHV0O1xuXHR9KERhdGVJbnB1dCk7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IEVuZERhdGVJbnB1dDtcblxuLyoqKi8gfVxuLyoqKioqKi8gXSk7XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogZmN0cy1leHQtZGF0ZXJhbmdlLWVzNS5taW4uanNcbiAqKi8iLCIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSlcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcblxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0ZXhwb3J0czoge30sXG4gXHRcdFx0aWQ6IG1vZHVsZUlkLFxuIFx0XHRcdGxvYWRlZDogZmFsc2VcbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubG9hZGVkID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIHdlYnBhY2svYm9vdHN0cmFwIDE1NzgyYTFjYjUyNjhkMmRlOTA5XG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuY29uc3QgRGF0ZVJhbmdlID0gcmVxdWlyZSgnLi9mY3RzLWV4dC1kYXRlcmFuZ2UnKTtcblxuLy8gdmFyIGZjID0gbmV3IEZ1c2lvbkNoYXJ0cygpO1xuXG5GdXNpb25DaGFydHMucmVnaXN0ZXIoJ2V4dGVuc2lvbicsIFsnZGF0ZS1yYW5nZS1jaG9vc2VyJywgZnVuY3Rpb24gKGlkKSB7XG4gIHZhciBnbG9iYWwgPSB0aGlzO1xuICB2YXIgZXh0QVBJID0gZ2xvYmFsLmV4dEFQSTtcblxuICAvLyB2YXIgb3RoZXJBUEkgPSBGdXNpb25DaGFydHMuZ2V0RXh0Q29tcG9uZW50KGlkLCAnYXBpJywgJ2xlZ2FjeWV4dGFwaScpO1xuICAvLyB2YXIgdG9vbEJveEFwaSA9IEZ1c2lvbkNoYXJ0cy5nZXRDb21wb25lbnQoJ2FwaScsICd0b29sYm94Jyk7XG5cbiAgd2luZG93LmRyID0gbmV3IERhdGVSYW5nZSgpO1xuICBleHRBUEkod2luZG93LmRyKTtcbn1dKTtcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2luZGV4LmpzXG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xudmFyIFN0YXJ0RGF0ZUlucHV0ID0gcmVxdWlyZSgnLi9mY3RzLWV4dC1zdGFydGRhdGVpbnB1dCcpO1xudmFyIEVuZERhdGVJbnB1dCA9IHJlcXVpcmUoJy4vZmN0cy1leHQtZW5kZGF0ZWlucHV0Jyk7XG4vKipcbiAqIENsYXNzIHJlcHJlc2VudGluZyB0aGUgRGF0ZVJhbmdlLlxuICovXG5jbGFzcyBEYXRlUmFuZ2Uge1xuICAvKipcbiAgICogQ3JlYXRlIGEgRGF0ZVJhbmdlLlxuICAgKiBAdHlwZWRlZiB7b2JqZWN0fSBEYXRlUmFuZ2UucmFuZ2VcbiAgICogQHByb3BlcnR5IHtudW1iZXJ9IHN0YXJ0RGF0ZSAtIFRoZSBzdGFydCBkYXRlIG9mIHRoZSBkYXRlIHJhbmdlLlxuICAgKiBAcHJvcGVydHkge251bWJlcn0gZW5kRGF0ZSAtIFRoZSBlbmQgZGF0ZSBvZiB0aGUgZGF0ZSByYW5nZS5cbiAgICovXG4gIGNvbnN0cnVjdG9yICgpIHtcbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuZGF0ZVJhbmdlID0ge1xuICAgICAgc3RhcnREYXRlOiAwLFxuICAgICAgZW5kRGF0ZTogMFxuICAgIH07XG4gICAgdGhpcy5zdGFydFRleHQgPSB7XG4gICAgICBhdHRyOiBmdW5jdGlvbiAoKSB7fVxuICAgIH07XG4gICAgdGhpcy5lbmRUZXh0ID0ge1xuICAgICAgYXR0cjogZnVuY3Rpb24gKCkge31cbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIEFuIG9iamVjdCByZXByZXNlbnRpbmcgdGhlIHN0YXJ0IGFuZCBlbmQgZGF0ZXMuXG4gICAqIEB0eXBlIHtEYXRlUmFuZ2UucmFuZ2V9XG4gICAqL1xuICBnZXQgcmFuZ2UgKCkge1xuICAgIHJldHVybiB0aGlzLmRhdGVSYW5nZTtcbiAgfVxuXG4gIHNldCByYW5nZSAocmFuZ2UpIHtcbiAgICBpZiAocmFuZ2Uuc3RhcnREYXRlIDw9IHJhbmdlLmVuZERhdGUpIHtcbiAgICAgIHRoaXMuZGF0ZVJhbmdlLnN0YXJ0RGF0ZSA9IHJhbmdlLnN0YXJ0RGF0ZTtcbiAgICAgIHRoaXMuZGF0ZVJhbmdlLmVuZERhdGUgPSByYW5nZS5lbmREYXRlO1xuXG4gICAgICB2YXIgc2RpID0gbmV3IFN0YXJ0RGF0ZUlucHV0KCk7XG4gICAgICBzZGkudGltZXN0YW1wID0gdGhpcy5kYXRlUmFuZ2Uuc3RhcnREYXRlO1xuICAgICAgdGhpcy5zdGFydFRleHQuYXR0cigndGV4dCcsIHNkaS50aW1lc3RhbXApO1xuXG4gICAgICB2YXIgZWRpID0gbmV3IEVuZERhdGVJbnB1dCgpO1xuICAgICAgZWRpLnRpbWVzdGFtcCA9IHRoaXMuZGF0ZVJhbmdlLmVuZERhdGU7XG4gICAgICB0aGlzLmVuZFRleHQuYXR0cigndGV4dCcsIGVkaS50aW1lc3RhbXApO1xuICAgIH1cbiAgfVxuXG4gIGluaXQgKHJlcXVpcmUpIHtcbiAgICByZXF1aXJlKCdYLUF4aXMnLCAnWS1BeGlzJywgJ2dyYXBoaWNzJywgZnVuY3Rpb24gKHgsIHksIGdyYXBoaWNzKSB7XG4gICAgICBnbG9iYWwueCA9IHg7XG4gICAgICBnbG9iYWwueSA9IHk7XG4gICAgICBnbG9iYWwucGFwZXIgPSBncmFwaGljcztcbiAgICB9KTtcbiAgfVxuXG4gIHBsYWNlSW5DYW52YXMgKCkge1xuICAgIHRoaXMucmFuZ2UgPSB7XG4gICAgICBzdGFydERhdGU6IDEyLFxuICAgICAgZW5kRGF0ZTogMjNcbiAgICB9O1xuICB9XG5cbiAgZHJhdyAoKSB7XG4gICAgdmFyIHBhcGVyID0gZ2xvYmFsLnBhcGVyO1xuICAgIHZhciByYW5nZSA9IHRoaXMucmFuZ2U7XG5cbiAgICB2YXIgc3RhcnRMYWJlbCA9IHBhcGVyLnRleHQoMjAsIDIyLCAnRnJvbTogJyk7XG4gICAgc3RhcnRMYWJlbC5hdHRyKCdmb250LWZhbWlseScsICdzYW5zLXNlcmlmJyk7XG4gICAgc3RhcnRMYWJlbC5hdHRyKCdmaWxsJywgJyMwMDAnKTtcbiAgICB2YXIgc3RhcnRSZWN0ID0gcGFwZXIucmVjdCg1MCwgMTAsIDYwLCAyNSk7XG4gICAgc3RhcnRSZWN0LmF0dHIoJ3N0cm9rZScsICcjMDAwJyk7XG4gICAgdGhpcy5zdGFydFRleHQgPSBwYXBlci50ZXh0KDYzLCAyMiwgcmFuZ2Uuc3RhcnREYXRlKTtcbiAgICB0aGlzLnN0YXJ0VGV4dC5hdHRyKCdmb250LWZhbWlseScsICdzYW5zLXNlcmlmJyk7XG4gICAgdGhpcy5zdGFydFRleHQuYXR0cignZmlsbCcsICcjMDAwJyk7XG5cbiAgICB2YXIgZW5kTGFiZWwgPSBwYXBlci50ZXh0KDE3MCwgMjIsICdUbzogJyk7XG4gICAgZW5kTGFiZWwuYXR0cignZm9udC1mYW1pbHknLCAnc2Fucy1zZXJpZicpO1xuICAgIGVuZExhYmVsLmF0dHIoJ2ZpbGwnLCAnIzAwMCcpO1xuICAgIHZhciBlbmRSZWN0ID0gcGFwZXIucmVjdCgxOTAsIDEwLCA2MCwgMjUpO1xuICAgIGVuZFJlY3QuYXR0cignc3Ryb2tlJywgJyMwMDAnKTtcbiAgICB0aGlzLmVuZFRleHQgPSBwYXBlci50ZXh0KDIwMywgMjIsIHJhbmdlLmVuZERhdGUpO1xuICAgIHRoaXMuZW5kVGV4dC5hdHRyKCdmb250LWZhbWlseScsICdzYW5zLXNlcmlmJyk7XG4gICAgdGhpcy5lbmRUZXh0LmF0dHIoJ2ZpbGwnLCAnIzAwMCcpO1xuICB9XG5cbiAgZGlzcG9zZSAoKSB7XG4gICAgLy8gVE9ETzogZGlzcG9zZSBleHRlbnNpb25cbiAgfVxuXG4gIC8qKlxuICAgKiBTd2FwcyB0aGUgc3RhcnQgZGF0ZSBhbmQgdGhlIGVuZCBkYXRlIG9mIHRoZSBkYXRlIHJhbmdlXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBzd2FwRGF0ZXMgKCkge1xuICAgIGxldCB0ZW1wID0gdGhpcy5kYXRlUmFuZ2Uuc3RhcnREYXRlO1xuICAgIHRoaXMuZGF0ZVJhbmdlLnN0YXJ0RGF0ZSA9IHRoaXMuZGF0ZVJhbmdlLmVuZERhdGU7XG4gICAgdGhpcy5kYXRlUmFuZ2UuZW5kRGF0ZSA9IHRlbXA7XG4gIH1cblxuICAvKipcbiAgICogU3luY3MgdGhlIGRhdGVyYW5nZSBzaG93biBieSB0aGUgRnVzaW9uQ2hhcnRzIHRpbWUgc2VyaWVzIGNoYXJ0IGFuZCB0aGUgRGF0ZSBSYW5nZSBDaG9vc2VyXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBzeW5jUmFuZ2UgKCkge31cblxuICAvKipcbiAgICogUmV0dXJucyBhIGZvcm1hdHRlZCBkYXRlIHN0cmluZyBmcm9tIEZ1c2lvbkNoYXJ0cyB3aGVuIGdpdmVuIGEgVU5JWCB0aW1lc3RhbXBcbiAgICogQHBhcmFtICB7bnVtYmVyfSB0aW1lc3RhbXAgLSBBIFVOSVggdGltZXN0YW1wIHRvIGJlIGNvbnZlcnRlZCB0byBhIGRhdGUgc3RyaW5nXG4gICAqIEByZXR1cm4ge3N0cmluZ30gQSBkYXRlIHN0cmluZyB3aGljaCBpcyBlcXVpdmFsZW50IHRvIHRoZSBnaXZlbiB0aW1lc3RhbXBcbiAgICovXG4gIGdldEZvcm1hdHRlZERhdGUgKHRpbWVzdGFtcCkge1xuICAgIHJldHVybiAnMTIvMTIvMjAxMic7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBhIFVOSVggdGltZXN0YW1wIGZyb20gRnVzaW9uQ2hhcnRzIHdoZW4gZ2l2ZW4gYSBmb3JtYXR0ZWQgZGF0ZSBzdHJpbmdcbiAgICogQHBhcmFtICB7c3RyaW5nfSBkYXRlU3RyaW5nIC0gQSBkYXRlIHN0cmluZyB0byBiZSBjb252ZXJ0ZWQgdG8gYSBVTklYIHRpbWVzdGFtcFxuICAgKiBAcmV0dXJuIHtudW1iZXJ9IEEgVU5JWCB0aW1lc3RhbXAgd2hpY2ggaXMgZXF1aXZhbGVudCB0byB0aGUgZ2l2ZW4gZGF0ZSBzdHJpbmdcbiAgICovXG4gIGdldFRpbWVzdGFtcCAoZGF0ZVN0cmluZykge1xuICAgIHJldHVybiA2NzQ1MTIzO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIGNvbmZpZ3VyYWJsZSBvcHRpb25zIG9mIHRoZSBleHRlbnNpb24gKGUuZy4gY29zbWV0aWNzKVxuICAgKiBAcGFyYW0ge09iamVjdH0gY29uZmlnT2JqIFRoZSBjb25maWd1cmF0aW9uIG9iamVjdCBjb250YWluaW5nIHZhcmlvdXMgZXh0ZW5zaW9uIG9wdGlvbnNcbiAgICovXG4gIHNldENvbmZpZyAoY29uZmlnT2JqKSB7fVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBjb25maWd1cmFibGUgb3B0aW9ucyBvZiB0aGUgZXh0ZW5zaW9uIChlLmcuIGNvc21ldGljcylcbiAgICogQHJldHVybiB7b2JqZWN0fSBjb25maWdPYmogVGhlIGNvbmZpZ3VyYXRpb24gb2JqZWN0IGNvbnRhaW5pbmcgdmFyaW91cyBleHRlbnNpb24gb3B0aW9uc1xuICAgKi9cbiAgZ2V0Q29uZmlnICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgY29sb3I6ICcjMDAwMDAwJ1xuICAgIH07XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBEYXRlUmFuZ2U7XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9mY3RzLWV4dC1kYXRlcmFuZ2UuanNcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5jb25zdCBEYXRlSW5wdXQgPSByZXF1aXJlKCcuL2ZjdHMtZXh0LWRhdGVpbnB1dCcpO1xuXG4vKipcbiAqIEEgY29uY3JldGUgcmVwcmVzZW50YXRpb24gb2YgRGF0ZUlucHV0IGZvciB0aGUgc3RhcnQgZGF0ZS5cbiAqIEBleHRlbmRzIERhdGVJbnB1dFxuICogQHByaXZhdGVcbiAqL1xuY2xhc3MgU3RhcnREYXRlSW5wdXQgZXh0ZW5kcyBEYXRlSW5wdXQge1xuICAvKipcbiAgICogVmFsaWRhdGUgdGhlIGdpdmVuIHRpbWVzdGFtcFxuICAgKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIHRoZSBnaXZlbiB0aW1lc3RhbXAgaXMgdmFsaWQgb3Igbm90XG4gICAqL1xuICB2YWxpZGF0ZURhdGUgKHRpbWVzdGFtcCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gU3RhcnREYXRlSW5wdXQ7XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9mY3RzLWV4dC1zdGFydGRhdGVpbnB1dC5qc1xuICoqLyIsIid1c2Ugc3RyaWN0Jztcbi8qKlxuICogQ2xhc3MgcmVwcmVzZW50aW5nIGEgYWJzdHJhY3QgRGF0ZUlucHV0LlxuICogQGFic3RyYWN0XG4gKiBAcHJpdmF0ZVxuICovXG5jbGFzcyBEYXRlSW5wdXQge1xuICBjb25zdHJ1Y3RvciAoKSB7XG4gICAgLyoqXG4gICAgICogQHR5cGVkZWYge29iamVjdH0gRGF0ZUlucHV0LmlucHV0XG4gICAgICogQHByb3BlcnR5IHtudW1iZXJ9IHRpbWVzdGFtcCAtIFRoZSBjdXJyZW50IHRpbWUgc2hvd24gb24gdGhlIGRhdGUgaW5wdXQuXG4gICAgICovXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLnRpbWVzdGFtcCA9IDA7XG4gIH1cblxuICAvKipcbiAgICogUmVwcmVzZW50cyB0aGUgbnVtZXJpYyB2YWx1ZSBvZiB0aGUgZGF0ZVxuICAgKiBAdHlwZSBudW1iZXJcbiAgICovXG4gIGdldCBkYXRlICgpIHtcbiAgICByZXR1cm4gdGhpcy50aW1lc3RhbXA7XG4gIH1cblxuICBzZXQgZGF0ZSAobXMpIHtcbiAgICB0aGlzLnRpbWVzdGFtcCA9IG1zO1xuICB9XG5cbiAgLyoqXG4gICAqIERpc3BsYXlzIHRoZSBkYXRlIG9uIHRoZSBkYXRlIGlucHV0XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBkaXNwbGF5RGF0ZSAoKSB7fVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IERhdGVJbnB1dDtcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2ZjdHMtZXh0LWRhdGVpbnB1dC5qc1xuICoqLyIsIid1c2Ugc3RyaWN0JztcbmNvbnN0IERhdGVJbnB1dCA9IHJlcXVpcmUoJy4vZmN0cy1leHQtZGF0ZWlucHV0Jyk7XG5cbi8qKlxuICogQSBjb25jcmV0ZSByZXByZXNlbnRhdGlvbiBvZiBEYXRlSW5wdXQgZm9yIHRoZSBlbmQgZGF0ZS5cbiAqIEBleHRlbmRzIERhdGVJbnB1dFxuICogQHByaXZhdGVcbiAqL1xuY2xhc3MgRW5kRGF0ZUlucHV0IGV4dGVuZHMgRGF0ZUlucHV0IHtcbiAgLyoqXG4gICAqIFZhbGlkYXRlIHRoZSBnaXZlbiB0aW1lc3RhbXBcbiAgICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciB0aGUgZ2l2ZW4gdGltZXN0YW1wIGlzIHZhbGlkIG9yIG5vdFxuICAgKi9cbiAgdmFsaWRhdGVEYXRlICh0aW1lc3RhbXApIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IEVuZERhdGVJbnB1dDtcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2ZjdHMtZXh0LWVuZGRhdGVpbnB1dC5qc1xuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=