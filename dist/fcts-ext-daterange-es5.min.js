!function(t){function e(i){if(n[i])return n[i].exports;var s=n[i]={exports:{},id:i,loaded:!1};return t[i].call(s.exports,s,s.exports,e),s.loaded=!0,s.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){(function(t){"use strict";var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=n(2);window.dr=new i,function(n,i){"object"===e(t)&&t.exports?t.exports=n.document?i(n):function(t){if(!t.document)throw new Error("Window with document not present");return i(t,!0)}:n.DateRangeChooser=i(n,!0)}("undefined"!=typeof window?window:void 0,function(t,e){var n=t.FusionCharts;n.register("extension",["private","date-range-chooser",function(){n.registerComponent("extensions","date-range-chooser",i({FusionCharts:n}))}])})}).call(e,n(1)(t))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(3);t.exports=function(t){var e=function(){function e(){i(this,e),this.startDt=0,this.endDt=0,this.startDataset=0,this.endDataset=0,this.toolbox=t.FusionCharts.getComponent("api","toolbox"),this.HorizontalToolbar=this.toolbox.HorizontalToolbar,this.ComponentGroup=this.toolbox.ComponentGroup,this.SymbolStore=this.toolbox.SymbolStore,this.startText={attr:function(){}},this.endText={attr:function(){}}}return s(e,[{key:"dateFormatter",value:function(t,e){t=new Date(t);var n=[t.getUTCDate(),t.getUTCMonth()+1,t.getUTCFullYear()];return n=n.join(e)}},{key:"swapDates",value:function(){var t=this.dateRange.startDate;this.dateRange.startDate=this.dateRange.endDate,this.dateRange.endDate=t}},{key:"syncRange",value:function(){}},{key:"getFormattedDate",value:function(t){return this.chart.getFormattedDate(t)}},{key:"getTimestamp",value:function(t){return this.chart.getTimestamp(t)}},{key:"setConfig",value:function(t){}},{key:"getConfig",value:function(){return{calendarVisible:"false"}}},{key:"init",value:function(t){var e=this;return t(["xAxis","yAxis","graphics","chart","dataset","PlotManager","canvasConfig","MarkerManager","reactiveModel","globalReactiveModel","spaceManagerInstance","extData","smartLabel",function(t,n,i,s,r,a,o,u,l,h,d,c,f){e.extData=c,e.xAxis=t,e.yAxis=n,e.graphics=i,e.chart=s,e.dataset=r,e.plotManager=a,e.markerManager=u,e.canvasConfig=o,e.reactiveModel=l,e.globalReactiveModel=h,e.spaceManagerInstance=d,e.smartLabel=f}]),this.spaceManagerInstance=e.spaceManagerInstance,this.globalReactiveModel=e.globalReactiveModel,this.startDt=e.globalReactiveModel.model["x-axis-visible-range-start"],this.endDt=e.globalReactiveModel.model["x-axis-visible-range-end"],this.startDataset=e.globalReactiveModel.model["x-axis-absolute-range-start"],this.endDataset=e.globalReactiveModel.model["x-axis-absolute-range-end"],this.toolbars=[],this.measurement={},this.toolbars.push(this.createToolbar()),this}},{key:"createToolbar",value:function(){var t,e,n,i,s,a,o=this;return o.fromDate={},o.toDate={},s=r(this.startDt,"x").format("DD-MM-YYYY"),a=r(this.endDt,"x").format("DD-MM-YYYY"),t=new this.HorizontalToolbar({paper:this.graphics.paper,chart:this.chart,smartLabel:this.smartLabel,chartContainer:this.graphics.container}),t.setConfig({fill:"#FFFFFF",borderThickness:0}),i=new this.toolbox.ComponentGroup({paper:this.graphics.paper,chart:this.chart,smartLabel:this.smartLabel,chartContainer:this.graphics.container}),i.setConfig({fill:"#FFFFFF",borderThickness:0}),e=new this.toolbox.Label("From:",{smartLabel:this.smartLabel,paper:this.graphics.paper},{text:{style:{"font-size":"13","font-family":'"Lucida Grande", sans-serif',fill:"#4B4B4B"}}}),n=new this.toolbox.Label("To:",{smartLabel:this.smartLabel,paper:this.graphics.paper},{text:{style:{"font-size":"13","font-family":'"Lucida Grande", sans-serif',fill:"#4B4B4B"}}}),o.fromDate=new this.toolbox.InputTextBoxSymbol({width:120,height:22},{paper:this.graphics.paper,chart:this.chart,smartLabel:this.smartLabel,chartContainer:this.graphics.container},{strokeWidth:1,stroke:"#ced5d4",symbolStrokeWidth:0,radius:2,margin:{right:22},btnTextStyle:{"font-family":'"Lucida Grande", sans-serif',fontSize:13},label:s,labelFill:"#696969"}),o.fromDate.setStateConfig({pressed:{config:{pressed:{fill:"#FFFFFF","stroke-width":1,stroke:"#1E1F1F"},normal:{fill:"#FFFFFF","stroke-width":1,stroke:"#1E1F1F"},hover:{fill:"#FFFFFF","stroke-width":1,stroke:"#0000FF"}}}}),o.toDate=new this.toolbox.InputTextBoxSymbol({width:120,height:22},{paper:this.graphics.paper,chart:this.chart,smartLabel:this.smartLabel,chartContainer:this.graphics.container},{strokeWidth:1,stroke:"#ced5d4",symbolStrokeWidth:0,radius:2,btnTextStyle:{"font-family":'"Lucida Grande", sans-serif',fontSize:13},label:a,labelFill:"#696969"}),o.toDate.setStateConfig({pressed:{config:{pressed:{fill:"#FFFFFF","stroke-width":1,stroke:"#1E1F1F"},normal:{fill:"#FFFFFF","stroke-width":1,stroke:"#1E1F1F"},hover:{fill:"#FFFFFF","stroke-width":1,stroke:"#1E1F1F"}}}}),o.fromDate.attachEventHandlers({click:{fn:function(){o.fromDate.edit(),o.fromDate.updateVisual("pressed")}},textOnBlur:function(){o.fromDate.blur(),o.startDate=o.fromDate.getText(),o.fromDate.updateVisual("enabled")}}),o.toDate.attachEventHandlers({click:{fn:function(){o.toDate.edit(),o.toDate.updateVisual("pressed")}},textOnBlur:function(){o.toDate.blur(),o.endDate=o.toDate.getText(),o.toDate.updateVisual("enabled")}}),this.SymbolStore.register("textBoxIcon",function(t,e,n,i,s,r,a){var o=t-i/2+r/2,u=t+i/2-r/2,l=e-s/2+a/2,h=e+s/2-a/2;return["M",o,l,"L",u,l,"L",u,h,"L",o,h,"Z"]}),i.addSymbol(e),i.addSymbol(o.fromDate),i.addSymbol(n),i.addSymbol(o.toDate),t.addComponent(i),t}},{key:"getLogicalSpace",value:function(t,e){var n,i,s,r=0,a=0;for(t/=2,i=0,s=this.toolbars.length;i<s;i++)n=this.toolbars[i].getLogicalSpace(t,e),r=Math.max(n.width,r),a+=n.height,this.toolbars[i].width=n.width,this.toolbars[i].height=n.height;return a+=this.padding,{width:r,height:a}}},{key:"placeInCanvas",value:function(){var t=this;t.padding=5,t.spaceManagerInstance.add([{name:function(){return"DateRangeChooserToolbox"},ref:function(t){return t[0]},self:function(){return t},priority:function(){return 2},layout:function(e){return e[t.extData.layout]},orientation:[{type:function(e){return e[t.extData.orientation]},position:[{type:function(e){return e[t.extData.position]},alignment:[{type:function(e){return e[t.extData.alignment]},dimensions:[function(){var e=this.getParentComponentGroup();return t.getLogicalSpace(e.getWidth(),e.getHeight())}]}]}]}]}])}},{key:"setDrawingConfiguration",value:function(t,e,n,i,s){var r=this.measurement;return r.x=t,r.y=e,r.width=n,r.height=i,this.parentGroup=s,this}},{key:"draw",value:function(t,e,n,i,s){var a,o,u,l=this.measurement,h=this.toolbars,d=this.globalReactiveModel,c=this;if(t=void 0===t?l.x:t,e=void 0===e?l.y:e,n=void 0===n?l.width:n,i=void 0===i?l.height:i,s=void 0===s?this.parentGroup:s,n&&i)for(o=0,a=h.length;o<a;o++)u=h[o],u.draw(t,e,s);d.onPropsChange(["x-axis-visible-range-start","x-axis-visible-range-end"],function(t,e){c.fromDate.blur(r(t[1],"x").format("DD-MM-YYYY")),c.toDate.blur(r(e[1],"x").format("DD-MM-YYYY"))})}},{key:"startDate",get:function(){return this.startDt},set:function(t){var e=parseInt(r(t,"DD-MM-YYYY").format("x")),n=this.globalReactiveModel.model["x-axis-absolute-range-start"];e<=this.endDt&&e>=n?(this.startDt=e,this.globalReactiveModel.model["x-axis-visible-range-start"]=this.startDt):console.error("From Date error state!")}},{key:"endDate",get:function(){return this.endDt},set:function(t){var e=parseInt(r(t,"DD-MM-YYYY").format("x")),n=this.globalReactiveModel.model["x-axis-absolute-range-end"];e>=this.startDt&&e<=n?(this.endDt=e,this.globalReactiveModel.model["x-axis-visible-range-end"]=this.endDt):console.error("To Date error state!")}}]),e}();return e}},function(t,e,n){(function(t){!function(e,n){t.exports=n()}(this,function(){"use strict";function e(){return yi.apply(null,arguments)}function n(t){yi=t}function i(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function s(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function r(t){var e;for(e in t)return!1;return!0}function a(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function o(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function u(t,e){var n,i=[];for(n=0;n<t.length;++n)i.push(e(t[n],n));return i}function l(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function h(t,e){for(var n in e)l(e,n)&&(t[n]=e[n]);return l(e,"toString")&&(t.toString=e.toString),l(e,"valueOf")&&(t.valueOf=e.valueOf),t}function d(t,e,n,i){return pe(t,e,n,i,!0).utc()}function c(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null}}function f(t){return null==t._pf&&(t._pf=c()),t._pf}function m(t){if(null==t._isValid){var e=f(t),n=pi.call(e.parsedDateParts,function(t){return null!=t}),i=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n);if(t._strict&&(i=i&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return i;t._isValid=i}return t._isValid}function _(t){var e=d(NaN);return null!=t?h(f(e),t):f(e).userInvalidated=!0,e}function y(t){return void 0===t}function g(t,e){var n,i,s;if(y(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),y(e._i)||(t._i=e._i),y(e._f)||(t._f=e._f),y(e._l)||(t._l=e._l),y(e._strict)||(t._strict=e._strict),y(e._tzm)||(t._tzm=e._tzm),y(e._isUTC)||(t._isUTC=e._isUTC),y(e._offset)||(t._offset=e._offset),y(e._pf)||(t._pf=f(e)),y(e._locale)||(t._locale=e._locale),vi.length>0)for(n in vi)i=vi[n],s=e[i],y(s)||(t[i]=s);return t}function p(t){g(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),wi===!1&&(wi=!0,e.updateOffset(this),wi=!1)}function v(t){return t instanceof p||null!=t&&null!=t._isAMomentObject}function w(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function D(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=w(e)),n}function M(t,e,n){var i,s=Math.min(t.length,e.length),r=Math.abs(t.length-e.length),a=0;for(i=0;i<s;i++)(n&&t[i]!==e[i]||!n&&D(t[i])!==D(e[i]))&&a++;return a+r}function k(t){e.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function S(t,n){var i=!0;return h(function(){if(null!=e.deprecationHandler&&e.deprecationHandler(null,t),i){for(var s,r=[],a=0;a<arguments.length;a++){if(s="","object"==typeof arguments[a]){s+="\n["+a+"] ";for(var o in arguments[0])s+=o+": "+arguments[0][o]+", ";s=s.slice(0,-2)}else s=arguments[a];r.push(s)}k(t+"\nArguments: "+Array.prototype.slice.call(r).join("")+"\n"+(new Error).stack),i=!1}return n.apply(this,arguments)},n)}function Y(t,n){null!=e.deprecationHandler&&e.deprecationHandler(t,n),Di[t]||(k(n),Di[t]=!0)}function b(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function x(t){var e,n;for(n in t)e=t[n],b(e)?this[n]=e:this["_"+n]=e;this._config=t,this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function F(t,e){var n,i=h({},t);for(n in e)l(e,n)&&(s(t[n])&&s(e[n])?(i[n]={},h(i[n],t[n]),h(i[n],e[n])):null!=e[n]?i[n]=e[n]:delete i[n]);for(n in t)l(t,n)&&!l(e,n)&&s(t[n])&&(i[n]=h({},i[n]));return i}function T(t){null!=t&&this.set(t)}function O(t,e,n){var i=this._calendar[t]||this._calendar.sameElse;return b(i)?i.call(e,n):i}function P(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])}function W(){return this._invalidDate}function R(t){return this._ordinal.replace("%d",t)}function C(t,e,n,i){var s=this._relativeTime[n];return b(s)?s(t,e,n,i):s.replace(/%d/i,t)}function L(t,e){var n=this._relativeTime[t>0?"future":"past"];return b(n)?n(e):n.replace(/%s/i,e)}function U(t,e){var n=t.toLowerCase();Pi[n]=Pi[n+"s"]=Pi[e]=t}function G(t){return"string"==typeof t?Pi[t]||Pi[t.toLowerCase()]:void 0}function H(t){var e,n,i={};for(n in t)l(t,n)&&(e=G(n),e&&(i[e]=t[n]));return i}function V(t,e){Wi[t]=e}function E(t){var e=[];for(var n in t)e.push({unit:n,priority:Wi[n]});return e.sort(function(t,e){return t.priority-e.priority}),e}function I(t,n){return function(i){return null!=i?(N(this,t,i),e.updateOffset(this,n),this):j(this,t)}}function j(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function N(t,e,n){t.isValid()&&t._d["set"+(t._isUTC?"UTC":"")+e](n)}function A(t){return t=G(t),b(this[t])?this[t]():this}function z(t,e){if("object"==typeof t){t=H(t);for(var n=E(t),i=0;i<n.length;i++)this[n[i].unit](t[n[i].unit])}else if(t=G(t),b(this[t]))return this[t](e);return this}function Z(t,e,n){var i=""+Math.abs(t),s=e-i.length,r=t>=0;return(r?n?"+":"":"-")+Math.pow(10,Math.max(0,s)).toString().substr(1)+i}function B(t,e,n,i){var s=i;"string"==typeof i&&(s=function(){return this[i]()}),t&&(Ui[t]=s),e&&(Ui[e[0]]=function(){return Z(s.apply(this,arguments),e[1],e[2])}),n&&(Ui[n]=function(){return this.localeData().ordinal(s.apply(this,arguments),t)})}function $(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function q(t){var e,n,i=t.match(Ri);for(e=0,n=i.length;e<n;e++)Ui[i[e]]?i[e]=Ui[i[e]]:i[e]=$(i[e]);return function(e){var s,r="";for(s=0;s<n;s++)r+=i[s]instanceof Function?i[s].call(e,t):i[s];return r}}function J(t,e){return t.isValid()?(e=Q(e,t.localeData()),Li[e]=Li[e]||q(e),Li[e](t)):t.localeData().invalidDate()}function Q(t,e){function n(t){return e.longDateFormat(t)||t}var i=5;for(Ci.lastIndex=0;i>=0&&Ci.test(t);)t=t.replace(Ci,n),Ci.lastIndex=0,i-=1;return t}function X(t,e,n){ts[t]=b(e)?e:function(t,i){return t&&n?n:e}}function K(t,e){return l(ts,t)?ts[t](e._strict,e._locale):new RegExp(tt(t))}function tt(t){return et(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,i,s){return e||n||i||s}))}function et(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function nt(t,e){var n,i=e;for("string"==typeof t&&(t=[t]),a(e)&&(i=function(t,n){n[e]=D(t)}),n=0;n<t.length;n++)es[t[n]]=i}function it(t,e){nt(t,function(t,n,i,s){i._w=i._w||{},e(t,i._w,i,s)})}function st(t,e,n){null!=e&&l(es,t)&&es[t](e,n._a,n,t)}function rt(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function at(t,e){return t?i(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||cs).test(e)?"format":"standalone"][t.month()]:this._months}function ot(t,e){return t?i(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[cs.test(e)?"format":"standalone"][t.month()]:this._monthsShort}function ut(t,e,n){var i,s,r,a=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)r=d([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(r,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(r,"").toLocaleLowerCase();return n?"MMM"===e?(s=ds.call(this._shortMonthsParse,a),s!==-1?s:null):(s=ds.call(this._longMonthsParse,a),s!==-1?s:null):"MMM"===e?(s=ds.call(this._shortMonthsParse,a),s!==-1?s:(s=ds.call(this._longMonthsParse,a),s!==-1?s:null)):(s=ds.call(this._longMonthsParse,a),s!==-1?s:(s=ds.call(this._shortMonthsParse,a),s!==-1?s:null))}function lt(t,e,n){var i,s,r;if(this._monthsParseExact)return ut.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(s=d([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(s,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(s,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(r="^"+this.months(s,"")+"|^"+this.monthsShort(s,""),this._monthsParse[i]=new RegExp(r.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[i].test(t))return i;if(n&&"MMM"===e&&this._shortMonthsParse[i].test(t))return i;if(!n&&this._monthsParse[i].test(t))return i}}function ht(t,e){var n;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=D(e);else if(e=t.localeData().monthsParse(e),!a(e))return t;return n=Math.min(t.date(),rt(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function dt(t){return null!=t?(ht(this,t),e.updateOffset(this,!0),this):j(this,"Month")}function ct(){return rt(this.year(),this.month())}function ft(t){return this._monthsParseExact?(l(this,"_monthsRegex")||_t.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(l(this,"_monthsShortRegex")||(this._monthsShortRegex=_s),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function mt(t){return this._monthsParseExact?(l(this,"_monthsRegex")||_t.call(this),t?this._monthsStrictRegex:this._monthsRegex):(l(this,"_monthsRegex")||(this._monthsRegex=ys),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function _t(){function t(t,e){return e.length-t.length}var e,n,i=[],s=[],r=[];for(e=0;e<12;e++)n=d([2e3,e]),i.push(this.monthsShort(n,"")),s.push(this.months(n,"")),r.push(this.months(n,"")),r.push(this.monthsShort(n,""));for(i.sort(t),s.sort(t),r.sort(t),e=0;e<12;e++)i[e]=et(i[e]),s[e]=et(s[e]);for(e=0;e<24;e++)r[e]=et(r[e]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}function yt(t){return gt(t)?366:365}function gt(t){return t%4===0&&t%100!==0||t%400===0}function pt(){return gt(this.year())}function vt(t,e,n,i,s,r,a){var o=new Date(t,e,n,i,s,r,a);return t<100&&t>=0&&isFinite(o.getFullYear())&&o.setFullYear(t),o}function wt(t){var e=new Date(Date.UTC.apply(null,arguments));return t<100&&t>=0&&isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t),e}function Dt(t,e,n){var i=7+e-n,s=(7+wt(t,0,i).getUTCDay()-e)%7;return-s+i-1}function Mt(t,e,n,i,s){var r,a,o=(7+n-i)%7,u=Dt(t,i,s),l=1+7*(e-1)+o+u;return l<=0?(r=t-1,a=yt(r)+l):l>yt(t)?(r=t+1,a=l-yt(t)):(r=t,a=l),{year:r,dayOfYear:a}}function kt(t,e,n){var i,s,r=Dt(t.year(),e,n),a=Math.floor((t.dayOfYear()-r-1)/7)+1;return a<1?(s=t.year()-1,i=a+St(s,e,n)):a>St(t.year(),e,n)?(i=a-St(t.year(),e,n),s=t.year()+1):(s=t.year(),i=a),{week:i,year:s}}function St(t,e,n){var i=Dt(t,e,n),s=Dt(t+1,e,n);return(yt(t)-i+s)/7}function Yt(t){return kt(t,this._week.dow,this._week.doy).week}function bt(){return this._week.dow}function xt(){return this._week.doy}function Ft(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")}function Tt(t){var e=kt(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")}function Ot(t,e){return"string"!=typeof t?t:isNaN(t)?(t=e.weekdaysParse(t),"number"==typeof t?t:null):parseInt(t,10)}function Pt(t,e){return"string"==typeof t?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function Wt(t,e){return t?i(this._weekdays)?this._weekdays[t.day()]:this._weekdays[this._weekdays.isFormat.test(e)?"format":"standalone"][t.day()]:this._weekdays}function Rt(t){return t?this._weekdaysShort[t.day()]:this._weekdaysShort}function Ct(t){return t?this._weekdaysMin[t.day()]:this._weekdaysMin}function Lt(t,e,n){var i,s,r,a=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)r=d([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(r,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(r,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(r,"").toLocaleLowerCase();return n?"dddd"===e?(s=ds.call(this._weekdaysParse,a),s!==-1?s:null):"ddd"===e?(s=ds.call(this._shortWeekdaysParse,a),s!==-1?s:null):(s=ds.call(this._minWeekdaysParse,a),s!==-1?s:null):"dddd"===e?(s=ds.call(this._weekdaysParse,a),s!==-1?s:(s=ds.call(this._shortWeekdaysParse,a),s!==-1?s:(s=ds.call(this._minWeekdaysParse,a),s!==-1?s:null))):"ddd"===e?(s=ds.call(this._shortWeekdaysParse,a),s!==-1?s:(s=ds.call(this._weekdaysParse,a),s!==-1?s:(s=ds.call(this._minWeekdaysParse,a),s!==-1?s:null))):(s=ds.call(this._minWeekdaysParse,a),s!==-1?s:(s=ds.call(this._weekdaysParse,a),s!==-1?s:(s=ds.call(this._shortWeekdaysParse,a),s!==-1?s:null)))}function Ut(t,e,n){var i,s,r;if(this._weekdaysParseExact)return Lt.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(s=d([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(s,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(s,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(s,"").replace(".",".?")+"$","i")),this._weekdaysParse[i]||(r="^"+this.weekdays(s,"")+"|^"+this.weekdaysShort(s,"")+"|^"+this.weekdaysMin(s,""),this._weekdaysParse[i]=new RegExp(r.replace(".",""),"i")),n&&"dddd"===e&&this._fullWeekdaysParse[i].test(t))return i;if(n&&"ddd"===e&&this._shortWeekdaysParse[i].test(t))return i;if(n&&"dd"===e&&this._minWeekdaysParse[i].test(t))return i;if(!n&&this._weekdaysParse[i].test(t))return i}}function Gt(t){if(!this.isValid())return null!=t?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=Ot(t,this.localeData()),this.add(t-e,"d")):e}function Ht(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")}function Vt(t){if(!this.isValid())return null!=t?this:NaN;if(null!=t){var e=Pt(t,this.localeData());return this.day(this.day()%7?e:e-7)}return this.day()||7}function Et(t){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||Nt.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(l(this,"_weekdaysRegex")||(this._weekdaysRegex=Ms),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function It(t){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||Nt.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(l(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=ks),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function jt(t){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||Nt.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(l(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Ss),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Nt(){function t(t,e){return e.length-t.length}var e,n,i,s,r,a=[],o=[],u=[],l=[];for(e=0;e<7;e++)n=d([2e3,1]).day(e),i=this.weekdaysMin(n,""),s=this.weekdaysShort(n,""),r=this.weekdays(n,""),a.push(i),o.push(s),u.push(r),l.push(i),l.push(s),l.push(r);for(a.sort(t),o.sort(t),u.sort(t),l.sort(t),e=0;e<7;e++)o[e]=et(o[e]),u[e]=et(u[e]),l[e]=et(l[e]);this._weekdaysRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function At(){return this.hours()%12||12}function zt(){return this.hours()||24}function Zt(t,e){B(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function Bt(t,e){return e._meridiemParse}function $t(t){return"p"===(t+"").toLowerCase().charAt(0)}function qt(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}function Jt(t){return t?t.toLowerCase().replace("_","-"):t}function Qt(t){for(var e,n,i,s,r=0;r<t.length;){for(s=Jt(t[r]).split("-"),e=s.length,n=Jt(t[r+1]),n=n?n.split("-"):null;e>0;){if(i=Xt(s.slice(0,e).join("-")))return i;if(n&&n.length>=e&&M(s,n,!0)>=e-1)break;e--}r++}return null}function Xt(e){var n=null;if(!Ts[e]&&"undefined"!=typeof t&&t&&t.exports)try{n=Ys._abbr,!function(){var t=new Error('Cannot find module "./locale"');throw t.code="MODULE_NOT_FOUND",t}(),Kt(n)}catch(t){}return Ts[e]}function Kt(t,e){var n;return t&&(n=y(e)?ne(t):te(t,e),n&&(Ys=n)),Ys._abbr}function te(t,e){if(null!==e){var n=Fs;if(e.abbr=t,null!=Ts[t])Y("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=Ts[t]._config;else if(null!=e.parentLocale){if(null==Ts[e.parentLocale])return Os[e.parentLocale]||(Os[e.parentLocale]=[]),Os[e.parentLocale].push({name:t,config:e}),null;n=Ts[e.parentLocale]._config}return Ts[t]=new T(F(n,e)),Os[t]&&Os[t].forEach(function(t){te(t.name,t.config)}),Kt(t),Ts[t]}return delete Ts[t],null}function ee(t,e){if(null!=e){var n,i=Fs;null!=Ts[t]&&(i=Ts[t]._config),e=F(i,e),n=new T(e),n.parentLocale=Ts[t],Ts[t]=n,Kt(t)}else null!=Ts[t]&&(null!=Ts[t].parentLocale?Ts[t]=Ts[t].parentLocale:null!=Ts[t]&&delete Ts[t]);return Ts[t]}function ne(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Ys;if(!i(t)){if(e=Xt(t))return e;t=[t]}return Qt(t)}function ie(){return Si(Ts)}function se(t){var e,n=t._a;return n&&f(t).overflow===-2&&(e=n[is]<0||n[is]>11?is:n[ss]<1||n[ss]>rt(n[ns],n[is])?ss:n[rs]<0||n[rs]>24||24===n[rs]&&(0!==n[as]||0!==n[os]||0!==n[us])?rs:n[as]<0||n[as]>59?as:n[os]<0||n[os]>59?os:n[us]<0||n[us]>999?us:-1,f(t)._overflowDayOfYear&&(e<ns||e>ss)&&(e=ss),f(t)._overflowWeeks&&e===-1&&(e=ls),f(t)._overflowWeekday&&e===-1&&(e=hs),f(t).overflow=e),t}function re(t){var e,n,i,s,r,a,o=t._i,u=Ps.exec(o)||Ws.exec(o);if(u){for(f(t).iso=!0,e=0,n=Cs.length;e<n;e++)if(Cs[e][1].exec(u[1])){s=Cs[e][0],i=Cs[e][2]!==!1;break}if(null==s)return void(t._isValid=!1);if(u[3]){for(e=0,n=Ls.length;e<n;e++)if(Ls[e][1].exec(u[3])){r=(u[2]||" ")+Ls[e][0];break}if(null==r)return void(t._isValid=!1)}if(!i&&null!=r)return void(t._isValid=!1);if(u[4]){if(!Rs.exec(u[4]))return void(t._isValid=!1);a="Z"}t._f=s+(r||"")+(a||""),de(t)}else t._isValid=!1}function ae(t){var n=Us.exec(t._i);return null!==n?void(t._d=new Date(+n[1])):(re(t),void(t._isValid===!1&&(delete t._isValid,e.createFromInputFallback(t))))}function oe(t,e,n){return null!=t?t:null!=e?e:n}function ue(t){var n=new Date(e.now());return t._useUTC?[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()]:[n.getFullYear(),n.getMonth(),n.getDate()]}function le(t){var e,n,i,s,r=[];if(!t._d){for(i=ue(t),t._w&&null==t._a[ss]&&null==t._a[is]&&he(t),t._dayOfYear&&(s=oe(t._a[ns],i[ns]),t._dayOfYear>yt(s)&&(f(t)._overflowDayOfYear=!0),n=wt(s,0,t._dayOfYear),t._a[is]=n.getUTCMonth(),t._a[ss]=n.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=r[e]=i[e];for(;e<7;e++)t._a[e]=r[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[rs]&&0===t._a[as]&&0===t._a[os]&&0===t._a[us]&&(t._nextDay=!0,t._a[rs]=0),t._d=(t._useUTC?wt:vt).apply(null,r),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[rs]=24)}}function he(t){var e,n,i,s,r,a,o,u;if(e=t._w,null!=e.GG||null!=e.W||null!=e.E)r=1,a=4,n=oe(e.GG,t._a[ns],kt(ve(),1,4).year),i=oe(e.W,1),s=oe(e.E,1),(s<1||s>7)&&(u=!0);else{r=t._locale._week.dow,a=t._locale._week.doy;var l=kt(ve(),r,a);n=oe(e.gg,t._a[ns],l.year),i=oe(e.w,l.week),null!=e.d?(s=e.d,(s<0||s>6)&&(u=!0)):null!=e.e?(s=e.e+r,(e.e<0||e.e>6)&&(u=!0)):s=r}i<1||i>St(n,r,a)?f(t)._overflowWeeks=!0:null!=u?f(t)._overflowWeekday=!0:(o=Mt(n,i,s,r,a),t._a[ns]=o.year,t._dayOfYear=o.dayOfYear)}function de(t){if(t._f===e.ISO_8601)return void re(t);t._a=[],f(t).empty=!0;var n,i,s,r,a,o=""+t._i,u=o.length,l=0;for(s=Q(t._f,t._locale).match(Ri)||[],n=0;n<s.length;n++)r=s[n],i=(o.match(K(r,t))||[])[0],i&&(a=o.substr(0,o.indexOf(i)),a.length>0&&f(t).unusedInput.push(a),o=o.slice(o.indexOf(i)+i.length),l+=i.length),Ui[r]?(i?f(t).empty=!1:f(t).unusedTokens.push(r),st(r,i,t)):t._strict&&!i&&f(t).unusedTokens.push(r);f(t).charsLeftOver=u-l,o.length>0&&f(t).unusedInput.push(o),t._a[rs]<=12&&f(t).bigHour===!0&&t._a[rs]>0&&(f(t).bigHour=void 0),f(t).parsedDateParts=t._a.slice(0),f(t).meridiem=t._meridiem,t._a[rs]=ce(t._locale,t._a[rs],t._meridiem),le(t),se(t)}function ce(t,e,n){var i;return null==n?e:null!=t.meridiemHour?t.meridiemHour(e,n):null!=t.isPM?(i=t.isPM(n),i&&e<12&&(e+=12),i||12!==e||(e=0),e):e}function fe(t){var e,n,i,s,r;if(0===t._f.length)return f(t).invalidFormat=!0,void(t._d=new Date(NaN));for(s=0;s<t._f.length;s++)r=0,e=g({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[s],de(e),m(e)&&(r+=f(e).charsLeftOver,r+=10*f(e).unusedTokens.length,f(e).score=r,(null==i||r<i)&&(i=r,n=e));h(t,n||e)}function me(t){if(!t._d){var e=H(t._i);t._a=u([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],function(t){return t&&parseInt(t,10)}),le(t)}}function _e(t){var e=new p(se(ye(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function ye(t){var e=t._i,n=t._f;return t._locale=t._locale||ne(t._l),null===e||void 0===n&&""===e?_({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),v(e)?new p(se(e)):(o(e)?t._d=e:i(n)?fe(t):n?de(t):ge(t),m(t)||(t._d=null),t))}function ge(t){var n=t._i;void 0===n?t._d=new Date(e.now()):o(n)?t._d=new Date(n.valueOf()):"string"==typeof n?ae(t):i(n)?(t._a=u(n.slice(0),function(t){return parseInt(t,10)}),le(t)):"object"==typeof n?me(t):a(n)?t._d=new Date(n):e.createFromInputFallback(t)}function pe(t,e,n,a,o){var u={};return n!==!0&&n!==!1||(a=n,n=void 0),(s(t)&&r(t)||i(t)&&0===t.length)&&(t=void 0),u._isAMomentObject=!0,u._useUTC=u._isUTC=o,u._l=n,u._i=t,u._f=e,u._strict=a,_e(u)}function ve(t,e,n,i){return pe(t,e,n,i,!1)}function we(t,e){var n,s;if(1===e.length&&i(e[0])&&(e=e[0]),!e.length)return ve();for(n=e[0],s=1;s<e.length;++s)e[s].isValid()&&!e[s][t](n)||(n=e[s]);return n}function De(){var t=[].slice.call(arguments,0);return we("isBefore",t)}function Me(){var t=[].slice.call(arguments,0);return we("isAfter",t)}function ke(t){var e=H(t),n=e.year||0,i=e.quarter||0,s=e.month||0,r=e.week||0,a=e.day||0,o=e.hour||0,u=e.minute||0,l=e.second||0,h=e.millisecond||0;this._milliseconds=+h+1e3*l+6e4*u+1e3*o*60*60,this._days=+a+7*r,this._months=+s+3*i+12*n,this._data={},this._locale=ne(),this._bubble()}function Se(t){return t instanceof ke}function Ye(t){return t<0?Math.round(-1*t)*-1:Math.round(t)}function be(t,e){B(t,0,0,function(){var t=this.utcOffset(),n="+";return t<0&&(t=-t,n="-"),n+Z(~~(t/60),2)+e+Z(~~t%60,2)})}function xe(t,e){var n=(e||"").match(t);if(null===n)return null;var i=n[n.length-1]||[],s=(i+"").match(Es)||["-",0,0],r=+(60*s[1])+D(s[2]);return 0===r?0:"+"===s[0]?r:-r}function Fe(t,n){var i,s;return n._isUTC?(i=n.clone(),s=(v(t)||o(t)?t.valueOf():ve(t).valueOf())-i.valueOf(),i._d.setTime(i._d.valueOf()+s),e.updateOffset(i,!1),i):ve(t).local()}function Te(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function Oe(t,n){var i,s=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"==typeof t){if(t=xe(Qi,t),null===t)return this}else Math.abs(t)<16&&(t*=60);return!this._isUTC&&n&&(i=Te(this)),this._offset=t,this._isUTC=!0,null!=i&&this.add(i,"m"),s!==t&&(!n||this._changeInProgress?Ze(this,Ie(t-s,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?s:Te(this)}function Pe(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),
this):-this.utcOffset()}function We(t){return this.utcOffset(0,t)}function Re(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Te(this),"m")),this}function Ce(){if(null!=this._tzm)this.utcOffset(this._tzm);else if("string"==typeof this._i){var t=xe(Ji,this._i);null!=t?this.utcOffset(t):this.utcOffset(0,!0)}return this}function Le(t){return!!this.isValid()&&(t=t?ve(t).utcOffset():0,(this.utcOffset()-t)%60===0)}function Ue(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Ge(){if(!y(this._isDSTShifted))return this._isDSTShifted;var t={};if(g(t,this),t=ye(t),t._a){var e=t._isUTC?d(t._a):ve(t._a);this._isDSTShifted=this.isValid()&&M(t._a,e.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function He(){return!!this.isValid()&&!this._isUTC}function Ve(){return!!this.isValid()&&this._isUTC}function Ee(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function Ie(t,e){var n,i,s,r=t,o=null;return Se(t)?r={ms:t._milliseconds,d:t._days,M:t._months}:a(t)?(r={},e?r[e]=t:r.milliseconds=t):(o=Is.exec(t))?(n="-"===o[1]?-1:1,r={y:0,d:D(o[ss])*n,h:D(o[rs])*n,m:D(o[as])*n,s:D(o[os])*n,ms:D(Ye(1e3*o[us]))*n}):(o=js.exec(t))?(n="-"===o[1]?-1:1,r={y:je(o[2],n),M:je(o[3],n),w:je(o[4],n),d:je(o[5],n),h:je(o[6],n),m:je(o[7],n),s:je(o[8],n)}):null==r?r={}:"object"==typeof r&&("from"in r||"to"in r)&&(s=Ae(ve(r.from),ve(r.to)),r={},r.ms=s.milliseconds,r.M=s.months),i=new ke(r),Se(t)&&l(t,"_locale")&&(i._locale=t._locale),i}function je(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function Ne(t,e){var n={milliseconds:0,months:0};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function Ae(t,e){var n;return t.isValid()&&e.isValid()?(e=Fe(e,t),t.isBefore(e)?n=Ne(t,e):(n=Ne(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function ze(t,e){return function(n,i){var s,r;return null===i||isNaN(+i)||(Y(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),r=n,n=i,i=r),n="string"==typeof n?+n:n,s=Ie(n,i),Ze(this,s,t),this}}function Ze(t,n,i,s){var r=n._milliseconds,a=Ye(n._days),o=Ye(n._months);t.isValid()&&(s=null==s||s,r&&t._d.setTime(t._d.valueOf()+r*i),a&&N(t,"Date",j(t,"Date")+a*i),o&&ht(t,j(t,"Month")+o*i),s&&e.updateOffset(t,a||o))}function Be(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function $e(t,n){var i=t||ve(),s=Fe(i,this).startOf("day"),r=e.calendarFormat(this,s)||"sameElse",a=n&&(b(n[r])?n[r].call(this,i):n[r]);return this.format(a||this.localeData().calendar(r,this,ve(i)))}function qe(){return new p(this)}function Je(t,e){var n=v(t)?t:ve(t);return!(!this.isValid()||!n.isValid())&&(e=G(y(e)?"millisecond":e),"millisecond"===e?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf())}function Qe(t,e){var n=v(t)?t:ve(t);return!(!this.isValid()||!n.isValid())&&(e=G(y(e)?"millisecond":e),"millisecond"===e?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf())}function Xe(t,e,n,i){return i=i||"()",("("===i[0]?this.isAfter(t,n):!this.isBefore(t,n))&&(")"===i[1]?this.isBefore(e,n):!this.isAfter(e,n))}function Ke(t,e){var n,i=v(t)?t:ve(t);return!(!this.isValid()||!i.isValid())&&(e=G(e||"millisecond"),"millisecond"===e?this.valueOf()===i.valueOf():(n=i.valueOf(),this.clone().startOf(e).valueOf()<=n&&n<=this.clone().endOf(e).valueOf()))}function tn(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function en(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function nn(t,e,n){var i,s,r,a;return this.isValid()?(i=Fe(t,this),i.isValid()?(s=6e4*(i.utcOffset()-this.utcOffset()),e=G(e),"year"===e||"month"===e||"quarter"===e?(a=sn(this,i),"quarter"===e?a/=3:"year"===e&&(a/=12)):(r=this-i,a="second"===e?r/1e3:"minute"===e?r/6e4:"hour"===e?r/36e5:"day"===e?(r-s)/864e5:"week"===e?(r-s)/6048e5:r),n?a:w(a)):NaN):NaN}function sn(t,e){var n,i,s=12*(e.year()-t.year())+(e.month()-t.month()),r=t.clone().add(s,"months");return e-r<0?(n=t.clone().add(s-1,"months"),i=(e-r)/(r-n)):(n=t.clone().add(s+1,"months"),i=(e-r)/(n-r)),-(s+i)||0}function rn(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function an(){var t=this.clone().utc();return 0<t.year()&&t.year()<=9999?b(Date.prototype.toISOString)?this.toDate().toISOString():J(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):J(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function on(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="";this.isLocal()||(t=0===this.utcOffset()?"moment.utc":"moment.parseZone",e="Z");var n="["+t+'("]',i=0<this.year()&&this.year()<=9999?"YYYY":"YYYYYY",s="-MM-DD[T]HH:mm:ss.SSS",r=e+'[")]';return this.format(n+i+s+r)}function un(t){t||(t=this.isUtc()?e.defaultFormatUtc:e.defaultFormat);var n=J(this,t);return this.localeData().postformat(n)}function ln(t,e){return this.isValid()&&(v(t)&&t.isValid()||ve(t).isValid())?Ie({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function hn(t){return this.from(ve(),t)}function dn(t,e){return this.isValid()&&(v(t)&&t.isValid()||ve(t).isValid())?Ie({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function cn(t){return this.to(ve(),t)}function fn(t){var e;return void 0===t?this._locale._abbr:(e=ne(t),null!=e&&(this._locale=e),this)}function mn(){return this._locale}function _n(t){switch(t=G(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this}function yn(t){return t=G(t),void 0===t||"millisecond"===t?this:("date"===t&&(t="day"),this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms"))}function gn(){return this._d.valueOf()-6e4*(this._offset||0)}function pn(){return Math.floor(this.valueOf()/1e3)}function vn(){return new Date(this.valueOf())}function wn(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function Dn(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function Mn(){return this.isValid()?this.toISOString():null}function kn(){return m(this)}function Sn(){return h({},f(this))}function Yn(){return f(this).overflow}function bn(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function xn(t,e){B(0,[t,t.length],0,e)}function Fn(t){return Wn.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Tn(t){return Wn.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function On(){return St(this.year(),1,4)}function Pn(){var t=this.localeData()._week;return St(this.year(),t.dow,t.doy)}function Wn(t,e,n,i,s){var r;return null==t?kt(this,i,s).year:(r=St(t,i,s),e>r&&(e=r),Rn.call(this,t,e,n,i,s))}function Rn(t,e,n,i,s){var r=Mt(t,e,n,i,s),a=wt(r.year,0,r.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}function Cn(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)}function Ln(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")}function Un(t,e){e[us]=D(1e3*("0."+t))}function Gn(){return this._isUTC?"UTC":""}function Hn(){return this._isUTC?"Coordinated Universal Time":""}function Vn(t){return ve(1e3*t)}function En(){return ve.apply(null,arguments).parseZone()}function In(t){return t}function jn(t,e,n,i){var s=ne(),r=d().set(i,e);return s[n](r,t)}function Nn(t,e,n){if(a(t)&&(e=t,t=void 0),t=t||"",null!=e)return jn(t,e,n,"month");var i,s=[];for(i=0;i<12;i++)s[i]=jn(t,i,n,"month");return s}function An(t,e,n,i){"boolean"==typeof t?(a(e)&&(n=e,e=void 0),e=e||""):(e=t,n=e,t=!1,a(e)&&(n=e,e=void 0),e=e||"");var s=ne(),r=t?s._week.dow:0;if(null!=n)return jn(e,(n+r)%7,i,"day");var o,u=[];for(o=0;o<7;o++)u[o]=jn(e,(o+r)%7,i,"day");return u}function zn(t,e){return Nn(t,e,"months")}function Zn(t,e){return Nn(t,e,"monthsShort")}function Bn(t,e,n){return An(t,e,n,"weekdays")}function $n(t,e,n){return An(t,e,n,"weekdaysShort")}function qn(t,e,n){return An(t,e,n,"weekdaysMin")}function Jn(){var t=this._data;return this._milliseconds=Ks(this._milliseconds),this._days=Ks(this._days),this._months=Ks(this._months),t.milliseconds=Ks(t.milliseconds),t.seconds=Ks(t.seconds),t.minutes=Ks(t.minutes),t.hours=Ks(t.hours),t.months=Ks(t.months),t.years=Ks(t.years),this}function Qn(t,e,n,i){var s=Ie(e,n);return t._milliseconds+=i*s._milliseconds,t._days+=i*s._days,t._months+=i*s._months,t._bubble()}function Xn(t,e){return Qn(this,t,e,1)}function Kn(t,e){return Qn(this,t,e,-1)}function ti(t){return t<0?Math.floor(t):Math.ceil(t)}function ei(){var t,e,n,i,s,r=this._milliseconds,a=this._days,o=this._months,u=this._data;return r>=0&&a>=0&&o>=0||r<=0&&a<=0&&o<=0||(r+=864e5*ti(ii(o)+a),a=0,o=0),u.milliseconds=r%1e3,t=w(r/1e3),u.seconds=t%60,e=w(t/60),u.minutes=e%60,n=w(e/60),u.hours=n%24,a+=w(n/24),s=w(ni(a)),o+=s,a-=ti(ii(s)),i=w(o/12),o%=12,u.days=a,u.months=o,u.years=i,this}function ni(t){return 4800*t/146097}function ii(t){return 146097*t/4800}function si(t){var e,n,i=this._milliseconds;if(t=G(t),"month"===t||"year"===t)return e=this._days+i/864e5,n=this._months+ni(e),"month"===t?n:n/12;switch(e=this._days+Math.round(ii(this._months)),t){case"week":return e/7+i/6048e5;case"day":return e+i/864e5;case"hour":return 24*e+i/36e5;case"minute":return 1440*e+i/6e4;case"second":return 86400*e+i/1e3;case"millisecond":return Math.floor(864e5*e)+i;default:throw new Error("Unknown unit "+t)}}function ri(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*D(this._months/12)}function ai(t){return function(){return this.as(t)}}function oi(t){return t=G(t),this[t+"s"]()}function ui(t){return function(){return this._data[t]}}function li(){return w(this.days()/7)}function hi(t,e,n,i,s){return s.relativeTime(e||1,!!n,t,i)}function di(t,e,n){var i=Ie(t).abs(),s=_r(i.as("s")),r=_r(i.as("m")),a=_r(i.as("h")),o=_r(i.as("d")),u=_r(i.as("M")),l=_r(i.as("y")),h=s<yr.s&&["s",s]||r<=1&&["m"]||r<yr.m&&["mm",r]||a<=1&&["h"]||a<yr.h&&["hh",a]||o<=1&&["d"]||o<yr.d&&["dd",o]||u<=1&&["M"]||u<yr.M&&["MM",u]||l<=1&&["y"]||["yy",l];return h[2]=e,h[3]=+t>0,h[4]=n,hi.apply(null,h)}function ci(t){return void 0===t?_r:"function"==typeof t&&(_r=t,!0)}function fi(t,e){return void 0!==yr[t]&&(void 0===e?yr[t]:(yr[t]=e,!0))}function mi(t){var e=this.localeData(),n=di(this,!t,e);return t&&(n=e.pastFuture(+this,n)),e.postformat(n)}function _i(){var t,e,n,i=gr(this._milliseconds)/1e3,s=gr(this._days),r=gr(this._months);t=w(i/60),e=w(t/60),i%=60,t%=60,n=w(r/12),r%=12;var a=n,o=r,u=s,l=e,h=t,d=i,c=this.asSeconds();return c?(c<0?"-":"")+"P"+(a?a+"Y":"")+(o?o+"M":"")+(u?u+"D":"")+(l||h||d?"T":"")+(l?l+"H":"")+(h?h+"M":"")+(d?d+"S":""):"P0D"}var yi,gi;gi=Array.prototype.some?Array.prototype.some:function(t){for(var e=Object(this),n=e.length>>>0,i=0;i<n;i++)if(i in e&&t.call(this,e[i],i,e))return!0;return!1};var pi=gi,vi=e.momentProperties=[],wi=!1,Di={};e.suppressDeprecationWarnings=!1,e.deprecationHandler=null;var Mi;Mi=Object.keys?Object.keys:function(t){var e,n=[];for(e in t)l(t,e)&&n.push(e);return n};var ki,Si=Mi,Yi={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},bi={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},xi="Invalid date",Fi="%d",Ti=/\d{1,2}/,Oi={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Pi={},Wi={},Ri=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Ci=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Li={},Ui={},Gi=/\d/,Hi=/\d\d/,Vi=/\d{3}/,Ei=/\d{4}/,Ii=/[+-]?\d{6}/,ji=/\d\d?/,Ni=/\d\d\d\d?/,Ai=/\d\d\d\d\d\d?/,zi=/\d{1,3}/,Zi=/\d{1,4}/,Bi=/[+-]?\d{1,6}/,$i=/\d+/,qi=/[+-]?\d+/,Ji=/Z|[+-]\d\d:?\d\d/gi,Qi=/Z|[+-]\d\d(?::?\d\d)?/gi,Xi=/[+-]?\d+(\.\d{1,3})?/,Ki=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,ts={},es={},ns=0,is=1,ss=2,rs=3,as=4,os=5,us=6,ls=7,hs=8;ki=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1};var ds=ki;B("M",["MM",2],"Mo",function(){return this.month()+1}),B("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),B("MMMM",0,0,function(t){return this.localeData().months(this,t)}),U("month","M"),V("month",8),X("M",ji),X("MM",ji,Hi),X("MMM",function(t,e){return e.monthsShortRegex(t)}),X("MMMM",function(t,e){return e.monthsRegex(t)}),nt(["M","MM"],function(t,e){e[is]=D(t)-1}),nt(["MMM","MMMM"],function(t,e,n,i){var s=n._locale.monthsParse(t,i,n._strict);null!=s?e[is]=s:f(n).invalidMonth=t});var cs=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,fs="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ms="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),_s=Ki,ys=Ki;B("Y",0,0,function(){var t=this.year();return t<=9999?""+t:"+"+t}),B(0,["YY",2],0,function(){return this.year()%100}),B(0,["YYYY",4],0,"year"),B(0,["YYYYY",5],0,"year"),B(0,["YYYYYY",6,!0],0,"year"),U("year","y"),V("year",1),X("Y",qi),X("YY",ji,Hi),X("YYYY",Zi,Ei),X("YYYYY",Bi,Ii),X("YYYYYY",Bi,Ii),nt(["YYYYY","YYYYYY"],ns),nt("YYYY",function(t,n){n[ns]=2===t.length?e.parseTwoDigitYear(t):D(t)}),nt("YY",function(t,n){n[ns]=e.parseTwoDigitYear(t)}),nt("Y",function(t,e){e[ns]=parseInt(t,10)}),e.parseTwoDigitYear=function(t){return D(t)+(D(t)>68?1900:2e3)};var gs=I("FullYear",!0);B("w",["ww",2],"wo","week"),B("W",["WW",2],"Wo","isoWeek"),U("week","w"),U("isoWeek","W"),V("week",5),V("isoWeek",5),X("w",ji),X("ww",ji,Hi),X("W",ji),X("WW",ji,Hi),it(["w","ww","W","WW"],function(t,e,n,i){e[i.substr(0,1)]=D(t)});var ps={dow:0,doy:6};B("d",0,"do","day"),B("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),B("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),B("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),B("e",0,0,"weekday"),B("E",0,0,"isoWeekday"),U("day","d"),U("weekday","e"),U("isoWeekday","E"),V("day",11),V("weekday",11),V("isoWeekday",11),X("d",ji),X("e",ji),X("E",ji),X("dd",function(t,e){return e.weekdaysMinRegex(t)}),X("ddd",function(t,e){return e.weekdaysShortRegex(t)}),X("dddd",function(t,e){return e.weekdaysRegex(t)}),it(["dd","ddd","dddd"],function(t,e,n,i){var s=n._locale.weekdaysParse(t,i,n._strict);null!=s?e.d=s:f(n).invalidWeekday=t}),it(["d","e","E"],function(t,e,n,i){e[i]=D(t)});var vs="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),ws="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Ds="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Ms=Ki,ks=Ki,Ss=Ki;B("H",["HH",2],0,"hour"),B("h",["hh",2],0,At),B("k",["kk",2],0,zt),B("hmm",0,0,function(){return""+At.apply(this)+Z(this.minutes(),2)}),B("hmmss",0,0,function(){return""+At.apply(this)+Z(this.minutes(),2)+Z(this.seconds(),2)}),B("Hmm",0,0,function(){return""+this.hours()+Z(this.minutes(),2)}),B("Hmmss",0,0,function(){return""+this.hours()+Z(this.minutes(),2)+Z(this.seconds(),2)}),Zt("a",!0),Zt("A",!1),U("hour","h"),V("hour",13),X("a",Bt),X("A",Bt),X("H",ji),X("h",ji),X("HH",ji,Hi),X("hh",ji,Hi),X("hmm",Ni),X("hmmss",Ai),X("Hmm",Ni),X("Hmmss",Ai),nt(["H","HH"],rs),nt(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t}),nt(["h","hh"],function(t,e,n){e[rs]=D(t),f(n).bigHour=!0}),nt("hmm",function(t,e,n){var i=t.length-2;e[rs]=D(t.substr(0,i)),e[as]=D(t.substr(i)),f(n).bigHour=!0}),nt("hmmss",function(t,e,n){var i=t.length-4,s=t.length-2;e[rs]=D(t.substr(0,i)),e[as]=D(t.substr(i,2)),e[os]=D(t.substr(s)),f(n).bigHour=!0}),nt("Hmm",function(t,e,n){var i=t.length-2;e[rs]=D(t.substr(0,i)),e[as]=D(t.substr(i))}),nt("Hmmss",function(t,e,n){var i=t.length-4,s=t.length-2;e[rs]=D(t.substr(0,i)),e[as]=D(t.substr(i,2)),e[os]=D(t.substr(s))});var Ys,bs=/[ap]\.?m?\.?/i,xs=I("Hours",!0),Fs={calendar:Yi,longDateFormat:bi,invalidDate:xi,ordinal:Fi,ordinalParse:Ti,relativeTime:Oi,months:fs,monthsShort:ms,week:ps,weekdays:vs,weekdaysMin:Ds,weekdaysShort:ws,meridiemParse:bs},Ts={},Os={},Ps=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Ws=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Rs=/Z|[+-]\d\d(?::?\d\d)?/,Cs=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Ls=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Us=/^\/?Date\((\-?\d+)/i;e.createFromInputFallback=S("value provided is not in a recognized ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),e.ISO_8601=function(){};var Gs=S("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=ve.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:_()}),Hs=S("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=ve.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:_()}),Vs=function(){return Date.now?Date.now():+new Date};be("Z",":"),be("ZZ",""),X("Z",Qi),X("ZZ",Qi),nt(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=xe(Qi,t)});var Es=/([\+\-]|\d\d)/gi;e.updateOffset=function(){};var Is=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,js=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;Ie.fn=ke.prototype;var Ns=ze(1,"add"),As=ze(-1,"subtract");e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var zs=S("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});B(0,["gg",2],0,function(){return this.weekYear()%100}),B(0,["GG",2],0,function(){return this.isoWeekYear()%100}),xn("gggg","weekYear"),xn("ggggg","weekYear"),xn("GGGG","isoWeekYear"),xn("GGGGG","isoWeekYear"),U("weekYear","gg"),U("isoWeekYear","GG"),V("weekYear",1),V("isoWeekYear",1),X("G",qi),X("g",qi),X("GG",ji,Hi),X("gg",ji,Hi),X("GGGG",Zi,Ei),X("gggg",Zi,Ei),X("GGGGG",Bi,Ii),X("ggggg",Bi,Ii),it(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,i){e[i.substr(0,2)]=D(t)}),it(["gg","GG"],function(t,n,i,s){n[s]=e.parseTwoDigitYear(t)}),B("Q",0,"Qo","quarter"),U("quarter","Q"),V("quarter",7),X("Q",Gi),nt("Q",function(t,e){e[is]=3*(D(t)-1)}),B("D",["DD",2],"Do","date"),U("date","D"),V("date",9),X("D",ji),X("DD",ji,Hi),X("Do",function(t,e){return t?e._ordinalParse:e._ordinalParseLenient}),nt(["D","DD"],ss),nt("Do",function(t,e){e[ss]=D(t.match(ji)[0],10)});var Zs=I("Date",!0);B("DDD",["DDDD",3],"DDDo","dayOfYear"),U("dayOfYear","DDD"),V("dayOfYear",4),X("DDD",zi),X("DDDD",Vi),nt(["DDD","DDDD"],function(t,e,n){n._dayOfYear=D(t)}),B("m",["mm",2],0,"minute"),U("minute","m"),V("minute",14),X("m",ji),X("mm",ji,Hi),nt(["m","mm"],as);var Bs=I("Minutes",!1);B("s",["ss",2],0,"second"),U("second","s"),V("second",15),X("s",ji),X("ss",ji,Hi),nt(["s","ss"],os);var $s=I("Seconds",!1);B("S",0,0,function(){return~~(this.millisecond()/100)}),B(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),B(0,["SSS",3],0,"millisecond"),B(0,["SSSS",4],0,function(){return 10*this.millisecond()}),B(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),B(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),B(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),B(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),B(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),U("millisecond","ms"),V("millisecond",16),X("S",zi,Gi),X("SS",zi,Hi),X("SSS",zi,Vi);var qs;for(qs="SSSS";qs.length<=9;qs+="S")X(qs,$i);for(qs="S";qs.length<=9;qs+="S")nt(qs,Un);var Js=I("Milliseconds",!1);B("z",0,0,"zoneAbbr"),B("zz",0,0,"zoneName");var Qs=p.prototype;Qs.add=Ns,Qs.calendar=$e,Qs.clone=qe,Qs.diff=nn,Qs.endOf=yn,Qs.format=un,Qs.from=ln,Qs.fromNow=hn,Qs.to=dn,Qs.toNow=cn,Qs.get=A,Qs.invalidAt=Yn,Qs.isAfter=Je,Qs.isBefore=Qe,Qs.isBetween=Xe,Qs.isSame=Ke,Qs.isSameOrAfter=tn,Qs.isSameOrBefore=en,Qs.isValid=kn,Qs.lang=zs,Qs.locale=fn,Qs.localeData=mn,Qs.max=Hs,Qs.min=Gs,Qs.parsingFlags=Sn,Qs.set=z,Qs.startOf=_n,Qs.subtract=As,Qs.toArray=wn,Qs.toObject=Dn,Qs.toDate=vn,Qs.toISOString=an,Qs.inspect=on,Qs.toJSON=Mn,Qs.toString=rn,Qs.unix=pn,Qs.valueOf=gn,Qs.creationData=bn,Qs.year=gs,Qs.isLeapYear=pt,Qs.weekYear=Fn,Qs.isoWeekYear=Tn,Qs.quarter=Qs.quarters=Cn,Qs.month=dt,Qs.daysInMonth=ct,Qs.week=Qs.weeks=Ft,Qs.isoWeek=Qs.isoWeeks=Tt,Qs.weeksInYear=Pn,Qs.isoWeeksInYear=On,Qs.date=Zs,Qs.day=Qs.days=Gt,Qs.weekday=Ht,Qs.isoWeekday=Vt,Qs.dayOfYear=Ln,Qs.hour=Qs.hours=xs,Qs.minute=Qs.minutes=Bs,Qs.second=Qs.seconds=$s,Qs.millisecond=Qs.milliseconds=Js,Qs.utcOffset=Oe,Qs.utc=We,Qs.local=Re,Qs.parseZone=Ce,Qs.hasAlignedHourOffset=Le,Qs.isDST=Ue,Qs.isLocal=He,Qs.isUtcOffset=Ve,Qs.isUtc=Ee,Qs.isUTC=Ee,Qs.zoneAbbr=Gn,Qs.zoneName=Hn,Qs.dates=S("dates accessor is deprecated. Use date instead.",Zs),Qs.months=S("months accessor is deprecated. Use month instead",dt),Qs.years=S("years accessor is deprecated. Use year instead",gs),Qs.zone=S("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Pe),Qs.isDSTShifted=S("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Ge);var Xs=T.prototype;Xs.calendar=O,Xs.longDateFormat=P,Xs.invalidDate=W,Xs.ordinal=R,Xs.preparse=In,Xs.postformat=In,Xs.relativeTime=C,Xs.pastFuture=L,Xs.set=x,Xs.months=at,Xs.monthsShort=ot,Xs.monthsParse=lt,Xs.monthsRegex=mt,Xs.monthsShortRegex=ft,Xs.week=Yt,Xs.firstDayOfYear=xt,Xs.firstDayOfWeek=bt,Xs.weekdays=Wt,Xs.weekdaysMin=Ct,Xs.weekdaysShort=Rt,Xs.weekdaysParse=Ut,Xs.weekdaysRegex=Et,Xs.weekdaysShortRegex=It,Xs.weekdaysMinRegex=jt,Xs.isPM=$t,Xs.meridiem=qt,Kt("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,n=1===D(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+n}}),e.lang=S("moment.lang is deprecated. Use moment.locale instead.",Kt),e.langData=S("moment.langData is deprecated. Use moment.localeData instead.",ne);var Ks=Math.abs,tr=ai("ms"),er=ai("s"),nr=ai("m"),ir=ai("h"),sr=ai("d"),rr=ai("w"),ar=ai("M"),or=ai("y"),ur=ui("milliseconds"),lr=ui("seconds"),hr=ui("minutes"),dr=ui("hours"),cr=ui("days"),fr=ui("months"),mr=ui("years"),_r=Math.round,yr={s:45,m:45,h:22,d:26,M:11},gr=Math.abs,pr=ke.prototype;return pr.abs=Jn,pr.add=Xn,pr.subtract=Kn,pr.as=si,pr.asMilliseconds=tr,pr.asSeconds=er,pr.asMinutes=nr,pr.asHours=ir,pr.asDays=sr,pr.asWeeks=rr,pr.asMonths=ar,pr.asYears=or,pr.valueOf=ri,pr._bubble=ei,pr.get=oi,pr.milliseconds=ur,pr.seconds=lr,pr.minutes=hr,pr.hours=dr,pr.days=cr,pr.weeks=li,pr.months=fr,pr.years=mr,pr.humanize=mi,pr.toISOString=_i,pr.toString=_i,pr.toJSON=_i,pr.locale=fn,pr.localeData=mn,pr.toIsoString=S("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",_i),pr.lang=zs,B("X",0,0,"unix"),B("x",0,0,"valueOf"),X("x",qi),X("X",Xi),nt("X",function(t,e,n){n._d=new Date(1e3*parseFloat(t,10))}),nt("x",function(t,e,n){n._d=new Date(D(t))}),e.version="2.17.0",n(ve),e.fn=Qs,e.min=De,e.max=Me,e.now=Vs,e.utc=d,e.unix=Vn,e.months=zn,e.isDate=o,e.locale=Kt,e.invalid=_,e.duration=Ie,e.isMoment=v,e.weekdays=Bn,e.parseZone=En,e.localeData=ne,e.isDuration=Se,e.monthsShort=Zn,e.weekdaysMin=qn,e.defineLocale=te,e.updateLocale=ee,e.locales=ie,e.weekdaysShort=$n,e.normalizeUnits=G,e.relativeTimeRounding=ci,e.relativeTimeThreshold=fi,e.calendarFormat=Be,e.prototype=Qs,e})}).call(e,n(1)(t))}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZmN0cy1leHQtZGF0ZXJhbmdlLWVzNS5taW4uanMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svYm9vdHN0cmFwIGJhMjhmYzJjZTQwMTQyMWExZDA5Iiwid2VicGFjazovLy8uL3NyYy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vKHdlYnBhY2spL2J1aWxkaW4vbW9kdWxlLmpzIiwid2VicGFjazovLy8uL3NyYy9mY3RzLWV4dC1kYXRlcmFuZ2UuanMiLCJ3ZWJwYWNrOi8vLy4vfi9tb21lbnQvbW9tZW50LmpzIl0sIm5hbWVzIjpbIm1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJpbnN0YWxsZWRNb2R1bGVzIiwiZXhwb3J0cyIsIm1vZHVsZSIsImlkIiwibG9hZGVkIiwiY2FsbCIsIm0iLCJjIiwicCIsIl90eXBlb2YiLCJTeW1ib2wiLCJpdGVyYXRvciIsIm9iaiIsImNvbnN0cnVjdG9yIiwicHJvdG90eXBlIiwiRGF0ZVJhbmdlIiwid2luZG93IiwiZHIiLCJlbnYiLCJmYWN0b3J5IiwiZG9jdW1lbnQiLCJ3aW4iLCJFcnJvciIsIkRhdGVSYW5nZUNob29zZXIiLCJ1bmRlZmluZWQiLCJfd2luZG93Iiwid2luZG93RXhpc3RzIiwiRkMiLCJGdXNpb25DaGFydHMiLCJyZWdpc3RlciIsInJlZ2lzdGVyQ29tcG9uZW50Iiwid2VicGFja1BvbHlmaWxsIiwiZGVwcmVjYXRlIiwicGF0aHMiLCJjaGlsZHJlbiIsIl9jbGFzc0NhbGxDaGVjayIsImluc3RhbmNlIiwiQ29uc3RydWN0b3IiLCJUeXBlRXJyb3IiLCJfY3JlYXRlQ2xhc3MiLCJkZWZpbmVQcm9wZXJ0aWVzIiwidGFyZ2V0IiwicHJvcHMiLCJpIiwibGVuZ3RoIiwiZGVzY3JpcHRvciIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5Iiwia2V5IiwicHJvdG9Qcm9wcyIsInN0YXRpY1Byb3BzIiwibW9tZW50IiwiZGVwIiwidGhpcyIsInN0YXJ0RHQiLCJlbmREdCIsInN0YXJ0RGF0YXNldCIsImVuZERhdGFzZXQiLCJ0b29sYm94IiwiZ2V0Q29tcG9uZW50IiwiSG9yaXpvbnRhbFRvb2xiYXIiLCJDb21wb25lbnRHcm91cCIsIlN5bWJvbFN0b3JlIiwic3RhcnRUZXh0IiwiYXR0ciIsImVuZFRleHQiLCJ2YWx1ZSIsImVwb2NoIiwic2VwYXJhdG9yIiwiRGF0ZSIsImZvcm1hdHRlZERhdGUiLCJnZXRVVENEYXRlIiwiZ2V0VVRDTW9udGgiLCJnZXRVVENGdWxsWWVhciIsImpvaW4iLCJ0ZW1wIiwiZGF0ZVJhbmdlIiwic3RhcnREYXRlIiwiZW5kRGF0ZSIsInRpbWVzdGFtcCIsImNoYXJ0IiwiZ2V0Rm9ybWF0dGVkRGF0ZSIsImRhdGVTdHJpbmciLCJnZXRUaW1lc3RhbXAiLCJjb25maWdPYmoiLCJjYWxlbmRhclZpc2libGUiLCJyZXF1aXJlIiwieEF4aXMiLCJ5QXhpcyIsImdyYXBoaWNzIiwiZGF0YXNldCIsInBsb3RNYW5hZ2VyIiwiY2FudmFzQ29uZmlnIiwibWFya2VyTWFuYWdlciIsInJlYWN0aXZlTW9kZWwiLCJnbG9iYWxSZWFjdGl2ZU1vZGVsIiwic3BhY2VNYW5hZ2VySW5zdGFuY2UiLCJleHREYXRhIiwic21hcnRMYWJlbCIsIm1vZGVsIiwidG9vbGJhcnMiLCJtZWFzdXJlbWVudCIsInB1c2giLCJjcmVhdGVUb29sYmFyIiwidG9vbGJhciIsImZyb21EYXRlTGFiZWwiLCJ0b0RhdGVMYWJlbCIsImdyb3VwIiwiZnJvbUZvcm1hdHRlZERhdGUiLCJ0b0Zvcm1hdHRlZERhdGUiLCJzZWxmIiwiZnJvbURhdGUiLCJ0b0RhdGUiLCJmb3JtYXQiLCJwYXBlciIsImNoYXJ0Q29udGFpbmVyIiwiY29udGFpbmVyIiwic2V0Q29uZmlnIiwiZmlsbCIsImJvcmRlclRoaWNrbmVzcyIsIkxhYmVsIiwidGV4dCIsInN0eWxlIiwiZm9udC1zaXplIiwiZm9udC1mYW1pbHkiLCJJbnB1dFRleHRCb3hTeW1ib2wiLCJ3aWR0aCIsImhlaWdodCIsInN0cm9rZVdpZHRoIiwic3Ryb2tlIiwic3ltYm9sU3Ryb2tlV2lkdGgiLCJyYWRpdXMiLCJtYXJnaW4iLCJyaWdodCIsImJ0blRleHRTdHlsZSIsImZvbnRTaXplIiwibGFiZWwiLCJsYWJlbEZpbGwiLCJzZXRTdGF0ZUNvbmZpZyIsInByZXNzZWQiLCJjb25maWciLCJzdHJva2Utd2lkdGgiLCJub3JtYWwiLCJob3ZlciIsImF0dGFjaEV2ZW50SGFuZGxlcnMiLCJjbGljayIsImZuIiwiZWRpdCIsInVwZGF0ZVZpc3VhbCIsInRleHRPbkJsdXIiLCJibHVyIiwiZ2V0VGV4dCIsIngiLCJ5IiwicmFkIiwidyIsImgiLCJwYWRYIiwicGFkWSIsIngxIiwieDIiLCJ5MSIsInkyIiwiYWRkU3ltYm9sIiwiYWRkQ29tcG9uZW50IiwiYXZhaWxhYmxlV2lkdGgiLCJhdmFpbGFibGVIZWlnaHQiLCJsb2dpY2FsU3BhY2UiLCJsbiIsImdldExvZ2ljYWxTcGFjZSIsIk1hdGgiLCJtYXgiLCJwYWRkaW5nIiwiYWRkIiwibmFtZSIsInJlZiIsInByaW9yaXR5IiwibGF5b3V0Iiwib3JpZW50YXRpb24iLCJ0eXBlIiwicG9zaXRpb24iLCJhbGlnbm1lbnQiLCJkaW1lbnNpb25zIiwicGFyZW50IiwiZ2V0UGFyZW50Q29tcG9uZW50R3JvdXAiLCJnZXRXaWR0aCIsImdldEhlaWdodCIsIm1lcyIsInBhcmVudEdyb3VwIiwiZHJhdyIsIm9uUHJvcHNDaGFuZ2UiLCJzdGFydCIsImVuZCIsImdldCIsInNldCIsInN0YXJ0VGltZXN0YW1wIiwicGFyc2VJbnQiLCJhYnNvbHV0ZVN0YXJ0IiwiY29uc29sZSIsImVycm9yIiwiZW5kVGltZXN0YW1wIiwiYWJzb2x1dGVFbmQiLCJnbG9iYWwiLCJob29rcyIsImhvb2tDYWxsYmFjayIsImFwcGx5IiwiYXJndW1lbnRzIiwic2V0SG9va0NhbGxiYWNrIiwiY2FsbGJhY2siLCJpc0FycmF5IiwiaW5wdXQiLCJBcnJheSIsInRvU3RyaW5nIiwiaXNPYmplY3QiLCJpc09iamVjdEVtcHR5IiwiayIsImlzTnVtYmVyIiwiaXNEYXRlIiwibWFwIiwiYXJyIiwicmVzIiwiaGFzT3duUHJvcCIsImEiLCJiIiwiaGFzT3duUHJvcGVydHkiLCJleHRlbmQiLCJ2YWx1ZU9mIiwiY3JlYXRlVVRDIiwibG9jYWxlIiwic3RyaWN0IiwiY3JlYXRlTG9jYWxPclVUQyIsInV0YyIsImRlZmF1bHRQYXJzaW5nRmxhZ3MiLCJlbXB0eSIsInVudXNlZFRva2VucyIsInVudXNlZElucHV0Iiwib3ZlcmZsb3ciLCJjaGFyc0xlZnRPdmVyIiwibnVsbElucHV0IiwiaW52YWxpZE1vbnRoIiwiaW52YWxpZEZvcm1hdCIsInVzZXJJbnZhbGlkYXRlZCIsImlzbyIsInBhcnNlZERhdGVQYXJ0cyIsIm1lcmlkaWVtIiwiZ2V0UGFyc2luZ0ZsYWdzIiwiX3BmIiwiaXNWYWxpZCIsIl9pc1ZhbGlkIiwiZmxhZ3MiLCJwYXJzZWRQYXJ0cyIsInNvbWUkMSIsImlzTm93VmFsaWQiLCJpc05hTiIsIl9kIiwiZ2V0VGltZSIsImludmFsaWRXZWVrZGF5IiwiX3N0cmljdCIsImJpZ0hvdXIiLCJpc0Zyb3plbiIsImNyZWF0ZUludmFsaWQiLCJOYU4iLCJpc1VuZGVmaW5lZCIsImNvcHlDb25maWciLCJ0byIsImZyb20iLCJwcm9wIiwidmFsIiwiX2lzQU1vbWVudE9iamVjdCIsIl9pIiwiX2YiLCJfbCIsIl90em0iLCJfaXNVVEMiLCJfb2Zmc2V0IiwiX2xvY2FsZSIsIm1vbWVudFByb3BlcnRpZXMiLCJNb21lbnQiLCJ1cGRhdGVJblByb2dyZXNzIiwidXBkYXRlT2Zmc2V0IiwiaXNNb21lbnQiLCJhYnNGbG9vciIsIm51bWJlciIsImNlaWwiLCJmbG9vciIsInRvSW50IiwiYXJndW1lbnRGb3JDb2VyY2lvbiIsImNvZXJjZWROdW1iZXIiLCJpc0Zpbml0ZSIsImNvbXBhcmVBcnJheXMiLCJhcnJheTEiLCJhcnJheTIiLCJkb250Q29udmVydCIsImxlbiIsIm1pbiIsImxlbmd0aERpZmYiLCJhYnMiLCJkaWZmcyIsIndhcm4iLCJtc2ciLCJzdXBwcmVzc0RlcHJlY2F0aW9uV2FybmluZ3MiLCJmaXJzdFRpbWUiLCJkZXByZWNhdGlvbkhhbmRsZXIiLCJhcmciLCJhcmdzIiwic2xpY2UiLCJzdGFjayIsImRlcHJlY2F0ZVNpbXBsZSIsImRlcHJlY2F0aW9ucyIsImlzRnVuY3Rpb24iLCJGdW5jdGlvbiIsIl9jb25maWciLCJfb3JkaW5hbFBhcnNlTGVuaWVudCIsIlJlZ0V4cCIsIl9vcmRpbmFsUGFyc2UiLCJzb3VyY2UiLCJtZXJnZUNvbmZpZ3MiLCJwYXJlbnRDb25maWciLCJjaGlsZENvbmZpZyIsIkxvY2FsZSIsImNhbGVuZGFyIiwibW9tIiwibm93Iiwib3V0cHV0IiwiX2NhbGVuZGFyIiwibG9uZ0RhdGVGb3JtYXQiLCJfbG9uZ0RhdGVGb3JtYXQiLCJmb3JtYXRVcHBlciIsInRvVXBwZXJDYXNlIiwicmVwbGFjZSIsImludmFsaWREYXRlIiwiX2ludmFsaWREYXRlIiwib3JkaW5hbCIsIl9vcmRpbmFsIiwicmVsYXRpdmVUaW1lIiwid2l0aG91dFN1ZmZpeCIsInN0cmluZyIsImlzRnV0dXJlIiwiX3JlbGF0aXZlVGltZSIsInBhc3RGdXR1cmUiLCJkaWZmIiwiYWRkVW5pdEFsaWFzIiwidW5pdCIsInNob3J0aGFuZCIsImxvd2VyQ2FzZSIsInRvTG93ZXJDYXNlIiwiYWxpYXNlcyIsIm5vcm1hbGl6ZVVuaXRzIiwidW5pdHMiLCJub3JtYWxpemVPYmplY3RVbml0cyIsImlucHV0T2JqZWN0Iiwibm9ybWFsaXplZFByb3AiLCJub3JtYWxpemVkSW5wdXQiLCJhZGRVbml0UHJpb3JpdHkiLCJwcmlvcml0aWVzIiwiZ2V0UHJpb3JpdGl6ZWRVbml0cyIsInVuaXRzT2JqIiwidSIsInNvcnQiLCJtYWtlR2V0U2V0Iiwia2VlcFRpbWUiLCJzZXQkMSIsInN0cmluZ0dldCIsInN0cmluZ1NldCIsInByaW9yaXRpemVkIiwiemVyb0ZpbGwiLCJ0YXJnZXRMZW5ndGgiLCJmb3JjZVNpZ24iLCJhYnNOdW1iZXIiLCJ6ZXJvc1RvRmlsbCIsInNpZ24iLCJwb3ciLCJzdWJzdHIiLCJhZGRGb3JtYXRUb2tlbiIsInRva2VuIiwicGFkZGVkIiwiZnVuYyIsImZvcm1hdFRva2VuRnVuY3Rpb25zIiwibG9jYWxlRGF0YSIsInJlbW92ZUZvcm1hdHRpbmdUb2tlbnMiLCJtYXRjaCIsIm1ha2VGb3JtYXRGdW5jdGlvbiIsImFycmF5IiwiZm9ybWF0dGluZ1Rva2VucyIsImZvcm1hdE1vbWVudCIsImV4cGFuZEZvcm1hdCIsImZvcm1hdEZ1bmN0aW9ucyIsInJlcGxhY2VMb25nRGF0ZUZvcm1hdFRva2VucyIsImxvY2FsRm9ybWF0dGluZ1Rva2VucyIsImxhc3RJbmRleCIsInRlc3QiLCJhZGRSZWdleFRva2VuIiwicmVnZXgiLCJzdHJpY3RSZWdleCIsInJlZ2V4ZXMiLCJpc1N0cmljdCIsImdldFBhcnNlUmVnZXhGb3JUb2tlbiIsInVuZXNjYXBlRm9ybWF0IiwicyIsInJlZ2V4RXNjYXBlIiwibWF0Y2hlZCIsInAxIiwicDIiLCJwMyIsInA0IiwiYWRkUGFyc2VUb2tlbiIsInRva2VucyIsImFkZFdlZWtQYXJzZVRva2VuIiwiX3ciLCJhZGRUaW1lVG9BcnJheUZyb21Ub2tlbiIsIl9hIiwiZGF5c0luTW9udGgiLCJ5ZWFyIiwibW9udGgiLCJVVEMiLCJsb2NhbGVNb250aHMiLCJfbW9udGhzIiwiaXNGb3JtYXQiLCJNT05USFNfSU5fRk9STUFUIiwibG9jYWxlTW9udGhzU2hvcnQiLCJfbW9udGhzU2hvcnQiLCJoYW5kbGVTdHJpY3RQYXJzZSIsIm1vbnRoTmFtZSIsImlpIiwibGxjIiwidG9Mb2NhbGVMb3dlckNhc2UiLCJfbW9udGhzUGFyc2UiLCJfbG9uZ01vbnRoc1BhcnNlIiwiX3Nob3J0TW9udGhzUGFyc2UiLCJtb250aHNTaG9ydCIsIm1vbnRocyIsImluZGV4T2YkMSIsImxvY2FsZU1vbnRoc1BhcnNlIiwiX21vbnRoc1BhcnNlRXhhY3QiLCJzZXRNb250aCIsImRheU9mTW9udGgiLCJtb250aHNQYXJzZSIsImRhdGUiLCJnZXRTZXRNb250aCIsImdldERheXNJbk1vbnRoIiwibW9udGhzU2hvcnRSZWdleCIsImNvbXB1dGVNb250aHNQYXJzZSIsIl9tb250aHNTaG9ydFN0cmljdFJlZ2V4IiwiX21vbnRoc1Nob3J0UmVnZXgiLCJkZWZhdWx0TW9udGhzU2hvcnRSZWdleCIsIm1vbnRoc1JlZ2V4IiwiX21vbnRoc1N0cmljdFJlZ2V4IiwiX21vbnRoc1JlZ2V4IiwiZGVmYXVsdE1vbnRoc1JlZ2V4IiwiY21wTGVuUmV2Iiwic2hvcnRQaWVjZXMiLCJsb25nUGllY2VzIiwibWl4ZWRQaWVjZXMiLCJkYXlzSW5ZZWFyIiwiaXNMZWFwWWVhciIsImdldElzTGVhcFllYXIiLCJjcmVhdGVEYXRlIiwiZCIsIk0iLCJtcyIsImdldEZ1bGxZZWFyIiwic2V0RnVsbFllYXIiLCJjcmVhdGVVVENEYXRlIiwic2V0VVRDRnVsbFllYXIiLCJmaXJzdFdlZWtPZmZzZXQiLCJkb3ciLCJkb3kiLCJmd2QiLCJmd2RsdyIsImdldFVUQ0RheSIsImRheU9mWWVhckZyb21XZWVrcyIsIndlZWsiLCJ3ZWVrZGF5IiwicmVzWWVhciIsInJlc0RheU9mWWVhciIsImxvY2FsV2Vla2RheSIsIndlZWtPZmZzZXQiLCJkYXlPZlllYXIiLCJ3ZWVrT2ZZZWFyIiwicmVzV2VlayIsIndlZWtzSW5ZZWFyIiwid2Vla09mZnNldE5leHQiLCJsb2NhbGVXZWVrIiwiX3dlZWsiLCJsb2NhbGVGaXJzdERheU9mV2VlayIsImxvY2FsZUZpcnN0RGF5T2ZZZWFyIiwiZ2V0U2V0V2VlayIsImdldFNldElTT1dlZWsiLCJwYXJzZVdlZWtkYXkiLCJ3ZWVrZGF5c1BhcnNlIiwicGFyc2VJc29XZWVrZGF5IiwibG9jYWxlV2Vla2RheXMiLCJfd2Vla2RheXMiLCJkYXkiLCJsb2NhbGVXZWVrZGF5c1Nob3J0IiwiX3dlZWtkYXlzU2hvcnQiLCJsb2NhbGVXZWVrZGF5c01pbiIsIl93ZWVrZGF5c01pbiIsImhhbmRsZVN0cmljdFBhcnNlJDEiLCJ3ZWVrZGF5TmFtZSIsIl93ZWVrZGF5c1BhcnNlIiwiX3Nob3J0V2Vla2RheXNQYXJzZSIsIl9taW5XZWVrZGF5c1BhcnNlIiwid2Vla2RheXNNaW4iLCJ3ZWVrZGF5c1Nob3J0Iiwid2Vla2RheXMiLCJsb2NhbGVXZWVrZGF5c1BhcnNlIiwiX3dlZWtkYXlzUGFyc2VFeGFjdCIsIl9mdWxsV2Vla2RheXNQYXJzZSIsImdldFNldERheU9mV2VlayIsImdldERheSIsImdldFNldExvY2FsZURheU9mV2VlayIsImdldFNldElTT0RheU9mV2VlayIsIndlZWtkYXlzUmVnZXgiLCJjb21wdXRlV2Vla2RheXNQYXJzZSIsIl93ZWVrZGF5c1N0cmljdFJlZ2V4IiwiX3dlZWtkYXlzUmVnZXgiLCJkZWZhdWx0V2Vla2RheXNSZWdleCIsIndlZWtkYXlzU2hvcnRSZWdleCIsIl93ZWVrZGF5c1Nob3J0U3RyaWN0UmVnZXgiLCJfd2Vla2RheXNTaG9ydFJlZ2V4IiwiZGVmYXVsdFdlZWtkYXlzU2hvcnRSZWdleCIsIndlZWtkYXlzTWluUmVnZXgiLCJfd2Vla2RheXNNaW5TdHJpY3RSZWdleCIsIl93ZWVrZGF5c01pblJlZ2V4IiwiZGVmYXVsdFdlZWtkYXlzTWluUmVnZXgiLCJtaW5wIiwic2hvcnRwIiwibG9uZ3AiLCJtaW5QaWVjZXMiLCJoRm9ybWF0IiwiaG91cnMiLCJrRm9ybWF0IiwibG93ZXJjYXNlIiwibWludXRlcyIsIm1hdGNoTWVyaWRpZW0iLCJfbWVyaWRpZW1QYXJzZSIsImxvY2FsZUlzUE0iLCJjaGFyQXQiLCJsb2NhbGVNZXJpZGllbSIsImlzTG93ZXIiLCJub3JtYWxpemVMb2NhbGUiLCJjaG9vc2VMb2NhbGUiLCJuYW1lcyIsImoiLCJuZXh0Iiwic3BsaXQiLCJsb2FkTG9jYWxlIiwib2xkTG9jYWxlIiwibG9jYWxlcyIsImdsb2JhbExvY2FsZSIsIl9hYmJyIiwiZSIsImNvZGUiLCJnZXRTZXRHbG9iYWxMb2NhbGUiLCJ2YWx1ZXMiLCJkYXRhIiwiZ2V0TG9jYWxlIiwiZGVmaW5lTG9jYWxlIiwiYmFzZUNvbmZpZyIsImFiYnIiLCJwYXJlbnRMb2NhbGUiLCJsb2NhbGVGYW1pbGllcyIsImZvckVhY2giLCJ1cGRhdGVMb2NhbGUiLCJsaXN0TG9jYWxlcyIsImtleXMkMSIsImNoZWNrT3ZlcmZsb3ciLCJNT05USCIsIkRBVEUiLCJZRUFSIiwiSE9VUiIsIk1JTlVURSIsIlNFQ09ORCIsIk1JTExJU0VDT05EIiwiX292ZXJmbG93RGF5T2ZZZWFyIiwiX292ZXJmbG93V2Vla3MiLCJXRUVLIiwiX292ZXJmbG93V2Vla2RheSIsIldFRUtEQVkiLCJjb25maWdGcm9tSVNPIiwibCIsImFsbG93VGltZSIsImRhdGVGb3JtYXQiLCJ0aW1lRm9ybWF0IiwidHpGb3JtYXQiLCJleHRlbmRlZElzb1JlZ2V4IiwiZXhlYyIsImJhc2ljSXNvUmVnZXgiLCJpc29EYXRlcyIsImlzb1RpbWVzIiwidHpSZWdleCIsImNvbmZpZ0Zyb21TdHJpbmdBbmRGb3JtYXQiLCJjb25maWdGcm9tU3RyaW5nIiwiYXNwTmV0SnNvblJlZ2V4IiwiY3JlYXRlRnJvbUlucHV0RmFsbGJhY2siLCJkZWZhdWx0cyIsImN1cnJlbnREYXRlQXJyYXkiLCJub3dWYWx1ZSIsIl91c2VVVEMiLCJnZXRNb250aCIsImdldERhdGUiLCJjb25maWdGcm9tQXJyYXkiLCJjdXJyZW50RGF0ZSIsInllYXJUb1VzZSIsImRheU9mWWVhckZyb21XZWVrSW5mbyIsIl9kYXlPZlllYXIiLCJfbmV4dERheSIsInNldFVUQ01pbnV0ZXMiLCJnZXRVVENNaW51dGVzIiwid2Vla1llYXIiLCJ3ZWVrZGF5T3ZlcmZsb3ciLCJHRyIsIlciLCJFIiwiY3JlYXRlTG9jYWwiLCJjdXJXZWVrIiwiZ2ciLCJJU09fODYwMSIsInBhcnNlZElucHV0Iiwic2tpcHBlZCIsInN0cmluZ0xlbmd0aCIsInRvdGFsUGFyc2VkSW5wdXRMZW5ndGgiLCJpbmRleE9mIiwiX21lcmlkaWVtIiwibWVyaWRpZW1GaXhXcmFwIiwiaG91ciIsImlzUG0iLCJtZXJpZGllbUhvdXIiLCJpc1BNIiwiY29uZmlnRnJvbVN0cmluZ0FuZEFycmF5IiwidGVtcENvbmZpZyIsImJlc3RNb21lbnQiLCJzY29yZVRvQmVhdCIsImN1cnJlbnRTY29yZSIsInNjb3JlIiwiY29uZmlnRnJvbU9iamVjdCIsIm1pbnV0ZSIsInNlY29uZCIsIm1pbGxpc2Vjb25kIiwiY3JlYXRlRnJvbUNvbmZpZyIsInByZXBhcmVDb25maWciLCJwcmVwYXJzZSIsImNvbmZpZ0Zyb21JbnB1dCIsImlzVVRDIiwicGlja0J5IiwibW9tZW50cyIsIkR1cmF0aW9uIiwiZHVyYXRpb24iLCJ5ZWFycyIsInF1YXJ0ZXJzIiwicXVhcnRlciIsIndlZWtzIiwiZGF5cyIsInNlY29uZHMiLCJtaWxsaXNlY29uZHMiLCJfbWlsbGlzZWNvbmRzIiwiX2RheXMiLCJfZGF0YSIsIl9idWJibGUiLCJpc0R1cmF0aW9uIiwiYWJzUm91bmQiLCJyb3VuZCIsIm9mZnNldCIsInV0Y09mZnNldCIsIm9mZnNldEZyb21TdHJpbmciLCJtYXRjaGVyIiwibWF0Y2hlcyIsImNodW5rIiwicGFydHMiLCJjaHVua09mZnNldCIsImNsb25lV2l0aE9mZnNldCIsImNsb25lIiwic2V0VGltZSIsImxvY2FsIiwiZ2V0RGF0ZU9mZnNldCIsImdldFRpbWV6b25lT2Zmc2V0IiwiZ2V0U2V0T2Zmc2V0Iiwia2VlcExvY2FsVGltZSIsImxvY2FsQWRqdXN0IiwibWF0Y2hTaG9ydE9mZnNldCIsIl9jaGFuZ2VJblByb2dyZXNzIiwiYWRkU3VidHJhY3QiLCJjcmVhdGVEdXJhdGlvbiIsImdldFNldFpvbmUiLCJzZXRPZmZzZXRUb1VUQyIsInNldE9mZnNldFRvTG9jYWwiLCJzdWJ0cmFjdCIsInNldE9mZnNldFRvUGFyc2VkT2Zmc2V0IiwidFpvbmUiLCJtYXRjaE9mZnNldCIsImhhc0FsaWduZWRIb3VyT2Zmc2V0IiwiaXNEYXlsaWdodFNhdmluZ1RpbWUiLCJpc0RheWxpZ2h0U2F2aW5nVGltZVNoaWZ0ZWQiLCJfaXNEU1RTaGlmdGVkIiwib3RoZXIiLCJ0b0FycmF5IiwiaXNMb2NhbCIsImlzVXRjT2Zmc2V0IiwiaXNVdGMiLCJyZXQiLCJkaWZmUmVzIiwiYXNwTmV0UmVnZXgiLCJpc29SZWdleCIsInBhcnNlSXNvIiwibW9tZW50c0RpZmZlcmVuY2UiLCJpbnAiLCJwYXJzZUZsb2F0IiwicG9zaXRpdmVNb21lbnRzRGlmZmVyZW5jZSIsImJhc2UiLCJpc0FmdGVyIiwiaXNCZWZvcmUiLCJjcmVhdGVBZGRlciIsImRpcmVjdGlvbiIsInBlcmlvZCIsImR1ciIsInRtcCIsImlzQWRkaW5nIiwiZ2V0Q2FsZW5kYXJGb3JtYXQiLCJteU1vbWVudCIsImNhbGVuZGFyJDEiLCJ0aW1lIiwiZm9ybWF0cyIsInNvZCIsInN0YXJ0T2YiLCJjYWxlbmRhckZvcm1hdCIsImxvY2FsSW5wdXQiLCJlbmRPZiIsImlzQmV0d2VlbiIsImluY2x1c2l2aXR5IiwiaXNTYW1lIiwiaW5wdXRNcyIsImlzU2FtZU9yQWZ0ZXIiLCJpc1NhbWVPckJlZm9yZSIsImFzRmxvYXQiLCJ0aGF0Iiwiem9uZURlbHRhIiwiZGVsdGEiLCJtb250aERpZmYiLCJhbmNob3IyIiwiYWRqdXN0Iiwid2hvbGVNb250aERpZmYiLCJhbmNob3IiLCJ0b0lTT1N0cmluZyIsImluc3BlY3QiLCJ6b25lIiwicHJlZml4IiwiZGF0ZXRpbWUiLCJzdWZmaXgiLCJpbnB1dFN0cmluZyIsImRlZmF1bHRGb3JtYXRVdGMiLCJkZWZhdWx0Rm9ybWF0IiwicG9zdGZvcm1hdCIsImh1bWFuaXplIiwiZnJvbU5vdyIsInRvTm93IiwibmV3TG9jYWxlRGF0YSIsImlzb1dlZWtkYXkiLCJ1bml4IiwidG9PYmplY3QiLCJ0b0pTT04iLCJpc1ZhbGlkJDEiLCJwYXJzaW5nRmxhZ3MiLCJpbnZhbGlkQXQiLCJjcmVhdGlvbkRhdGEiLCJhZGRXZWVrWWVhckZvcm1hdFRva2VuIiwiZ2V0dGVyIiwiZ2V0U2V0V2Vla1llYXIiLCJnZXRTZXRXZWVrWWVhckhlbHBlciIsImdldFNldElTT1dlZWtZZWFyIiwiaXNvV2VlayIsImdldElTT1dlZWtzSW5ZZWFyIiwiZ2V0V2Vla3NJblllYXIiLCJ3ZWVrSW5mbyIsIndlZWtzVGFyZ2V0Iiwic2V0V2Vla0FsbCIsImRheU9mWWVhckRhdGEiLCJnZXRTZXRRdWFydGVyIiwiZ2V0U2V0RGF5T2ZZZWFyIiwicGFyc2VNcyIsImdldFpvbmVBYmJyIiwiZ2V0Wm9uZU5hbWUiLCJjcmVhdGVVbml4IiwiY3JlYXRlSW5ab25lIiwicGFyc2Vab25lIiwicHJlUGFyc2VQb3N0Rm9ybWF0IiwiZ2V0JDEiLCJpbmRleCIsImZpZWxkIiwic2V0dGVyIiwibGlzdE1vbnRoc0ltcGwiLCJvdXQiLCJsaXN0V2Vla2RheXNJbXBsIiwibG9jYWxlU29ydGVkIiwic2hpZnQiLCJsaXN0TW9udGhzIiwibGlzdE1vbnRoc1Nob3J0IiwibGlzdFdlZWtkYXlzIiwibGlzdFdlZWtkYXlzU2hvcnQiLCJsaXN0V2Vla2RheXNNaW4iLCJtYXRoQWJzIiwiYWRkU3VidHJhY3QkMSIsImFkZCQxIiwic3VidHJhY3QkMSIsImFic0NlaWwiLCJidWJibGUiLCJtb250aHNGcm9tRGF5cyIsIm1vbnRoc1RvRGF5cyIsImRheXNUb01vbnRocyIsImFzIiwidmFsdWVPZiQxIiwibWFrZUFzIiwiYWxpYXMiLCJnZXQkMiIsIm1ha2VHZXR0ZXIiLCJzdWJzdGl0dXRlVGltZUFnbyIsInJlbGF0aXZlVGltZSQxIiwicG9zTmVnRHVyYXRpb24iLCJ0aHJlc2hvbGRzIiwiZ2V0U2V0UmVsYXRpdmVUaW1lUm91bmRpbmciLCJyb3VuZGluZ0Z1bmN0aW9uIiwiZ2V0U2V0UmVsYXRpdmVUaW1lVGhyZXNob2xkIiwidGhyZXNob2xkIiwibGltaXQiLCJ3aXRoU3VmZml4IiwidG9JU09TdHJpbmckMSIsImFicyQxIiwiWSIsIkQiLCJ0b3RhbCIsImFzU2Vjb25kcyIsInNvbWUiLCJmdW4iLCJ0Iiwia2V5cyIsImRlZmF1bHRDYWxlbmRhciIsInNhbWVEYXkiLCJuZXh0RGF5IiwibmV4dFdlZWsiLCJsYXN0RGF5IiwibGFzdFdlZWsiLCJzYW1lRWxzZSIsImRlZmF1bHRMb25nRGF0ZUZvcm1hdCIsIkxUUyIsIkxUIiwiTCIsIkxMIiwiTExMIiwiTExMTCIsImRlZmF1bHRJbnZhbGlkRGF0ZSIsImRlZmF1bHRPcmRpbmFsIiwiZGVmYXVsdE9yZGluYWxQYXJzZSIsImRlZmF1bHRSZWxhdGl2ZVRpbWUiLCJmdXR1cmUiLCJwYXN0IiwibW0iLCJoaCIsImRkIiwiTU0iLCJ5eSIsIm1hdGNoMSIsIm1hdGNoMiIsIm1hdGNoMyIsIm1hdGNoNCIsIm1hdGNoNiIsIm1hdGNoMXRvMiIsIm1hdGNoM3RvNCIsIm1hdGNoNXRvNiIsIm1hdGNoMXRvMyIsIm1hdGNoMXRvNCIsIm1hdGNoMXRvNiIsIm1hdGNoVW5zaWduZWQiLCJtYXRjaFNpZ25lZCIsIm1hdGNoVGltZXN0YW1wIiwibWF0Y2hXb3JkIiwibyIsImRlZmF1bHRMb2NhbGVNb250aHMiLCJkZWZhdWx0TG9jYWxlTW9udGhzU2hvcnQiLCJwYXJzZVR3b0RpZ2l0WWVhciIsImdldFNldFllYXIiLCJkZWZhdWx0TG9jYWxlV2VlayIsImRlZmF1bHRMb2NhbGVXZWVrZGF5cyIsImRlZmF1bHRMb2NhbGVXZWVrZGF5c1Nob3J0IiwiZGVmYXVsdExvY2FsZVdlZWtkYXlzTWluIiwiX2lzUG0iLCJwb3MiLCJwb3MxIiwicG9zMiIsImRlZmF1bHRMb2NhbGVNZXJpZGllbVBhcnNlIiwiZ2V0U2V0SG91ciIsIm9yZGluYWxQYXJzZSIsIm1lcmlkaWVtUGFyc2UiLCJwcm90b3R5cGVNaW4iLCJwcm90b3R5cGVNYXgiLCJsYW5nIiwiaXNvV2Vla1llYXIiLCJnZXRTZXREYXlPZk1vbnRoIiwiZ2V0U2V0TWludXRlIiwiZ2V0U2V0U2Vjb25kIiwiZ2V0U2V0TWlsbGlzZWNvbmQiLCJwcm90byIsImlzb1dlZWtzIiwiaXNvV2Vla3NJblllYXIiLCJpc0RTVCIsInpvbmVBYmJyIiwiem9uZU5hbWUiLCJkYXRlcyIsImlzRFNUU2hpZnRlZCIsInByb3RvJDEiLCJmaXJzdERheU9mWWVhciIsImZpcnN0RGF5T2ZXZWVrIiwibGFuZ0RhdGEiLCJhc01pbGxpc2Vjb25kcyIsImFzTWludXRlcyIsImFzSG91cnMiLCJhc0RheXMiLCJhc1dlZWtzIiwiYXNNb250aHMiLCJhc1llYXJzIiwicHJvdG8kMiIsInRvSXNvU3RyaW5nIiwidmVyc2lvbiIsImludmFsaWQiLCJyZWxhdGl2ZVRpbWVSb3VuZGluZyIsInJlbGF0aXZlVGltZVRocmVzaG9sZCJdLCJtYXBwaW5ncyI6IkNBQVMsU0FBVUEsR0NJbkIsUUFBQUMsR0FBQUMsR0FHQSxHQUFBQyxFQUFBRCxHQUNBLE1BQUFDLEdBQUFELEdBQUFFLE9BR0EsSUFBQUMsR0FBQUYsRUFBQUQsSUFDQUUsV0FDQUUsR0FBQUosRUFDQUssUUFBQSxFQVVBLE9BTkFQLEdBQUFFLEdBQUFNLEtBQUFILEVBQUFELFFBQUFDLElBQUFELFFBQUFILEdBR0FJLEVBQUFFLFFBQUEsRUFHQUYsRUFBQUQsUUF2QkEsR0FBQUQsS0FxQ0EsT0FUQUYsR0FBQVEsRUFBQVQsRUFHQUMsRUFBQVMsRUFBQVAsRUFHQUYsRUFBQVUsRUFBQSxHQUdBVixFQUFBLEtETU0sU0FBU0ksRUFBUUQsRUFBU0gsSUU1Q2hDLFNBQUFJLEdBQUEsWUZnREMsSUFBSU8sR0FBNEIsa0JBQVhDLFNBQW9ELGdCQUFwQkEsUUFBT0MsU0FBd0IsU0FBVUMsR0FBTyxhQUFjQSxJQUFTLFNBQVVBLEdBQU8sTUFBT0EsSUFBeUIsa0JBQVhGLFNBQXlCRSxFQUFJQyxjQUFnQkgsUUFBVUUsSUFBUUYsT0FBT0ksVUFBWSxlQUFrQkYsSUUvQ2pRRyxFQUFZakIsRUFBUSxFQUUxQmtCLFFBQU9DLEdBQUssR0FBSUYsR0FFZixTQUFXRyxFQUFLQyxHQUNPLFdBQWxCVixFQUFPUCxJQUF1QkEsRUFBT0QsUUFDdkNDLEVBQU9ELFFBQVVpQixFQUFJRSxTQUNoQkQsRUFBUUQsR0FBTyxTQUFVRyxHQUN6QixJQUFLQSxFQUFJRCxTQUNQLEtBQU0sSUFBSUUsT0FBTSxtQ0FFbEIsT0FBT0gsR0FBUUUsR0FBSyxJ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a0gsR0FBQSxHQUFBekwsTUFBQXdOLEVBQUEzRSxNQU1BUCxFQUFBOHNCLFFBQUEsU0FFQTFzQixFQUFBd1osSUFFQTVaLEVBQUF6RCxHQUFBa3ZCLEdBQ0F6ckIsRUFBQTJGLE9BQ0EzRixFQUFBaEMsT0FDQWdDLEVBQUF1SCxPQUNBdkgsRUFBQTRCLElBQUFKLEVBQ0F4QixFQUFBMmlCLEtBQUF3QixHQUNBbmtCLEVBQUFtTyxPQUFBNlcsR0FDQWhsQixFQUFBYyxTQUNBZCxFQUFBeUIsT0FBQXNVLEdBQ0EvVixFQUFBK3NCLFFBQUF0cEIsRUFDQXpELEVBQUE2YixTQUFBbUMsR0FDQWhlLEVBQUE2RSxXQUNBN0UsRUFBQThTLFNBQUFvUyxHQUNBbGxCLEVBQUFxa0IsVUFBQUQsR0FDQXBrQixFQUFBK0ssV0FBQW1MLEdBQ0FsVyxFQUFBeWMsY0FDQXpjLEVBQUFrTyxZQUFBK1csR0FDQWpsQixFQUFBNFMsWUFBQXdTLEdBQ0FwbEIsRUFBQW1XLGdCQUNBblcsRUFBQXlXLGdCQUNBelcsRUFBQTBWLFFBQUFnQixHQUNBMVcsRUFBQTZTLGNBQUFzUyxHQUNBbmxCLEVBQUFnSixpQkFDQWhKLEVBQUFndEIscUJBQUF4RyxHQUNBeG1CLEVBQUFpdEIsc0JBQUF2RyxHQUNBMW1CLEVBQUEwZ0IsZUFBQVAsR0FDQW5nQixFQUFBaE0sVUFBQXkzQixHQUVBenJCLE1McW9COEJ6TSxLQUFLSixFQUFTSCxFQUFvQixHQUFHSSIsImZpbGUiOiJmY3RzLWV4dC1kYXRlcmFuZ2UtZXM1Lm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKioqKiovIChmdW5jdGlvbihtb2R1bGVzKSB7IC8vIHdlYnBhY2tCb290c3RyYXBcbi8qKioqKiovIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbi8qKioqKiovIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbi8qKioqKiovIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSlcbi8qKioqKiovIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuLyoqKioqKi8gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbi8qKioqKiovIFx0XHRcdGV4cG9ydHM6IHt9LFxuLyoqKioqKi8gXHRcdFx0aWQ6IG1vZHVsZUlkLFxuLyoqKioqKi8gXHRcdFx0bG9hZGVkOiBmYWxzZVxuLyoqKioqKi8gXHRcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuLyoqKioqKi8gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4vKioqKioqLyBcdFx0bW9kdWxlLmxvYWRlZCA9IHRydWU7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4vKioqKioqLyBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuLyoqKioqKi8gXHR9XG4vKioqKioqL1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vKioqKioqLyBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuLyoqKioqKi8gfSlcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqKioqLyAoW1xuLyogMCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKG1vZHVsZSkgeyd1c2Ugc3RyaWN0Jztcblx0XG5cdHZhciBfdHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTtcblx0XG5cdHZhciBEYXRlUmFuZ2UgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXHRcblx0d2luZG93LmRyID0gbmV3IERhdGVSYW5nZSgpO1xuXHRcblx0OyhmdW5jdGlvbiAoZW52LCBmYWN0b3J5KSB7XG5cdCAgaWYgKCggZmFsc2UgPyAndW5kZWZpbmVkJyA6IF90eXBlb2YobW9kdWxlKSkgPT09ICdvYmplY3QnICYmIG1vZHVsZS5leHBvcnRzKSB7XG5cdCAgICBtb2R1bGUuZXhwb3J0cyA9IGVudi5kb2N1bWVudCA/IGZhY3RvcnkoZW52KSA6IGZ1bmN0aW9uICh3aW4pIHtcblx0ICAgICAgaWYgKCF3aW4uZG9jdW1lbnQpIHtcblx0ICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1dpbmRvdyB3aXRoIGRvY3VtZW50IG5vdCBwcmVzZW50Jyk7XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIGZhY3Rvcnkod2luLCB0cnVlKTtcblx0ICAgIH07XG5cdCAgfSBlbHNlIHtcblx0ICAgIGVudi5EYXRlUmFuZ2VDaG9vc2VyID0gZmFjdG9yeShlbnYsIHRydWUpO1xuXHQgIH1cblx0fSkodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cgOiB1bmRlZmluZWQsIGZ1bmN0aW9uIChfd2luZG93LCB3aW5kb3dFeGlzdHMpIHtcblx0ICB2YXIgRkMgPSBfd2luZG93LkZ1c2lvbkNoYXJ0cztcblx0ICBGQy5yZWdpc3RlcignZXh0ZW5zaW9uJywgWydwcml2YXRlJywgJ2RhdGUtcmFuZ2UtY2hvb3NlcicsIGZ1bmN0aW9uICgpIHtcblx0ICAgIEZDLnJlZ2lzdGVyQ29tcG9uZW50KCdleHRlbnNpb25zJywgJ2RhdGUtcmFuZ2UtY2hvb3NlcicsIERhdGVSYW5nZSh7IEZ1c2lvbkNoYXJ0czogRkMgfSkpO1xuXHQgIH1dKTtcblx0fSk7XG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpKG1vZHVsZSkpKVxuXG4vKioqLyB9LFxuLyogMSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihtb2R1bGUpIHtcblx0XHRpZighbW9kdWxlLndlYnBhY2tQb2x5ZmlsbCkge1xuXHRcdFx0bW9kdWxlLmRlcHJlY2F0ZSA9IGZ1bmN0aW9uKCkge307XG5cdFx0XHRtb2R1bGUucGF0aHMgPSBbXTtcblx0XHRcdC8vIG1vZHVsZS5wYXJlbnQgPSB1bmRlZmluZWQgYnkgZGVmYXVsdFxuXHRcdFx0bW9kdWxlLmNoaWxkcmVuID0gW107XG5cdFx0XHRtb2R1bGUud2VicGFja1BvbHlmaWxsID0gMTtcblx0XHR9XG5cdFx0cmV0dXJuIG1vZHVsZTtcblx0fVxuXG5cbi8qKiovIH0sXG4vKiAyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdC8qKlxuXHQgKiBDbGFzcyByZXByZXNlbnRpbmcgdGhlIERhdGVSYW5nZS5cblx0ICovXG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXHRcblx0ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblx0XG5cdHZhciBtb21lbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoZGVwKSB7XG5cdCAgdmFyIERhdGVSYW5nZSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIGZ1bmN0aW9uIERhdGVSYW5nZSgpIHtcblx0ICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIERhdGVSYW5nZSk7XG5cdFxuXHQgICAgICAvKipcblx0ICAgICAgICogQHByaXZhdGVcblx0ICAgICAgICovXG5cdFxuXHQgICAgICB0aGlzLnN0YXJ0RHQgPSAwO1xuXHQgICAgICB0aGlzLmVuZER0ID0gMDtcblx0ICAgICAgdGhpcy5zdGFydERhdGFzZXQgPSAwO1xuXHQgICAgICB0aGlzLmVuZERhdGFzZXQgPSAwO1xuXHQgICAgICB0aGlzLnRvb2xib3ggPSBkZXAuRnVzaW9uQ2hhcnRzLmdldENvbXBvbmVudCgnYXBpJywgJ3Rvb2xib3gnKTtcblx0ICAgICAgdGhpcy5Ib3Jpem9udGFsVG9vbGJhciA9IHRoaXMudG9vbGJveC5Ib3Jpem9udGFsVG9vbGJhcjtcblx0ICAgICAgdGhpcy5Db21wb25lbnRHcm91cCA9IHRoaXMudG9vbGJveC5Db21wb25lbnRHcm91cDtcblx0ICAgICAgdGhpcy5TeW1ib2xTdG9yZSA9IHRoaXMudG9vbGJveC5TeW1ib2xTdG9yZTtcblx0ICAgICAgdGhpcy5zdGFydFRleHQgPSB7XG5cdCAgICAgICAgYXR0cjogZnVuY3Rpb24gYXR0cigpIHt9XG5cdCAgICAgIH07XG5cdCAgICAgIHRoaXMuZW5kVGV4dCA9IHtcblx0ICAgICAgICBhdHRyOiBmdW5jdGlvbiBhdHRyKCkge31cblx0ICAgICAgfTtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIEFuIG9iamVjdCByZXByZXNlbnRpbmcgdGhlIHN0YXJ0IGFuZCBlbmQgZGF0ZXMuXG5cdCAgICAgKiBAdHlwZSB7RGF0ZVJhbmdlLnJhbmdlfVxuXHQgICAgICovXG5cdFxuXHRcblx0ICAgIF9jcmVhdGVDbGFzcyhEYXRlUmFuZ2UsIFt7XG5cdCAgICAgIGtleTogJ2RhdGVGb3JtYXR0ZXInLFxuXHQgICAgICB2YWx1ZTogZnVuY3Rpb24gZGF0ZUZvcm1hdHRlcihlcG9jaCwgc2VwYXJhdG9yKSB7XG5cdCAgICAgICAgZXBvY2ggPSBuZXcgRGF0ZShlcG9jaCk7XG5cdCAgICAgICAgdmFyIGZvcm1hdHRlZERhdGUgPSBbZXBvY2guZ2V0VVRDRGF0ZSgpLCBlcG9jaC5nZXRVVENNb250aCgpICsgMSwgZXBvY2guZ2V0VVRDRnVsbFllYXIoKV07XG5cdCAgICAgICAgZm9ybWF0dGVkRGF0ZSA9IGZvcm1hdHRlZERhdGUuam9pbihzZXBhcmF0b3IpO1xuXHQgICAgICAgIHJldHVybiBmb3JtYXR0ZWREYXRlO1xuXHQgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgIGtleTogJ3N3YXBEYXRlcycsXG5cdFxuXHRcblx0ICAgICAgLyoqXG5cdCAgICAgICAqIFN3YXBzIHRoZSBzdGFydCBkYXRlIGFuZCB0aGUgZW5kIGRhdGUgb2YgdGhlIGRhdGUgcmFuZ2Vcblx0ICAgICAgICogQHByaXZhdGVcblx0ICAgICAgICovXG5cdCAgICAgIHZhbHVlOiBmdW5jdGlvbiBzd2FwRGF0ZXMoKSB7XG5cdCAgICAgICAgdmFyIHRlbXAgPSB0aGlzLmRhdGVSYW5nZS5zdGFydERhdGU7XG5cdCAgICAgICAgdGhpcy5kYXRlUmFuZ2Uuc3RhcnREYXRlID0gdGhpcy5kYXRlUmFuZ2UuZW5kRGF0ZTtcblx0ICAgICAgICB0aGlzLmRhdGVSYW5nZS5lbmREYXRlID0gdGVtcDtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgLyoqXG5cdCAgICAgICAqIFN5bmNzIHRoZSBkYXRlcmFuZ2Ugc2hvd24gYnkgdGhlIEZ1c2lvbkNoYXJ0cyB0aW1lIHNlcmllcyBjaGFydCBhbmQgdGhlIERhdGUgUmFuZ2UgQ2hvb3NlclxuXHQgICAgICAgKiBAcHJpdmF0ZVxuXHQgICAgICAgKi9cblx0XG5cdCAgICB9LCB7XG5cdCAgICAgIGtleTogJ3N5bmNSYW5nZScsXG5cdCAgICAgIHZhbHVlOiBmdW5jdGlvbiBzeW5jUmFuZ2UoKSB7fVxuXHRcblx0ICAgICAgLyoqXG5cdCAgICAgICAqIFJldHVybnMgYSBmb3JtYXR0ZWQgZGF0ZSBzdHJpbmcgZnJvbSBGdXNpb25DaGFydHMgd2hlbiBnaXZlbiBhIFVOSVggdGltZXN0YW1wXG5cdCAgICAgICAqIEBwYXJhbSAge251bWJlcn0gdGltZXN0YW1wIC0gQSBVTklYIHRpbWVzdGFtcCB0byBiZSBjb252ZXJ0ZWQgdG8gYSBkYXRlIHN0cmluZ1xuXHQgICAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IC0gQSBkYXRlIHN0cmluZyB3aGljaCBpcyBlcXVpdmFsZW50IHRvIHRoZSBnaXZlbiB0aW1lc3RhbXBcblx0ICAgICAgICovXG5cdFxuXHQgICAgfSwge1xuXHQgICAgICBrZXk6ICdnZXRGb3JtYXR0ZWREYXRlJyxcblx0ICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldEZvcm1hdHRlZERhdGUodGltZXN0YW1wKSB7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMuY2hhcnQuZ2V0Rm9ybWF0dGVkRGF0ZSh0aW1lc3RhbXApO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICAvKipcblx0ICAgICAgICogUmV0dXJucyBhIFVOSVggdGltZXN0YW1wIGZyb20gRnVzaW9uQ2hhcnRzIHdoZW4gZ2l2ZW4gYSBmb3JtYXR0ZWQgZGF0ZSBzdHJpbmdcblx0ICAgICAgICogQHBhcmFtICB7c3RyaW5nfSBkYXRlU3RyaW5nIC0gQSBkYXRlIHN0cmluZyB0byBiZSBjb252ZXJ0ZWQgdG8gYSBVTklYIHRpbWVzdGFtcFxuXHQgICAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IEEgVU5JWCB0aW1lc3RhbXAgd2hpY2ggaXMgZXF1aXZhbGVudCB0byB0aGUgZ2l2ZW4gZGF0ZSBzdHJpbmdcblx0ICAgICAgICovXG5cdFxuXHQgICAgfSwge1xuXHQgICAgICBrZXk6ICdnZXRUaW1lc3RhbXAnLFxuXHQgICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0VGltZXN0YW1wKGRhdGVTdHJpbmcpIHtcblx0ICAgICAgICByZXR1cm4gdGhpcy5jaGFydC5nZXRUaW1lc3RhbXAoZGF0ZVN0cmluZyk7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIC8qKlxuXHQgICAgICAgKiBTZXRzIHRoZSBjb25maWd1cmFibGUgb3B0aW9ucyBvZiB0aGUgZXh0ZW5zaW9uIChlLmcuIGNvc21ldGljcylcblx0ICAgICAgICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZ09iaiBUaGUgY29uZmlndXJhdGlvbiBvYmplY3QgY29udGFpbmluZyB2YXJpb3VzIGV4dGVuc2lvbiBvcHRpb25zXG5cdCAgICAgICAqL1xuXHRcblx0ICAgIH0sIHtcblx0ICAgICAga2V5OiAnc2V0Q29uZmlnJyxcblx0ICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNldENvbmZpZyhjb25maWdPYmopIHt9XG5cdFxuXHQgICAgICAvKipcblx0ICAgICAgICogR2V0cyB0aGUgY29uZmlndXJhYmxlIG9wdGlvbnMgb2YgdGhlIGV4dGVuc2lvbiAoZS5nLiBjb3NtZXRpY3MpXG5cdCAgICAgICAqIEByZXR1cm4ge29iamVjdH0gY29uZmlnT2JqIFRoZSBjb25maWd1cmF0aW9uIG9iamVjdCBjb250YWluaW5nIHZhcmlvdXMgZXh0ZW5zaW9uIG9wdGlvbnNcblx0ICAgICAgICovXG5cdFxuXHQgICAgfSwge1xuXHQgICAgICBrZXk6ICdnZXRDb25maWcnLFxuXHQgICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Q29uZmlnKCkge1xuXHQgICAgICAgIHJldHVybiB7XG5cdCAgICAgICAgICBjYWxlbmRhclZpc2libGU6ICdmYWxzZSdcblx0ICAgICAgICB9O1xuXHQgICAgICB9XG5cdFxuXHQgICAgICAvKipcblx0ICAgICAgICogRnVzaW9uY2hhcnRzIGxpZmUgY3ljbGUgbWV0aG9kIGZvciBleHRlbnNpb25cblx0ICAgICAgICovXG5cdFxuXHQgICAgfSwge1xuXHQgICAgICBrZXk6ICdpbml0Jyxcblx0ICAgICAgdmFsdWU6IGZ1bmN0aW9uIGluaXQocmVxdWlyZSkge1xuXHQgICAgICAgIHZhciBpbnN0YW5jZSA9IHRoaXM7XG5cdCAgICAgICAgcmVxdWlyZShbJ3hBeGlzJywgJ3lBeGlzJywgJ2dyYXBoaWNzJywgJ2NoYXJ0JywgJ2RhdGFzZXQnLCAnUGxvdE1hbmFnZXInLCAnY2FudmFzQ29uZmlnJywgJ01hcmtlck1hbmFnZXInLCAncmVhY3RpdmVNb2RlbCcsICdnbG9iYWxSZWFjdGl2ZU1vZGVsJywgJ3NwYWNlTWFuYWdlckluc3RhbmNlJywgJ2V4dERhdGEnLCAnc21hcnRMYWJlbCcsIGZ1bmN0aW9uICh4QXhpcywgeUF4aXMsIGdyYXBoaWNzLCBjaGFydCwgZGF0YXNldCwgcGxvdE1hbmFnZXIsIGNhbnZhc0NvbmZpZywgbWFya2VyTWFuYWdlciwgcmVhY3RpdmVNb2RlbCwgZ2xvYmFsUmVhY3RpdmVNb2RlbCwgc3BhY2VNYW5hZ2VySW5zdGFuY2UsIGV4dERhdGEsIHNtYXJ0TGFiZWwpIHtcblx0ICAgICAgICAgIGluc3RhbmNlLmV4dERhdGEgPSBleHREYXRhO1xuXHQgICAgICAgICAgaW5zdGFuY2UueEF4aXMgPSB4QXhpcztcblx0ICAgICAgICAgIGluc3RhbmNlLnlBeGlzID0geUF4aXM7XG5cdCAgICAgICAgICBpbnN0YW5jZS5ncmFwaGljcyA9IGdyYXBoaWNzO1xuXHQgICAgICAgICAgaW5zdGFuY2UuY2hhcnQgPSBjaGFydDtcblx0ICAgICAgICAgIGluc3RhbmNlLmRhdGFzZXQgPSBkYXRhc2V0O1xuXHQgICAgICAgICAgaW5zdGFuY2UucGxvdE1hbmFnZXIgPSBwbG90TWFuYWdlcjtcblx0ICAgICAgICAgIGluc3RhbmNlLm1hcmtlck1hbmFnZXIgPSBtYXJrZXJNYW5hZ2VyO1xuXHQgICAgICAgICAgaW5zdGFuY2UuY2FudmFzQ29uZmlnID0gY2FudmFzQ29uZmlnO1xuXHQgICAgICAgICAgaW5zdGFuY2UucmVhY3RpdmVNb2RlbCA9IHJlYWN0aXZlTW9kZWw7XG5cdCAgICAgICAgICBpbnN0YW5jZS5nbG9iYWxSZWFjdGl2ZU1vZGVsID0gZ2xvYmFsUmVhY3RpdmVNb2RlbDtcblx0ICAgICAgICAgIGluc3RhbmNlLnNwYWNlTWFuYWdlckluc3RhbmNlID0gc3BhY2VNYW5hZ2VySW5zdGFuY2U7XG5cdCAgICAgICAgICBpbnN0YW5jZS5zbWFydExhYmVsID0gc21hcnRMYWJlbDtcblx0ICAgICAgICB9XSk7XG5cdCAgICAgICAgdGhpcy5zcGFjZU1hbmFnZXJJbnN0YW5jZSA9IGluc3RhbmNlLnNwYWNlTWFuYWdlckluc3RhbmNlO1xuXHQgICAgICAgIHRoaXMuZ2xvYmFsUmVhY3RpdmVNb2RlbCA9IGluc3RhbmNlLmdsb2JhbFJlYWN0aXZlTW9kZWw7XG5cdCAgICAgICAgdGhpcy5zdGFydER0ID0gaW5zdGFuY2UuZ2xvYmFsUmVhY3RpdmVNb2RlbC5tb2RlbFsneC1heGlzLXZpc2libGUtcmFuZ2Utc3RhcnQnXTtcblx0ICAgICAgICB0aGlzLmVuZER0ID0gaW5zdGFuY2UuZ2xvYmFsUmVhY3RpdmVNb2RlbC5tb2RlbFsneC1heGlzLXZpc2libGUtcmFuZ2UtZW5kJ107XG5cdCAgICAgICAgdGhpcy5zdGFydERhdGFzZXQgPSBpbnN0YW5jZS5nbG9iYWxSZWFjdGl2ZU1vZGVsLm1vZGVsWyd4LWF4aXMtYWJzb2x1dGUtcmFuZ2Utc3RhcnQnXTtcblx0ICAgICAgICB0aGlzLmVuZERhdGFzZXQgPSBpbnN0YW5jZS5nbG9iYWxSZWFjdGl2ZU1vZGVsLm1vZGVsWyd4LWF4aXMtYWJzb2x1dGUtcmFuZ2UtZW5kJ107XG5cdCAgICAgICAgdGhpcy50b29sYmFycyA9IFtdO1xuXHQgICAgICAgIHRoaXMubWVhc3VyZW1lbnQgPSB7fTtcblx0ICAgICAgICB0aGlzLnRvb2xiYXJzLnB1c2godGhpcy5jcmVhdGVUb29sYmFyKCkpO1xuXHQgICAgICAgIHJldHVybiB0aGlzO1xuXHQgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgIGtleTogJ2NyZWF0ZVRvb2xiYXInLFxuXHQgICAgICB2YWx1ZTogZnVuY3Rpb24gY3JlYXRlVG9vbGJhcigpIHtcblx0ICAgICAgICB2YXIgdG9vbGJhcixcblx0ICAgICAgICAgICAgc2VsZiA9IHRoaXMsXG5cdCAgICAgICAgICAgIGZyb21EYXRlTGFiZWwsXG5cdCAgICAgICAgICAgIHRvRGF0ZUxhYmVsLFxuXHQgICAgICAgICAgICBncm91cCxcblx0ICAgICAgICAgICAgZnJvbUZvcm1hdHRlZERhdGUsXG5cdCAgICAgICAgICAgIHRvRm9ybWF0dGVkRGF0ZTtcblx0XG5cdCAgICAgICAgc2VsZi5mcm9tRGF0ZSA9IHt9O1xuXHQgICAgICAgIHNlbGYudG9EYXRlID0ge307XG5cdFxuXHQgICAgICAgIGZyb21Gb3JtYXR0ZWREYXRlID0gbW9tZW50KHRoaXMuc3RhcnREdCwgJ3gnKS5mb3JtYXQoJ0RELU1NLVlZWVknKTtcblx0XG5cdCAgICAgICAgdG9Gb3JtYXR0ZWREYXRlID0gbW9tZW50KHRoaXMuZW5kRHQsICd4JykuZm9ybWF0KCdERC1NTS1ZWVlZJyk7XG5cdCAgICAgICAgdG9vbGJhciA9IG5ldyB0aGlzLkhvcml6b250YWxUb29sYmFyKHtcblx0ICAgICAgICAgIHBhcGVyOiB0aGlzLmdyYXBoaWNzLnBhcGVyLFxuXHQgICAgICAgICAgY2hhcnQ6IHRoaXMuY2hhcnQsXG5cdCAgICAgICAgICBzbWFydExhYmVsOiB0aGlzLnNtYXJ0TGFiZWwsXG5cdCAgICAgICAgICBjaGFydENvbnRhaW5lcjogdGhpcy5ncmFwaGljcy5jb250YWluZXJcblx0ICAgICAgICB9KTtcblx0XG5cdCAgICAgICAgdG9vbGJhci5zZXRDb25maWcoe1xuXHQgICAgICAgICAgJ2ZpbGwnOiAnI0ZGRkZGRicsXG5cdCAgICAgICAgICAnYm9yZGVyVGhpY2tuZXNzJzogMFxuXHQgICAgICAgIH0pO1xuXHRcblx0ICAgICAgICBncm91cCA9IG5ldyB0aGlzLnRvb2xib3guQ29tcG9uZW50R3JvdXAoe1xuXHQgICAgICAgICAgcGFwZXI6IHRoaXMuZ3JhcGhpY3MucGFwZXIsXG5cdCAgICAgICAgICBjaGFydDogdGhpcy5jaGFydCxcblx0ICAgICAgICAgIHNtYXJ0TGFiZWw6IHRoaXMuc21hcnRMYWJlbCxcblx0ICAgICAgICAgIGNoYXJ0Q29udGFpbmVyOiB0aGlzLmdyYXBoaWNzLmNvbnRhaW5lclxuXHQgICAgICAgIH0pO1xuXHRcblx0ICAgICAgICBncm91cC5zZXRDb25maWcoe1xuXHQgICAgICAgICAgJ2ZpbGwnOiAnI0ZGRkZGRicsXG5cdCAgICAgICAgICAnYm9yZGVyVGhpY2tuZXNzJzogMFxuXHQgICAgICAgIH0pO1xuXHRcblx0ICAgICAgICBmcm9tRGF0ZUxhYmVsID0gbmV3IHRoaXMudG9vbGJveC5MYWJlbCgnRnJvbTonLCB7XG5cdCAgICAgICAgICBzbWFydExhYmVsOiB0aGlzLnNtYXJ0TGFiZWwsXG5cdCAgICAgICAgICBwYXBlcjogdGhpcy5ncmFwaGljcy5wYXBlclxuXHQgICAgICAgIH0sIHtcblx0ICAgICAgICAgIHRleHQ6IHtcblx0ICAgICAgICAgICAgc3R5bGU6IHtcblx0ICAgICAgICAgICAgICAnZm9udC1zaXplJzogJzEzJyxcblx0ICAgICAgICAgICAgICAnZm9udC1mYW1pbHknOiAnXCJMdWNpZGEgR3JhbmRlXCIsIHNhbnMtc2VyaWYnLFxuXHQgICAgICAgICAgICAgIC8vICdmb250LXdlaWdodCc6ICdib2xkJyxcblx0ICAgICAgICAgICAgICAnZmlsbCc6ICcjNEI0QjRCJ1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfSk7XG5cdFxuXHQgICAgICAgIHRvRGF0ZUxhYmVsID0gbmV3IHRoaXMudG9vbGJveC5MYWJlbCgnVG86Jywge1xuXHQgICAgICAgICAgc21hcnRMYWJlbDogdGhpcy5zbWFydExhYmVsLFxuXHQgICAgICAgICAgcGFwZXI6IHRoaXMuZ3JhcGhpY3MucGFwZXJcblx0ICAgICAgICB9LCB7XG5cdCAgICAgICAgICB0ZXh0OiB7XG5cdCAgICAgICAgICAgIHN0eWxlOiB7XG5cdCAgICAgICAgICAgICAgJ2ZvbnQtc2l6ZSc6ICcxMycsXG5cdCAgICAgICAgICAgICAgJ2ZvbnQtZmFtaWx5JzogJ1wiTHVjaWRhIEdyYW5kZVwiLCBzYW5zLXNlcmlmJyxcblx0ICAgICAgICAgICAgICAvLyAnZm9udC13ZWlnaHQnOiAnYm9sZCcsXG5cdCAgICAgICAgICAgICAgJ2ZpbGwnOiAnIzRCNEI0Qidcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH0pO1xuXHRcblx0ICAgICAgICBzZWxmLmZyb21EYXRlID0gbmV3IHRoaXMudG9vbGJveC5JbnB1dFRleHRCb3hTeW1ib2woe1xuXHQgICAgICAgICAgd2lkdGg6IDEyMCxcblx0ICAgICAgICAgIGhlaWdodDogMjJcblx0ICAgICAgICB9LCB7XG5cdCAgICAgICAgICBwYXBlcjogdGhpcy5ncmFwaGljcy5wYXBlcixcblx0ICAgICAgICAgIGNoYXJ0OiB0aGlzLmNoYXJ0LFxuXHQgICAgICAgICAgc21hcnRMYWJlbDogdGhpcy5zbWFydExhYmVsLFxuXHQgICAgICAgICAgY2hhcnRDb250YWluZXI6IHRoaXMuZ3JhcGhpY3MuY29udGFpbmVyXG5cdCAgICAgICAgfSwge1xuXHQgICAgICAgICAgJ3N0cm9rZVdpZHRoJzogMSxcblx0ICAgICAgICAgICdzdHJva2UnOiAnI2NlZDVkNCcsXG5cdCAgICAgICAgICAnc3ltYm9sU3Ryb2tlV2lkdGgnOiAwLFxuXHQgICAgICAgICAgJ3JhZGl1cyc6IDIsXG5cdCAgICAgICAgICAnbWFyZ2luJzoge1xuXHQgICAgICAgICAgICAncmlnaHQnOiAyMlxuXHQgICAgICAgICAgfSxcblx0ICAgICAgICAgICdidG5UZXh0U3R5bGUnOiB7XG5cdCAgICAgICAgICAgICdmb250LWZhbWlseSc6ICdcIkx1Y2lkYSBHcmFuZGVcIiwgc2Fucy1zZXJpZicsXG5cdCAgICAgICAgICAgICdmb250U2l6ZSc6IDEzXG5cdCAgICAgICAgICB9LFxuXHQgICAgICAgICAgJ2xhYmVsJzogZnJvbUZvcm1hdHRlZERhdGUsXG5cdCAgICAgICAgICAvLyAnY3VzdG9tQ29uZmlnJzoge1xuXHQgICAgICAgICAgLy8gICAnZXJyb3JlZCc6IHtcblx0ICAgICAgICAgIC8vICAgICAnaG92ZXInOiB7XG5cdCAgICAgICAgICAvLyAgICAgICAnZmlsbCc6ICcjRkZFRkVGJyxcblx0ICAgICAgICAgIC8vICAgICAgICdzdHJva2Utd2lkdGgnOiAxLFxuXHQgICAgICAgICAgLy8gICAgICAgJ3N0cm9rZSc6ICcjRDI1MzUzJ1xuXHQgICAgICAgICAgLy8gICAgIH0sXG5cdCAgICAgICAgICAvLyAgICAgJ25vcm1hbCc6IHtcblx0ICAgICAgICAgIC8vICAgICAgICdmaWxsJzogJyNGRkVGRUYnLFxuXHQgICAgICAgICAgLy8gICAgICAgJ3N0cm9rZS13aWR0aCc6IDEsXG5cdCAgICAgICAgICAvLyAgICAgICAnc3Ryb2tlJzogJyNEMjUzNTMnXG5cdCAgICAgICAgICAvLyAgICAgfSxcblx0ICAgICAgICAgIC8vICAgICAncHJlc3NlZCc6IHtcblx0ICAgICAgICAgIC8vICAgICAgICdmaWxsJzogJyNGRkVGRUYnLFxuXHQgICAgICAgICAgLy8gICAgICAgJ3N0cm9rZS13aWR0aCc6IDEsXG5cdCAgICAgICAgICAvLyAgICAgICAnc3Ryb2tlJzogJyNEMjUzNTMnXG5cdCAgICAgICAgICAvLyAgICAgfVxuXHQgICAgICAgICAgLy8gICB9XG5cdCAgICAgICAgICAvLyB9LFxuXHQgICAgICAgICAgJ2xhYmVsRmlsbCc6ICcjNjk2OTY5J1xuXHQgICAgICAgIH0pO1xuXHRcblx0ICAgICAgICBzZWxmLmZyb21EYXRlLnNldFN0YXRlQ29uZmlnKHtcblx0ICAgICAgICAgIHByZXNzZWQ6IHtcblx0ICAgICAgICAgICAgY29uZmlnOiB7XG5cdCAgICAgICAgICAgICAgcHJlc3NlZDoge1xuXHQgICAgICAgICAgICAgICAgJ2ZpbGwnOiAnI0ZGRkZGRicsXG5cdCAgICAgICAgICAgICAgICAnc3Ryb2tlLXdpZHRoJzogMSxcblx0ICAgICAgICAgICAgICAgICdzdHJva2UnOiAnIzFFMUYxRidcblx0ICAgICAgICAgICAgICB9LFxuXHQgICAgICAgICAgICAgIG5vcm1hbDoge1xuXHQgICAgICAgICAgICAgICAgJ2ZpbGwnOiAnI0ZGRkZGRicsXG5cdCAgICAgICAgICAgICAgICAnc3Ryb2tlLXdpZHRoJzogMSxcblx0ICAgICAgICAgICAgICAgICdzdHJva2UnOiAnIzFFMUYxRidcblx0ICAgICAgICAgICAgICB9LFxuXHQgICAgICAgICAgICAgIGhvdmVyOiB7XG5cdCAgICAgICAgICAgICAgICAnZmlsbCc6ICcjRkZGRkZGJyxcblx0ICAgICAgICAgICAgICAgICdzdHJva2Utd2lkdGgnOiAxLFxuXHQgICAgICAgICAgICAgICAgLy8gJ3N0cm9rZSc6ICcjMUUxRjFGJ1xuXHQgICAgICAgICAgICAgICAgJ3N0cm9rZSc6ICcjMDAwMEZGJ1xuXHQgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH0pO1xuXHRcblx0ICAgICAgICBzZWxmLnRvRGF0ZSA9IG5ldyB0aGlzLnRvb2xib3guSW5wdXRUZXh0Qm94U3ltYm9sKHtcblx0ICAgICAgICAgIHdpZHRoOiAxMjAsXG5cdCAgICAgICAgICBoZWlnaHQ6IDIyXG5cdCAgICAgICAgfSwge1xuXHQgICAgICAgICAgcGFwZXI6IHRoaXMuZ3JhcGhpY3MucGFwZXIsXG5cdCAgICAgICAgICBjaGFydDogdGhpcy5jaGFydCxcblx0ICAgICAgICAgIHNtYXJ0TGFiZWw6IHRoaXMuc21hcnRMYWJlbCxcblx0ICAgICAgICAgIGNoYXJ0Q29udGFpbmVyOiB0aGlzLmdyYXBoaWNzLmNvbnRhaW5lclxuXHQgICAgICAgIH0sIHtcblx0ICAgICAgICAgICdzdHJva2VXaWR0aCc6IDEsXG5cdCAgICAgICAgICAnc3Ryb2tlJzogJyNjZWQ1ZDQnLFxuXHQgICAgICAgICAgJ3N5bWJvbFN0cm9rZVdpZHRoJzogMCxcblx0ICAgICAgICAgICdyYWRpdXMnOiAyLFxuXHQgICAgICAgICAgJ2J0blRleHRTdHlsZSc6IHtcblx0ICAgICAgICAgICAgJ2ZvbnQtZmFtaWx5JzogJ1wiTHVjaWRhIEdyYW5kZVwiLCBzYW5zLXNlcmlmJyxcblx0ICAgICAgICAgICAgJ2ZvbnRTaXplJzogMTNcblx0ICAgICAgICAgIH0sXG5cdCAgICAgICAgICAnbGFiZWwnOiB0b0Zvcm1hdHRlZERhdGUsXG5cdCAgICAgICAgICAvLyAnY3VzdG9tQ29uZmlnJzoge1xuXHQgICAgICAgICAgLy8gICAnZXJyb3JlZCc6IHtcblx0ICAgICAgICAgIC8vICAgICAnaG92ZXInOiB7XG5cdCAgICAgICAgICAvLyAgICAgICAnZmlsbCc6ICcjRkZFRkVGJyxcblx0ICAgICAgICAgIC8vICAgICAgICdzdHJva2Utd2lkdGgnOiAxLFxuXHQgICAgICAgICAgLy8gICAgICAgJ3N0cm9rZSc6ICcjRDI1MzUzJ1xuXHQgICAgICAgICAgLy8gICAgIH0sXG5cdCAgICAgICAgICAvLyAgICAgJ25vcm1hbCc6IHtcblx0ICAgICAgICAgIC8vICAgICAgICdmaWxsJzogJyNGRkVGRUYnLFxuXHQgICAgICAgICAgLy8gICAgICAgJ3N0cm9rZS13aWR0aCc6IDEsXG5cdCAgICAgICAgICAvLyAgICAgICAnc3Ryb2tlJzogJyNEMjUzNTMnXG5cdCAgICAgICAgICAvLyAgICAgfSxcblx0ICAgICAgICAgIC8vICAgICAncHJlc3NlZCc6IHtcblx0ICAgICAgICAgIC8vICAgICAgICdmaWxsJzogJyNGRkVGRUYnLFxuXHQgICAgICAgICAgLy8gICAgICAgJ3N0cm9rZS13aWR0aCc6IDEsXG5cdCAgICAgICAgICAvLyAgICAgICAnc3Ryb2tlJzogJyNEMjUzNTMnXG5cdCAgICAgICAgICAvLyAgICAgfVxuXHQgICAgICAgICAgLy8gICB9XG5cdCAgICAgICAgICAvLyB9LFxuXHQgICAgICAgICAgJ2xhYmVsRmlsbCc6ICcjNjk2OTY5J1xuXHQgICAgICAgIH0pO1xuXHRcblx0ICAgICAgICBzZWxmLnRvRGF0ZS5zZXRTdGF0ZUNvbmZpZyh7XG5cdCAgICAgICAgICBwcmVzc2VkOiB7XG5cdCAgICAgICAgICAgIGNvbmZpZzoge1xuXHQgICAgICAgICAgICAgIHByZXNzZWQ6IHtcblx0ICAgICAgICAgICAgICAgICdmaWxsJzogJyNGRkZGRkYnLFxuXHQgICAgICAgICAgICAgICAgJ3N0cm9rZS13aWR0aCc6IDEsXG5cdCAgICAgICAgICAgICAgICAnc3Ryb2tlJzogJyMxRTFGMUYnXG5cdCAgICAgICAgICAgICAgfSxcblx0ICAgICAgICAgICAgICBub3JtYWw6IHtcblx0ICAgICAgICAgICAgICAgICdmaWxsJzogJyNGRkZGRkYnLFxuXHQgICAgICAgICAgICAgICAgJ3N0cm9rZS13aWR0aCc6IDEsXG5cdCAgICAgICAgICAgICAgICAnc3Ryb2tlJzogJyMxRTFGMUYnXG5cdCAgICAgICAgICAgICAgfSxcblx0ICAgICAgICAgICAgICBob3Zlcjoge1xuXHQgICAgICAgICAgICAgICAgJ2ZpbGwnOiAnI0ZGRkZGRicsXG5cdCAgICAgICAgICAgICAgICAnc3Ryb2tlLXdpZHRoJzogMSxcblx0ICAgICAgICAgICAgICAgICdzdHJva2UnOiAnIzFFMUYxRidcblx0ICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9KTtcblx0XG5cdCAgICAgICAgc2VsZi5mcm9tRGF0ZS5hdHRhY2hFdmVudEhhbmRsZXJzKHtcblx0ICAgICAgICAgIGNsaWNrOiB7XG5cdCAgICAgICAgICAgIGZuOiBmdW5jdGlvbiBmbigpIHtcblx0ICAgICAgICAgICAgICBzZWxmLmZyb21EYXRlLmVkaXQoKTtcblx0ICAgICAgICAgICAgICBzZWxmLmZyb21EYXRlLnVwZGF0ZVZpc3VhbCgncHJlc3NlZCcpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICB9LFxuXHQgICAgICAgICAgdGV4dE9uQmx1cjogZnVuY3Rpb24gdGV4dE9uQmx1cigpIHtcblx0ICAgICAgICAgICAgc2VsZi5mcm9tRGF0ZS5ibHVyKCk7XG5cdCAgICAgICAgICAgIHNlbGYuc3RhcnREYXRlID0gc2VsZi5mcm9tRGF0ZS5nZXRUZXh0KCk7XG5cdCAgICAgICAgICAgIHNlbGYuZnJvbURhdGUudXBkYXRlVmlzdWFsKCdlbmFibGVkJyk7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfSk7XG5cdFxuXHQgICAgICAgIHNlbGYudG9EYXRlLmF0dGFjaEV2ZW50SGFuZGxlcnMoe1xuXHQgICAgICAgICAgY2xpY2s6IHtcblx0ICAgICAgICAgICAgZm46IGZ1bmN0aW9uIGZuKCkge1xuXHQgICAgICAgICAgICAgIHNlbGYudG9EYXRlLmVkaXQoKTtcblx0ICAgICAgICAgICAgICBzZWxmLnRvRGF0ZS51cGRhdGVWaXN1YWwoJ3ByZXNzZWQnKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgfSxcblx0ICAgICAgICAgIHRleHRPbkJsdXI6IGZ1bmN0aW9uIHRleHRPbkJsdXIoKSB7XG5cdCAgICAgICAgICAgIHNlbGYudG9EYXRlLmJsdXIoKTtcblx0ICAgICAgICAgICAgc2VsZi5lbmREYXRlID0gc2VsZi50b0RhdGUuZ2V0VGV4dCgpO1xuXHQgICAgICAgICAgICBzZWxmLnRvRGF0ZS51cGRhdGVWaXN1YWwoJ2VuYWJsZWQnKTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9KTtcblx0XG5cdCAgICAgICAgLy8gVGVtcG9yYXJ5LiBSZXF1aXJlZCB0byByZW5kZXIgdGhlIHRleHQgYm94IGNvcnJlY3RseS4gQ29tbWVudGluZyB0aGlzIG91dCBkaXN0b3J0cyB0b29sYm94LlxuXHQgICAgICAgIHRoaXMuU3ltYm9sU3RvcmUucmVnaXN0ZXIoJ3RleHRCb3hJY29uJywgZnVuY3Rpb24gKHgsIHksIHJhZCwgdywgaCwgcGFkWCwgcGFkWSkge1xuXHQgICAgICAgICAgdmFyIHgxID0geCAtIHcgLyAyICsgcGFkWCAvIDIsXG5cdCAgICAgICAgICAgICAgeDIgPSB4ICsgdyAvIDIgLSBwYWRYIC8gMixcblx0ICAgICAgICAgICAgICB5MSA9IHkgLSBoIC8gMiArIHBhZFkgLyAyLFxuXHQgICAgICAgICAgICAgIHkyID0geSArIGggLyAyIC0gcGFkWSAvIDI7XG5cdFxuXHQgICAgICAgICAgcmV0dXJuIFsnTScsIHgxLCB5MSwgJ0wnLCB4MiwgeTEsICdMJywgeDIsIHkyLCAnTCcsIHgxLCB5MiwgJ1onXTtcblx0ICAgICAgICB9KTtcblx0XG5cdCAgICAgICAgZ3JvdXAuYWRkU3ltYm9sKGZyb21EYXRlTGFiZWwpO1xuXHQgICAgICAgIGdyb3VwLmFkZFN5bWJvbChzZWxmLmZyb21EYXRlKTtcblx0ICAgICAgICBncm91cC5hZGRTeW1ib2wodG9EYXRlTGFiZWwpO1xuXHQgICAgICAgIGdyb3VwLmFkZFN5bWJvbChzZWxmLnRvRGF0ZSk7XG5cdCAgICAgICAgdG9vbGJhci5hZGRDb21wb25lbnQoZ3JvdXApO1xuXHQgICAgICAgIHJldHVybiB0b29sYmFyO1xuXHQgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgIGtleTogJ2dldExvZ2ljYWxTcGFjZScsXG5cdCAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRMb2dpY2FsU3BhY2UoYXZhaWxhYmxlV2lkdGgsIGF2YWlsYWJsZUhlaWdodCkge1xuXHQgICAgICAgIHZhciBsb2dpY2FsU3BhY2UsXG5cdCAgICAgICAgICAgIHdpZHRoID0gMCxcblx0ICAgICAgICAgICAgaGVpZ2h0ID0gMCxcblx0ICAgICAgICAgICAgaSxcblx0ICAgICAgICAgICAgbG47XG5cdFxuXHQgICAgICAgIGF2YWlsYWJsZVdpZHRoIC89IDI7XG5cdFxuXHQgICAgICAgIGZvciAoaSA9IDAsIGxuID0gdGhpcy50b29sYmFycy5sZW5ndGg7IGkgPCBsbjsgaSsrKSB7XG5cdCAgICAgICAgICBsb2dpY2FsU3BhY2UgPSB0aGlzLnRvb2xiYXJzW2ldLmdldExvZ2ljYWxTcGFjZShhdmFpbGFibGVXaWR0aCwgYXZhaWxhYmxlSGVpZ2h0KTtcblx0ICAgICAgICAgIHdpZHRoID0gTWF0aC5tYXgobG9naWNhbFNwYWNlLndpZHRoLCB3aWR0aCk7XG5cdCAgICAgICAgICBoZWlnaHQgKz0gbG9naWNhbFNwYWNlLmhlaWdodDtcblx0ICAgICAgICAgIHRoaXMudG9vbGJhcnNbaV0ud2lkdGggPSBsb2dpY2FsU3BhY2Uud2lkdGg7XG5cdCAgICAgICAgICB0aGlzLnRvb2xiYXJzW2ldLmhlaWdodCA9IGxvZ2ljYWxTcGFjZS5oZWlnaHQ7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGhlaWdodCArPSB0aGlzLnBhZGRpbmc7XG5cdCAgICAgICAgcmV0dXJuIHtcblx0ICAgICAgICAgIHdpZHRoOiB3aWR0aCxcblx0ICAgICAgICAgIGhlaWdodDogaGVpZ2h0XG5cdCAgICAgICAgfTtcblx0ICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICBrZXk6ICdwbGFjZUluQ2FudmFzJyxcblx0ICAgICAgdmFsdWU6IGZ1bmN0aW9uIHBsYWNlSW5DYW52YXMoKSB7XG5cdCAgICAgICAgdmFyIF9zZWxmID0gdGhpcztcblx0ICAgICAgICBfc2VsZi5wYWRkaW5nID0gNTtcblx0ICAgICAgICBfc2VsZi5zcGFjZU1hbmFnZXJJbnN0YW5jZS5hZGQoW3tcblx0ICAgICAgICAgIG5hbWU6IGZ1bmN0aW9uIG5hbWUoKSB7XG5cdCAgICAgICAgICAgIHJldHVybiAnRGF0ZVJhbmdlQ2hvb3NlclRvb2xib3gnO1xuXHQgICAgICAgICAgfSxcblx0ICAgICAgICAgIHJlZjogZnVuY3Rpb24gcmVmKG9iaikge1xuXHQgICAgICAgICAgICByZXR1cm4gb2JqWycwJ107XG5cdCAgICAgICAgICB9LFxuXHQgICAgICAgICAgc2VsZjogZnVuY3Rpb24gc2VsZigpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIF9zZWxmO1xuXHQgICAgICAgICAgfSxcblx0ICAgICAgICAgIHByaW9yaXR5OiBmdW5jdGlvbiBwcmlvcml0eSgpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIDI7XG5cdCAgICAgICAgICB9LFxuXHQgICAgICAgICAgbGF5b3V0OiBmdW5jdGlvbiBsYXlvdXQob2JqKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBvYmpbX3NlbGYuZXh0RGF0YS5sYXlvdXRdO1xuXHQgICAgICAgICAgfSxcblx0ICAgICAgICAgIG9yaWVudGF0aW9uOiBbe1xuXHQgICAgICAgICAgICB0eXBlOiBmdW5jdGlvbiB0eXBlKG9iaikge1xuXHQgICAgICAgICAgICAgIHJldHVybiBvYmpbX3NlbGYuZXh0RGF0YS5vcmllbnRhdGlvbl07XG5cdCAgICAgICAgICAgIH0sXG5cdCAgICAgICAgICAgIHBvc2l0aW9uOiBbe1xuXHQgICAgICAgICAgICAgIHR5cGU6IGZ1bmN0aW9uIHR5cGUob2JqKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gb2JqW19zZWxmLmV4dERhdGEucG9zaXRpb25dO1xuXHQgICAgICAgICAgICAgIH0sXG5cdCAgICAgICAgICAgICAgYWxpZ25tZW50OiBbe1xuXHQgICAgICAgICAgICAgICAgdHlwZTogZnVuY3Rpb24gdHlwZShvYmopIHtcblx0ICAgICAgICAgICAgICAgICAgcmV0dXJuIG9ialtfc2VsZi5leHREYXRhLmFsaWdubWVudF07XG5cdCAgICAgICAgICAgICAgICB9LFxuXHQgICAgICAgICAgICAgICAgZGltZW5zaW9uczogW2Z1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgICAgICAgdmFyIHBhcmVudCA9IHRoaXMuZ2V0UGFyZW50Q29tcG9uZW50R3JvdXAoKTtcblx0ICAgICAgICAgICAgICAgICAgcmV0dXJuIF9zZWxmLmdldExvZ2ljYWxTcGFjZShwYXJlbnQuZ2V0V2lkdGgoKSwgcGFyZW50LmdldEhlaWdodCgpKTtcblx0ICAgICAgICAgICAgICAgIH1dXG5cdCAgICAgICAgICAgICAgfV1cblx0ICAgICAgICAgICAgfV1cblx0ICAgICAgICAgIH1dXG5cdCAgICAgICAgfV0pO1xuXHQgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgIGtleTogJ3NldERyYXdpbmdDb25maWd1cmF0aW9uJyxcblx0ICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNldERyYXdpbmdDb25maWd1cmF0aW9uKHgsIHksIHdpZHRoLCBoZWlnaHQsIGdyb3VwKSB7XG5cdCAgICAgICAgdmFyIG1lcyA9IHRoaXMubWVhc3VyZW1lbnQ7XG5cdCAgICAgICAgbWVzLnggPSB4O1xuXHQgICAgICAgIG1lcy55ID0geTtcblx0ICAgICAgICBtZXMud2lkdGggPSB3aWR0aDtcblx0ICAgICAgICBtZXMuaGVpZ2h0ID0gaGVpZ2h0O1xuXHRcblx0ICAgICAgICB0aGlzLnBhcmVudEdyb3VwID0gZ3JvdXA7XG5cdFxuXHQgICAgICAgIHJldHVybiB0aGlzO1xuXHQgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgIGtleTogJ2RyYXcnLFxuXHQgICAgICB2YWx1ZTogZnVuY3Rpb24gZHJhdyh4LCB5LCB3aWR0aCwgaGVpZ2h0LCBncm91cCkge1xuXHQgICAgICAgIHZhciBtZWFzdXJlbWVudCA9IHRoaXMubWVhc3VyZW1lbnQsXG5cdCAgICAgICAgICAgIHRvb2xiYXJzID0gdGhpcy50b29sYmFycyxcblx0ICAgICAgICAgICAgbG4sXG5cdCAgICAgICAgICAgIGksXG5cdCAgICAgICAgICAgIHRvb2xiYXIsXG5cdCAgICAgICAgICAgIG1vZGVsID0gdGhpcy5nbG9iYWxSZWFjdGl2ZU1vZGVsLFxuXHQgICAgICAgICAgICBzZWxmID0gdGhpcztcblx0XG5cdCAgICAgICAgeCA9IHggPT09IHVuZGVmaW5lZCA/IG1lYXN1cmVtZW50LnggOiB4O1xuXHQgICAgICAgIHkgPSB5ID09PSB1bmRlZmluZWQgPyBtZWFzdXJlbWVudC55IDogeTtcblx0ICAgICAgICB3aWR0aCA9IHdpZHRoID09PSB1bmRlZmluZWQgPyBtZWFzdXJlbWVudC53aWR0aCA6IHdpZHRoO1xuXHQgICAgICAgIGhlaWdodCA9IGhlaWdodCA9PT0gdW5kZWZpbmVkID8gbWVhc3VyZW1lbnQuaGVpZ2h0IDogaGVpZ2h0O1xuXHQgICAgICAgIGdyb3VwID0gZ3JvdXAgPT09IHVuZGVmaW5lZCA/IHRoaXMucGFyZW50R3JvdXAgOiBncm91cDtcblx0ICAgICAgICBpZiAod2lkdGggJiYgaGVpZ2h0KSB7XG5cdCAgICAgICAgICBmb3IgKGkgPSAwLCBsbiA9IHRvb2xiYXJzLmxlbmd0aDsgaSA8IGxuOyBpKyspIHtcblx0ICAgICAgICAgICAgdG9vbGJhciA9IHRvb2xiYXJzW2ldO1xuXHQgICAgICAgICAgICB0b29sYmFyLmRyYXcoeCwgeSwgZ3JvdXApO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgbW9kZWwub25Qcm9wc0NoYW5nZShbJ3gtYXhpcy12aXNpYmxlLXJhbmdlLXN0YXJ0JywgJ3gtYXhpcy12aXNpYmxlLXJhbmdlLWVuZCddLCBmdW5jdGlvbiAoc3RhcnQsIGVuZCkge1xuXHQgICAgICAgICAgLy8gc2VsZi5mcm9tRGF0ZS5ibHVyKG5ldyBEYXRlKHN0YXJ0WzFdKS50b0xvY2FsZURhdGVTdHJpbmcoKSk7XG5cdCAgICAgICAgICAvLyBzZWxmLnRvRGF0ZS5ibHVyKG5ldyBEYXRlKGVuZFsxXSkudG9Mb2NhbGVEYXRlU3RyaW5nKCkpO1xuXHQgICAgICAgICAgc2VsZi5mcm9tRGF0ZS5ibHVyKG1vbWVudChzdGFydFsxXSwgJ3gnKS5mb3JtYXQoJ0RELU1NLVlZWVknKSk7XG5cdCAgICAgICAgICBzZWxmLnRvRGF0ZS5ibHVyKG1vbWVudChlbmRbMV0sICd4JykuZm9ybWF0KCdERC1NTS1ZWVlZJykpO1xuXHQgICAgICAgIH0pO1xuXHQgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgIGtleTogJ3N0YXJ0RGF0ZScsXG5cdCAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuXHQgICAgICAgIHJldHVybiB0aGlzLnN0YXJ0RHQ7XG5cdCAgICAgIH0sXG5cdCAgICAgIHNldDogZnVuY3Rpb24gc2V0KHN0YXJ0RHQpIHtcblx0ICAgICAgICB2YXIgc3RhcnRUaW1lc3RhbXAgPSBwYXJzZUludChtb21lbnQoc3RhcnREdCwgJ0RELU1NLVlZWVknKS5mb3JtYXQoJ3gnKSksXG5cdCAgICAgICAgICAgIGFic29sdXRlU3RhcnQgPSB0aGlzLmdsb2JhbFJlYWN0aXZlTW9kZWwubW9kZWxbJ3gtYXhpcy1hYnNvbHV0ZS1yYW5nZS1zdGFydCddO1xuXHQgICAgICAgIGlmIChzdGFydFRpbWVzdGFtcCA8PSB0aGlzLmVuZER0ICYmIHN0YXJ0VGltZXN0YW1wID49IGFic29sdXRlU3RhcnQpIHtcblx0ICAgICAgICAgIHRoaXMuc3RhcnREdCA9IHN0YXJ0VGltZXN0YW1wO1xuXHQgICAgICAgICAgdGhpcy5nbG9iYWxSZWFjdGl2ZU1vZGVsLm1vZGVsWyd4LWF4aXMtdmlzaWJsZS1yYW5nZS1zdGFydCddID0gdGhpcy5zdGFydER0O1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAvLyB0aGlzLmZyb21EYXRlLnVwZGF0ZVZpc3VhbCgnZXJyb3JlZCcpO1xuXHQgICAgICAgICAgY29uc29sZS5lcnJvcignRnJvbSBEYXRlIGVycm9yIHN0YXRlIScpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICBrZXk6ICdlbmREYXRlJyxcblx0ICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMuZW5kRHQ7XG5cdCAgICAgIH0sXG5cdCAgICAgIHNldDogZnVuY3Rpb24gc2V0KGVuZER0KSB7XG5cdCAgICAgICAgdmFyIGVuZFRpbWVzdGFtcCA9IHBhcnNlSW50KG1vbWVudChlbmREdCwgJ0RELU1NLVlZWVknKS5mb3JtYXQoJ3gnKSksXG5cdCAgICAgICAgICAgIGFic29sdXRlRW5kID0gdGhpcy5nbG9iYWxSZWFjdGl2ZU1vZGVsLm1vZGVsWyd4LWF4aXMtYWJzb2x1dGUtcmFuZ2UtZW5kJ107XG5cdCAgICAgICAgaWYgKGVuZFRpbWVzdGFtcCA+PSB0aGlzLnN0YXJ0RHQgJiYgZW5kVGltZXN0YW1wIDw9IGFic29sdXRlRW5kKSB7XG5cdCAgICAgICAgICB0aGlzLmVuZER0ID0gZW5kVGltZXN0YW1wO1xuXHQgICAgICAgICAgdGhpcy5nbG9iYWxSZWFjdGl2ZU1vZGVsLm1vZGVsWyd4LWF4aXMtdmlzaWJsZS1yYW5nZS1lbmQnXSA9IHRoaXMuZW5kRHQ7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIC8vIHRoaXMudG9EYXRlLnVwZGF0ZVZpc3VhbCgnZXJyb3JlZCcpO1xuXHQgICAgICAgICAgY29uc29sZS5lcnJvcignVG8gRGF0ZSBlcnJvciBzdGF0ZSEnKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH1dKTtcblx0XG5cdCAgICByZXR1cm4gRGF0ZVJhbmdlO1xuXHQgIH0oKTtcblx0XG5cdCAgcmV0dXJuIERhdGVSYW5nZTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDMgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihtb2R1bGUpIHsvLyEgbW9tZW50LmpzXG5cdC8vISB2ZXJzaW9uIDogMi4xNy4wXG5cdC8vISBhdXRob3JzIDogVGltIFdvb2QsIElza3JlbiBDaGVybmV2LCBNb21lbnQuanMgY29udHJpYnV0b3JzXG5cdC8vISBsaWNlbnNlIDogTUlUXG5cdC8vISBtb21lbnRqcy5jb21cblx0XG5cdDsoZnVuY3Rpb24gKGdsb2JhbCwgZmFjdG9yeSkge1xuXHQgICAgIHRydWUgPyBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKSA6XG5cdCAgICB0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQgPyBkZWZpbmUoZmFjdG9yeSkgOlxuXHQgICAgZ2xvYmFsLm1vbWVudCA9IGZhY3RvcnkoKVxuXHR9KHRoaXMsIChmdW5jdGlvbiAoKSB7ICd1c2Ugc3RyaWN0Jztcblx0XG5cdHZhciBob29rQ2FsbGJhY2s7XG5cdFxuXHRmdW5jdGlvbiBob29rcyAoKSB7XG5cdCAgICByZXR1cm4gaG9va0NhbGxiYWNrLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG5cdH1cblx0XG5cdC8vIFRoaXMgaXMgZG9uZSB0byByZWdpc3RlciB0aGUgbWV0aG9kIGNhbGxlZCB3aXRoIG1vbWVudCgpXG5cdC8vIHdpdGhvdXQgY3JlYXRpbmcgY2lyY3VsYXIgZGVwZW5kZW5jaWVzLlxuXHRmdW5jdGlvbiBzZXRIb29rQ2FsbGJhY2sgKGNhbGxiYWNrKSB7XG5cdCAgICBob29rQ2FsbGJhY2sgPSBjYWxsYmFjaztcblx0fVxuXHRcblx0ZnVuY3Rpb24gaXNBcnJheShpbnB1dCkge1xuXHQgICAgcmV0dXJuIGlucHV0IGluc3RhbmNlb2YgQXJyYXkgfHwgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGlucHV0KSA9PT0gJ1tvYmplY3QgQXJyYXldJztcblx0fVxuXHRcblx0ZnVuY3Rpb24gaXNPYmplY3QoaW5wdXQpIHtcblx0ICAgIC8vIElFOCB3aWxsIHRyZWF0IHVuZGVmaW5lZCBhbmQgbnVsbCBhcyBvYmplY3QgaWYgaXQgd2Fzbid0IGZvclxuXHQgICAgLy8gaW5wdXQgIT0gbnVsbFxuXHQgICAgcmV0dXJuIGlucHV0ICE9IG51bGwgJiYgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGlucHV0KSA9PT0gJ1tvYmplY3QgT2JqZWN0XSc7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGlzT2JqZWN0RW1wdHkob2JqKSB7XG5cdCAgICB2YXIgaztcblx0ICAgIGZvciAoayBpbiBvYmopIHtcblx0ICAgICAgICAvLyBldmVuIGlmIGl0cyBub3Qgb3duIHByb3BlcnR5IEknZCBzdGlsbCBjYWxsIGl0IG5vbi1lbXB0eVxuXHQgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgIH1cblx0ICAgIHJldHVybiB0cnVlO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBpc051bWJlcihpbnB1dCkge1xuXHQgICAgcmV0dXJuIHR5cGVvZiBpbnB1dCA9PT0gJ251bWJlcicgfHwgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGlucHV0KSA9PT0gJ1tvYmplY3QgTnVtYmVyXSc7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGlzRGF0ZShpbnB1dCkge1xuXHQgICAgcmV0dXJuIGlucHV0IGluc3RhbmNlb2YgRGF0ZSB8fCBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoaW5wdXQpID09PSAnW29iamVjdCBEYXRlXSc7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIG1hcChhcnIsIGZuKSB7XG5cdCAgICB2YXIgcmVzID0gW10sIGk7XG5cdCAgICBmb3IgKGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgKytpKSB7XG5cdCAgICAgICAgcmVzLnB1c2goZm4oYXJyW2ldLCBpKSk7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gcmVzO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBoYXNPd25Qcm9wKGEsIGIpIHtcblx0ICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYSwgYik7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGV4dGVuZChhLCBiKSB7XG5cdCAgICBmb3IgKHZhciBpIGluIGIpIHtcblx0ICAgICAgICBpZiAoaGFzT3duUHJvcChiLCBpKSkge1xuXHQgICAgICAgICAgICBhW2ldID0gYltpXTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKGhhc093blByb3AoYiwgJ3RvU3RyaW5nJykpIHtcblx0ICAgICAgICBhLnRvU3RyaW5nID0gYi50b1N0cmluZztcblx0ICAgIH1cblx0XG5cdCAgICBpZiAoaGFzT3duUHJvcChiLCAndmFsdWVPZicpKSB7XG5cdCAgICAgICAgYS52YWx1ZU9mID0gYi52YWx1ZU9mO1xuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiBhO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBjcmVhdGVVVEMgKGlucHV0LCBmb3JtYXQsIGxvY2FsZSwgc3RyaWN0KSB7XG5cdCAgICByZXR1cm4gY3JlYXRlTG9jYWxPclVUQyhpbnB1dCwgZm9ybWF0LCBsb2NhbGUsIHN0cmljdCwgdHJ1ZSkudXRjKCk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGRlZmF1bHRQYXJzaW5nRmxhZ3MoKSB7XG5cdCAgICAvLyBXZSBuZWVkIHRvIGRlZXAgY2xvbmUgdGhpcyBvYmplY3QuXG5cdCAgICByZXR1cm4ge1xuXHQgICAgICAgIGVtcHR5ICAgICAgICAgICA6IGZhbHNlLFxuXHQgICAgICAgIHVudXNlZFRva2VucyAgICA6IFtdLFxuXHQgICAgICAgIHVudXNlZElucHV0ICAgICA6IFtdLFxuXHQgICAgICAgIG92ZXJmbG93ICAgICAgICA6IC0yLFxuXHQgICAgICAgIGNoYXJzTGVmdE92ZXIgICA6IDAsXG5cdCAgICAgICAgbnVsbElucHV0ICAgICAgIDogZmFsc2UsXG5cdCAgICAgICAgaW52YWxpZE1vbnRoICAgIDogbnVsbCxcblx0ICAgICAgICBpbnZhbGlkRm9ybWF0ICAgOiBmYWxzZSxcblx0ICAgICAgICB1c2VySW52YWxpZGF0ZWQgOiBmYWxzZSxcblx0ICAgICAgICBpc28gICAgICAgICAgICAgOiBmYWxzZSxcblx0ICAgICAgICBwYXJzZWREYXRlUGFydHMgOiBbXSxcblx0ICAgICAgICBtZXJpZGllbSAgICAgICAgOiBudWxsXG5cdCAgICB9O1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBnZXRQYXJzaW5nRmxhZ3MobSkge1xuXHQgICAgaWYgKG0uX3BmID09IG51bGwpIHtcblx0ICAgICAgICBtLl9wZiA9IGRlZmF1bHRQYXJzaW5nRmxhZ3MoKTtcblx0ICAgIH1cblx0ICAgIHJldHVybiBtLl9wZjtcblx0fVxuXHRcblx0dmFyIHNvbWU7XG5cdGlmIChBcnJheS5wcm90b3R5cGUuc29tZSkge1xuXHQgICAgc29tZSA9IEFycmF5LnByb3RvdHlwZS5zb21lO1xuXHR9IGVsc2Uge1xuXHQgICAgc29tZSA9IGZ1bmN0aW9uIChmdW4pIHtcblx0ICAgICAgICB2YXIgdCA9IE9iamVjdCh0aGlzKTtcblx0ICAgICAgICB2YXIgbGVuID0gdC5sZW5ndGggPj4+IDA7XG5cdFxuXHQgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcblx0ICAgICAgICAgICAgaWYgKGkgaW4gdCAmJiBmdW4uY2FsbCh0aGlzLCB0W2ldLCBpLCB0KSkge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgIH07XG5cdH1cblx0XG5cdHZhciBzb21lJDEgPSBzb21lO1xuXHRcblx0ZnVuY3Rpb24gaXNWYWxpZChtKSB7XG5cdCAgICBpZiAobS5faXNWYWxpZCA9PSBudWxsKSB7XG5cdCAgICAgICAgdmFyIGZsYWdzID0gZ2V0UGFyc2luZ0ZsYWdzKG0pO1xuXHQgICAgICAgIHZhciBwYXJzZWRQYXJ0cyA9IHNvbWUkMS5jYWxsKGZsYWdzLnBhcnNlZERhdGVQYXJ0cywgZnVuY3Rpb24gKGkpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIGkgIT0gbnVsbDtcblx0ICAgICAgICB9KTtcblx0ICAgICAgICB2YXIgaXNOb3dWYWxpZCA9ICFpc05hTihtLl9kLmdldFRpbWUoKSkgJiZcblx0ICAgICAgICAgICAgZmxhZ3Mub3ZlcmZsb3cgPCAwICYmXG5cdCAgICAgICAgICAgICFmbGFncy5lbXB0eSAmJlxuXHQgICAgICAgICAgICAhZmxhZ3MuaW52YWxpZE1vbnRoICYmXG5cdCAgICAgICAgICAgICFmbGFncy5pbnZhbGlkV2Vla2RheSAmJlxuXHQgICAgICAgICAgICAhZmxhZ3MubnVsbElucHV0ICYmXG5cdCAgICAgICAgICAgICFmbGFncy5pbnZhbGlkRm9ybWF0ICYmXG5cdCAgICAgICAgICAgICFmbGFncy51c2VySW52YWxpZGF0ZWQgJiZcblx0ICAgICAgICAgICAgKCFmbGFncy5tZXJpZGllbSB8fCAoZmxhZ3MubWVyaWRpZW0gJiYgcGFyc2VkUGFydHMpKTtcblx0XG5cdCAgICAgICAgaWYgKG0uX3N0cmljdCkge1xuXHQgICAgICAgICAgICBpc05vd1ZhbGlkID0gaXNOb3dWYWxpZCAmJlxuXHQgICAgICAgICAgICAgICAgZmxhZ3MuY2hhcnNMZWZ0T3ZlciA9PT0gMCAmJlxuXHQgICAgICAgICAgICAgICAgZmxhZ3MudW51c2VkVG9rZW5zLmxlbmd0aCA9PT0gMCAmJlxuXHQgICAgICAgICAgICAgICAgZmxhZ3MuYmlnSG91ciA9PT0gdW5kZWZpbmVkO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgaWYgKE9iamVjdC5pc0Zyb3plbiA9PSBudWxsIHx8ICFPYmplY3QuaXNGcm96ZW4obSkpIHtcblx0ICAgICAgICAgICAgbS5faXNWYWxpZCA9IGlzTm93VmFsaWQ7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGVsc2Uge1xuXHQgICAgICAgICAgICByZXR1cm4gaXNOb3dWYWxpZDtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdCAgICByZXR1cm4gbS5faXNWYWxpZDtcblx0fVxuXHRcblx0ZnVuY3Rpb24gY3JlYXRlSW52YWxpZCAoZmxhZ3MpIHtcblx0ICAgIHZhciBtID0gY3JlYXRlVVRDKE5hTik7XG5cdCAgICBpZiAoZmxhZ3MgIT0gbnVsbCkge1xuXHQgICAgICAgIGV4dGVuZChnZXRQYXJzaW5nRmxhZ3MobSksIGZsYWdzKTtcblx0ICAgIH1cblx0ICAgIGVsc2Uge1xuXHQgICAgICAgIGdldFBhcnNpbmdGbGFncyhtKS51c2VySW52YWxpZGF0ZWQgPSB0cnVlO1xuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiBtO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBpc1VuZGVmaW5lZChpbnB1dCkge1xuXHQgICAgcmV0dXJuIGlucHV0ID09PSB2b2lkIDA7XG5cdH1cblx0XG5cdC8vIFBsdWdpbnMgdGhhdCBhZGQgcHJvcGVydGllcyBzaG91bGQgYWxzbyBhZGQgdGhlIGtleSBoZXJlIChudWxsIHZhbHVlKSxcblx0Ly8gc28gd2UgY2FuIHByb3Blcmx5IGNsb25lIG91cnNlbHZlcy5cblx0dmFyIG1vbWVudFByb3BlcnRpZXMgPSBob29rcy5tb21lbnRQcm9wZXJ0aWVzID0gW107XG5cdFxuXHRmdW5jdGlvbiBjb3B5Q29uZmlnKHRvLCBmcm9tKSB7XG5cdCAgICB2YXIgaSwgcHJvcCwgdmFsO1xuXHRcblx0ICAgIGlmICghaXNVbmRlZmluZWQoZnJvbS5faXNBTW9tZW50T2JqZWN0KSkge1xuXHQgICAgICAgIHRvLl9pc0FNb21lbnRPYmplY3QgPSBmcm9tLl9pc0FNb21lbnRPYmplY3Q7XG5cdCAgICB9XG5cdCAgICBpZiAoIWlzVW5kZWZpbmVkKGZyb20uX2kpKSB7XG5cdCAgICAgICAgdG8uX2kgPSBmcm9tLl9pO1xuXHQgICAgfVxuXHQgICAgaWYgKCFpc1VuZGVmaW5lZChmcm9tLl9mKSkge1xuXHQgICAgICAgIHRvLl9mID0gZnJvbS5fZjtcblx0ICAgIH1cblx0ICAgIGlmICghaXNVbmRlZmluZWQoZnJvbS5fbCkpIHtcblx0ICAgICAgICB0by5fbCA9IGZyb20uX2w7XG5cdCAgICB9XG5cdCAgICBpZiAoIWlzVW5kZWZpbmVkKGZyb20uX3N0cmljdCkpIHtcblx0ICAgICAgICB0by5fc3RyaWN0ID0gZnJvbS5fc3RyaWN0O1xuXHQgICAgfVxuXHQgICAgaWYgKCFpc1VuZGVmaW5lZChmcm9tLl90em0pKSB7XG5cdCAgICAgICAgdG8uX3R6bSA9IGZyb20uX3R6bTtcblx0ICAgIH1cblx0ICAgIGlmICghaXNVbmRlZmluZWQoZnJvbS5faXNVVEMpKSB7XG5cdCAgICAgICAgdG8uX2lzVVRDID0gZnJvbS5faXNVVEM7XG5cdCAgICB9XG5cdCAgICBpZiAoIWlzVW5kZWZpbmVkKGZyb20uX29mZnNldCkpIHtcblx0ICAgICAgICB0by5fb2Zmc2V0ID0gZnJvbS5fb2Zmc2V0O1xuXHQgICAgfVxuXHQgICAgaWYgKCFpc1VuZGVmaW5lZChmcm9tLl9wZikpIHtcblx0ICAgICAgICB0by5fcGYgPSBnZXRQYXJzaW5nRmxhZ3MoZnJvbSk7XG5cdCAgICB9XG5cdCAgICBpZiAoIWlzVW5kZWZpbmVkKGZyb20uX2xvY2FsZSkpIHtcblx0ICAgICAgICB0by5fbG9jYWxlID0gZnJvbS5fbG9jYWxlO1xuXHQgICAgfVxuXHRcblx0ICAgIGlmIChtb21lbnRQcm9wZXJ0aWVzLmxlbmd0aCA+IDApIHtcblx0ICAgICAgICBmb3IgKGkgaW4gbW9tZW50UHJvcGVydGllcykge1xuXHQgICAgICAgICAgICBwcm9wID0gbW9tZW50UHJvcGVydGllc1tpXTtcblx0ICAgICAgICAgICAgdmFsID0gZnJvbVtwcm9wXTtcblx0ICAgICAgICAgICAgaWYgKCFpc1VuZGVmaW5lZCh2YWwpKSB7XG5cdCAgICAgICAgICAgICAgICB0b1twcm9wXSA9IHZhbDtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gdG87XG5cdH1cblx0XG5cdHZhciB1cGRhdGVJblByb2dyZXNzID0gZmFsc2U7XG5cdFxuXHQvLyBNb21lbnQgcHJvdG90eXBlIG9iamVjdFxuXHRmdW5jdGlvbiBNb21lbnQoY29uZmlnKSB7XG5cdCAgICBjb3B5Q29uZmlnKHRoaXMsIGNvbmZpZyk7XG5cdCAgICB0aGlzLl9kID0gbmV3IERhdGUoY29uZmlnLl9kICE9IG51bGwgPyBjb25maWcuX2QuZ2V0VGltZSgpIDogTmFOKTtcblx0ICAgIGlmICghdGhpcy5pc1ZhbGlkKCkpIHtcblx0ICAgICAgICB0aGlzLl9kID0gbmV3IERhdGUoTmFOKTtcblx0ICAgIH1cblx0ICAgIC8vIFByZXZlbnQgaW5maW5pdGUgbG9vcCBpbiBjYXNlIHVwZGF0ZU9mZnNldCBjcmVhdGVzIG5ldyBtb21lbnRcblx0ICAgIC8vIG9iamVjdHMuXG5cdCAgICBpZiAodXBkYXRlSW5Qcm9ncmVzcyA9PT0gZmFsc2UpIHtcblx0ICAgICAgICB1cGRhdGVJblByb2dyZXNzID0gdHJ1ZTtcblx0ICAgICAgICBob29rcy51cGRhdGVPZmZzZXQodGhpcyk7XG5cdCAgICAgICAgdXBkYXRlSW5Qcm9ncmVzcyA9IGZhbHNlO1xuXHQgICAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBpc01vbWVudCAob2JqKSB7XG5cdCAgICByZXR1cm4gb2JqIGluc3RhbmNlb2YgTW9tZW50IHx8IChvYmogIT0gbnVsbCAmJiBvYmouX2lzQU1vbWVudE9iamVjdCAhPSBudWxsKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gYWJzRmxvb3IgKG51bWJlcikge1xuXHQgICAgaWYgKG51bWJlciA8IDApIHtcblx0ICAgICAgICAvLyAtMCAtPiAwXG5cdCAgICAgICAgcmV0dXJuIE1hdGguY2VpbChudW1iZXIpIHx8IDA7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJldHVybiBNYXRoLmZsb29yKG51bWJlcik7XG5cdCAgICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHRvSW50KGFyZ3VtZW50Rm9yQ29lcmNpb24pIHtcblx0ICAgIHZhciBjb2VyY2VkTnVtYmVyID0gK2FyZ3VtZW50Rm9yQ29lcmNpb24sXG5cdCAgICAgICAgdmFsdWUgPSAwO1xuXHRcblx0ICAgIGlmIChjb2VyY2VkTnVtYmVyICE9PSAwICYmIGlzRmluaXRlKGNvZXJjZWROdW1iZXIpKSB7XG5cdCAgICAgICAgdmFsdWUgPSBhYnNGbG9vcihjb2VyY2VkTnVtYmVyKTtcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gdmFsdWU7XG5cdH1cblx0XG5cdC8vIGNvbXBhcmUgdHdvIGFycmF5cywgcmV0dXJuIHRoZSBudW1iZXIgb2YgZGlmZmVyZW5jZXNcblx0ZnVuY3Rpb24gY29tcGFyZUFycmF5cyhhcnJheTEsIGFycmF5MiwgZG9udENvbnZlcnQpIHtcblx0ICAgIHZhciBsZW4gPSBNYXRoLm1pbihhcnJheTEubGVuZ3RoLCBhcnJheTIubGVuZ3RoKSxcblx0ICAgICAgICBsZW5ndGhEaWZmID0gTWF0aC5hYnMoYXJyYXkxLmxlbmd0aCAtIGFycmF5Mi5sZW5ndGgpLFxuXHQgICAgICAgIGRpZmZzID0gMCxcblx0ICAgICAgICBpO1xuXHQgICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG5cdCAgICAgICAgaWYgKChkb250Q29udmVydCAmJiBhcnJheTFbaV0gIT09IGFycmF5MltpXSkgfHxcblx0ICAgICAgICAgICAgKCFkb250Q29udmVydCAmJiB0b0ludChhcnJheTFbaV0pICE9PSB0b0ludChhcnJheTJbaV0pKSkge1xuXHQgICAgICAgICAgICBkaWZmcysrO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0ICAgIHJldHVybiBkaWZmcyArIGxlbmd0aERpZmY7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHdhcm4obXNnKSB7XG5cdCAgICBpZiAoaG9va3Muc3VwcHJlc3NEZXByZWNhdGlvbldhcm5pbmdzID09PSBmYWxzZSAmJlxuXHQgICAgICAgICAgICAodHlwZW9mIGNvbnNvbGUgIT09ICAndW5kZWZpbmVkJykgJiYgY29uc29sZS53YXJuKSB7XG5cdCAgICAgICAgY29uc29sZS53YXJuKCdEZXByZWNhdGlvbiB3YXJuaW5nOiAnICsgbXNnKTtcblx0ICAgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gZGVwcmVjYXRlKG1zZywgZm4pIHtcblx0ICAgIHZhciBmaXJzdFRpbWUgPSB0cnVlO1xuXHRcblx0ICAgIHJldHVybiBleHRlbmQoZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIGlmIChob29rcy5kZXByZWNhdGlvbkhhbmRsZXIgIT0gbnVsbCkge1xuXHQgICAgICAgICAgICBob29rcy5kZXByZWNhdGlvbkhhbmRsZXIobnVsbCwgbXNnKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgaWYgKGZpcnN0VGltZSkge1xuXHQgICAgICAgICAgICB2YXIgYXJncyA9IFtdO1xuXHQgICAgICAgICAgICB2YXIgYXJnO1xuXHQgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgICAgICAgICAgYXJnID0gJyc7XG5cdCAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGFyZ3VtZW50c1tpXSA9PT0gJ29iamVjdCcpIHtcblx0ICAgICAgICAgICAgICAgICAgICBhcmcgKz0gJ1xcblsnICsgaSArICddICc7XG5cdCAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIGFyZ3VtZW50c1swXSkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBhcmcgKz0ga2V5ICsgJzogJyArIGFyZ3VtZW50c1swXVtrZXldICsgJywgJztcblx0ICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICAgICAgYXJnID0gYXJnLnNsaWNlKDAsIC0yKTsgLy8gUmVtb3ZlIHRyYWlsaW5nIGNvbW1hIGFuZCBzcGFjZVxuXHQgICAgICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgICAgICBhcmcgPSBhcmd1bWVudHNbaV07XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICBhcmdzLnB1c2goYXJnKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB3YXJuKG1zZyArICdcXG5Bcmd1bWVudHM6ICcgKyBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmdzKS5qb2luKCcnKSArICdcXG4nICsgKG5ldyBFcnJvcigpKS5zdGFjayk7XG5cdCAgICAgICAgICAgIGZpcnN0VGltZSA9IGZhbHNlO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0ICAgIH0sIGZuKTtcblx0fVxuXHRcblx0dmFyIGRlcHJlY2F0aW9ucyA9IHt9O1xuXHRcblx0ZnVuY3Rpb24gZGVwcmVjYXRlU2ltcGxlKG5hbWUsIG1zZykge1xuXHQgICAgaWYgKGhvb2tzLmRlcHJlY2F0aW9uSGFuZGxlciAhPSBudWxsKSB7XG5cdCAgICAgICAgaG9va3MuZGVwcmVjYXRpb25IYW5kbGVyKG5hbWUsIG1zZyk7XG5cdCAgICB9XG5cdCAgICBpZiAoIWRlcHJlY2F0aW9uc1tuYW1lXSkge1xuXHQgICAgICAgIHdhcm4obXNnKTtcblx0ICAgICAgICBkZXByZWNhdGlvbnNbbmFtZV0gPSB0cnVlO1xuXHQgICAgfVxuXHR9XG5cdFxuXHRob29rcy5zdXBwcmVzc0RlcHJlY2F0aW9uV2FybmluZ3MgPSBmYWxzZTtcblx0aG9va3MuZGVwcmVjYXRpb25IYW5kbGVyID0gbnVsbDtcblx0XG5cdGZ1bmN0aW9uIGlzRnVuY3Rpb24oaW5wdXQpIHtcblx0ICAgIHJldHVybiBpbnB1dCBpbnN0YW5jZW9mIEZ1bmN0aW9uIHx8IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChpbnB1dCkgPT09ICdbb2JqZWN0IEZ1bmN0aW9uXSc7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHNldCAoY29uZmlnKSB7XG5cdCAgICB2YXIgcHJvcCwgaTtcblx0ICAgIGZvciAoaSBpbiBjb25maWcpIHtcblx0ICAgICAgICBwcm9wID0gY29uZmlnW2ldO1xuXHQgICAgICAgIGlmIChpc0Z1bmN0aW9uKHByb3ApKSB7XG5cdCAgICAgICAgICAgIHRoaXNbaV0gPSBwcm9wO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIHRoaXNbJ18nICsgaV0gPSBwcm9wO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0ICAgIHRoaXMuX2NvbmZpZyA9IGNvbmZpZztcblx0ICAgIC8vIExlbmllbnQgb3JkaW5hbCBwYXJzaW5nIGFjY2VwdHMganVzdCBhIG51bWJlciBpbiBhZGRpdGlvbiB0b1xuXHQgICAgLy8gbnVtYmVyICsgKHBvc3NpYmx5KSBzdHVmZiBjb21pbmcgZnJvbSBfb3JkaW5hbFBhcnNlTGVuaWVudC5cblx0ICAgIHRoaXMuX29yZGluYWxQYXJzZUxlbmllbnQgPSBuZXcgUmVnRXhwKHRoaXMuX29yZGluYWxQYXJzZS5zb3VyY2UgKyAnfCcgKyAoL1xcZHsxLDJ9Lykuc291cmNlKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gbWVyZ2VDb25maWdzKHBhcmVudENvbmZpZywgY2hpbGRDb25maWcpIHtcblx0ICAgIHZhciByZXMgPSBleHRlbmQoe30sIHBhcmVudENvbmZpZyksIHByb3A7XG5cdCAgICBmb3IgKHByb3AgaW4gY2hpbGRDb25maWcpIHtcblx0ICAgICAgICBpZiAoaGFzT3duUHJvcChjaGlsZENvbmZpZywgcHJvcCkpIHtcblx0ICAgICAgICAgICAgaWYgKGlzT2JqZWN0KHBhcmVudENvbmZpZ1twcm9wXSkgJiYgaXNPYmplY3QoY2hpbGRDb25maWdbcHJvcF0pKSB7XG5cdCAgICAgICAgICAgICAgICByZXNbcHJvcF0gPSB7fTtcblx0ICAgICAgICAgICAgICAgIGV4dGVuZChyZXNbcHJvcF0sIHBhcmVudENvbmZpZ1twcm9wXSk7XG5cdCAgICAgICAgICAgICAgICBleHRlbmQocmVzW3Byb3BdLCBjaGlsZENvbmZpZ1twcm9wXSk7XG5cdCAgICAgICAgICAgIH0gZWxzZSBpZiAoY2hpbGRDb25maWdbcHJvcF0gIT0gbnVsbCkge1xuXHQgICAgICAgICAgICAgICAgcmVzW3Byb3BdID0gY2hpbGRDb25maWdbcHJvcF07XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICBkZWxldGUgcmVzW3Byb3BdO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHQgICAgZm9yIChwcm9wIGluIHBhcmVudENvbmZpZykge1xuXHQgICAgICAgIGlmIChoYXNPd25Qcm9wKHBhcmVudENvbmZpZywgcHJvcCkgJiZcblx0ICAgICAgICAgICAgICAgICFoYXNPd25Qcm9wKGNoaWxkQ29uZmlnLCBwcm9wKSAmJlxuXHQgICAgICAgICAgICAgICAgaXNPYmplY3QocGFyZW50Q29uZmlnW3Byb3BdKSkge1xuXHQgICAgICAgICAgICAvLyBtYWtlIHN1cmUgY2hhbmdlcyB0byBwcm9wZXJ0aWVzIGRvbid0IG1vZGlmeSBwYXJlbnQgY29uZmlnXG5cdCAgICAgICAgICAgIHJlc1twcm9wXSA9IGV4dGVuZCh7fSwgcmVzW3Byb3BdKTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdCAgICByZXR1cm4gcmVzO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBMb2NhbGUoY29uZmlnKSB7XG5cdCAgICBpZiAoY29uZmlnICE9IG51bGwpIHtcblx0ICAgICAgICB0aGlzLnNldChjb25maWcpO1xuXHQgICAgfVxuXHR9XG5cdFxuXHR2YXIga2V5cztcblx0XG5cdGlmIChPYmplY3Qua2V5cykge1xuXHQgICAga2V5cyA9IE9iamVjdC5rZXlzO1xuXHR9IGVsc2Uge1xuXHQgICAga2V5cyA9IGZ1bmN0aW9uIChvYmopIHtcblx0ICAgICAgICB2YXIgaSwgcmVzID0gW107XG5cdCAgICAgICAgZm9yIChpIGluIG9iaikge1xuXHQgICAgICAgICAgICBpZiAoaGFzT3duUHJvcChvYmosIGkpKSB7XG5cdCAgICAgICAgICAgICAgICByZXMucHVzaChpKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gcmVzO1xuXHQgICAgfTtcblx0fVxuXHRcblx0dmFyIGtleXMkMSA9IGtleXM7XG5cdFxuXHR2YXIgZGVmYXVsdENhbGVuZGFyID0ge1xuXHQgICAgc2FtZURheSA6ICdbVG9kYXkgYXRdIExUJyxcblx0ICAgIG5leHREYXkgOiAnW1RvbW9ycm93IGF0XSBMVCcsXG5cdCAgICBuZXh0V2VlayA6ICdkZGRkIFthdF0gTFQnLFxuXHQgICAgbGFzdERheSA6ICdbWWVzdGVyZGF5IGF0XSBMVCcsXG5cdCAgICBsYXN0V2VlayA6ICdbTGFzdF0gZGRkZCBbYXRdIExUJyxcblx0ICAgIHNhbWVFbHNlIDogJ0wnXG5cdH07XG5cdFxuXHRmdW5jdGlvbiBjYWxlbmRhciAoa2V5LCBtb20sIG5vdykge1xuXHQgICAgdmFyIG91dHB1dCA9IHRoaXMuX2NhbGVuZGFyW2tleV0gfHwgdGhpcy5fY2FsZW5kYXJbJ3NhbWVFbHNlJ107XG5cdCAgICByZXR1cm4gaXNGdW5jdGlvbihvdXRwdXQpID8gb3V0cHV0LmNhbGwobW9tLCBub3cpIDogb3V0cHV0O1xuXHR9XG5cdFxuXHR2YXIgZGVmYXVsdExvbmdEYXRlRm9ybWF0ID0ge1xuXHQgICAgTFRTICA6ICdoOm1tOnNzIEEnLFxuXHQgICAgTFQgICA6ICdoOm1tIEEnLFxuXHQgICAgTCAgICA6ICdNTS9ERC9ZWVlZJyxcblx0ICAgIExMICAgOiAnTU1NTSBELCBZWVlZJyxcblx0ICAgIExMTCAgOiAnTU1NTSBELCBZWVlZIGg6bW0gQScsXG5cdCAgICBMTExMIDogJ2RkZGQsIE1NTU0gRCwgWVlZWSBoOm1tIEEnXG5cdH07XG5cdFxuXHRmdW5jdGlvbiBsb25nRGF0ZUZvcm1hdCAoa2V5KSB7XG5cdCAgICB2YXIgZm9ybWF0ID0gdGhpcy5fbG9uZ0RhdGVGb3JtYXRba2V5XSxcblx0ICAgICAgICBmb3JtYXRVcHBlciA9IHRoaXMuX2xvbmdEYXRlRm9ybWF0W2tleS50b1VwcGVyQ2FzZSgpXTtcblx0XG5cdCAgICBpZiAoZm9ybWF0IHx8ICFmb3JtYXRVcHBlcikge1xuXHQgICAgICAgIHJldHVybiBmb3JtYXQ7XG5cdCAgICB9XG5cdFxuXHQgICAgdGhpcy5fbG9uZ0RhdGVGb3JtYXRba2V5XSA9IGZvcm1hdFVwcGVyLnJlcGxhY2UoL01NTU18TU18RER8ZGRkZC9nLCBmdW5jdGlvbiAodmFsKSB7XG5cdCAgICAgICAgcmV0dXJuIHZhbC5zbGljZSgxKTtcblx0ICAgIH0pO1xuXHRcblx0ICAgIHJldHVybiB0aGlzLl9sb25nRGF0ZUZvcm1hdFtrZXldO1xuXHR9XG5cdFxuXHR2YXIgZGVmYXVsdEludmFsaWREYXRlID0gJ0ludmFsaWQgZGF0ZSc7XG5cdFxuXHRmdW5jdGlvbiBpbnZhbGlkRGF0ZSAoKSB7XG5cdCAgICByZXR1cm4gdGhpcy5faW52YWxpZERhdGU7XG5cdH1cblx0XG5cdHZhciBkZWZhdWx0T3JkaW5hbCA9ICclZCc7XG5cdHZhciBkZWZhdWx0T3JkaW5hbFBhcnNlID0gL1xcZHsxLDJ9Lztcblx0XG5cdGZ1bmN0aW9uIG9yZGluYWwgKG51bWJlcikge1xuXHQgICAgcmV0dXJuIHRoaXMuX29yZGluYWwucmVwbGFjZSgnJWQnLCBudW1iZXIpO1xuXHR9XG5cdFxuXHR2YXIgZGVmYXVsdFJlbGF0aXZlVGltZSA9IHtcblx0ICAgIGZ1dHVyZSA6ICdpbiAlcycsXG5cdCAgICBwYXN0ICAgOiAnJXMgYWdvJyxcblx0ICAgIHMgIDogJ2EgZmV3IHNlY29uZHMnLFxuXHQgICAgbSAgOiAnYSBtaW51dGUnLFxuXHQgICAgbW0gOiAnJWQgbWludXRlcycsXG5cdCAgICBoICA6ICdhbiBob3VyJyxcblx0ICAgIGhoIDogJyVkIGhvdXJzJyxcblx0ICAgIGQgIDogJ2EgZGF5Jyxcblx0ICAgIGRkIDogJyVkIGRheXMnLFxuXHQgICAgTSAgOiAnYSBtb250aCcsXG5cdCAgICBNTSA6ICclZCBtb250aHMnLFxuXHQgICAgeSAgOiAnYSB5ZWFyJyxcblx0ICAgIHl5IDogJyVkIHllYXJzJ1xuXHR9O1xuXHRcblx0ZnVuY3Rpb24gcmVsYXRpdmVUaW1lIChudW1iZXIsIHdpdGhvdXRTdWZmaXgsIHN0cmluZywgaXNGdXR1cmUpIHtcblx0ICAgIHZhciBvdXRwdXQgPSB0aGlzLl9yZWxhdGl2ZVRpbWVbc3RyaW5nXTtcblx0ICAgIHJldHVybiAoaXNGdW5jdGlvbihvdXRwdXQpKSA/XG5cdCAgICAgICAgb3V0cHV0KG51bWJlciwgd2l0aG91dFN1ZmZpeCwgc3RyaW5nLCBpc0Z1dHVyZSkgOlxuXHQgICAgICAgIG91dHB1dC5yZXBsYWNlKC8lZC9pLCBudW1iZXIpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBwYXN0RnV0dXJlIChkaWZmLCBvdXRwdXQpIHtcblx0ICAgIHZhciBmb3JtYXQgPSB0aGlzLl9yZWxhdGl2ZVRpbWVbZGlmZiA+IDAgPyAnZnV0dXJlJyA6ICdwYXN0J107XG5cdCAgICByZXR1cm4gaXNGdW5jdGlvbihmb3JtYXQpID8gZm9ybWF0KG91dHB1dCkgOiBmb3JtYXQucmVwbGFjZSgvJXMvaSwgb3V0cHV0KTtcblx0fVxuXHRcblx0dmFyIGFsaWFzZXMgPSB7fTtcblx0XG5cdGZ1bmN0aW9uIGFkZFVuaXRBbGlhcyAodW5pdCwgc2hvcnRoYW5kKSB7XG5cdCAgICB2YXIgbG93ZXJDYXNlID0gdW5pdC50b0xvd2VyQ2FzZSgpO1xuXHQgICAgYWxpYXNlc1tsb3dlckNhc2VdID0gYWxpYXNlc1tsb3dlckNhc2UgKyAncyddID0gYWxpYXNlc1tzaG9ydGhhbmRdID0gdW5pdDtcblx0fVxuXHRcblx0ZnVuY3Rpb24gbm9ybWFsaXplVW5pdHModW5pdHMpIHtcblx0ICAgIHJldHVybiB0eXBlb2YgdW5pdHMgPT09ICdzdHJpbmcnID8gYWxpYXNlc1t1bml0c10gfHwgYWxpYXNlc1t1bml0cy50b0xvd2VyQ2FzZSgpXSA6IHVuZGVmaW5lZDtcblx0fVxuXHRcblx0ZnVuY3Rpb24gbm9ybWFsaXplT2JqZWN0VW5pdHMoaW5wdXRPYmplY3QpIHtcblx0ICAgIHZhciBub3JtYWxpemVkSW5wdXQgPSB7fSxcblx0ICAgICAgICBub3JtYWxpemVkUHJvcCxcblx0ICAgICAgICBwcm9wO1xuXHRcblx0ICAgIGZvciAocHJvcCBpbiBpbnB1dE9iamVjdCkge1xuXHQgICAgICAgIGlmIChoYXNPd25Qcm9wKGlucHV0T2JqZWN0LCBwcm9wKSkge1xuXHQgICAgICAgICAgICBub3JtYWxpemVkUHJvcCA9IG5vcm1hbGl6ZVVuaXRzKHByb3ApO1xuXHQgICAgICAgICAgICBpZiAobm9ybWFsaXplZFByb3ApIHtcblx0ICAgICAgICAgICAgICAgIG5vcm1hbGl6ZWRJbnB1dFtub3JtYWxpemVkUHJvcF0gPSBpbnB1dE9iamVjdFtwcm9wXTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gbm9ybWFsaXplZElucHV0O1xuXHR9XG5cdFxuXHR2YXIgcHJpb3JpdGllcyA9IHt9O1xuXHRcblx0ZnVuY3Rpb24gYWRkVW5pdFByaW9yaXR5KHVuaXQsIHByaW9yaXR5KSB7XG5cdCAgICBwcmlvcml0aWVzW3VuaXRdID0gcHJpb3JpdHk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGdldFByaW9yaXRpemVkVW5pdHModW5pdHNPYmopIHtcblx0ICAgIHZhciB1bml0cyA9IFtdO1xuXHQgICAgZm9yICh2YXIgdSBpbiB1bml0c09iaikge1xuXHQgICAgICAgIHVuaXRzLnB1c2goe3VuaXQ6IHUsIHByaW9yaXR5OiBwcmlvcml0aWVzW3VdfSk7XG5cdCAgICB9XG5cdCAgICB1bml0cy5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG5cdCAgICAgICAgcmV0dXJuIGEucHJpb3JpdHkgLSBiLnByaW9yaXR5O1xuXHQgICAgfSk7XG5cdCAgICByZXR1cm4gdW5pdHM7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIG1ha2VHZXRTZXQgKHVuaXQsIGtlZXBUaW1lKSB7XG5cdCAgICByZXR1cm4gZnVuY3Rpb24gKHZhbHVlKSB7XG5cdCAgICAgICAgaWYgKHZhbHVlICE9IG51bGwpIHtcblx0ICAgICAgICAgICAgc2V0JDEodGhpcywgdW5pdCwgdmFsdWUpO1xuXHQgICAgICAgICAgICBob29rcy51cGRhdGVPZmZzZXQodGhpcywga2VlcFRpbWUpO1xuXHQgICAgICAgICAgICByZXR1cm4gdGhpcztcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICByZXR1cm4gZ2V0KHRoaXMsIHVuaXQpO1xuXHQgICAgICAgIH1cblx0ICAgIH07XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGdldCAobW9tLCB1bml0KSB7XG5cdCAgICByZXR1cm4gbW9tLmlzVmFsaWQoKSA/XG5cdCAgICAgICAgbW9tLl9kWydnZXQnICsgKG1vbS5faXNVVEMgPyAnVVRDJyA6ICcnKSArIHVuaXRdKCkgOiBOYU47XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHNldCQxIChtb20sIHVuaXQsIHZhbHVlKSB7XG5cdCAgICBpZiAobW9tLmlzVmFsaWQoKSkge1xuXHQgICAgICAgIG1vbS5fZFsnc2V0JyArIChtb20uX2lzVVRDID8gJ1VUQycgOiAnJykgKyB1bml0XSh2YWx1ZSk7XG5cdCAgICB9XG5cdH1cblx0XG5cdC8vIE1PTUVOVFNcblx0XG5cdGZ1bmN0aW9uIHN0cmluZ0dldCAodW5pdHMpIHtcblx0ICAgIHVuaXRzID0gbm9ybWFsaXplVW5pdHModW5pdHMpO1xuXHQgICAgaWYgKGlzRnVuY3Rpb24odGhpc1t1bml0c10pKSB7XG5cdCAgICAgICAgcmV0dXJuIHRoaXNbdW5pdHNdKCk7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gdGhpcztcblx0fVxuXHRcblx0XG5cdGZ1bmN0aW9uIHN0cmluZ1NldCAodW5pdHMsIHZhbHVlKSB7XG5cdCAgICBpZiAodHlwZW9mIHVuaXRzID09PSAnb2JqZWN0Jykge1xuXHQgICAgICAgIHVuaXRzID0gbm9ybWFsaXplT2JqZWN0VW5pdHModW5pdHMpO1xuXHQgICAgICAgIHZhciBwcmlvcml0aXplZCA9IGdldFByaW9yaXRpemVkVW5pdHModW5pdHMpO1xuXHQgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJpb3JpdGl6ZWQubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICAgICAgdGhpc1twcmlvcml0aXplZFtpXS51bml0XSh1bml0c1twcmlvcml0aXplZFtpXS51bml0XSk7XG5cdCAgICAgICAgfVxuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICB1bml0cyA9IG5vcm1hbGl6ZVVuaXRzKHVuaXRzKTtcblx0ICAgICAgICBpZiAoaXNGdW5jdGlvbih0aGlzW3VuaXRzXSkpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXNbdW5pdHNdKHZhbHVlKTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdCAgICByZXR1cm4gdGhpcztcblx0fVxuXHRcblx0ZnVuY3Rpb24gemVyb0ZpbGwobnVtYmVyLCB0YXJnZXRMZW5ndGgsIGZvcmNlU2lnbikge1xuXHQgICAgdmFyIGFic051bWJlciA9ICcnICsgTWF0aC5hYnMobnVtYmVyKSxcblx0ICAgICAgICB6ZXJvc1RvRmlsbCA9IHRhcmdldExlbmd0aCAtIGFic051bWJlci5sZW5ndGgsXG5cdCAgICAgICAgc2lnbiA9IG51bWJlciA+PSAwO1xuXHQgICAgcmV0dXJuIChzaWduID8gKGZvcmNlU2lnbiA/ICcrJyA6ICcnKSA6ICctJykgK1xuXHQgICAgICAgIE1hdGgucG93KDEwLCBNYXRoLm1heCgwLCB6ZXJvc1RvRmlsbCkpLnRvU3RyaW5nKCkuc3Vic3RyKDEpICsgYWJzTnVtYmVyO1xuXHR9XG5cdFxuXHR2YXIgZm9ybWF0dGluZ1Rva2VucyA9IC8oXFxbW15cXFtdKlxcXSl8KFxcXFwpPyhbSGhdbW0oc3MpP3xNb3xNTT9NP00/fERvfERERG98REQ/RD9EP3xkZGQ/ZD98ZG8/fHdbb3x3XT98V1tvfFddP3xRbz98WVlZWVlZfFlZWVlZfFlZWVl8WVl8Z2coZ2dnPyk/fEdHKEdHRz8pP3xlfEV8YXxBfGhoP3xISD98a2s/fG1tP3xzcz98U3sxLDl9fHh8WHx6ej98Wlo/fC4pL2c7XG5cdFxuXHR2YXIgbG9jYWxGb3JtYXR0aW5nVG9rZW5zID0gLyhcXFtbXlxcW10qXFxdKXwoXFxcXCk/KExUU3xMVHxMTD9MP0w/fGx7MSw0fSkvZztcblx0XG5cdHZhciBmb3JtYXRGdW5jdGlvbnMgPSB7fTtcblx0XG5cdHZhciBmb3JtYXRUb2tlbkZ1bmN0aW9ucyA9IHt9O1xuXHRcblx0Ly8gdG9rZW46ICAgICdNJ1xuXHQvLyBwYWRkZWQ6ICAgWydNTScsIDJdXG5cdC8vIG9yZGluYWw6ICAnTW8nXG5cdC8vIGNhbGxiYWNrOiBmdW5jdGlvbiAoKSB7IHRoaXMubW9udGgoKSArIDEgfVxuXHRmdW5jdGlvbiBhZGRGb3JtYXRUb2tlbiAodG9rZW4sIHBhZGRlZCwgb3JkaW5hbCwgY2FsbGJhY2spIHtcblx0ICAgIHZhciBmdW5jID0gY2FsbGJhY2s7XG5cdCAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnc3RyaW5nJykge1xuXHQgICAgICAgIGZ1bmMgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzW2NhbGxiYWNrXSgpO1xuXHQgICAgICAgIH07XG5cdCAgICB9XG5cdCAgICBpZiAodG9rZW4pIHtcblx0ICAgICAgICBmb3JtYXRUb2tlbkZ1bmN0aW9uc1t0b2tlbl0gPSBmdW5jO1xuXHQgICAgfVxuXHQgICAgaWYgKHBhZGRlZCkge1xuXHQgICAgICAgIGZvcm1hdFRva2VuRnVuY3Rpb25zW3BhZGRlZFswXV0gPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgIHJldHVybiB6ZXJvRmlsbChmdW5jLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyksIHBhZGRlZFsxXSwgcGFkZGVkWzJdKTtcblx0ICAgICAgICB9O1xuXHQgICAgfVxuXHQgICAgaWYgKG9yZGluYWwpIHtcblx0ICAgICAgICBmb3JtYXRUb2tlbkZ1bmN0aW9uc1tvcmRpbmFsXSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLm9yZGluYWwoZnVuYy5hcHBseSh0aGlzLCBhcmd1bWVudHMpLCB0b2tlbik7XG5cdCAgICAgICAgfTtcblx0ICAgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gcmVtb3ZlRm9ybWF0dGluZ1Rva2VucyhpbnB1dCkge1xuXHQgICAgaWYgKGlucHV0Lm1hdGNoKC9cXFtbXFxzXFxTXS8pKSB7XG5cdCAgICAgICAgcmV0dXJuIGlucHV0LnJlcGxhY2UoL15cXFt8XFxdJC9nLCAnJyk7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gaW5wdXQucmVwbGFjZSgvXFxcXC9nLCAnJyk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIG1ha2VGb3JtYXRGdW5jdGlvbihmb3JtYXQpIHtcblx0ICAgIHZhciBhcnJheSA9IGZvcm1hdC5tYXRjaChmb3JtYXR0aW5nVG9rZW5zKSwgaSwgbGVuZ3RoO1xuXHRcblx0ICAgIGZvciAoaSA9IDAsIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgaWYgKGZvcm1hdFRva2VuRnVuY3Rpb25zW2FycmF5W2ldXSkge1xuXHQgICAgICAgICAgICBhcnJheVtpXSA9IGZvcm1hdFRva2VuRnVuY3Rpb25zW2FycmF5W2ldXTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICBhcnJheVtpXSA9IHJlbW92ZUZvcm1hdHRpbmdUb2tlbnMoYXJyYXlbaV0pO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gZnVuY3Rpb24gKG1vbSkge1xuXHQgICAgICAgIHZhciBvdXRwdXQgPSAnJywgaTtcblx0ICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICAgICAgb3V0cHV0ICs9IGFycmF5W2ldIGluc3RhbmNlb2YgRnVuY3Rpb24gPyBhcnJheVtpXS5jYWxsKG1vbSwgZm9ybWF0KSA6IGFycmF5W2ldO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gb3V0cHV0O1xuXHQgICAgfTtcblx0fVxuXHRcblx0Ly8gZm9ybWF0IGRhdGUgdXNpbmcgbmF0aXZlIGRhdGUgb2JqZWN0XG5cdGZ1bmN0aW9uIGZvcm1hdE1vbWVudChtLCBmb3JtYXQpIHtcblx0ICAgIGlmICghbS5pc1ZhbGlkKCkpIHtcblx0ICAgICAgICByZXR1cm4gbS5sb2NhbGVEYXRhKCkuaW52YWxpZERhdGUoKTtcblx0ICAgIH1cblx0XG5cdCAgICBmb3JtYXQgPSBleHBhbmRGb3JtYXQoZm9ybWF0LCBtLmxvY2FsZURhdGEoKSk7XG5cdCAgICBmb3JtYXRGdW5jdGlvbnNbZm9ybWF0XSA9IGZvcm1hdEZ1bmN0aW9uc1tmb3JtYXRdIHx8IG1ha2VGb3JtYXRGdW5jdGlvbihmb3JtYXQpO1xuXHRcblx0ICAgIHJldHVybiBmb3JtYXRGdW5jdGlvbnNbZm9ybWF0XShtKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gZXhwYW5kRm9ybWF0KGZvcm1hdCwgbG9jYWxlKSB7XG5cdCAgICB2YXIgaSA9IDU7XG5cdFxuXHQgICAgZnVuY3Rpb24gcmVwbGFjZUxvbmdEYXRlRm9ybWF0VG9rZW5zKGlucHV0KSB7XG5cdCAgICAgICAgcmV0dXJuIGxvY2FsZS5sb25nRGF0ZUZvcm1hdChpbnB1dCkgfHwgaW5wdXQ7XG5cdCAgICB9XG5cdFxuXHQgICAgbG9jYWxGb3JtYXR0aW5nVG9rZW5zLmxhc3RJbmRleCA9IDA7XG5cdCAgICB3aGlsZSAoaSA+PSAwICYmIGxvY2FsRm9ybWF0dGluZ1Rva2Vucy50ZXN0KGZvcm1hdCkpIHtcblx0ICAgICAgICBmb3JtYXQgPSBmb3JtYXQucmVwbGFjZShsb2NhbEZvcm1hdHRpbmdUb2tlbnMsIHJlcGxhY2VMb25nRGF0ZUZvcm1hdFRva2Vucyk7XG5cdCAgICAgICAgbG9jYWxGb3JtYXR0aW5nVG9rZW5zLmxhc3RJbmRleCA9IDA7XG5cdCAgICAgICAgaSAtPSAxO1xuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiBmb3JtYXQ7XG5cdH1cblx0XG5cdHZhciBtYXRjaDEgICAgICAgICA9IC9cXGQvOyAgICAgICAgICAgIC8vICAgICAgIDAgLSA5XG5cdHZhciBtYXRjaDIgICAgICAgICA9IC9cXGRcXGQvOyAgICAgICAgICAvLyAgICAgIDAwIC0gOTlcblx0dmFyIG1hdGNoMyAgICAgICAgID0gL1xcZHszfS87ICAgICAgICAgLy8gICAgIDAwMCAtIDk5OVxuXHR2YXIgbWF0Y2g0ICAgICAgICAgPSAvXFxkezR9LzsgICAgICAgICAvLyAgICAwMDAwIC0gOTk5OVxuXHR2YXIgbWF0Y2g2ICAgICAgICAgPSAvWystXT9cXGR7Nn0vOyAgICAvLyAtOTk5OTk5IC0gOTk5OTk5XG5cdHZhciBtYXRjaDF0bzIgICAgICA9IC9cXGRcXGQ/LzsgICAgICAgICAvLyAgICAgICAwIC0gOTlcblx0dmFyIG1hdGNoM3RvNCAgICAgID0gL1xcZFxcZFxcZFxcZD8vOyAgICAgLy8gICAgIDk5OSAtIDk5OTlcblx0dmFyIG1hdGNoNXRvNiAgICAgID0gL1xcZFxcZFxcZFxcZFxcZFxcZD8vOyAvLyAgIDk5OTk5IC0gOTk5OTk5XG5cdHZhciBtYXRjaDF0bzMgICAgICA9IC9cXGR7MSwzfS87ICAgICAgIC8vICAgICAgIDAgLSA5OTlcblx0dmFyIG1hdGNoMXRvNCAgICAgID0gL1xcZHsxLDR9LzsgICAgICAgLy8gICAgICAgMCAtIDk5OTlcblx0dmFyIG1hdGNoMXRvNiAgICAgID0gL1srLV0/XFxkezEsNn0vOyAgLy8gLTk5OTk5OSAtIDk5OTk5OVxuXHRcblx0dmFyIG1hdGNoVW5zaWduZWQgID0gL1xcZCsvOyAgICAgICAgICAgLy8gICAgICAgMCAtIGluZlxuXHR2YXIgbWF0Y2hTaWduZWQgICAgPSAvWystXT9cXGQrLzsgICAgICAvLyAgICAtaW5mIC0gaW5mXG5cdFxuXHR2YXIgbWF0Y2hPZmZzZXQgICAgPSAvWnxbKy1dXFxkXFxkOj9cXGRcXGQvZ2k7IC8vICswMDowMCAtMDA6MDAgKzAwMDAgLTAwMDAgb3IgWlxuXHR2YXIgbWF0Y2hTaG9ydE9mZnNldCA9IC9afFsrLV1cXGRcXGQoPzo6P1xcZFxcZCk/L2dpOyAvLyArMDAgLTAwICswMDowMCAtMDA6MDAgKzAwMDAgLTAwMDAgb3IgWlxuXHRcblx0dmFyIG1hdGNoVGltZXN0YW1wID0gL1srLV0/XFxkKyhcXC5cXGR7MSwzfSk/LzsgLy8gMTIzNDU2Nzg5IDEyMzQ1Njc4OS4xMjNcblx0XG5cdC8vIGFueSB3b3JkIChvciB0d28pIGNoYXJhY3RlcnMgb3IgbnVtYmVycyBpbmNsdWRpbmcgdHdvL3RocmVlIHdvcmQgbW9udGggaW4gYXJhYmljLlxuXHQvLyBpbmNsdWRlcyBzY290dGlzaCBnYWVsaWMgdHdvIHdvcmQgYW5kIGh5cGhlbmF0ZWQgbW9udGhzXG5cdHZhciBtYXRjaFdvcmQgPSAvWzAtOV0qWydhLXpcXHUwMEEwLVxcdTA1RkZcXHUwNzAwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdK3xbXFx1MDYwMC1cXHUwNkZGXFwvXSsoXFxzKj9bXFx1MDYwMC1cXHUwNkZGXSspezEsMn0vaTtcblx0XG5cdFxuXHR2YXIgcmVnZXhlcyA9IHt9O1xuXHRcblx0ZnVuY3Rpb24gYWRkUmVnZXhUb2tlbiAodG9rZW4sIHJlZ2V4LCBzdHJpY3RSZWdleCkge1xuXHQgICAgcmVnZXhlc1t0b2tlbl0gPSBpc0Z1bmN0aW9uKHJlZ2V4KSA/IHJlZ2V4IDogZnVuY3Rpb24gKGlzU3RyaWN0LCBsb2NhbGVEYXRhKSB7XG5cdCAgICAgICAgcmV0dXJuIChpc1N0cmljdCAmJiBzdHJpY3RSZWdleCkgPyBzdHJpY3RSZWdleCA6IHJlZ2V4O1xuXHQgICAgfTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gZ2V0UGFyc2VSZWdleEZvclRva2VuICh0b2tlbiwgY29uZmlnKSB7XG5cdCAgICBpZiAoIWhhc093blByb3AocmVnZXhlcywgdG9rZW4pKSB7XG5cdCAgICAgICAgcmV0dXJuIG5ldyBSZWdFeHAodW5lc2NhcGVGb3JtYXQodG9rZW4pKTtcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gcmVnZXhlc1t0b2tlbl0oY29uZmlnLl9zdHJpY3QsIGNvbmZpZy5fbG9jYWxlKTtcblx0fVxuXHRcblx0Ly8gQ29kZSBmcm9tIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMzU2MTQ5My9pcy10aGVyZS1hLXJlZ2V4cC1lc2NhcGUtZnVuY3Rpb24taW4tamF2YXNjcmlwdFxuXHRmdW5jdGlvbiB1bmVzY2FwZUZvcm1hdChzKSB7XG5cdCAgICByZXR1cm4gcmVnZXhFc2NhcGUocy5yZXBsYWNlKCdcXFxcJywgJycpLnJlcGxhY2UoL1xcXFwoXFxbKXxcXFxcKFxcXSl8XFxbKFteXFxdXFxbXSopXFxdfFxcXFwoLikvZywgZnVuY3Rpb24gKG1hdGNoZWQsIHAxLCBwMiwgcDMsIHA0KSB7XG5cdCAgICAgICAgcmV0dXJuIHAxIHx8IHAyIHx8IHAzIHx8IHA0O1xuXHQgICAgfSkpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiByZWdleEVzY2FwZShzKSB7XG5cdCAgICByZXR1cm4gcy5yZXBsYWNlKC9bLVxcL1xcXFxeJCorPy4oKXxbXFxde31dL2csICdcXFxcJCYnKTtcblx0fVxuXHRcblx0dmFyIHRva2VucyA9IHt9O1xuXHRcblx0ZnVuY3Rpb24gYWRkUGFyc2VUb2tlbiAodG9rZW4sIGNhbGxiYWNrKSB7XG5cdCAgICB2YXIgaSwgZnVuYyA9IGNhbGxiYWNrO1xuXHQgICAgaWYgKHR5cGVvZiB0b2tlbiA9PT0gJ3N0cmluZycpIHtcblx0ICAgICAgICB0b2tlbiA9IFt0b2tlbl07XG5cdCAgICB9XG5cdCAgICBpZiAoaXNOdW1iZXIoY2FsbGJhY2spKSB7XG5cdCAgICAgICAgZnVuYyA9IGZ1bmN0aW9uIChpbnB1dCwgYXJyYXkpIHtcblx0ICAgICAgICAgICAgYXJyYXlbY2FsbGJhY2tdID0gdG9JbnQoaW5wdXQpO1xuXHQgICAgICAgIH07XG5cdCAgICB9XG5cdCAgICBmb3IgKGkgPSAwOyBpIDwgdG9rZW4ubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICB0b2tlbnNbdG9rZW5baV1dID0gZnVuYztcblx0ICAgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gYWRkV2Vla1BhcnNlVG9rZW4gKHRva2VuLCBjYWxsYmFjaykge1xuXHQgICAgYWRkUGFyc2VUb2tlbih0b2tlbiwgZnVuY3Rpb24gKGlucHV0LCBhcnJheSwgY29uZmlnLCB0b2tlbikge1xuXHQgICAgICAgIGNvbmZpZy5fdyA9IGNvbmZpZy5fdyB8fCB7fTtcblx0ICAgICAgICBjYWxsYmFjayhpbnB1dCwgY29uZmlnLl93LCBjb25maWcsIHRva2VuKTtcblx0ICAgIH0pO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBhZGRUaW1lVG9BcnJheUZyb21Ub2tlbih0b2tlbiwgaW5wdXQsIGNvbmZpZykge1xuXHQgICAgaWYgKGlucHV0ICE9IG51bGwgJiYgaGFzT3duUHJvcCh0b2tlbnMsIHRva2VuKSkge1xuXHQgICAgICAgIHRva2Vuc1t0b2tlbl0oaW5wdXQsIGNvbmZpZy5fYSwgY29uZmlnLCB0b2tlbik7XG5cdCAgICB9XG5cdH1cblx0XG5cdHZhciBZRUFSID0gMDtcblx0dmFyIE1PTlRIID0gMTtcblx0dmFyIERBVEUgPSAyO1xuXHR2YXIgSE9VUiA9IDM7XG5cdHZhciBNSU5VVEUgPSA0O1xuXHR2YXIgU0VDT05EID0gNTtcblx0dmFyIE1JTExJU0VDT05EID0gNjtcblx0dmFyIFdFRUsgPSA3O1xuXHR2YXIgV0VFS0RBWSA9IDg7XG5cdFxuXHR2YXIgaW5kZXhPZjtcblx0XG5cdGlmIChBcnJheS5wcm90b3R5cGUuaW5kZXhPZikge1xuXHQgICAgaW5kZXhPZiA9IEFycmF5LnByb3RvdHlwZS5pbmRleE9mO1xuXHR9IGVsc2Uge1xuXHQgICAgaW5kZXhPZiA9IGZ1bmN0aW9uIChvKSB7XG5cdCAgICAgICAgLy8gSSBrbm93XG5cdCAgICAgICAgdmFyIGk7XG5cdCAgICAgICAgZm9yIChpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyArK2kpIHtcblx0ICAgICAgICAgICAgaWYgKHRoaXNbaV0gPT09IG8pIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiAtMTtcblx0ICAgIH07XG5cdH1cblx0XG5cdHZhciBpbmRleE9mJDEgPSBpbmRleE9mO1xuXHRcblx0ZnVuY3Rpb24gZGF5c0luTW9udGgoeWVhciwgbW9udGgpIHtcblx0ICAgIHJldHVybiBuZXcgRGF0ZShEYXRlLlVUQyh5ZWFyLCBtb250aCArIDEsIDApKS5nZXRVVENEYXRlKCk7XG5cdH1cblx0XG5cdC8vIEZPUk1BVFRJTkdcblx0XG5cdGFkZEZvcm1hdFRva2VuKCdNJywgWydNTScsIDJdLCAnTW8nLCBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gdGhpcy5tb250aCgpICsgMTtcblx0fSk7XG5cdFxuXHRhZGRGb3JtYXRUb2tlbignTU1NJywgMCwgMCwgZnVuY3Rpb24gKGZvcm1hdCkge1xuXHQgICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLm1vbnRoc1Nob3J0KHRoaXMsIGZvcm1hdCk7XG5cdH0pO1xuXHRcblx0YWRkRm9ybWF0VG9rZW4oJ01NTU0nLCAwLCAwLCBmdW5jdGlvbiAoZm9ybWF0KSB7XG5cdCAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkubW9udGhzKHRoaXMsIGZvcm1hdCk7XG5cdH0pO1xuXHRcblx0Ly8gQUxJQVNFU1xuXHRcblx0YWRkVW5pdEFsaWFzKCdtb250aCcsICdNJyk7XG5cdFxuXHQvLyBQUklPUklUWVxuXHRcblx0YWRkVW5pdFByaW9yaXR5KCdtb250aCcsIDgpO1xuXHRcblx0Ly8gUEFSU0lOR1xuXHRcblx0YWRkUmVnZXhUb2tlbignTScsICAgIG1hdGNoMXRvMik7XG5cdGFkZFJlZ2V4VG9rZW4oJ01NJywgICBtYXRjaDF0bzIsIG1hdGNoMik7XG5cdGFkZFJlZ2V4VG9rZW4oJ01NTScsICBmdW5jdGlvbiAoaXNTdHJpY3QsIGxvY2FsZSkge1xuXHQgICAgcmV0dXJuIGxvY2FsZS5tb250aHNTaG9ydFJlZ2V4KGlzU3RyaWN0KTtcblx0fSk7XG5cdGFkZFJlZ2V4VG9rZW4oJ01NTU0nLCBmdW5jdGlvbiAoaXNTdHJpY3QsIGxvY2FsZSkge1xuXHQgICAgcmV0dXJuIGxvY2FsZS5tb250aHNSZWdleChpc1N0cmljdCk7XG5cdH0pO1xuXHRcblx0YWRkUGFyc2VUb2tlbihbJ00nLCAnTU0nXSwgZnVuY3Rpb24gKGlucHV0LCBhcnJheSkge1xuXHQgICAgYXJyYXlbTU9OVEhdID0gdG9JbnQoaW5wdXQpIC0gMTtcblx0fSk7XG5cdFxuXHRhZGRQYXJzZVRva2VuKFsnTU1NJywgJ01NTU0nXSwgZnVuY3Rpb24gKGlucHV0LCBhcnJheSwgY29uZmlnLCB0b2tlbikge1xuXHQgICAgdmFyIG1vbnRoID0gY29uZmlnLl9sb2NhbGUubW9udGhzUGFyc2UoaW5wdXQsIHRva2VuLCBjb25maWcuX3N0cmljdCk7XG5cdCAgICAvLyBpZiB3ZSBkaWRuJ3QgZmluZCBhIG1vbnRoIG5hbWUsIG1hcmsgdGhlIGRhdGUgYXMgaW52YWxpZC5cblx0ICAgIGlmIChtb250aCAhPSBudWxsKSB7XG5cdCAgICAgICAgYXJyYXlbTU9OVEhdID0gbW9udGg7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmludmFsaWRNb250aCA9IGlucHV0O1xuXHQgICAgfVxuXHR9KTtcblx0XG5cdC8vIExPQ0FMRVNcblx0XG5cdHZhciBNT05USFNfSU5fRk9STUFUID0gL0Rbb0RdPyhcXFtbXlxcW1xcXV0qXFxdfFxccykrTU1NTT8vO1xuXHR2YXIgZGVmYXVsdExvY2FsZU1vbnRocyA9ICdKYW51YXJ5X0ZlYnJ1YXJ5X01hcmNoX0FwcmlsX01heV9KdW5lX0p1bHlfQXVndXN0X1NlcHRlbWJlcl9PY3RvYmVyX05vdmVtYmVyX0RlY2VtYmVyJy5zcGxpdCgnXycpO1xuXHRmdW5jdGlvbiBsb2NhbGVNb250aHMgKG0sIGZvcm1hdCkge1xuXHQgICAgaWYgKCFtKSB7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMuX21vbnRocztcblx0ICAgIH1cblx0ICAgIHJldHVybiBpc0FycmF5KHRoaXMuX21vbnRocykgPyB0aGlzLl9tb250aHNbbS5tb250aCgpXSA6XG5cdCAgICAgICAgdGhpcy5fbW9udGhzWyh0aGlzLl9tb250aHMuaXNGb3JtYXQgfHwgTU9OVEhTX0lOX0ZPUk1BVCkudGVzdChmb3JtYXQpID8gJ2Zvcm1hdCcgOiAnc3RhbmRhbG9uZSddW20ubW9udGgoKV07XG5cdH1cblx0XG5cdHZhciBkZWZhdWx0TG9jYWxlTW9udGhzU2hvcnQgPSAnSmFuX0ZlYl9NYXJfQXByX01heV9KdW5fSnVsX0F1Z19TZXBfT2N0X05vdl9EZWMnLnNwbGl0KCdfJyk7XG5cdGZ1bmN0aW9uIGxvY2FsZU1vbnRoc1Nob3J0IChtLCBmb3JtYXQpIHtcblx0ICAgIGlmICghbSkge1xuXHQgICAgICAgIHJldHVybiB0aGlzLl9tb250aHNTaG9ydDtcblx0ICAgIH1cblx0ICAgIHJldHVybiBpc0FycmF5KHRoaXMuX21vbnRoc1Nob3J0KSA/IHRoaXMuX21vbnRoc1Nob3J0W20ubW9udGgoKV0gOlxuXHQgICAgICAgIHRoaXMuX21vbnRoc1Nob3J0W01PTlRIU19JTl9GT1JNQVQudGVzdChmb3JtYXQpID8gJ2Zvcm1hdCcgOiAnc3RhbmRhbG9uZSddW20ubW9udGgoKV07XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGhhbmRsZVN0cmljdFBhcnNlKG1vbnRoTmFtZSwgZm9ybWF0LCBzdHJpY3QpIHtcblx0ICAgIHZhciBpLCBpaSwgbW9tLCBsbGMgPSBtb250aE5hbWUudG9Mb2NhbGVMb3dlckNhc2UoKTtcblx0ICAgIGlmICghdGhpcy5fbW9udGhzUGFyc2UpIHtcblx0ICAgICAgICAvLyB0aGlzIGlzIG5vdCB1c2VkXG5cdCAgICAgICAgdGhpcy5fbW9udGhzUGFyc2UgPSBbXTtcblx0ICAgICAgICB0aGlzLl9sb25nTW9udGhzUGFyc2UgPSBbXTtcblx0ICAgICAgICB0aGlzLl9zaG9ydE1vbnRoc1BhcnNlID0gW107XG5cdCAgICAgICAgZm9yIChpID0gMDsgaSA8IDEyOyArK2kpIHtcblx0ICAgICAgICAgICAgbW9tID0gY3JlYXRlVVRDKFsyMDAwLCBpXSk7XG5cdCAgICAgICAgICAgIHRoaXMuX3Nob3J0TW9udGhzUGFyc2VbaV0gPSB0aGlzLm1vbnRoc1Nob3J0KG1vbSwgJycpLnRvTG9jYWxlTG93ZXJDYXNlKCk7XG5cdCAgICAgICAgICAgIHRoaXMuX2xvbmdNb250aHNQYXJzZVtpXSA9IHRoaXMubW9udGhzKG1vbSwgJycpLnRvTG9jYWxlTG93ZXJDYXNlKCk7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIGlmIChzdHJpY3QpIHtcblx0ICAgICAgICBpZiAoZm9ybWF0ID09PSAnTU1NJykge1xuXHQgICAgICAgICAgICBpaSA9IGluZGV4T2YkMS5jYWxsKHRoaXMuX3Nob3J0TW9udGhzUGFyc2UsIGxsYyk7XG5cdCAgICAgICAgICAgIHJldHVybiBpaSAhPT0gLTEgPyBpaSA6IG51bGw7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgaWkgPSBpbmRleE9mJDEuY2FsbCh0aGlzLl9sb25nTW9udGhzUGFyc2UsIGxsYyk7XG5cdCAgICAgICAgICAgIHJldHVybiBpaSAhPT0gLTEgPyBpaSA6IG51bGw7XG5cdCAgICAgICAgfVxuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICBpZiAoZm9ybWF0ID09PSAnTU1NJykge1xuXHQgICAgICAgICAgICBpaSA9IGluZGV4T2YkMS5jYWxsKHRoaXMuX3Nob3J0TW9udGhzUGFyc2UsIGxsYyk7XG5cdCAgICAgICAgICAgIGlmIChpaSAhPT0gLTEpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBpaTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBpaSA9IGluZGV4T2YkMS5jYWxsKHRoaXMuX2xvbmdNb250aHNQYXJzZSwgbGxjKTtcblx0ICAgICAgICAgICAgcmV0dXJuIGlpICE9PSAtMSA/IGlpIDogbnVsbDtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICBpaSA9IGluZGV4T2YkMS5jYWxsKHRoaXMuX2xvbmdNb250aHNQYXJzZSwgbGxjKTtcblx0ICAgICAgICAgICAgaWYgKGlpICE9PSAtMSkge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIGlpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIGlpID0gaW5kZXhPZiQxLmNhbGwodGhpcy5fc2hvcnRNb250aHNQYXJzZSwgbGxjKTtcblx0ICAgICAgICAgICAgcmV0dXJuIGlpICE9PSAtMSA/IGlpIDogbnVsbDtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGxvY2FsZU1vbnRoc1BhcnNlIChtb250aE5hbWUsIGZvcm1hdCwgc3RyaWN0KSB7XG5cdCAgICB2YXIgaSwgbW9tLCByZWdleDtcblx0XG5cdCAgICBpZiAodGhpcy5fbW9udGhzUGFyc2VFeGFjdCkge1xuXHQgICAgICAgIHJldHVybiBoYW5kbGVTdHJpY3RQYXJzZS5jYWxsKHRoaXMsIG1vbnRoTmFtZSwgZm9ybWF0LCBzdHJpY3QpO1xuXHQgICAgfVxuXHRcblx0ICAgIGlmICghdGhpcy5fbW9udGhzUGFyc2UpIHtcblx0ICAgICAgICB0aGlzLl9tb250aHNQYXJzZSA9IFtdO1xuXHQgICAgICAgIHRoaXMuX2xvbmdNb250aHNQYXJzZSA9IFtdO1xuXHQgICAgICAgIHRoaXMuX3Nob3J0TW9udGhzUGFyc2UgPSBbXTtcblx0ICAgIH1cblx0XG5cdCAgICAvLyBUT0RPOiBhZGQgc29ydGluZ1xuXHQgICAgLy8gU29ydGluZyBtYWtlcyBzdXJlIGlmIG9uZSBtb250aCAob3IgYWJicikgaXMgYSBwcmVmaXggb2YgYW5vdGhlclxuXHQgICAgLy8gc2VlIHNvcnRpbmcgaW4gY29tcHV0ZU1vbnRoc1BhcnNlXG5cdCAgICBmb3IgKGkgPSAwOyBpIDwgMTI7IGkrKykge1xuXHQgICAgICAgIC8vIG1ha2UgdGhlIHJlZ2V4IGlmIHdlIGRvbid0IGhhdmUgaXQgYWxyZWFkeVxuXHQgICAgICAgIG1vbSA9IGNyZWF0ZVVUQyhbMjAwMCwgaV0pO1xuXHQgICAgICAgIGlmIChzdHJpY3QgJiYgIXRoaXMuX2xvbmdNb250aHNQYXJzZVtpXSkge1xuXHQgICAgICAgICAgICB0aGlzLl9sb25nTW9udGhzUGFyc2VbaV0gPSBuZXcgUmVnRXhwKCdeJyArIHRoaXMubW9udGhzKG1vbSwgJycpLnJlcGxhY2UoJy4nLCAnJykgKyAnJCcsICdpJyk7XG5cdCAgICAgICAgICAgIHRoaXMuX3Nob3J0TW9udGhzUGFyc2VbaV0gPSBuZXcgUmVnRXhwKCdeJyArIHRoaXMubW9udGhzU2hvcnQobW9tLCAnJykucmVwbGFjZSgnLicsICcnKSArICckJywgJ2knKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgaWYgKCFzdHJpY3QgJiYgIXRoaXMuX21vbnRoc1BhcnNlW2ldKSB7XG5cdCAgICAgICAgICAgIHJlZ2V4ID0gJ14nICsgdGhpcy5tb250aHMobW9tLCAnJykgKyAnfF4nICsgdGhpcy5tb250aHNTaG9ydChtb20sICcnKTtcblx0ICAgICAgICAgICAgdGhpcy5fbW9udGhzUGFyc2VbaV0gPSBuZXcgUmVnRXhwKHJlZ2V4LnJlcGxhY2UoJy4nLCAnJyksICdpJyk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIC8vIHRlc3QgdGhlIHJlZ2V4XG5cdCAgICAgICAgaWYgKHN0cmljdCAmJiBmb3JtYXQgPT09ICdNTU1NJyAmJiB0aGlzLl9sb25nTW9udGhzUGFyc2VbaV0udGVzdChtb250aE5hbWUpKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBpO1xuXHQgICAgICAgIH0gZWxzZSBpZiAoc3RyaWN0ICYmIGZvcm1hdCA9PT0gJ01NTScgJiYgdGhpcy5fc2hvcnRNb250aHNQYXJzZVtpXS50ZXN0KG1vbnRoTmFtZSkpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIGk7XG5cdCAgICAgICAgfSBlbHNlIGlmICghc3RyaWN0ICYmIHRoaXMuX21vbnRoc1BhcnNlW2ldLnRlc3QobW9udGhOYW1lKSkge1xuXHQgICAgICAgICAgICByZXR1cm4gaTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdH1cblx0XG5cdC8vIE1PTUVOVFNcblx0XG5cdGZ1bmN0aW9uIHNldE1vbnRoIChtb20sIHZhbHVlKSB7XG5cdCAgICB2YXIgZGF5T2ZNb250aDtcblx0XG5cdCAgICBpZiAoIW1vbS5pc1ZhbGlkKCkpIHtcblx0ICAgICAgICAvLyBObyBvcFxuXHQgICAgICAgIHJldHVybiBtb207XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcblx0ICAgICAgICBpZiAoL15cXGQrJC8udGVzdCh2YWx1ZSkpIHtcblx0ICAgICAgICAgICAgdmFsdWUgPSB0b0ludCh2YWx1ZSk7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgdmFsdWUgPSBtb20ubG9jYWxlRGF0YSgpLm1vbnRoc1BhcnNlKHZhbHVlKTtcblx0ICAgICAgICAgICAgLy8gVE9ETzogQW5vdGhlciBzaWxlbnQgZmFpbHVyZT9cblx0ICAgICAgICAgICAgaWYgKCFpc051bWJlcih2YWx1ZSkpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBtb207XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgZGF5T2ZNb250aCA9IE1hdGgubWluKG1vbS5kYXRlKCksIGRheXNJbk1vbnRoKG1vbS55ZWFyKCksIHZhbHVlKSk7XG5cdCAgICBtb20uX2RbJ3NldCcgKyAobW9tLl9pc1VUQyA/ICdVVEMnIDogJycpICsgJ01vbnRoJ10odmFsdWUsIGRheU9mTW9udGgpO1xuXHQgICAgcmV0dXJuIG1vbTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gZ2V0U2V0TW9udGggKHZhbHVlKSB7XG5cdCAgICBpZiAodmFsdWUgIT0gbnVsbCkge1xuXHQgICAgICAgIHNldE1vbnRoKHRoaXMsIHZhbHVlKTtcblx0ICAgICAgICBob29rcy51cGRhdGVPZmZzZXQodGhpcywgdHJ1ZSk7XG5cdCAgICAgICAgcmV0dXJuIHRoaXM7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJldHVybiBnZXQodGhpcywgJ01vbnRoJyk7XG5cdCAgICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGdldERheXNJbk1vbnRoICgpIHtcblx0ICAgIHJldHVybiBkYXlzSW5Nb250aCh0aGlzLnllYXIoKSwgdGhpcy5tb250aCgpKTtcblx0fVxuXHRcblx0dmFyIGRlZmF1bHRNb250aHNTaG9ydFJlZ2V4ID0gbWF0Y2hXb3JkO1xuXHRmdW5jdGlvbiBtb250aHNTaG9ydFJlZ2V4IChpc1N0cmljdCkge1xuXHQgICAgaWYgKHRoaXMuX21vbnRoc1BhcnNlRXhhY3QpIHtcblx0ICAgICAgICBpZiAoIWhhc093blByb3AodGhpcywgJ19tb250aHNSZWdleCcpKSB7XG5cdCAgICAgICAgICAgIGNvbXB1dGVNb250aHNQYXJzZS5jYWxsKHRoaXMpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAoaXNTdHJpY3QpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXMuX21vbnRoc1Nob3J0U3RyaWN0UmVnZXg7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXMuX21vbnRoc1Nob3J0UmVnZXg7XG5cdCAgICAgICAgfVxuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICBpZiAoIWhhc093blByb3AodGhpcywgJ19tb250aHNTaG9ydFJlZ2V4JykpIHtcblx0ICAgICAgICAgICAgdGhpcy5fbW9udGhzU2hvcnRSZWdleCA9IGRlZmF1bHRNb250aHNTaG9ydFJlZ2V4O1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gdGhpcy5fbW9udGhzU2hvcnRTdHJpY3RSZWdleCAmJiBpc1N0cmljdCA/XG5cdCAgICAgICAgICAgIHRoaXMuX21vbnRoc1Nob3J0U3RyaWN0UmVnZXggOiB0aGlzLl9tb250aHNTaG9ydFJlZ2V4O1xuXHQgICAgfVxuXHR9XG5cdFxuXHR2YXIgZGVmYXVsdE1vbnRoc1JlZ2V4ID0gbWF0Y2hXb3JkO1xuXHRmdW5jdGlvbiBtb250aHNSZWdleCAoaXNTdHJpY3QpIHtcblx0ICAgIGlmICh0aGlzLl9tb250aHNQYXJzZUV4YWN0KSB7XG5cdCAgICAgICAgaWYgKCFoYXNPd25Qcm9wKHRoaXMsICdfbW9udGhzUmVnZXgnKSkge1xuXHQgICAgICAgICAgICBjb21wdXRlTW9udGhzUGFyc2UuY2FsbCh0aGlzKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgaWYgKGlzU3RyaWN0KSB7XG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzLl9tb250aHNTdHJpY3RSZWdleDtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICByZXR1cm4gdGhpcy5fbW9udGhzUmVnZXg7XG5cdCAgICAgICAgfVxuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICBpZiAoIWhhc093blByb3AodGhpcywgJ19tb250aHNSZWdleCcpKSB7XG5cdCAgICAgICAgICAgIHRoaXMuX21vbnRoc1JlZ2V4ID0gZGVmYXVsdE1vbnRoc1JlZ2V4O1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gdGhpcy5fbW9udGhzU3RyaWN0UmVnZXggJiYgaXNTdHJpY3QgP1xuXHQgICAgICAgICAgICB0aGlzLl9tb250aHNTdHJpY3RSZWdleCA6IHRoaXMuX21vbnRoc1JlZ2V4O1xuXHQgICAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBjb21wdXRlTW9udGhzUGFyc2UgKCkge1xuXHQgICAgZnVuY3Rpb24gY21wTGVuUmV2KGEsIGIpIHtcblx0ICAgICAgICByZXR1cm4gYi5sZW5ndGggLSBhLmxlbmd0aDtcblx0ICAgIH1cblx0XG5cdCAgICB2YXIgc2hvcnRQaWVjZXMgPSBbXSwgbG9uZ1BpZWNlcyA9IFtdLCBtaXhlZFBpZWNlcyA9IFtdLFxuXHQgICAgICAgIGksIG1vbTtcblx0ICAgIGZvciAoaSA9IDA7IGkgPCAxMjsgaSsrKSB7XG5cdCAgICAgICAgLy8gbWFrZSB0aGUgcmVnZXggaWYgd2UgZG9uJ3QgaGF2ZSBpdCBhbHJlYWR5XG5cdCAgICAgICAgbW9tID0gY3JlYXRlVVRDKFsyMDAwLCBpXSk7XG5cdCAgICAgICAgc2hvcnRQaWVjZXMucHVzaCh0aGlzLm1vbnRoc1Nob3J0KG1vbSwgJycpKTtcblx0ICAgICAgICBsb25nUGllY2VzLnB1c2godGhpcy5tb250aHMobW9tLCAnJykpO1xuXHQgICAgICAgIG1peGVkUGllY2VzLnB1c2godGhpcy5tb250aHMobW9tLCAnJykpO1xuXHQgICAgICAgIG1peGVkUGllY2VzLnB1c2godGhpcy5tb250aHNTaG9ydChtb20sICcnKSk7XG5cdCAgICB9XG5cdCAgICAvLyBTb3J0aW5nIG1ha2VzIHN1cmUgaWYgb25lIG1vbnRoIChvciBhYmJyKSBpcyBhIHByZWZpeCBvZiBhbm90aGVyIGl0XG5cdCAgICAvLyB3aWxsIG1hdGNoIHRoZSBsb25nZXIgcGllY2UuXG5cdCAgICBzaG9ydFBpZWNlcy5zb3J0KGNtcExlblJldik7XG5cdCAgICBsb25nUGllY2VzLnNvcnQoY21wTGVuUmV2KTtcblx0ICAgIG1peGVkUGllY2VzLnNvcnQoY21wTGVuUmV2KTtcblx0ICAgIGZvciAoaSA9IDA7IGkgPCAxMjsgaSsrKSB7XG5cdCAgICAgICAgc2hvcnRQaWVjZXNbaV0gPSByZWdleEVzY2FwZShzaG9ydFBpZWNlc1tpXSk7XG5cdCAgICAgICAgbG9uZ1BpZWNlc1tpXSA9IHJlZ2V4RXNjYXBlKGxvbmdQaWVjZXNbaV0pO1xuXHQgICAgfVxuXHQgICAgZm9yIChpID0gMDsgaSA8IDI0OyBpKyspIHtcblx0ICAgICAgICBtaXhlZFBpZWNlc1tpXSA9IHJlZ2V4RXNjYXBlKG1peGVkUGllY2VzW2ldKTtcblx0ICAgIH1cblx0XG5cdCAgICB0aGlzLl9tb250aHNSZWdleCA9IG5ldyBSZWdFeHAoJ14oJyArIG1peGVkUGllY2VzLmpvaW4oJ3wnKSArICcpJywgJ2knKTtcblx0ICAgIHRoaXMuX21vbnRoc1Nob3J0UmVnZXggPSB0aGlzLl9tb250aHNSZWdleDtcblx0ICAgIHRoaXMuX21vbnRoc1N0cmljdFJlZ2V4ID0gbmV3IFJlZ0V4cCgnXignICsgbG9uZ1BpZWNlcy5qb2luKCd8JykgKyAnKScsICdpJyk7XG5cdCAgICB0aGlzLl9tb250aHNTaG9ydFN0cmljdFJlZ2V4ID0gbmV3IFJlZ0V4cCgnXignICsgc2hvcnRQaWVjZXMuam9pbignfCcpICsgJyknLCAnaScpO1xuXHR9XG5cdFxuXHQvLyBGT1JNQVRUSU5HXG5cdFxuXHRhZGRGb3JtYXRUb2tlbignWScsIDAsIDAsIGZ1bmN0aW9uICgpIHtcblx0ICAgIHZhciB5ID0gdGhpcy55ZWFyKCk7XG5cdCAgICByZXR1cm4geSA8PSA5OTk5ID8gJycgKyB5IDogJysnICsgeTtcblx0fSk7XG5cdFxuXHRhZGRGb3JtYXRUb2tlbigwLCBbJ1lZJywgMl0sIDAsIGZ1bmN0aW9uICgpIHtcblx0ICAgIHJldHVybiB0aGlzLnllYXIoKSAlIDEwMDtcblx0fSk7XG5cdFxuXHRhZGRGb3JtYXRUb2tlbigwLCBbJ1lZWVknLCAgIDRdLCAgICAgICAwLCAneWVhcicpO1xuXHRhZGRGb3JtYXRUb2tlbigwLCBbJ1lZWVlZJywgIDVdLCAgICAgICAwLCAneWVhcicpO1xuXHRhZGRGb3JtYXRUb2tlbigwLCBbJ1lZWVlZWScsIDYsIHRydWVdLCAwLCAneWVhcicpO1xuXHRcblx0Ly8gQUxJQVNFU1xuXHRcblx0YWRkVW5pdEFsaWFzKCd5ZWFyJywgJ3knKTtcblx0XG5cdC8vIFBSSU9SSVRJRVNcblx0XG5cdGFkZFVuaXRQcmlvcml0eSgneWVhcicsIDEpO1xuXHRcblx0Ly8gUEFSU0lOR1xuXHRcblx0YWRkUmVnZXhUb2tlbignWScsICAgICAgbWF0Y2hTaWduZWQpO1xuXHRhZGRSZWdleFRva2VuKCdZWScsICAgICBtYXRjaDF0bzIsIG1hdGNoMik7XG5cdGFkZFJlZ2V4VG9rZW4oJ1lZWVknLCAgIG1hdGNoMXRvNCwgbWF0Y2g0KTtcblx0YWRkUmVnZXhUb2tlbignWVlZWVknLCAgbWF0Y2gxdG82LCBtYXRjaDYpO1xuXHRhZGRSZWdleFRva2VuKCdZWVlZWVknLCBtYXRjaDF0bzYsIG1hdGNoNik7XG5cdFxuXHRhZGRQYXJzZVRva2VuKFsnWVlZWVknLCAnWVlZWVlZJ10sIFlFQVIpO1xuXHRhZGRQYXJzZVRva2VuKCdZWVlZJywgZnVuY3Rpb24gKGlucHV0LCBhcnJheSkge1xuXHQgICAgYXJyYXlbWUVBUl0gPSBpbnB1dC5sZW5ndGggPT09IDIgPyBob29rcy5wYXJzZVR3b0RpZ2l0WWVhcihpbnB1dCkgOiB0b0ludChpbnB1dCk7XG5cdH0pO1xuXHRhZGRQYXJzZVRva2VuKCdZWScsIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXkpIHtcblx0ICAgIGFycmF5W1lFQVJdID0gaG9va3MucGFyc2VUd29EaWdpdFllYXIoaW5wdXQpO1xuXHR9KTtcblx0YWRkUGFyc2VUb2tlbignWScsIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXkpIHtcblx0ICAgIGFycmF5W1lFQVJdID0gcGFyc2VJbnQoaW5wdXQsIDEwKTtcblx0fSk7XG5cdFxuXHQvLyBIRUxQRVJTXG5cdFxuXHRmdW5jdGlvbiBkYXlzSW5ZZWFyKHllYXIpIHtcblx0ICAgIHJldHVybiBpc0xlYXBZZWFyKHllYXIpID8gMzY2IDogMzY1O1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBpc0xlYXBZZWFyKHllYXIpIHtcblx0ICAgIHJldHVybiAoeWVhciAlIDQgPT09IDAgJiYgeWVhciAlIDEwMCAhPT0gMCkgfHwgeWVhciAlIDQwMCA9PT0gMDtcblx0fVxuXHRcblx0Ly8gSE9PS1Ncblx0XG5cdGhvb2tzLnBhcnNlVHdvRGlnaXRZZWFyID0gZnVuY3Rpb24gKGlucHV0KSB7XG5cdCAgICByZXR1cm4gdG9JbnQoaW5wdXQpICsgKHRvSW50KGlucHV0KSA+IDY4ID8gMTkwMCA6IDIwMDApO1xuXHR9O1xuXHRcblx0Ly8gTU9NRU5UU1xuXHRcblx0dmFyIGdldFNldFllYXIgPSBtYWtlR2V0U2V0KCdGdWxsWWVhcicsIHRydWUpO1xuXHRcblx0ZnVuY3Rpb24gZ2V0SXNMZWFwWWVhciAoKSB7XG5cdCAgICByZXR1cm4gaXNMZWFwWWVhcih0aGlzLnllYXIoKSk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGNyZWF0ZURhdGUgKHksIG0sIGQsIGgsIE0sIHMsIG1zKSB7XG5cdCAgICAvL2Nhbid0IGp1c3QgYXBwbHkoKSB0byBjcmVhdGUgYSBkYXRlOlxuXHQgICAgLy9odHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzE4MTM0OC9pbnN0YW50aWF0aW5nLWEtamF2YXNjcmlwdC1vYmplY3QtYnktY2FsbGluZy1wcm90b3R5cGUtY29uc3RydWN0b3ItYXBwbHlcblx0ICAgIHZhciBkYXRlID0gbmV3IERhdGUoeSwgbSwgZCwgaCwgTSwgcywgbXMpO1xuXHRcblx0ICAgIC8vdGhlIGRhdGUgY29uc3RydWN0b3IgcmVtYXBzIHllYXJzIDAtOTkgdG8gMTkwMC0xOTk5XG5cdCAgICBpZiAoeSA8IDEwMCAmJiB5ID49IDAgJiYgaXNGaW5pdGUoZGF0ZS5nZXRGdWxsWWVhcigpKSkge1xuXHQgICAgICAgIGRhdGUuc2V0RnVsbFllYXIoeSk7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gZGF0ZTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gY3JlYXRlVVRDRGF0ZSAoeSkge1xuXHQgICAgdmFyIGRhdGUgPSBuZXcgRGF0ZShEYXRlLlVUQy5hcHBseShudWxsLCBhcmd1bWVudHMpKTtcblx0XG5cdCAgICAvL3RoZSBEYXRlLlVUQyBmdW5jdGlvbiByZW1hcHMgeWVhcnMgMC05OSB0byAxOTAwLTE5OTlcblx0ICAgIGlmICh5IDwgMTAwICYmIHkgPj0gMCAmJiBpc0Zpbml0ZShkYXRlLmdldFVUQ0Z1bGxZZWFyKCkpKSB7XG5cdCAgICAgICAgZGF0ZS5zZXRVVENGdWxsWWVhcih5KTtcblx0ICAgIH1cblx0ICAgIHJldHVybiBkYXRlO1xuXHR9XG5cdFxuXHQvLyBzdGFydC1vZi1maXJzdC13ZWVrIC0gc3RhcnQtb2YteWVhclxuXHRmdW5jdGlvbiBmaXJzdFdlZWtPZmZzZXQoeWVhciwgZG93LCBkb3kpIHtcblx0ICAgIHZhciAvLyBmaXJzdC13ZWVrIGRheSAtLSB3aGljaCBqYW51YXJ5IGlzIGFsd2F5cyBpbiB0aGUgZmlyc3Qgd2VlayAoNCBmb3IgaXNvLCAxIGZvciBvdGhlcilcblx0ICAgICAgICBmd2QgPSA3ICsgZG93IC0gZG95LFxuXHQgICAgICAgIC8vIGZpcnN0LXdlZWsgZGF5IGxvY2FsIHdlZWtkYXkgLS0gd2hpY2ggbG9jYWwgd2Vla2RheSBpcyBmd2Rcblx0ICAgICAgICBmd2RsdyA9ICg3ICsgY3JlYXRlVVRDRGF0ZSh5ZWFyLCAwLCBmd2QpLmdldFVUQ0RheSgpIC0gZG93KSAlIDc7XG5cdFxuXHQgICAgcmV0dXJuIC1md2RsdyArIGZ3ZCAtIDE7XG5cdH1cblx0XG5cdC8vaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9JU09fd2Vla19kYXRlI0NhbGN1bGF0aW5nX2FfZGF0ZV9naXZlbl90aGVfeWVhci4yQ193ZWVrX251bWJlcl9hbmRfd2Vla2RheVxuXHRmdW5jdGlvbiBkYXlPZlllYXJGcm9tV2Vla3MoeWVhciwgd2Vlaywgd2Vla2RheSwgZG93LCBkb3kpIHtcblx0ICAgIHZhciBsb2NhbFdlZWtkYXkgPSAoNyArIHdlZWtkYXkgLSBkb3cpICUgNyxcblx0ICAgICAgICB3ZWVrT2Zmc2V0ID0gZmlyc3RXZWVrT2Zmc2V0KHllYXIsIGRvdywgZG95KSxcblx0ICAgICAgICBkYXlPZlllYXIgPSAxICsgNyAqICh3ZWVrIC0gMSkgKyBsb2NhbFdlZWtkYXkgKyB3ZWVrT2Zmc2V0LFxuXHQgICAgICAgIHJlc1llYXIsIHJlc0RheU9mWWVhcjtcblx0XG5cdCAgICBpZiAoZGF5T2ZZZWFyIDw9IDApIHtcblx0ICAgICAgICByZXNZZWFyID0geWVhciAtIDE7XG5cdCAgICAgICAgcmVzRGF5T2ZZZWFyID0gZGF5c0luWWVhcihyZXNZZWFyKSArIGRheU9mWWVhcjtcblx0ICAgIH0gZWxzZSBpZiAoZGF5T2ZZZWFyID4gZGF5c0luWWVhcih5ZWFyKSkge1xuXHQgICAgICAgIHJlc1llYXIgPSB5ZWFyICsgMTtcblx0ICAgICAgICByZXNEYXlPZlllYXIgPSBkYXlPZlllYXIgLSBkYXlzSW5ZZWFyKHllYXIpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXNZZWFyID0geWVhcjtcblx0ICAgICAgICByZXNEYXlPZlllYXIgPSBkYXlPZlllYXI7XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIHtcblx0ICAgICAgICB5ZWFyOiByZXNZZWFyLFxuXHQgICAgICAgIGRheU9mWWVhcjogcmVzRGF5T2ZZZWFyXG5cdCAgICB9O1xuXHR9XG5cdFxuXHRmdW5jdGlvbiB3ZWVrT2ZZZWFyKG1vbSwgZG93LCBkb3kpIHtcblx0ICAgIHZhciB3ZWVrT2Zmc2V0ID0gZmlyc3RXZWVrT2Zmc2V0KG1vbS55ZWFyKCksIGRvdywgZG95KSxcblx0ICAgICAgICB3ZWVrID0gTWF0aC5mbG9vcigobW9tLmRheU9mWWVhcigpIC0gd2Vla09mZnNldCAtIDEpIC8gNykgKyAxLFxuXHQgICAgICAgIHJlc1dlZWssIHJlc1llYXI7XG5cdFxuXHQgICAgaWYgKHdlZWsgPCAxKSB7XG5cdCAgICAgICAgcmVzWWVhciA9IG1vbS55ZWFyKCkgLSAxO1xuXHQgICAgICAgIHJlc1dlZWsgPSB3ZWVrICsgd2Vla3NJblllYXIocmVzWWVhciwgZG93LCBkb3kpO1xuXHQgICAgfSBlbHNlIGlmICh3ZWVrID4gd2Vla3NJblllYXIobW9tLnllYXIoKSwgZG93LCBkb3kpKSB7XG5cdCAgICAgICAgcmVzV2VlayA9IHdlZWsgLSB3ZWVrc0luWWVhcihtb20ueWVhcigpLCBkb3csIGRveSk7XG5cdCAgICAgICAgcmVzWWVhciA9IG1vbS55ZWFyKCkgKyAxO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXNZZWFyID0gbW9tLnllYXIoKTtcblx0ICAgICAgICByZXNXZWVrID0gd2Vlaztcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4ge1xuXHQgICAgICAgIHdlZWs6IHJlc1dlZWssXG5cdCAgICAgICAgeWVhcjogcmVzWWVhclxuXHQgICAgfTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gd2Vla3NJblllYXIoeWVhciwgZG93LCBkb3kpIHtcblx0ICAgIHZhciB3ZWVrT2Zmc2V0ID0gZmlyc3RXZWVrT2Zmc2V0KHllYXIsIGRvdywgZG95KSxcblx0ICAgICAgICB3ZWVrT2Zmc2V0TmV4dCA9IGZpcnN0V2Vla09mZnNldCh5ZWFyICsgMSwgZG93LCBkb3kpO1xuXHQgICAgcmV0dXJuIChkYXlzSW5ZZWFyKHllYXIpIC0gd2Vla09mZnNldCArIHdlZWtPZmZzZXROZXh0KSAvIDc7XG5cdH1cblx0XG5cdC8vIEZPUk1BVFRJTkdcblx0XG5cdGFkZEZvcm1hdFRva2VuKCd3JywgWyd3dycsIDJdLCAnd28nLCAnd2VlaycpO1xuXHRhZGRGb3JtYXRUb2tlbignVycsIFsnV1cnLCAyXSwgJ1dvJywgJ2lzb1dlZWsnKTtcblx0XG5cdC8vIEFMSUFTRVNcblx0XG5cdGFkZFVuaXRBbGlhcygnd2VlaycsICd3Jyk7XG5cdGFkZFVuaXRBbGlhcygnaXNvV2VlaycsICdXJyk7XG5cdFxuXHQvLyBQUklPUklUSUVTXG5cdFxuXHRhZGRVbml0UHJpb3JpdHkoJ3dlZWsnLCA1KTtcblx0YWRkVW5pdFByaW9yaXR5KCdpc29XZWVrJywgNSk7XG5cdFxuXHQvLyBQQVJTSU5HXG5cdFxuXHRhZGRSZWdleFRva2VuKCd3JywgIG1hdGNoMXRvMik7XG5cdGFkZFJlZ2V4VG9rZW4oJ3d3JywgbWF0Y2gxdG8yLCBtYXRjaDIpO1xuXHRhZGRSZWdleFRva2VuKCdXJywgIG1hdGNoMXRvMik7XG5cdGFkZFJlZ2V4VG9rZW4oJ1dXJywgbWF0Y2gxdG8yLCBtYXRjaDIpO1xuXHRcblx0YWRkV2Vla1BhcnNlVG9rZW4oWyd3JywgJ3d3JywgJ1cnLCAnV1cnXSwgZnVuY3Rpb24gKGlucHV0LCB3ZWVrLCBjb25maWcsIHRva2VuKSB7XG5cdCAgICB3ZWVrW3Rva2VuLnN1YnN0cigwLCAxKV0gPSB0b0ludChpbnB1dCk7XG5cdH0pO1xuXHRcblx0Ly8gSEVMUEVSU1xuXHRcblx0Ly8gTE9DQUxFU1xuXHRcblx0ZnVuY3Rpb24gbG9jYWxlV2VlayAobW9tKSB7XG5cdCAgICByZXR1cm4gd2Vla09mWWVhcihtb20sIHRoaXMuX3dlZWsuZG93LCB0aGlzLl93ZWVrLmRveSkud2Vlaztcblx0fVxuXHRcblx0dmFyIGRlZmF1bHRMb2NhbGVXZWVrID0ge1xuXHQgICAgZG93IDogMCwgLy8gU3VuZGF5IGlzIHRoZSBmaXJzdCBkYXkgb2YgdGhlIHdlZWsuXG5cdCAgICBkb3kgOiA2ICAvLyBUaGUgd2VlayB0aGF0IGNvbnRhaW5zIEphbiAxc3QgaXMgdGhlIGZpcnN0IHdlZWsgb2YgdGhlIHllYXIuXG5cdH07XG5cdFxuXHRmdW5jdGlvbiBsb2NhbGVGaXJzdERheU9mV2VlayAoKSB7XG5cdCAgICByZXR1cm4gdGhpcy5fd2Vlay5kb3c7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGxvY2FsZUZpcnN0RGF5T2ZZZWFyICgpIHtcblx0ICAgIHJldHVybiB0aGlzLl93ZWVrLmRveTtcblx0fVxuXHRcblx0Ly8gTU9NRU5UU1xuXHRcblx0ZnVuY3Rpb24gZ2V0U2V0V2VlayAoaW5wdXQpIHtcblx0ICAgIHZhciB3ZWVrID0gdGhpcy5sb2NhbGVEYXRhKCkud2Vlayh0aGlzKTtcblx0ICAgIHJldHVybiBpbnB1dCA9PSBudWxsID8gd2VlayA6IHRoaXMuYWRkKChpbnB1dCAtIHdlZWspICogNywgJ2QnKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gZ2V0U2V0SVNPV2VlayAoaW5wdXQpIHtcblx0ICAgIHZhciB3ZWVrID0gd2Vla09mWWVhcih0aGlzLCAxLCA0KS53ZWVrO1xuXHQgICAgcmV0dXJuIGlucHV0ID09IG51bGwgPyB3ZWVrIDogdGhpcy5hZGQoKGlucHV0IC0gd2VlaykgKiA3LCAnZCcpO1xuXHR9XG5cdFxuXHQvLyBGT1JNQVRUSU5HXG5cdFxuXHRhZGRGb3JtYXRUb2tlbignZCcsIDAsICdkbycsICdkYXknKTtcblx0XG5cdGFkZEZvcm1hdFRva2VuKCdkZCcsIDAsIDAsIGZ1bmN0aW9uIChmb3JtYXQpIHtcblx0ICAgIHJldHVybiB0aGlzLmxvY2FsZURhdGEoKS53ZWVrZGF5c01pbih0aGlzLCBmb3JtYXQpO1xuXHR9KTtcblx0XG5cdGFkZEZvcm1hdFRva2VuKCdkZGQnLCAwLCAwLCBmdW5jdGlvbiAoZm9ybWF0KSB7XG5cdCAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkud2Vla2RheXNTaG9ydCh0aGlzLCBmb3JtYXQpO1xuXHR9KTtcblx0XG5cdGFkZEZvcm1hdFRva2VuKCdkZGRkJywgMCwgMCwgZnVuY3Rpb24gKGZvcm1hdCkge1xuXHQgICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLndlZWtkYXlzKHRoaXMsIGZvcm1hdCk7XG5cdH0pO1xuXHRcblx0YWRkRm9ybWF0VG9rZW4oJ2UnLCAwLCAwLCAnd2Vla2RheScpO1xuXHRhZGRGb3JtYXRUb2tlbignRScsIDAsIDAsICdpc29XZWVrZGF5Jyk7XG5cdFxuXHQvLyBBTElBU0VTXG5cdFxuXHRhZGRVbml0QWxpYXMoJ2RheScsICdkJyk7XG5cdGFkZFVuaXRBbGlhcygnd2Vla2RheScsICdlJyk7XG5cdGFkZFVuaXRBbGlhcygnaXNvV2Vla2RheScsICdFJyk7XG5cdFxuXHQvLyBQUklPUklUWVxuXHRhZGRVbml0UHJpb3JpdHkoJ2RheScsIDExKTtcblx0YWRkVW5pdFByaW9yaXR5KCd3ZWVrZGF5JywgMTEpO1xuXHRhZGRVbml0UHJpb3JpdHkoJ2lzb1dlZWtkYXknLCAxMSk7XG5cdFxuXHQvLyBQQVJTSU5HXG5cdFxuXHRhZGRSZWdleFRva2VuKCdkJywgICAgbWF0Y2gxdG8yKTtcblx0YWRkUmVnZXhUb2tlbignZScsICAgIG1hdGNoMXRvMik7XG5cdGFkZFJlZ2V4VG9rZW4oJ0UnLCAgICBtYXRjaDF0bzIpO1xuXHRhZGRSZWdleFRva2VuKCdkZCcsICAgZnVuY3Rpb24gKGlzU3RyaWN0LCBsb2NhbGUpIHtcblx0ICAgIHJldHVybiBsb2NhbGUud2Vla2RheXNNaW5SZWdleChpc1N0cmljdCk7XG5cdH0pO1xuXHRhZGRSZWdleFRva2VuKCdkZGQnLCAgIGZ1bmN0aW9uIChpc1N0cmljdCwgbG9jYWxlKSB7XG5cdCAgICByZXR1cm4gbG9jYWxlLndlZWtkYXlzU2hvcnRSZWdleChpc1N0cmljdCk7XG5cdH0pO1xuXHRhZGRSZWdleFRva2VuKCdkZGRkJywgICBmdW5jdGlvbiAoaXNTdHJpY3QsIGxvY2FsZSkge1xuXHQgICAgcmV0dXJuIGxvY2FsZS53ZWVrZGF5c1JlZ2V4KGlzU3RyaWN0KTtcblx0fSk7XG5cdFxuXHRhZGRXZWVrUGFyc2VUb2tlbihbJ2RkJywgJ2RkZCcsICdkZGRkJ10sIGZ1bmN0aW9uIChpbnB1dCwgd2VlaywgY29uZmlnLCB0b2tlbikge1xuXHQgICAgdmFyIHdlZWtkYXkgPSBjb25maWcuX2xvY2FsZS53ZWVrZGF5c1BhcnNlKGlucHV0LCB0b2tlbiwgY29uZmlnLl9zdHJpY3QpO1xuXHQgICAgLy8gaWYgd2UgZGlkbid0IGdldCBhIHdlZWtkYXkgbmFtZSwgbWFyayB0aGUgZGF0ZSBhcyBpbnZhbGlkXG5cdCAgICBpZiAod2Vla2RheSAhPSBudWxsKSB7XG5cdCAgICAgICAgd2Vlay5kID0gd2Vla2RheTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuaW52YWxpZFdlZWtkYXkgPSBpbnB1dDtcblx0ICAgIH1cblx0fSk7XG5cdFxuXHRhZGRXZWVrUGFyc2VUb2tlbihbJ2QnLCAnZScsICdFJ10sIGZ1bmN0aW9uIChpbnB1dCwgd2VlaywgY29uZmlnLCB0b2tlbikge1xuXHQgICAgd2Vla1t0b2tlbl0gPSB0b0ludChpbnB1dCk7XG5cdH0pO1xuXHRcblx0Ly8gSEVMUEVSU1xuXHRcblx0ZnVuY3Rpb24gcGFyc2VXZWVrZGF5KGlucHV0LCBsb2NhbGUpIHtcblx0ICAgIGlmICh0eXBlb2YgaW5wdXQgIT09ICdzdHJpbmcnKSB7XG5cdCAgICAgICAgcmV0dXJuIGlucHV0O1xuXHQgICAgfVxuXHRcblx0ICAgIGlmICghaXNOYU4oaW5wdXQpKSB7XG5cdCAgICAgICAgcmV0dXJuIHBhcnNlSW50KGlucHV0LCAxMCk7XG5cdCAgICB9XG5cdFxuXHQgICAgaW5wdXQgPSBsb2NhbGUud2Vla2RheXNQYXJzZShpbnB1dCk7XG5cdCAgICBpZiAodHlwZW9mIGlucHV0ID09PSAnbnVtYmVyJykge1xuXHQgICAgICAgIHJldHVybiBpbnB1dDtcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gbnVsbDtcblx0fVxuXHRcblx0ZnVuY3Rpb24gcGFyc2VJc29XZWVrZGF5KGlucHV0LCBsb2NhbGUpIHtcblx0ICAgIGlmICh0eXBlb2YgaW5wdXQgPT09ICdzdHJpbmcnKSB7XG5cdCAgICAgICAgcmV0dXJuIGxvY2FsZS53ZWVrZGF5c1BhcnNlKGlucHV0KSAlIDcgfHwgNztcblx0ICAgIH1cblx0ICAgIHJldHVybiBpc05hTihpbnB1dCkgPyBudWxsIDogaW5wdXQ7XG5cdH1cblx0XG5cdC8vIExPQ0FMRVNcblx0XG5cdHZhciBkZWZhdWx0TG9jYWxlV2Vla2RheXMgPSAnU3VuZGF5X01vbmRheV9UdWVzZGF5X1dlZG5lc2RheV9UaHVyc2RheV9GcmlkYXlfU2F0dXJkYXknLnNwbGl0KCdfJyk7XG5cdGZ1bmN0aW9uIGxvY2FsZVdlZWtkYXlzIChtLCBmb3JtYXQpIHtcblx0ICAgIGlmICghbSkge1xuXHQgICAgICAgIHJldHVybiB0aGlzLl93ZWVrZGF5cztcblx0ICAgIH1cblx0ICAgIHJldHVybiBpc0FycmF5KHRoaXMuX3dlZWtkYXlzKSA/IHRoaXMuX3dlZWtkYXlzW20uZGF5KCldIDpcblx0ICAgICAgICB0aGlzLl93ZWVrZGF5c1t0aGlzLl93ZWVrZGF5cy5pc0Zvcm1hdC50ZXN0KGZvcm1hdCkgPyAnZm9ybWF0JyA6ICdzdGFuZGFsb25lJ11bbS5kYXkoKV07XG5cdH1cblx0XG5cdHZhciBkZWZhdWx0TG9jYWxlV2Vla2RheXNTaG9ydCA9ICdTdW5fTW9uX1R1ZV9XZWRfVGh1X0ZyaV9TYXQnLnNwbGl0KCdfJyk7XG5cdGZ1bmN0aW9uIGxvY2FsZVdlZWtkYXlzU2hvcnQgKG0pIHtcblx0ICAgIHJldHVybiAobSkgPyB0aGlzLl93ZWVrZGF5c1Nob3J0W20uZGF5KCldIDogdGhpcy5fd2Vla2RheXNTaG9ydDtcblx0fVxuXHRcblx0dmFyIGRlZmF1bHRMb2NhbGVXZWVrZGF5c01pbiA9ICdTdV9Nb19UdV9XZV9UaF9Gcl9TYScuc3BsaXQoJ18nKTtcblx0ZnVuY3Rpb24gbG9jYWxlV2Vla2RheXNNaW4gKG0pIHtcblx0ICAgIHJldHVybiAobSkgPyB0aGlzLl93ZWVrZGF5c01pblttLmRheSgpXSA6IHRoaXMuX3dlZWtkYXlzTWluO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBoYW5kbGVTdHJpY3RQYXJzZSQxKHdlZWtkYXlOYW1lLCBmb3JtYXQsIHN0cmljdCkge1xuXHQgICAgdmFyIGksIGlpLCBtb20sIGxsYyA9IHdlZWtkYXlOYW1lLnRvTG9jYWxlTG93ZXJDYXNlKCk7XG5cdCAgICBpZiAoIXRoaXMuX3dlZWtkYXlzUGFyc2UpIHtcblx0ICAgICAgICB0aGlzLl93ZWVrZGF5c1BhcnNlID0gW107XG5cdCAgICAgICAgdGhpcy5fc2hvcnRXZWVrZGF5c1BhcnNlID0gW107XG5cdCAgICAgICAgdGhpcy5fbWluV2Vla2RheXNQYXJzZSA9IFtdO1xuXHRcblx0ICAgICAgICBmb3IgKGkgPSAwOyBpIDwgNzsgKytpKSB7XG5cdCAgICAgICAgICAgIG1vbSA9IGNyZWF0ZVVUQyhbMjAwMCwgMV0pLmRheShpKTtcblx0ICAgICAgICAgICAgdGhpcy5fbWluV2Vla2RheXNQYXJzZVtpXSA9IHRoaXMud2Vla2RheXNNaW4obW9tLCAnJykudG9Mb2NhbGVMb3dlckNhc2UoKTtcblx0ICAgICAgICAgICAgdGhpcy5fc2hvcnRXZWVrZGF5c1BhcnNlW2ldID0gdGhpcy53ZWVrZGF5c1Nob3J0KG1vbSwgJycpLnRvTG9jYWxlTG93ZXJDYXNlKCk7XG5cdCAgICAgICAgICAgIHRoaXMuX3dlZWtkYXlzUGFyc2VbaV0gPSB0aGlzLndlZWtkYXlzKG1vbSwgJycpLnRvTG9jYWxlTG93ZXJDYXNlKCk7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIGlmIChzdHJpY3QpIHtcblx0ICAgICAgICBpZiAoZm9ybWF0ID09PSAnZGRkZCcpIHtcblx0ICAgICAgICAgICAgaWkgPSBpbmRleE9mJDEuY2FsbCh0aGlzLl93ZWVrZGF5c1BhcnNlLCBsbGMpO1xuXHQgICAgICAgICAgICByZXR1cm4gaWkgIT09IC0xID8gaWkgOiBudWxsO1xuXHQgICAgICAgIH0gZWxzZSBpZiAoZm9ybWF0ID09PSAnZGRkJykge1xuXHQgICAgICAgICAgICBpaSA9IGluZGV4T2YkMS5jYWxsKHRoaXMuX3Nob3J0V2Vla2RheXNQYXJzZSwgbGxjKTtcblx0ICAgICAgICAgICAgcmV0dXJuIGlpICE9PSAtMSA/IGlpIDogbnVsbDtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICBpaSA9IGluZGV4T2YkMS5jYWxsKHRoaXMuX21pbldlZWtkYXlzUGFyc2UsIGxsYyk7XG5cdCAgICAgICAgICAgIHJldHVybiBpaSAhPT0gLTEgPyBpaSA6IG51bGw7XG5cdCAgICAgICAgfVxuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICBpZiAoZm9ybWF0ID09PSAnZGRkZCcpIHtcblx0ICAgICAgICAgICAgaWkgPSBpbmRleE9mJDEuY2FsbCh0aGlzLl93ZWVrZGF5c1BhcnNlLCBsbGMpO1xuXHQgICAgICAgICAgICBpZiAoaWkgIT09IC0xKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gaWk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgaWkgPSBpbmRleE9mJDEuY2FsbCh0aGlzLl9zaG9ydFdlZWtkYXlzUGFyc2UsIGxsYyk7XG5cdCAgICAgICAgICAgIGlmIChpaSAhPT0gLTEpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBpaTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBpaSA9IGluZGV4T2YkMS5jYWxsKHRoaXMuX21pbldlZWtkYXlzUGFyc2UsIGxsYyk7XG5cdCAgICAgICAgICAgIHJldHVybiBpaSAhPT0gLTEgPyBpaSA6IG51bGw7XG5cdCAgICAgICAgfSBlbHNlIGlmIChmb3JtYXQgPT09ICdkZGQnKSB7XG5cdCAgICAgICAgICAgIGlpID0gaW5kZXhPZiQxLmNhbGwodGhpcy5fc2hvcnRXZWVrZGF5c1BhcnNlLCBsbGMpO1xuXHQgICAgICAgICAgICBpZiAoaWkgIT09IC0xKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gaWk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgaWkgPSBpbmRleE9mJDEuY2FsbCh0aGlzLl93ZWVrZGF5c1BhcnNlLCBsbGMpO1xuXHQgICAgICAgICAgICBpZiAoaWkgIT09IC0xKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gaWk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgaWkgPSBpbmRleE9mJDEuY2FsbCh0aGlzLl9taW5XZWVrZGF5c1BhcnNlLCBsbGMpO1xuXHQgICAgICAgICAgICByZXR1cm4gaWkgIT09IC0xID8gaWkgOiBudWxsO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIGlpID0gaW5kZXhPZiQxLmNhbGwodGhpcy5fbWluV2Vla2RheXNQYXJzZSwgbGxjKTtcblx0ICAgICAgICAgICAgaWYgKGlpICE9PSAtMSkge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIGlpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIGlpID0gaW5kZXhPZiQxLmNhbGwodGhpcy5fd2Vla2RheXNQYXJzZSwgbGxjKTtcblx0ICAgICAgICAgICAgaWYgKGlpICE9PSAtMSkge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIGlpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIGlpID0gaW5kZXhPZiQxLmNhbGwodGhpcy5fc2hvcnRXZWVrZGF5c1BhcnNlLCBsbGMpO1xuXHQgICAgICAgICAgICByZXR1cm4gaWkgIT09IC0xID8gaWkgOiBudWxsO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gbG9jYWxlV2Vla2RheXNQYXJzZSAod2Vla2RheU5hbWUsIGZvcm1hdCwgc3RyaWN0KSB7XG5cdCAgICB2YXIgaSwgbW9tLCByZWdleDtcblx0XG5cdCAgICBpZiAodGhpcy5fd2Vla2RheXNQYXJzZUV4YWN0KSB7XG5cdCAgICAgICAgcmV0dXJuIGhhbmRsZVN0cmljdFBhcnNlJDEuY2FsbCh0aGlzLCB3ZWVrZGF5TmFtZSwgZm9ybWF0LCBzdHJpY3QpO1xuXHQgICAgfVxuXHRcblx0ICAgIGlmICghdGhpcy5fd2Vla2RheXNQYXJzZSkge1xuXHQgICAgICAgIHRoaXMuX3dlZWtkYXlzUGFyc2UgPSBbXTtcblx0ICAgICAgICB0aGlzLl9taW5XZWVrZGF5c1BhcnNlID0gW107XG5cdCAgICAgICAgdGhpcy5fc2hvcnRXZWVrZGF5c1BhcnNlID0gW107XG5cdCAgICAgICAgdGhpcy5fZnVsbFdlZWtkYXlzUGFyc2UgPSBbXTtcblx0ICAgIH1cblx0XG5cdCAgICBmb3IgKGkgPSAwOyBpIDwgNzsgaSsrKSB7XG5cdCAgICAgICAgLy8gbWFrZSB0aGUgcmVnZXggaWYgd2UgZG9uJ3QgaGF2ZSBpdCBhbHJlYWR5XG5cdFxuXHQgICAgICAgIG1vbSA9IGNyZWF0ZVVUQyhbMjAwMCwgMV0pLmRheShpKTtcblx0ICAgICAgICBpZiAoc3RyaWN0ICYmICF0aGlzLl9mdWxsV2Vla2RheXNQYXJzZVtpXSkge1xuXHQgICAgICAgICAgICB0aGlzLl9mdWxsV2Vla2RheXNQYXJzZVtpXSA9IG5ldyBSZWdFeHAoJ14nICsgdGhpcy53ZWVrZGF5cyhtb20sICcnKS5yZXBsYWNlKCcuJywgJ1xcLj8nKSArICckJywgJ2knKTtcblx0ICAgICAgICAgICAgdGhpcy5fc2hvcnRXZWVrZGF5c1BhcnNlW2ldID0gbmV3IFJlZ0V4cCgnXicgKyB0aGlzLndlZWtkYXlzU2hvcnQobW9tLCAnJykucmVwbGFjZSgnLicsICdcXC4/JykgKyAnJCcsICdpJyk7XG5cdCAgICAgICAgICAgIHRoaXMuX21pbldlZWtkYXlzUGFyc2VbaV0gPSBuZXcgUmVnRXhwKCdeJyArIHRoaXMud2Vla2RheXNNaW4obW9tLCAnJykucmVwbGFjZSgnLicsICdcXC4/JykgKyAnJCcsICdpJyk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmICghdGhpcy5fd2Vla2RheXNQYXJzZVtpXSkge1xuXHQgICAgICAgICAgICByZWdleCA9ICdeJyArIHRoaXMud2Vla2RheXMobW9tLCAnJykgKyAnfF4nICsgdGhpcy53ZWVrZGF5c1Nob3J0KG1vbSwgJycpICsgJ3xeJyArIHRoaXMud2Vla2RheXNNaW4obW9tLCAnJyk7XG5cdCAgICAgICAgICAgIHRoaXMuX3dlZWtkYXlzUGFyc2VbaV0gPSBuZXcgUmVnRXhwKHJlZ2V4LnJlcGxhY2UoJy4nLCAnJyksICdpJyk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIC8vIHRlc3QgdGhlIHJlZ2V4XG5cdCAgICAgICAgaWYgKHN0cmljdCAmJiBmb3JtYXQgPT09ICdkZGRkJyAmJiB0aGlzLl9mdWxsV2Vla2RheXNQYXJzZVtpXS50ZXN0KHdlZWtkYXlOYW1lKSkge1xuXHQgICAgICAgICAgICByZXR1cm4gaTtcblx0ICAgICAgICB9IGVsc2UgaWYgKHN0cmljdCAmJiBmb3JtYXQgPT09ICdkZGQnICYmIHRoaXMuX3Nob3J0V2Vla2RheXNQYXJzZVtpXS50ZXN0KHdlZWtkYXlOYW1lKSkge1xuXHQgICAgICAgICAgICByZXR1cm4gaTtcblx0ICAgICAgICB9IGVsc2UgaWYgKHN0cmljdCAmJiBmb3JtYXQgPT09ICdkZCcgJiYgdGhpcy5fbWluV2Vla2RheXNQYXJzZVtpXS50ZXN0KHdlZWtkYXlOYW1lKSkge1xuXHQgICAgICAgICAgICByZXR1cm4gaTtcblx0ICAgICAgICB9IGVsc2UgaWYgKCFzdHJpY3QgJiYgdGhpcy5fd2Vla2RheXNQYXJzZVtpXS50ZXN0KHdlZWtkYXlOYW1lKSkge1xuXHQgICAgICAgICAgICByZXR1cm4gaTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdH1cblx0XG5cdC8vIE1PTUVOVFNcblx0XG5cdGZ1bmN0aW9uIGdldFNldERheU9mV2VlayAoaW5wdXQpIHtcblx0ICAgIGlmICghdGhpcy5pc1ZhbGlkKCkpIHtcblx0ICAgICAgICByZXR1cm4gaW5wdXQgIT0gbnVsbCA/IHRoaXMgOiBOYU47XG5cdCAgICB9XG5cdCAgICB2YXIgZGF5ID0gdGhpcy5faXNVVEMgPyB0aGlzLl9kLmdldFVUQ0RheSgpIDogdGhpcy5fZC5nZXREYXkoKTtcblx0ICAgIGlmIChpbnB1dCAhPSBudWxsKSB7XG5cdCAgICAgICAgaW5wdXQgPSBwYXJzZVdlZWtkYXkoaW5wdXQsIHRoaXMubG9jYWxlRGF0YSgpKTtcblx0ICAgICAgICByZXR1cm4gdGhpcy5hZGQoaW5wdXQgLSBkYXksICdkJyk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJldHVybiBkYXk7XG5cdCAgICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGdldFNldExvY2FsZURheU9mV2VlayAoaW5wdXQpIHtcblx0ICAgIGlmICghdGhpcy5pc1ZhbGlkKCkpIHtcblx0ICAgICAgICByZXR1cm4gaW5wdXQgIT0gbnVsbCA/IHRoaXMgOiBOYU47XG5cdCAgICB9XG5cdCAgICB2YXIgd2Vla2RheSA9ICh0aGlzLmRheSgpICsgNyAtIHRoaXMubG9jYWxlRGF0YSgpLl93ZWVrLmRvdykgJSA3O1xuXHQgICAgcmV0dXJuIGlucHV0ID09IG51bGwgPyB3ZWVrZGF5IDogdGhpcy5hZGQoaW5wdXQgLSB3ZWVrZGF5LCAnZCcpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBnZXRTZXRJU09EYXlPZldlZWsgKGlucHV0KSB7XG5cdCAgICBpZiAoIXRoaXMuaXNWYWxpZCgpKSB7XG5cdCAgICAgICAgcmV0dXJuIGlucHV0ICE9IG51bGwgPyB0aGlzIDogTmFOO1xuXHQgICAgfVxuXHRcblx0ICAgIC8vIGJlaGF2ZXMgdGhlIHNhbWUgYXMgbW9tZW50I2RheSBleGNlcHRcblx0ICAgIC8vIGFzIGEgZ2V0dGVyLCByZXR1cm5zIDcgaW5zdGVhZCBvZiAwICgxLTcgcmFuZ2UgaW5zdGVhZCBvZiAwLTYpXG5cdCAgICAvLyBhcyBhIHNldHRlciwgc3VuZGF5IHNob3VsZCBiZWxvbmcgdG8gdGhlIHByZXZpb3VzIHdlZWsuXG5cdFxuXHQgICAgaWYgKGlucHV0ICE9IG51bGwpIHtcblx0ICAgICAgICB2YXIgd2Vla2RheSA9IHBhcnNlSXNvV2Vla2RheShpbnB1dCwgdGhpcy5sb2NhbGVEYXRhKCkpO1xuXHQgICAgICAgIHJldHVybiB0aGlzLmRheSh0aGlzLmRheSgpICUgNyA/IHdlZWtkYXkgOiB3ZWVrZGF5IC0gNyk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJldHVybiB0aGlzLmRheSgpIHx8IDc7XG5cdCAgICB9XG5cdH1cblx0XG5cdHZhciBkZWZhdWx0V2Vla2RheXNSZWdleCA9IG1hdGNoV29yZDtcblx0ZnVuY3Rpb24gd2Vla2RheXNSZWdleCAoaXNTdHJpY3QpIHtcblx0ICAgIGlmICh0aGlzLl93ZWVrZGF5c1BhcnNlRXhhY3QpIHtcblx0ICAgICAgICBpZiAoIWhhc093blByb3AodGhpcywgJ193ZWVrZGF5c1JlZ2V4JykpIHtcblx0ICAgICAgICAgICAgY29tcHV0ZVdlZWtkYXlzUGFyc2UuY2FsbCh0aGlzKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgaWYgKGlzU3RyaWN0KSB7XG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzLl93ZWVrZGF5c1N0cmljdFJlZ2V4O1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzLl93ZWVrZGF5c1JlZ2V4O1xuXHQgICAgICAgIH1cblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgaWYgKCFoYXNPd25Qcm9wKHRoaXMsICdfd2Vla2RheXNSZWdleCcpKSB7XG5cdCAgICAgICAgICAgIHRoaXMuX3dlZWtkYXlzUmVnZXggPSBkZWZhdWx0V2Vla2RheXNSZWdleDtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIHRoaXMuX3dlZWtkYXlzU3RyaWN0UmVnZXggJiYgaXNTdHJpY3QgP1xuXHQgICAgICAgICAgICB0aGlzLl93ZWVrZGF5c1N0cmljdFJlZ2V4IDogdGhpcy5fd2Vla2RheXNSZWdleDtcblx0ICAgIH1cblx0fVxuXHRcblx0dmFyIGRlZmF1bHRXZWVrZGF5c1Nob3J0UmVnZXggPSBtYXRjaFdvcmQ7XG5cdGZ1bmN0aW9uIHdlZWtkYXlzU2hvcnRSZWdleCAoaXNTdHJpY3QpIHtcblx0ICAgIGlmICh0aGlzLl93ZWVrZGF5c1BhcnNlRXhhY3QpIHtcblx0ICAgICAgICBpZiAoIWhhc093blByb3AodGhpcywgJ193ZWVrZGF5c1JlZ2V4JykpIHtcblx0ICAgICAgICAgICAgY29tcHV0ZVdlZWtkYXlzUGFyc2UuY2FsbCh0aGlzKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgaWYgKGlzU3RyaWN0KSB7XG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzLl93ZWVrZGF5c1Nob3J0U3RyaWN0UmVnZXg7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3dlZWtkYXlzU2hvcnRSZWdleDtcblx0ICAgICAgICB9XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIGlmICghaGFzT3duUHJvcCh0aGlzLCAnX3dlZWtkYXlzU2hvcnRSZWdleCcpKSB7XG5cdCAgICAgICAgICAgIHRoaXMuX3dlZWtkYXlzU2hvcnRSZWdleCA9IGRlZmF1bHRXZWVrZGF5c1Nob3J0UmVnZXg7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiB0aGlzLl93ZWVrZGF5c1Nob3J0U3RyaWN0UmVnZXggJiYgaXNTdHJpY3QgP1xuXHQgICAgICAgICAgICB0aGlzLl93ZWVrZGF5c1Nob3J0U3RyaWN0UmVnZXggOiB0aGlzLl93ZWVrZGF5c1Nob3J0UmVnZXg7XG5cdCAgICB9XG5cdH1cblx0XG5cdHZhciBkZWZhdWx0V2Vla2RheXNNaW5SZWdleCA9IG1hdGNoV29yZDtcblx0ZnVuY3Rpb24gd2Vla2RheXNNaW5SZWdleCAoaXNTdHJpY3QpIHtcblx0ICAgIGlmICh0aGlzLl93ZWVrZGF5c1BhcnNlRXhhY3QpIHtcblx0ICAgICAgICBpZiAoIWhhc093blByb3AodGhpcywgJ193ZWVrZGF5c1JlZ2V4JykpIHtcblx0ICAgICAgICAgICAgY29tcHV0ZVdlZWtkYXlzUGFyc2UuY2FsbCh0aGlzKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgaWYgKGlzU3RyaWN0KSB7XG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzLl93ZWVrZGF5c01pblN0cmljdFJlZ2V4O1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzLl93ZWVrZGF5c01pblJlZ2V4O1xuXHQgICAgICAgIH1cblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgaWYgKCFoYXNPd25Qcm9wKHRoaXMsICdfd2Vla2RheXNNaW5SZWdleCcpKSB7XG5cdCAgICAgICAgICAgIHRoaXMuX3dlZWtkYXlzTWluUmVnZXggPSBkZWZhdWx0V2Vla2RheXNNaW5SZWdleDtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIHRoaXMuX3dlZWtkYXlzTWluU3RyaWN0UmVnZXggJiYgaXNTdHJpY3QgP1xuXHQgICAgICAgICAgICB0aGlzLl93ZWVrZGF5c01pblN0cmljdFJlZ2V4IDogdGhpcy5fd2Vla2RheXNNaW5SZWdleDtcblx0ICAgIH1cblx0fVxuXHRcblx0XG5cdGZ1bmN0aW9uIGNvbXB1dGVXZWVrZGF5c1BhcnNlICgpIHtcblx0ICAgIGZ1bmN0aW9uIGNtcExlblJldihhLCBiKSB7XG5cdCAgICAgICAgcmV0dXJuIGIubGVuZ3RoIC0gYS5sZW5ndGg7XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIG1pblBpZWNlcyA9IFtdLCBzaG9ydFBpZWNlcyA9IFtdLCBsb25nUGllY2VzID0gW10sIG1peGVkUGllY2VzID0gW10sXG5cdCAgICAgICAgaSwgbW9tLCBtaW5wLCBzaG9ydHAsIGxvbmdwO1xuXHQgICAgZm9yIChpID0gMDsgaSA8IDc7IGkrKykge1xuXHQgICAgICAgIC8vIG1ha2UgdGhlIHJlZ2V4IGlmIHdlIGRvbid0IGhhdmUgaXQgYWxyZWFkeVxuXHQgICAgICAgIG1vbSA9IGNyZWF0ZVVUQyhbMjAwMCwgMV0pLmRheShpKTtcblx0ICAgICAgICBtaW5wID0gdGhpcy53ZWVrZGF5c01pbihtb20sICcnKTtcblx0ICAgICAgICBzaG9ydHAgPSB0aGlzLndlZWtkYXlzU2hvcnQobW9tLCAnJyk7XG5cdCAgICAgICAgbG9uZ3AgPSB0aGlzLndlZWtkYXlzKG1vbSwgJycpO1xuXHQgICAgICAgIG1pblBpZWNlcy5wdXNoKG1pbnApO1xuXHQgICAgICAgIHNob3J0UGllY2VzLnB1c2goc2hvcnRwKTtcblx0ICAgICAgICBsb25nUGllY2VzLnB1c2gobG9uZ3ApO1xuXHQgICAgICAgIG1peGVkUGllY2VzLnB1c2gobWlucCk7XG5cdCAgICAgICAgbWl4ZWRQaWVjZXMucHVzaChzaG9ydHApO1xuXHQgICAgICAgIG1peGVkUGllY2VzLnB1c2gobG9uZ3ApO1xuXHQgICAgfVxuXHQgICAgLy8gU29ydGluZyBtYWtlcyBzdXJlIGlmIG9uZSB3ZWVrZGF5IChvciBhYmJyKSBpcyBhIHByZWZpeCBvZiBhbm90aGVyIGl0XG5cdCAgICAvLyB3aWxsIG1hdGNoIHRoZSBsb25nZXIgcGllY2UuXG5cdCAgICBtaW5QaWVjZXMuc29ydChjbXBMZW5SZXYpO1xuXHQgICAgc2hvcnRQaWVjZXMuc29ydChjbXBMZW5SZXYpO1xuXHQgICAgbG9uZ1BpZWNlcy5zb3J0KGNtcExlblJldik7XG5cdCAgICBtaXhlZFBpZWNlcy5zb3J0KGNtcExlblJldik7XG5cdCAgICBmb3IgKGkgPSAwOyBpIDwgNzsgaSsrKSB7XG5cdCAgICAgICAgc2hvcnRQaWVjZXNbaV0gPSByZWdleEVzY2FwZShzaG9ydFBpZWNlc1tpXSk7XG5cdCAgICAgICAgbG9uZ1BpZWNlc1tpXSA9IHJlZ2V4RXNjYXBlKGxvbmdQaWVjZXNbaV0pO1xuXHQgICAgICAgIG1peGVkUGllY2VzW2ldID0gcmVnZXhFc2NhcGUobWl4ZWRQaWVjZXNbaV0pO1xuXHQgICAgfVxuXHRcblx0ICAgIHRoaXMuX3dlZWtkYXlzUmVnZXggPSBuZXcgUmVnRXhwKCdeKCcgKyBtaXhlZFBpZWNlcy5qb2luKCd8JykgKyAnKScsICdpJyk7XG5cdCAgICB0aGlzLl93ZWVrZGF5c1Nob3J0UmVnZXggPSB0aGlzLl93ZWVrZGF5c1JlZ2V4O1xuXHQgICAgdGhpcy5fd2Vla2RheXNNaW5SZWdleCA9IHRoaXMuX3dlZWtkYXlzUmVnZXg7XG5cdFxuXHQgICAgdGhpcy5fd2Vla2RheXNTdHJpY3RSZWdleCA9IG5ldyBSZWdFeHAoJ14oJyArIGxvbmdQaWVjZXMuam9pbignfCcpICsgJyknLCAnaScpO1xuXHQgICAgdGhpcy5fd2Vla2RheXNTaG9ydFN0cmljdFJlZ2V4ID0gbmV3IFJlZ0V4cCgnXignICsgc2hvcnRQaWVjZXMuam9pbignfCcpICsgJyknLCAnaScpO1xuXHQgICAgdGhpcy5fd2Vla2RheXNNaW5TdHJpY3RSZWdleCA9IG5ldyBSZWdFeHAoJ14oJyArIG1pblBpZWNlcy5qb2luKCd8JykgKyAnKScsICdpJyk7XG5cdH1cblx0XG5cdC8vIEZPUk1BVFRJTkdcblx0XG5cdGZ1bmN0aW9uIGhGb3JtYXQoKSB7XG5cdCAgICByZXR1cm4gdGhpcy5ob3VycygpICUgMTIgfHwgMTI7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGtGb3JtYXQoKSB7XG5cdCAgICByZXR1cm4gdGhpcy5ob3VycygpIHx8IDI0O1xuXHR9XG5cdFxuXHRhZGRGb3JtYXRUb2tlbignSCcsIFsnSEgnLCAyXSwgMCwgJ2hvdXInKTtcblx0YWRkRm9ybWF0VG9rZW4oJ2gnLCBbJ2hoJywgMl0sIDAsIGhGb3JtYXQpO1xuXHRhZGRGb3JtYXRUb2tlbignaycsIFsna2snLCAyXSwgMCwga0Zvcm1hdCk7XG5cdFxuXHRhZGRGb3JtYXRUb2tlbignaG1tJywgMCwgMCwgZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuICcnICsgaEZvcm1hdC5hcHBseSh0aGlzKSArIHplcm9GaWxsKHRoaXMubWludXRlcygpLCAyKTtcblx0fSk7XG5cdFxuXHRhZGRGb3JtYXRUb2tlbignaG1tc3MnLCAwLCAwLCBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gJycgKyBoRm9ybWF0LmFwcGx5KHRoaXMpICsgemVyb0ZpbGwodGhpcy5taW51dGVzKCksIDIpICtcblx0ICAgICAgICB6ZXJvRmlsbCh0aGlzLnNlY29uZHMoKSwgMik7XG5cdH0pO1xuXHRcblx0YWRkRm9ybWF0VG9rZW4oJ0htbScsIDAsIDAsIGZ1bmN0aW9uICgpIHtcblx0ICAgIHJldHVybiAnJyArIHRoaXMuaG91cnMoKSArIHplcm9GaWxsKHRoaXMubWludXRlcygpLCAyKTtcblx0fSk7XG5cdFxuXHRhZGRGb3JtYXRUb2tlbignSG1tc3MnLCAwLCAwLCBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gJycgKyB0aGlzLmhvdXJzKCkgKyB6ZXJvRmlsbCh0aGlzLm1pbnV0ZXMoKSwgMikgK1xuXHQgICAgICAgIHplcm9GaWxsKHRoaXMuc2Vjb25kcygpLCAyKTtcblx0fSk7XG5cdFxuXHRmdW5jdGlvbiBtZXJpZGllbSAodG9rZW4sIGxvd2VyY2FzZSkge1xuXHQgICAgYWRkRm9ybWF0VG9rZW4odG9rZW4sIDAsIDAsIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkubWVyaWRpZW0odGhpcy5ob3VycygpLCB0aGlzLm1pbnV0ZXMoKSwgbG93ZXJjYXNlKTtcblx0ICAgIH0pO1xuXHR9XG5cdFxuXHRtZXJpZGllbSgnYScsIHRydWUpO1xuXHRtZXJpZGllbSgnQScsIGZhbHNlKTtcblx0XG5cdC8vIEFMSUFTRVNcblx0XG5cdGFkZFVuaXRBbGlhcygnaG91cicsICdoJyk7XG5cdFxuXHQvLyBQUklPUklUWVxuXHRhZGRVbml0UHJpb3JpdHkoJ2hvdXInLCAxMyk7XG5cdFxuXHQvLyBQQVJTSU5HXG5cdFxuXHRmdW5jdGlvbiBtYXRjaE1lcmlkaWVtIChpc1N0cmljdCwgbG9jYWxlKSB7XG5cdCAgICByZXR1cm4gbG9jYWxlLl9tZXJpZGllbVBhcnNlO1xuXHR9XG5cdFxuXHRhZGRSZWdleFRva2VuKCdhJywgIG1hdGNoTWVyaWRpZW0pO1xuXHRhZGRSZWdleFRva2VuKCdBJywgIG1hdGNoTWVyaWRpZW0pO1xuXHRhZGRSZWdleFRva2VuKCdIJywgIG1hdGNoMXRvMik7XG5cdGFkZFJlZ2V4VG9rZW4oJ2gnLCAgbWF0Y2gxdG8yKTtcblx0YWRkUmVnZXhUb2tlbignSEgnLCBtYXRjaDF0bzIsIG1hdGNoMik7XG5cdGFkZFJlZ2V4VG9rZW4oJ2hoJywgbWF0Y2gxdG8yLCBtYXRjaDIpO1xuXHRcblx0YWRkUmVnZXhUb2tlbignaG1tJywgbWF0Y2gzdG80KTtcblx0YWRkUmVnZXhUb2tlbignaG1tc3MnLCBtYXRjaDV0bzYpO1xuXHRhZGRSZWdleFRva2VuKCdIbW0nLCBtYXRjaDN0bzQpO1xuXHRhZGRSZWdleFRva2VuKCdIbW1zcycsIG1hdGNoNXRvNik7XG5cdFxuXHRhZGRQYXJzZVRva2VuKFsnSCcsICdISCddLCBIT1VSKTtcblx0YWRkUGFyc2VUb2tlbihbJ2EnLCAnQSddLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcpIHtcblx0ICAgIGNvbmZpZy5faXNQbSA9IGNvbmZpZy5fbG9jYWxlLmlzUE0oaW5wdXQpO1xuXHQgICAgY29uZmlnLl9tZXJpZGllbSA9IGlucHV0O1xuXHR9KTtcblx0YWRkUGFyc2VUb2tlbihbJ2gnLCAnaGgnXSwgZnVuY3Rpb24gKGlucHV0LCBhcnJheSwgY29uZmlnKSB7XG5cdCAgICBhcnJheVtIT1VSXSA9IHRvSW50KGlucHV0KTtcblx0ICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmJpZ0hvdXIgPSB0cnVlO1xuXHR9KTtcblx0YWRkUGFyc2VUb2tlbignaG1tJywgZnVuY3Rpb24gKGlucHV0LCBhcnJheSwgY29uZmlnKSB7XG5cdCAgICB2YXIgcG9zID0gaW5wdXQubGVuZ3RoIC0gMjtcblx0ICAgIGFycmF5W0hPVVJdID0gdG9JbnQoaW5wdXQuc3Vic3RyKDAsIHBvcykpO1xuXHQgICAgYXJyYXlbTUlOVVRFXSA9IHRvSW50KGlucHV0LnN1YnN0cihwb3MpKTtcblx0ICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmJpZ0hvdXIgPSB0cnVlO1xuXHR9KTtcblx0YWRkUGFyc2VUb2tlbignaG1tc3MnLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcpIHtcblx0ICAgIHZhciBwb3MxID0gaW5wdXQubGVuZ3RoIC0gNDtcblx0ICAgIHZhciBwb3MyID0gaW5wdXQubGVuZ3RoIC0gMjtcblx0ICAgIGFycmF5W0hPVVJdID0gdG9JbnQoaW5wdXQuc3Vic3RyKDAsIHBvczEpKTtcblx0ICAgIGFycmF5W01JTlVURV0gPSB0b0ludChpbnB1dC5zdWJzdHIocG9zMSwgMikpO1xuXHQgICAgYXJyYXlbU0VDT05EXSA9IHRvSW50KGlucHV0LnN1YnN0cihwb3MyKSk7XG5cdCAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5iaWdIb3VyID0gdHJ1ZTtcblx0fSk7XG5cdGFkZFBhcnNlVG9rZW4oJ0htbScsIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXksIGNvbmZpZykge1xuXHQgICAgdmFyIHBvcyA9IGlucHV0Lmxlbmd0aCAtIDI7XG5cdCAgICBhcnJheVtIT1VSXSA9IHRvSW50KGlucHV0LnN1YnN0cigwLCBwb3MpKTtcblx0ICAgIGFycmF5W01JTlVURV0gPSB0b0ludChpbnB1dC5zdWJzdHIocG9zKSk7XG5cdH0pO1xuXHRhZGRQYXJzZVRva2VuKCdIbW1zcycsIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXksIGNvbmZpZykge1xuXHQgICAgdmFyIHBvczEgPSBpbnB1dC5sZW5ndGggLSA0O1xuXHQgICAgdmFyIHBvczIgPSBpbnB1dC5sZW5ndGggLSAyO1xuXHQgICAgYXJyYXlbSE9VUl0gPSB0b0ludChpbnB1dC5zdWJzdHIoMCwgcG9zMSkpO1xuXHQgICAgYXJyYXlbTUlOVVRFXSA9IHRvSW50KGlucHV0LnN1YnN0cihwb3MxLCAyKSk7XG5cdCAgICBhcnJheVtTRUNPTkRdID0gdG9JbnQoaW5wdXQuc3Vic3RyKHBvczIpKTtcblx0fSk7XG5cdFxuXHQvLyBMT0NBTEVTXG5cdFxuXHRmdW5jdGlvbiBsb2NhbGVJc1BNIChpbnB1dCkge1xuXHQgICAgLy8gSUU4IFF1aXJrcyBNb2RlICYgSUU3IFN0YW5kYXJkcyBNb2RlIGRvIG5vdCBhbGxvdyBhY2Nlc3Npbmcgc3RyaW5ncyBsaWtlIGFycmF5c1xuXHQgICAgLy8gVXNpbmcgY2hhckF0IHNob3VsZCBiZSBtb3JlIGNvbXBhdGlibGUuXG5cdCAgICByZXR1cm4gKChpbnB1dCArICcnKS50b0xvd2VyQ2FzZSgpLmNoYXJBdCgwKSA9PT0gJ3AnKTtcblx0fVxuXHRcblx0dmFyIGRlZmF1bHRMb2NhbGVNZXJpZGllbVBhcnNlID0gL1thcF1cXC4/bT9cXC4/L2k7XG5cdGZ1bmN0aW9uIGxvY2FsZU1lcmlkaWVtIChob3VycywgbWludXRlcywgaXNMb3dlcikge1xuXHQgICAgaWYgKGhvdXJzID4gMTEpIHtcblx0ICAgICAgICByZXR1cm4gaXNMb3dlciA/ICdwbScgOiAnUE0nO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXR1cm4gaXNMb3dlciA/ICdhbScgOiAnQU0nO1xuXHQgICAgfVxuXHR9XG5cdFxuXHRcblx0Ly8gTU9NRU5UU1xuXHRcblx0Ly8gU2V0dGluZyB0aGUgaG91ciBzaG91bGQga2VlcCB0aGUgdGltZSwgYmVjYXVzZSB0aGUgdXNlciBleHBsaWNpdGx5XG5cdC8vIHNwZWNpZmllZCB3aGljaCBob3VyIGhlIHdhbnRzLiBTbyB0cnlpbmcgdG8gbWFpbnRhaW4gdGhlIHNhbWUgaG91ciAoaW5cblx0Ly8gYSBuZXcgdGltZXpvbmUpIG1ha2VzIHNlbnNlLiBBZGRpbmcvc3VidHJhY3RpbmcgaG91cnMgZG9lcyBub3QgZm9sbG93XG5cdC8vIHRoaXMgcnVsZS5cblx0dmFyIGdldFNldEhvdXIgPSBtYWtlR2V0U2V0KCdIb3VycycsIHRydWUpO1xuXHRcblx0Ly8gbW9udGhzXG5cdC8vIHdlZWtcblx0Ly8gd2Vla2RheXNcblx0Ly8gbWVyaWRpZW1cblx0dmFyIGJhc2VDb25maWcgPSB7XG5cdCAgICBjYWxlbmRhcjogZGVmYXVsdENhbGVuZGFyLFxuXHQgICAgbG9uZ0RhdGVGb3JtYXQ6IGRlZmF1bHRMb25nRGF0ZUZvcm1hdCxcblx0ICAgIGludmFsaWREYXRlOiBkZWZhdWx0SW52YWxpZERhdGUsXG5cdCAgICBvcmRpbmFsOiBkZWZhdWx0T3JkaW5hbCxcblx0ICAgIG9yZGluYWxQYXJzZTogZGVmYXVsdE9yZGluYWxQYXJzZSxcblx0ICAgIHJlbGF0aXZlVGltZTogZGVmYXVsdFJlbGF0aXZlVGltZSxcblx0XG5cdCAgICBtb250aHM6IGRlZmF1bHRMb2NhbGVNb250aHMsXG5cdCAgICBtb250aHNTaG9ydDogZGVmYXVsdExvY2FsZU1vbnRoc1Nob3J0LFxuXHRcblx0ICAgIHdlZWs6IGRlZmF1bHRMb2NhbGVXZWVrLFxuXHRcblx0ICAgIHdlZWtkYXlzOiBkZWZhdWx0TG9jYWxlV2Vla2RheXMsXG5cdCAgICB3ZWVrZGF5c01pbjogZGVmYXVsdExvY2FsZVdlZWtkYXlzTWluLFxuXHQgICAgd2Vla2RheXNTaG9ydDogZGVmYXVsdExvY2FsZVdlZWtkYXlzU2hvcnQsXG5cdFxuXHQgICAgbWVyaWRpZW1QYXJzZTogZGVmYXVsdExvY2FsZU1lcmlkaWVtUGFyc2Vcblx0fTtcblx0XG5cdC8vIGludGVybmFsIHN0b3JhZ2UgZm9yIGxvY2FsZSBjb25maWcgZmlsZXNcblx0dmFyIGxvY2FsZXMgPSB7fTtcblx0dmFyIGxvY2FsZUZhbWlsaWVzID0ge307XG5cdHZhciBnbG9iYWxMb2NhbGU7XG5cdFxuXHRmdW5jdGlvbiBub3JtYWxpemVMb2NhbGUoa2V5KSB7XG5cdCAgICByZXR1cm4ga2V5ID8ga2V5LnRvTG93ZXJDYXNlKCkucmVwbGFjZSgnXycsICctJykgOiBrZXk7XG5cdH1cblx0XG5cdC8vIHBpY2sgdGhlIGxvY2FsZSBmcm9tIHRoZSBhcnJheVxuXHQvLyB0cnkgWydlbi1hdScsICdlbi1nYiddIGFzICdlbi1hdScsICdlbi1nYicsICdlbicsIGFzIGluIG1vdmUgdGhyb3VnaCB0aGUgbGlzdCB0cnlpbmcgZWFjaFxuXHQvLyBzdWJzdHJpbmcgZnJvbSBtb3N0IHNwZWNpZmljIHRvIGxlYXN0LCBidXQgbW92ZSB0byB0aGUgbmV4dCBhcnJheSBpdGVtIGlmIGl0J3MgYSBtb3JlIHNwZWNpZmljIHZhcmlhbnQgdGhhbiB0aGUgY3VycmVudCByb290XG5cdGZ1bmN0aW9uIGNob29zZUxvY2FsZShuYW1lcykge1xuXHQgICAgdmFyIGkgPSAwLCBqLCBuZXh0LCBsb2NhbGUsIHNwbGl0O1xuXHRcblx0ICAgIHdoaWxlIChpIDwgbmFtZXMubGVuZ3RoKSB7XG5cdCAgICAgICAgc3BsaXQgPSBub3JtYWxpemVMb2NhbGUobmFtZXNbaV0pLnNwbGl0KCctJyk7XG5cdCAgICAgICAgaiA9IHNwbGl0Lmxlbmd0aDtcblx0ICAgICAgICBuZXh0ID0gbm9ybWFsaXplTG9jYWxlKG5hbWVzW2kgKyAxXSk7XG5cdCAgICAgICAgbmV4dCA9IG5leHQgPyBuZXh0LnNwbGl0KCctJykgOiBudWxsO1xuXHQgICAgICAgIHdoaWxlIChqID4gMCkge1xuXHQgICAgICAgICAgICBsb2NhbGUgPSBsb2FkTG9jYWxlKHNwbGl0LnNsaWNlKDAsIGopLmpvaW4oJy0nKSk7XG5cdCAgICAgICAgICAgIGlmIChsb2NhbGUpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBsb2NhbGU7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgaWYgKG5leHQgJiYgbmV4dC5sZW5ndGggPj0gaiAmJiBjb21wYXJlQXJyYXlzKHNwbGl0LCBuZXh0LCB0cnVlKSA+PSBqIC0gMSkge1xuXHQgICAgICAgICAgICAgICAgLy90aGUgbmV4dCBhcnJheSBpdGVtIGlzIGJldHRlciB0aGFuIGEgc2hhbGxvd2VyIHN1YnN0cmluZyBvZiB0aGlzIG9uZVxuXHQgICAgICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgai0tO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpKys7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gbnVsbDtcblx0fVxuXHRcblx0ZnVuY3Rpb24gbG9hZExvY2FsZShuYW1lKSB7XG5cdCAgICB2YXIgb2xkTG9jYWxlID0gbnVsbDtcblx0ICAgIC8vIFRPRE86IEZpbmQgYSBiZXR0ZXIgd2F5IHRvIHJlZ2lzdGVyIGFuZCBsb2FkIGFsbCB0aGUgbG9jYWxlcyBpbiBOb2RlXG5cdCAgICBpZiAoIWxvY2FsZXNbbmFtZV0gJiYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnKSAmJlxuXHQgICAgICAgICAgICBtb2R1bGUgJiYgbW9kdWxlLmV4cG9ydHMpIHtcblx0ICAgICAgICB0cnkge1xuXHQgICAgICAgICAgICBvbGRMb2NhbGUgPSBnbG9iYWxMb2NhbGUuX2FiYnI7XG5cdCAgICAgICAgICAgICEoZnVuY3Rpb24gd2VicGFja01pc3NpbmdNb2R1bGUoKSB7IHZhciBlID0gbmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlIFxcXCIuL2xvY2FsZVxcXCJcIik7IGUuY29kZSA9ICdNT0RVTEVfTk9UX0ZPVU5EJzsgdGhyb3cgZTsgfSgpKTtcblx0ICAgICAgICAgICAgLy8gYmVjYXVzZSBkZWZpbmVMb2NhbGUgY3VycmVudGx5IGFsc28gc2V0cyB0aGUgZ2xvYmFsIGxvY2FsZSwgd2Vcblx0ICAgICAgICAgICAgLy8gd2FudCB0byB1bmRvIHRoYXQgZm9yIGxhenkgbG9hZGVkIGxvY2FsZXNcblx0ICAgICAgICAgICAgZ2V0U2V0R2xvYmFsTG9jYWxlKG9sZExvY2FsZSk7XG5cdCAgICAgICAgfSBjYXRjaCAoZSkgeyB9XG5cdCAgICB9XG5cdCAgICByZXR1cm4gbG9jYWxlc1tuYW1lXTtcblx0fVxuXHRcblx0Ly8gVGhpcyBmdW5jdGlvbiB3aWxsIGxvYWQgbG9jYWxlIGFuZCB0aGVuIHNldCB0aGUgZ2xvYmFsIGxvY2FsZS4gIElmXG5cdC8vIG5vIGFyZ3VtZW50cyBhcmUgcGFzc2VkIGluLCBpdCB3aWxsIHNpbXBseSByZXR1cm4gdGhlIGN1cnJlbnQgZ2xvYmFsXG5cdC8vIGxvY2FsZSBrZXkuXG5cdGZ1bmN0aW9uIGdldFNldEdsb2JhbExvY2FsZSAoa2V5LCB2YWx1ZXMpIHtcblx0ICAgIHZhciBkYXRhO1xuXHQgICAgaWYgKGtleSkge1xuXHQgICAgICAgIGlmIChpc1VuZGVmaW5lZCh2YWx1ZXMpKSB7XG5cdCAgICAgICAgICAgIGRhdGEgPSBnZXRMb2NhbGUoa2V5KTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgZWxzZSB7XG5cdCAgICAgICAgICAgIGRhdGEgPSBkZWZpbmVMb2NhbGUoa2V5LCB2YWx1ZXMpO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgaWYgKGRhdGEpIHtcblx0ICAgICAgICAgICAgLy8gbW9tZW50LmR1cmF0aW9uLl9sb2NhbGUgPSBtb21lbnQuX2xvY2FsZSA9IGRhdGE7XG5cdCAgICAgICAgICAgIGdsb2JhbExvY2FsZSA9IGRhdGE7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiBnbG9iYWxMb2NhbGUuX2FiYnI7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGRlZmluZUxvY2FsZSAobmFtZSwgY29uZmlnKSB7XG5cdCAgICBpZiAoY29uZmlnICE9PSBudWxsKSB7XG5cdCAgICAgICAgdmFyIHBhcmVudENvbmZpZyA9IGJhc2VDb25maWc7XG5cdCAgICAgICAgY29uZmlnLmFiYnIgPSBuYW1lO1xuXHQgICAgICAgIGlmIChsb2NhbGVzW25hbWVdICE9IG51bGwpIHtcblx0ICAgICAgICAgICAgZGVwcmVjYXRlU2ltcGxlKCdkZWZpbmVMb2NhbGVPdmVycmlkZScsXG5cdCAgICAgICAgICAgICAgICAgICAgJ3VzZSBtb21lbnQudXBkYXRlTG9jYWxlKGxvY2FsZU5hbWUsIGNvbmZpZykgdG8gY2hhbmdlICcgK1xuXHQgICAgICAgICAgICAgICAgICAgICdhbiBleGlzdGluZyBsb2NhbGUuIG1vbWVudC5kZWZpbmVMb2NhbGUobG9jYWxlTmFtZSwgJyArXG5cdCAgICAgICAgICAgICAgICAgICAgJ2NvbmZpZykgc2hvdWxkIG9ubHkgYmUgdXNlZCBmb3IgY3JlYXRpbmcgYSBuZXcgbG9jYWxlICcgK1xuXHQgICAgICAgICAgICAgICAgICAgICdTZWUgaHR0cDovL21vbWVudGpzLmNvbS9ndWlkZXMvIy93YXJuaW5ncy9kZWZpbmUtbG9jYWxlLyBmb3IgbW9yZSBpbmZvLicpO1xuXHQgICAgICAgICAgICBwYXJlbnRDb25maWcgPSBsb2NhbGVzW25hbWVdLl9jb25maWc7XG5cdCAgICAgICAgfSBlbHNlIGlmIChjb25maWcucGFyZW50TG9jYWxlICE9IG51bGwpIHtcblx0ICAgICAgICAgICAgaWYgKGxvY2FsZXNbY29uZmlnLnBhcmVudExvY2FsZV0gIT0gbnVsbCkge1xuXHQgICAgICAgICAgICAgICAgcGFyZW50Q29uZmlnID0gbG9jYWxlc1tjb25maWcucGFyZW50TG9jYWxlXS5fY29uZmlnO1xuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgaWYgKCFsb2NhbGVGYW1pbGllc1tjb25maWcucGFyZW50TG9jYWxlXSkge1xuXHQgICAgICAgICAgICAgICAgICAgIGxvY2FsZUZhbWlsaWVzW2NvbmZpZy5wYXJlbnRMb2NhbGVdID0gW107XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICBsb2NhbGVGYW1pbGllc1tjb25maWcucGFyZW50TG9jYWxlXS5wdXNoKHtcblx0ICAgICAgICAgICAgICAgICAgICBuYW1lOiBuYW1lLFxuXHQgICAgICAgICAgICAgICAgICAgIGNvbmZpZzogY29uZmlnXG5cdCAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGxvY2FsZXNbbmFtZV0gPSBuZXcgTG9jYWxlKG1lcmdlQ29uZmlncyhwYXJlbnRDb25maWcsIGNvbmZpZykpO1xuXHRcblx0ICAgICAgICBpZiAobG9jYWxlRmFtaWxpZXNbbmFtZV0pIHtcblx0ICAgICAgICAgICAgbG9jYWxlRmFtaWxpZXNbbmFtZV0uZm9yRWFjaChmdW5jdGlvbiAoeCkge1xuXHQgICAgICAgICAgICAgICAgZGVmaW5lTG9jYWxlKHgubmFtZSwgeC5jb25maWcpO1xuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIC8vIGJhY2t3YXJkcyBjb21wYXQgZm9yIG5vdzogYWxzbyBzZXQgdGhlIGxvY2FsZVxuXHQgICAgICAgIC8vIG1ha2Ugc3VyZSB3ZSBzZXQgdGhlIGxvY2FsZSBBRlRFUiBhbGwgY2hpbGQgbG9jYWxlcyBoYXZlIGJlZW5cblx0ICAgICAgICAvLyBjcmVhdGVkLCBzbyB3ZSB3b24ndCBlbmQgdXAgd2l0aCB0aGUgY2hpbGQgbG9jYWxlIHNldC5cblx0ICAgICAgICBnZXRTZXRHbG9iYWxMb2NhbGUobmFtZSk7XG5cdFxuXHRcblx0ICAgICAgICByZXR1cm4gbG9jYWxlc1tuYW1lXTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgLy8gdXNlZnVsIGZvciB0ZXN0aW5nXG5cdCAgICAgICAgZGVsZXRlIGxvY2FsZXNbbmFtZV07XG5cdCAgICAgICAgcmV0dXJuIG51bGw7XG5cdCAgICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHVwZGF0ZUxvY2FsZShuYW1lLCBjb25maWcpIHtcblx0ICAgIGlmIChjb25maWcgIT0gbnVsbCkge1xuXHQgICAgICAgIHZhciBsb2NhbGUsIHBhcmVudENvbmZpZyA9IGJhc2VDb25maWc7XG5cdCAgICAgICAgLy8gTUVSR0Vcblx0ICAgICAgICBpZiAobG9jYWxlc1tuYW1lXSAhPSBudWxsKSB7XG5cdCAgICAgICAgICAgIHBhcmVudENvbmZpZyA9IGxvY2FsZXNbbmFtZV0uX2NvbmZpZztcblx0ICAgICAgICB9XG5cdCAgICAgICAgY29uZmlnID0gbWVyZ2VDb25maWdzKHBhcmVudENvbmZpZywgY29uZmlnKTtcblx0ICAgICAgICBsb2NhbGUgPSBuZXcgTG9jYWxlKGNvbmZpZyk7XG5cdCAgICAgICAgbG9jYWxlLnBhcmVudExvY2FsZSA9IGxvY2FsZXNbbmFtZV07XG5cdCAgICAgICAgbG9jYWxlc1tuYW1lXSA9IGxvY2FsZTtcblx0XG5cdCAgICAgICAgLy8gYmFja3dhcmRzIGNvbXBhdCBmb3Igbm93OiBhbHNvIHNldCB0aGUgbG9jYWxlXG5cdCAgICAgICAgZ2V0U2V0R2xvYmFsTG9jYWxlKG5hbWUpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICAvLyBwYXNzIG51bGwgZm9yIGNvbmZpZyB0byB1bnVwZGF0ZSwgdXNlZnVsIGZvciB0ZXN0c1xuXHQgICAgICAgIGlmIChsb2NhbGVzW25hbWVdICE9IG51bGwpIHtcblx0ICAgICAgICAgICAgaWYgKGxvY2FsZXNbbmFtZV0ucGFyZW50TG9jYWxlICE9IG51bGwpIHtcblx0ICAgICAgICAgICAgICAgIGxvY2FsZXNbbmFtZV0gPSBsb2NhbGVzW25hbWVdLnBhcmVudExvY2FsZTtcblx0ICAgICAgICAgICAgfSBlbHNlIGlmIChsb2NhbGVzW25hbWVdICE9IG51bGwpIHtcblx0ICAgICAgICAgICAgICAgIGRlbGV0ZSBsb2NhbGVzW25hbWVdO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHQgICAgcmV0dXJuIGxvY2FsZXNbbmFtZV07XG5cdH1cblx0XG5cdC8vIHJldHVybnMgbG9jYWxlIGRhdGFcblx0ZnVuY3Rpb24gZ2V0TG9jYWxlIChrZXkpIHtcblx0ICAgIHZhciBsb2NhbGU7XG5cdFxuXHQgICAgaWYgKGtleSAmJiBrZXkuX2xvY2FsZSAmJiBrZXkuX2xvY2FsZS5fYWJicikge1xuXHQgICAgICAgIGtleSA9IGtleS5fbG9jYWxlLl9hYmJyO1xuXHQgICAgfVxuXHRcblx0ICAgIGlmICgha2V5KSB7XG5cdCAgICAgICAgcmV0dXJuIGdsb2JhbExvY2FsZTtcblx0ICAgIH1cblx0XG5cdCAgICBpZiAoIWlzQXJyYXkoa2V5KSkge1xuXHQgICAgICAgIC8vc2hvcnQtY2lyY3VpdCBldmVyeXRoaW5nIGVsc2Vcblx0ICAgICAgICBsb2NhbGUgPSBsb2FkTG9jYWxlKGtleSk7XG5cdCAgICAgICAgaWYgKGxvY2FsZSkge1xuXHQgICAgICAgICAgICByZXR1cm4gbG9jYWxlO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBrZXkgPSBba2V5XTtcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gY2hvb3NlTG9jYWxlKGtleSk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGxpc3RMb2NhbGVzKCkge1xuXHQgICAgcmV0dXJuIGtleXMkMShsb2NhbGVzKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gY2hlY2tPdmVyZmxvdyAobSkge1xuXHQgICAgdmFyIG92ZXJmbG93O1xuXHQgICAgdmFyIGEgPSBtLl9hO1xuXHRcblx0ICAgIGlmIChhICYmIGdldFBhcnNpbmdGbGFncyhtKS5vdmVyZmxvdyA9PT0gLTIpIHtcblx0ICAgICAgICBvdmVyZmxvdyA9XG5cdCAgICAgICAgICAgIGFbTU9OVEhdICAgICAgIDwgMCB8fCBhW01PTlRIXSAgICAgICA+IDExICA/IE1PTlRIIDpcblx0ICAgICAgICAgICAgYVtEQVRFXSAgICAgICAgPCAxIHx8IGFbREFURV0gICAgICAgID4gZGF5c0luTW9udGgoYVtZRUFSXSwgYVtNT05USF0pID8gREFURSA6XG5cdCAgICAgICAgICAgIGFbSE9VUl0gICAgICAgIDwgMCB8fCBhW0hPVVJdICAgICAgICA+IDI0IHx8IChhW0hPVVJdID09PSAyNCAmJiAoYVtNSU5VVEVdICE9PSAwIHx8IGFbU0VDT05EXSAhPT0gMCB8fCBhW01JTExJU0VDT05EXSAhPT0gMCkpID8gSE9VUiA6XG5cdCAgICAgICAgICAgIGFbTUlOVVRFXSAgICAgIDwgMCB8fCBhW01JTlVURV0gICAgICA+IDU5ICA/IE1JTlVURSA6XG5cdCAgICAgICAgICAgIGFbU0VDT05EXSAgICAgIDwgMCB8fCBhW1NFQ09ORF0gICAgICA+IDU5ICA/IFNFQ09ORCA6XG5cdCAgICAgICAgICAgIGFbTUlMTElTRUNPTkRdIDwgMCB8fCBhW01JTExJU0VDT05EXSA+IDk5OSA/IE1JTExJU0VDT05EIDpcblx0ICAgICAgICAgICAgLTE7XG5cdFxuXHQgICAgICAgIGlmIChnZXRQYXJzaW5nRmxhZ3MobSkuX292ZXJmbG93RGF5T2ZZZWFyICYmIChvdmVyZmxvdyA8IFlFQVIgfHwgb3ZlcmZsb3cgPiBEQVRFKSkge1xuXHQgICAgICAgICAgICBvdmVyZmxvdyA9IERBVEU7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmIChnZXRQYXJzaW5nRmxhZ3MobSkuX292ZXJmbG93V2Vla3MgJiYgb3ZlcmZsb3cgPT09IC0xKSB7XG5cdCAgICAgICAgICAgIG92ZXJmbG93ID0gV0VFSztcblx0ICAgICAgICB9XG5cdCAgICAgICAgaWYgKGdldFBhcnNpbmdGbGFncyhtKS5fb3ZlcmZsb3dXZWVrZGF5ICYmIG92ZXJmbG93ID09PSAtMSkge1xuXHQgICAgICAgICAgICBvdmVyZmxvdyA9IFdFRUtEQVk7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICBnZXRQYXJzaW5nRmxhZ3MobSkub3ZlcmZsb3cgPSBvdmVyZmxvdztcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gbTtcblx0fVxuXHRcblx0Ly8gaXNvIDg2MDEgcmVnZXhcblx0Ly8gMDAwMC0wMC0wMCAwMDAwLVcwMCBvciAwMDAwLVcwMC0wICsgVCArIDAwIG9yIDAwOjAwIG9yIDAwOjAwOjAwIG9yIDAwOjAwOjAwLjAwMCArICswMDowMCBvciArMDAwMCBvciArMDApXG5cdHZhciBleHRlbmRlZElzb1JlZ2V4ID0gL15cXHMqKCg/OlsrLV1cXGR7Nn18XFxkezR9KS0oPzpcXGRcXGQtXFxkXFxkfFdcXGRcXGQtXFxkfFdcXGRcXGR8XFxkXFxkXFxkfFxcZFxcZCkpKD86KFR8ICkoXFxkXFxkKD86OlxcZFxcZCg/OjpcXGRcXGQoPzpbLixdXFxkKyk/KT8pPykoW1xcK1xcLV1cXGRcXGQoPzo6P1xcZFxcZCk/fFxccypaKT8pPyQvO1xuXHR2YXIgYmFzaWNJc29SZWdleCA9IC9eXFxzKigoPzpbKy1dXFxkezZ9fFxcZHs0fSkoPzpcXGRcXGRcXGRcXGR8V1xcZFxcZFxcZHxXXFxkXFxkfFxcZFxcZFxcZHxcXGRcXGQpKSg/OihUfCApKFxcZFxcZCg/OlxcZFxcZCg/OlxcZFxcZCg/OlsuLF1cXGQrKT8pPyk/KShbXFwrXFwtXVxcZFxcZCg/Ojo/XFxkXFxkKT98XFxzKlopPyk/JC87XG5cdFxuXHR2YXIgdHpSZWdleCA9IC9afFsrLV1cXGRcXGQoPzo6P1xcZFxcZCk/Lztcblx0XG5cdHZhciBpc29EYXRlcyA9IFtcblx0ICAgIFsnWVlZWVlZLU1NLUREJywgL1srLV1cXGR7Nn0tXFxkXFxkLVxcZFxcZC9dLFxuXHQgICAgWydZWVlZLU1NLUREJywgL1xcZHs0fS1cXGRcXGQtXFxkXFxkL10sXG5cdCAgICBbJ0dHR0ctW1ddV1ctRScsIC9cXGR7NH0tV1xcZFxcZC1cXGQvXSxcblx0ICAgIFsnR0dHRy1bV11XVycsIC9cXGR7NH0tV1xcZFxcZC8sIGZhbHNlXSxcblx0ICAgIFsnWVlZWS1EREQnLCAvXFxkezR9LVxcZHszfS9dLFxuXHQgICAgWydZWVlZLU1NJywgL1xcZHs0fS1cXGRcXGQvLCBmYWxzZV0sXG5cdCAgICBbJ1lZWVlZWU1NREQnLCAvWystXVxcZHsxMH0vXSxcblx0ICAgIFsnWVlZWU1NREQnLCAvXFxkezh9L10sXG5cdCAgICAvLyBZWVlZTU0gaXMgTk9UIGFsbG93ZWQgYnkgdGhlIHN0YW5kYXJkXG5cdCAgICBbJ0dHR0dbV11XV0UnLCAvXFxkezR9V1xcZHszfS9dLFxuXHQgICAgWydHR0dHW1ddV1cnLCAvXFxkezR9V1xcZHsyfS8sIGZhbHNlXSxcblx0ICAgIFsnWVlZWURERCcsIC9cXGR7N30vXVxuXHRdO1xuXHRcblx0Ly8gaXNvIHRpbWUgZm9ybWF0cyBhbmQgcmVnZXhlc1xuXHR2YXIgaXNvVGltZXMgPSBbXG5cdCAgICBbJ0hIOm1tOnNzLlNTU1MnLCAvXFxkXFxkOlxcZFxcZDpcXGRcXGRcXC5cXGQrL10sXG5cdCAgICBbJ0hIOm1tOnNzLFNTU1MnLCAvXFxkXFxkOlxcZFxcZDpcXGRcXGQsXFxkKy9dLFxuXHQgICAgWydISDptbTpzcycsIC9cXGRcXGQ6XFxkXFxkOlxcZFxcZC9dLFxuXHQgICAgWydISDptbScsIC9cXGRcXGQ6XFxkXFxkL10sXG5cdCAgICBbJ0hIbW1zcy5TU1NTJywgL1xcZFxcZFxcZFxcZFxcZFxcZFxcLlxcZCsvXSxcblx0ICAgIFsnSEhtbXNzLFNTU1MnLCAvXFxkXFxkXFxkXFxkXFxkXFxkLFxcZCsvXSxcblx0ICAgIFsnSEhtbXNzJywgL1xcZFxcZFxcZFxcZFxcZFxcZC9dLFxuXHQgICAgWydISG1tJywgL1xcZFxcZFxcZFxcZC9dLFxuXHQgICAgWydISCcsIC9cXGRcXGQvXVxuXHRdO1xuXHRcblx0dmFyIGFzcE5ldEpzb25SZWdleCA9IC9eXFwvP0RhdGVcXCgoXFwtP1xcZCspL2k7XG5cdFxuXHQvLyBkYXRlIGZyb20gaXNvIGZvcm1hdFxuXHRmdW5jdGlvbiBjb25maWdGcm9tSVNPKGNvbmZpZykge1xuXHQgICAgdmFyIGksIGwsXG5cdCAgICAgICAgc3RyaW5nID0gY29uZmlnLl9pLFxuXHQgICAgICAgIG1hdGNoID0gZXh0ZW5kZWRJc29SZWdleC5leGVjKHN0cmluZykgfHwgYmFzaWNJc29SZWdleC5leGVjKHN0cmluZyksXG5cdCAgICAgICAgYWxsb3dUaW1lLCBkYXRlRm9ybWF0LCB0aW1lRm9ybWF0LCB0ekZvcm1hdDtcblx0XG5cdCAgICBpZiAobWF0Y2gpIHtcblx0ICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5pc28gPSB0cnVlO1xuXHRcblx0ICAgICAgICBmb3IgKGkgPSAwLCBsID0gaXNvRGF0ZXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG5cdCAgICAgICAgICAgIGlmIChpc29EYXRlc1tpXVsxXS5leGVjKG1hdGNoWzFdKSkge1xuXHQgICAgICAgICAgICAgICAgZGF0ZUZvcm1hdCA9IGlzb0RhdGVzW2ldWzBdO1xuXHQgICAgICAgICAgICAgICAgYWxsb3dUaW1lID0gaXNvRGF0ZXNbaV1bMl0gIT09IGZhbHNlO1xuXHQgICAgICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgICAgaWYgKGRhdGVGb3JtYXQgPT0gbnVsbCkge1xuXHQgICAgICAgICAgICBjb25maWcuX2lzVmFsaWQgPSBmYWxzZTtcblx0ICAgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAobWF0Y2hbM10pIHtcblx0ICAgICAgICAgICAgZm9yIChpID0gMCwgbCA9IGlzb1RpbWVzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuXHQgICAgICAgICAgICAgICAgaWYgKGlzb1RpbWVzW2ldWzFdLmV4ZWMobWF0Y2hbM10pKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgLy8gbWF0Y2hbMl0gc2hvdWxkIGJlICdUJyBvciBzcGFjZVxuXHQgICAgICAgICAgICAgICAgICAgIHRpbWVGb3JtYXQgPSAobWF0Y2hbMl0gfHwgJyAnKSArIGlzb1RpbWVzW2ldWzBdO1xuXHQgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIGlmICh0aW1lRm9ybWF0ID09IG51bGwpIHtcblx0ICAgICAgICAgICAgICAgIGNvbmZpZy5faXNWYWxpZCA9IGZhbHNlO1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmICghYWxsb3dUaW1lICYmIHRpbWVGb3JtYXQgIT0gbnVsbCkge1xuXHQgICAgICAgICAgICBjb25maWcuX2lzVmFsaWQgPSBmYWxzZTtcblx0ICAgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAobWF0Y2hbNF0pIHtcblx0ICAgICAgICAgICAgaWYgKHR6UmVnZXguZXhlYyhtYXRjaFs0XSkpIHtcblx0ICAgICAgICAgICAgICAgIHR6Rm9ybWF0ID0gJ1onO1xuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgY29uZmlnLl9pc1ZhbGlkID0gZmFsc2U7XG5cdCAgICAgICAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgICAgY29uZmlnLl9mID0gZGF0ZUZvcm1hdCArICh0aW1lRm9ybWF0IHx8ICcnKSArICh0ekZvcm1hdCB8fCAnJyk7XG5cdCAgICAgICAgY29uZmlnRnJvbVN0cmluZ0FuZEZvcm1hdChjb25maWcpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICBjb25maWcuX2lzVmFsaWQgPSBmYWxzZTtcblx0ICAgIH1cblx0fVxuXHRcblx0Ly8gZGF0ZSBmcm9tIGlzbyBmb3JtYXQgb3IgZmFsbGJhY2tcblx0ZnVuY3Rpb24gY29uZmlnRnJvbVN0cmluZyhjb25maWcpIHtcblx0ICAgIHZhciBtYXRjaGVkID0gYXNwTmV0SnNvblJlZ2V4LmV4ZWMoY29uZmlnLl9pKTtcblx0XG5cdCAgICBpZiAobWF0Y2hlZCAhPT0gbnVsbCkge1xuXHQgICAgICAgIGNvbmZpZy5fZCA9IG5ldyBEYXRlKCttYXRjaGVkWzFdKTtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICB9XG5cdFxuXHQgICAgY29uZmlnRnJvbUlTTyhjb25maWcpO1xuXHQgICAgaWYgKGNvbmZpZy5faXNWYWxpZCA9PT0gZmFsc2UpIHtcblx0ICAgICAgICBkZWxldGUgY29uZmlnLl9pc1ZhbGlkO1xuXHQgICAgICAgIGhvb2tzLmNyZWF0ZUZyb21JbnB1dEZhbGxiYWNrKGNvbmZpZyk7XG5cdCAgICB9XG5cdH1cblx0XG5cdGhvb2tzLmNyZWF0ZUZyb21JbnB1dEZhbGxiYWNrID0gZGVwcmVjYXRlKFxuXHQgICAgJ3ZhbHVlIHByb3ZpZGVkIGlzIG5vdCBpbiBhIHJlY29nbml6ZWQgSVNPIGZvcm1hdC4gbW9tZW50IGNvbnN0cnVjdGlvbiBmYWxscyBiYWNrIHRvIGpzIERhdGUoKSwgJyArXG5cdCAgICAnd2hpY2ggaXMgbm90IHJlbGlhYmxlIGFjcm9zcyBhbGwgYnJvd3NlcnMgYW5kIHZlcnNpb25zLiBOb24gSVNPIGRhdGUgZm9ybWF0cyBhcmUgJyArXG5cdCAgICAnZGlzY291cmFnZWQgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiBhbiB1cGNvbWluZyBtYWpvciByZWxlYXNlLiBQbGVhc2UgcmVmZXIgdG8gJyArXG5cdCAgICAnaHR0cDovL21vbWVudGpzLmNvbS9ndWlkZXMvIy93YXJuaW5ncy9qcy1kYXRlLyBmb3IgbW9yZSBpbmZvLicsXG5cdCAgICBmdW5jdGlvbiAoY29uZmlnKSB7XG5cdCAgICAgICAgY29uZmlnLl9kID0gbmV3IERhdGUoY29uZmlnLl9pICsgKGNvbmZpZy5fdXNlVVRDID8gJyBVVEMnIDogJycpKTtcblx0ICAgIH1cblx0KTtcblx0XG5cdC8vIFBpY2sgdGhlIGZpcnN0IGRlZmluZWQgb2YgdHdvIG9yIHRocmVlIGFyZ3VtZW50cy5cblx0ZnVuY3Rpb24gZGVmYXVsdHMoYSwgYiwgYykge1xuXHQgICAgaWYgKGEgIT0gbnVsbCkge1xuXHQgICAgICAgIHJldHVybiBhO1xuXHQgICAgfVxuXHQgICAgaWYgKGIgIT0gbnVsbCkge1xuXHQgICAgICAgIHJldHVybiBiO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIGM7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGN1cnJlbnREYXRlQXJyYXkoY29uZmlnKSB7XG5cdCAgICAvLyBob29rcyBpcyBhY3R1YWxseSB0aGUgZXhwb3J0ZWQgbW9tZW50IG9iamVjdFxuXHQgICAgdmFyIG5vd1ZhbHVlID0gbmV3IERhdGUoaG9va3Mubm93KCkpO1xuXHQgICAgaWYgKGNvbmZpZy5fdXNlVVRDKSB7XG5cdCAgICAgICAgcmV0dXJuIFtub3dWYWx1ZS5nZXRVVENGdWxsWWVhcigpLCBub3dWYWx1ZS5nZXRVVENNb250aCgpLCBub3dWYWx1ZS5nZXRVVENEYXRlKCldO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIFtub3dWYWx1ZS5nZXRGdWxsWWVhcigpLCBub3dWYWx1ZS5nZXRNb250aCgpLCBub3dWYWx1ZS5nZXREYXRlKCldO1xuXHR9XG5cdFxuXHQvLyBjb252ZXJ0IGFuIGFycmF5IHRvIGEgZGF0ZS5cblx0Ly8gdGhlIGFycmF5IHNob3VsZCBtaXJyb3IgdGhlIHBhcmFtZXRlcnMgYmVsb3dcblx0Ly8gbm90ZTogYWxsIHZhbHVlcyBwYXN0IHRoZSB5ZWFyIGFyZSBvcHRpb25hbCBhbmQgd2lsbCBkZWZhdWx0IHRvIHRoZSBsb3dlc3QgcG9zc2libGUgdmFsdWUuXG5cdC8vIFt5ZWFyLCBtb250aCwgZGF5ICwgaG91ciwgbWludXRlLCBzZWNvbmQsIG1pbGxpc2Vjb25kXVxuXHRmdW5jdGlvbiBjb25maWdGcm9tQXJyYXkgKGNvbmZpZykge1xuXHQgICAgdmFyIGksIGRhdGUsIGlucHV0ID0gW10sIGN1cnJlbnREYXRlLCB5ZWFyVG9Vc2U7XG5cdFxuXHQgICAgaWYgKGNvbmZpZy5fZCkge1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgIH1cblx0XG5cdCAgICBjdXJyZW50RGF0ZSA9IGN1cnJlbnREYXRlQXJyYXkoY29uZmlnKTtcblx0XG5cdCAgICAvL2NvbXB1dGUgZGF5IG9mIHRoZSB5ZWFyIGZyb20gd2Vla3MgYW5kIHdlZWtkYXlzXG5cdCAgICBpZiAoY29uZmlnLl93ICYmIGNvbmZpZy5fYVtEQVRFXSA9PSBudWxsICYmIGNvbmZpZy5fYVtNT05USF0gPT0gbnVsbCkge1xuXHQgICAgICAgIGRheU9mWWVhckZyb21XZWVrSW5mbyhjb25maWcpO1xuXHQgICAgfVxuXHRcblx0ICAgIC8vaWYgdGhlIGRheSBvZiB0aGUgeWVhciBpcyBzZXQsIGZpZ3VyZSBvdXQgd2hhdCBpdCBpc1xuXHQgICAgaWYgKGNvbmZpZy5fZGF5T2ZZZWFyKSB7XG5cdCAgICAgICAgeWVhclRvVXNlID0gZGVmYXVsdHMoY29uZmlnLl9hW1lFQVJdLCBjdXJyZW50RGF0ZVtZRUFSXSk7XG5cdFxuXHQgICAgICAgIGlmIChjb25maWcuX2RheU9mWWVhciA+IGRheXNJblllYXIoeWVhclRvVXNlKSkge1xuXHQgICAgICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5fb3ZlcmZsb3dEYXlPZlllYXIgPSB0cnVlO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgZGF0ZSA9IGNyZWF0ZVVUQ0RhdGUoeWVhclRvVXNlLCAwLCBjb25maWcuX2RheU9mWWVhcik7XG5cdCAgICAgICAgY29uZmlnLl9hW01PTlRIXSA9IGRhdGUuZ2V0VVRDTW9udGgoKTtcblx0ICAgICAgICBjb25maWcuX2FbREFURV0gPSBkYXRlLmdldFVUQ0RhdGUoKTtcblx0ICAgIH1cblx0XG5cdCAgICAvLyBEZWZhdWx0IHRvIGN1cnJlbnQgZGF0ZS5cblx0ICAgIC8vICogaWYgbm8geWVhciwgbW9udGgsIGRheSBvZiBtb250aCBhcmUgZ2l2ZW4sIGRlZmF1bHQgdG8gdG9kYXlcblx0ICAgIC8vICogaWYgZGF5IG9mIG1vbnRoIGlzIGdpdmVuLCBkZWZhdWx0IG1vbnRoIGFuZCB5ZWFyXG5cdCAgICAvLyAqIGlmIG1vbnRoIGlzIGdpdmVuLCBkZWZhdWx0IG9ubHkgeWVhclxuXHQgICAgLy8gKiBpZiB5ZWFyIGlzIGdpdmVuLCBkb24ndCBkZWZhdWx0IGFueXRoaW5nXG5cdCAgICBmb3IgKGkgPSAwOyBpIDwgMyAmJiBjb25maWcuX2FbaV0gPT0gbnVsbDsgKytpKSB7XG5cdCAgICAgICAgY29uZmlnLl9hW2ldID0gaW5wdXRbaV0gPSBjdXJyZW50RGF0ZVtpXTtcblx0ICAgIH1cblx0XG5cdCAgICAvLyBaZXJvIG91dCB3aGF0ZXZlciB3YXMgbm90IGRlZmF1bHRlZCwgaW5jbHVkaW5nIHRpbWVcblx0ICAgIGZvciAoOyBpIDwgNzsgaSsrKSB7XG5cdCAgICAgICAgY29uZmlnLl9hW2ldID0gaW5wdXRbaV0gPSAoY29uZmlnLl9hW2ldID09IG51bGwpID8gKGkgPT09IDIgPyAxIDogMCkgOiBjb25maWcuX2FbaV07XG5cdCAgICB9XG5cdFxuXHQgICAgLy8gQ2hlY2sgZm9yIDI0OjAwOjAwLjAwMFxuXHQgICAgaWYgKGNvbmZpZy5fYVtIT1VSXSA9PT0gMjQgJiZcblx0ICAgICAgICAgICAgY29uZmlnLl9hW01JTlVURV0gPT09IDAgJiZcblx0ICAgICAgICAgICAgY29uZmlnLl9hW1NFQ09ORF0gPT09IDAgJiZcblx0ICAgICAgICAgICAgY29uZmlnLl9hW01JTExJU0VDT05EXSA9PT0gMCkge1xuXHQgICAgICAgIGNvbmZpZy5fbmV4dERheSA9IHRydWU7XG5cdCAgICAgICAgY29uZmlnLl9hW0hPVVJdID0gMDtcblx0ICAgIH1cblx0XG5cdCAgICBjb25maWcuX2QgPSAoY29uZmlnLl91c2VVVEMgPyBjcmVhdGVVVENEYXRlIDogY3JlYXRlRGF0ZSkuYXBwbHkobnVsbCwgaW5wdXQpO1xuXHQgICAgLy8gQXBwbHkgdGltZXpvbmUgb2Zmc2V0IGZyb20gaW5wdXQuIFRoZSBhY3R1YWwgdXRjT2Zmc2V0IGNhbiBiZSBjaGFuZ2VkXG5cdCAgICAvLyB3aXRoIHBhcnNlWm9uZS5cblx0ICAgIGlmIChjb25maWcuX3R6bSAhPSBudWxsKSB7XG5cdCAgICAgICAgY29uZmlnLl9kLnNldFVUQ01pbnV0ZXMoY29uZmlnLl9kLmdldFVUQ01pbnV0ZXMoKSAtIGNvbmZpZy5fdHptKTtcblx0ICAgIH1cblx0XG5cdCAgICBpZiAoY29uZmlnLl9uZXh0RGF5KSB7XG5cdCAgICAgICAgY29uZmlnLl9hW0hPVVJdID0gMjQ7XG5cdCAgICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGRheU9mWWVhckZyb21XZWVrSW5mbyhjb25maWcpIHtcblx0ICAgIHZhciB3LCB3ZWVrWWVhciwgd2Vlaywgd2Vla2RheSwgZG93LCBkb3ksIHRlbXAsIHdlZWtkYXlPdmVyZmxvdztcblx0XG5cdCAgICB3ID0gY29uZmlnLl93O1xuXHQgICAgaWYgKHcuR0cgIT0gbnVsbCB8fCB3LlcgIT0gbnVsbCB8fCB3LkUgIT0gbnVsbCkge1xuXHQgICAgICAgIGRvdyA9IDE7XG5cdCAgICAgICAgZG95ID0gNDtcblx0XG5cdCAgICAgICAgLy8gVE9ETzogV2UgbmVlZCB0byB0YWtlIHRoZSBjdXJyZW50IGlzb1dlZWtZZWFyLCBidXQgdGhhdCBkZXBlbmRzIG9uXG5cdCAgICAgICAgLy8gaG93IHdlIGludGVycHJldCBub3cgKGxvY2FsLCB1dGMsIGZpeGVkIG9mZnNldCkuIFNvIGNyZWF0ZVxuXHQgICAgICAgIC8vIGEgbm93IHZlcnNpb24gb2YgY3VycmVudCBjb25maWcgKHRha2UgbG9jYWwvdXRjL29mZnNldCBmbGFncywgYW5kXG5cdCAgICAgICAgLy8gY3JlYXRlIG5vdykuXG5cdCAgICAgICAgd2Vla1llYXIgPSBkZWZhdWx0cyh3LkdHLCBjb25maWcuX2FbWUVBUl0sIHdlZWtPZlllYXIoY3JlYXRlTG9jYWwoKSwgMSwgNCkueWVhcik7XG5cdCAgICAgICAgd2VlayA9IGRlZmF1bHRzKHcuVywgMSk7XG5cdCAgICAgICAgd2Vla2RheSA9IGRlZmF1bHRzKHcuRSwgMSk7XG5cdCAgICAgICAgaWYgKHdlZWtkYXkgPCAxIHx8IHdlZWtkYXkgPiA3KSB7XG5cdCAgICAgICAgICAgIHdlZWtkYXlPdmVyZmxvdyA9IHRydWU7XG5cdCAgICAgICAgfVxuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICBkb3cgPSBjb25maWcuX2xvY2FsZS5fd2Vlay5kb3c7XG5cdCAgICAgICAgZG95ID0gY29uZmlnLl9sb2NhbGUuX3dlZWsuZG95O1xuXHRcblx0ICAgICAgICB2YXIgY3VyV2VlayA9IHdlZWtPZlllYXIoY3JlYXRlTG9jYWwoKSwgZG93LCBkb3kpO1xuXHRcblx0ICAgICAgICB3ZWVrWWVhciA9IGRlZmF1bHRzKHcuZ2csIGNvbmZpZy5fYVtZRUFSXSwgY3VyV2Vlay55ZWFyKTtcblx0XG5cdCAgICAgICAgLy8gRGVmYXVsdCB0byBjdXJyZW50IHdlZWsuXG5cdCAgICAgICAgd2VlayA9IGRlZmF1bHRzKHcudywgY3VyV2Vlay53ZWVrKTtcblx0XG5cdCAgICAgICAgaWYgKHcuZCAhPSBudWxsKSB7XG5cdCAgICAgICAgICAgIC8vIHdlZWtkYXkgLS0gbG93IGRheSBudW1iZXJzIGFyZSBjb25zaWRlcmVkIG5leHQgd2Vla1xuXHQgICAgICAgICAgICB3ZWVrZGF5ID0gdy5kO1xuXHQgICAgICAgICAgICBpZiAod2Vla2RheSA8IDAgfHwgd2Vla2RheSA+IDYpIHtcblx0ICAgICAgICAgICAgICAgIHdlZWtkYXlPdmVyZmxvdyA9IHRydWU7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9IGVsc2UgaWYgKHcuZSAhPSBudWxsKSB7XG5cdCAgICAgICAgICAgIC8vIGxvY2FsIHdlZWtkYXkgLS0gY291bnRpbmcgc3RhcnRzIGZyb20gYmVnaW5pbmcgb2Ygd2Vla1xuXHQgICAgICAgICAgICB3ZWVrZGF5ID0gdy5lICsgZG93O1xuXHQgICAgICAgICAgICBpZiAody5lIDwgMCB8fCB3LmUgPiA2KSB7XG5cdCAgICAgICAgICAgICAgICB3ZWVrZGF5T3ZlcmZsb3cgPSB0cnVlO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgLy8gZGVmYXVsdCB0byBiZWdpbmluZyBvZiB3ZWVrXG5cdCAgICAgICAgICAgIHdlZWtkYXkgPSBkb3c7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHQgICAgaWYgKHdlZWsgPCAxIHx8IHdlZWsgPiB3ZWVrc0luWWVhcih3ZWVrWWVhciwgZG93LCBkb3kpKSB7XG5cdCAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuX292ZXJmbG93V2Vla3MgPSB0cnVlO1xuXHQgICAgfSBlbHNlIGlmICh3ZWVrZGF5T3ZlcmZsb3cgIT0gbnVsbCkge1xuXHQgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLl9vdmVyZmxvd1dlZWtkYXkgPSB0cnVlO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICB0ZW1wID0gZGF5T2ZZZWFyRnJvbVdlZWtzKHdlZWtZZWFyLCB3ZWVrLCB3ZWVrZGF5LCBkb3csIGRveSk7XG5cdCAgICAgICAgY29uZmlnLl9hW1lFQVJdID0gdGVtcC55ZWFyO1xuXHQgICAgICAgIGNvbmZpZy5fZGF5T2ZZZWFyID0gdGVtcC5kYXlPZlllYXI7XG5cdCAgICB9XG5cdH1cblx0XG5cdC8vIGNvbnN0YW50IHRoYXQgcmVmZXJzIHRvIHRoZSBJU08gc3RhbmRhcmRcblx0aG9va3MuSVNPXzg2MDEgPSBmdW5jdGlvbiAoKSB7fTtcblx0XG5cdC8vIGRhdGUgZnJvbSBzdHJpbmcgYW5kIGZvcm1hdCBzdHJpbmdcblx0ZnVuY3Rpb24gY29uZmlnRnJvbVN0cmluZ0FuZEZvcm1hdChjb25maWcpIHtcblx0ICAgIC8vIFRPRE86IE1vdmUgdGhpcyB0byBhbm90aGVyIHBhcnQgb2YgdGhlIGNyZWF0aW9uIGZsb3cgdG8gcHJldmVudCBjaXJjdWxhciBkZXBzXG5cdCAgICBpZiAoY29uZmlnLl9mID09PSBob29rcy5JU09fODYwMSkge1xuXHQgICAgICAgIGNvbmZpZ0Zyb21JU08oY29uZmlnKTtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICB9XG5cdFxuXHQgICAgY29uZmlnLl9hID0gW107XG5cdCAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5lbXB0eSA9IHRydWU7XG5cdFxuXHQgICAgLy8gVGhpcyBhcnJheSBpcyB1c2VkIHRvIG1ha2UgYSBEYXRlLCBlaXRoZXIgd2l0aCBgbmV3IERhdGVgIG9yIGBEYXRlLlVUQ2Bcblx0ICAgIHZhciBzdHJpbmcgPSAnJyArIGNvbmZpZy5faSxcblx0ICAgICAgICBpLCBwYXJzZWRJbnB1dCwgdG9rZW5zLCB0b2tlbiwgc2tpcHBlZCxcblx0ICAgICAgICBzdHJpbmdMZW5ndGggPSBzdHJpbmcubGVuZ3RoLFxuXHQgICAgICAgIHRvdGFsUGFyc2VkSW5wdXRMZW5ndGggPSAwO1xuXHRcblx0ICAgIHRva2VucyA9IGV4cGFuZEZvcm1hdChjb25maWcuX2YsIGNvbmZpZy5fbG9jYWxlKS5tYXRjaChmb3JtYXR0aW5nVG9rZW5zKSB8fCBbXTtcblx0XG5cdCAgICBmb3IgKGkgPSAwOyBpIDwgdG9rZW5zLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgdG9rZW4gPSB0b2tlbnNbaV07XG5cdCAgICAgICAgcGFyc2VkSW5wdXQgPSAoc3RyaW5nLm1hdGNoKGdldFBhcnNlUmVnZXhGb3JUb2tlbih0b2tlbiwgY29uZmlnKSkgfHwgW10pWzBdO1xuXHQgICAgICAgIC8vIGNvbnNvbGUubG9nKCd0b2tlbicsIHRva2VuLCAncGFyc2VkSW5wdXQnLCBwYXJzZWRJbnB1dCxcblx0ICAgICAgICAvLyAgICAgICAgICdyZWdleCcsIGdldFBhcnNlUmVnZXhGb3JUb2tlbih0b2tlbiwgY29uZmlnKSk7XG5cdCAgICAgICAgaWYgKHBhcnNlZElucHV0KSB7XG5cdCAgICAgICAgICAgIHNraXBwZWQgPSBzdHJpbmcuc3Vic3RyKDAsIHN0cmluZy5pbmRleE9mKHBhcnNlZElucHV0KSk7XG5cdCAgICAgICAgICAgIGlmIChza2lwcGVkLmxlbmd0aCA+IDApIHtcblx0ICAgICAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLnVudXNlZElucHV0LnB1c2goc2tpcHBlZCk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgc3RyaW5nID0gc3RyaW5nLnNsaWNlKHN0cmluZy5pbmRleE9mKHBhcnNlZElucHV0KSArIHBhcnNlZElucHV0Lmxlbmd0aCk7XG5cdCAgICAgICAgICAgIHRvdGFsUGFyc2VkSW5wdXRMZW5ndGggKz0gcGFyc2VkSW5wdXQubGVuZ3RoO1xuXHQgICAgICAgIH1cblx0ICAgICAgICAvLyBkb24ndCBwYXJzZSBpZiBpdCdzIG5vdCBhIGtub3duIHRva2VuXG5cdCAgICAgICAgaWYgKGZvcm1hdFRva2VuRnVuY3Rpb25zW3Rva2VuXSkge1xuXHQgICAgICAgICAgICBpZiAocGFyc2VkSW5wdXQpIHtcblx0ICAgICAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmVtcHR5ID0gZmFsc2U7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgZWxzZSB7XG5cdCAgICAgICAgICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS51bnVzZWRUb2tlbnMucHVzaCh0b2tlbik7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgYWRkVGltZVRvQXJyYXlGcm9tVG9rZW4odG9rZW4sIHBhcnNlZElucHV0LCBjb25maWcpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBlbHNlIGlmIChjb25maWcuX3N0cmljdCAmJiAhcGFyc2VkSW5wdXQpIHtcblx0ICAgICAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykudW51c2VkVG9rZW5zLnB1c2godG9rZW4pO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICAvLyBhZGQgcmVtYWluaW5nIHVucGFyc2VkIGlucHV0IGxlbmd0aCB0byB0aGUgc3RyaW5nXG5cdCAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5jaGFyc0xlZnRPdmVyID0gc3RyaW5nTGVuZ3RoIC0gdG90YWxQYXJzZWRJbnB1dExlbmd0aDtcblx0ICAgIGlmIChzdHJpbmcubGVuZ3RoID4gMCkge1xuXHQgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLnVudXNlZElucHV0LnB1c2goc3RyaW5nKTtcblx0ICAgIH1cblx0XG5cdCAgICAvLyBjbGVhciBfMTJoIGZsYWcgaWYgaG91ciBpcyA8PSAxMlxuXHQgICAgaWYgKGNvbmZpZy5fYVtIT1VSXSA8PSAxMiAmJlxuXHQgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmJpZ0hvdXIgPT09IHRydWUgJiZcblx0ICAgICAgICBjb25maWcuX2FbSE9VUl0gPiAwKSB7XG5cdCAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuYmlnSG91ciA9IHVuZGVmaW5lZDtcblx0ICAgIH1cblx0XG5cdCAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5wYXJzZWREYXRlUGFydHMgPSBjb25maWcuX2Euc2xpY2UoMCk7XG5cdCAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5tZXJpZGllbSA9IGNvbmZpZy5fbWVyaWRpZW07XG5cdCAgICAvLyBoYW5kbGUgbWVyaWRpZW1cblx0ICAgIGNvbmZpZy5fYVtIT1VSXSA9IG1lcmlkaWVtRml4V3JhcChjb25maWcuX2xvY2FsZSwgY29uZmlnLl9hW0hPVVJdLCBjb25maWcuX21lcmlkaWVtKTtcblx0XG5cdCAgICBjb25maWdGcm9tQXJyYXkoY29uZmlnKTtcblx0ICAgIGNoZWNrT3ZlcmZsb3coY29uZmlnKTtcblx0fVxuXHRcblx0XG5cdGZ1bmN0aW9uIG1lcmlkaWVtRml4V3JhcCAobG9jYWxlLCBob3VyLCBtZXJpZGllbSkge1xuXHQgICAgdmFyIGlzUG07XG5cdFxuXHQgICAgaWYgKG1lcmlkaWVtID09IG51bGwpIHtcblx0ICAgICAgICAvLyBub3RoaW5nIHRvIGRvXG5cdCAgICAgICAgcmV0dXJuIGhvdXI7XG5cdCAgICB9XG5cdCAgICBpZiAobG9jYWxlLm1lcmlkaWVtSG91ciAhPSBudWxsKSB7XG5cdCAgICAgICAgcmV0dXJuIGxvY2FsZS5tZXJpZGllbUhvdXIoaG91ciwgbWVyaWRpZW0pO1xuXHQgICAgfSBlbHNlIGlmIChsb2NhbGUuaXNQTSAhPSBudWxsKSB7XG5cdCAgICAgICAgLy8gRmFsbGJhY2tcblx0ICAgICAgICBpc1BtID0gbG9jYWxlLmlzUE0obWVyaWRpZW0pO1xuXHQgICAgICAgIGlmIChpc1BtICYmIGhvdXIgPCAxMikge1xuXHQgICAgICAgICAgICBob3VyICs9IDEyO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAoIWlzUG0gJiYgaG91ciA9PT0gMTIpIHtcblx0ICAgICAgICAgICAgaG91ciA9IDA7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiBob3VyO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICAvLyB0aGlzIGlzIG5vdCBzdXBwb3NlZCB0byBoYXBwZW5cblx0ICAgICAgICByZXR1cm4gaG91cjtcblx0ICAgIH1cblx0fVxuXHRcblx0Ly8gZGF0ZSBmcm9tIHN0cmluZyBhbmQgYXJyYXkgb2YgZm9ybWF0IHN0cmluZ3Ncblx0ZnVuY3Rpb24gY29uZmlnRnJvbVN0cmluZ0FuZEFycmF5KGNvbmZpZykge1xuXHQgICAgdmFyIHRlbXBDb25maWcsXG5cdCAgICAgICAgYmVzdE1vbWVudCxcblx0XG5cdCAgICAgICAgc2NvcmVUb0JlYXQsXG5cdCAgICAgICAgaSxcblx0ICAgICAgICBjdXJyZW50U2NvcmU7XG5cdFxuXHQgICAgaWYgKGNvbmZpZy5fZi5sZW5ndGggPT09IDApIHtcblx0ICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5pbnZhbGlkRm9ybWF0ID0gdHJ1ZTtcblx0ICAgICAgICBjb25maWcuX2QgPSBuZXcgRGF0ZShOYU4pO1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgIH1cblx0XG5cdCAgICBmb3IgKGkgPSAwOyBpIDwgY29uZmlnLl9mLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgY3VycmVudFNjb3JlID0gMDtcblx0ICAgICAgICB0ZW1wQ29uZmlnID0gY29weUNvbmZpZyh7fSwgY29uZmlnKTtcblx0ICAgICAgICBpZiAoY29uZmlnLl91c2VVVEMgIT0gbnVsbCkge1xuXHQgICAgICAgICAgICB0ZW1wQ29uZmlnLl91c2VVVEMgPSBjb25maWcuX3VzZVVUQztcblx0ICAgICAgICB9XG5cdCAgICAgICAgdGVtcENvbmZpZy5fZiA9IGNvbmZpZy5fZltpXTtcblx0ICAgICAgICBjb25maWdGcm9tU3RyaW5nQW5kRm9ybWF0KHRlbXBDb25maWcpO1xuXHRcblx0ICAgICAgICBpZiAoIWlzVmFsaWQodGVtcENvbmZpZykpIHtcblx0ICAgICAgICAgICAgY29udGludWU7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICAvLyBpZiB0aGVyZSBpcyBhbnkgaW5wdXQgdGhhdCB3YXMgbm90IHBhcnNlZCBhZGQgYSBwZW5hbHR5IGZvciB0aGF0IGZvcm1hdFxuXHQgICAgICAgIGN1cnJlbnRTY29yZSArPSBnZXRQYXJzaW5nRmxhZ3ModGVtcENvbmZpZykuY2hhcnNMZWZ0T3Zlcjtcblx0XG5cdCAgICAgICAgLy9vciB0b2tlbnNcblx0ICAgICAgICBjdXJyZW50U2NvcmUgKz0gZ2V0UGFyc2luZ0ZsYWdzKHRlbXBDb25maWcpLnVudXNlZFRva2Vucy5sZW5ndGggKiAxMDtcblx0XG5cdCAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKHRlbXBDb25maWcpLnNjb3JlID0gY3VycmVudFNjb3JlO1xuXHRcblx0ICAgICAgICBpZiAoc2NvcmVUb0JlYXQgPT0gbnVsbCB8fCBjdXJyZW50U2NvcmUgPCBzY29yZVRvQmVhdCkge1xuXHQgICAgICAgICAgICBzY29yZVRvQmVhdCA9IGN1cnJlbnRTY29yZTtcblx0ICAgICAgICAgICAgYmVzdE1vbWVudCA9IHRlbXBDb25maWc7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIGV4dGVuZChjb25maWcsIGJlc3RNb21lbnQgfHwgdGVtcENvbmZpZyk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGNvbmZpZ0Zyb21PYmplY3QoY29uZmlnKSB7XG5cdCAgICBpZiAoY29uZmlnLl9kKSB7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHRcblx0ICAgIHZhciBpID0gbm9ybWFsaXplT2JqZWN0VW5pdHMoY29uZmlnLl9pKTtcblx0ICAgIGNvbmZpZy5fYSA9IG1hcChbaS55ZWFyLCBpLm1vbnRoLCBpLmRheSB8fCBpLmRhdGUsIGkuaG91ciwgaS5taW51dGUsIGkuc2Vjb25kLCBpLm1pbGxpc2Vjb25kXSwgZnVuY3Rpb24gKG9iaikge1xuXHQgICAgICAgIHJldHVybiBvYmogJiYgcGFyc2VJbnQob2JqLCAxMCk7XG5cdCAgICB9KTtcblx0XG5cdCAgICBjb25maWdGcm9tQXJyYXkoY29uZmlnKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gY3JlYXRlRnJvbUNvbmZpZyAoY29uZmlnKSB7XG5cdCAgICB2YXIgcmVzID0gbmV3IE1vbWVudChjaGVja092ZXJmbG93KHByZXBhcmVDb25maWcoY29uZmlnKSkpO1xuXHQgICAgaWYgKHJlcy5fbmV4dERheSkge1xuXHQgICAgICAgIC8vIEFkZGluZyBpcyBzbWFydCBlbm91Z2ggYXJvdW5kIERTVFxuXHQgICAgICAgIHJlcy5hZGQoMSwgJ2QnKTtcblx0ICAgICAgICByZXMuX25leHREYXkgPSB1bmRlZmluZWQ7XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIHJlcztcblx0fVxuXHRcblx0ZnVuY3Rpb24gcHJlcGFyZUNvbmZpZyAoY29uZmlnKSB7XG5cdCAgICB2YXIgaW5wdXQgPSBjb25maWcuX2ksXG5cdCAgICAgICAgZm9ybWF0ID0gY29uZmlnLl9mO1xuXHRcblx0ICAgIGNvbmZpZy5fbG9jYWxlID0gY29uZmlnLl9sb2NhbGUgfHwgZ2V0TG9jYWxlKGNvbmZpZy5fbCk7XG5cdFxuXHQgICAgaWYgKGlucHV0ID09PSBudWxsIHx8IChmb3JtYXQgPT09IHVuZGVmaW5lZCAmJiBpbnB1dCA9PT0gJycpKSB7XG5cdCAgICAgICAgcmV0dXJuIGNyZWF0ZUludmFsaWQoe251bGxJbnB1dDogdHJ1ZX0pO1xuXHQgICAgfVxuXHRcblx0ICAgIGlmICh0eXBlb2YgaW5wdXQgPT09ICdzdHJpbmcnKSB7XG5cdCAgICAgICAgY29uZmlnLl9pID0gaW5wdXQgPSBjb25maWcuX2xvY2FsZS5wcmVwYXJzZShpbnB1dCk7XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKGlzTW9tZW50KGlucHV0KSkge1xuXHQgICAgICAgIHJldHVybiBuZXcgTW9tZW50KGNoZWNrT3ZlcmZsb3coaW5wdXQpKTtcblx0ICAgIH0gZWxzZSBpZiAoaXNEYXRlKGlucHV0KSkge1xuXHQgICAgICAgIGNvbmZpZy5fZCA9IGlucHV0O1xuXHQgICAgfSBlbHNlIGlmIChpc0FycmF5KGZvcm1hdCkpIHtcblx0ICAgICAgICBjb25maWdGcm9tU3RyaW5nQW5kQXJyYXkoY29uZmlnKTtcblx0ICAgIH0gZWxzZSBpZiAoZm9ybWF0KSB7XG5cdCAgICAgICAgY29uZmlnRnJvbVN0cmluZ0FuZEZvcm1hdChjb25maWcpO1xuXHQgICAgfSAgZWxzZSB7XG5cdCAgICAgICAgY29uZmlnRnJvbUlucHV0KGNvbmZpZyk7XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKCFpc1ZhbGlkKGNvbmZpZykpIHtcblx0ICAgICAgICBjb25maWcuX2QgPSBudWxsO1xuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiBjb25maWc7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGNvbmZpZ0Zyb21JbnB1dChjb25maWcpIHtcblx0ICAgIHZhciBpbnB1dCA9IGNvbmZpZy5faTtcblx0ICAgIGlmIChpbnB1dCA9PT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgY29uZmlnLl9kID0gbmV3IERhdGUoaG9va3Mubm93KCkpO1xuXHQgICAgfSBlbHNlIGlmIChpc0RhdGUoaW5wdXQpKSB7XG5cdCAgICAgICAgY29uZmlnLl9kID0gbmV3IERhdGUoaW5wdXQudmFsdWVPZigpKTtcblx0ICAgIH0gZWxzZSBpZiAodHlwZW9mIGlucHV0ID09PSAnc3RyaW5nJykge1xuXHQgICAgICAgIGNvbmZpZ0Zyb21TdHJpbmcoY29uZmlnKTtcblx0ICAgIH0gZWxzZSBpZiAoaXNBcnJheShpbnB1dCkpIHtcblx0ICAgICAgICBjb25maWcuX2EgPSBtYXAoaW5wdXQuc2xpY2UoMCksIGZ1bmN0aW9uIChvYmopIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHBhcnNlSW50KG9iaiwgMTApO1xuXHQgICAgICAgIH0pO1xuXHQgICAgICAgIGNvbmZpZ0Zyb21BcnJheShjb25maWcpO1xuXHQgICAgfSBlbHNlIGlmICh0eXBlb2YoaW5wdXQpID09PSAnb2JqZWN0Jykge1xuXHQgICAgICAgIGNvbmZpZ0Zyb21PYmplY3QoY29uZmlnKTtcblx0ICAgIH0gZWxzZSBpZiAoaXNOdW1iZXIoaW5wdXQpKSB7XG5cdCAgICAgICAgLy8gZnJvbSBtaWxsaXNlY29uZHNcblx0ICAgICAgICBjb25maWcuX2QgPSBuZXcgRGF0ZShpbnB1dCk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIGhvb2tzLmNyZWF0ZUZyb21JbnB1dEZhbGxiYWNrKGNvbmZpZyk7XG5cdCAgICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGNyZWF0ZUxvY2FsT3JVVEMgKGlucHV0LCBmb3JtYXQsIGxvY2FsZSwgc3RyaWN0LCBpc1VUQykge1xuXHQgICAgdmFyIGMgPSB7fTtcblx0XG5cdCAgICBpZiAobG9jYWxlID09PSB0cnVlIHx8IGxvY2FsZSA9PT0gZmFsc2UpIHtcblx0ICAgICAgICBzdHJpY3QgPSBsb2NhbGU7XG5cdCAgICAgICAgbG9jYWxlID0gdW5kZWZpbmVkO1xuXHQgICAgfVxuXHRcblx0ICAgIGlmICgoaXNPYmplY3QoaW5wdXQpICYmIGlzT2JqZWN0RW1wdHkoaW5wdXQpKSB8fFxuXHQgICAgICAgICAgICAoaXNBcnJheShpbnB1dCkgJiYgaW5wdXQubGVuZ3RoID09PSAwKSkge1xuXHQgICAgICAgIGlucHV0ID0gdW5kZWZpbmVkO1xuXHQgICAgfVxuXHQgICAgLy8gb2JqZWN0IGNvbnN0cnVjdGlvbiBtdXN0IGJlIGRvbmUgdGhpcyB3YXkuXG5cdCAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vbW9tZW50L21vbWVudC9pc3N1ZXMvMTQyM1xuXHQgICAgYy5faXNBTW9tZW50T2JqZWN0ID0gdHJ1ZTtcblx0ICAgIGMuX3VzZVVUQyA9IGMuX2lzVVRDID0gaXNVVEM7XG5cdCAgICBjLl9sID0gbG9jYWxlO1xuXHQgICAgYy5faSA9IGlucHV0O1xuXHQgICAgYy5fZiA9IGZvcm1hdDtcblx0ICAgIGMuX3N0cmljdCA9IHN0cmljdDtcblx0XG5cdCAgICByZXR1cm4gY3JlYXRlRnJvbUNvbmZpZyhjKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gY3JlYXRlTG9jYWwgKGlucHV0LCBmb3JtYXQsIGxvY2FsZSwgc3RyaWN0KSB7XG5cdCAgICByZXR1cm4gY3JlYXRlTG9jYWxPclVUQyhpbnB1dCwgZm9ybWF0LCBsb2NhbGUsIHN0cmljdCwgZmFsc2UpO1xuXHR9XG5cdFxuXHR2YXIgcHJvdG90eXBlTWluID0gZGVwcmVjYXRlKFxuXHQgICAgJ21vbWVudCgpLm1pbiBpcyBkZXByZWNhdGVkLCB1c2UgbW9tZW50Lm1heCBpbnN0ZWFkLiBodHRwOi8vbW9tZW50anMuY29tL2d1aWRlcy8jL3dhcm5pbmdzL21pbi1tYXgvJyxcblx0ICAgIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICB2YXIgb3RoZXIgPSBjcmVhdGVMb2NhbC5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuXHQgICAgICAgIGlmICh0aGlzLmlzVmFsaWQoKSAmJiBvdGhlci5pc1ZhbGlkKCkpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIG90aGVyIDwgdGhpcyA/IHRoaXMgOiBvdGhlcjtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICByZXR1cm4gY3JlYXRlSW52YWxpZCgpO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0KTtcblx0XG5cdHZhciBwcm90b3R5cGVNYXggPSBkZXByZWNhdGUoXG5cdCAgICAnbW9tZW50KCkubWF4IGlzIGRlcHJlY2F0ZWQsIHVzZSBtb21lbnQubWluIGluc3RlYWQuIGh0dHA6Ly9tb21lbnRqcy5jb20vZ3VpZGVzLyMvd2FybmluZ3MvbWluLW1heC8nLFxuXHQgICAgZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIHZhciBvdGhlciA9IGNyZWF0ZUxvY2FsLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG5cdCAgICAgICAgaWYgKHRoaXMuaXNWYWxpZCgpICYmIG90aGVyLmlzVmFsaWQoKSkge1xuXHQgICAgICAgICAgICByZXR1cm4gb3RoZXIgPiB0aGlzID8gdGhpcyA6IG90aGVyO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIHJldHVybiBjcmVhdGVJbnZhbGlkKCk7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHQpO1xuXHRcblx0Ly8gUGljayBhIG1vbWVudCBtIGZyb20gbW9tZW50cyBzbyB0aGF0IG1bZm5dKG90aGVyKSBpcyB0cnVlIGZvciBhbGxcblx0Ly8gb3RoZXIuIFRoaXMgcmVsaWVzIG9uIHRoZSBmdW5jdGlvbiBmbiB0byBiZSB0cmFuc2l0aXZlLlxuXHQvL1xuXHQvLyBtb21lbnRzIHNob3VsZCBlaXRoZXIgYmUgYW4gYXJyYXkgb2YgbW9tZW50IG9iamVjdHMgb3IgYW4gYXJyYXksIHdob3NlXG5cdC8vIGZpcnN0IGVsZW1lbnQgaXMgYW4gYXJyYXkgb2YgbW9tZW50IG9iamVjdHMuXG5cdGZ1bmN0aW9uIHBpY2tCeShmbiwgbW9tZW50cykge1xuXHQgICAgdmFyIHJlcywgaTtcblx0ICAgIGlmIChtb21lbnRzLmxlbmd0aCA9PT0gMSAmJiBpc0FycmF5KG1vbWVudHNbMF0pKSB7XG5cdCAgICAgICAgbW9tZW50cyA9IG1vbWVudHNbMF07XG5cdCAgICB9XG5cdCAgICBpZiAoIW1vbWVudHMubGVuZ3RoKSB7XG5cdCAgICAgICAgcmV0dXJuIGNyZWF0ZUxvY2FsKCk7XG5cdCAgICB9XG5cdCAgICByZXMgPSBtb21lbnRzWzBdO1xuXHQgICAgZm9yIChpID0gMTsgaSA8IG1vbWVudHMubGVuZ3RoOyArK2kpIHtcblx0ICAgICAgICBpZiAoIW1vbWVudHNbaV0uaXNWYWxpZCgpIHx8IG1vbWVudHNbaV1bZm5dKHJlcykpIHtcblx0ICAgICAgICAgICAgcmVzID0gbW9tZW50c1tpXTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdCAgICByZXR1cm4gcmVzO1xuXHR9XG5cdFxuXHQvLyBUT0RPOiBVc2UgW10uc29ydCBpbnN0ZWFkP1xuXHRmdW5jdGlvbiBtaW4gKCkge1xuXHQgICAgdmFyIGFyZ3MgPSBbXS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMCk7XG5cdFxuXHQgICAgcmV0dXJuIHBpY2tCeSgnaXNCZWZvcmUnLCBhcmdzKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gbWF4ICgpIHtcblx0ICAgIHZhciBhcmdzID0gW10uc2xpY2UuY2FsbChhcmd1bWVudHMsIDApO1xuXHRcblx0ICAgIHJldHVybiBwaWNrQnkoJ2lzQWZ0ZXInLCBhcmdzKTtcblx0fVxuXHRcblx0dmFyIG5vdyA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHJldHVybiBEYXRlLm5vdyA/IERhdGUubm93KCkgOiArKG5ldyBEYXRlKCkpO1xuXHR9O1xuXHRcblx0ZnVuY3Rpb24gRHVyYXRpb24gKGR1cmF0aW9uKSB7XG5cdCAgICB2YXIgbm9ybWFsaXplZElucHV0ID0gbm9ybWFsaXplT2JqZWN0VW5pdHMoZHVyYXRpb24pLFxuXHQgICAgICAgIHllYXJzID0gbm9ybWFsaXplZElucHV0LnllYXIgfHwgMCxcblx0ICAgICAgICBxdWFydGVycyA9IG5vcm1hbGl6ZWRJbnB1dC5xdWFydGVyIHx8IDAsXG5cdCAgICAgICAgbW9udGhzID0gbm9ybWFsaXplZElucHV0Lm1vbnRoIHx8IDAsXG5cdCAgICAgICAgd2Vla3MgPSBub3JtYWxpemVkSW5wdXQud2VlayB8fCAwLFxuXHQgICAgICAgIGRheXMgPSBub3JtYWxpemVkSW5wdXQuZGF5IHx8IDAsXG5cdCAgICAgICAgaG91cnMgPSBub3JtYWxpemVkSW5wdXQuaG91ciB8fCAwLFxuXHQgICAgICAgIG1pbnV0ZXMgPSBub3JtYWxpemVkSW5wdXQubWludXRlIHx8IDAsXG5cdCAgICAgICAgc2Vjb25kcyA9IG5vcm1hbGl6ZWRJbnB1dC5zZWNvbmQgfHwgMCxcblx0ICAgICAgICBtaWxsaXNlY29uZHMgPSBub3JtYWxpemVkSW5wdXQubWlsbGlzZWNvbmQgfHwgMDtcblx0XG5cdCAgICAvLyByZXByZXNlbnRhdGlvbiBmb3IgZGF0ZUFkZFJlbW92ZVxuXHQgICAgdGhpcy5fbWlsbGlzZWNvbmRzID0gK21pbGxpc2Vjb25kcyArXG5cdCAgICAgICAgc2Vjb25kcyAqIDFlMyArIC8vIDEwMDBcblx0ICAgICAgICBtaW51dGVzICogNmU0ICsgLy8gMTAwMCAqIDYwXG5cdCAgICAgICAgaG91cnMgKiAxMDAwICogNjAgKiA2MDsgLy91c2luZyAxMDAwICogNjAgKiA2MCBpbnN0ZWFkIG9mIDM2ZTUgdG8gYXZvaWQgZmxvYXRpbmcgcG9pbnQgcm91bmRpbmcgZXJyb3JzIGh0dHBzOi8vZ2l0aHViLmNvbS9tb21lbnQvbW9tZW50L2lzc3Vlcy8yOTc4XG5cdCAgICAvLyBCZWNhdXNlIG9mIGRhdGVBZGRSZW1vdmUgdHJlYXRzIDI0IGhvdXJzIGFzIGRpZmZlcmVudCBmcm9tIGFcblx0ICAgIC8vIGRheSB3aGVuIHdvcmtpbmcgYXJvdW5kIERTVCwgd2UgbmVlZCB0byBzdG9yZSB0aGVtIHNlcGFyYXRlbHlcblx0ICAgIHRoaXMuX2RheXMgPSArZGF5cyArXG5cdCAgICAgICAgd2Vla3MgKiA3O1xuXHQgICAgLy8gSXQgaXMgaW1wb3NzaWJsZSB0cmFuc2xhdGUgbW9udGhzIGludG8gZGF5cyB3aXRob3V0IGtub3dpbmdcblx0ICAgIC8vIHdoaWNoIG1vbnRocyB5b3UgYXJlIGFyZSB0YWxraW5nIGFib3V0LCBzbyB3ZSBoYXZlIHRvIHN0b3JlXG5cdCAgICAvLyBpdCBzZXBhcmF0ZWx5LlxuXHQgICAgdGhpcy5fbW9udGhzID0gK21vbnRocyArXG5cdCAgICAgICAgcXVhcnRlcnMgKiAzICtcblx0ICAgICAgICB5ZWFycyAqIDEyO1xuXHRcblx0ICAgIHRoaXMuX2RhdGEgPSB7fTtcblx0XG5cdCAgICB0aGlzLl9sb2NhbGUgPSBnZXRMb2NhbGUoKTtcblx0XG5cdCAgICB0aGlzLl9idWJibGUoKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gaXNEdXJhdGlvbiAob2JqKSB7XG5cdCAgICByZXR1cm4gb2JqIGluc3RhbmNlb2YgRHVyYXRpb247XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGFic1JvdW5kIChudW1iZXIpIHtcblx0ICAgIGlmIChudW1iZXIgPCAwKSB7XG5cdCAgICAgICAgcmV0dXJuIE1hdGgucm91bmQoLTEgKiBudW1iZXIpICogLTE7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJldHVybiBNYXRoLnJvdW5kKG51bWJlcik7XG5cdCAgICB9XG5cdH1cblx0XG5cdC8vIEZPUk1BVFRJTkdcblx0XG5cdGZ1bmN0aW9uIG9mZnNldCAodG9rZW4sIHNlcGFyYXRvcikge1xuXHQgICAgYWRkRm9ybWF0VG9rZW4odG9rZW4sIDAsIDAsIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICB2YXIgb2Zmc2V0ID0gdGhpcy51dGNPZmZzZXQoKTtcblx0ICAgICAgICB2YXIgc2lnbiA9ICcrJztcblx0ICAgICAgICBpZiAob2Zmc2V0IDwgMCkge1xuXHQgICAgICAgICAgICBvZmZzZXQgPSAtb2Zmc2V0O1xuXHQgICAgICAgICAgICBzaWduID0gJy0nO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gc2lnbiArIHplcm9GaWxsKH5+KG9mZnNldCAvIDYwKSwgMikgKyBzZXBhcmF0b3IgKyB6ZXJvRmlsbCh+fihvZmZzZXQpICUgNjAsIDIpO1xuXHQgICAgfSk7XG5cdH1cblx0XG5cdG9mZnNldCgnWicsICc6Jyk7XG5cdG9mZnNldCgnWlonLCAnJyk7XG5cdFxuXHQvLyBQQVJTSU5HXG5cdFxuXHRhZGRSZWdleFRva2VuKCdaJywgIG1hdGNoU2hvcnRPZmZzZXQpO1xuXHRhZGRSZWdleFRva2VuKCdaWicsIG1hdGNoU2hvcnRPZmZzZXQpO1xuXHRhZGRQYXJzZVRva2VuKFsnWicsICdaWiddLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcpIHtcblx0ICAgIGNvbmZpZy5fdXNlVVRDID0gdHJ1ZTtcblx0ICAgIGNvbmZpZy5fdHptID0gb2Zmc2V0RnJvbVN0cmluZyhtYXRjaFNob3J0T2Zmc2V0LCBpbnB1dCk7XG5cdH0pO1xuXHRcblx0Ly8gSEVMUEVSU1xuXHRcblx0Ly8gdGltZXpvbmUgY2h1bmtlclxuXHQvLyAnKzEwOjAwJyA+IFsnMTAnLCAgJzAwJ11cblx0Ly8gJy0xNTMwJyAgPiBbJy0xNScsICczMCddXG5cdHZhciBjaHVua09mZnNldCA9IC8oW1xcK1xcLV18XFxkXFxkKS9naTtcblx0XG5cdGZ1bmN0aW9uIG9mZnNldEZyb21TdHJpbmcobWF0Y2hlciwgc3RyaW5nKSB7XG5cdCAgICB2YXIgbWF0Y2hlcyA9IChzdHJpbmcgfHwgJycpLm1hdGNoKG1hdGNoZXIpO1xuXHRcblx0ICAgIGlmIChtYXRjaGVzID09PSBudWxsKSB7XG5cdCAgICAgICAgcmV0dXJuIG51bGw7XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIGNodW5rICAgPSBtYXRjaGVzW21hdGNoZXMubGVuZ3RoIC0gMV0gfHwgW107XG5cdCAgICB2YXIgcGFydHMgICA9IChjaHVuayArICcnKS5tYXRjaChjaHVua09mZnNldCkgfHwgWyctJywgMCwgMF07XG5cdCAgICB2YXIgbWludXRlcyA9ICsocGFydHNbMV0gKiA2MCkgKyB0b0ludChwYXJ0c1syXSk7XG5cdFxuXHQgICAgcmV0dXJuIG1pbnV0ZXMgPT09IDAgP1xuXHQgICAgICAwIDpcblx0ICAgICAgcGFydHNbMF0gPT09ICcrJyA/IG1pbnV0ZXMgOiAtbWludXRlcztcblx0fVxuXHRcblx0Ly8gUmV0dXJuIGEgbW9tZW50IGZyb20gaW5wdXQsIHRoYXQgaXMgbG9jYWwvdXRjL3pvbmUgZXF1aXZhbGVudCB0byBtb2RlbC5cblx0ZnVuY3Rpb24gY2xvbmVXaXRoT2Zmc2V0KGlucHV0LCBtb2RlbCkge1xuXHQgICAgdmFyIHJlcywgZGlmZjtcblx0ICAgIGlmIChtb2RlbC5faXNVVEMpIHtcblx0ICAgICAgICByZXMgPSBtb2RlbC5jbG9uZSgpO1xuXHQgICAgICAgIGRpZmYgPSAoaXNNb21lbnQoaW5wdXQpIHx8IGlzRGF0ZShpbnB1dCkgPyBpbnB1dC52YWx1ZU9mKCkgOiBjcmVhdGVMb2NhbChpbnB1dCkudmFsdWVPZigpKSAtIHJlcy52YWx1ZU9mKCk7XG5cdCAgICAgICAgLy8gVXNlIGxvdy1sZXZlbCBhcGksIGJlY2F1c2UgdGhpcyBmbiBpcyBsb3ctbGV2ZWwgYXBpLlxuXHQgICAgICAgIHJlcy5fZC5zZXRUaW1lKHJlcy5fZC52YWx1ZU9mKCkgKyBkaWZmKTtcblx0ICAgICAgICBob29rcy51cGRhdGVPZmZzZXQocmVzLCBmYWxzZSk7XG5cdCAgICAgICAgcmV0dXJuIHJlcztcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmV0dXJuIGNyZWF0ZUxvY2FsKGlucHV0KS5sb2NhbCgpO1xuXHQgICAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBnZXREYXRlT2Zmc2V0IChtKSB7XG5cdCAgICAvLyBPbiBGaXJlZm94LjI0IERhdGUjZ2V0VGltZXpvbmVPZmZzZXQgcmV0dXJucyBhIGZsb2F0aW5nIHBvaW50LlxuXHQgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL21vbWVudC9tb21lbnQvcHVsbC8xODcxXG5cdCAgICByZXR1cm4gLU1hdGgucm91bmQobS5fZC5nZXRUaW1lem9uZU9mZnNldCgpIC8gMTUpICogMTU7XG5cdH1cblx0XG5cdC8vIEhPT0tTXG5cdFxuXHQvLyBUaGlzIGZ1bmN0aW9uIHdpbGwgYmUgY2FsbGVkIHdoZW5ldmVyIGEgbW9tZW50IGlzIG11dGF0ZWQuXG5cdC8vIEl0IGlzIGludGVuZGVkIHRvIGtlZXAgdGhlIG9mZnNldCBpbiBzeW5jIHdpdGggdGhlIHRpbWV6b25lLlxuXHRob29rcy51cGRhdGVPZmZzZXQgPSBmdW5jdGlvbiAoKSB7fTtcblx0XG5cdC8vIE1PTUVOVFNcblx0XG5cdC8vIGtlZXBMb2NhbFRpbWUgPSB0cnVlIG1lYW5zIG9ubHkgY2hhbmdlIHRoZSB0aW1lem9uZSwgd2l0aG91dFxuXHQvLyBhZmZlY3RpbmcgdGhlIGxvY2FsIGhvdXIuIFNvIDU6MzE6MjYgKzAzMDAgLS1bdXRjT2Zmc2V0KDIsIHRydWUpXS0tPlxuXHQvLyA1OjMxOjI2ICswMjAwIEl0IGlzIHBvc3NpYmxlIHRoYXQgNTozMToyNiBkb2Vzbid0IGV4aXN0IHdpdGggb2Zmc2V0XG5cdC8vICswMjAwLCBzbyB3ZSBhZGp1c3QgdGhlIHRpbWUgYXMgbmVlZGVkLCB0byBiZSB2YWxpZC5cblx0Ly9cblx0Ly8gS2VlcGluZyB0aGUgdGltZSBhY3R1YWxseSBhZGRzL3N1YnRyYWN0cyAob25lIGhvdXIpXG5cdC8vIGZyb20gdGhlIGFjdHVhbCByZXByZXNlbnRlZCB0aW1lLiBUaGF0IGlzIHdoeSB3ZSBjYWxsIHVwZGF0ZU9mZnNldFxuXHQvLyBhIHNlY29uZCB0aW1lLiBJbiBjYXNlIGl0IHdhbnRzIHVzIHRvIGNoYW5nZSB0aGUgb2Zmc2V0IGFnYWluXG5cdC8vIF9jaGFuZ2VJblByb2dyZXNzID09IHRydWUgY2FzZSwgdGhlbiB3ZSBoYXZlIHRvIGFkanVzdCwgYmVjYXVzZVxuXHQvLyB0aGVyZSBpcyBubyBzdWNoIHRpbWUgaW4gdGhlIGdpdmVuIHRpbWV6b25lLlxuXHRmdW5jdGlvbiBnZXRTZXRPZmZzZXQgKGlucHV0LCBrZWVwTG9jYWxUaW1lKSB7XG5cdCAgICB2YXIgb2Zmc2V0ID0gdGhpcy5fb2Zmc2V0IHx8IDAsXG5cdCAgICAgICAgbG9jYWxBZGp1c3Q7XG5cdCAgICBpZiAoIXRoaXMuaXNWYWxpZCgpKSB7XG5cdCAgICAgICAgcmV0dXJuIGlucHV0ICE9IG51bGwgPyB0aGlzIDogTmFOO1xuXHQgICAgfVxuXHQgICAgaWYgKGlucHV0ICE9IG51bGwpIHtcblx0ICAgICAgICBpZiAodHlwZW9mIGlucHV0ID09PSAnc3RyaW5nJykge1xuXHQgICAgICAgICAgICBpbnB1dCA9IG9mZnNldEZyb21TdHJpbmcobWF0Y2hTaG9ydE9mZnNldCwgaW5wdXQpO1xuXHQgICAgICAgICAgICBpZiAoaW5wdXQgPT09IG51bGwpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfSBlbHNlIGlmIChNYXRoLmFicyhpbnB1dCkgPCAxNikge1xuXHQgICAgICAgICAgICBpbnB1dCA9IGlucHV0ICogNjA7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmICghdGhpcy5faXNVVEMgJiYga2VlcExvY2FsVGltZSkge1xuXHQgICAgICAgICAgICBsb2NhbEFkanVzdCA9IGdldERhdGVPZmZzZXQodGhpcyk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHRoaXMuX29mZnNldCA9IGlucHV0O1xuXHQgICAgICAgIHRoaXMuX2lzVVRDID0gdHJ1ZTtcblx0ICAgICAgICBpZiAobG9jYWxBZGp1c3QgIT0gbnVsbCkge1xuXHQgICAgICAgICAgICB0aGlzLmFkZChsb2NhbEFkanVzdCwgJ20nKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgaWYgKG9mZnNldCAhPT0gaW5wdXQpIHtcblx0ICAgICAgICAgICAgaWYgKCFrZWVwTG9jYWxUaW1lIHx8IHRoaXMuX2NoYW5nZUluUHJvZ3Jlc3MpIHtcblx0ICAgICAgICAgICAgICAgIGFkZFN1YnRyYWN0KHRoaXMsIGNyZWF0ZUR1cmF0aW9uKGlucHV0IC0gb2Zmc2V0LCAnbScpLCAxLCBmYWxzZSk7XG5cdCAgICAgICAgICAgIH0gZWxzZSBpZiAoIXRoaXMuX2NoYW5nZUluUHJvZ3Jlc3MpIHtcblx0ICAgICAgICAgICAgICAgIHRoaXMuX2NoYW5nZUluUHJvZ3Jlc3MgPSB0cnVlO1xuXHQgICAgICAgICAgICAgICAgaG9va3MudXBkYXRlT2Zmc2V0KHRoaXMsIHRydWUpO1xuXHQgICAgICAgICAgICAgICAgdGhpcy5fY2hhbmdlSW5Qcm9ncmVzcyA9IG51bGw7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIHRoaXM7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJldHVybiB0aGlzLl9pc1VUQyA/IG9mZnNldCA6IGdldERhdGVPZmZzZXQodGhpcyk7XG5cdCAgICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGdldFNldFpvbmUgKGlucHV0LCBrZWVwTG9jYWxUaW1lKSB7XG5cdCAgICBpZiAoaW5wdXQgIT0gbnVsbCkge1xuXHQgICAgICAgIGlmICh0eXBlb2YgaW5wdXQgIT09ICdzdHJpbmcnKSB7XG5cdCAgICAgICAgICAgIGlucHV0ID0gLWlucHV0O1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgdGhpcy51dGNPZmZzZXQoaW5wdXQsIGtlZXBMb2NhbFRpbWUpO1xuXHRcblx0ICAgICAgICByZXR1cm4gdGhpcztcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmV0dXJuIC10aGlzLnV0Y09mZnNldCgpO1xuXHQgICAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBzZXRPZmZzZXRUb1VUQyAoa2VlcExvY2FsVGltZSkge1xuXHQgICAgcmV0dXJuIHRoaXMudXRjT2Zmc2V0KDAsIGtlZXBMb2NhbFRpbWUpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBzZXRPZmZzZXRUb0xvY2FsIChrZWVwTG9jYWxUaW1lKSB7XG5cdCAgICBpZiAodGhpcy5faXNVVEMpIHtcblx0ICAgICAgICB0aGlzLnV0Y09mZnNldCgwLCBrZWVwTG9jYWxUaW1lKTtcblx0ICAgICAgICB0aGlzLl9pc1VUQyA9IGZhbHNlO1xuXHRcblx0ICAgICAgICBpZiAoa2VlcExvY2FsVGltZSkge1xuXHQgICAgICAgICAgICB0aGlzLnN1YnRyYWN0KGdldERhdGVPZmZzZXQodGhpcyksICdtJyk7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHQgICAgcmV0dXJuIHRoaXM7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHNldE9mZnNldFRvUGFyc2VkT2Zmc2V0ICgpIHtcblx0ICAgIGlmICh0aGlzLl90em0gIT0gbnVsbCkge1xuXHQgICAgICAgIHRoaXMudXRjT2Zmc2V0KHRoaXMuX3R6bSk7XG5cdCAgICB9IGVsc2UgaWYgKHR5cGVvZiB0aGlzLl9pID09PSAnc3RyaW5nJykge1xuXHQgICAgICAgIHZhciB0Wm9uZSA9IG9mZnNldEZyb21TdHJpbmcobWF0Y2hPZmZzZXQsIHRoaXMuX2kpO1xuXHQgICAgICAgIGlmICh0Wm9uZSAhPSBudWxsKSB7XG5cdCAgICAgICAgICAgIHRoaXMudXRjT2Zmc2V0KHRab25lKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgZWxzZSB7XG5cdCAgICAgICAgICAgIHRoaXMudXRjT2Zmc2V0KDAsIHRydWUpO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0ICAgIHJldHVybiB0aGlzO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBoYXNBbGlnbmVkSG91ck9mZnNldCAoaW5wdXQpIHtcblx0ICAgIGlmICghdGhpcy5pc1ZhbGlkKCkpIHtcblx0ICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICB9XG5cdCAgICBpbnB1dCA9IGlucHV0ID8gY3JlYXRlTG9jYWwoaW5wdXQpLnV0Y09mZnNldCgpIDogMDtcblx0XG5cdCAgICByZXR1cm4gKHRoaXMudXRjT2Zmc2V0KCkgLSBpbnB1dCkgJSA2MCA9PT0gMDtcblx0fVxuXHRcblx0ZnVuY3Rpb24gaXNEYXlsaWdodFNhdmluZ1RpbWUgKCkge1xuXHQgICAgcmV0dXJuIChcblx0ICAgICAgICB0aGlzLnV0Y09mZnNldCgpID4gdGhpcy5jbG9uZSgpLm1vbnRoKDApLnV0Y09mZnNldCgpIHx8XG5cdCAgICAgICAgdGhpcy51dGNPZmZzZXQoKSA+IHRoaXMuY2xvbmUoKS5tb250aCg1KS51dGNPZmZzZXQoKVxuXHQgICAgKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gaXNEYXlsaWdodFNhdmluZ1RpbWVTaGlmdGVkICgpIHtcblx0ICAgIGlmICghaXNVbmRlZmluZWQodGhpcy5faXNEU1RTaGlmdGVkKSkge1xuXHQgICAgICAgIHJldHVybiB0aGlzLl9pc0RTVFNoaWZ0ZWQ7XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIGMgPSB7fTtcblx0XG5cdCAgICBjb3B5Q29uZmlnKGMsIHRoaXMpO1xuXHQgICAgYyA9IHByZXBhcmVDb25maWcoYyk7XG5cdFxuXHQgICAgaWYgKGMuX2EpIHtcblx0ICAgICAgICB2YXIgb3RoZXIgPSBjLl9pc1VUQyA/IGNyZWF0ZVVUQyhjLl9hKSA6IGNyZWF0ZUxvY2FsKGMuX2EpO1xuXHQgICAgICAgIHRoaXMuX2lzRFNUU2hpZnRlZCA9IHRoaXMuaXNWYWxpZCgpICYmXG5cdCAgICAgICAgICAgIGNvbXBhcmVBcnJheXMoYy5fYSwgb3RoZXIudG9BcnJheSgpKSA+IDA7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIHRoaXMuX2lzRFNUU2hpZnRlZCA9IGZhbHNlO1xuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiB0aGlzLl9pc0RTVFNoaWZ0ZWQ7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGlzTG9jYWwgKCkge1xuXHQgICAgcmV0dXJuIHRoaXMuaXNWYWxpZCgpID8gIXRoaXMuX2lzVVRDIDogZmFsc2U7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGlzVXRjT2Zmc2V0ICgpIHtcblx0ICAgIHJldHVybiB0aGlzLmlzVmFsaWQoKSA/IHRoaXMuX2lzVVRDIDogZmFsc2U7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGlzVXRjICgpIHtcblx0ICAgIHJldHVybiB0aGlzLmlzVmFsaWQoKSA/IHRoaXMuX2lzVVRDICYmIHRoaXMuX29mZnNldCA9PT0gMCA6IGZhbHNlO1xuXHR9XG5cdFxuXHQvLyBBU1AuTkVUIGpzb24gZGF0ZSBmb3JtYXQgcmVnZXhcblx0dmFyIGFzcE5ldFJlZ2V4ID0gL14oXFwtKT8oPzooXFxkKilbLiBdKT8oXFxkKylcXDooXFxkKykoPzpcXDooXFxkKykoXFwuXFxkKik/KT8kLztcblx0XG5cdC8vIGZyb20gaHR0cDovL2RvY3MuY2xvc3VyZS1saWJyYXJ5Lmdvb2dsZWNvZGUuY29tL2dpdC9jbG9zdXJlX2dvb2dfZGF0ZV9kYXRlLmpzLnNvdXJjZS5odG1sXG5cdC8vIHNvbWV3aGF0IG1vcmUgaW4gbGluZSB3aXRoIDQuNC4zLjIgMjAwNCBzcGVjLCBidXQgYWxsb3dzIGRlY2ltYWwgYW55d2hlcmVcblx0Ly8gYW5kIGZ1cnRoZXIgbW9kaWZpZWQgdG8gYWxsb3cgZm9yIHN0cmluZ3MgY29udGFpbmluZyBib3RoIHdlZWsgYW5kIGRheVxuXHR2YXIgaXNvUmVnZXggPSAvXigtKT9QKD86KC0/WzAtOSwuXSopWSk/KD86KC0/WzAtOSwuXSopTSk/KD86KC0/WzAtOSwuXSopVyk/KD86KC0/WzAtOSwuXSopRCk/KD86VCg/OigtP1swLTksLl0qKUgpPyg/OigtP1swLTksLl0qKU0pPyg/OigtP1swLTksLl0qKVMpPyk/JC87XG5cdFxuXHRmdW5jdGlvbiBjcmVhdGVEdXJhdGlvbiAoaW5wdXQsIGtleSkge1xuXHQgICAgdmFyIGR1cmF0aW9uID0gaW5wdXQsXG5cdCAgICAgICAgLy8gbWF0Y2hpbmcgYWdhaW5zdCByZWdleHAgaXMgZXhwZW5zaXZlLCBkbyBpdCBvbiBkZW1hbmRcblx0ICAgICAgICBtYXRjaCA9IG51bGwsXG5cdCAgICAgICAgc2lnbixcblx0ICAgICAgICByZXQsXG5cdCAgICAgICAgZGlmZlJlcztcblx0XG5cdCAgICBpZiAoaXNEdXJhdGlvbihpbnB1dCkpIHtcblx0ICAgICAgICBkdXJhdGlvbiA9IHtcblx0ICAgICAgICAgICAgbXMgOiBpbnB1dC5fbWlsbGlzZWNvbmRzLFxuXHQgICAgICAgICAgICBkICA6IGlucHV0Ll9kYXlzLFxuXHQgICAgICAgICAgICBNICA6IGlucHV0Ll9tb250aHNcblx0ICAgICAgICB9O1xuXHQgICAgfSBlbHNlIGlmIChpc051bWJlcihpbnB1dCkpIHtcblx0ICAgICAgICBkdXJhdGlvbiA9IHt9O1xuXHQgICAgICAgIGlmIChrZXkpIHtcblx0ICAgICAgICAgICAgZHVyYXRpb25ba2V5XSA9IGlucHV0O1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIGR1cmF0aW9uLm1pbGxpc2Vjb25kcyA9IGlucHV0O1xuXHQgICAgICAgIH1cblx0ICAgIH0gZWxzZSBpZiAoISEobWF0Y2ggPSBhc3BOZXRSZWdleC5leGVjKGlucHV0KSkpIHtcblx0ICAgICAgICBzaWduID0gKG1hdGNoWzFdID09PSAnLScpID8gLTEgOiAxO1xuXHQgICAgICAgIGR1cmF0aW9uID0ge1xuXHQgICAgICAgICAgICB5ICA6IDAsXG5cdCAgICAgICAgICAgIGQgIDogdG9JbnQobWF0Y2hbREFURV0pICAgICAgICAgICAgICAgICAgICAgICAgICogc2lnbixcblx0ICAgICAgICAgICAgaCAgOiB0b0ludChtYXRjaFtIT1VSXSkgICAgICAgICAgICAgICAgICAgICAgICAgKiBzaWduLFxuXHQgICAgICAgICAgICBtICA6IHRvSW50KG1hdGNoW01JTlVURV0pICAgICAgICAgICAgICAgICAgICAgICAqIHNpZ24sXG5cdCAgICAgICAgICAgIHMgIDogdG9JbnQobWF0Y2hbU0VDT05EXSkgICAgICAgICAgICAgICAgICAgICAgICogc2lnbixcblx0ICAgICAgICAgICAgbXMgOiB0b0ludChhYnNSb3VuZChtYXRjaFtNSUxMSVNFQ09ORF0gKiAxMDAwKSkgKiBzaWduIC8vIHRoZSBtaWxsaXNlY29uZCBkZWNpbWFsIHBvaW50IGlzIGluY2x1ZGVkIGluIHRoZSBtYXRjaFxuXHQgICAgICAgIH07XG5cdCAgICB9IGVsc2UgaWYgKCEhKG1hdGNoID0gaXNvUmVnZXguZXhlYyhpbnB1dCkpKSB7XG5cdCAgICAgICAgc2lnbiA9IChtYXRjaFsxXSA9PT0gJy0nKSA/IC0xIDogMTtcblx0ICAgICAgICBkdXJhdGlvbiA9IHtcblx0ICAgICAgICAgICAgeSA6IHBhcnNlSXNvKG1hdGNoWzJdLCBzaWduKSxcblx0ICAgICAgICAgICAgTSA6IHBhcnNlSXNvKG1hdGNoWzNdLCBzaWduKSxcblx0ICAgICAgICAgICAgdyA6IHBhcnNlSXNvKG1hdGNoWzRdLCBzaWduKSxcblx0ICAgICAgICAgICAgZCA6IHBhcnNlSXNvKG1hdGNoWzVdLCBzaWduKSxcblx0ICAgICAgICAgICAgaCA6IHBhcnNlSXNvKG1hdGNoWzZdLCBzaWduKSxcblx0ICAgICAgICAgICAgbSA6IHBhcnNlSXNvKG1hdGNoWzddLCBzaWduKSxcblx0ICAgICAgICAgICAgcyA6IHBhcnNlSXNvKG1hdGNoWzhdLCBzaWduKVxuXHQgICAgICAgIH07XG5cdCAgICB9IGVsc2UgaWYgKGR1cmF0aW9uID09IG51bGwpIHsvLyBjaGVja3MgZm9yIG51bGwgb3IgdW5kZWZpbmVkXG5cdCAgICAgICAgZHVyYXRpb24gPSB7fTtcblx0ICAgIH0gZWxzZSBpZiAodHlwZW9mIGR1cmF0aW9uID09PSAnb2JqZWN0JyAmJiAoJ2Zyb20nIGluIGR1cmF0aW9uIHx8ICd0bycgaW4gZHVyYXRpb24pKSB7XG5cdCAgICAgICAgZGlmZlJlcyA9IG1vbWVudHNEaWZmZXJlbmNlKGNyZWF0ZUxvY2FsKGR1cmF0aW9uLmZyb20pLCBjcmVhdGVMb2NhbChkdXJhdGlvbi50bykpO1xuXHRcblx0ICAgICAgICBkdXJhdGlvbiA9IHt9O1xuXHQgICAgICAgIGR1cmF0aW9uLm1zID0gZGlmZlJlcy5taWxsaXNlY29uZHM7XG5cdCAgICAgICAgZHVyYXRpb24uTSA9IGRpZmZSZXMubW9udGhzO1xuXHQgICAgfVxuXHRcblx0ICAgIHJldCA9IG5ldyBEdXJhdGlvbihkdXJhdGlvbik7XG5cdFxuXHQgICAgaWYgKGlzRHVyYXRpb24oaW5wdXQpICYmIGhhc093blByb3AoaW5wdXQsICdfbG9jYWxlJykpIHtcblx0ICAgICAgICByZXQuX2xvY2FsZSA9IGlucHV0Ll9sb2NhbGU7XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIHJldDtcblx0fVxuXHRcblx0Y3JlYXRlRHVyYXRpb24uZm4gPSBEdXJhdGlvbi5wcm90b3R5cGU7XG5cdFxuXHRmdW5jdGlvbiBwYXJzZUlzbyAoaW5wLCBzaWduKSB7XG5cdCAgICAvLyBXZSdkIG5vcm1hbGx5IHVzZSB+fmlucCBmb3IgdGhpcywgYnV0IHVuZm9ydHVuYXRlbHkgaXQgYWxzb1xuXHQgICAgLy8gY29udmVydHMgZmxvYXRzIHRvIGludHMuXG5cdCAgICAvLyBpbnAgbWF5IGJlIHVuZGVmaW5lZCwgc28gY2FyZWZ1bCBjYWxsaW5nIHJlcGxhY2Ugb24gaXQuXG5cdCAgICB2YXIgcmVzID0gaW5wICYmIHBhcnNlRmxvYXQoaW5wLnJlcGxhY2UoJywnLCAnLicpKTtcblx0ICAgIC8vIGFwcGx5IHNpZ24gd2hpbGUgd2UncmUgYXQgaXRcblx0ICAgIHJldHVybiAoaXNOYU4ocmVzKSA/IDAgOiByZXMpICogc2lnbjtcblx0fVxuXHRcblx0ZnVuY3Rpb24gcG9zaXRpdmVNb21lbnRzRGlmZmVyZW5jZShiYXNlLCBvdGhlcikge1xuXHQgICAgdmFyIHJlcyA9IHttaWxsaXNlY29uZHM6IDAsIG1vbnRoczogMH07XG5cdFxuXHQgICAgcmVzLm1vbnRocyA9IG90aGVyLm1vbnRoKCkgLSBiYXNlLm1vbnRoKCkgK1xuXHQgICAgICAgIChvdGhlci55ZWFyKCkgLSBiYXNlLnllYXIoKSkgKiAxMjtcblx0ICAgIGlmIChiYXNlLmNsb25lKCkuYWRkKHJlcy5tb250aHMsICdNJykuaXNBZnRlcihvdGhlcikpIHtcblx0ICAgICAgICAtLXJlcy5tb250aHM7XG5cdCAgICB9XG5cdFxuXHQgICAgcmVzLm1pbGxpc2Vjb25kcyA9ICtvdGhlciAtICsoYmFzZS5jbG9uZSgpLmFkZChyZXMubW9udGhzLCAnTScpKTtcblx0XG5cdCAgICByZXR1cm4gcmVzO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBtb21lbnRzRGlmZmVyZW5jZShiYXNlLCBvdGhlcikge1xuXHQgICAgdmFyIHJlcztcblx0ICAgIGlmICghKGJhc2UuaXNWYWxpZCgpICYmIG90aGVyLmlzVmFsaWQoKSkpIHtcblx0ICAgICAgICByZXR1cm4ge21pbGxpc2Vjb25kczogMCwgbW9udGhzOiAwfTtcblx0ICAgIH1cblx0XG5cdCAgICBvdGhlciA9IGNsb25lV2l0aE9mZnNldChvdGhlciwgYmFzZSk7XG5cdCAgICBpZiAoYmFzZS5pc0JlZm9yZShvdGhlcikpIHtcblx0ICAgICAgICByZXMgPSBwb3NpdGl2ZU1vbWVudHNEaWZmZXJlbmNlKGJhc2UsIG90aGVyKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmVzID0gcG9zaXRpdmVNb21lbnRzRGlmZmVyZW5jZShvdGhlciwgYmFzZSk7XG5cdCAgICAgICAgcmVzLm1pbGxpc2Vjb25kcyA9IC1yZXMubWlsbGlzZWNvbmRzO1xuXHQgICAgICAgIHJlcy5tb250aHMgPSAtcmVzLm1vbnRocztcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gcmVzO1xuXHR9XG5cdFxuXHQvLyBUT0RPOiByZW1vdmUgJ25hbWUnIGFyZyBhZnRlciBkZXByZWNhdGlvbiBpcyByZW1vdmVkXG5cdGZ1bmN0aW9uIGNyZWF0ZUFkZGVyKGRpcmVjdGlvbiwgbmFtZSkge1xuXHQgICAgcmV0dXJuIGZ1bmN0aW9uICh2YWwsIHBlcmlvZCkge1xuXHQgICAgICAgIHZhciBkdXIsIHRtcDtcblx0ICAgICAgICAvL2ludmVydCB0aGUgYXJndW1lbnRzLCBidXQgY29tcGxhaW4gYWJvdXQgaXRcblx0ICAgICAgICBpZiAocGVyaW9kICE9PSBudWxsICYmICFpc05hTigrcGVyaW9kKSkge1xuXHQgICAgICAgICAgICBkZXByZWNhdGVTaW1wbGUobmFtZSwgJ21vbWVudCgpLicgKyBuYW1lICArICcocGVyaW9kLCBudW1iZXIpIGlzIGRlcHJlY2F0ZWQuIFBsZWFzZSB1c2UgbW9tZW50KCkuJyArIG5hbWUgKyAnKG51bWJlciwgcGVyaW9kKS4gJyArXG5cdCAgICAgICAgICAgICdTZWUgaHR0cDovL21vbWVudGpzLmNvbS9ndWlkZXMvIy93YXJuaW5ncy9hZGQtaW52ZXJ0ZWQtcGFyYW0vIGZvciBtb3JlIGluZm8uJyk7XG5cdCAgICAgICAgICAgIHRtcCA9IHZhbDsgdmFsID0gcGVyaW9kOyBwZXJpb2QgPSB0bXA7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICB2YWwgPSB0eXBlb2YgdmFsID09PSAnc3RyaW5nJyA/ICt2YWwgOiB2YWw7XG5cdCAgICAgICAgZHVyID0gY3JlYXRlRHVyYXRpb24odmFsLCBwZXJpb2QpO1xuXHQgICAgICAgIGFkZFN1YnRyYWN0KHRoaXMsIGR1ciwgZGlyZWN0aW9uKTtcblx0ICAgICAgICByZXR1cm4gdGhpcztcblx0ICAgIH07XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGFkZFN1YnRyYWN0IChtb20sIGR1cmF0aW9uLCBpc0FkZGluZywgdXBkYXRlT2Zmc2V0KSB7XG5cdCAgICB2YXIgbWlsbGlzZWNvbmRzID0gZHVyYXRpb24uX21pbGxpc2Vjb25kcyxcblx0ICAgICAgICBkYXlzID0gYWJzUm91bmQoZHVyYXRpb24uX2RheXMpLFxuXHQgICAgICAgIG1vbnRocyA9IGFic1JvdW5kKGR1cmF0aW9uLl9tb250aHMpO1xuXHRcblx0ICAgIGlmICghbW9tLmlzVmFsaWQoKSkge1xuXHQgICAgICAgIC8vIE5vIG9wXG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHRcblx0ICAgIHVwZGF0ZU9mZnNldCA9IHVwZGF0ZU9mZnNldCA9PSBudWxsID8gdHJ1ZSA6IHVwZGF0ZU9mZnNldDtcblx0XG5cdCAgICBpZiAobWlsbGlzZWNvbmRzKSB7XG5cdCAgICAgICAgbW9tLl9kLnNldFRpbWUobW9tLl9kLnZhbHVlT2YoKSArIG1pbGxpc2Vjb25kcyAqIGlzQWRkaW5nKTtcblx0ICAgIH1cblx0ICAgIGlmIChkYXlzKSB7XG5cdCAgICAgICAgc2V0JDEobW9tLCAnRGF0ZScsIGdldChtb20sICdEYXRlJykgKyBkYXlzICogaXNBZGRpbmcpO1xuXHQgICAgfVxuXHQgICAgaWYgKG1vbnRocykge1xuXHQgICAgICAgIHNldE1vbnRoKG1vbSwgZ2V0KG1vbSwgJ01vbnRoJykgKyBtb250aHMgKiBpc0FkZGluZyk7XG5cdCAgICB9XG5cdCAgICBpZiAodXBkYXRlT2Zmc2V0KSB7XG5cdCAgICAgICAgaG9va3MudXBkYXRlT2Zmc2V0KG1vbSwgZGF5cyB8fCBtb250aHMpO1xuXHQgICAgfVxuXHR9XG5cdFxuXHR2YXIgYWRkICAgICAgPSBjcmVhdGVBZGRlcigxLCAnYWRkJyk7XG5cdHZhciBzdWJ0cmFjdCA9IGNyZWF0ZUFkZGVyKC0xLCAnc3VidHJhY3QnKTtcblx0XG5cdGZ1bmN0aW9uIGdldENhbGVuZGFyRm9ybWF0KG15TW9tZW50LCBub3cpIHtcblx0ICAgIHZhciBkaWZmID0gbXlNb21lbnQuZGlmZihub3csICdkYXlzJywgdHJ1ZSk7XG5cdCAgICByZXR1cm4gZGlmZiA8IC02ID8gJ3NhbWVFbHNlJyA6XG5cdCAgICAgICAgICAgIGRpZmYgPCAtMSA/ICdsYXN0V2VlaycgOlxuXHQgICAgICAgICAgICBkaWZmIDwgMCA/ICdsYXN0RGF5JyA6XG5cdCAgICAgICAgICAgIGRpZmYgPCAxID8gJ3NhbWVEYXknIDpcblx0ICAgICAgICAgICAgZGlmZiA8IDIgPyAnbmV4dERheScgOlxuXHQgICAgICAgICAgICBkaWZmIDwgNyA/ICduZXh0V2VlaycgOiAnc2FtZUVsc2UnO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBjYWxlbmRhciQxICh0aW1lLCBmb3JtYXRzKSB7XG5cdCAgICAvLyBXZSB3YW50IHRvIGNvbXBhcmUgdGhlIHN0YXJ0IG9mIHRvZGF5LCB2cyB0aGlzLlxuXHQgICAgLy8gR2V0dGluZyBzdGFydC1vZi10b2RheSBkZXBlbmRzIG9uIHdoZXRoZXIgd2UncmUgbG9jYWwvdXRjL29mZnNldCBvciBub3QuXG5cdCAgICB2YXIgbm93ID0gdGltZSB8fCBjcmVhdGVMb2NhbCgpLFxuXHQgICAgICAgIHNvZCA9IGNsb25lV2l0aE9mZnNldChub3csIHRoaXMpLnN0YXJ0T2YoJ2RheScpLFxuXHQgICAgICAgIGZvcm1hdCA9IGhvb2tzLmNhbGVuZGFyRm9ybWF0KHRoaXMsIHNvZCkgfHwgJ3NhbWVFbHNlJztcblx0XG5cdCAgICB2YXIgb3V0cHV0ID0gZm9ybWF0cyAmJiAoaXNGdW5jdGlvbihmb3JtYXRzW2Zvcm1hdF0pID8gZm9ybWF0c1tmb3JtYXRdLmNhbGwodGhpcywgbm93KSA6IGZvcm1hdHNbZm9ybWF0XSk7XG5cdFxuXHQgICAgcmV0dXJuIHRoaXMuZm9ybWF0KG91dHB1dCB8fCB0aGlzLmxvY2FsZURhdGEoKS5jYWxlbmRhcihmb3JtYXQsIHRoaXMsIGNyZWF0ZUxvY2FsKG5vdykpKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gY2xvbmUgKCkge1xuXHQgICAgcmV0dXJuIG5ldyBNb21lbnQodGhpcyk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGlzQWZ0ZXIgKGlucHV0LCB1bml0cykge1xuXHQgICAgdmFyIGxvY2FsSW5wdXQgPSBpc01vbWVudChpbnB1dCkgPyBpbnB1dCA6IGNyZWF0ZUxvY2FsKGlucHV0KTtcblx0ICAgIGlmICghKHRoaXMuaXNWYWxpZCgpICYmIGxvY2FsSW5wdXQuaXNWYWxpZCgpKSkge1xuXHQgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgIH1cblx0ICAgIHVuaXRzID0gbm9ybWFsaXplVW5pdHMoIWlzVW5kZWZpbmVkKHVuaXRzKSA/IHVuaXRzIDogJ21pbGxpc2Vjb25kJyk7XG5cdCAgICBpZiAodW5pdHMgPT09ICdtaWxsaXNlY29uZCcpIHtcblx0ICAgICAgICByZXR1cm4gdGhpcy52YWx1ZU9mKCkgPiBsb2NhbElucHV0LnZhbHVlT2YoKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmV0dXJuIGxvY2FsSW5wdXQudmFsdWVPZigpIDwgdGhpcy5jbG9uZSgpLnN0YXJ0T2YodW5pdHMpLnZhbHVlT2YoKTtcblx0ICAgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gaXNCZWZvcmUgKGlucHV0LCB1bml0cykge1xuXHQgICAgdmFyIGxvY2FsSW5wdXQgPSBpc01vbWVudChpbnB1dCkgPyBpbnB1dCA6IGNyZWF0ZUxvY2FsKGlucHV0KTtcblx0ICAgIGlmICghKHRoaXMuaXNWYWxpZCgpICYmIGxvY2FsSW5wdXQuaXNWYWxpZCgpKSkge1xuXHQgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgIH1cblx0ICAgIHVuaXRzID0gbm9ybWFsaXplVW5pdHMoIWlzVW5kZWZpbmVkKHVuaXRzKSA/IHVuaXRzIDogJ21pbGxpc2Vjb25kJyk7XG5cdCAgICBpZiAodW5pdHMgPT09ICdtaWxsaXNlY29uZCcpIHtcblx0ICAgICAgICByZXR1cm4gdGhpcy52YWx1ZU9mKCkgPCBsb2NhbElucHV0LnZhbHVlT2YoKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMuY2xvbmUoKS5lbmRPZih1bml0cykudmFsdWVPZigpIDwgbG9jYWxJbnB1dC52YWx1ZU9mKCk7XG5cdCAgICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGlzQmV0d2VlbiAoZnJvbSwgdG8sIHVuaXRzLCBpbmNsdXNpdml0eSkge1xuXHQgICAgaW5jbHVzaXZpdHkgPSBpbmNsdXNpdml0eSB8fCAnKCknO1xuXHQgICAgcmV0dXJuIChpbmNsdXNpdml0eVswXSA9PT0gJygnID8gdGhpcy5pc0FmdGVyKGZyb20sIHVuaXRzKSA6ICF0aGlzLmlzQmVmb3JlKGZyb20sIHVuaXRzKSkgJiZcblx0ICAgICAgICAoaW5jbHVzaXZpdHlbMV0gPT09ICcpJyA/IHRoaXMuaXNCZWZvcmUodG8sIHVuaXRzKSA6ICF0aGlzLmlzQWZ0ZXIodG8sIHVuaXRzKSk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGlzU2FtZSAoaW5wdXQsIHVuaXRzKSB7XG5cdCAgICB2YXIgbG9jYWxJbnB1dCA9IGlzTW9tZW50KGlucHV0KSA/IGlucHV0IDogY3JlYXRlTG9jYWwoaW5wdXQpLFxuXHQgICAgICAgIGlucHV0TXM7XG5cdCAgICBpZiAoISh0aGlzLmlzVmFsaWQoKSAmJiBsb2NhbElucHV0LmlzVmFsaWQoKSkpIHtcblx0ICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICB9XG5cdCAgICB1bml0cyA9IG5vcm1hbGl6ZVVuaXRzKHVuaXRzIHx8ICdtaWxsaXNlY29uZCcpO1xuXHQgICAgaWYgKHVuaXRzID09PSAnbWlsbGlzZWNvbmQnKSB7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMudmFsdWVPZigpID09PSBsb2NhbElucHV0LnZhbHVlT2YoKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgaW5wdXRNcyA9IGxvY2FsSW5wdXQudmFsdWVPZigpO1xuXHQgICAgICAgIHJldHVybiB0aGlzLmNsb25lKCkuc3RhcnRPZih1bml0cykudmFsdWVPZigpIDw9IGlucHV0TXMgJiYgaW5wdXRNcyA8PSB0aGlzLmNsb25lKCkuZW5kT2YodW5pdHMpLnZhbHVlT2YoKTtcblx0ICAgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gaXNTYW1lT3JBZnRlciAoaW5wdXQsIHVuaXRzKSB7XG5cdCAgICByZXR1cm4gdGhpcy5pc1NhbWUoaW5wdXQsIHVuaXRzKSB8fCB0aGlzLmlzQWZ0ZXIoaW5wdXQsdW5pdHMpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBpc1NhbWVPckJlZm9yZSAoaW5wdXQsIHVuaXRzKSB7XG5cdCAgICByZXR1cm4gdGhpcy5pc1NhbWUoaW5wdXQsIHVuaXRzKSB8fCB0aGlzLmlzQmVmb3JlKGlucHV0LHVuaXRzKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gZGlmZiAoaW5wdXQsIHVuaXRzLCBhc0Zsb2F0KSB7XG5cdCAgICB2YXIgdGhhdCxcblx0ICAgICAgICB6b25lRGVsdGEsXG5cdCAgICAgICAgZGVsdGEsIG91dHB1dDtcblx0XG5cdCAgICBpZiAoIXRoaXMuaXNWYWxpZCgpKSB7XG5cdCAgICAgICAgcmV0dXJuIE5hTjtcblx0ICAgIH1cblx0XG5cdCAgICB0aGF0ID0gY2xvbmVXaXRoT2Zmc2V0KGlucHV0LCB0aGlzKTtcblx0XG5cdCAgICBpZiAoIXRoYXQuaXNWYWxpZCgpKSB7XG5cdCAgICAgICAgcmV0dXJuIE5hTjtcblx0ICAgIH1cblx0XG5cdCAgICB6b25lRGVsdGEgPSAodGhhdC51dGNPZmZzZXQoKSAtIHRoaXMudXRjT2Zmc2V0KCkpICogNmU0O1xuXHRcblx0ICAgIHVuaXRzID0gbm9ybWFsaXplVW5pdHModW5pdHMpO1xuXHRcblx0ICAgIGlmICh1bml0cyA9PT0gJ3llYXInIHx8IHVuaXRzID09PSAnbW9udGgnIHx8IHVuaXRzID09PSAncXVhcnRlcicpIHtcblx0ICAgICAgICBvdXRwdXQgPSBtb250aERpZmYodGhpcywgdGhhdCk7XG5cdCAgICAgICAgaWYgKHVuaXRzID09PSAncXVhcnRlcicpIHtcblx0ICAgICAgICAgICAgb3V0cHV0ID0gb3V0cHV0IC8gMztcblx0ICAgICAgICB9IGVsc2UgaWYgKHVuaXRzID09PSAneWVhcicpIHtcblx0ICAgICAgICAgICAgb3V0cHV0ID0gb3V0cHV0IC8gMTI7XG5cdCAgICAgICAgfVxuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICBkZWx0YSA9IHRoaXMgLSB0aGF0O1xuXHQgICAgICAgIG91dHB1dCA9IHVuaXRzID09PSAnc2Vjb25kJyA/IGRlbHRhIC8gMWUzIDogLy8gMTAwMFxuXHQgICAgICAgICAgICB1bml0cyA9PT0gJ21pbnV0ZScgPyBkZWx0YSAvIDZlNCA6IC8vIDEwMDAgKiA2MFxuXHQgICAgICAgICAgICB1bml0cyA9PT0gJ2hvdXInID8gZGVsdGEgLyAzNmU1IDogLy8gMTAwMCAqIDYwICogNjBcblx0ICAgICAgICAgICAgdW5pdHMgPT09ICdkYXknID8gKGRlbHRhIC0gem9uZURlbHRhKSAvIDg2NGU1IDogLy8gMTAwMCAqIDYwICogNjAgKiAyNCwgbmVnYXRlIGRzdFxuXHQgICAgICAgICAgICB1bml0cyA9PT0gJ3dlZWsnID8gKGRlbHRhIC0gem9uZURlbHRhKSAvIDYwNDhlNSA6IC8vIDEwMDAgKiA2MCAqIDYwICogMjQgKiA3LCBuZWdhdGUgZHN0XG5cdCAgICAgICAgICAgIGRlbHRhO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIGFzRmxvYXQgPyBvdXRwdXQgOiBhYnNGbG9vcihvdXRwdXQpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBtb250aERpZmYgKGEsIGIpIHtcblx0ICAgIC8vIGRpZmZlcmVuY2UgaW4gbW9udGhzXG5cdCAgICB2YXIgd2hvbGVNb250aERpZmYgPSAoKGIueWVhcigpIC0gYS55ZWFyKCkpICogMTIpICsgKGIubW9udGgoKSAtIGEubW9udGgoKSksXG5cdCAgICAgICAgLy8gYiBpcyBpbiAoYW5jaG9yIC0gMSBtb250aCwgYW5jaG9yICsgMSBtb250aClcblx0ICAgICAgICBhbmNob3IgPSBhLmNsb25lKCkuYWRkKHdob2xlTW9udGhEaWZmLCAnbW9udGhzJyksXG5cdCAgICAgICAgYW5jaG9yMiwgYWRqdXN0O1xuXHRcblx0ICAgIGlmIChiIC0gYW5jaG9yIDwgMCkge1xuXHQgICAgICAgIGFuY2hvcjIgPSBhLmNsb25lKCkuYWRkKHdob2xlTW9udGhEaWZmIC0gMSwgJ21vbnRocycpO1xuXHQgICAgICAgIC8vIGxpbmVhciBhY3Jvc3MgdGhlIG1vbnRoXG5cdCAgICAgICAgYWRqdXN0ID0gKGIgLSBhbmNob3IpIC8gKGFuY2hvciAtIGFuY2hvcjIpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICBhbmNob3IyID0gYS5jbG9uZSgpLmFkZCh3aG9sZU1vbnRoRGlmZiArIDEsICdtb250aHMnKTtcblx0ICAgICAgICAvLyBsaW5lYXIgYWNyb3NzIHRoZSBtb250aFxuXHQgICAgICAgIGFkanVzdCA9IChiIC0gYW5jaG9yKSAvIChhbmNob3IyIC0gYW5jaG9yKTtcblx0ICAgIH1cblx0XG5cdCAgICAvL2NoZWNrIGZvciBuZWdhdGl2ZSB6ZXJvLCByZXR1cm4gemVybyBpZiBuZWdhdGl2ZSB6ZXJvXG5cdCAgICByZXR1cm4gLSh3aG9sZU1vbnRoRGlmZiArIGFkanVzdCkgfHwgMDtcblx0fVxuXHRcblx0aG9va3MuZGVmYXVsdEZvcm1hdCA9ICdZWVlZLU1NLUREVEhIOm1tOnNzWic7XG5cdGhvb2tzLmRlZmF1bHRGb3JtYXRVdGMgPSAnWVlZWS1NTS1ERFRISDptbTpzc1taXSc7XG5cdFxuXHRmdW5jdGlvbiB0b1N0cmluZyAoKSB7XG5cdCAgICByZXR1cm4gdGhpcy5jbG9uZSgpLmxvY2FsZSgnZW4nKS5mb3JtYXQoJ2RkZCBNTU0gREQgWVlZWSBISDptbTpzcyBbR01UXVpaJyk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHRvSVNPU3RyaW5nICgpIHtcblx0ICAgIHZhciBtID0gdGhpcy5jbG9uZSgpLnV0YygpO1xuXHQgICAgaWYgKDAgPCBtLnllYXIoKSAmJiBtLnllYXIoKSA8PSA5OTk5KSB7XG5cdCAgICAgICAgaWYgKGlzRnVuY3Rpb24oRGF0ZS5wcm90b3R5cGUudG9JU09TdHJpbmcpKSB7XG5cdCAgICAgICAgICAgIC8vIG5hdGl2ZSBpbXBsZW1lbnRhdGlvbiBpcyB+NTB4IGZhc3RlciwgdXNlIGl0IHdoZW4gd2UgY2FuXG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzLnRvRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgcmV0dXJuIGZvcm1hdE1vbWVudChtLCAnWVlZWS1NTS1ERFtUXUhIOm1tOnNzLlNTU1taXScpO1xuXHQgICAgICAgIH1cblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmV0dXJuIGZvcm1hdE1vbWVudChtLCAnWVlZWVlZLU1NLUREW1RdSEg6bW06c3MuU1NTW1pdJyk7XG5cdCAgICB9XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBSZXR1cm4gYSBodW1hbiByZWFkYWJsZSByZXByZXNlbnRhdGlvbiBvZiBhIG1vbWVudCB0aGF0IGNhblxuXHQgKiBhbHNvIGJlIGV2YWx1YXRlZCB0byBnZXQgYSBuZXcgbW9tZW50IHdoaWNoIGlzIHRoZSBzYW1lXG5cdCAqXG5cdCAqIEBsaW5rIGh0dHBzOi8vbm9kZWpzLm9yZy9kaXN0L2xhdGVzdC9kb2NzL2FwaS91dGlsLmh0bWwjdXRpbF9jdXN0b21faW5zcGVjdF9mdW5jdGlvbl9vbl9vYmplY3RzXG5cdCAqL1xuXHRmdW5jdGlvbiBpbnNwZWN0ICgpIHtcblx0ICAgIGlmICghdGhpcy5pc1ZhbGlkKCkpIHtcblx0ICAgICAgICByZXR1cm4gJ21vbWVudC5pbnZhbGlkKC8qICcgKyB0aGlzLl9pICsgJyAqLyknO1xuXHQgICAgfVxuXHQgICAgdmFyIGZ1bmMgPSAnbW9tZW50Jztcblx0ICAgIHZhciB6b25lID0gJyc7XG5cdCAgICBpZiAoIXRoaXMuaXNMb2NhbCgpKSB7XG5cdCAgICAgICAgZnVuYyA9IHRoaXMudXRjT2Zmc2V0KCkgPT09IDAgPyAnbW9tZW50LnV0YycgOiAnbW9tZW50LnBhcnNlWm9uZSc7XG5cdCAgICAgICAgem9uZSA9ICdaJztcblx0ICAgIH1cblx0ICAgIHZhciBwcmVmaXggPSAnWycgKyBmdW5jICsgJyhcIl0nO1xuXHQgICAgdmFyIHllYXIgPSAoMCA8IHRoaXMueWVhcigpICYmIHRoaXMueWVhcigpIDw9IDk5OTkpID8gJ1lZWVknIDogJ1lZWVlZWSc7XG5cdCAgICB2YXIgZGF0ZXRpbWUgPSAnLU1NLUREW1RdSEg6bW06c3MuU1NTJztcblx0ICAgIHZhciBzdWZmaXggPSB6b25lICsgJ1tcIildJztcblx0XG5cdCAgICByZXR1cm4gdGhpcy5mb3JtYXQocHJlZml4ICsgeWVhciArIGRhdGV0aW1lICsgc3VmZml4KTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gZm9ybWF0IChpbnB1dFN0cmluZykge1xuXHQgICAgaWYgKCFpbnB1dFN0cmluZykge1xuXHQgICAgICAgIGlucHV0U3RyaW5nID0gdGhpcy5pc1V0YygpID8gaG9va3MuZGVmYXVsdEZvcm1hdFV0YyA6IGhvb2tzLmRlZmF1bHRGb3JtYXQ7XG5cdCAgICB9XG5cdCAgICB2YXIgb3V0cHV0ID0gZm9ybWF0TW9tZW50KHRoaXMsIGlucHV0U3RyaW5nKTtcblx0ICAgIHJldHVybiB0aGlzLmxvY2FsZURhdGEoKS5wb3N0Zm9ybWF0KG91dHB1dCk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGZyb20gKHRpbWUsIHdpdGhvdXRTdWZmaXgpIHtcblx0ICAgIGlmICh0aGlzLmlzVmFsaWQoKSAmJlxuXHQgICAgICAgICAgICAoKGlzTW9tZW50KHRpbWUpICYmIHRpbWUuaXNWYWxpZCgpKSB8fFxuXHQgICAgICAgICAgICAgY3JlYXRlTG9jYWwodGltZSkuaXNWYWxpZCgpKSkge1xuXHQgICAgICAgIHJldHVybiBjcmVhdGVEdXJhdGlvbih7dG86IHRoaXMsIGZyb206IHRpbWV9KS5sb2NhbGUodGhpcy5sb2NhbGUoKSkuaHVtYW5pemUoIXdpdGhvdXRTdWZmaXgpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkuaW52YWxpZERhdGUoKTtcblx0ICAgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gZnJvbU5vdyAod2l0aG91dFN1ZmZpeCkge1xuXHQgICAgcmV0dXJuIHRoaXMuZnJvbShjcmVhdGVMb2NhbCgpLCB3aXRob3V0U3VmZml4KTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gdG8gKHRpbWUsIHdpdGhvdXRTdWZmaXgpIHtcblx0ICAgIGlmICh0aGlzLmlzVmFsaWQoKSAmJlxuXHQgICAgICAgICAgICAoKGlzTW9tZW50KHRpbWUpICYmIHRpbWUuaXNWYWxpZCgpKSB8fFxuXHQgICAgICAgICAgICAgY3JlYXRlTG9jYWwodGltZSkuaXNWYWxpZCgpKSkge1xuXHQgICAgICAgIHJldHVybiBjcmVhdGVEdXJhdGlvbih7ZnJvbTogdGhpcywgdG86IHRpbWV9KS5sb2NhbGUodGhpcy5sb2NhbGUoKSkuaHVtYW5pemUoIXdpdGhvdXRTdWZmaXgpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkuaW52YWxpZERhdGUoKTtcblx0ICAgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gdG9Ob3cgKHdpdGhvdXRTdWZmaXgpIHtcblx0ICAgIHJldHVybiB0aGlzLnRvKGNyZWF0ZUxvY2FsKCksIHdpdGhvdXRTdWZmaXgpO1xuXHR9XG5cdFxuXHQvLyBJZiBwYXNzZWQgYSBsb2NhbGUga2V5LCBpdCB3aWxsIHNldCB0aGUgbG9jYWxlIGZvciB0aGlzXG5cdC8vIGluc3RhbmNlLiAgT3RoZXJ3aXNlLCBpdCB3aWxsIHJldHVybiB0aGUgbG9jYWxlIGNvbmZpZ3VyYXRpb25cblx0Ly8gdmFyaWFibGVzIGZvciB0aGlzIGluc3RhbmNlLlxuXHRmdW5jdGlvbiBsb2NhbGUgKGtleSkge1xuXHQgICAgdmFyIG5ld0xvY2FsZURhdGE7XG5cdFxuXHQgICAgaWYgKGtleSA9PT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMuX2xvY2FsZS5fYWJicjtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgbmV3TG9jYWxlRGF0YSA9IGdldExvY2FsZShrZXkpO1xuXHQgICAgICAgIGlmIChuZXdMb2NhbGVEYXRhICE9IG51bGwpIHtcblx0ICAgICAgICAgICAgdGhpcy5fbG9jYWxlID0gbmV3TG9jYWxlRGF0YTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIHRoaXM7XG5cdCAgICB9XG5cdH1cblx0XG5cdHZhciBsYW5nID0gZGVwcmVjYXRlKFxuXHQgICAgJ21vbWVudCgpLmxhbmcoKSBpcyBkZXByZWNhdGVkLiBJbnN0ZWFkLCB1c2UgbW9tZW50KCkubG9jYWxlRGF0YSgpIHRvIGdldCB0aGUgbGFuZ3VhZ2UgY29uZmlndXJhdGlvbi4gVXNlIG1vbWVudCgpLmxvY2FsZSgpIHRvIGNoYW5nZSBsYW5ndWFnZXMuJyxcblx0ICAgIGZ1bmN0aW9uIChrZXkpIHtcblx0ICAgICAgICBpZiAoa2V5ID09PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzLmxvY2FsZShrZXkpO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0KTtcblx0XG5cdGZ1bmN0aW9uIGxvY2FsZURhdGEgKCkge1xuXHQgICAgcmV0dXJuIHRoaXMuX2xvY2FsZTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gc3RhcnRPZiAodW5pdHMpIHtcblx0ICAgIHVuaXRzID0gbm9ybWFsaXplVW5pdHModW5pdHMpO1xuXHQgICAgLy8gdGhlIGZvbGxvd2luZyBzd2l0Y2ggaW50ZW50aW9uYWxseSBvbWl0cyBicmVhayBrZXl3b3Jkc1xuXHQgICAgLy8gdG8gdXRpbGl6ZSBmYWxsaW5nIHRocm91Z2ggdGhlIGNhc2VzLlxuXHQgICAgc3dpdGNoICh1bml0cykge1xuXHQgICAgICAgIGNhc2UgJ3llYXInOlxuXHQgICAgICAgICAgICB0aGlzLm1vbnRoKDApO1xuXHQgICAgICAgICAgICAvKiBmYWxscyB0aHJvdWdoICovXG5cdCAgICAgICAgY2FzZSAncXVhcnRlcic6XG5cdCAgICAgICAgY2FzZSAnbW9udGgnOlxuXHQgICAgICAgICAgICB0aGlzLmRhdGUoMSk7XG5cdCAgICAgICAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cblx0ICAgICAgICBjYXNlICd3ZWVrJzpcblx0ICAgICAgICBjYXNlICdpc29XZWVrJzpcblx0ICAgICAgICBjYXNlICdkYXknOlxuXHQgICAgICAgIGNhc2UgJ2RhdGUnOlxuXHQgICAgICAgICAgICB0aGlzLmhvdXJzKDApO1xuXHQgICAgICAgICAgICAvKiBmYWxscyB0aHJvdWdoICovXG5cdCAgICAgICAgY2FzZSAnaG91cic6XG5cdCAgICAgICAgICAgIHRoaXMubWludXRlcygwKTtcblx0ICAgICAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuXHQgICAgICAgIGNhc2UgJ21pbnV0ZSc6XG5cdCAgICAgICAgICAgIHRoaXMuc2Vjb25kcygwKTtcblx0ICAgICAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuXHQgICAgICAgIGNhc2UgJ3NlY29uZCc6XG5cdCAgICAgICAgICAgIHRoaXMubWlsbGlzZWNvbmRzKDApO1xuXHQgICAgfVxuXHRcblx0ICAgIC8vIHdlZWtzIGFyZSBhIHNwZWNpYWwgY2FzZVxuXHQgICAgaWYgKHVuaXRzID09PSAnd2VlaycpIHtcblx0ICAgICAgICB0aGlzLndlZWtkYXkoMCk7XG5cdCAgICB9XG5cdCAgICBpZiAodW5pdHMgPT09ICdpc29XZWVrJykge1xuXHQgICAgICAgIHRoaXMuaXNvV2Vla2RheSgxKTtcblx0ICAgIH1cblx0XG5cdCAgICAvLyBxdWFydGVycyBhcmUgYWxzbyBzcGVjaWFsXG5cdCAgICBpZiAodW5pdHMgPT09ICdxdWFydGVyJykge1xuXHQgICAgICAgIHRoaXMubW9udGgoTWF0aC5mbG9vcih0aGlzLm1vbnRoKCkgLyAzKSAqIDMpO1xuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiB0aGlzO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBlbmRPZiAodW5pdHMpIHtcblx0ICAgIHVuaXRzID0gbm9ybWFsaXplVW5pdHModW5pdHMpO1xuXHQgICAgaWYgKHVuaXRzID09PSB1bmRlZmluZWQgfHwgdW5pdHMgPT09ICdtaWxsaXNlY29uZCcpIHtcblx0ICAgICAgICByZXR1cm4gdGhpcztcblx0ICAgIH1cblx0XG5cdCAgICAvLyAnZGF0ZScgaXMgYW4gYWxpYXMgZm9yICdkYXknLCBzbyBpdCBzaG91bGQgYmUgY29uc2lkZXJlZCBhcyBzdWNoLlxuXHQgICAgaWYgKHVuaXRzID09PSAnZGF0ZScpIHtcblx0ICAgICAgICB1bml0cyA9ICdkYXknO1xuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiB0aGlzLnN0YXJ0T2YodW5pdHMpLmFkZCgxLCAodW5pdHMgPT09ICdpc29XZWVrJyA/ICd3ZWVrJyA6IHVuaXRzKSkuc3VidHJhY3QoMSwgJ21zJyk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHZhbHVlT2YgKCkge1xuXHQgICAgcmV0dXJuIHRoaXMuX2QudmFsdWVPZigpIC0gKCh0aGlzLl9vZmZzZXQgfHwgMCkgKiA2MDAwMCk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHVuaXggKCkge1xuXHQgICAgcmV0dXJuIE1hdGguZmxvb3IodGhpcy52YWx1ZU9mKCkgLyAxMDAwKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gdG9EYXRlICgpIHtcblx0ICAgIHJldHVybiBuZXcgRGF0ZSh0aGlzLnZhbHVlT2YoKSk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHRvQXJyYXkgKCkge1xuXHQgICAgdmFyIG0gPSB0aGlzO1xuXHQgICAgcmV0dXJuIFttLnllYXIoKSwgbS5tb250aCgpLCBtLmRhdGUoKSwgbS5ob3VyKCksIG0ubWludXRlKCksIG0uc2Vjb25kKCksIG0ubWlsbGlzZWNvbmQoKV07XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHRvT2JqZWN0ICgpIHtcblx0ICAgIHZhciBtID0gdGhpcztcblx0ICAgIHJldHVybiB7XG5cdCAgICAgICAgeWVhcnM6IG0ueWVhcigpLFxuXHQgICAgICAgIG1vbnRoczogbS5tb250aCgpLFxuXHQgICAgICAgIGRhdGU6IG0uZGF0ZSgpLFxuXHQgICAgICAgIGhvdXJzOiBtLmhvdXJzKCksXG5cdCAgICAgICAgbWludXRlczogbS5taW51dGVzKCksXG5cdCAgICAgICAgc2Vjb25kczogbS5zZWNvbmRzKCksXG5cdCAgICAgICAgbWlsbGlzZWNvbmRzOiBtLm1pbGxpc2Vjb25kcygpXG5cdCAgICB9O1xuXHR9XG5cdFxuXHRmdW5jdGlvbiB0b0pTT04gKCkge1xuXHQgICAgLy8gbmV3IERhdGUoTmFOKS50b0pTT04oKSA9PT0gbnVsbFxuXHQgICAgcmV0dXJuIHRoaXMuaXNWYWxpZCgpID8gdGhpcy50b0lTT1N0cmluZygpIDogbnVsbDtcblx0fVxuXHRcblx0ZnVuY3Rpb24gaXNWYWxpZCQxICgpIHtcblx0ICAgIHJldHVybiBpc1ZhbGlkKHRoaXMpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBwYXJzaW5nRmxhZ3MgKCkge1xuXHQgICAgcmV0dXJuIGV4dGVuZCh7fSwgZ2V0UGFyc2luZ0ZsYWdzKHRoaXMpKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gaW52YWxpZEF0ICgpIHtcblx0ICAgIHJldHVybiBnZXRQYXJzaW5nRmxhZ3ModGhpcykub3ZlcmZsb3c7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGNyZWF0aW9uRGF0YSgpIHtcblx0ICAgIHJldHVybiB7XG5cdCAgICAgICAgaW5wdXQ6IHRoaXMuX2ksXG5cdCAgICAgICAgZm9ybWF0OiB0aGlzLl9mLFxuXHQgICAgICAgIGxvY2FsZTogdGhpcy5fbG9jYWxlLFxuXHQgICAgICAgIGlzVVRDOiB0aGlzLl9pc1VUQyxcblx0ICAgICAgICBzdHJpY3Q6IHRoaXMuX3N0cmljdFxuXHQgICAgfTtcblx0fVxuXHRcblx0Ly8gRk9STUFUVElOR1xuXHRcblx0YWRkRm9ybWF0VG9rZW4oMCwgWydnZycsIDJdLCAwLCBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gdGhpcy53ZWVrWWVhcigpICUgMTAwO1xuXHR9KTtcblx0XG5cdGFkZEZvcm1hdFRva2VuKDAsIFsnR0cnLCAyXSwgMCwgZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuIHRoaXMuaXNvV2Vla1llYXIoKSAlIDEwMDtcblx0fSk7XG5cdFxuXHRmdW5jdGlvbiBhZGRXZWVrWWVhckZvcm1hdFRva2VuICh0b2tlbiwgZ2V0dGVyKSB7XG5cdCAgICBhZGRGb3JtYXRUb2tlbigwLCBbdG9rZW4sIHRva2VuLmxlbmd0aF0sIDAsIGdldHRlcik7XG5cdH1cblx0XG5cdGFkZFdlZWtZZWFyRm9ybWF0VG9rZW4oJ2dnZ2cnLCAgICAgJ3dlZWtZZWFyJyk7XG5cdGFkZFdlZWtZZWFyRm9ybWF0VG9rZW4oJ2dnZ2dnJywgICAgJ3dlZWtZZWFyJyk7XG5cdGFkZFdlZWtZZWFyRm9ybWF0VG9rZW4oJ0dHR0cnLCAgJ2lzb1dlZWtZZWFyJyk7XG5cdGFkZFdlZWtZZWFyRm9ybWF0VG9rZW4oJ0dHR0dHJywgJ2lzb1dlZWtZZWFyJyk7XG5cdFxuXHQvLyBBTElBU0VTXG5cdFxuXHRhZGRVbml0QWxpYXMoJ3dlZWtZZWFyJywgJ2dnJyk7XG5cdGFkZFVuaXRBbGlhcygnaXNvV2Vla1llYXInLCAnR0cnKTtcblx0XG5cdC8vIFBSSU9SSVRZXG5cdFxuXHRhZGRVbml0UHJpb3JpdHkoJ3dlZWtZZWFyJywgMSk7XG5cdGFkZFVuaXRQcmlvcml0eSgnaXNvV2Vla1llYXInLCAxKTtcblx0XG5cdFxuXHQvLyBQQVJTSU5HXG5cdFxuXHRhZGRSZWdleFRva2VuKCdHJywgICAgICBtYXRjaFNpZ25lZCk7XG5cdGFkZFJlZ2V4VG9rZW4oJ2cnLCAgICAgIG1hdGNoU2lnbmVkKTtcblx0YWRkUmVnZXhUb2tlbignR0cnLCAgICAgbWF0Y2gxdG8yLCBtYXRjaDIpO1xuXHRhZGRSZWdleFRva2VuKCdnZycsICAgICBtYXRjaDF0bzIsIG1hdGNoMik7XG5cdGFkZFJlZ2V4VG9rZW4oJ0dHR0cnLCAgIG1hdGNoMXRvNCwgbWF0Y2g0KTtcblx0YWRkUmVnZXhUb2tlbignZ2dnZycsICAgbWF0Y2gxdG80LCBtYXRjaDQpO1xuXHRhZGRSZWdleFRva2VuKCdHR0dHRycsICBtYXRjaDF0bzYsIG1hdGNoNik7XG5cdGFkZFJlZ2V4VG9rZW4oJ2dnZ2dnJywgIG1hdGNoMXRvNiwgbWF0Y2g2KTtcblx0XG5cdGFkZFdlZWtQYXJzZVRva2VuKFsnZ2dnZycsICdnZ2dnZycsICdHR0dHJywgJ0dHR0dHJ10sIGZ1bmN0aW9uIChpbnB1dCwgd2VlaywgY29uZmlnLCB0b2tlbikge1xuXHQgICAgd2Vla1t0b2tlbi5zdWJzdHIoMCwgMildID0gdG9JbnQoaW5wdXQpO1xuXHR9KTtcblx0XG5cdGFkZFdlZWtQYXJzZVRva2VuKFsnZ2cnLCAnR0cnXSwgZnVuY3Rpb24gKGlucHV0LCB3ZWVrLCBjb25maWcsIHRva2VuKSB7XG5cdCAgICB3ZWVrW3Rva2VuXSA9IGhvb2tzLnBhcnNlVHdvRGlnaXRZZWFyKGlucHV0KTtcblx0fSk7XG5cdFxuXHQvLyBNT01FTlRTXG5cdFxuXHRmdW5jdGlvbiBnZXRTZXRXZWVrWWVhciAoaW5wdXQpIHtcblx0ICAgIHJldHVybiBnZXRTZXRXZWVrWWVhckhlbHBlci5jYWxsKHRoaXMsXG5cdCAgICAgICAgICAgIGlucHV0LFxuXHQgICAgICAgICAgICB0aGlzLndlZWsoKSxcblx0ICAgICAgICAgICAgdGhpcy53ZWVrZGF5KCksXG5cdCAgICAgICAgICAgIHRoaXMubG9jYWxlRGF0YSgpLl93ZWVrLmRvdyxcblx0ICAgICAgICAgICAgdGhpcy5sb2NhbGVEYXRhKCkuX3dlZWsuZG95KTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gZ2V0U2V0SVNPV2Vla1llYXIgKGlucHV0KSB7XG5cdCAgICByZXR1cm4gZ2V0U2V0V2Vla1llYXJIZWxwZXIuY2FsbCh0aGlzLFxuXHQgICAgICAgICAgICBpbnB1dCwgdGhpcy5pc29XZWVrKCksIHRoaXMuaXNvV2Vla2RheSgpLCAxLCA0KTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gZ2V0SVNPV2Vla3NJblllYXIgKCkge1xuXHQgICAgcmV0dXJuIHdlZWtzSW5ZZWFyKHRoaXMueWVhcigpLCAxLCA0KTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gZ2V0V2Vla3NJblllYXIgKCkge1xuXHQgICAgdmFyIHdlZWtJbmZvID0gdGhpcy5sb2NhbGVEYXRhKCkuX3dlZWs7XG5cdCAgICByZXR1cm4gd2Vla3NJblllYXIodGhpcy55ZWFyKCksIHdlZWtJbmZvLmRvdywgd2Vla0luZm8uZG95KTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gZ2V0U2V0V2Vla1llYXJIZWxwZXIoaW5wdXQsIHdlZWssIHdlZWtkYXksIGRvdywgZG95KSB7XG5cdCAgICB2YXIgd2Vla3NUYXJnZXQ7XG5cdCAgICBpZiAoaW5wdXQgPT0gbnVsbCkge1xuXHQgICAgICAgIHJldHVybiB3ZWVrT2ZZZWFyKHRoaXMsIGRvdywgZG95KS55ZWFyO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICB3ZWVrc1RhcmdldCA9IHdlZWtzSW5ZZWFyKGlucHV0LCBkb3csIGRveSk7XG5cdCAgICAgICAgaWYgKHdlZWsgPiB3ZWVrc1RhcmdldCkge1xuXHQgICAgICAgICAgICB3ZWVrID0gd2Vla3NUYXJnZXQ7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiBzZXRXZWVrQWxsLmNhbGwodGhpcywgaW5wdXQsIHdlZWssIHdlZWtkYXksIGRvdywgZG95KTtcblx0ICAgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gc2V0V2Vla0FsbCh3ZWVrWWVhciwgd2Vlaywgd2Vla2RheSwgZG93LCBkb3kpIHtcblx0ICAgIHZhciBkYXlPZlllYXJEYXRhID0gZGF5T2ZZZWFyRnJvbVdlZWtzKHdlZWtZZWFyLCB3ZWVrLCB3ZWVrZGF5LCBkb3csIGRveSksXG5cdCAgICAgICAgZGF0ZSA9IGNyZWF0ZVVUQ0RhdGUoZGF5T2ZZZWFyRGF0YS55ZWFyLCAwLCBkYXlPZlllYXJEYXRhLmRheU9mWWVhcik7XG5cdFxuXHQgICAgdGhpcy55ZWFyKGRhdGUuZ2V0VVRDRnVsbFllYXIoKSk7XG5cdCAgICB0aGlzLm1vbnRoKGRhdGUuZ2V0VVRDTW9udGgoKSk7XG5cdCAgICB0aGlzLmRhdGUoZGF0ZS5nZXRVVENEYXRlKCkpO1xuXHQgICAgcmV0dXJuIHRoaXM7XG5cdH1cblx0XG5cdC8vIEZPUk1BVFRJTkdcblx0XG5cdGFkZEZvcm1hdFRva2VuKCdRJywgMCwgJ1FvJywgJ3F1YXJ0ZXInKTtcblx0XG5cdC8vIEFMSUFTRVNcblx0XG5cdGFkZFVuaXRBbGlhcygncXVhcnRlcicsICdRJyk7XG5cdFxuXHQvLyBQUklPUklUWVxuXHRcblx0YWRkVW5pdFByaW9yaXR5KCdxdWFydGVyJywgNyk7XG5cdFxuXHQvLyBQQVJTSU5HXG5cdFxuXHRhZGRSZWdleFRva2VuKCdRJywgbWF0Y2gxKTtcblx0YWRkUGFyc2VUb2tlbignUScsIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXkpIHtcblx0ICAgIGFycmF5W01PTlRIXSA9ICh0b0ludChpbnB1dCkgLSAxKSAqIDM7XG5cdH0pO1xuXHRcblx0Ly8gTU9NRU5UU1xuXHRcblx0ZnVuY3Rpb24gZ2V0U2V0UXVhcnRlciAoaW5wdXQpIHtcblx0ICAgIHJldHVybiBpbnB1dCA9PSBudWxsID8gTWF0aC5jZWlsKCh0aGlzLm1vbnRoKCkgKyAxKSAvIDMpIDogdGhpcy5tb250aCgoaW5wdXQgLSAxKSAqIDMgKyB0aGlzLm1vbnRoKCkgJSAzKTtcblx0fVxuXHRcblx0Ly8gRk9STUFUVElOR1xuXHRcblx0YWRkRm9ybWF0VG9rZW4oJ0QnLCBbJ0REJywgMl0sICdEbycsICdkYXRlJyk7XG5cdFxuXHQvLyBBTElBU0VTXG5cdFxuXHRhZGRVbml0QWxpYXMoJ2RhdGUnLCAnRCcpO1xuXHRcblx0Ly8gUFJJT1JPSVRZXG5cdGFkZFVuaXRQcmlvcml0eSgnZGF0ZScsIDkpO1xuXHRcblx0Ly8gUEFSU0lOR1xuXHRcblx0YWRkUmVnZXhUb2tlbignRCcsICBtYXRjaDF0bzIpO1xuXHRhZGRSZWdleFRva2VuKCdERCcsIG1hdGNoMXRvMiwgbWF0Y2gyKTtcblx0YWRkUmVnZXhUb2tlbignRG8nLCBmdW5jdGlvbiAoaXNTdHJpY3QsIGxvY2FsZSkge1xuXHQgICAgcmV0dXJuIGlzU3RyaWN0ID8gbG9jYWxlLl9vcmRpbmFsUGFyc2UgOiBsb2NhbGUuX29yZGluYWxQYXJzZUxlbmllbnQ7XG5cdH0pO1xuXHRcblx0YWRkUGFyc2VUb2tlbihbJ0QnLCAnREQnXSwgREFURSk7XG5cdGFkZFBhcnNlVG9rZW4oJ0RvJywgZnVuY3Rpb24gKGlucHV0LCBhcnJheSkge1xuXHQgICAgYXJyYXlbREFURV0gPSB0b0ludChpbnB1dC5tYXRjaChtYXRjaDF0bzIpWzBdLCAxMCk7XG5cdH0pO1xuXHRcblx0Ly8gTU9NRU5UU1xuXHRcblx0dmFyIGdldFNldERheU9mTW9udGggPSBtYWtlR2V0U2V0KCdEYXRlJywgdHJ1ZSk7XG5cdFxuXHQvLyBGT1JNQVRUSU5HXG5cdFxuXHRhZGRGb3JtYXRUb2tlbignREREJywgWydEREREJywgM10sICdERERvJywgJ2RheU9mWWVhcicpO1xuXHRcblx0Ly8gQUxJQVNFU1xuXHRcblx0YWRkVW5pdEFsaWFzKCdkYXlPZlllYXInLCAnREREJyk7XG5cdFxuXHQvLyBQUklPUklUWVxuXHRhZGRVbml0UHJpb3JpdHkoJ2RheU9mWWVhcicsIDQpO1xuXHRcblx0Ly8gUEFSU0lOR1xuXHRcblx0YWRkUmVnZXhUb2tlbignREREJywgIG1hdGNoMXRvMyk7XG5cdGFkZFJlZ2V4VG9rZW4oJ0REREQnLCBtYXRjaDMpO1xuXHRhZGRQYXJzZVRva2VuKFsnREREJywgJ0REREQnXSwgZnVuY3Rpb24gKGlucHV0LCBhcnJheSwgY29uZmlnKSB7XG5cdCAgICBjb25maWcuX2RheU9mWWVhciA9IHRvSW50KGlucHV0KTtcblx0fSk7XG5cdFxuXHQvLyBIRUxQRVJTXG5cdFxuXHQvLyBNT01FTlRTXG5cdFxuXHRmdW5jdGlvbiBnZXRTZXREYXlPZlllYXIgKGlucHV0KSB7XG5cdCAgICB2YXIgZGF5T2ZZZWFyID0gTWF0aC5yb3VuZCgodGhpcy5jbG9uZSgpLnN0YXJ0T2YoJ2RheScpIC0gdGhpcy5jbG9uZSgpLnN0YXJ0T2YoJ3llYXInKSkgLyA4NjRlNSkgKyAxO1xuXHQgICAgcmV0dXJuIGlucHV0ID09IG51bGwgPyBkYXlPZlllYXIgOiB0aGlzLmFkZCgoaW5wdXQgLSBkYXlPZlllYXIpLCAnZCcpO1xuXHR9XG5cdFxuXHQvLyBGT1JNQVRUSU5HXG5cdFxuXHRhZGRGb3JtYXRUb2tlbignbScsIFsnbW0nLCAyXSwgMCwgJ21pbnV0ZScpO1xuXHRcblx0Ly8gQUxJQVNFU1xuXHRcblx0YWRkVW5pdEFsaWFzKCdtaW51dGUnLCAnbScpO1xuXHRcblx0Ly8gUFJJT1JJVFlcblx0XG5cdGFkZFVuaXRQcmlvcml0eSgnbWludXRlJywgMTQpO1xuXHRcblx0Ly8gUEFSU0lOR1xuXHRcblx0YWRkUmVnZXhUb2tlbignbScsICBtYXRjaDF0bzIpO1xuXHRhZGRSZWdleFRva2VuKCdtbScsIG1hdGNoMXRvMiwgbWF0Y2gyKTtcblx0YWRkUGFyc2VUb2tlbihbJ20nLCAnbW0nXSwgTUlOVVRFKTtcblx0XG5cdC8vIE1PTUVOVFNcblx0XG5cdHZhciBnZXRTZXRNaW51dGUgPSBtYWtlR2V0U2V0KCdNaW51dGVzJywgZmFsc2UpO1xuXHRcblx0Ly8gRk9STUFUVElOR1xuXHRcblx0YWRkRm9ybWF0VG9rZW4oJ3MnLCBbJ3NzJywgMl0sIDAsICdzZWNvbmQnKTtcblx0XG5cdC8vIEFMSUFTRVNcblx0XG5cdGFkZFVuaXRBbGlhcygnc2Vjb25kJywgJ3MnKTtcblx0XG5cdC8vIFBSSU9SSVRZXG5cdFxuXHRhZGRVbml0UHJpb3JpdHkoJ3NlY29uZCcsIDE1KTtcblx0XG5cdC8vIFBBUlNJTkdcblx0XG5cdGFkZFJlZ2V4VG9rZW4oJ3MnLCAgbWF0Y2gxdG8yKTtcblx0YWRkUmVnZXhUb2tlbignc3MnLCBtYXRjaDF0bzIsIG1hdGNoMik7XG5cdGFkZFBhcnNlVG9rZW4oWydzJywgJ3NzJ10sIFNFQ09ORCk7XG5cdFxuXHQvLyBNT01FTlRTXG5cdFxuXHR2YXIgZ2V0U2V0U2Vjb25kID0gbWFrZUdldFNldCgnU2Vjb25kcycsIGZhbHNlKTtcblx0XG5cdC8vIEZPUk1BVFRJTkdcblx0XG5cdGFkZEZvcm1hdFRva2VuKCdTJywgMCwgMCwgZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuIH5+KHRoaXMubWlsbGlzZWNvbmQoKSAvIDEwMCk7XG5cdH0pO1xuXHRcblx0YWRkRm9ybWF0VG9rZW4oMCwgWydTUycsIDJdLCAwLCBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gfn4odGhpcy5taWxsaXNlY29uZCgpIC8gMTApO1xuXHR9KTtcblx0XG5cdGFkZEZvcm1hdFRva2VuKDAsIFsnU1NTJywgM10sIDAsICdtaWxsaXNlY29uZCcpO1xuXHRhZGRGb3JtYXRUb2tlbigwLCBbJ1NTU1MnLCA0XSwgMCwgZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuIHRoaXMubWlsbGlzZWNvbmQoKSAqIDEwO1xuXHR9KTtcblx0YWRkRm9ybWF0VG9rZW4oMCwgWydTU1NTUycsIDVdLCAwLCBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gdGhpcy5taWxsaXNlY29uZCgpICogMTAwO1xuXHR9KTtcblx0YWRkRm9ybWF0VG9rZW4oMCwgWydTU1NTU1MnLCA2XSwgMCwgZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuIHRoaXMubWlsbGlzZWNvbmQoKSAqIDEwMDA7XG5cdH0pO1xuXHRhZGRGb3JtYXRUb2tlbigwLCBbJ1NTU1NTU1MnLCA3XSwgMCwgZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuIHRoaXMubWlsbGlzZWNvbmQoKSAqIDEwMDAwO1xuXHR9KTtcblx0YWRkRm9ybWF0VG9rZW4oMCwgWydTU1NTU1NTUycsIDhdLCAwLCBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gdGhpcy5taWxsaXNlY29uZCgpICogMTAwMDAwO1xuXHR9KTtcblx0YWRkRm9ybWF0VG9rZW4oMCwgWydTU1NTU1NTU1MnLCA5XSwgMCwgZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuIHRoaXMubWlsbGlzZWNvbmQoKSAqIDEwMDAwMDA7XG5cdH0pO1xuXHRcblx0XG5cdC8vIEFMSUFTRVNcblx0XG5cdGFkZFVuaXRBbGlhcygnbWlsbGlzZWNvbmQnLCAnbXMnKTtcblx0XG5cdC8vIFBSSU9SSVRZXG5cdFxuXHRhZGRVbml0UHJpb3JpdHkoJ21pbGxpc2Vjb25kJywgMTYpO1xuXHRcblx0Ly8gUEFSU0lOR1xuXHRcblx0YWRkUmVnZXhUb2tlbignUycsICAgIG1hdGNoMXRvMywgbWF0Y2gxKTtcblx0YWRkUmVnZXhUb2tlbignU1MnLCAgIG1hdGNoMXRvMywgbWF0Y2gyKTtcblx0YWRkUmVnZXhUb2tlbignU1NTJywgIG1hdGNoMXRvMywgbWF0Y2gzKTtcblx0XG5cdHZhciB0b2tlbjtcblx0Zm9yICh0b2tlbiA9ICdTU1NTJzsgdG9rZW4ubGVuZ3RoIDw9IDk7IHRva2VuICs9ICdTJykge1xuXHQgICAgYWRkUmVnZXhUb2tlbih0b2tlbiwgbWF0Y2hVbnNpZ25lZCk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHBhcnNlTXMoaW5wdXQsIGFycmF5KSB7XG5cdCAgICBhcnJheVtNSUxMSVNFQ09ORF0gPSB0b0ludCgoJzAuJyArIGlucHV0KSAqIDEwMDApO1xuXHR9XG5cdFxuXHRmb3IgKHRva2VuID0gJ1MnOyB0b2tlbi5sZW5ndGggPD0gOTsgdG9rZW4gKz0gJ1MnKSB7XG5cdCAgICBhZGRQYXJzZVRva2VuKHRva2VuLCBwYXJzZU1zKTtcblx0fVxuXHQvLyBNT01FTlRTXG5cdFxuXHR2YXIgZ2V0U2V0TWlsbGlzZWNvbmQgPSBtYWtlR2V0U2V0KCdNaWxsaXNlY29uZHMnLCBmYWxzZSk7XG5cdFxuXHQvLyBGT1JNQVRUSU5HXG5cdFxuXHRhZGRGb3JtYXRUb2tlbigneicsICAwLCAwLCAnem9uZUFiYnInKTtcblx0YWRkRm9ybWF0VG9rZW4oJ3p6JywgMCwgMCwgJ3pvbmVOYW1lJyk7XG5cdFxuXHQvLyBNT01FTlRTXG5cdFxuXHRmdW5jdGlvbiBnZXRab25lQWJiciAoKSB7XG5cdCAgICByZXR1cm4gdGhpcy5faXNVVEMgPyAnVVRDJyA6ICcnO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBnZXRab25lTmFtZSAoKSB7XG5cdCAgICByZXR1cm4gdGhpcy5faXNVVEMgPyAnQ29vcmRpbmF0ZWQgVW5pdmVyc2FsIFRpbWUnIDogJyc7XG5cdH1cblx0XG5cdHZhciBwcm90byA9IE1vbWVudC5wcm90b3R5cGU7XG5cdFxuXHRwcm90by5hZGQgICAgICAgICAgICAgICA9IGFkZDtcblx0cHJvdG8uY2FsZW5kYXIgICAgICAgICAgPSBjYWxlbmRhciQxO1xuXHRwcm90by5jbG9uZSAgICAgICAgICAgICA9IGNsb25lO1xuXHRwcm90by5kaWZmICAgICAgICAgICAgICA9IGRpZmY7XG5cdHByb3RvLmVuZE9mICAgICAgICAgICAgID0gZW5kT2Y7XG5cdHByb3RvLmZvcm1hdCAgICAgICAgICAgID0gZm9ybWF0O1xuXHRwcm90by5mcm9tICAgICAgICAgICAgICA9IGZyb207XG5cdHByb3RvLmZyb21Ob3cgICAgICAgICAgID0gZnJvbU5vdztcblx0cHJvdG8udG8gICAgICAgICAgICAgICAgPSB0bztcblx0cHJvdG8udG9Ob3cgICAgICAgICAgICAgPSB0b05vdztcblx0cHJvdG8uZ2V0ICAgICAgICAgICAgICAgPSBzdHJpbmdHZXQ7XG5cdHByb3RvLmludmFsaWRBdCAgICAgICAgID0gaW52YWxpZEF0O1xuXHRwcm90by5pc0FmdGVyICAgICAgICAgICA9IGlzQWZ0ZXI7XG5cdHByb3RvLmlzQmVmb3JlICAgICAgICAgID0gaXNCZWZvcmU7XG5cdHByb3RvLmlzQmV0d2VlbiAgICAgICAgID0gaXNCZXR3ZWVuO1xuXHRwcm90by5pc1NhbWUgICAgICAgICAgICA9IGlzU2FtZTtcblx0cHJvdG8uaXNTYW1lT3JBZnRlciAgICAgPSBpc1NhbWVPckFmdGVyO1xuXHRwcm90by5pc1NhbWVPckJlZm9yZSAgICA9IGlzU2FtZU9yQmVmb3JlO1xuXHRwcm90by5pc1ZhbGlkICAgICAgICAgICA9IGlzVmFsaWQkMTtcblx0cHJvdG8ubGFuZyAgICAgICAgICAgICAgPSBsYW5nO1xuXHRwcm90by5sb2NhbGUgICAgICAgICAgICA9IGxvY2FsZTtcblx0cHJvdG8ubG9jYWxlRGF0YSAgICAgICAgPSBsb2NhbGVEYXRhO1xuXHRwcm90by5tYXggICAgICAgICAgICAgICA9IHByb3RvdHlwZU1heDtcblx0cHJvdG8ubWluICAgICAgICAgICAgICAgPSBwcm90b3R5cGVNaW47XG5cdHByb3RvLnBhcnNpbmdGbGFncyAgICAgID0gcGFyc2luZ0ZsYWdzO1xuXHRwcm90by5zZXQgICAgICAgICAgICAgICA9IHN0cmluZ1NldDtcblx0cHJvdG8uc3RhcnRPZiAgICAgICAgICAgPSBzdGFydE9mO1xuXHRwcm90by5zdWJ0cmFjdCAgICAgICAgICA9IHN1YnRyYWN0O1xuXHRwcm90by50b0FycmF5ICAgICAgICAgICA9IHRvQXJyYXk7XG5cdHByb3RvLnRvT2JqZWN0ICAgICAgICAgID0gdG9PYmplY3Q7XG5cdHByb3RvLnRvRGF0ZSAgICAgICAgICAgID0gdG9EYXRlO1xuXHRwcm90by50b0lTT1N0cmluZyAgICAgICA9IHRvSVNPU3RyaW5nO1xuXHRwcm90by5pbnNwZWN0ICAgICAgICAgICA9IGluc3BlY3Q7XG5cdHByb3RvLnRvSlNPTiAgICAgICAgICAgID0gdG9KU09OO1xuXHRwcm90by50b1N0cmluZyAgICAgICAgICA9IHRvU3RyaW5nO1xuXHRwcm90by51bml4ICAgICAgICAgICAgICA9IHVuaXg7XG5cdHByb3RvLnZhbHVlT2YgICAgICAgICAgID0gdmFsdWVPZjtcblx0cHJvdG8uY3JlYXRpb25EYXRhICAgICAgPSBjcmVhdGlvbkRhdGE7XG5cdFxuXHQvLyBZZWFyXG5cdHByb3RvLnllYXIgICAgICAgPSBnZXRTZXRZZWFyO1xuXHRwcm90by5pc0xlYXBZZWFyID0gZ2V0SXNMZWFwWWVhcjtcblx0XG5cdC8vIFdlZWsgWWVhclxuXHRwcm90by53ZWVrWWVhciAgICA9IGdldFNldFdlZWtZZWFyO1xuXHRwcm90by5pc29XZWVrWWVhciA9IGdldFNldElTT1dlZWtZZWFyO1xuXHRcblx0Ly8gUXVhcnRlclxuXHRwcm90by5xdWFydGVyID0gcHJvdG8ucXVhcnRlcnMgPSBnZXRTZXRRdWFydGVyO1xuXHRcblx0Ly8gTW9udGhcblx0cHJvdG8ubW9udGggICAgICAgPSBnZXRTZXRNb250aDtcblx0cHJvdG8uZGF5c0luTW9udGggPSBnZXREYXlzSW5Nb250aDtcblx0XG5cdC8vIFdlZWtcblx0cHJvdG8ud2VlayAgICAgICAgICAgPSBwcm90by53ZWVrcyAgICAgICAgPSBnZXRTZXRXZWVrO1xuXHRwcm90by5pc29XZWVrICAgICAgICA9IHByb3RvLmlzb1dlZWtzICAgICA9IGdldFNldElTT1dlZWs7XG5cdHByb3RvLndlZWtzSW5ZZWFyICAgID0gZ2V0V2Vla3NJblllYXI7XG5cdHByb3RvLmlzb1dlZWtzSW5ZZWFyID0gZ2V0SVNPV2Vla3NJblllYXI7XG5cdFxuXHQvLyBEYXlcblx0cHJvdG8uZGF0ZSAgICAgICA9IGdldFNldERheU9mTW9udGg7XG5cdHByb3RvLmRheSAgICAgICAgPSBwcm90by5kYXlzICAgICAgICAgICAgID0gZ2V0U2V0RGF5T2ZXZWVrO1xuXHRwcm90by53ZWVrZGF5ICAgID0gZ2V0U2V0TG9jYWxlRGF5T2ZXZWVrO1xuXHRwcm90by5pc29XZWVrZGF5ID0gZ2V0U2V0SVNPRGF5T2ZXZWVrO1xuXHRwcm90by5kYXlPZlllYXIgID0gZ2V0U2V0RGF5T2ZZZWFyO1xuXHRcblx0Ly8gSG91clxuXHRwcm90by5ob3VyID0gcHJvdG8uaG91cnMgPSBnZXRTZXRIb3VyO1xuXHRcblx0Ly8gTWludXRlXG5cdHByb3RvLm1pbnV0ZSA9IHByb3RvLm1pbnV0ZXMgPSBnZXRTZXRNaW51dGU7XG5cdFxuXHQvLyBTZWNvbmRcblx0cHJvdG8uc2Vjb25kID0gcHJvdG8uc2Vjb25kcyA9IGdldFNldFNlY29uZDtcblx0XG5cdC8vIE1pbGxpc2Vjb25kXG5cdHByb3RvLm1pbGxpc2Vjb25kID0gcHJvdG8ubWlsbGlzZWNvbmRzID0gZ2V0U2V0TWlsbGlzZWNvbmQ7XG5cdFxuXHQvLyBPZmZzZXRcblx0cHJvdG8udXRjT2Zmc2V0ICAgICAgICAgICAgPSBnZXRTZXRPZmZzZXQ7XG5cdHByb3RvLnV0YyAgICAgICAgICAgICAgICAgID0gc2V0T2Zmc2V0VG9VVEM7XG5cdHByb3RvLmxvY2FsICAgICAgICAgICAgICAgID0gc2V0T2Zmc2V0VG9Mb2NhbDtcblx0cHJvdG8ucGFyc2Vab25lICAgICAgICAgICAgPSBzZXRPZmZzZXRUb1BhcnNlZE9mZnNldDtcblx0cHJvdG8uaGFzQWxpZ25lZEhvdXJPZmZzZXQgPSBoYXNBbGlnbmVkSG91ck9mZnNldDtcblx0cHJvdG8uaXNEU1QgICAgICAgICAgICAgICAgPSBpc0RheWxpZ2h0U2F2aW5nVGltZTtcblx0cHJvdG8uaXNMb2NhbCAgICAgICAgICAgICAgPSBpc0xvY2FsO1xuXHRwcm90by5pc1V0Y09mZnNldCAgICAgICAgICA9IGlzVXRjT2Zmc2V0O1xuXHRwcm90by5pc1V0YyAgICAgICAgICAgICAgICA9IGlzVXRjO1xuXHRwcm90by5pc1VUQyAgICAgICAgICAgICAgICA9IGlzVXRjO1xuXHRcblx0Ly8gVGltZXpvbmVcblx0cHJvdG8uem9uZUFiYnIgPSBnZXRab25lQWJicjtcblx0cHJvdG8uem9uZU5hbWUgPSBnZXRab25lTmFtZTtcblx0XG5cdC8vIERlcHJlY2F0aW9uc1xuXHRwcm90by5kYXRlcyAgPSBkZXByZWNhdGUoJ2RhdGVzIGFjY2Vzc29yIGlzIGRlcHJlY2F0ZWQuIFVzZSBkYXRlIGluc3RlYWQuJywgZ2V0U2V0RGF5T2ZNb250aCk7XG5cdHByb3RvLm1vbnRocyA9IGRlcHJlY2F0ZSgnbW9udGhzIGFjY2Vzc29yIGlzIGRlcHJlY2F0ZWQuIFVzZSBtb250aCBpbnN0ZWFkJywgZ2V0U2V0TW9udGgpO1xuXHRwcm90by55ZWFycyAgPSBkZXByZWNhdGUoJ3llYXJzIGFjY2Vzc29yIGlzIGRlcHJlY2F0ZWQuIFVzZSB5ZWFyIGluc3RlYWQnLCBnZXRTZXRZZWFyKTtcblx0cHJvdG8uem9uZSAgID0gZGVwcmVjYXRlKCdtb21lbnQoKS56b25lIGlzIGRlcHJlY2F0ZWQsIHVzZSBtb21lbnQoKS51dGNPZmZzZXQgaW5zdGVhZC4gaHR0cDovL21vbWVudGpzLmNvbS9ndWlkZXMvIy93YXJuaW5ncy96b25lLycsIGdldFNldFpvbmUpO1xuXHRwcm90by5pc0RTVFNoaWZ0ZWQgPSBkZXByZWNhdGUoJ2lzRFNUU2hpZnRlZCBpcyBkZXByZWNhdGVkLiBTZWUgaHR0cDovL21vbWVudGpzLmNvbS9ndWlkZXMvIy93YXJuaW5ncy9kc3Qtc2hpZnRlZC8gZm9yIG1vcmUgaW5mb3JtYXRpb24nLCBpc0RheWxpZ2h0U2F2aW5nVGltZVNoaWZ0ZWQpO1xuXHRcblx0ZnVuY3Rpb24gY3JlYXRlVW5peCAoaW5wdXQpIHtcblx0ICAgIHJldHVybiBjcmVhdGVMb2NhbChpbnB1dCAqIDEwMDApO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBjcmVhdGVJblpvbmUgKCkge1xuXHQgICAgcmV0dXJuIGNyZWF0ZUxvY2FsLmFwcGx5KG51bGwsIGFyZ3VtZW50cykucGFyc2Vab25lKCk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHByZVBhcnNlUG9zdEZvcm1hdCAoc3RyaW5nKSB7XG5cdCAgICByZXR1cm4gc3RyaW5nO1xuXHR9XG5cdFxuXHR2YXIgcHJvdG8kMSA9IExvY2FsZS5wcm90b3R5cGU7XG5cdFxuXHRwcm90byQxLmNhbGVuZGFyICAgICAgICA9IGNhbGVuZGFyO1xuXHRwcm90byQxLmxvbmdEYXRlRm9ybWF0ICA9IGxvbmdEYXRlRm9ybWF0O1xuXHRwcm90byQxLmludmFsaWREYXRlICAgICA9IGludmFsaWREYXRlO1xuXHRwcm90byQxLm9yZGluYWwgICAgICAgICA9IG9yZGluYWw7XG5cdHByb3RvJDEucHJlcGFyc2UgICAgICAgID0gcHJlUGFyc2VQb3N0Rm9ybWF0O1xuXHRwcm90byQxLnBvc3Rmb3JtYXQgICAgICA9IHByZVBhcnNlUG9zdEZvcm1hdDtcblx0cHJvdG8kMS5yZWxhdGl2ZVRpbWUgICAgPSByZWxhdGl2ZVRpbWU7XG5cdHByb3RvJDEucGFzdEZ1dHVyZSAgICAgID0gcGFzdEZ1dHVyZTtcblx0cHJvdG8kMS5zZXQgICAgICAgICAgICAgPSBzZXQ7XG5cdFxuXHQvLyBNb250aFxuXHRwcm90byQxLm1vbnRocyAgICAgICAgICAgID0gICAgICAgIGxvY2FsZU1vbnRocztcblx0cHJvdG8kMS5tb250aHNTaG9ydCAgICAgICA9ICAgICAgICBsb2NhbGVNb250aHNTaG9ydDtcblx0cHJvdG8kMS5tb250aHNQYXJzZSAgICAgICA9ICAgICAgICBsb2NhbGVNb250aHNQYXJzZTtcblx0cHJvdG8kMS5tb250aHNSZWdleCAgICAgICA9IG1vbnRoc1JlZ2V4O1xuXHRwcm90byQxLm1vbnRoc1Nob3J0UmVnZXggID0gbW9udGhzU2hvcnRSZWdleDtcblx0XG5cdC8vIFdlZWtcblx0cHJvdG8kMS53ZWVrID0gbG9jYWxlV2Vlaztcblx0cHJvdG8kMS5maXJzdERheU9mWWVhciA9IGxvY2FsZUZpcnN0RGF5T2ZZZWFyO1xuXHRwcm90byQxLmZpcnN0RGF5T2ZXZWVrID0gbG9jYWxlRmlyc3REYXlPZldlZWs7XG5cdFxuXHQvLyBEYXkgb2YgV2Vla1xuXHRwcm90byQxLndlZWtkYXlzICAgICAgID0gICAgICAgIGxvY2FsZVdlZWtkYXlzO1xuXHRwcm90byQxLndlZWtkYXlzTWluICAgID0gICAgICAgIGxvY2FsZVdlZWtkYXlzTWluO1xuXHRwcm90byQxLndlZWtkYXlzU2hvcnQgID0gICAgICAgIGxvY2FsZVdlZWtkYXlzU2hvcnQ7XG5cdHByb3RvJDEud2Vla2RheXNQYXJzZSAgPSAgICAgICAgbG9jYWxlV2Vla2RheXNQYXJzZTtcblx0XG5cdHByb3RvJDEud2Vla2RheXNSZWdleCAgICAgICA9ICAgICAgICB3ZWVrZGF5c1JlZ2V4O1xuXHRwcm90byQxLndlZWtkYXlzU2hvcnRSZWdleCAgPSAgICAgICAgd2Vla2RheXNTaG9ydFJlZ2V4O1xuXHRwcm90byQxLndlZWtkYXlzTWluUmVnZXggICAgPSAgICAgICAgd2Vla2RheXNNaW5SZWdleDtcblx0XG5cdC8vIEhvdXJzXG5cdHByb3RvJDEuaXNQTSA9IGxvY2FsZUlzUE07XG5cdHByb3RvJDEubWVyaWRpZW0gPSBsb2NhbGVNZXJpZGllbTtcblx0XG5cdGZ1bmN0aW9uIGdldCQxIChmb3JtYXQsIGluZGV4LCBmaWVsZCwgc2V0dGVyKSB7XG5cdCAgICB2YXIgbG9jYWxlID0gZ2V0TG9jYWxlKCk7XG5cdCAgICB2YXIgdXRjID0gY3JlYXRlVVRDKCkuc2V0KHNldHRlciwgaW5kZXgpO1xuXHQgICAgcmV0dXJuIGxvY2FsZVtmaWVsZF0odXRjLCBmb3JtYXQpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBsaXN0TW9udGhzSW1wbCAoZm9ybWF0LCBpbmRleCwgZmllbGQpIHtcblx0ICAgIGlmIChpc051bWJlcihmb3JtYXQpKSB7XG5cdCAgICAgICAgaW5kZXggPSBmb3JtYXQ7XG5cdCAgICAgICAgZm9ybWF0ID0gdW5kZWZpbmVkO1xuXHQgICAgfVxuXHRcblx0ICAgIGZvcm1hdCA9IGZvcm1hdCB8fCAnJztcblx0XG5cdCAgICBpZiAoaW5kZXggIT0gbnVsbCkge1xuXHQgICAgICAgIHJldHVybiBnZXQkMShmb3JtYXQsIGluZGV4LCBmaWVsZCwgJ21vbnRoJyk7XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIGk7XG5cdCAgICB2YXIgb3V0ID0gW107XG5cdCAgICBmb3IgKGkgPSAwOyBpIDwgMTI7IGkrKykge1xuXHQgICAgICAgIG91dFtpXSA9IGdldCQxKGZvcm1hdCwgaSwgZmllbGQsICdtb250aCcpO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIG91dDtcblx0fVxuXHRcblx0Ly8gKClcblx0Ly8gKDUpXG5cdC8vIChmbXQsIDUpXG5cdC8vIChmbXQpXG5cdC8vICh0cnVlKVxuXHQvLyAodHJ1ZSwgNSlcblx0Ly8gKHRydWUsIGZtdCwgNSlcblx0Ly8gKHRydWUsIGZtdClcblx0ZnVuY3Rpb24gbGlzdFdlZWtkYXlzSW1wbCAobG9jYWxlU29ydGVkLCBmb3JtYXQsIGluZGV4LCBmaWVsZCkge1xuXHQgICAgaWYgKHR5cGVvZiBsb2NhbGVTb3J0ZWQgPT09ICdib29sZWFuJykge1xuXHQgICAgICAgIGlmIChpc051bWJlcihmb3JtYXQpKSB7XG5cdCAgICAgICAgICAgIGluZGV4ID0gZm9ybWF0O1xuXHQgICAgICAgICAgICBmb3JtYXQgPSB1bmRlZmluZWQ7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICBmb3JtYXQgPSBmb3JtYXQgfHwgJyc7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIGZvcm1hdCA9IGxvY2FsZVNvcnRlZDtcblx0ICAgICAgICBpbmRleCA9IGZvcm1hdDtcblx0ICAgICAgICBsb2NhbGVTb3J0ZWQgPSBmYWxzZTtcblx0XG5cdCAgICAgICAgaWYgKGlzTnVtYmVyKGZvcm1hdCkpIHtcblx0ICAgICAgICAgICAgaW5kZXggPSBmb3JtYXQ7XG5cdCAgICAgICAgICAgIGZvcm1hdCA9IHVuZGVmaW5lZDtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIGZvcm1hdCA9IGZvcm1hdCB8fCAnJztcblx0ICAgIH1cblx0XG5cdCAgICB2YXIgbG9jYWxlID0gZ2V0TG9jYWxlKCksXG5cdCAgICAgICAgc2hpZnQgPSBsb2NhbGVTb3J0ZWQgPyBsb2NhbGUuX3dlZWsuZG93IDogMDtcblx0XG5cdCAgICBpZiAoaW5kZXggIT0gbnVsbCkge1xuXHQgICAgICAgIHJldHVybiBnZXQkMShmb3JtYXQsIChpbmRleCArIHNoaWZ0KSAlIDcsIGZpZWxkLCAnZGF5Jyk7XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIGk7XG5cdCAgICB2YXIgb3V0ID0gW107XG5cdCAgICBmb3IgKGkgPSAwOyBpIDwgNzsgaSsrKSB7XG5cdCAgICAgICAgb3V0W2ldID0gZ2V0JDEoZm9ybWF0LCAoaSArIHNoaWZ0KSAlIDcsIGZpZWxkLCAnZGF5Jyk7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gb3V0O1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBsaXN0TW9udGhzIChmb3JtYXQsIGluZGV4KSB7XG5cdCAgICByZXR1cm4gbGlzdE1vbnRoc0ltcGwoZm9ybWF0LCBpbmRleCwgJ21vbnRocycpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBsaXN0TW9udGhzU2hvcnQgKGZvcm1hdCwgaW5kZXgpIHtcblx0ICAgIHJldHVybiBsaXN0TW9udGhzSW1wbChmb3JtYXQsIGluZGV4LCAnbW9udGhzU2hvcnQnKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gbGlzdFdlZWtkYXlzIChsb2NhbGVTb3J0ZWQsIGZvcm1hdCwgaW5kZXgpIHtcblx0ICAgIHJldHVybiBsaXN0V2Vla2RheXNJbXBsKGxvY2FsZVNvcnRlZCwgZm9ybWF0LCBpbmRleCwgJ3dlZWtkYXlzJyk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGxpc3RXZWVrZGF5c1Nob3J0IChsb2NhbGVTb3J0ZWQsIGZvcm1hdCwgaW5kZXgpIHtcblx0ICAgIHJldHVybiBsaXN0V2Vla2RheXNJbXBsKGxvY2FsZVNvcnRlZCwgZm9ybWF0LCBpbmRleCwgJ3dlZWtkYXlzU2hvcnQnKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gbGlzdFdlZWtkYXlzTWluIChsb2NhbGVTb3J0ZWQsIGZvcm1hdCwgaW5kZXgpIHtcblx0ICAgIHJldHVybiBsaXN0V2Vla2RheXNJbXBsKGxvY2FsZVNvcnRlZCwgZm9ybWF0LCBpbmRleCwgJ3dlZWtkYXlzTWluJyk7XG5cdH1cblx0XG5cdGdldFNldEdsb2JhbExvY2FsZSgnZW4nLCB7XG5cdCAgICBvcmRpbmFsUGFyc2U6IC9cXGR7MSwyfSh0aHxzdHxuZHxyZCkvLFxuXHQgICAgb3JkaW5hbCA6IGZ1bmN0aW9uIChudW1iZXIpIHtcblx0ICAgICAgICB2YXIgYiA9IG51bWJlciAlIDEwLFxuXHQgICAgICAgICAgICBvdXRwdXQgPSAodG9JbnQobnVtYmVyICUgMTAwIC8gMTApID09PSAxKSA/ICd0aCcgOlxuXHQgICAgICAgICAgICAoYiA9PT0gMSkgPyAnc3QnIDpcblx0ICAgICAgICAgICAgKGIgPT09IDIpID8gJ25kJyA6XG5cdCAgICAgICAgICAgIChiID09PSAzKSA/ICdyZCcgOiAndGgnO1xuXHQgICAgICAgIHJldHVybiBudW1iZXIgKyBvdXRwdXQ7XG5cdCAgICB9XG5cdH0pO1xuXHRcblx0Ly8gU2lkZSBlZmZlY3QgaW1wb3J0c1xuXHRob29rcy5sYW5nID0gZGVwcmVjYXRlKCdtb21lbnQubGFuZyBpcyBkZXByZWNhdGVkLiBVc2UgbW9tZW50LmxvY2FsZSBpbnN0ZWFkLicsIGdldFNldEdsb2JhbExvY2FsZSk7XG5cdGhvb2tzLmxhbmdEYXRhID0gZGVwcmVjYXRlKCdtb21lbnQubGFuZ0RhdGEgaXMgZGVwcmVjYXRlZC4gVXNlIG1vbWVudC5sb2NhbGVEYXRhIGluc3RlYWQuJywgZ2V0TG9jYWxlKTtcblx0XG5cdHZhciBtYXRoQWJzID0gTWF0aC5hYnM7XG5cdFxuXHRmdW5jdGlvbiBhYnMgKCkge1xuXHQgICAgdmFyIGRhdGEgICAgICAgICAgID0gdGhpcy5fZGF0YTtcblx0XG5cdCAgICB0aGlzLl9taWxsaXNlY29uZHMgPSBtYXRoQWJzKHRoaXMuX21pbGxpc2Vjb25kcyk7XG5cdCAgICB0aGlzLl9kYXlzICAgICAgICAgPSBtYXRoQWJzKHRoaXMuX2RheXMpO1xuXHQgICAgdGhpcy5fbW9udGhzICAgICAgID0gbWF0aEFicyh0aGlzLl9tb250aHMpO1xuXHRcblx0ICAgIGRhdGEubWlsbGlzZWNvbmRzICA9IG1hdGhBYnMoZGF0YS5taWxsaXNlY29uZHMpO1xuXHQgICAgZGF0YS5zZWNvbmRzICAgICAgID0gbWF0aEFicyhkYXRhLnNlY29uZHMpO1xuXHQgICAgZGF0YS5taW51dGVzICAgICAgID0gbWF0aEFicyhkYXRhLm1pbnV0ZXMpO1xuXHQgICAgZGF0YS5ob3VycyAgICAgICAgID0gbWF0aEFicyhkYXRhLmhvdXJzKTtcblx0ICAgIGRhdGEubW9udGhzICAgICAgICA9IG1hdGhBYnMoZGF0YS5tb250aHMpO1xuXHQgICAgZGF0YS55ZWFycyAgICAgICAgID0gbWF0aEFicyhkYXRhLnllYXJzKTtcblx0XG5cdCAgICByZXR1cm4gdGhpcztcblx0fVxuXHRcblx0ZnVuY3Rpb24gYWRkU3VidHJhY3QkMSAoZHVyYXRpb24sIGlucHV0LCB2YWx1ZSwgZGlyZWN0aW9uKSB7XG5cdCAgICB2YXIgb3RoZXIgPSBjcmVhdGVEdXJhdGlvbihpbnB1dCwgdmFsdWUpO1xuXHRcblx0ICAgIGR1cmF0aW9uLl9taWxsaXNlY29uZHMgKz0gZGlyZWN0aW9uICogb3RoZXIuX21pbGxpc2Vjb25kcztcblx0ICAgIGR1cmF0aW9uLl9kYXlzICAgICAgICAgKz0gZGlyZWN0aW9uICogb3RoZXIuX2RheXM7XG5cdCAgICBkdXJhdGlvbi5fbW9udGhzICAgICAgICs9IGRpcmVjdGlvbiAqIG90aGVyLl9tb250aHM7XG5cdFxuXHQgICAgcmV0dXJuIGR1cmF0aW9uLl9idWJibGUoKTtcblx0fVxuXHRcblx0Ly8gc3VwcG9ydHMgb25seSAyLjAtc3R5bGUgYWRkKDEsICdzJykgb3IgYWRkKGR1cmF0aW9uKVxuXHRmdW5jdGlvbiBhZGQkMSAoaW5wdXQsIHZhbHVlKSB7XG5cdCAgICByZXR1cm4gYWRkU3VidHJhY3QkMSh0aGlzLCBpbnB1dCwgdmFsdWUsIDEpO1xuXHR9XG5cdFxuXHQvLyBzdXBwb3J0cyBvbmx5IDIuMC1zdHlsZSBzdWJ0cmFjdCgxLCAncycpIG9yIHN1YnRyYWN0KGR1cmF0aW9uKVxuXHRmdW5jdGlvbiBzdWJ0cmFjdCQxIChpbnB1dCwgdmFsdWUpIHtcblx0ICAgIHJldHVybiBhZGRTdWJ0cmFjdCQxKHRoaXMsIGlucHV0LCB2YWx1ZSwgLTEpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBhYnNDZWlsIChudW1iZXIpIHtcblx0ICAgIGlmIChudW1iZXIgPCAwKSB7XG5cdCAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IobnVtYmVyKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmV0dXJuIE1hdGguY2VpbChudW1iZXIpO1xuXHQgICAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBidWJibGUgKCkge1xuXHQgICAgdmFyIG1pbGxpc2Vjb25kcyA9IHRoaXMuX21pbGxpc2Vjb25kcztcblx0ICAgIHZhciBkYXlzICAgICAgICAgPSB0aGlzLl9kYXlzO1xuXHQgICAgdmFyIG1vbnRocyAgICAgICA9IHRoaXMuX21vbnRocztcblx0ICAgIHZhciBkYXRhICAgICAgICAgPSB0aGlzLl9kYXRhO1xuXHQgICAgdmFyIHNlY29uZHMsIG1pbnV0ZXMsIGhvdXJzLCB5ZWFycywgbW9udGhzRnJvbURheXM7XG5cdFxuXHQgICAgLy8gaWYgd2UgaGF2ZSBhIG1peCBvZiBwb3NpdGl2ZSBhbmQgbmVnYXRpdmUgdmFsdWVzLCBidWJibGUgZG93biBmaXJzdFxuXHQgICAgLy8gY2hlY2s6IGh0dHBzOi8vZ2l0aHViLmNvbS9tb21lbnQvbW9tZW50L2lzc3Vlcy8yMTY2XG5cdCAgICBpZiAoISgobWlsbGlzZWNvbmRzID49IDAgJiYgZGF5cyA+PSAwICYmIG1vbnRocyA+PSAwKSB8fFxuXHQgICAgICAgICAgICAobWlsbGlzZWNvbmRzIDw9IDAgJiYgZGF5cyA8PSAwICYmIG1vbnRocyA8PSAwKSkpIHtcblx0ICAgICAgICBtaWxsaXNlY29uZHMgKz0gYWJzQ2VpbChtb250aHNUb0RheXMobW9udGhzKSArIGRheXMpICogODY0ZTU7XG5cdCAgICAgICAgZGF5cyA9IDA7XG5cdCAgICAgICAgbW9udGhzID0gMDtcblx0ICAgIH1cblx0XG5cdCAgICAvLyBUaGUgZm9sbG93aW5nIGNvZGUgYnViYmxlcyB1cCB2YWx1ZXMsIHNlZSB0aGUgdGVzdHMgZm9yXG5cdCAgICAvLyBleGFtcGxlcyBvZiB3aGF0IHRoYXQgbWVhbnMuXG5cdCAgICBkYXRhLm1pbGxpc2Vjb25kcyA9IG1pbGxpc2Vjb25kcyAlIDEwMDA7XG5cdFxuXHQgICAgc2Vjb25kcyAgICAgICAgICAgPSBhYnNGbG9vcihtaWxsaXNlY29uZHMgLyAxMDAwKTtcblx0ICAgIGRhdGEuc2Vjb25kcyAgICAgID0gc2Vjb25kcyAlIDYwO1xuXHRcblx0ICAgIG1pbnV0ZXMgICAgICAgICAgID0gYWJzRmxvb3Ioc2Vjb25kcyAvIDYwKTtcblx0ICAgIGRhdGEubWludXRlcyAgICAgID0gbWludXRlcyAlIDYwO1xuXHRcblx0ICAgIGhvdXJzICAgICAgICAgICAgID0gYWJzRmxvb3IobWludXRlcyAvIDYwKTtcblx0ICAgIGRhdGEuaG91cnMgICAgICAgID0gaG91cnMgJSAyNDtcblx0XG5cdCAgICBkYXlzICs9IGFic0Zsb29yKGhvdXJzIC8gMjQpO1xuXHRcblx0ICAgIC8vIGNvbnZlcnQgZGF5cyB0byBtb250aHNcblx0ICAgIG1vbnRoc0Zyb21EYXlzID0gYWJzRmxvb3IoZGF5c1RvTW9udGhzKGRheXMpKTtcblx0ICAgIG1vbnRocyArPSBtb250aHNGcm9tRGF5cztcblx0ICAgIGRheXMgLT0gYWJzQ2VpbChtb250aHNUb0RheXMobW9udGhzRnJvbURheXMpKTtcblx0XG5cdCAgICAvLyAxMiBtb250aHMgLT4gMSB5ZWFyXG5cdCAgICB5ZWFycyA9IGFic0Zsb29yKG1vbnRocyAvIDEyKTtcblx0ICAgIG1vbnRocyAlPSAxMjtcblx0XG5cdCAgICBkYXRhLmRheXMgICA9IGRheXM7XG5cdCAgICBkYXRhLm1vbnRocyA9IG1vbnRocztcblx0ICAgIGRhdGEueWVhcnMgID0geWVhcnM7XG5cdFxuXHQgICAgcmV0dXJuIHRoaXM7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGRheXNUb01vbnRocyAoZGF5cykge1xuXHQgICAgLy8gNDAwIHllYXJzIGhhdmUgMTQ2MDk3IGRheXMgKHRha2luZyBpbnRvIGFjY291bnQgbGVhcCB5ZWFyIHJ1bGVzKVxuXHQgICAgLy8gNDAwIHllYXJzIGhhdmUgMTIgbW9udGhzID09PSA0ODAwXG5cdCAgICByZXR1cm4gZGF5cyAqIDQ4MDAgLyAxNDYwOTc7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIG1vbnRoc1RvRGF5cyAobW9udGhzKSB7XG5cdCAgICAvLyB0aGUgcmV2ZXJzZSBvZiBkYXlzVG9Nb250aHNcblx0ICAgIHJldHVybiBtb250aHMgKiAxNDYwOTcgLyA0ODAwO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBhcyAodW5pdHMpIHtcblx0ICAgIHZhciBkYXlzO1xuXHQgICAgdmFyIG1vbnRocztcblx0ICAgIHZhciBtaWxsaXNlY29uZHMgPSB0aGlzLl9taWxsaXNlY29uZHM7XG5cdFxuXHQgICAgdW5pdHMgPSBub3JtYWxpemVVbml0cyh1bml0cyk7XG5cdFxuXHQgICAgaWYgKHVuaXRzID09PSAnbW9udGgnIHx8IHVuaXRzID09PSAneWVhcicpIHtcblx0ICAgICAgICBkYXlzICAgPSB0aGlzLl9kYXlzICAgKyBtaWxsaXNlY29uZHMgLyA4NjRlNTtcblx0ICAgICAgICBtb250aHMgPSB0aGlzLl9tb250aHMgKyBkYXlzVG9Nb250aHMoZGF5cyk7XG5cdCAgICAgICAgcmV0dXJuIHVuaXRzID09PSAnbW9udGgnID8gbW9udGhzIDogbW9udGhzIC8gMTI7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIC8vIGhhbmRsZSBtaWxsaXNlY29uZHMgc2VwYXJhdGVseSBiZWNhdXNlIG9mIGZsb2F0aW5nIHBvaW50IG1hdGggZXJyb3JzIChpc3N1ZSAjMTg2Nylcblx0ICAgICAgICBkYXlzID0gdGhpcy5fZGF5cyArIE1hdGgucm91bmQobW9udGhzVG9EYXlzKHRoaXMuX21vbnRocykpO1xuXHQgICAgICAgIHN3aXRjaCAodW5pdHMpIHtcblx0ICAgICAgICAgICAgY2FzZSAnd2VlaycgICA6IHJldHVybiBkYXlzIC8gNyAgICAgKyBtaWxsaXNlY29uZHMgLyA2MDQ4ZTU7XG5cdCAgICAgICAgICAgIGNhc2UgJ2RheScgICAgOiByZXR1cm4gZGF5cyAgICAgICAgICsgbWlsbGlzZWNvbmRzIC8gODY0ZTU7XG5cdCAgICAgICAgICAgIGNhc2UgJ2hvdXInICAgOiByZXR1cm4gZGF5cyAqIDI0ICAgICsgbWlsbGlzZWNvbmRzIC8gMzZlNTtcblx0ICAgICAgICAgICAgY2FzZSAnbWludXRlJyA6IHJldHVybiBkYXlzICogMTQ0MCAgKyBtaWxsaXNlY29uZHMgLyA2ZTQ7XG5cdCAgICAgICAgICAgIGNhc2UgJ3NlY29uZCcgOiByZXR1cm4gZGF5cyAqIDg2NDAwICsgbWlsbGlzZWNvbmRzIC8gMTAwMDtcblx0ICAgICAgICAgICAgLy8gTWF0aC5mbG9vciBwcmV2ZW50cyBmbG9hdGluZyBwb2ludCBtYXRoIGVycm9ycyBoZXJlXG5cdCAgICAgICAgICAgIGNhc2UgJ21pbGxpc2Vjb25kJzogcmV0dXJuIE1hdGguZmxvb3IoZGF5cyAqIDg2NGU1KSArIG1pbGxpc2Vjb25kcztcblx0ICAgICAgICAgICAgZGVmYXVsdDogdGhyb3cgbmV3IEVycm9yKCdVbmtub3duIHVuaXQgJyArIHVuaXRzKTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdH1cblx0XG5cdC8vIFRPRE86IFVzZSB0aGlzLmFzKCdtcycpP1xuXHRmdW5jdGlvbiB2YWx1ZU9mJDEgKCkge1xuXHQgICAgcmV0dXJuIChcblx0ICAgICAgICB0aGlzLl9taWxsaXNlY29uZHMgK1xuXHQgICAgICAgIHRoaXMuX2RheXMgKiA4NjRlNSArXG5cdCAgICAgICAgKHRoaXMuX21vbnRocyAlIDEyKSAqIDI1OTJlNiArXG5cdCAgICAgICAgdG9JbnQodGhpcy5fbW9udGhzIC8gMTIpICogMzE1MzZlNlxuXHQgICAgKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gbWFrZUFzIChhbGlhcykge1xuXHQgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICByZXR1cm4gdGhpcy5hcyhhbGlhcyk7XG5cdCAgICB9O1xuXHR9XG5cdFxuXHR2YXIgYXNNaWxsaXNlY29uZHMgPSBtYWtlQXMoJ21zJyk7XG5cdHZhciBhc1NlY29uZHMgICAgICA9IG1ha2VBcygncycpO1xuXHR2YXIgYXNNaW51dGVzICAgICAgPSBtYWtlQXMoJ20nKTtcblx0dmFyIGFzSG91cnMgICAgICAgID0gbWFrZUFzKCdoJyk7XG5cdHZhciBhc0RheXMgICAgICAgICA9IG1ha2VBcygnZCcpO1xuXHR2YXIgYXNXZWVrcyAgICAgICAgPSBtYWtlQXMoJ3cnKTtcblx0dmFyIGFzTW9udGhzICAgICAgID0gbWFrZUFzKCdNJyk7XG5cdHZhciBhc1llYXJzICAgICAgICA9IG1ha2VBcygneScpO1xuXHRcblx0ZnVuY3Rpb24gZ2V0JDIgKHVuaXRzKSB7XG5cdCAgICB1bml0cyA9IG5vcm1hbGl6ZVVuaXRzKHVuaXRzKTtcblx0ICAgIHJldHVybiB0aGlzW3VuaXRzICsgJ3MnXSgpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBtYWtlR2V0dGVyKG5hbWUpIHtcblx0ICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMuX2RhdGFbbmFtZV07XG5cdCAgICB9O1xuXHR9XG5cdFxuXHR2YXIgbWlsbGlzZWNvbmRzID0gbWFrZUdldHRlcignbWlsbGlzZWNvbmRzJyk7XG5cdHZhciBzZWNvbmRzICAgICAgPSBtYWtlR2V0dGVyKCdzZWNvbmRzJyk7XG5cdHZhciBtaW51dGVzICAgICAgPSBtYWtlR2V0dGVyKCdtaW51dGVzJyk7XG5cdHZhciBob3VycyAgICAgICAgPSBtYWtlR2V0dGVyKCdob3VycycpO1xuXHR2YXIgZGF5cyAgICAgICAgID0gbWFrZUdldHRlcignZGF5cycpO1xuXHR2YXIgbW9udGhzICAgICAgID0gbWFrZUdldHRlcignbW9udGhzJyk7XG5cdHZhciB5ZWFycyAgICAgICAgPSBtYWtlR2V0dGVyKCd5ZWFycycpO1xuXHRcblx0ZnVuY3Rpb24gd2Vla3MgKCkge1xuXHQgICAgcmV0dXJuIGFic0Zsb29yKHRoaXMuZGF5cygpIC8gNyk7XG5cdH1cblx0XG5cdHZhciByb3VuZCA9IE1hdGgucm91bmQ7XG5cdHZhciB0aHJlc2hvbGRzID0ge1xuXHQgICAgczogNDUsICAvLyBzZWNvbmRzIHRvIG1pbnV0ZVxuXHQgICAgbTogNDUsICAvLyBtaW51dGVzIHRvIGhvdXJcblx0ICAgIGg6IDIyLCAgLy8gaG91cnMgdG8gZGF5XG5cdCAgICBkOiAyNiwgIC8vIGRheXMgdG8gbW9udGhcblx0ICAgIE06IDExICAgLy8gbW9udGhzIHRvIHllYXJcblx0fTtcblx0XG5cdC8vIGhlbHBlciBmdW5jdGlvbiBmb3IgbW9tZW50LmZuLmZyb20sIG1vbWVudC5mbi5mcm9tTm93LCBhbmQgbW9tZW50LmR1cmF0aW9uLmZuLmh1bWFuaXplXG5cdGZ1bmN0aW9uIHN1YnN0aXR1dGVUaW1lQWdvKHN0cmluZywgbnVtYmVyLCB3aXRob3V0U3VmZml4LCBpc0Z1dHVyZSwgbG9jYWxlKSB7XG5cdCAgICByZXR1cm4gbG9jYWxlLnJlbGF0aXZlVGltZShudW1iZXIgfHwgMSwgISF3aXRob3V0U3VmZml4LCBzdHJpbmcsIGlzRnV0dXJlKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gcmVsYXRpdmVUaW1lJDEgKHBvc05lZ0R1cmF0aW9uLCB3aXRob3V0U3VmZml4LCBsb2NhbGUpIHtcblx0ICAgIHZhciBkdXJhdGlvbiA9IGNyZWF0ZUR1cmF0aW9uKHBvc05lZ0R1cmF0aW9uKS5hYnMoKTtcblx0ICAgIHZhciBzZWNvbmRzICA9IHJvdW5kKGR1cmF0aW9uLmFzKCdzJykpO1xuXHQgICAgdmFyIG1pbnV0ZXMgID0gcm91bmQoZHVyYXRpb24uYXMoJ20nKSk7XG5cdCAgICB2YXIgaG91cnMgICAgPSByb3VuZChkdXJhdGlvbi5hcygnaCcpKTtcblx0ICAgIHZhciBkYXlzICAgICA9IHJvdW5kKGR1cmF0aW9uLmFzKCdkJykpO1xuXHQgICAgdmFyIG1vbnRocyAgID0gcm91bmQoZHVyYXRpb24uYXMoJ00nKSk7XG5cdCAgICB2YXIgeWVhcnMgICAgPSByb3VuZChkdXJhdGlvbi5hcygneScpKTtcblx0XG5cdCAgICB2YXIgYSA9IHNlY29uZHMgPCB0aHJlc2hvbGRzLnMgJiYgWydzJywgc2Vjb25kc10gIHx8XG5cdCAgICAgICAgICAgIG1pbnV0ZXMgPD0gMSAgICAgICAgICAgJiYgWydtJ10gICAgICAgICAgIHx8XG5cdCAgICAgICAgICAgIG1pbnV0ZXMgPCB0aHJlc2hvbGRzLm0gJiYgWydtbScsIG1pbnV0ZXNdIHx8XG5cdCAgICAgICAgICAgIGhvdXJzICAgPD0gMSAgICAgICAgICAgJiYgWydoJ10gICAgICAgICAgIHx8XG5cdCAgICAgICAgICAgIGhvdXJzICAgPCB0aHJlc2hvbGRzLmggJiYgWydoaCcsIGhvdXJzXSAgIHx8XG5cdCAgICAgICAgICAgIGRheXMgICAgPD0gMSAgICAgICAgICAgJiYgWydkJ10gICAgICAgICAgIHx8XG5cdCAgICAgICAgICAgIGRheXMgICAgPCB0aHJlc2hvbGRzLmQgJiYgWydkZCcsIGRheXNdICAgIHx8XG5cdCAgICAgICAgICAgIG1vbnRocyAgPD0gMSAgICAgICAgICAgJiYgWydNJ10gICAgICAgICAgIHx8XG5cdCAgICAgICAgICAgIG1vbnRocyAgPCB0aHJlc2hvbGRzLk0gJiYgWydNTScsIG1vbnRoc10gIHx8XG5cdCAgICAgICAgICAgIHllYXJzICAgPD0gMSAgICAgICAgICAgJiYgWyd5J10gICAgICAgICAgIHx8IFsneXknLCB5ZWFyc107XG5cdFxuXHQgICAgYVsyXSA9IHdpdGhvdXRTdWZmaXg7XG5cdCAgICBhWzNdID0gK3Bvc05lZ0R1cmF0aW9uID4gMDtcblx0ICAgIGFbNF0gPSBsb2NhbGU7XG5cdCAgICByZXR1cm4gc3Vic3RpdHV0ZVRpbWVBZ28uYXBwbHkobnVsbCwgYSk7XG5cdH1cblx0XG5cdC8vIFRoaXMgZnVuY3Rpb24gYWxsb3dzIHlvdSB0byBzZXQgdGhlIHJvdW5kaW5nIGZ1bmN0aW9uIGZvciByZWxhdGl2ZSB0aW1lIHN0cmluZ3Ncblx0ZnVuY3Rpb24gZ2V0U2V0UmVsYXRpdmVUaW1lUm91bmRpbmcgKHJvdW5kaW5nRnVuY3Rpb24pIHtcblx0ICAgIGlmIChyb3VuZGluZ0Z1bmN0aW9uID09PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICByZXR1cm4gcm91bmQ7XG5cdCAgICB9XG5cdCAgICBpZiAodHlwZW9mKHJvdW5kaW5nRnVuY3Rpb24pID09PSAnZnVuY3Rpb24nKSB7XG5cdCAgICAgICAgcm91bmQgPSByb3VuZGluZ0Z1bmN0aW9uO1xuXHQgICAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIGZhbHNlO1xuXHR9XG5cdFxuXHQvLyBUaGlzIGZ1bmN0aW9uIGFsbG93cyB5b3UgdG8gc2V0IGEgdGhyZXNob2xkIGZvciByZWxhdGl2ZSB0aW1lIHN0cmluZ3Ncblx0ZnVuY3Rpb24gZ2V0U2V0UmVsYXRpdmVUaW1lVGhyZXNob2xkICh0aHJlc2hvbGQsIGxpbWl0KSB7XG5cdCAgICBpZiAodGhyZXNob2xkc1t0aHJlc2hvbGRdID09PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICB9XG5cdCAgICBpZiAobGltaXQgPT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgIHJldHVybiB0aHJlc2hvbGRzW3RocmVzaG9sZF07XG5cdCAgICB9XG5cdCAgICB0aHJlc2hvbGRzW3RocmVzaG9sZF0gPSBsaW1pdDtcblx0ICAgIHJldHVybiB0cnVlO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBodW1hbml6ZSAod2l0aFN1ZmZpeCkge1xuXHQgICAgdmFyIGxvY2FsZSA9IHRoaXMubG9jYWxlRGF0YSgpO1xuXHQgICAgdmFyIG91dHB1dCA9IHJlbGF0aXZlVGltZSQxKHRoaXMsICF3aXRoU3VmZml4LCBsb2NhbGUpO1xuXHRcblx0ICAgIGlmICh3aXRoU3VmZml4KSB7XG5cdCAgICAgICAgb3V0cHV0ID0gbG9jYWxlLnBhc3RGdXR1cmUoK3RoaXMsIG91dHB1dCk7XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIGxvY2FsZS5wb3N0Zm9ybWF0KG91dHB1dCk7XG5cdH1cblx0XG5cdHZhciBhYnMkMSA9IE1hdGguYWJzO1xuXHRcblx0ZnVuY3Rpb24gdG9JU09TdHJpbmckMSgpIHtcblx0ICAgIC8vIGZvciBJU08gc3RyaW5ncyB3ZSBkbyBub3QgdXNlIHRoZSBub3JtYWwgYnViYmxpbmcgcnVsZXM6XG5cdCAgICAvLyAgKiBtaWxsaXNlY29uZHMgYnViYmxlIHVwIHVudGlsIHRoZXkgYmVjb21lIGhvdXJzXG5cdCAgICAvLyAgKiBkYXlzIGRvIG5vdCBidWJibGUgYXQgYWxsXG5cdCAgICAvLyAgKiBtb250aHMgYnViYmxlIHVwIHVudGlsIHRoZXkgYmVjb21lIHllYXJzXG5cdCAgICAvLyBUaGlzIGlzIGJlY2F1c2UgdGhlcmUgaXMgbm8gY29udGV4dC1mcmVlIGNvbnZlcnNpb24gYmV0d2VlbiBob3VycyBhbmQgZGF5c1xuXHQgICAgLy8gKHRoaW5rIG9mIGNsb2NrIGNoYW5nZXMpXG5cdCAgICAvLyBhbmQgYWxzbyBub3QgYmV0d2VlbiBkYXlzIGFuZCBtb250aHMgKDI4LTMxIGRheXMgcGVyIG1vbnRoKVxuXHQgICAgdmFyIHNlY29uZHMgPSBhYnMkMSh0aGlzLl9taWxsaXNlY29uZHMpIC8gMTAwMDtcblx0ICAgIHZhciBkYXlzICAgICAgICAgPSBhYnMkMSh0aGlzLl9kYXlzKTtcblx0ICAgIHZhciBtb250aHMgICAgICAgPSBhYnMkMSh0aGlzLl9tb250aHMpO1xuXHQgICAgdmFyIG1pbnV0ZXMsIGhvdXJzLCB5ZWFycztcblx0XG5cdCAgICAvLyAzNjAwIHNlY29uZHMgLT4gNjAgbWludXRlcyAtPiAxIGhvdXJcblx0ICAgIG1pbnV0ZXMgICAgICAgICAgID0gYWJzRmxvb3Ioc2Vjb25kcyAvIDYwKTtcblx0ICAgIGhvdXJzICAgICAgICAgICAgID0gYWJzRmxvb3IobWludXRlcyAvIDYwKTtcblx0ICAgIHNlY29uZHMgJT0gNjA7XG5cdCAgICBtaW51dGVzICU9IDYwO1xuXHRcblx0ICAgIC8vIDEyIG1vbnRocyAtPiAxIHllYXJcblx0ICAgIHllYXJzICA9IGFic0Zsb29yKG1vbnRocyAvIDEyKTtcblx0ICAgIG1vbnRocyAlPSAxMjtcblx0XG5cdFxuXHQgICAgLy8gaW5zcGlyZWQgYnkgaHR0cHM6Ly9naXRodWIuY29tL2RvcmRpbGxlL21vbWVudC1pc29kdXJhdGlvbi9ibG9iL21hc3Rlci9tb21lbnQuaXNvZHVyYXRpb24uanNcblx0ICAgIHZhciBZID0geWVhcnM7XG5cdCAgICB2YXIgTSA9IG1vbnRocztcblx0ICAgIHZhciBEID0gZGF5cztcblx0ICAgIHZhciBoID0gaG91cnM7XG5cdCAgICB2YXIgbSA9IG1pbnV0ZXM7XG5cdCAgICB2YXIgcyA9IHNlY29uZHM7XG5cdCAgICB2YXIgdG90YWwgPSB0aGlzLmFzU2Vjb25kcygpO1xuXHRcblx0ICAgIGlmICghdG90YWwpIHtcblx0ICAgICAgICAvLyB0aGlzIGlzIHRoZSBzYW1lIGFzIEMjJ3MgKE5vZGEpIGFuZCBweXRob24gKGlzb2RhdGUpLi4uXG5cdCAgICAgICAgLy8gYnV0IG5vdCBvdGhlciBKUyAoZ29vZy5kYXRlKVxuXHQgICAgICAgIHJldHVybiAnUDBEJztcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gKHRvdGFsIDwgMCA/ICctJyA6ICcnKSArXG5cdCAgICAgICAgJ1AnICtcblx0ICAgICAgICAoWSA/IFkgKyAnWScgOiAnJykgK1xuXHQgICAgICAgIChNID8gTSArICdNJyA6ICcnKSArXG5cdCAgICAgICAgKEQgPyBEICsgJ0QnIDogJycpICtcblx0ICAgICAgICAoKGggfHwgbSB8fCBzKSA/ICdUJyA6ICcnKSArXG5cdCAgICAgICAgKGggPyBoICsgJ0gnIDogJycpICtcblx0ICAgICAgICAobSA/IG0gKyAnTScgOiAnJykgK1xuXHQgICAgICAgIChzID8gcyArICdTJyA6ICcnKTtcblx0fVxuXHRcblx0dmFyIHByb3RvJDIgPSBEdXJhdGlvbi5wcm90b3R5cGU7XG5cdFxuXHRwcm90byQyLmFicyAgICAgICAgICAgID0gYWJzO1xuXHRwcm90byQyLmFkZCAgICAgICAgICAgID0gYWRkJDE7XG5cdHByb3RvJDIuc3VidHJhY3QgICAgICAgPSBzdWJ0cmFjdCQxO1xuXHRwcm90byQyLmFzICAgICAgICAgICAgID0gYXM7XG5cdHByb3RvJDIuYXNNaWxsaXNlY29uZHMgPSBhc01pbGxpc2Vjb25kcztcblx0cHJvdG8kMi5hc1NlY29uZHMgICAgICA9IGFzU2Vjb25kcztcblx0cHJvdG8kMi5hc01pbnV0ZXMgICAgICA9IGFzTWludXRlcztcblx0cHJvdG8kMi5hc0hvdXJzICAgICAgICA9IGFzSG91cnM7XG5cdHByb3RvJDIuYXNEYXlzICAgICAgICAgPSBhc0RheXM7XG5cdHByb3RvJDIuYXNXZWVrcyAgICAgICAgPSBhc1dlZWtzO1xuXHRwcm90byQyLmFzTW9udGhzICAgICAgID0gYXNNb250aHM7XG5cdHByb3RvJDIuYXNZZWFycyAgICAgICAgPSBhc1llYXJzO1xuXHRwcm90byQyLnZhbHVlT2YgICAgICAgID0gdmFsdWVPZiQxO1xuXHRwcm90byQyLl9idWJibGUgICAgICAgID0gYnViYmxlO1xuXHRwcm90byQyLmdldCAgICAgICAgICAgID0gZ2V0JDI7XG5cdHByb3RvJDIubWlsbGlzZWNvbmRzICAgPSBtaWxsaXNlY29uZHM7XG5cdHByb3RvJDIuc2Vjb25kcyAgICAgICAgPSBzZWNvbmRzO1xuXHRwcm90byQyLm1pbnV0ZXMgICAgICAgID0gbWludXRlcztcblx0cHJvdG8kMi5ob3VycyAgICAgICAgICA9IGhvdXJzO1xuXHRwcm90byQyLmRheXMgICAgICAgICAgID0gZGF5cztcblx0cHJvdG8kMi53ZWVrcyAgICAgICAgICA9IHdlZWtzO1xuXHRwcm90byQyLm1vbnRocyAgICAgICAgID0gbW9udGhzO1xuXHRwcm90byQyLnllYXJzICAgICAgICAgID0geWVhcnM7XG5cdHByb3RvJDIuaHVtYW5pemUgICAgICAgPSBodW1hbml6ZTtcblx0cHJvdG8kMi50b0lTT1N0cmluZyAgICA9IHRvSVNPU3RyaW5nJDE7XG5cdHByb3RvJDIudG9TdHJpbmcgICAgICAgPSB0b0lTT1N0cmluZyQxO1xuXHRwcm90byQyLnRvSlNPTiAgICAgICAgID0gdG9JU09TdHJpbmckMTtcblx0cHJvdG8kMi5sb2NhbGUgICAgICAgICA9IGxvY2FsZTtcblx0cHJvdG8kMi5sb2NhbGVEYXRhICAgICA9IGxvY2FsZURhdGE7XG5cdFxuXHQvLyBEZXByZWNhdGlvbnNcblx0cHJvdG8kMi50b0lzb1N0cmluZyA9IGRlcHJlY2F0ZSgndG9Jc29TdHJpbmcoKSBpcyBkZXByZWNhdGVkLiBQbGVhc2UgdXNlIHRvSVNPU3RyaW5nKCkgaW5zdGVhZCAobm90aWNlIHRoZSBjYXBpdGFscyknLCB0b0lTT1N0cmluZyQxKTtcblx0cHJvdG8kMi5sYW5nID0gbGFuZztcblx0XG5cdC8vIFNpZGUgZWZmZWN0IGltcG9ydHNcblx0XG5cdC8vIEZPUk1BVFRJTkdcblx0XG5cdGFkZEZvcm1hdFRva2VuKCdYJywgMCwgMCwgJ3VuaXgnKTtcblx0YWRkRm9ybWF0VG9rZW4oJ3gnLCAwLCAwLCAndmFsdWVPZicpO1xuXHRcblx0Ly8gUEFSU0lOR1xuXHRcblx0YWRkUmVnZXhUb2tlbigneCcsIG1hdGNoU2lnbmVkKTtcblx0YWRkUmVnZXhUb2tlbignWCcsIG1hdGNoVGltZXN0YW1wKTtcblx0YWRkUGFyc2VUb2tlbignWCcsIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXksIGNvbmZpZykge1xuXHQgICAgY29uZmlnLl9kID0gbmV3IERhdGUocGFyc2VGbG9hdChpbnB1dCwgMTApICogMTAwMCk7XG5cdH0pO1xuXHRhZGRQYXJzZVRva2VuKCd4JywgZnVuY3Rpb24gKGlucHV0LCBhcnJheSwgY29uZmlnKSB7XG5cdCAgICBjb25maWcuX2QgPSBuZXcgRGF0ZSh0b0ludChpbnB1dCkpO1xuXHR9KTtcblx0XG5cdC8vIFNpZGUgZWZmZWN0IGltcG9ydHNcblx0XG5cdFxuXHRob29rcy52ZXJzaW9uID0gJzIuMTcuMCc7XG5cdFxuXHRzZXRIb29rQ2FsbGJhY2soY3JlYXRlTG9jYWwpO1xuXHRcblx0aG9va3MuZm4gICAgICAgICAgICAgICAgICAgID0gcHJvdG87XG5cdGhvb2tzLm1pbiAgICAgICAgICAgICAgICAgICA9IG1pbjtcblx0aG9va3MubWF4ICAgICAgICAgICAgICAgICAgID0gbWF4O1xuXHRob29rcy5ub3cgICAgICAgICAgICAgICAgICAgPSBub3c7XG5cdGhvb2tzLnV0YyAgICAgICAgICAgICAgICAgICA9IGNyZWF0ZVVUQztcblx0aG9va3MudW5peCAgICAgICAgICAgICAgICAgID0gY3JlYXRlVW5peDtcblx0aG9va3MubW9udGhzICAgICAgICAgICAgICAgID0gbGlzdE1vbnRocztcblx0aG9va3MuaXNEYXRlICAgICAgICAgICAgICAgID0gaXNEYXRlO1xuXHRob29rcy5sb2NhbGUgICAgICAgICAgICAgICAgPSBnZXRTZXRHbG9iYWxMb2NhbGU7XG5cdGhvb2tzLmludmFsaWQgICAgICAgICAgICAgICA9IGNyZWF0ZUludmFsaWQ7XG5cdGhvb2tzLmR1cmF0aW9uICAgICAgICAgICAgICA9IGNyZWF0ZUR1cmF0aW9uO1xuXHRob29rcy5pc01vbWVudCAgICAgICAgICAgICAgPSBpc01vbWVudDtcblx0aG9va3Mud2Vla2RheXMgICAgICAgICAgICAgID0gbGlzdFdlZWtkYXlzO1xuXHRob29rcy5wYXJzZVpvbmUgICAgICAgICAgICAgPSBjcmVhdGVJblpvbmU7XG5cdGhvb2tzLmxvY2FsZURhdGEgICAgICAgICAgICA9IGdldExvY2FsZTtcblx0aG9va3MuaXNEdXJhdGlvbiAgICAgICAgICAgID0gaXNEdXJhdGlvbjtcblx0aG9va3MubW9udGhzU2hvcnQgICAgICAgICAgID0gbGlzdE1vbnRoc1Nob3J0O1xuXHRob29rcy53ZWVrZGF5c01pbiAgICAgICAgICAgPSBsaXN0V2Vla2RheXNNaW47XG5cdGhvb2tzLmRlZmluZUxvY2FsZSAgICAgICAgICA9IGRlZmluZUxvY2FsZTtcblx0aG9va3MudXBkYXRlTG9jYWxlICAgICAgICAgID0gdXBkYXRlTG9jYWxlO1xuXHRob29rcy5sb2NhbGVzICAgICAgICAgICAgICAgPSBsaXN0TG9jYWxlcztcblx0aG9va3Mud2Vla2RheXNTaG9ydCAgICAgICAgID0gbGlzdFdlZWtkYXlzU2hvcnQ7XG5cdGhvb2tzLm5vcm1hbGl6ZVVuaXRzICAgICAgICA9IG5vcm1hbGl6ZVVuaXRzO1xuXHRob29rcy5yZWxhdGl2ZVRpbWVSb3VuZGluZyA9IGdldFNldFJlbGF0aXZlVGltZVJvdW5kaW5nO1xuXHRob29rcy5yZWxhdGl2ZVRpbWVUaHJlc2hvbGQgPSBnZXRTZXRSZWxhdGl2ZVRpbWVUaHJlc2hvbGQ7XG5cdGhvb2tzLmNhbGVuZGFyRm9ybWF0ICAgICAgICA9IGdldENhbGVuZGFyRm9ybWF0O1xuXHRob29rcy5wcm90b3R5cGUgICAgICAgICAgICAgPSBwcm90bztcblx0XG5cdHJldHVybiBob29rcztcblx0XG5cdH0pKSk7XG5cdFxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwoZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXygxKShtb2R1bGUpKSlcblxuLyoqKi8gfVxuLyoqKioqKi8gXSk7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIGZjdHMtZXh0LWRhdGVyYW5nZS1lczUubWluLmpzIiwiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pXG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG5cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGV4cG9ydHM6IHt9LFxuIFx0XHRcdGlkOiBtb2R1bGVJZCxcbiBcdFx0XHRsb2FkZWQ6IGZhbHNlXG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmxvYWRlZCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjay9ib290c3RyYXAgYmEyOGZjMmNlNDAxNDIxYTFkMDkiLCIndXNlIHN0cmljdCc7XG5jb25zdCBEYXRlUmFuZ2UgPSByZXF1aXJlKCcuL2ZjdHMtZXh0LWRhdGVyYW5nZScpO1xuXG53aW5kb3cuZHIgPSBuZXcgRGF0ZVJhbmdlKCk7XG5cbjsoZnVuY3Rpb24gKGVudiwgZmFjdG9yeSkge1xuICBpZiAodHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGVudi5kb2N1bWVudFxuICAgICAgID8gZmFjdG9yeShlbnYpIDogZnVuY3Rpb24gKHdpbikge1xuICAgICAgICAgaWYgKCF3aW4uZG9jdW1lbnQpIHtcbiAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdXaW5kb3cgd2l0aCBkb2N1bWVudCBub3QgcHJlc2VudCcpO1xuICAgICAgICAgfVxuICAgICAgICAgcmV0dXJuIGZhY3Rvcnkod2luLCB0cnVlKTtcbiAgICAgICB9O1xuICB9IGVsc2Uge1xuICAgIGVudi5EYXRlUmFuZ2VDaG9vc2VyID0gZmFjdG9yeShlbnYsIHRydWUpO1xuICB9XG59KSh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6IHRoaXMsIGZ1bmN0aW9uIChfd2luZG93LCB3aW5kb3dFeGlzdHMpIHtcbiAgdmFyIEZDID0gX3dpbmRvdy5GdXNpb25DaGFydHM7XG4gIEZDLnJlZ2lzdGVyKCdleHRlbnNpb24nLCBbJ3ByaXZhdGUnLCAnZGF0ZS1yYW5nZS1jaG9vc2VyJywgZnVuY3Rpb24gKCkge1xuICAgIEZDLnJlZ2lzdGVyQ29tcG9uZW50KCdleHRlbnNpb25zJywgJ2RhdGUtcmFuZ2UtY2hvb3NlcicsIERhdGVSYW5nZSh7RnVzaW9uQ2hhcnRzOiBGQ30pKTtcbiAgfV0pO1xufSk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvaW5kZXguanMiLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuXHRpZighbW9kdWxlLndlYnBhY2tQb2x5ZmlsbCkge1xuXHRcdG1vZHVsZS5kZXByZWNhdGUgPSBmdW5jdGlvbigpIHt9O1xuXHRcdG1vZHVsZS5wYXRocyA9IFtdO1xuXHRcdC8vIG1vZHVsZS5wYXJlbnQgPSB1bmRlZmluZWQgYnkgZGVmYXVsdFxuXHRcdG1vZHVsZS5jaGlsZHJlbiA9IFtdO1xuXHRcdG1vZHVsZS53ZWJwYWNrUG9seWZpbGwgPSAxO1xuXHR9XG5cdHJldHVybiBtb2R1bGU7XG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAod2VicGFjaykvYnVpbGRpbi9tb2R1bGUuanNcbi8vIG1vZHVsZSBpZCA9IDFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xuLyoqXG4gKiBDbGFzcyByZXByZXNlbnRpbmcgdGhlIERhdGVSYW5nZS5cbiAqL1xuXG52YXIgbW9tZW50ID0gcmVxdWlyZSgnbW9tZW50Jyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGRlcCkge1xuICBjbGFzcyBEYXRlUmFuZ2Uge1xuICAgIGNvbnN0cnVjdG9yICgpIHtcbiAgICAgIC8qKlxuICAgICAgICogQHByaXZhdGVcbiAgICAgICAqL1xuXG4gICAgICB0aGlzLnN0YXJ0RHQgPSAwO1xuICAgICAgdGhpcy5lbmREdCA9IDA7XG4gICAgICB0aGlzLnN0YXJ0RGF0YXNldCA9IDA7XG4gICAgICB0aGlzLmVuZERhdGFzZXQgPSAwO1xuICAgICAgdGhpcy50b29sYm94ID0gZGVwLkZ1c2lvbkNoYXJ0cy5nZXRDb21wb25lbnQoJ2FwaScsICd0b29sYm94Jyk7XG4gICAgICB0aGlzLkhvcml6b250YWxUb29sYmFyID0gdGhpcy50b29sYm94Lkhvcml6b250YWxUb29sYmFyO1xuICAgICAgdGhpcy5Db21wb25lbnRHcm91cCA9IHRoaXMudG9vbGJveC5Db21wb25lbnRHcm91cDtcbiAgICAgIHRoaXMuU3ltYm9sU3RvcmUgPSB0aGlzLnRvb2xib3guU3ltYm9sU3RvcmU7XG4gICAgICB0aGlzLnN0YXJ0VGV4dCA9IHtcbiAgICAgICAgYXR0cjogZnVuY3Rpb24gKCkge31cbiAgICAgIH07XG4gICAgICB0aGlzLmVuZFRleHQgPSB7XG4gICAgICAgIGF0dHI6IGZ1bmN0aW9uICgpIHt9XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFuIG9iamVjdCByZXByZXNlbnRpbmcgdGhlIHN0YXJ0IGFuZCBlbmQgZGF0ZXMuXG4gICAgICogQHR5cGUge0RhdGVSYW5nZS5yYW5nZX1cbiAgICAgKi9cbiAgICBnZXQgc3RhcnREYXRlICgpIHtcbiAgICAgIHJldHVybiB0aGlzLnN0YXJ0RHQ7XG4gICAgfVxuXG4gICAgc2V0IHN0YXJ0RGF0ZSAoc3RhcnREdCkge1xuICAgICAgbGV0IHN0YXJ0VGltZXN0YW1wID0gcGFyc2VJbnQobW9tZW50KHN0YXJ0RHQsICdERC1NTS1ZWVlZJykuZm9ybWF0KCd4JykpLFxuICAgICAgICBhYnNvbHV0ZVN0YXJ0ID0gdGhpcy5nbG9iYWxSZWFjdGl2ZU1vZGVsLm1vZGVsWyd4LWF4aXMtYWJzb2x1dGUtcmFuZ2Utc3RhcnQnXTtcbiAgICAgIGlmIChzdGFydFRpbWVzdGFtcCA8PSB0aGlzLmVuZER0ICYmIHN0YXJ0VGltZXN0YW1wID49IGFic29sdXRlU3RhcnQpIHtcbiAgICAgICAgdGhpcy5zdGFydER0ID0gc3RhcnRUaW1lc3RhbXA7XG4gICAgICAgIHRoaXMuZ2xvYmFsUmVhY3RpdmVNb2RlbC5tb2RlbFsneC1heGlzLXZpc2libGUtcmFuZ2Utc3RhcnQnXSA9IHRoaXMuc3RhcnREdDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIHRoaXMuZnJvbURhdGUudXBkYXRlVmlzdWFsKCdlcnJvcmVkJyk7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Zyb20gRGF0ZSBlcnJvciBzdGF0ZSEnKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBkYXRlRm9ybWF0dGVyIChlcG9jaCwgc2VwYXJhdG9yKSB7XG4gICAgICBlcG9jaCA9IG5ldyBEYXRlKGVwb2NoKTtcbiAgICAgIHZhciBmb3JtYXR0ZWREYXRlID0gW2Vwb2NoLmdldFVUQ0RhdGUoKSwgKGVwb2NoLmdldFVUQ01vbnRoKCkgKyAxKSwgZXBvY2guZ2V0VVRDRnVsbFllYXIoKV07XG4gICAgICBmb3JtYXR0ZWREYXRlID0gZm9ybWF0dGVkRGF0ZS5qb2luKHNlcGFyYXRvcik7XG4gICAgICByZXR1cm4gZm9ybWF0dGVkRGF0ZTtcbiAgICB9XG5cbiAgICBnZXQgZW5kRGF0ZSAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5lbmREdDtcbiAgICB9XG5cbiAgICBzZXQgZW5kRGF0ZSAoZW5kRHQpIHtcbiAgICAgIGxldCBlbmRUaW1lc3RhbXAgPSBwYXJzZUludChtb21lbnQoZW5kRHQsICdERC1NTS1ZWVlZJykuZm9ybWF0KCd4JykpLFxuICAgICAgICBhYnNvbHV0ZUVuZCA9IHRoaXMuZ2xvYmFsUmVhY3RpdmVNb2RlbC5tb2RlbFsneC1heGlzLWFic29sdXRlLXJhbmdlLWVuZCddO1xuICAgICAgaWYgKGVuZFRpbWVzdGFtcCA+PSB0aGlzLnN0YXJ0RHQgJiYgZW5kVGltZXN0YW1wIDw9IGFic29sdXRlRW5kKSB7XG4gICAgICAgIHRoaXMuZW5kRHQgPSBlbmRUaW1lc3RhbXA7XG4gICAgICAgIHRoaXMuZ2xvYmFsUmVhY3RpdmVNb2RlbC5tb2RlbFsneC1heGlzLXZpc2libGUtcmFuZ2UtZW5kJ10gPSB0aGlzLmVuZER0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gdGhpcy50b0RhdGUudXBkYXRlVmlzdWFsKCdlcnJvcmVkJyk7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1RvIERhdGUgZXJyb3Igc3RhdGUhJyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU3dhcHMgdGhlIHN0YXJ0IGRhdGUgYW5kIHRoZSBlbmQgZGF0ZSBvZiB0aGUgZGF0ZSByYW5nZVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgc3dhcERhdGVzICgpIHtcbiAgICAgIGxldCB0ZW1wID0gdGhpcy5kYXRlUmFuZ2Uuc3RhcnREYXRlO1xuICAgICAgdGhpcy5kYXRlUmFuZ2Uuc3RhcnREYXRlID0gdGhpcy5kYXRlUmFuZ2UuZW5kRGF0ZTtcbiAgICAgIHRoaXMuZGF0ZVJhbmdlLmVuZERhdGUgPSB0ZW1wO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFN5bmNzIHRoZSBkYXRlcmFuZ2Ugc2hvd24gYnkgdGhlIEZ1c2lvbkNoYXJ0cyB0aW1lIHNlcmllcyBjaGFydCBhbmQgdGhlIERhdGUgUmFuZ2UgQ2hvb3NlclxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgc3luY1JhbmdlICgpIHt9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgZm9ybWF0dGVkIGRhdGUgc3RyaW5nIGZyb20gRnVzaW9uQ2hhcnRzIHdoZW4gZ2l2ZW4gYSBVTklYIHRpbWVzdGFtcFxuICAgICAqIEBwYXJhbSAge251bWJlcn0gdGltZXN0YW1wIC0gQSBVTklYIHRpbWVzdGFtcCB0byBiZSBjb252ZXJ0ZWQgdG8gYSBkYXRlIHN0cmluZ1xuICAgICAqIEByZXR1cm4ge3N0cmluZ30gLSBBIGRhdGUgc3RyaW5nIHdoaWNoIGlzIGVxdWl2YWxlbnQgdG8gdGhlIGdpdmVuIHRpbWVzdGFtcFxuICAgICAqL1xuICAgIGdldEZvcm1hdHRlZERhdGUgKHRpbWVzdGFtcCkge1xuICAgICAgcmV0dXJuIHRoaXMuY2hhcnQuZ2V0Rm9ybWF0dGVkRGF0ZSh0aW1lc3RhbXApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBVTklYIHRpbWVzdGFtcCBmcm9tIEZ1c2lvbkNoYXJ0cyB3aGVuIGdpdmVuIGEgZm9ybWF0dGVkIGRhdGUgc3RyaW5nXG4gICAgICogQHBhcmFtICB7c3RyaW5nfSBkYXRlU3RyaW5nIC0gQSBkYXRlIHN0cmluZyB0byBiZSBjb252ZXJ0ZWQgdG8gYSBVTklYIHRpbWVzdGFtcFxuICAgICAqIEByZXR1cm4ge251bWJlcn0gQSBVTklYIHRpbWVzdGFtcCB3aGljaCBpcyBlcXVpdmFsZW50IHRvIHRoZSBnaXZlbiBkYXRlIHN0cmluZ1xuICAgICAqL1xuICAgIGdldFRpbWVzdGFtcCAoZGF0ZVN0cmluZykge1xuICAgICAgcmV0dXJuIHRoaXMuY2hhcnQuZ2V0VGltZXN0YW1wKGRhdGVTdHJpbmcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGNvbmZpZ3VyYWJsZSBvcHRpb25zIG9mIHRoZSBleHRlbnNpb24gKGUuZy4gY29zbWV0aWNzKVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWdPYmogVGhlIGNvbmZpZ3VyYXRpb24gb2JqZWN0IGNvbnRhaW5pbmcgdmFyaW91cyBleHRlbnNpb24gb3B0aW9uc1xuICAgICAqL1xuICAgIHNldENvbmZpZyAoY29uZmlnT2JqKSB7fVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgY29uZmlndXJhYmxlIG9wdGlvbnMgb2YgdGhlIGV4dGVuc2lvbiAoZS5nLiBjb3NtZXRpY3MpXG4gICAgICogQHJldHVybiB7b2JqZWN0fSBjb25maWdPYmogVGhlIGNvbmZpZ3VyYXRpb24gb2JqZWN0IGNvbnRhaW5pbmcgdmFyaW91cyBleHRlbnNpb24gb3B0aW9uc1xuICAgICAqL1xuICAgIGdldENvbmZpZyAoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBjYWxlbmRhclZpc2libGU6ICdmYWxzZSdcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRnVzaW9uY2hhcnRzIGxpZmUgY3ljbGUgbWV0aG9kIGZvciBleHRlbnNpb25cbiAgICAgKi9cbiAgICBpbml0IChyZXF1aXJlKSB7XG4gICAgICB2YXIgaW5zdGFuY2UgPSB0aGlzO1xuICAgICAgcmVxdWlyZShbXG4gICAgICAgICd4QXhpcycsXG4gICAgICAgICd5QXhpcycsXG4gICAgICAgICdncmFwaGljcycsXG4gICAgICAgICdjaGFydCcsXG4gICAgICAgICdkYXRhc2V0JyxcbiAgICAgICAgJ1Bsb3RNYW5hZ2VyJyxcbiAgICAgICAgJ2NhbnZhc0NvbmZpZycsXG4gICAgICAgICdNYXJrZXJNYW5hZ2VyJyxcbiAgICAgICAgJ3JlYWN0aXZlTW9kZWwnLFxuICAgICAgICAnZ2xvYmFsUmVhY3RpdmVNb2RlbCcsXG4gICAgICAgICdzcGFjZU1hbmFnZXJJbnN0YW5jZScsXG4gICAgICAgICdleHREYXRhJyxcbiAgICAgICAgJ3NtYXJ0TGFiZWwnLFxuICAgICAgICBmdW5jdGlvbiAoXG4gICAgICAgICAgICAgIHhBeGlzLFxuICAgICAgICAgICAgICB5QXhpcyxcbiAgICAgICAgICAgICAgZ3JhcGhpY3MsXG4gICAgICAgICAgICAgIGNoYXJ0LFxuICAgICAgICAgICAgICBkYXRhc2V0LFxuICAgICAgICAgICAgICBwbG90TWFuYWdlcixcbiAgICAgICAgICAgICAgY2FudmFzQ29uZmlnLFxuICAgICAgICAgICAgICBtYXJrZXJNYW5hZ2VyLFxuICAgICAgICAgICAgICByZWFjdGl2ZU1vZGVsLFxuICAgICAgICAgICAgICBnbG9iYWxSZWFjdGl2ZU1vZGVsLFxuICAgICAgICAgICAgICBzcGFjZU1hbmFnZXJJbnN0YW5jZSxcbiAgICAgICAgICAgICAgZXh0RGF0YSxcbiAgICAgICAgICAgICAgc21hcnRMYWJlbCkge1xuICAgICAgICAgIGluc3RhbmNlLmV4dERhdGEgPSBleHREYXRhO1xuICAgICAgICAgIGluc3RhbmNlLnhBeGlzID0geEF4aXM7XG4gICAgICAgICAgaW5zdGFuY2UueUF4aXMgPSB5QXhpcztcbiAgICAgICAgICBpbnN0YW5jZS5ncmFwaGljcyA9IGdyYXBoaWNzO1xuICAgICAgICAgIGluc3RhbmNlLmNoYXJ0ID0gY2hhcnQ7XG4gICAgICAgICAgaW5zdGFuY2UuZGF0YXNldCA9IGRhdGFzZXQ7XG4gICAgICAgICAgaW5zdGFuY2UucGxvdE1hbmFnZXIgPSBwbG90TWFuYWdlcjtcbiAgICAgICAgICBpbnN0YW5jZS5tYXJrZXJNYW5hZ2VyID0gbWFya2VyTWFuYWdlcjtcbiAgICAgICAgICBpbnN0YW5jZS5jYW52YXNDb25maWcgPSBjYW52YXNDb25maWc7XG4gICAgICAgICAgaW5zdGFuY2UucmVhY3RpdmVNb2RlbCA9IHJlYWN0aXZlTW9kZWw7XG4gICAgICAgICAgaW5zdGFuY2UuZ2xvYmFsUmVhY3RpdmVNb2RlbCA9IGdsb2JhbFJlYWN0aXZlTW9kZWw7XG4gICAgICAgICAgaW5zdGFuY2Uuc3BhY2VNYW5hZ2VySW5zdGFuY2UgPSBzcGFjZU1hbmFnZXJJbnN0YW5jZTtcbiAgICAgICAgICBpbnN0YW5jZS5zbWFydExhYmVsID0gc21hcnRMYWJlbDtcbiAgICAgICAgfVxuICAgICAgXSk7XG4gICAgICB0aGlzLnNwYWNlTWFuYWdlckluc3RhbmNlID0gaW5zdGFuY2Uuc3BhY2VNYW5hZ2VySW5zdGFuY2U7XG4gICAgICB0aGlzLmdsb2JhbFJlYWN0aXZlTW9kZWwgPSBpbnN0YW5jZS5nbG9iYWxSZWFjdGl2ZU1vZGVsO1xuICAgICAgdGhpcy5zdGFydER0ID0gaW5zdGFuY2UuZ2xvYmFsUmVhY3RpdmVNb2RlbC5tb2RlbFsneC1heGlzLXZpc2libGUtcmFuZ2Utc3RhcnQnXTtcbiAgICAgIHRoaXMuZW5kRHQgPSBpbnN0YW5jZS5nbG9iYWxSZWFjdGl2ZU1vZGVsLm1vZGVsWyd4LWF4aXMtdmlzaWJsZS1yYW5nZS1lbmQnXTtcbiAgICAgIHRoaXMuc3RhcnREYXRhc2V0ID0gaW5zdGFuY2UuZ2xvYmFsUmVhY3RpdmVNb2RlbC5tb2RlbFsneC1heGlzLWFic29sdXRlLXJhbmdlLXN0YXJ0J107XG4gICAgICB0aGlzLmVuZERhdGFzZXQgPSBpbnN0YW5jZS5nbG9iYWxSZWFjdGl2ZU1vZGVsLm1vZGVsWyd4LWF4aXMtYWJzb2x1dGUtcmFuZ2UtZW5kJ107XG4gICAgICB0aGlzLnRvb2xiYXJzID0gW107XG4gICAgICB0aGlzLm1lYXN1cmVtZW50ID0ge307XG4gICAgICB0aGlzLnRvb2xiYXJzLnB1c2godGhpcy5jcmVhdGVUb29sYmFyKCkpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIGNyZWF0ZVRvb2xiYXIgKCkge1xuICAgICAgdmFyIHRvb2xiYXIsXG4gICAgICAgIHNlbGYgPSB0aGlzLFxuICAgICAgICBmcm9tRGF0ZUxhYmVsLFxuICAgICAgICB0b0RhdGVMYWJlbCxcbiAgICAgICAgZ3JvdXAsXG4gICAgICAgIGZyb21Gb3JtYXR0ZWREYXRlLFxuICAgICAgICB0b0Zvcm1hdHRlZERhdGU7XG5cbiAgICAgIHNlbGYuZnJvbURhdGUgPSB7fTtcbiAgICAgIHNlbGYudG9EYXRlID0ge307XG5cbiAgICAgIGZyb21Gb3JtYXR0ZWREYXRlID0gbW9tZW50KHRoaXMuc3RhcnREdCwgJ3gnKS5mb3JtYXQoJ0RELU1NLVlZWVknKTtcblxuICAgICAgdG9Gb3JtYXR0ZWREYXRlID0gbW9tZW50KHRoaXMuZW5kRHQsICd4JykuZm9ybWF0KCdERC1NTS1ZWVlZJyk7XG4gICAgICB0b29sYmFyID0gbmV3IHRoaXMuSG9yaXpvbnRhbFRvb2xiYXIoe1xuICAgICAgICBwYXBlcjogdGhpcy5ncmFwaGljcy5wYXBlcixcbiAgICAgICAgY2hhcnQ6IHRoaXMuY2hhcnQsXG4gICAgICAgIHNtYXJ0TGFiZWw6IHRoaXMuc21hcnRMYWJlbCxcbiAgICAgICAgY2hhcnRDb250YWluZXI6IHRoaXMuZ3JhcGhpY3MuY29udGFpbmVyXG4gICAgICB9KTtcblxuICAgICAgdG9vbGJhci5zZXRDb25maWcoe1xuICAgICAgICAnZmlsbCc6ICcjRkZGRkZGJyxcbiAgICAgICAgJ2JvcmRlclRoaWNrbmVzcyc6IDBcbiAgICAgIH0pO1xuXG4gICAgICBncm91cCA9IG5ldyB0aGlzLnRvb2xib3guQ29tcG9uZW50R3JvdXAoe1xuICAgICAgICBwYXBlcjogdGhpcy5ncmFwaGljcy5wYXBlcixcbiAgICAgICAgY2hhcnQ6IHRoaXMuY2hhcnQsXG4gICAgICAgIHNtYXJ0TGFiZWw6IHRoaXMuc21hcnRMYWJlbCxcbiAgICAgICAgY2hhcnRDb250YWluZXI6IHRoaXMuZ3JhcGhpY3MuY29udGFpbmVyXG4gICAgICB9KTtcblxuICAgICAgZ3JvdXAuc2V0Q29uZmlnKHtcbiAgICAgICAgJ2ZpbGwnOiAnI0ZGRkZGRicsXG4gICAgICAgICdib3JkZXJUaGlja25lc3MnOiAwXG4gICAgICB9KTtcblxuICAgICAgZnJvbURhdGVMYWJlbCA9IG5ldyB0aGlzLnRvb2xib3guTGFiZWwoXG4gICAgICAgICdGcm9tOicsIHtcbiAgICAgICAgICBzbWFydExhYmVsOiB0aGlzLnNtYXJ0TGFiZWwsXG4gICAgICAgICAgcGFwZXI6IHRoaXMuZ3JhcGhpY3MucGFwZXJcbiAgICAgICAgfSwge1xuICAgICAgICAgIHRleHQ6IHtcbiAgICAgICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICAgICdmb250LXNpemUnOiAnMTMnLFxuICAgICAgICAgICAgICAnZm9udC1mYW1pbHknOiAnXCJMdWNpZGEgR3JhbmRlXCIsIHNhbnMtc2VyaWYnLFxuICAgICAgICAgICAgICAvLyAnZm9udC13ZWlnaHQnOiAnYm9sZCcsXG4gICAgICAgICAgICAgICdmaWxsJzogJyM0QjRCNEInXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICApO1xuXG4gICAgICB0b0RhdGVMYWJlbCA9IG5ldyB0aGlzLnRvb2xib3guTGFiZWwoXG4gICAgICAgICdUbzonLCB7XG4gICAgICAgICAgc21hcnRMYWJlbDogdGhpcy5zbWFydExhYmVsLFxuICAgICAgICAgIHBhcGVyOiB0aGlzLmdyYXBoaWNzLnBhcGVyXG4gICAgICAgIH0sIHtcbiAgICAgICAgICB0ZXh0OiB7XG4gICAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgICAnZm9udC1zaXplJzogJzEzJyxcbiAgICAgICAgICAgICAgJ2ZvbnQtZmFtaWx5JzogJ1wiTHVjaWRhIEdyYW5kZVwiLCBzYW5zLXNlcmlmJyxcbiAgICAgICAgICAgICAgLy8gJ2ZvbnQtd2VpZ2h0JzogJ2JvbGQnLFxuICAgICAgICAgICAgICAnZmlsbCc6ICcjNEI0QjRCJ1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgKTtcblxuICAgICAgc2VsZi5mcm9tRGF0ZSA9IG5ldyB0aGlzLnRvb2xib3guSW5wdXRUZXh0Qm94U3ltYm9sKHtcbiAgICAgICAgd2lkdGg6IDEyMCxcbiAgICAgICAgaGVpZ2h0OiAyMlxuICAgICAgfSwge1xuICAgICAgICBwYXBlcjogdGhpcy5ncmFwaGljcy5wYXBlcixcbiAgICAgICAgY2hhcnQ6IHRoaXMuY2hhcnQsXG4gICAgICAgIHNtYXJ0TGFiZWw6IHRoaXMuc21hcnRMYWJlbCxcbiAgICAgICAgY2hhcnRDb250YWluZXI6IHRoaXMuZ3JhcGhpY3MuY29udGFpbmVyXG4gICAgICB9LCB7XG4gICAgICAgICdzdHJva2VXaWR0aCc6IDEsXG4gICAgICAgICdzdHJva2UnOiAnI2NlZDVkNCcsXG4gICAgICAgICdzeW1ib2xTdHJva2VXaWR0aCc6IDAsXG4gICAgICAgICdyYWRpdXMnOiAyLFxuICAgICAgICAnbWFyZ2luJzoge1xuICAgICAgICAgICdyaWdodCc6IDIyXG4gICAgICAgIH0sXG4gICAgICAgICdidG5UZXh0U3R5bGUnOiB7XG4gICAgICAgICAgJ2ZvbnQtZmFtaWx5JzogJ1wiTHVjaWRhIEdyYW5kZVwiLCBzYW5zLXNlcmlmJyxcbiAgICAgICAgICAnZm9udFNpemUnOiAxM1xuICAgICAgICB9LFxuICAgICAgICAnbGFiZWwnOiBmcm9tRm9ybWF0dGVkRGF0ZSxcbiAgICAgICAgLy8gJ2N1c3RvbUNvbmZpZyc6IHtcbiAgICAgICAgLy8gICAnZXJyb3JlZCc6IHtcbiAgICAgICAgLy8gICAgICdob3Zlcic6IHtcbiAgICAgICAgLy8gICAgICAgJ2ZpbGwnOiAnI0ZGRUZFRicsXG4gICAgICAgIC8vICAgICAgICdzdHJva2Utd2lkdGgnOiAxLFxuICAgICAgICAvLyAgICAgICAnc3Ryb2tlJzogJyNEMjUzNTMnXG4gICAgICAgIC8vICAgICB9LFxuICAgICAgICAvLyAgICAgJ25vcm1hbCc6IHtcbiAgICAgICAgLy8gICAgICAgJ2ZpbGwnOiAnI0ZGRUZFRicsXG4gICAgICAgIC8vICAgICAgICdzdHJva2Utd2lkdGgnOiAxLFxuICAgICAgICAvLyAgICAgICAnc3Ryb2tlJzogJyNEMjUzNTMnXG4gICAgICAgIC8vICAgICB9LFxuICAgICAgICAvLyAgICAgJ3ByZXNzZWQnOiB7XG4gICAgICAgIC8vICAgICAgICdmaWxsJzogJyNGRkVGRUYnLFxuICAgICAgICAvLyAgICAgICAnc3Ryb2tlLXdpZHRoJzogMSxcbiAgICAgICAgLy8gICAgICAgJ3N0cm9rZSc6ICcjRDI1MzUzJ1xuICAgICAgICAvLyAgICAgfVxuICAgICAgICAvLyAgIH1cbiAgICAgICAgLy8gfSxcbiAgICAgICAgJ2xhYmVsRmlsbCc6ICcjNjk2OTY5J1xuICAgICAgfSk7XG5cbiAgICAgIHNlbGYuZnJvbURhdGUuc2V0U3RhdGVDb25maWcoe1xuICAgICAgICBwcmVzc2VkOiB7XG4gICAgICAgICAgY29uZmlnOiB7XG4gICAgICAgICAgICBwcmVzc2VkOiB7XG4gICAgICAgICAgICAgICdmaWxsJzogJyNGRkZGRkYnLFxuICAgICAgICAgICAgICAnc3Ryb2tlLXdpZHRoJzogMSxcbiAgICAgICAgICAgICAgJ3N0cm9rZSc6ICcjMUUxRjFGJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG5vcm1hbDoge1xuICAgICAgICAgICAgICAnZmlsbCc6ICcjRkZGRkZGJyxcbiAgICAgICAgICAgICAgJ3N0cm9rZS13aWR0aCc6IDEsXG4gICAgICAgICAgICAgICdzdHJva2UnOiAnIzFFMUYxRidcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBob3Zlcjoge1xuICAgICAgICAgICAgICAnZmlsbCc6ICcjRkZGRkZGJyxcbiAgICAgICAgICAgICAgJ3N0cm9rZS13aWR0aCc6IDEsXG4gICAgICAgICAgICAgIC8vICdzdHJva2UnOiAnIzFFMUYxRidcbiAgICAgICAgICAgICAgJ3N0cm9rZSc6ICcjMDAwMEZGJ1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHNlbGYudG9EYXRlID0gbmV3IHRoaXMudG9vbGJveC5JbnB1dFRleHRCb3hTeW1ib2woe1xuICAgICAgICB3aWR0aDogMTIwLFxuICAgICAgICBoZWlnaHQ6IDIyXG4gICAgICB9LCB7XG4gICAgICAgIHBhcGVyOiB0aGlzLmdyYXBoaWNzLnBhcGVyLFxuICAgICAgICBjaGFydDogdGhpcy5jaGFydCxcbiAgICAgICAgc21hcnRMYWJlbDogdGhpcy5zbWFydExhYmVsLFxuICAgICAgICBjaGFydENvbnRhaW5lcjogdGhpcy5ncmFwaGljcy5jb250YWluZXJcbiAgICAgIH0sIHtcbiAgICAgICAgJ3N0cm9rZVdpZHRoJzogMSxcbiAgICAgICAgJ3N0cm9rZSc6ICcjY2VkNWQ0JyxcbiAgICAgICAgJ3N5bWJvbFN0cm9rZVdpZHRoJzogMCxcbiAgICAgICAgJ3JhZGl1cyc6IDIsXG4gICAgICAgICdidG5UZXh0U3R5bGUnOiB7XG4gICAgICAgICAgJ2ZvbnQtZmFtaWx5JzogJ1wiTHVjaWRhIEdyYW5kZVwiLCBzYW5zLXNlcmlmJyxcbiAgICAgICAgICAnZm9udFNpemUnOiAxM1xuICAgICAgICB9LFxuICAgICAgICAnbGFiZWwnOiB0b0Zvcm1hdHRlZERhdGUsXG4gICAgICAgIC8vICdjdXN0b21Db25maWcnOiB7XG4gICAgICAgIC8vICAgJ2Vycm9yZWQnOiB7XG4gICAgICAgIC8vICAgICAnaG92ZXInOiB7XG4gICAgICAgIC8vICAgICAgICdmaWxsJzogJyNGRkVGRUYnLFxuICAgICAgICAvLyAgICAgICAnc3Ryb2tlLXdpZHRoJzogMSxcbiAgICAgICAgLy8gICAgICAgJ3N0cm9rZSc6ICcjRDI1MzUzJ1xuICAgICAgICAvLyAgICAgfSxcbiAgICAgICAgLy8gICAgICdub3JtYWwnOiB7XG4gICAgICAgIC8vICAgICAgICdmaWxsJzogJyNGRkVGRUYnLFxuICAgICAgICAvLyAgICAgICAnc3Ryb2tlLXdpZHRoJzogMSxcbiAgICAgICAgLy8gICAgICAgJ3N0cm9rZSc6ICcjRDI1MzUzJ1xuICAgICAgICAvLyAgICAgfSxcbiAgICAgICAgLy8gICAgICdwcmVzc2VkJzoge1xuICAgICAgICAvLyAgICAgICAnZmlsbCc6ICcjRkZFRkVGJyxcbiAgICAgICAgLy8gICAgICAgJ3N0cm9rZS13aWR0aCc6IDEsXG4gICAgICAgIC8vICAgICAgICdzdHJva2UnOiAnI0QyNTM1MydcbiAgICAgICAgLy8gICAgIH1cbiAgICAgICAgLy8gICB9XG4gICAgICAgIC8vIH0sXG4gICAgICAgICdsYWJlbEZpbGwnOiAnIzY5Njk2OSdcbiAgICAgIH0pO1xuXG4gICAgICBzZWxmLnRvRGF0ZS5zZXRTdGF0ZUNvbmZpZyh7XG4gICAgICAgIHByZXNzZWQ6IHtcbiAgICAgICAgICBjb25maWc6IHtcbiAgICAgICAgICAgIHByZXNzZWQ6IHtcbiAgICAgICAgICAgICAgJ2ZpbGwnOiAnI0ZGRkZGRicsXG4gICAgICAgICAgICAgICdzdHJva2Utd2lkdGgnOiAxLFxuICAgICAgICAgICAgICAnc3Ryb2tlJzogJyMxRTFGMUYnXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbm9ybWFsOiB7XG4gICAgICAgICAgICAgICdmaWxsJzogJyNGRkZGRkYnLFxuICAgICAgICAgICAgICAnc3Ryb2tlLXdpZHRoJzogMSxcbiAgICAgICAgICAgICAgJ3N0cm9rZSc6ICcjMUUxRjFGJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGhvdmVyOiB7XG4gICAgICAgICAgICAgICdmaWxsJzogJyNGRkZGRkYnLFxuICAgICAgICAgICAgICAnc3Ryb2tlLXdpZHRoJzogMSxcbiAgICAgICAgICAgICAgJ3N0cm9rZSc6ICcjMUUxRjFGJ1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHNlbGYuZnJvbURhdGUuYXR0YWNoRXZlbnRIYW5kbGVycyh7XG4gICAgICAgIGNsaWNrOiB7XG4gICAgICAgICAgZm46ICgpID0+IHtcbiAgICAgICAgICAgIHNlbGYuZnJvbURhdGUuZWRpdCgpO1xuICAgICAgICAgICAgc2VsZi5mcm9tRGF0ZS51cGRhdGVWaXN1YWwoJ3ByZXNzZWQnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHRleHRPbkJsdXI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBzZWxmLmZyb21EYXRlLmJsdXIoKTtcbiAgICAgICAgICBzZWxmLnN0YXJ0RGF0ZSA9IHNlbGYuZnJvbURhdGUuZ2V0VGV4dCgpO1xuICAgICAgICAgIHNlbGYuZnJvbURhdGUudXBkYXRlVmlzdWFsKCdlbmFibGVkJyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBzZWxmLnRvRGF0ZS5hdHRhY2hFdmVudEhhbmRsZXJzKHtcbiAgICAgICAgY2xpY2s6IHtcbiAgICAgICAgICBmbjogKCkgPT4ge1xuICAgICAgICAgICAgc2VsZi50b0RhdGUuZWRpdCgpO1xuICAgICAgICAgICAgc2VsZi50b0RhdGUudXBkYXRlVmlzdWFsKCdwcmVzc2VkJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICB0ZXh0T25CbHVyOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgc2VsZi50b0RhdGUuYmx1cigpO1xuICAgICAgICAgIHNlbGYuZW5kRGF0ZSA9IHNlbGYudG9EYXRlLmdldFRleHQoKTtcbiAgICAgICAgICBzZWxmLnRvRGF0ZS51cGRhdGVWaXN1YWwoJ2VuYWJsZWQnKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIC8vIFRlbXBvcmFyeS4gUmVxdWlyZWQgdG8gcmVuZGVyIHRoZSB0ZXh0IGJveCBjb3JyZWN0bHkuIENvbW1lbnRpbmcgdGhpcyBvdXQgZGlzdG9ydHMgdG9vbGJveC5cbiAgICAgIHRoaXMuU3ltYm9sU3RvcmUucmVnaXN0ZXIoJ3RleHRCb3hJY29uJywgZnVuY3Rpb24gKHgsIHksIHJhZCwgdywgaCwgcGFkWCwgcGFkWSkge1xuICAgICAgICB2YXIgeDEgPSB4IC0gdyAvIDIgKyBwYWRYIC8gMixcbiAgICAgICAgICB4MiA9IHggKyB3IC8gMiAtIHBhZFggLyAyLFxuICAgICAgICAgIHkxID0geSAtIGggLyAyICsgcGFkWSAvIDIsXG4gICAgICAgICAgeTIgPSB5ICsgaCAvIDIgLSBwYWRZIC8gMjtcblxuICAgICAgICByZXR1cm4gWydNJywgeDEsIHkxLCAnTCcsIHgyLCB5MSwgJ0wnLCB4MiwgeTIsICdMJywgeDEsIHkyLCAnWiddO1xuICAgICAgfSk7XG5cbiAgICAgIGdyb3VwLmFkZFN5bWJvbChmcm9tRGF0ZUxhYmVsKTtcbiAgICAgIGdyb3VwLmFkZFN5bWJvbChzZWxmLmZyb21EYXRlKTtcbiAgICAgIGdyb3VwLmFkZFN5bWJvbCh0b0RhdGVMYWJlbCk7XG4gICAgICBncm91cC5hZGRTeW1ib2woc2VsZi50b0RhdGUpO1xuICAgICAgdG9vbGJhci5hZGRDb21wb25lbnQoZ3JvdXApO1xuICAgICAgcmV0dXJuIHRvb2xiYXI7XG4gICAgfTtcblxuICAgIGdldExvZ2ljYWxTcGFjZSAoYXZhaWxhYmxlV2lkdGgsIGF2YWlsYWJsZUhlaWdodCkge1xuICAgICAgdmFyIGxvZ2ljYWxTcGFjZSxcbiAgICAgICAgd2lkdGggPSAwLFxuICAgICAgICBoZWlnaHQgPSAwLFxuICAgICAgICBpLFxuICAgICAgICBsbjtcblxuICAgICAgYXZhaWxhYmxlV2lkdGggLz0gMjtcblxuICAgICAgZm9yIChpID0gMCwgbG4gPSB0aGlzLnRvb2xiYXJzLmxlbmd0aDsgaSA8IGxuOyBpKyspIHtcbiAgICAgICAgbG9naWNhbFNwYWNlID0gdGhpcy50b29sYmFyc1tpXS5nZXRMb2dpY2FsU3BhY2UoYXZhaWxhYmxlV2lkdGgsIGF2YWlsYWJsZUhlaWdodCk7XG4gICAgICAgIHdpZHRoID0gTWF0aC5tYXgobG9naWNhbFNwYWNlLndpZHRoLCB3aWR0aCk7XG4gICAgICAgIGhlaWdodCArPSBsb2dpY2FsU3BhY2UuaGVpZ2h0O1xuICAgICAgICB0aGlzLnRvb2xiYXJzW2ldLndpZHRoID0gbG9naWNhbFNwYWNlLndpZHRoO1xuICAgICAgICB0aGlzLnRvb2xiYXJzW2ldLmhlaWdodCA9IGxvZ2ljYWxTcGFjZS5oZWlnaHQ7XG4gICAgICB9XG4gICAgICBoZWlnaHQgKz0gdGhpcy5wYWRkaW5nO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgd2lkdGg6IHdpZHRoLFxuICAgICAgICBoZWlnaHQ6IGhlaWdodFxuICAgICAgfTtcbiAgICB9O1xuXG4gICAgcGxhY2VJbkNhbnZhcyAoKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICBzZWxmLnBhZGRpbmcgPSA1O1xuICAgICAgc2VsZi5zcGFjZU1hbmFnZXJJbnN0YW5jZS5hZGQoW3tcbiAgICAgICAgbmFtZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiAnRGF0ZVJhbmdlQ2hvb3NlclRvb2xib3gnO1xuICAgICAgICB9LFxuICAgICAgICByZWY6IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgICByZXR1cm4gb2JqWycwJ107XG4gICAgICAgIH0sXG4gICAgICAgIHNlbGY6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gc2VsZjtcbiAgICAgICAgfSxcbiAgICAgICAgcHJpb3JpdHk6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gMjtcbiAgICAgICAgfSxcbiAgICAgICAgbGF5b3V0OiBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgICAgcmV0dXJuIG9ialtzZWxmLmV4dERhdGEubGF5b3V0XTtcbiAgICAgICAgfSxcbiAgICAgICAgb3JpZW50YXRpb246IFt7XG4gICAgICAgICAgdHlwZTogZnVuY3Rpb24gKG9iaikge1xuICAgICAgICAgICAgcmV0dXJuIG9ialtzZWxmLmV4dERhdGEub3JpZW50YXRpb25dO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgcG9zaXRpb246IFt7XG4gICAgICAgICAgICB0eXBlOiBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgICAgICAgIHJldHVybiBvYmpbc2VsZi5leHREYXRhLnBvc2l0aW9uXTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBhbGlnbm1lbnQ6IFt7XG4gICAgICAgICAgICAgIHR5cGU6IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gb2JqW3NlbGYuZXh0RGF0YS5hbGlnbm1lbnRdO1xuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBkaW1lbnNpb25zOiBbZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBwYXJlbnQgPSB0aGlzLmdldFBhcmVudENvbXBvbmVudEdyb3VwKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNlbGYuZ2V0TG9naWNhbFNwYWNlKHBhcmVudC5nZXRXaWR0aCgpLCBwYXJlbnQuZ2V0SGVpZ2h0KCkpO1xuICAgICAgICAgICAgICB9XVxuICAgICAgICAgICAgfV1cbiAgICAgICAgICB9XVxuICAgICAgICB9XVxuICAgICAgfV0pO1xuICAgIH07XG5cbiAgICBzZXREcmF3aW5nQ29uZmlndXJhdGlvbiAoeCwgeSwgd2lkdGgsIGhlaWdodCwgZ3JvdXApIHtcbiAgICAgIHZhciBtZXMgPSB0aGlzLm1lYXN1cmVtZW50O1xuICAgICAgbWVzLnggPSB4O1xuICAgICAgbWVzLnkgPSB5O1xuICAgICAgbWVzLndpZHRoID0gd2lkdGg7XG4gICAgICBtZXMuaGVpZ2h0ID0gaGVpZ2h0O1xuXG4gICAgICB0aGlzLnBhcmVudEdyb3VwID0gZ3JvdXA7XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICBkcmF3ICh4LCB5LCB3aWR0aCwgaGVpZ2h0LCBncm91cCkge1xuICAgICAgdmFyIG1lYXN1cmVtZW50ID0gdGhpcy5tZWFzdXJlbWVudCxcbiAgICAgICAgdG9vbGJhcnMgPSB0aGlzLnRvb2xiYXJzLFxuICAgICAgICBsbixcbiAgICAgICAgaSxcbiAgICAgICAgdG9vbGJhcixcbiAgICAgICAgbW9kZWwgPSB0aGlzLmdsb2JhbFJlYWN0aXZlTW9kZWwsXG4gICAgICAgIHNlbGYgPSB0aGlzO1xuXG4gICAgICB4ID0geCA9PT0gdW5kZWZpbmVkID8gbWVhc3VyZW1lbnQueCA6IHg7XG4gICAgICB5ID0geSA9PT0gdW5kZWZpbmVkID8gbWVhc3VyZW1lbnQueSA6IHk7XG4gICAgICB3aWR0aCA9IHdpZHRoID09PSB1bmRlZmluZWQgPyBtZWFzdXJlbWVudC53aWR0aCA6IHdpZHRoO1xuICAgICAgaGVpZ2h0ID0gaGVpZ2h0ID09PSB1bmRlZmluZWQgPyBtZWFzdXJlbWVudC5oZWlnaHQgOiBoZWlnaHQ7XG4gICAgICBncm91cCA9IGdyb3VwID09PSB1bmRlZmluZWQgPyB0aGlzLnBhcmVudEdyb3VwIDogZ3JvdXA7XG4gICAgICBpZiAod2lkdGggJiYgaGVpZ2h0KSB7XG4gICAgICAgIGZvciAoaSA9IDAsIGxuID0gdG9vbGJhcnMubGVuZ3RoOyBpIDwgbG47IGkrKykge1xuICAgICAgICAgIHRvb2xiYXIgPSB0b29sYmFyc1tpXTtcbiAgICAgICAgICB0b29sYmFyLmRyYXcoeCwgeSwgZ3JvdXApO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIG1vZGVsLm9uUHJvcHNDaGFuZ2UoWyd4LWF4aXMtdmlzaWJsZS1yYW5nZS1zdGFydCcsICd4LWF4aXMtdmlzaWJsZS1yYW5nZS1lbmQnXSxcbiAgICAgICAgZnVuY3Rpb24gKHN0YXJ0LCBlbmQpIHtcbiAgICAgICAgICAvLyBzZWxmLmZyb21EYXRlLmJsdXIobmV3IERhdGUoc3RhcnRbMV0pLnRvTG9jYWxlRGF0ZVN0cmluZygpKTtcbiAgICAgICAgICAvLyBzZWxmLnRvRGF0ZS5ibHVyKG5ldyBEYXRlKGVuZFsxXSkudG9Mb2NhbGVEYXRlU3RyaW5nKCkpO1xuICAgICAgICAgIHNlbGYuZnJvbURhdGUuYmx1cihtb21lbnQoc3RhcnRbMV0sICd4JykuZm9ybWF0KCdERC1NTS1ZWVlZJykpO1xuICAgICAgICAgIHNlbGYudG9EYXRlLmJsdXIobW9tZW50KGVuZFsxXSwgJ3gnKS5mb3JtYXQoJ0RELU1NLVlZWVknKSk7XG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgfTtcbiAgfVxuICByZXR1cm4gRGF0ZVJhbmdlO1xufTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9mY3RzLWV4dC1kYXRlcmFuZ2UuanMiLCIvLyEgbW9tZW50LmpzXG4vLyEgdmVyc2lvbiA6IDIuMTcuMFxuLy8hIGF1dGhvcnMgOiBUaW0gV29vZCwgSXNrcmVuIENoZXJuZXYsIE1vbWVudC5qcyBjb250cmlidXRvcnNcbi8vISBsaWNlbnNlIDogTUlUXG4vLyEgbW9tZW50anMuY29tXG5cbjsoZnVuY3Rpb24gKGdsb2JhbCwgZmFjdG9yeSkge1xuICAgIHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyA/IG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpIDpcbiAgICB0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQgPyBkZWZpbmUoZmFjdG9yeSkgOlxuICAgIGdsb2JhbC5tb21lbnQgPSBmYWN0b3J5KClcbn0odGhpcywgKGZ1bmN0aW9uICgpIHsgJ3VzZSBzdHJpY3QnO1xuXG52YXIgaG9va0NhbGxiYWNrO1xuXG5mdW5jdGlvbiBob29rcyAoKSB7XG4gICAgcmV0dXJuIGhvb2tDYWxsYmFjay5hcHBseShudWxsLCBhcmd1bWVudHMpO1xufVxuXG4vLyBUaGlzIGlzIGRvbmUgdG8gcmVnaXN0ZXIgdGhlIG1ldGhvZCBjYWxsZWQgd2l0aCBtb21lbnQoKVxuLy8gd2l0aG91dCBjcmVhdGluZyBjaXJjdWxhciBkZXBlbmRlbmNpZXMuXG5mdW5jdGlvbiBzZXRIb29rQ2FsbGJhY2sgKGNhbGxiYWNrKSB7XG4gICAgaG9va0NhbGxiYWNrID0gY2FsbGJhY2s7XG59XG5cbmZ1bmN0aW9uIGlzQXJyYXkoaW5wdXQpIHtcbiAgICByZXR1cm4gaW5wdXQgaW5zdGFuY2VvZiBBcnJheSB8fCBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoaW5wdXQpID09PSAnW29iamVjdCBBcnJheV0nO1xufVxuXG5mdW5jdGlvbiBpc09iamVjdChpbnB1dCkge1xuICAgIC8vIElFOCB3aWxsIHRyZWF0IHVuZGVmaW5lZCBhbmQgbnVsbCBhcyBvYmplY3QgaWYgaXQgd2Fzbid0IGZvclxuICAgIC8vIGlucHV0ICE9IG51bGxcbiAgICByZXR1cm4gaW5wdXQgIT0gbnVsbCAmJiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoaW5wdXQpID09PSAnW29iamVjdCBPYmplY3RdJztcbn1cblxuZnVuY3Rpb24gaXNPYmplY3RFbXB0eShvYmopIHtcbiAgICB2YXIgaztcbiAgICBmb3IgKGsgaW4gb2JqKSB7XG4gICAgICAgIC8vIGV2ZW4gaWYgaXRzIG5vdCBvd24gcHJvcGVydHkgSSdkIHN0aWxsIGNhbGwgaXQgbm9uLWVtcHR5XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIGlzTnVtYmVyKGlucHV0KSB7XG4gICAgcmV0dXJuIHR5cGVvZiBpbnB1dCA9PT0gJ251bWJlcicgfHwgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGlucHV0KSA9PT0gJ1tvYmplY3QgTnVtYmVyXSc7XG59XG5cbmZ1bmN0aW9uIGlzRGF0ZShpbnB1dCkge1xuICAgIHJldHVybiBpbnB1dCBpbnN0YW5jZW9mIERhdGUgfHwgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGlucHV0KSA9PT0gJ1tvYmplY3QgRGF0ZV0nO1xufVxuXG5mdW5jdGlvbiBtYXAoYXJyLCBmbikge1xuICAgIHZhciByZXMgPSBbXSwgaTtcbiAgICBmb3IgKGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIHJlcy5wdXNoKGZuKGFycltpXSwgaSkpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzO1xufVxuXG5mdW5jdGlvbiBoYXNPd25Qcm9wKGEsIGIpIHtcbiAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGEsIGIpO1xufVxuXG5mdW5jdGlvbiBleHRlbmQoYSwgYikge1xuICAgIGZvciAodmFyIGkgaW4gYikge1xuICAgICAgICBpZiAoaGFzT3duUHJvcChiLCBpKSkge1xuICAgICAgICAgICAgYVtpXSA9IGJbaV07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoaGFzT3duUHJvcChiLCAndG9TdHJpbmcnKSkge1xuICAgICAgICBhLnRvU3RyaW5nID0gYi50b1N0cmluZztcbiAgICB9XG5cbiAgICBpZiAoaGFzT3duUHJvcChiLCAndmFsdWVPZicpKSB7XG4gICAgICAgIGEudmFsdWVPZiA9IGIudmFsdWVPZjtcbiAgICB9XG5cbiAgICByZXR1cm4gYTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlVVRDIChpbnB1dCwgZm9ybWF0LCBsb2NhbGUsIHN0cmljdCkge1xuICAgIHJldHVybiBjcmVhdGVMb2NhbE9yVVRDKGlucHV0LCBmb3JtYXQsIGxvY2FsZSwgc3RyaWN0LCB0cnVlKS51dGMoKTtcbn1cblxuZnVuY3Rpb24gZGVmYXVsdFBhcnNpbmdGbGFncygpIHtcbiAgICAvLyBXZSBuZWVkIHRvIGRlZXAgY2xvbmUgdGhpcyBvYmplY3QuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgZW1wdHkgICAgICAgICAgIDogZmFsc2UsXG4gICAgICAgIHVudXNlZFRva2VucyAgICA6IFtdLFxuICAgICAgICB1bnVzZWRJbnB1dCAgICAgOiBbXSxcbiAgICAgICAgb3ZlcmZsb3cgICAgICAgIDogLTIsXG4gICAgICAgIGNoYXJzTGVmdE92ZXIgICA6IDAsXG4gICAgICAgIG51bGxJbnB1dCAgICAgICA6IGZhbHNlLFxuICAgICAgICBpbnZhbGlkTW9udGggICAgOiBudWxsLFxuICAgICAgICBpbnZhbGlkRm9ybWF0ICAgOiBmYWxzZSxcbiAgICAgICAgdXNlckludmFsaWRhdGVkIDogZmFsc2UsXG4gICAgICAgIGlzbyAgICAgICAgICAgICA6IGZhbHNlLFxuICAgICAgICBwYXJzZWREYXRlUGFydHMgOiBbXSxcbiAgICAgICAgbWVyaWRpZW0gICAgICAgIDogbnVsbFxuICAgIH07XG59XG5cbmZ1bmN0aW9uIGdldFBhcnNpbmdGbGFncyhtKSB7XG4gICAgaWYgKG0uX3BmID09IG51bGwpIHtcbiAgICAgICAgbS5fcGYgPSBkZWZhdWx0UGFyc2luZ0ZsYWdzKCk7XG4gICAgfVxuICAgIHJldHVybiBtLl9wZjtcbn1cblxudmFyIHNvbWU7XG5pZiAoQXJyYXkucHJvdG90eXBlLnNvbWUpIHtcbiAgICBzb21lID0gQXJyYXkucHJvdG90eXBlLnNvbWU7XG59IGVsc2Uge1xuICAgIHNvbWUgPSBmdW5jdGlvbiAoZnVuKSB7XG4gICAgICAgIHZhciB0ID0gT2JqZWN0KHRoaXMpO1xuICAgICAgICB2YXIgbGVuID0gdC5sZW5ndGggPj4+IDA7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgaWYgKGkgaW4gdCAmJiBmdW4uY2FsbCh0aGlzLCB0W2ldLCBpLCB0KSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG59XG5cbnZhciBzb21lJDEgPSBzb21lO1xuXG5mdW5jdGlvbiBpc1ZhbGlkKG0pIHtcbiAgICBpZiAobS5faXNWYWxpZCA9PSBudWxsKSB7XG4gICAgICAgIHZhciBmbGFncyA9IGdldFBhcnNpbmdGbGFncyhtKTtcbiAgICAgICAgdmFyIHBhcnNlZFBhcnRzID0gc29tZSQxLmNhbGwoZmxhZ3MucGFyc2VkRGF0ZVBhcnRzLCBmdW5jdGlvbiAoaSkge1xuICAgICAgICAgICAgcmV0dXJuIGkgIT0gbnVsbDtcbiAgICAgICAgfSk7XG4gICAgICAgIHZhciBpc05vd1ZhbGlkID0gIWlzTmFOKG0uX2QuZ2V0VGltZSgpKSAmJlxuICAgICAgICAgICAgZmxhZ3Mub3ZlcmZsb3cgPCAwICYmXG4gICAgICAgICAgICAhZmxhZ3MuZW1wdHkgJiZcbiAgICAgICAgICAgICFmbGFncy5pbnZhbGlkTW9udGggJiZcbiAgICAgICAgICAgICFmbGFncy5pbnZhbGlkV2Vla2RheSAmJlxuICAgICAgICAgICAgIWZsYWdzLm51bGxJbnB1dCAmJlxuICAgICAgICAgICAgIWZsYWdzLmludmFsaWRGb3JtYXQgJiZcbiAgICAgICAgICAgICFmbGFncy51c2VySW52YWxpZGF0ZWQgJiZcbiAgICAgICAgICAgICghZmxhZ3MubWVyaWRpZW0gfHwgKGZsYWdzLm1lcmlkaWVtICYmIHBhcnNlZFBhcnRzKSk7XG5cbiAgICAgICAgaWYgKG0uX3N0cmljdCkge1xuICAgICAgICAgICAgaXNOb3dWYWxpZCA9IGlzTm93VmFsaWQgJiZcbiAgICAgICAgICAgICAgICBmbGFncy5jaGFyc0xlZnRPdmVyID09PSAwICYmXG4gICAgICAgICAgICAgICAgZmxhZ3MudW51c2VkVG9rZW5zLmxlbmd0aCA9PT0gMCAmJlxuICAgICAgICAgICAgICAgIGZsYWdzLmJpZ0hvdXIgPT09IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChPYmplY3QuaXNGcm96ZW4gPT0gbnVsbCB8fCAhT2JqZWN0LmlzRnJvemVuKG0pKSB7XG4gICAgICAgICAgICBtLl9pc1ZhbGlkID0gaXNOb3dWYWxpZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBpc05vd1ZhbGlkO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtLl9pc1ZhbGlkO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVJbnZhbGlkIChmbGFncykge1xuICAgIHZhciBtID0gY3JlYXRlVVRDKE5hTik7XG4gICAgaWYgKGZsYWdzICE9IG51bGwpIHtcbiAgICAgICAgZXh0ZW5kKGdldFBhcnNpbmdGbGFncyhtKSwgZmxhZ3MpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKG0pLnVzZXJJbnZhbGlkYXRlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIG07XG59XG5cbmZ1bmN0aW9uIGlzVW5kZWZpbmVkKGlucHV0KSB7XG4gICAgcmV0dXJuIGlucHV0ID09PSB2b2lkIDA7XG59XG5cbi8vIFBsdWdpbnMgdGhhdCBhZGQgcHJvcGVydGllcyBzaG91bGQgYWxzbyBhZGQgdGhlIGtleSBoZXJlIChudWxsIHZhbHVlKSxcbi8vIHNvIHdlIGNhbiBwcm9wZXJseSBjbG9uZSBvdXJzZWx2ZXMuXG52YXIgbW9tZW50UHJvcGVydGllcyA9IGhvb2tzLm1vbWVudFByb3BlcnRpZXMgPSBbXTtcblxuZnVuY3Rpb24gY29weUNvbmZpZyh0bywgZnJvbSkge1xuICAgIHZhciBpLCBwcm9wLCB2YWw7XG5cbiAgICBpZiAoIWlzVW5kZWZpbmVkKGZyb20uX2lzQU1vbWVudE9iamVjdCkpIHtcbiAgICAgICAgdG8uX2lzQU1vbWVudE9iamVjdCA9IGZyb20uX2lzQU1vbWVudE9iamVjdDtcbiAgICB9XG4gICAgaWYgKCFpc1VuZGVmaW5lZChmcm9tLl9pKSkge1xuICAgICAgICB0by5faSA9IGZyb20uX2k7XG4gICAgfVxuICAgIGlmICghaXNVbmRlZmluZWQoZnJvbS5fZikpIHtcbiAgICAgICAgdG8uX2YgPSBmcm9tLl9mO1xuICAgIH1cbiAgICBpZiAoIWlzVW5kZWZpbmVkKGZyb20uX2wpKSB7XG4gICAgICAgIHRvLl9sID0gZnJvbS5fbDtcbiAgICB9XG4gICAgaWYgKCFpc1VuZGVmaW5lZChmcm9tLl9zdHJpY3QpKSB7XG4gICAgICAgIHRvLl9zdHJpY3QgPSBmcm9tLl9zdHJpY3Q7XG4gICAgfVxuICAgIGlmICghaXNVbmRlZmluZWQoZnJvbS5fdHptKSkge1xuICAgICAgICB0by5fdHptID0gZnJvbS5fdHptO1xuICAgIH1cbiAgICBpZiAoIWlzVW5kZWZpbmVkKGZyb20uX2lzVVRDKSkge1xuICAgICAgICB0by5faXNVVEMgPSBmcm9tLl9pc1VUQztcbiAgICB9XG4gICAgaWYgKCFpc1VuZGVmaW5lZChmcm9tLl9vZmZzZXQpKSB7XG4gICAgICAgIHRvLl9vZmZzZXQgPSBmcm9tLl9vZmZzZXQ7XG4gICAgfVxuICAgIGlmICghaXNVbmRlZmluZWQoZnJvbS5fcGYpKSB7XG4gICAgICAgIHRvLl9wZiA9IGdldFBhcnNpbmdGbGFncyhmcm9tKTtcbiAgICB9XG4gICAgaWYgKCFpc1VuZGVmaW5lZChmcm9tLl9sb2NhbGUpKSB7XG4gICAgICAgIHRvLl9sb2NhbGUgPSBmcm9tLl9sb2NhbGU7XG4gICAgfVxuXG4gICAgaWYgKG1vbWVudFByb3BlcnRpZXMubGVuZ3RoID4gMCkge1xuICAgICAgICBmb3IgKGkgaW4gbW9tZW50UHJvcGVydGllcykge1xuICAgICAgICAgICAgcHJvcCA9IG1vbWVudFByb3BlcnRpZXNbaV07XG4gICAgICAgICAgICB2YWwgPSBmcm9tW3Byb3BdO1xuICAgICAgICAgICAgaWYgKCFpc1VuZGVmaW5lZCh2YWwpKSB7XG4gICAgICAgICAgICAgICAgdG9bcHJvcF0gPSB2YWw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdG87XG59XG5cbnZhciB1cGRhdGVJblByb2dyZXNzID0gZmFsc2U7XG5cbi8vIE1vbWVudCBwcm90b3R5cGUgb2JqZWN0XG5mdW5jdGlvbiBNb21lbnQoY29uZmlnKSB7XG4gICAgY29weUNvbmZpZyh0aGlzLCBjb25maWcpO1xuICAgIHRoaXMuX2QgPSBuZXcgRGF0ZShjb25maWcuX2QgIT0gbnVsbCA/IGNvbmZpZy5fZC5nZXRUaW1lKCkgOiBOYU4pO1xuICAgIGlmICghdGhpcy5pc1ZhbGlkKCkpIHtcbiAgICAgICAgdGhpcy5fZCA9IG5ldyBEYXRlKE5hTik7XG4gICAgfVxuICAgIC8vIFByZXZlbnQgaW5maW5pdGUgbG9vcCBpbiBjYXNlIHVwZGF0ZU9mZnNldCBjcmVhdGVzIG5ldyBtb21lbnRcbiAgICAvLyBvYmplY3RzLlxuICAgIGlmICh1cGRhdGVJblByb2dyZXNzID09PSBmYWxzZSkge1xuICAgICAgICB1cGRhdGVJblByb2dyZXNzID0gdHJ1ZTtcbiAgICAgICAgaG9va3MudXBkYXRlT2Zmc2V0KHRoaXMpO1xuICAgICAgICB1cGRhdGVJblByb2dyZXNzID0gZmFsc2U7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBpc01vbWVudCAob2JqKSB7XG4gICAgcmV0dXJuIG9iaiBpbnN0YW5jZW9mIE1vbWVudCB8fCAob2JqICE9IG51bGwgJiYgb2JqLl9pc0FNb21lbnRPYmplY3QgIT0gbnVsbCk7XG59XG5cbmZ1bmN0aW9uIGFic0Zsb29yIChudW1iZXIpIHtcbiAgICBpZiAobnVtYmVyIDwgMCkge1xuICAgICAgICAvLyAtMCAtPiAwXG4gICAgICAgIHJldHVybiBNYXRoLmNlaWwobnVtYmVyKSB8fCAwO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBNYXRoLmZsb29yKG51bWJlcik7XG4gICAgfVxufVxuXG5mdW5jdGlvbiB0b0ludChhcmd1bWVudEZvckNvZXJjaW9uKSB7XG4gICAgdmFyIGNvZXJjZWROdW1iZXIgPSArYXJndW1lbnRGb3JDb2VyY2lvbixcbiAgICAgICAgdmFsdWUgPSAwO1xuXG4gICAgaWYgKGNvZXJjZWROdW1iZXIgIT09IDAgJiYgaXNGaW5pdGUoY29lcmNlZE51bWJlcikpIHtcbiAgICAgICAgdmFsdWUgPSBhYnNGbG9vcihjb2VyY2VkTnVtYmVyKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdmFsdWU7XG59XG5cbi8vIGNvbXBhcmUgdHdvIGFycmF5cywgcmV0dXJuIHRoZSBudW1iZXIgb2YgZGlmZmVyZW5jZXNcbmZ1bmN0aW9uIGNvbXBhcmVBcnJheXMoYXJyYXkxLCBhcnJheTIsIGRvbnRDb252ZXJ0KSB7XG4gICAgdmFyIGxlbiA9IE1hdGgubWluKGFycmF5MS5sZW5ndGgsIGFycmF5Mi5sZW5ndGgpLFxuICAgICAgICBsZW5ndGhEaWZmID0gTWF0aC5hYnMoYXJyYXkxLmxlbmd0aCAtIGFycmF5Mi5sZW5ndGgpLFxuICAgICAgICBkaWZmcyA9IDAsXG4gICAgICAgIGk7XG4gICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIGlmICgoZG9udENvbnZlcnQgJiYgYXJyYXkxW2ldICE9PSBhcnJheTJbaV0pIHx8XG4gICAgICAgICAgICAoIWRvbnRDb252ZXJ0ICYmIHRvSW50KGFycmF5MVtpXSkgIT09IHRvSW50KGFycmF5MltpXSkpKSB7XG4gICAgICAgICAgICBkaWZmcysrO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBkaWZmcyArIGxlbmd0aERpZmY7XG59XG5cbmZ1bmN0aW9uIHdhcm4obXNnKSB7XG4gICAgaWYgKGhvb2tzLnN1cHByZXNzRGVwcmVjYXRpb25XYXJuaW5ncyA9PT0gZmFsc2UgJiZcbiAgICAgICAgICAgICh0eXBlb2YgY29uc29sZSAhPT0gICd1bmRlZmluZWQnKSAmJiBjb25zb2xlLndhcm4pIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdEZXByZWNhdGlvbiB3YXJuaW5nOiAnICsgbXNnKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRlcHJlY2F0ZShtc2csIGZuKSB7XG4gICAgdmFyIGZpcnN0VGltZSA9IHRydWU7XG5cbiAgICByZXR1cm4gZXh0ZW5kKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKGhvb2tzLmRlcHJlY2F0aW9uSGFuZGxlciAhPSBudWxsKSB7XG4gICAgICAgICAgICBob29rcy5kZXByZWNhdGlvbkhhbmRsZXIobnVsbCwgbXNnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZmlyc3RUaW1lKSB7XG4gICAgICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICAgICAgdmFyIGFyZztcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgYXJnID0gJyc7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBhcmd1bWVudHNbaV0gPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgICAgIGFyZyArPSAnXFxuWycgKyBpICsgJ10gJztcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIGFyZ3VtZW50c1swXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXJnICs9IGtleSArICc6ICcgKyBhcmd1bWVudHNbMF1ba2V5XSArICcsICc7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYXJnID0gYXJnLnNsaWNlKDAsIC0yKTsgLy8gUmVtb3ZlIHRyYWlsaW5nIGNvbW1hIGFuZCBzcGFjZVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGFyZyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYXJncy5wdXNoKGFyZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB3YXJuKG1zZyArICdcXG5Bcmd1bWVudHM6ICcgKyBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmdzKS5qb2luKCcnKSArICdcXG4nICsgKG5ldyBFcnJvcigpKS5zdGFjayk7XG4gICAgICAgICAgICBmaXJzdFRpbWUgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9LCBmbik7XG59XG5cbnZhciBkZXByZWNhdGlvbnMgPSB7fTtcblxuZnVuY3Rpb24gZGVwcmVjYXRlU2ltcGxlKG5hbWUsIG1zZykge1xuICAgIGlmIChob29rcy5kZXByZWNhdGlvbkhhbmRsZXIgIT0gbnVsbCkge1xuICAgICAgICBob29rcy5kZXByZWNhdGlvbkhhbmRsZXIobmFtZSwgbXNnKTtcbiAgICB9XG4gICAgaWYgKCFkZXByZWNhdGlvbnNbbmFtZV0pIHtcbiAgICAgICAgd2Fybihtc2cpO1xuICAgICAgICBkZXByZWNhdGlvbnNbbmFtZV0gPSB0cnVlO1xuICAgIH1cbn1cblxuaG9va3Muc3VwcHJlc3NEZXByZWNhdGlvbldhcm5pbmdzID0gZmFsc2U7XG5ob29rcy5kZXByZWNhdGlvbkhhbmRsZXIgPSBudWxsO1xuXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKGlucHV0KSB7XG4gICAgcmV0dXJuIGlucHV0IGluc3RhbmNlb2YgRnVuY3Rpb24gfHwgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGlucHV0KSA9PT0gJ1tvYmplY3QgRnVuY3Rpb25dJztcbn1cblxuZnVuY3Rpb24gc2V0IChjb25maWcpIHtcbiAgICB2YXIgcHJvcCwgaTtcbiAgICBmb3IgKGkgaW4gY29uZmlnKSB7XG4gICAgICAgIHByb3AgPSBjb25maWdbaV07XG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKHByb3ApKSB7XG4gICAgICAgICAgICB0aGlzW2ldID0gcHJvcDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXNbJ18nICsgaV0gPSBwcm9wO1xuICAgICAgICB9XG4gICAgfVxuICAgIHRoaXMuX2NvbmZpZyA9IGNvbmZpZztcbiAgICAvLyBMZW5pZW50IG9yZGluYWwgcGFyc2luZyBhY2NlcHRzIGp1c3QgYSBudW1iZXIgaW4gYWRkaXRpb24gdG9cbiAgICAvLyBudW1iZXIgKyAocG9zc2libHkpIHN0dWZmIGNvbWluZyBmcm9tIF9vcmRpbmFsUGFyc2VMZW5pZW50LlxuICAgIHRoaXMuX29yZGluYWxQYXJzZUxlbmllbnQgPSBuZXcgUmVnRXhwKHRoaXMuX29yZGluYWxQYXJzZS5zb3VyY2UgKyAnfCcgKyAoL1xcZHsxLDJ9Lykuc291cmNlKTtcbn1cblxuZnVuY3Rpb24gbWVyZ2VDb25maWdzKHBhcmVudENvbmZpZywgY2hpbGRDb25maWcpIHtcbiAgICB2YXIgcmVzID0gZXh0ZW5kKHt9LCBwYXJlbnRDb25maWcpLCBwcm9wO1xuICAgIGZvciAocHJvcCBpbiBjaGlsZENvbmZpZykge1xuICAgICAgICBpZiAoaGFzT3duUHJvcChjaGlsZENvbmZpZywgcHJvcCkpIHtcbiAgICAgICAgICAgIGlmIChpc09iamVjdChwYXJlbnRDb25maWdbcHJvcF0pICYmIGlzT2JqZWN0KGNoaWxkQ29uZmlnW3Byb3BdKSkge1xuICAgICAgICAgICAgICAgIHJlc1twcm9wXSA9IHt9O1xuICAgICAgICAgICAgICAgIGV4dGVuZChyZXNbcHJvcF0sIHBhcmVudENvbmZpZ1twcm9wXSk7XG4gICAgICAgICAgICAgICAgZXh0ZW5kKHJlc1twcm9wXSwgY2hpbGRDb25maWdbcHJvcF0pO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjaGlsZENvbmZpZ1twcm9wXSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmVzW3Byb3BdID0gY2hpbGRDb25maWdbcHJvcF07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSByZXNbcHJvcF07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZm9yIChwcm9wIGluIHBhcmVudENvbmZpZykge1xuICAgICAgICBpZiAoaGFzT3duUHJvcChwYXJlbnRDb25maWcsIHByb3ApICYmXG4gICAgICAgICAgICAgICAgIWhhc093blByb3AoY2hpbGRDb25maWcsIHByb3ApICYmXG4gICAgICAgICAgICAgICAgaXNPYmplY3QocGFyZW50Q29uZmlnW3Byb3BdKSkge1xuICAgICAgICAgICAgLy8gbWFrZSBzdXJlIGNoYW5nZXMgdG8gcHJvcGVydGllcyBkb24ndCBtb2RpZnkgcGFyZW50IGNvbmZpZ1xuICAgICAgICAgICAgcmVzW3Byb3BdID0gZXh0ZW5kKHt9LCByZXNbcHJvcF0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXM7XG59XG5cbmZ1bmN0aW9uIExvY2FsZShjb25maWcpIHtcbiAgICBpZiAoY29uZmlnICE9IG51bGwpIHtcbiAgICAgICAgdGhpcy5zZXQoY29uZmlnKTtcbiAgICB9XG59XG5cbnZhciBrZXlzO1xuXG5pZiAoT2JqZWN0LmtleXMpIHtcbiAgICBrZXlzID0gT2JqZWN0LmtleXM7XG59IGVsc2Uge1xuICAgIGtleXMgPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgIHZhciBpLCByZXMgPSBbXTtcbiAgICAgICAgZm9yIChpIGluIG9iaikge1xuICAgICAgICAgICAgaWYgKGhhc093blByb3Aob2JqLCBpKSkge1xuICAgICAgICAgICAgICAgIHJlcy5wdXNoKGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfTtcbn1cblxudmFyIGtleXMkMSA9IGtleXM7XG5cbnZhciBkZWZhdWx0Q2FsZW5kYXIgPSB7XG4gICAgc2FtZURheSA6ICdbVG9kYXkgYXRdIExUJyxcbiAgICBuZXh0RGF5IDogJ1tUb21vcnJvdyBhdF0gTFQnLFxuICAgIG5leHRXZWVrIDogJ2RkZGQgW2F0XSBMVCcsXG4gICAgbGFzdERheSA6ICdbWWVzdGVyZGF5IGF0XSBMVCcsXG4gICAgbGFzdFdlZWsgOiAnW0xhc3RdIGRkZGQgW2F0XSBMVCcsXG4gICAgc2FtZUVsc2UgOiAnTCdcbn07XG5cbmZ1bmN0aW9uIGNhbGVuZGFyIChrZXksIG1vbSwgbm93KSB7XG4gICAgdmFyIG91dHB1dCA9IHRoaXMuX2NhbGVuZGFyW2tleV0gfHwgdGhpcy5fY2FsZW5kYXJbJ3NhbWVFbHNlJ107XG4gICAgcmV0dXJuIGlzRnVuY3Rpb24ob3V0cHV0KSA/IG91dHB1dC5jYWxsKG1vbSwgbm93KSA6IG91dHB1dDtcbn1cblxudmFyIGRlZmF1bHRMb25nRGF0ZUZvcm1hdCA9IHtcbiAgICBMVFMgIDogJ2g6bW06c3MgQScsXG4gICAgTFQgICA6ICdoOm1tIEEnLFxuICAgIEwgICAgOiAnTU0vREQvWVlZWScsXG4gICAgTEwgICA6ICdNTU1NIEQsIFlZWVknLFxuICAgIExMTCAgOiAnTU1NTSBELCBZWVlZIGg6bW0gQScsXG4gICAgTExMTCA6ICdkZGRkLCBNTU1NIEQsIFlZWVkgaDptbSBBJ1xufTtcblxuZnVuY3Rpb24gbG9uZ0RhdGVGb3JtYXQgKGtleSkge1xuICAgIHZhciBmb3JtYXQgPSB0aGlzLl9sb25nRGF0ZUZvcm1hdFtrZXldLFxuICAgICAgICBmb3JtYXRVcHBlciA9IHRoaXMuX2xvbmdEYXRlRm9ybWF0W2tleS50b1VwcGVyQ2FzZSgpXTtcblxuICAgIGlmIChmb3JtYXQgfHwgIWZvcm1hdFVwcGVyKSB7XG4gICAgICAgIHJldHVybiBmb3JtYXQ7XG4gICAgfVxuXG4gICAgdGhpcy5fbG9uZ0RhdGVGb3JtYXRba2V5XSA9IGZvcm1hdFVwcGVyLnJlcGxhY2UoL01NTU18TU18RER8ZGRkZC9nLCBmdW5jdGlvbiAodmFsKSB7XG4gICAgICAgIHJldHVybiB2YWwuc2xpY2UoMSk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gdGhpcy5fbG9uZ0RhdGVGb3JtYXRba2V5XTtcbn1cblxudmFyIGRlZmF1bHRJbnZhbGlkRGF0ZSA9ICdJbnZhbGlkIGRhdGUnO1xuXG5mdW5jdGlvbiBpbnZhbGlkRGF0ZSAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2ludmFsaWREYXRlO1xufVxuXG52YXIgZGVmYXVsdE9yZGluYWwgPSAnJWQnO1xudmFyIGRlZmF1bHRPcmRpbmFsUGFyc2UgPSAvXFxkezEsMn0vO1xuXG5mdW5jdGlvbiBvcmRpbmFsIChudW1iZXIpIHtcbiAgICByZXR1cm4gdGhpcy5fb3JkaW5hbC5yZXBsYWNlKCclZCcsIG51bWJlcik7XG59XG5cbnZhciBkZWZhdWx0UmVsYXRpdmVUaW1lID0ge1xuICAgIGZ1dHVyZSA6ICdpbiAlcycsXG4gICAgcGFzdCAgIDogJyVzIGFnbycsXG4gICAgcyAgOiAnYSBmZXcgc2Vjb25kcycsXG4gICAgbSAgOiAnYSBtaW51dGUnLFxuICAgIG1tIDogJyVkIG1pbnV0ZXMnLFxuICAgIGggIDogJ2FuIGhvdXInLFxuICAgIGhoIDogJyVkIGhvdXJzJyxcbiAgICBkICA6ICdhIGRheScsXG4gICAgZGQgOiAnJWQgZGF5cycsXG4gICAgTSAgOiAnYSBtb250aCcsXG4gICAgTU0gOiAnJWQgbW9udGhzJyxcbiAgICB5ICA6ICdhIHllYXInLFxuICAgIHl5IDogJyVkIHllYXJzJ1xufTtcblxuZnVuY3Rpb24gcmVsYXRpdmVUaW1lIChudW1iZXIsIHdpdGhvdXRTdWZmaXgsIHN0cmluZywgaXNGdXR1cmUpIHtcbiAgICB2YXIgb3V0cHV0ID0gdGhpcy5fcmVsYXRpdmVUaW1lW3N0cmluZ107XG4gICAgcmV0dXJuIChpc0Z1bmN0aW9uKG91dHB1dCkpID9cbiAgICAgICAgb3V0cHV0KG51bWJlciwgd2l0aG91dFN1ZmZpeCwgc3RyaW5nLCBpc0Z1dHVyZSkgOlxuICAgICAgICBvdXRwdXQucmVwbGFjZSgvJWQvaSwgbnVtYmVyKTtcbn1cblxuZnVuY3Rpb24gcGFzdEZ1dHVyZSAoZGlmZiwgb3V0cHV0KSB7XG4gICAgdmFyIGZvcm1hdCA9IHRoaXMuX3JlbGF0aXZlVGltZVtkaWZmID4gMCA/ICdmdXR1cmUnIDogJ3Bhc3QnXTtcbiAgICByZXR1cm4gaXNGdW5jdGlvbihmb3JtYXQpID8gZm9ybWF0KG91dHB1dCkgOiBmb3JtYXQucmVwbGFjZSgvJXMvaSwgb3V0cHV0KTtcbn1cblxudmFyIGFsaWFzZXMgPSB7fTtcblxuZnVuY3Rpb24gYWRkVW5pdEFsaWFzICh1bml0LCBzaG9ydGhhbmQpIHtcbiAgICB2YXIgbG93ZXJDYXNlID0gdW5pdC50b0xvd2VyQ2FzZSgpO1xuICAgIGFsaWFzZXNbbG93ZXJDYXNlXSA9IGFsaWFzZXNbbG93ZXJDYXNlICsgJ3MnXSA9IGFsaWFzZXNbc2hvcnRoYW5kXSA9IHVuaXQ7XG59XG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZVVuaXRzKHVuaXRzKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB1bml0cyA9PT0gJ3N0cmluZycgPyBhbGlhc2VzW3VuaXRzXSB8fCBhbGlhc2VzW3VuaXRzLnRvTG93ZXJDYXNlKCldIDogdW5kZWZpbmVkO1xufVxuXG5mdW5jdGlvbiBub3JtYWxpemVPYmplY3RVbml0cyhpbnB1dE9iamVjdCkge1xuICAgIHZhciBub3JtYWxpemVkSW5wdXQgPSB7fSxcbiAgICAgICAgbm9ybWFsaXplZFByb3AsXG4gICAgICAgIHByb3A7XG5cbiAgICBmb3IgKHByb3AgaW4gaW5wdXRPYmplY3QpIHtcbiAgICAgICAgaWYgKGhhc093blByb3AoaW5wdXRPYmplY3QsIHByb3ApKSB7XG4gICAgICAgICAgICBub3JtYWxpemVkUHJvcCA9IG5vcm1hbGl6ZVVuaXRzKHByb3ApO1xuICAgICAgICAgICAgaWYgKG5vcm1hbGl6ZWRQcm9wKSB7XG4gICAgICAgICAgICAgICAgbm9ybWFsaXplZElucHV0W25vcm1hbGl6ZWRQcm9wXSA9IGlucHV0T2JqZWN0W3Byb3BdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG5vcm1hbGl6ZWRJbnB1dDtcbn1cblxudmFyIHByaW9yaXRpZXMgPSB7fTtcblxuZnVuY3Rpb24gYWRkVW5pdFByaW9yaXR5KHVuaXQsIHByaW9yaXR5KSB7XG4gICAgcHJpb3JpdGllc1t1bml0XSA9IHByaW9yaXR5O1xufVxuXG5mdW5jdGlvbiBnZXRQcmlvcml0aXplZFVuaXRzKHVuaXRzT2JqKSB7XG4gICAgdmFyIHVuaXRzID0gW107XG4gICAgZm9yICh2YXIgdSBpbiB1bml0c09iaikge1xuICAgICAgICB1bml0cy5wdXNoKHt1bml0OiB1LCBwcmlvcml0eTogcHJpb3JpdGllc1t1XX0pO1xuICAgIH1cbiAgICB1bml0cy5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgIHJldHVybiBhLnByaW9yaXR5IC0gYi5wcmlvcml0eTtcbiAgICB9KTtcbiAgICByZXR1cm4gdW5pdHM7XG59XG5cbmZ1bmN0aW9uIG1ha2VHZXRTZXQgKHVuaXQsIGtlZXBUaW1lKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICBpZiAodmFsdWUgIT0gbnVsbCkge1xuICAgICAgICAgICAgc2V0JDEodGhpcywgdW5pdCwgdmFsdWUpO1xuICAgICAgICAgICAgaG9va3MudXBkYXRlT2Zmc2V0KHRoaXMsIGtlZXBUaW1lKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGdldCh0aGlzLCB1bml0KTtcbiAgICAgICAgfVxuICAgIH07XG59XG5cbmZ1bmN0aW9uIGdldCAobW9tLCB1bml0KSB7XG4gICAgcmV0dXJuIG1vbS5pc1ZhbGlkKCkgP1xuICAgICAgICBtb20uX2RbJ2dldCcgKyAobW9tLl9pc1VUQyA/ICdVVEMnIDogJycpICsgdW5pdF0oKSA6IE5hTjtcbn1cblxuZnVuY3Rpb24gc2V0JDEgKG1vbSwgdW5pdCwgdmFsdWUpIHtcbiAgICBpZiAobW9tLmlzVmFsaWQoKSkge1xuICAgICAgICBtb20uX2RbJ3NldCcgKyAobW9tLl9pc1VUQyA/ICdVVEMnIDogJycpICsgdW5pdF0odmFsdWUpO1xuICAgIH1cbn1cblxuLy8gTU9NRU5UU1xuXG5mdW5jdGlvbiBzdHJpbmdHZXQgKHVuaXRzKSB7XG4gICAgdW5pdHMgPSBub3JtYWxpemVVbml0cyh1bml0cyk7XG4gICAgaWYgKGlzRnVuY3Rpb24odGhpc1t1bml0c10pKSB7XG4gICAgICAgIHJldHVybiB0aGlzW3VuaXRzXSgpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbn1cblxuXG5mdW5jdGlvbiBzdHJpbmdTZXQgKHVuaXRzLCB2YWx1ZSkge1xuICAgIGlmICh0eXBlb2YgdW5pdHMgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIHVuaXRzID0gbm9ybWFsaXplT2JqZWN0VW5pdHModW5pdHMpO1xuICAgICAgICB2YXIgcHJpb3JpdGl6ZWQgPSBnZXRQcmlvcml0aXplZFVuaXRzKHVuaXRzKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcmlvcml0aXplZC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpc1twcmlvcml0aXplZFtpXS51bml0XSh1bml0c1twcmlvcml0aXplZFtpXS51bml0XSk7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICB1bml0cyA9IG5vcm1hbGl6ZVVuaXRzKHVuaXRzKTtcbiAgICAgICAgaWYgKGlzRnVuY3Rpb24odGhpc1t1bml0c10pKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpc1t1bml0c10odmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xufVxuXG5mdW5jdGlvbiB6ZXJvRmlsbChudW1iZXIsIHRhcmdldExlbmd0aCwgZm9yY2VTaWduKSB7XG4gICAgdmFyIGFic051bWJlciA9ICcnICsgTWF0aC5hYnMobnVtYmVyKSxcbiAgICAgICAgemVyb3NUb0ZpbGwgPSB0YXJnZXRMZW5ndGggLSBhYnNOdW1iZXIubGVuZ3RoLFxuICAgICAgICBzaWduID0gbnVtYmVyID49IDA7XG4gICAgcmV0dXJuIChzaWduID8gKGZvcmNlU2lnbiA/ICcrJyA6ICcnKSA6ICctJykgK1xuICAgICAgICBNYXRoLnBvdygxMCwgTWF0aC5tYXgoMCwgemVyb3NUb0ZpbGwpKS50b1N0cmluZygpLnN1YnN0cigxKSArIGFic051bWJlcjtcbn1cblxudmFyIGZvcm1hdHRpbmdUb2tlbnMgPSAvKFxcW1teXFxbXSpcXF0pfChcXFxcKT8oW0hoXW1tKHNzKT98TW98TU0/TT9NP3xEb3xERERvfEREP0Q/RD98ZGRkP2Q/fGRvP3x3W298d10/fFdbb3xXXT98UW8/fFlZWVlZWXxZWVlZWXxZWVlZfFlZfGdnKGdnZz8pP3xHRyhHR0c/KT98ZXxFfGF8QXxoaD98SEg/fGtrP3xtbT98c3M/fFN7MSw5fXx4fFh8eno/fFpaP3wuKS9nO1xuXG52YXIgbG9jYWxGb3JtYXR0aW5nVG9rZW5zID0gLyhcXFtbXlxcW10qXFxdKXwoXFxcXCk/KExUU3xMVHxMTD9MP0w/fGx7MSw0fSkvZztcblxudmFyIGZvcm1hdEZ1bmN0aW9ucyA9IHt9O1xuXG52YXIgZm9ybWF0VG9rZW5GdW5jdGlvbnMgPSB7fTtcblxuLy8gdG9rZW46ICAgICdNJ1xuLy8gcGFkZGVkOiAgIFsnTU0nLCAyXVxuLy8gb3JkaW5hbDogICdNbydcbi8vIGNhbGxiYWNrOiBmdW5jdGlvbiAoKSB7IHRoaXMubW9udGgoKSArIDEgfVxuZnVuY3Rpb24gYWRkRm9ybWF0VG9rZW4gKHRva2VuLCBwYWRkZWQsIG9yZGluYWwsIGNhbGxiYWNrKSB7XG4gICAgdmFyIGZ1bmMgPSBjYWxsYmFjaztcbiAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnc3RyaW5nJykge1xuICAgICAgICBmdW5jID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXNbY2FsbGJhY2tdKCk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIGlmICh0b2tlbikge1xuICAgICAgICBmb3JtYXRUb2tlbkZ1bmN0aW9uc1t0b2tlbl0gPSBmdW5jO1xuICAgIH1cbiAgICBpZiAocGFkZGVkKSB7XG4gICAgICAgIGZvcm1hdFRva2VuRnVuY3Rpb25zW3BhZGRlZFswXV0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gemVyb0ZpbGwoZnVuYy5hcHBseSh0aGlzLCBhcmd1bWVudHMpLCBwYWRkZWRbMV0sIHBhZGRlZFsyXSk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIGlmIChvcmRpbmFsKSB7XG4gICAgICAgIGZvcm1hdFRva2VuRnVuY3Rpb25zW29yZGluYWxdID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLm9yZGluYWwoZnVuYy5hcHBseSh0aGlzLCBhcmd1bWVudHMpLCB0b2tlbik7XG4gICAgICAgIH07XG4gICAgfVxufVxuXG5mdW5jdGlvbiByZW1vdmVGb3JtYXR0aW5nVG9rZW5zKGlucHV0KSB7XG4gICAgaWYgKGlucHV0Lm1hdGNoKC9cXFtbXFxzXFxTXS8pKSB7XG4gICAgICAgIHJldHVybiBpbnB1dC5yZXBsYWNlKC9eXFxbfFxcXSQvZywgJycpO1xuICAgIH1cbiAgICByZXR1cm4gaW5wdXQucmVwbGFjZSgvXFxcXC9nLCAnJyk7XG59XG5cbmZ1bmN0aW9uIG1ha2VGb3JtYXRGdW5jdGlvbihmb3JtYXQpIHtcbiAgICB2YXIgYXJyYXkgPSBmb3JtYXQubWF0Y2goZm9ybWF0dGluZ1Rva2VucyksIGksIGxlbmd0aDtcblxuICAgIGZvciAoaSA9IDAsIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChmb3JtYXRUb2tlbkZ1bmN0aW9uc1thcnJheVtpXV0pIHtcbiAgICAgICAgICAgIGFycmF5W2ldID0gZm9ybWF0VG9rZW5GdW5jdGlvbnNbYXJyYXlbaV1dO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYXJyYXlbaV0gPSByZW1vdmVGb3JtYXR0aW5nVG9rZW5zKGFycmF5W2ldKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBmdW5jdGlvbiAobW9tKSB7XG4gICAgICAgIHZhciBvdXRwdXQgPSAnJywgaTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBvdXRwdXQgKz0gYXJyYXlbaV0gaW5zdGFuY2VvZiBGdW5jdGlvbiA/IGFycmF5W2ldLmNhbGwobW9tLCBmb3JtYXQpIDogYXJyYXlbaV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG91dHB1dDtcbiAgICB9O1xufVxuXG4vLyBmb3JtYXQgZGF0ZSB1c2luZyBuYXRpdmUgZGF0ZSBvYmplY3RcbmZ1bmN0aW9uIGZvcm1hdE1vbWVudChtLCBmb3JtYXQpIHtcbiAgICBpZiAoIW0uaXNWYWxpZCgpKSB7XG4gICAgICAgIHJldHVybiBtLmxvY2FsZURhdGEoKS5pbnZhbGlkRGF0ZSgpO1xuICAgIH1cblxuICAgIGZvcm1hdCA9IGV4cGFuZEZvcm1hdChmb3JtYXQsIG0ubG9jYWxlRGF0YSgpKTtcbiAgICBmb3JtYXRGdW5jdGlvbnNbZm9ybWF0XSA9IGZvcm1hdEZ1bmN0aW9uc1tmb3JtYXRdIHx8IG1ha2VGb3JtYXRGdW5jdGlvbihmb3JtYXQpO1xuXG4gICAgcmV0dXJuIGZvcm1hdEZ1bmN0aW9uc1tmb3JtYXRdKG0pO1xufVxuXG5mdW5jdGlvbiBleHBhbmRGb3JtYXQoZm9ybWF0LCBsb2NhbGUpIHtcbiAgICB2YXIgaSA9IDU7XG5cbiAgICBmdW5jdGlvbiByZXBsYWNlTG9uZ0RhdGVGb3JtYXRUb2tlbnMoaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIGxvY2FsZS5sb25nRGF0ZUZvcm1hdChpbnB1dCkgfHwgaW5wdXQ7XG4gICAgfVxuXG4gICAgbG9jYWxGb3JtYXR0aW5nVG9rZW5zLmxhc3RJbmRleCA9IDA7XG4gICAgd2hpbGUgKGkgPj0gMCAmJiBsb2NhbEZvcm1hdHRpbmdUb2tlbnMudGVzdChmb3JtYXQpKSB7XG4gICAgICAgIGZvcm1hdCA9IGZvcm1hdC5yZXBsYWNlKGxvY2FsRm9ybWF0dGluZ1Rva2VucywgcmVwbGFjZUxvbmdEYXRlRm9ybWF0VG9rZW5zKTtcbiAgICAgICAgbG9jYWxGb3JtYXR0aW5nVG9rZW5zLmxhc3RJbmRleCA9IDA7XG4gICAgICAgIGkgLT0gMTtcbiAgICB9XG5cbiAgICByZXR1cm4gZm9ybWF0O1xufVxuXG52YXIgbWF0Y2gxICAgICAgICAgPSAvXFxkLzsgICAgICAgICAgICAvLyAgICAgICAwIC0gOVxudmFyIG1hdGNoMiAgICAgICAgID0gL1xcZFxcZC87ICAgICAgICAgIC8vICAgICAgMDAgLSA5OVxudmFyIG1hdGNoMyAgICAgICAgID0gL1xcZHszfS87ICAgICAgICAgLy8gICAgIDAwMCAtIDk5OVxudmFyIG1hdGNoNCAgICAgICAgID0gL1xcZHs0fS87ICAgICAgICAgLy8gICAgMDAwMCAtIDk5OTlcbnZhciBtYXRjaDYgICAgICAgICA9IC9bKy1dP1xcZHs2fS87ICAgIC8vIC05OTk5OTkgLSA5OTk5OTlcbnZhciBtYXRjaDF0bzIgICAgICA9IC9cXGRcXGQ/LzsgICAgICAgICAvLyAgICAgICAwIC0gOTlcbnZhciBtYXRjaDN0bzQgICAgICA9IC9cXGRcXGRcXGRcXGQ/LzsgICAgIC8vICAgICA5OTkgLSA5OTk5XG52YXIgbWF0Y2g1dG82ICAgICAgPSAvXFxkXFxkXFxkXFxkXFxkXFxkPy87IC8vICAgOTk5OTkgLSA5OTk5OTlcbnZhciBtYXRjaDF0bzMgICAgICA9IC9cXGR7MSwzfS87ICAgICAgIC8vICAgICAgIDAgLSA5OTlcbnZhciBtYXRjaDF0bzQgICAgICA9IC9cXGR7MSw0fS87ICAgICAgIC8vICAgICAgIDAgLSA5OTk5XG52YXIgbWF0Y2gxdG82ICAgICAgPSAvWystXT9cXGR7MSw2fS87ICAvLyAtOTk5OTk5IC0gOTk5OTk5XG5cbnZhciBtYXRjaFVuc2lnbmVkICA9IC9cXGQrLzsgICAgICAgICAgIC8vICAgICAgIDAgLSBpbmZcbnZhciBtYXRjaFNpZ25lZCAgICA9IC9bKy1dP1xcZCsvOyAgICAgIC8vICAgIC1pbmYgLSBpbmZcblxudmFyIG1hdGNoT2Zmc2V0ICAgID0gL1p8WystXVxcZFxcZDo/XFxkXFxkL2dpOyAvLyArMDA6MDAgLTAwOjAwICswMDAwIC0wMDAwIG9yIFpcbnZhciBtYXRjaFNob3J0T2Zmc2V0ID0gL1p8WystXVxcZFxcZCg/Ojo/XFxkXFxkKT8vZ2k7IC8vICswMCAtMDAgKzAwOjAwIC0wMDowMCArMDAwMCAtMDAwMCBvciBaXG5cbnZhciBtYXRjaFRpbWVzdGFtcCA9IC9bKy1dP1xcZCsoXFwuXFxkezEsM30pPy87IC8vIDEyMzQ1Njc4OSAxMjM0NTY3ODkuMTIzXG5cbi8vIGFueSB3b3JkIChvciB0d28pIGNoYXJhY3RlcnMgb3IgbnVtYmVycyBpbmNsdWRpbmcgdHdvL3RocmVlIHdvcmQgbW9udGggaW4gYXJhYmljLlxuLy8gaW5jbHVkZXMgc2NvdHRpc2ggZ2FlbGljIHR3byB3b3JkIGFuZCBoeXBoZW5hdGVkIG1vbnRoc1xudmFyIG1hdGNoV29yZCA9IC9bMC05XSpbJ2EtelxcdTAwQTAtXFx1MDVGRlxcdTA3MDAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0rfFtcXHUwNjAwLVxcdTA2RkZcXC9dKyhcXHMqP1tcXHUwNjAwLVxcdTA2RkZdKyl7MSwyfS9pO1xuXG5cbnZhciByZWdleGVzID0ge307XG5cbmZ1bmN0aW9uIGFkZFJlZ2V4VG9rZW4gKHRva2VuLCByZWdleCwgc3RyaWN0UmVnZXgpIHtcbiAgICByZWdleGVzW3Rva2VuXSA9IGlzRnVuY3Rpb24ocmVnZXgpID8gcmVnZXggOiBmdW5jdGlvbiAoaXNTdHJpY3QsIGxvY2FsZURhdGEpIHtcbiAgICAgICAgcmV0dXJuIChpc1N0cmljdCAmJiBzdHJpY3RSZWdleCkgPyBzdHJpY3RSZWdleCA6IHJlZ2V4O1xuICAgIH07XG59XG5cbmZ1bmN0aW9uIGdldFBhcnNlUmVnZXhGb3JUb2tlbiAodG9rZW4sIGNvbmZpZykge1xuICAgIGlmICghaGFzT3duUHJvcChyZWdleGVzLCB0b2tlbikpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSZWdFeHAodW5lc2NhcGVGb3JtYXQodG9rZW4pKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVnZXhlc1t0b2tlbl0oY29uZmlnLl9zdHJpY3QsIGNvbmZpZy5fbG9jYWxlKTtcbn1cblxuLy8gQ29kZSBmcm9tIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMzU2MTQ5My9pcy10aGVyZS1hLXJlZ2V4cC1lc2NhcGUtZnVuY3Rpb24taW4tamF2YXNjcmlwdFxuZnVuY3Rpb24gdW5lc2NhcGVGb3JtYXQocykge1xuICAgIHJldHVybiByZWdleEVzY2FwZShzLnJlcGxhY2UoJ1xcXFwnLCAnJykucmVwbGFjZSgvXFxcXChcXFspfFxcXFwoXFxdKXxcXFsoW15cXF1cXFtdKilcXF18XFxcXCguKS9nLCBmdW5jdGlvbiAobWF0Y2hlZCwgcDEsIHAyLCBwMywgcDQpIHtcbiAgICAgICAgcmV0dXJuIHAxIHx8IHAyIHx8IHAzIHx8IHA0O1xuICAgIH0pKTtcbn1cblxuZnVuY3Rpb24gcmVnZXhFc2NhcGUocykge1xuICAgIHJldHVybiBzLnJlcGxhY2UoL1stXFwvXFxcXF4kKis/LigpfFtcXF17fV0vZywgJ1xcXFwkJicpO1xufVxuXG52YXIgdG9rZW5zID0ge307XG5cbmZ1bmN0aW9uIGFkZFBhcnNlVG9rZW4gKHRva2VuLCBjYWxsYmFjaykge1xuICAgIHZhciBpLCBmdW5jID0gY2FsbGJhY2s7XG4gICAgaWYgKHR5cGVvZiB0b2tlbiA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgdG9rZW4gPSBbdG9rZW5dO1xuICAgIH1cbiAgICBpZiAoaXNOdW1iZXIoY2FsbGJhY2spKSB7XG4gICAgICAgIGZ1bmMgPSBmdW5jdGlvbiAoaW5wdXQsIGFycmF5KSB7XG4gICAgICAgICAgICBhcnJheVtjYWxsYmFja10gPSB0b0ludChpbnB1dCk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIGZvciAoaSA9IDA7IGkgPCB0b2tlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICB0b2tlbnNbdG9rZW5baV1dID0gZnVuYztcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGFkZFdlZWtQYXJzZVRva2VuICh0b2tlbiwgY2FsbGJhY2spIHtcbiAgICBhZGRQYXJzZVRva2VuKHRva2VuLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcsIHRva2VuKSB7XG4gICAgICAgIGNvbmZpZy5fdyA9IGNvbmZpZy5fdyB8fCB7fTtcbiAgICAgICAgY2FsbGJhY2soaW5wdXQsIGNvbmZpZy5fdywgY29uZmlnLCB0b2tlbik7XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIGFkZFRpbWVUb0FycmF5RnJvbVRva2VuKHRva2VuLCBpbnB1dCwgY29uZmlnKSB7XG4gICAgaWYgKGlucHV0ICE9IG51bGwgJiYgaGFzT3duUHJvcCh0b2tlbnMsIHRva2VuKSkge1xuICAgICAgICB0b2tlbnNbdG9rZW5dKGlucHV0LCBjb25maWcuX2EsIGNvbmZpZywgdG9rZW4pO1xuICAgIH1cbn1cblxudmFyIFlFQVIgPSAwO1xudmFyIE1PTlRIID0gMTtcbnZhciBEQVRFID0gMjtcbnZhciBIT1VSID0gMztcbnZhciBNSU5VVEUgPSA0O1xudmFyIFNFQ09ORCA9IDU7XG52YXIgTUlMTElTRUNPTkQgPSA2O1xudmFyIFdFRUsgPSA3O1xudmFyIFdFRUtEQVkgPSA4O1xuXG52YXIgaW5kZXhPZjtcblxuaWYgKEFycmF5LnByb3RvdHlwZS5pbmRleE9mKSB7XG4gICAgaW5kZXhPZiA9IEFycmF5LnByb3RvdHlwZS5pbmRleE9mO1xufSBlbHNlIHtcbiAgICBpbmRleE9mID0gZnVuY3Rpb24gKG8pIHtcbiAgICAgICAgLy8gSSBrbm93XG4gICAgICAgIHZhciBpO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgaWYgKHRoaXNbaV0gPT09IG8pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gLTE7XG4gICAgfTtcbn1cblxudmFyIGluZGV4T2YkMSA9IGluZGV4T2Y7XG5cbmZ1bmN0aW9uIGRheXNJbk1vbnRoKHllYXIsIG1vbnRoKSB7XG4gICAgcmV0dXJuIG5ldyBEYXRlKERhdGUuVVRDKHllYXIsIG1vbnRoICsgMSwgMCkpLmdldFVUQ0RhdGUoKTtcbn1cblxuLy8gRk9STUFUVElOR1xuXG5hZGRGb3JtYXRUb2tlbignTScsIFsnTU0nLCAyXSwgJ01vJywgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLm1vbnRoKCkgKyAxO1xufSk7XG5cbmFkZEZvcm1hdFRva2VuKCdNTU0nLCAwLCAwLCBmdW5jdGlvbiAoZm9ybWF0KSB7XG4gICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLm1vbnRoc1Nob3J0KHRoaXMsIGZvcm1hdCk7XG59KTtcblxuYWRkRm9ybWF0VG9rZW4oJ01NTU0nLCAwLCAwLCBmdW5jdGlvbiAoZm9ybWF0KSB7XG4gICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLm1vbnRocyh0aGlzLCBmb3JtYXQpO1xufSk7XG5cbi8vIEFMSUFTRVNcblxuYWRkVW5pdEFsaWFzKCdtb250aCcsICdNJyk7XG5cbi8vIFBSSU9SSVRZXG5cbmFkZFVuaXRQcmlvcml0eSgnbW9udGgnLCA4KTtcblxuLy8gUEFSU0lOR1xuXG5hZGRSZWdleFRva2VuKCdNJywgICAgbWF0Y2gxdG8yKTtcbmFkZFJlZ2V4VG9rZW4oJ01NJywgICBtYXRjaDF0bzIsIG1hdGNoMik7XG5hZGRSZWdleFRva2VuKCdNTU0nLCAgZnVuY3Rpb24gKGlzU3RyaWN0LCBsb2NhbGUpIHtcbiAgICByZXR1cm4gbG9jYWxlLm1vbnRoc1Nob3J0UmVnZXgoaXNTdHJpY3QpO1xufSk7XG5hZGRSZWdleFRva2VuKCdNTU1NJywgZnVuY3Rpb24gKGlzU3RyaWN0LCBsb2NhbGUpIHtcbiAgICByZXR1cm4gbG9jYWxlLm1vbnRoc1JlZ2V4KGlzU3RyaWN0KTtcbn0pO1xuXG5hZGRQYXJzZVRva2VuKFsnTScsICdNTSddLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5KSB7XG4gICAgYXJyYXlbTU9OVEhdID0gdG9JbnQoaW5wdXQpIC0gMTtcbn0pO1xuXG5hZGRQYXJzZVRva2VuKFsnTU1NJywgJ01NTU0nXSwgZnVuY3Rpb24gKGlucHV0LCBhcnJheSwgY29uZmlnLCB0b2tlbikge1xuICAgIHZhciBtb250aCA9IGNvbmZpZy5fbG9jYWxlLm1vbnRoc1BhcnNlKGlucHV0LCB0b2tlbiwgY29uZmlnLl9zdHJpY3QpO1xuICAgIC8vIGlmIHdlIGRpZG4ndCBmaW5kIGEgbW9udGggbmFtZSwgbWFyayB0aGUgZGF0ZSBhcyBpbnZhbGlkLlxuICAgIGlmIChtb250aCAhPSBudWxsKSB7XG4gICAgICAgIGFycmF5W01PTlRIXSA9IG1vbnRoO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmludmFsaWRNb250aCA9IGlucHV0O1xuICAgIH1cbn0pO1xuXG4vLyBMT0NBTEVTXG5cbnZhciBNT05USFNfSU5fRk9STUFUID0gL0Rbb0RdPyhcXFtbXlxcW1xcXV0qXFxdfFxccykrTU1NTT8vO1xudmFyIGRlZmF1bHRMb2NhbGVNb250aHMgPSAnSmFudWFyeV9GZWJydWFyeV9NYXJjaF9BcHJpbF9NYXlfSnVuZV9KdWx5X0F1Z3VzdF9TZXB0ZW1iZXJfT2N0b2Jlcl9Ob3ZlbWJlcl9EZWNlbWJlcicuc3BsaXQoJ18nKTtcbmZ1bmN0aW9uIGxvY2FsZU1vbnRocyAobSwgZm9ybWF0KSB7XG4gICAgaWYgKCFtKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tb250aHM7XG4gICAgfVxuICAgIHJldHVybiBpc0FycmF5KHRoaXMuX21vbnRocykgPyB0aGlzLl9tb250aHNbbS5tb250aCgpXSA6XG4gICAgICAgIHRoaXMuX21vbnRoc1sodGhpcy5fbW9udGhzLmlzRm9ybWF0IHx8IE1PTlRIU19JTl9GT1JNQVQpLnRlc3QoZm9ybWF0KSA/ICdmb3JtYXQnIDogJ3N0YW5kYWxvbmUnXVttLm1vbnRoKCldO1xufVxuXG52YXIgZGVmYXVsdExvY2FsZU1vbnRoc1Nob3J0ID0gJ0phbl9GZWJfTWFyX0Fwcl9NYXlfSnVuX0p1bF9BdWdfU2VwX09jdF9Ob3ZfRGVjJy5zcGxpdCgnXycpO1xuZnVuY3Rpb24gbG9jYWxlTW9udGhzU2hvcnQgKG0sIGZvcm1hdCkge1xuICAgIGlmICghbSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbW9udGhzU2hvcnQ7XG4gICAgfVxuICAgIHJldHVybiBpc0FycmF5KHRoaXMuX21vbnRoc1Nob3J0KSA/IHRoaXMuX21vbnRoc1Nob3J0W20ubW9udGgoKV0gOlxuICAgICAgICB0aGlzLl9tb250aHNTaG9ydFtNT05USFNfSU5fRk9STUFULnRlc3QoZm9ybWF0KSA/ICdmb3JtYXQnIDogJ3N0YW5kYWxvbmUnXVttLm1vbnRoKCldO1xufVxuXG5mdW5jdGlvbiBoYW5kbGVTdHJpY3RQYXJzZShtb250aE5hbWUsIGZvcm1hdCwgc3RyaWN0KSB7XG4gICAgdmFyIGksIGlpLCBtb20sIGxsYyA9IG1vbnRoTmFtZS50b0xvY2FsZUxvd2VyQ2FzZSgpO1xuICAgIGlmICghdGhpcy5fbW9udGhzUGFyc2UpIHtcbiAgICAgICAgLy8gdGhpcyBpcyBub3QgdXNlZFxuICAgICAgICB0aGlzLl9tb250aHNQYXJzZSA9IFtdO1xuICAgICAgICB0aGlzLl9sb25nTW9udGhzUGFyc2UgPSBbXTtcbiAgICAgICAgdGhpcy5fc2hvcnRNb250aHNQYXJzZSA9IFtdO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgMTI7ICsraSkge1xuICAgICAgICAgICAgbW9tID0gY3JlYXRlVVRDKFsyMDAwLCBpXSk7XG4gICAgICAgICAgICB0aGlzLl9zaG9ydE1vbnRoc1BhcnNlW2ldID0gdGhpcy5tb250aHNTaG9ydChtb20sICcnKS50b0xvY2FsZUxvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgdGhpcy5fbG9uZ01vbnRoc1BhcnNlW2ldID0gdGhpcy5tb250aHMobW9tLCAnJykudG9Mb2NhbGVMb3dlckNhc2UoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmIChzdHJpY3QpIHtcbiAgICAgICAgaWYgKGZvcm1hdCA9PT0gJ01NTScpIHtcbiAgICAgICAgICAgIGlpID0gaW5kZXhPZiQxLmNhbGwodGhpcy5fc2hvcnRNb250aHNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgIHJldHVybiBpaSAhPT0gLTEgPyBpaSA6IG51bGw7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpaSA9IGluZGV4T2YkMS5jYWxsKHRoaXMuX2xvbmdNb250aHNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgIHJldHVybiBpaSAhPT0gLTEgPyBpaSA6IG51bGw7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoZm9ybWF0ID09PSAnTU1NJykge1xuICAgICAgICAgICAgaWkgPSBpbmRleE9mJDEuY2FsbCh0aGlzLl9zaG9ydE1vbnRoc1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgaWYgKGlpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlpID0gaW5kZXhPZiQxLmNhbGwodGhpcy5fbG9uZ01vbnRoc1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgcmV0dXJuIGlpICE9PSAtMSA/IGlpIDogbnVsbDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlpID0gaW5kZXhPZiQxLmNhbGwodGhpcy5fbG9uZ01vbnRoc1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgaWYgKGlpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlpID0gaW5kZXhPZiQxLmNhbGwodGhpcy5fc2hvcnRNb250aHNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgIHJldHVybiBpaSAhPT0gLTEgPyBpaSA6IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIGxvY2FsZU1vbnRoc1BhcnNlIChtb250aE5hbWUsIGZvcm1hdCwgc3RyaWN0KSB7XG4gICAgdmFyIGksIG1vbSwgcmVnZXg7XG5cbiAgICBpZiAodGhpcy5fbW9udGhzUGFyc2VFeGFjdCkge1xuICAgICAgICByZXR1cm4gaGFuZGxlU3RyaWN0UGFyc2UuY2FsbCh0aGlzLCBtb250aE5hbWUsIGZvcm1hdCwgc3RyaWN0KTtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuX21vbnRoc1BhcnNlKSB7XG4gICAgICAgIHRoaXMuX21vbnRoc1BhcnNlID0gW107XG4gICAgICAgIHRoaXMuX2xvbmdNb250aHNQYXJzZSA9IFtdO1xuICAgICAgICB0aGlzLl9zaG9ydE1vbnRoc1BhcnNlID0gW107XG4gICAgfVxuXG4gICAgLy8gVE9ETzogYWRkIHNvcnRpbmdcbiAgICAvLyBTb3J0aW5nIG1ha2VzIHN1cmUgaWYgb25lIG1vbnRoIChvciBhYmJyKSBpcyBhIHByZWZpeCBvZiBhbm90aGVyXG4gICAgLy8gc2VlIHNvcnRpbmcgaW4gY29tcHV0ZU1vbnRoc1BhcnNlXG4gICAgZm9yIChpID0gMDsgaSA8IDEyOyBpKyspIHtcbiAgICAgICAgLy8gbWFrZSB0aGUgcmVnZXggaWYgd2UgZG9uJ3QgaGF2ZSBpdCBhbHJlYWR5XG4gICAgICAgIG1vbSA9IGNyZWF0ZVVUQyhbMjAwMCwgaV0pO1xuICAgICAgICBpZiAoc3RyaWN0ICYmICF0aGlzLl9sb25nTW9udGhzUGFyc2VbaV0pIHtcbiAgICAgICAgICAgIHRoaXMuX2xvbmdNb250aHNQYXJzZVtpXSA9IG5ldyBSZWdFeHAoJ14nICsgdGhpcy5tb250aHMobW9tLCAnJykucmVwbGFjZSgnLicsICcnKSArICckJywgJ2knKTtcbiAgICAgICAgICAgIHRoaXMuX3Nob3J0TW9udGhzUGFyc2VbaV0gPSBuZXcgUmVnRXhwKCdeJyArIHRoaXMubW9udGhzU2hvcnQobW9tLCAnJykucmVwbGFjZSgnLicsICcnKSArICckJywgJ2knKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXN0cmljdCAmJiAhdGhpcy5fbW9udGhzUGFyc2VbaV0pIHtcbiAgICAgICAgICAgIHJlZ2V4ID0gJ14nICsgdGhpcy5tb250aHMobW9tLCAnJykgKyAnfF4nICsgdGhpcy5tb250aHNTaG9ydChtb20sICcnKTtcbiAgICAgICAgICAgIHRoaXMuX21vbnRoc1BhcnNlW2ldID0gbmV3IFJlZ0V4cChyZWdleC5yZXBsYWNlKCcuJywgJycpLCAnaScpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHRlc3QgdGhlIHJlZ2V4XG4gICAgICAgIGlmIChzdHJpY3QgJiYgZm9ybWF0ID09PSAnTU1NTScgJiYgdGhpcy5fbG9uZ01vbnRoc1BhcnNlW2ldLnRlc3QobW9udGhOYW1lKSkge1xuICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgIH0gZWxzZSBpZiAoc3RyaWN0ICYmIGZvcm1hdCA9PT0gJ01NTScgJiYgdGhpcy5fc2hvcnRNb250aHNQYXJzZVtpXS50ZXN0KG1vbnRoTmFtZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICB9IGVsc2UgaWYgKCFzdHJpY3QgJiYgdGhpcy5fbW9udGhzUGFyc2VbaV0udGVzdChtb250aE5hbWUpKSB7XG4gICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLy8gTU9NRU5UU1xuXG5mdW5jdGlvbiBzZXRNb250aCAobW9tLCB2YWx1ZSkge1xuICAgIHZhciBkYXlPZk1vbnRoO1xuXG4gICAgaWYgKCFtb20uaXNWYWxpZCgpKSB7XG4gICAgICAgIC8vIE5vIG9wXG4gICAgICAgIHJldHVybiBtb207XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgaWYgKC9eXFxkKyQvLnRlc3QodmFsdWUpKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IHRvSW50KHZhbHVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhbHVlID0gbW9tLmxvY2FsZURhdGEoKS5tb250aHNQYXJzZSh2YWx1ZSk7XG4gICAgICAgICAgICAvLyBUT0RPOiBBbm90aGVyIHNpbGVudCBmYWlsdXJlP1xuICAgICAgICAgICAgaWYgKCFpc051bWJlcih2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbW9tO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZGF5T2ZNb250aCA9IE1hdGgubWluKG1vbS5kYXRlKCksIGRheXNJbk1vbnRoKG1vbS55ZWFyKCksIHZhbHVlKSk7XG4gICAgbW9tLl9kWydzZXQnICsgKG1vbS5faXNVVEMgPyAnVVRDJyA6ICcnKSArICdNb250aCddKHZhbHVlLCBkYXlPZk1vbnRoKTtcbiAgICByZXR1cm4gbW9tO1xufVxuXG5mdW5jdGlvbiBnZXRTZXRNb250aCAodmFsdWUpIHtcbiAgICBpZiAodmFsdWUgIT0gbnVsbCkge1xuICAgICAgICBzZXRNb250aCh0aGlzLCB2YWx1ZSk7XG4gICAgICAgIGhvb2tzLnVwZGF0ZU9mZnNldCh0aGlzLCB0cnVlKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGdldCh0aGlzLCAnTW9udGgnKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGdldERheXNJbk1vbnRoICgpIHtcbiAgICByZXR1cm4gZGF5c0luTW9udGgodGhpcy55ZWFyKCksIHRoaXMubW9udGgoKSk7XG59XG5cbnZhciBkZWZhdWx0TW9udGhzU2hvcnRSZWdleCA9IG1hdGNoV29yZDtcbmZ1bmN0aW9uIG1vbnRoc1Nob3J0UmVnZXggKGlzU3RyaWN0KSB7XG4gICAgaWYgKHRoaXMuX21vbnRoc1BhcnNlRXhhY3QpIHtcbiAgICAgICAgaWYgKCFoYXNPd25Qcm9wKHRoaXMsICdfbW9udGhzUmVnZXgnKSkge1xuICAgICAgICAgICAgY29tcHV0ZU1vbnRoc1BhcnNlLmNhbGwodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzU3RyaWN0KSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbW9udGhzU2hvcnRTdHJpY3RSZWdleDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9tb250aHNTaG9ydFJlZ2V4O1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKCFoYXNPd25Qcm9wKHRoaXMsICdfbW9udGhzU2hvcnRSZWdleCcpKSB7XG4gICAgICAgICAgICB0aGlzLl9tb250aHNTaG9ydFJlZ2V4ID0gZGVmYXVsdE1vbnRoc1Nob3J0UmVnZXg7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX21vbnRoc1Nob3J0U3RyaWN0UmVnZXggJiYgaXNTdHJpY3QgP1xuICAgICAgICAgICAgdGhpcy5fbW9udGhzU2hvcnRTdHJpY3RSZWdleCA6IHRoaXMuX21vbnRoc1Nob3J0UmVnZXg7XG4gICAgfVxufVxuXG52YXIgZGVmYXVsdE1vbnRoc1JlZ2V4ID0gbWF0Y2hXb3JkO1xuZnVuY3Rpb24gbW9udGhzUmVnZXggKGlzU3RyaWN0KSB7XG4gICAgaWYgKHRoaXMuX21vbnRoc1BhcnNlRXhhY3QpIHtcbiAgICAgICAgaWYgKCFoYXNPd25Qcm9wKHRoaXMsICdfbW9udGhzUmVnZXgnKSkge1xuICAgICAgICAgICAgY29tcHV0ZU1vbnRoc1BhcnNlLmNhbGwodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzU3RyaWN0KSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbW9udGhzU3RyaWN0UmVnZXg7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbW9udGhzUmVnZXg7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoIWhhc093blByb3AodGhpcywgJ19tb250aHNSZWdleCcpKSB7XG4gICAgICAgICAgICB0aGlzLl9tb250aHNSZWdleCA9IGRlZmF1bHRNb250aHNSZWdleDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fbW9udGhzU3RyaWN0UmVnZXggJiYgaXNTdHJpY3QgP1xuICAgICAgICAgICAgdGhpcy5fbW9udGhzU3RyaWN0UmVnZXggOiB0aGlzLl9tb250aHNSZWdleDtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGNvbXB1dGVNb250aHNQYXJzZSAoKSB7XG4gICAgZnVuY3Rpb24gY21wTGVuUmV2KGEsIGIpIHtcbiAgICAgICAgcmV0dXJuIGIubGVuZ3RoIC0gYS5sZW5ndGg7XG4gICAgfVxuXG4gICAgdmFyIHNob3J0UGllY2VzID0gW10sIGxvbmdQaWVjZXMgPSBbXSwgbWl4ZWRQaWVjZXMgPSBbXSxcbiAgICAgICAgaSwgbW9tO1xuICAgIGZvciAoaSA9IDA7IGkgPCAxMjsgaSsrKSB7XG4gICAgICAgIC8vIG1ha2UgdGhlIHJlZ2V4IGlmIHdlIGRvbid0IGhhdmUgaXQgYWxyZWFkeVxuICAgICAgICBtb20gPSBjcmVhdGVVVEMoWzIwMDAsIGldKTtcbiAgICAgICAgc2hvcnRQaWVjZXMucHVzaCh0aGlzLm1vbnRoc1Nob3J0KG1vbSwgJycpKTtcbiAgICAgICAgbG9uZ1BpZWNlcy5wdXNoKHRoaXMubW9udGhzKG1vbSwgJycpKTtcbiAgICAgICAgbWl4ZWRQaWVjZXMucHVzaCh0aGlzLm1vbnRocyhtb20sICcnKSk7XG4gICAgICAgIG1peGVkUGllY2VzLnB1c2godGhpcy5tb250aHNTaG9ydChtb20sICcnKSk7XG4gICAgfVxuICAgIC8vIFNvcnRpbmcgbWFrZXMgc3VyZSBpZiBvbmUgbW9udGggKG9yIGFiYnIpIGlzIGEgcHJlZml4IG9mIGFub3RoZXIgaXRcbiAgICAvLyB3aWxsIG1hdGNoIHRoZSBsb25nZXIgcGllY2UuXG4gICAgc2hvcnRQaWVjZXMuc29ydChjbXBMZW5SZXYpO1xuICAgIGxvbmdQaWVjZXMuc29ydChjbXBMZW5SZXYpO1xuICAgIG1peGVkUGllY2VzLnNvcnQoY21wTGVuUmV2KTtcbiAgICBmb3IgKGkgPSAwOyBpIDwgMTI7IGkrKykge1xuICAgICAgICBzaG9ydFBpZWNlc1tpXSA9IHJlZ2V4RXNjYXBlKHNob3J0UGllY2VzW2ldKTtcbiAgICAgICAgbG9uZ1BpZWNlc1tpXSA9IHJlZ2V4RXNjYXBlKGxvbmdQaWVjZXNbaV0pO1xuICAgIH1cbiAgICBmb3IgKGkgPSAwOyBpIDwgMjQ7IGkrKykge1xuICAgICAgICBtaXhlZFBpZWNlc1tpXSA9IHJlZ2V4RXNjYXBlKG1peGVkUGllY2VzW2ldKTtcbiAgICB9XG5cbiAgICB0aGlzLl9tb250aHNSZWdleCA9IG5ldyBSZWdFeHAoJ14oJyArIG1peGVkUGllY2VzLmpvaW4oJ3wnKSArICcpJywgJ2knKTtcbiAgICB0aGlzLl9tb250aHNTaG9ydFJlZ2V4ID0gdGhpcy5fbW9udGhzUmVnZXg7XG4gICAgdGhpcy5fbW9udGhzU3RyaWN0UmVnZXggPSBuZXcgUmVnRXhwKCdeKCcgKyBsb25nUGllY2VzLmpvaW4oJ3wnKSArICcpJywgJ2knKTtcbiAgICB0aGlzLl9tb250aHNTaG9ydFN0cmljdFJlZ2V4ID0gbmV3IFJlZ0V4cCgnXignICsgc2hvcnRQaWVjZXMuam9pbignfCcpICsgJyknLCAnaScpO1xufVxuXG4vLyBGT1JNQVRUSU5HXG5cbmFkZEZvcm1hdFRva2VuKCdZJywgMCwgMCwgZnVuY3Rpb24gKCkge1xuICAgIHZhciB5ID0gdGhpcy55ZWFyKCk7XG4gICAgcmV0dXJuIHkgPD0gOTk5OSA/ICcnICsgeSA6ICcrJyArIHk7XG59KTtcblxuYWRkRm9ybWF0VG9rZW4oMCwgWydZWScsIDJdLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMueWVhcigpICUgMTAwO1xufSk7XG5cbmFkZEZvcm1hdFRva2VuKDAsIFsnWVlZWScsICAgNF0sICAgICAgIDAsICd5ZWFyJyk7XG5hZGRGb3JtYXRUb2tlbigwLCBbJ1lZWVlZJywgIDVdLCAgICAgICAwLCAneWVhcicpO1xuYWRkRm9ybWF0VG9rZW4oMCwgWydZWVlZWVknLCA2LCB0cnVlXSwgMCwgJ3llYXInKTtcblxuLy8gQUxJQVNFU1xuXG5hZGRVbml0QWxpYXMoJ3llYXInLCAneScpO1xuXG4vLyBQUklPUklUSUVTXG5cbmFkZFVuaXRQcmlvcml0eSgneWVhcicsIDEpO1xuXG4vLyBQQVJTSU5HXG5cbmFkZFJlZ2V4VG9rZW4oJ1knLCAgICAgIG1hdGNoU2lnbmVkKTtcbmFkZFJlZ2V4VG9rZW4oJ1lZJywgICAgIG1hdGNoMXRvMiwgbWF0Y2gyKTtcbmFkZFJlZ2V4VG9rZW4oJ1lZWVknLCAgIG1hdGNoMXRvNCwgbWF0Y2g0KTtcbmFkZFJlZ2V4VG9rZW4oJ1lZWVlZJywgIG1hdGNoMXRvNiwgbWF0Y2g2KTtcbmFkZFJlZ2V4VG9rZW4oJ1lZWVlZWScsIG1hdGNoMXRvNiwgbWF0Y2g2KTtcblxuYWRkUGFyc2VUb2tlbihbJ1lZWVlZJywgJ1lZWVlZWSddLCBZRUFSKTtcbmFkZFBhcnNlVG9rZW4oJ1lZWVknLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5KSB7XG4gICAgYXJyYXlbWUVBUl0gPSBpbnB1dC5sZW5ndGggPT09IDIgPyBob29rcy5wYXJzZVR3b0RpZ2l0WWVhcihpbnB1dCkgOiB0b0ludChpbnB1dCk7XG59KTtcbmFkZFBhcnNlVG9rZW4oJ1lZJywgZnVuY3Rpb24gKGlucHV0LCBhcnJheSkge1xuICAgIGFycmF5W1lFQVJdID0gaG9va3MucGFyc2VUd29EaWdpdFllYXIoaW5wdXQpO1xufSk7XG5hZGRQYXJzZVRva2VuKCdZJywgZnVuY3Rpb24gKGlucHV0LCBhcnJheSkge1xuICAgIGFycmF5W1lFQVJdID0gcGFyc2VJbnQoaW5wdXQsIDEwKTtcbn0pO1xuXG4vLyBIRUxQRVJTXG5cbmZ1bmN0aW9uIGRheXNJblllYXIoeWVhcikge1xuICAgIHJldHVybiBpc0xlYXBZZWFyKHllYXIpID8gMzY2IDogMzY1O1xufVxuXG5mdW5jdGlvbiBpc0xlYXBZZWFyKHllYXIpIHtcbiAgICByZXR1cm4gKHllYXIgJSA0ID09PSAwICYmIHllYXIgJSAxMDAgIT09IDApIHx8IHllYXIgJSA0MDAgPT09IDA7XG59XG5cbi8vIEhPT0tTXG5cbmhvb2tzLnBhcnNlVHdvRGlnaXRZZWFyID0gZnVuY3Rpb24gKGlucHV0KSB7XG4gICAgcmV0dXJuIHRvSW50KGlucHV0KSArICh0b0ludChpbnB1dCkgPiA2OCA/IDE5MDAgOiAyMDAwKTtcbn07XG5cbi8vIE1PTUVOVFNcblxudmFyIGdldFNldFllYXIgPSBtYWtlR2V0U2V0KCdGdWxsWWVhcicsIHRydWUpO1xuXG5mdW5jdGlvbiBnZXRJc0xlYXBZZWFyICgpIHtcbiAgICByZXR1cm4gaXNMZWFwWWVhcih0aGlzLnllYXIoKSk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZURhdGUgKHksIG0sIGQsIGgsIE0sIHMsIG1zKSB7XG4gICAgLy9jYW4ndCBqdXN0IGFwcGx5KCkgdG8gY3JlYXRlIGEgZGF0ZTpcbiAgICAvL2h0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTgxMzQ4L2luc3RhbnRpYXRpbmctYS1qYXZhc2NyaXB0LW9iamVjdC1ieS1jYWxsaW5nLXByb3RvdHlwZS1jb25zdHJ1Y3Rvci1hcHBseVxuICAgIHZhciBkYXRlID0gbmV3IERhdGUoeSwgbSwgZCwgaCwgTSwgcywgbXMpO1xuXG4gICAgLy90aGUgZGF0ZSBjb25zdHJ1Y3RvciByZW1hcHMgeWVhcnMgMC05OSB0byAxOTAwLTE5OTlcbiAgICBpZiAoeSA8IDEwMCAmJiB5ID49IDAgJiYgaXNGaW5pdGUoZGF0ZS5nZXRGdWxsWWVhcigpKSkge1xuICAgICAgICBkYXRlLnNldEZ1bGxZZWFyKHkpO1xuICAgIH1cbiAgICByZXR1cm4gZGF0ZTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlVVRDRGF0ZSAoeSkge1xuICAgIHZhciBkYXRlID0gbmV3IERhdGUoRGF0ZS5VVEMuYXBwbHkobnVsbCwgYXJndW1lbnRzKSk7XG5cbiAgICAvL3RoZSBEYXRlLlVUQyBmdW5jdGlvbiByZW1hcHMgeWVhcnMgMC05OSB0byAxOTAwLTE5OTlcbiAgICBpZiAoeSA8IDEwMCAmJiB5ID49IDAgJiYgaXNGaW5pdGUoZGF0ZS5nZXRVVENGdWxsWWVhcigpKSkge1xuICAgICAgICBkYXRlLnNldFVUQ0Z1bGxZZWFyKHkpO1xuICAgIH1cbiAgICByZXR1cm4gZGF0ZTtcbn1cblxuLy8gc3RhcnQtb2YtZmlyc3Qtd2VlayAtIHN0YXJ0LW9mLXllYXJcbmZ1bmN0aW9uIGZpcnN0V2Vla09mZnNldCh5ZWFyLCBkb3csIGRveSkge1xuICAgIHZhciAvLyBmaXJzdC13ZWVrIGRheSAtLSB3aGljaCBqYW51YXJ5IGlzIGFsd2F5cyBpbiB0aGUgZmlyc3Qgd2VlayAoNCBmb3IgaXNvLCAxIGZvciBvdGhlcilcbiAgICAgICAgZndkID0gNyArIGRvdyAtIGRveSxcbiAgICAgICAgLy8gZmlyc3Qtd2VlayBkYXkgbG9jYWwgd2Vla2RheSAtLSB3aGljaCBsb2NhbCB3ZWVrZGF5IGlzIGZ3ZFxuICAgICAgICBmd2RsdyA9ICg3ICsgY3JlYXRlVVRDRGF0ZSh5ZWFyLCAwLCBmd2QpLmdldFVUQ0RheSgpIC0gZG93KSAlIDc7XG5cbiAgICByZXR1cm4gLWZ3ZGx3ICsgZndkIC0gMTtcbn1cblxuLy9odHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0lTT193ZWVrX2RhdGUjQ2FsY3VsYXRpbmdfYV9kYXRlX2dpdmVuX3RoZV95ZWFyLjJDX3dlZWtfbnVtYmVyX2FuZF93ZWVrZGF5XG5mdW5jdGlvbiBkYXlPZlllYXJGcm9tV2Vla3MoeWVhciwgd2Vlaywgd2Vla2RheSwgZG93LCBkb3kpIHtcbiAgICB2YXIgbG9jYWxXZWVrZGF5ID0gKDcgKyB3ZWVrZGF5IC0gZG93KSAlIDcsXG4gICAgICAgIHdlZWtPZmZzZXQgPSBmaXJzdFdlZWtPZmZzZXQoeWVhciwgZG93LCBkb3kpLFxuICAgICAgICBkYXlPZlllYXIgPSAxICsgNyAqICh3ZWVrIC0gMSkgKyBsb2NhbFdlZWtkYXkgKyB3ZWVrT2Zmc2V0LFxuICAgICAgICByZXNZZWFyLCByZXNEYXlPZlllYXI7XG5cbiAgICBpZiAoZGF5T2ZZZWFyIDw9IDApIHtcbiAgICAgICAgcmVzWWVhciA9IHllYXIgLSAxO1xuICAgICAgICByZXNEYXlPZlllYXIgPSBkYXlzSW5ZZWFyKHJlc1llYXIpICsgZGF5T2ZZZWFyO1xuICAgIH0gZWxzZSBpZiAoZGF5T2ZZZWFyID4gZGF5c0luWWVhcih5ZWFyKSkge1xuICAgICAgICByZXNZZWFyID0geWVhciArIDE7XG4gICAgICAgIHJlc0RheU9mWWVhciA9IGRheU9mWWVhciAtIGRheXNJblllYXIoeWVhcik7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmVzWWVhciA9IHllYXI7XG4gICAgICAgIHJlc0RheU9mWWVhciA9IGRheU9mWWVhcjtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICB5ZWFyOiByZXNZZWFyLFxuICAgICAgICBkYXlPZlllYXI6IHJlc0RheU9mWWVhclxuICAgIH07XG59XG5cbmZ1bmN0aW9uIHdlZWtPZlllYXIobW9tLCBkb3csIGRveSkge1xuICAgIHZhciB3ZWVrT2Zmc2V0ID0gZmlyc3RXZWVrT2Zmc2V0KG1vbS55ZWFyKCksIGRvdywgZG95KSxcbiAgICAgICAgd2VlayA9IE1hdGguZmxvb3IoKG1vbS5kYXlPZlllYXIoKSAtIHdlZWtPZmZzZXQgLSAxKSAvIDcpICsgMSxcbiAgICAgICAgcmVzV2VlaywgcmVzWWVhcjtcblxuICAgIGlmICh3ZWVrIDwgMSkge1xuICAgICAgICByZXNZZWFyID0gbW9tLnllYXIoKSAtIDE7XG4gICAgICAgIHJlc1dlZWsgPSB3ZWVrICsgd2Vla3NJblllYXIocmVzWWVhciwgZG93LCBkb3kpO1xuICAgIH0gZWxzZSBpZiAod2VlayA+IHdlZWtzSW5ZZWFyKG1vbS55ZWFyKCksIGRvdywgZG95KSkge1xuICAgICAgICByZXNXZWVrID0gd2VlayAtIHdlZWtzSW5ZZWFyKG1vbS55ZWFyKCksIGRvdywgZG95KTtcbiAgICAgICAgcmVzWWVhciA9IG1vbS55ZWFyKCkgKyAxO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc1llYXIgPSBtb20ueWVhcigpO1xuICAgICAgICByZXNXZWVrID0gd2VlaztcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICB3ZWVrOiByZXNXZWVrLFxuICAgICAgICB5ZWFyOiByZXNZZWFyXG4gICAgfTtcbn1cblxuZnVuY3Rpb24gd2Vla3NJblllYXIoeWVhciwgZG93LCBkb3kpIHtcbiAgICB2YXIgd2Vla09mZnNldCA9IGZpcnN0V2Vla09mZnNldCh5ZWFyLCBkb3csIGRveSksXG4gICAgICAgIHdlZWtPZmZzZXROZXh0ID0gZmlyc3RXZWVrT2Zmc2V0KHllYXIgKyAxLCBkb3csIGRveSk7XG4gICAgcmV0dXJuIChkYXlzSW5ZZWFyKHllYXIpIC0gd2Vla09mZnNldCArIHdlZWtPZmZzZXROZXh0KSAvIDc7XG59XG5cbi8vIEZPUk1BVFRJTkdcblxuYWRkRm9ybWF0VG9rZW4oJ3cnLCBbJ3d3JywgMl0sICd3bycsICd3ZWVrJyk7XG5hZGRGb3JtYXRUb2tlbignVycsIFsnV1cnLCAyXSwgJ1dvJywgJ2lzb1dlZWsnKTtcblxuLy8gQUxJQVNFU1xuXG5hZGRVbml0QWxpYXMoJ3dlZWsnLCAndycpO1xuYWRkVW5pdEFsaWFzKCdpc29XZWVrJywgJ1cnKTtcblxuLy8gUFJJT1JJVElFU1xuXG5hZGRVbml0UHJpb3JpdHkoJ3dlZWsnLCA1KTtcbmFkZFVuaXRQcmlvcml0eSgnaXNvV2VlaycsIDUpO1xuXG4vLyBQQVJTSU5HXG5cbmFkZFJlZ2V4VG9rZW4oJ3cnLCAgbWF0Y2gxdG8yKTtcbmFkZFJlZ2V4VG9rZW4oJ3d3JywgbWF0Y2gxdG8yLCBtYXRjaDIpO1xuYWRkUmVnZXhUb2tlbignVycsICBtYXRjaDF0bzIpO1xuYWRkUmVnZXhUb2tlbignV1cnLCBtYXRjaDF0bzIsIG1hdGNoMik7XG5cbmFkZFdlZWtQYXJzZVRva2VuKFsndycsICd3dycsICdXJywgJ1dXJ10sIGZ1bmN0aW9uIChpbnB1dCwgd2VlaywgY29uZmlnLCB0b2tlbikge1xuICAgIHdlZWtbdG9rZW4uc3Vic3RyKDAsIDEpXSA9IHRvSW50KGlucHV0KTtcbn0pO1xuXG4vLyBIRUxQRVJTXG5cbi8vIExPQ0FMRVNcblxuZnVuY3Rpb24gbG9jYWxlV2VlayAobW9tKSB7XG4gICAgcmV0dXJuIHdlZWtPZlllYXIobW9tLCB0aGlzLl93ZWVrLmRvdywgdGhpcy5fd2Vlay5kb3kpLndlZWs7XG59XG5cbnZhciBkZWZhdWx0TG9jYWxlV2VlayA9IHtcbiAgICBkb3cgOiAwLCAvLyBTdW5kYXkgaXMgdGhlIGZpcnN0IGRheSBvZiB0aGUgd2Vlay5cbiAgICBkb3kgOiA2ICAvLyBUaGUgd2VlayB0aGF0IGNvbnRhaW5zIEphbiAxc3QgaXMgdGhlIGZpcnN0IHdlZWsgb2YgdGhlIHllYXIuXG59O1xuXG5mdW5jdGlvbiBsb2NhbGVGaXJzdERheU9mV2VlayAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3dlZWsuZG93O1xufVxuXG5mdW5jdGlvbiBsb2NhbGVGaXJzdERheU9mWWVhciAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3dlZWsuZG95O1xufVxuXG4vLyBNT01FTlRTXG5cbmZ1bmN0aW9uIGdldFNldFdlZWsgKGlucHV0KSB7XG4gICAgdmFyIHdlZWsgPSB0aGlzLmxvY2FsZURhdGEoKS53ZWVrKHRoaXMpO1xuICAgIHJldHVybiBpbnB1dCA9PSBudWxsID8gd2VlayA6IHRoaXMuYWRkKChpbnB1dCAtIHdlZWspICogNywgJ2QnKTtcbn1cblxuZnVuY3Rpb24gZ2V0U2V0SVNPV2VlayAoaW5wdXQpIHtcbiAgICB2YXIgd2VlayA9IHdlZWtPZlllYXIodGhpcywgMSwgNCkud2VlaztcbiAgICByZXR1cm4gaW5wdXQgPT0gbnVsbCA/IHdlZWsgOiB0aGlzLmFkZCgoaW5wdXQgLSB3ZWVrKSAqIDcsICdkJyk7XG59XG5cbi8vIEZPUk1BVFRJTkdcblxuYWRkRm9ybWF0VG9rZW4oJ2QnLCAwLCAnZG8nLCAnZGF5Jyk7XG5cbmFkZEZvcm1hdFRva2VuKCdkZCcsIDAsIDAsIGZ1bmN0aW9uIChmb3JtYXQpIHtcbiAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkud2Vla2RheXNNaW4odGhpcywgZm9ybWF0KTtcbn0pO1xuXG5hZGRGb3JtYXRUb2tlbignZGRkJywgMCwgMCwgZnVuY3Rpb24gKGZvcm1hdCkge1xuICAgIHJldHVybiB0aGlzLmxvY2FsZURhdGEoKS53ZWVrZGF5c1Nob3J0KHRoaXMsIGZvcm1hdCk7XG59KTtcblxuYWRkRm9ybWF0VG9rZW4oJ2RkZGQnLCAwLCAwLCBmdW5jdGlvbiAoZm9ybWF0KSB7XG4gICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLndlZWtkYXlzKHRoaXMsIGZvcm1hdCk7XG59KTtcblxuYWRkRm9ybWF0VG9rZW4oJ2UnLCAwLCAwLCAnd2Vla2RheScpO1xuYWRkRm9ybWF0VG9rZW4oJ0UnLCAwLCAwLCAnaXNvV2Vla2RheScpO1xuXG4vLyBBTElBU0VTXG5cbmFkZFVuaXRBbGlhcygnZGF5JywgJ2QnKTtcbmFkZFVuaXRBbGlhcygnd2Vla2RheScsICdlJyk7XG5hZGRVbml0QWxpYXMoJ2lzb1dlZWtkYXknLCAnRScpO1xuXG4vLyBQUklPUklUWVxuYWRkVW5pdFByaW9yaXR5KCdkYXknLCAxMSk7XG5hZGRVbml0UHJpb3JpdHkoJ3dlZWtkYXknLCAxMSk7XG5hZGRVbml0UHJpb3JpdHkoJ2lzb1dlZWtkYXknLCAxMSk7XG5cbi8vIFBBUlNJTkdcblxuYWRkUmVnZXhUb2tlbignZCcsICAgIG1hdGNoMXRvMik7XG5hZGRSZWdleFRva2VuKCdlJywgICAgbWF0Y2gxdG8yKTtcbmFkZFJlZ2V4VG9rZW4oJ0UnLCAgICBtYXRjaDF0bzIpO1xuYWRkUmVnZXhUb2tlbignZGQnLCAgIGZ1bmN0aW9uIChpc1N0cmljdCwgbG9jYWxlKSB7XG4gICAgcmV0dXJuIGxvY2FsZS53ZWVrZGF5c01pblJlZ2V4KGlzU3RyaWN0KTtcbn0pO1xuYWRkUmVnZXhUb2tlbignZGRkJywgICBmdW5jdGlvbiAoaXNTdHJpY3QsIGxvY2FsZSkge1xuICAgIHJldHVybiBsb2NhbGUud2Vla2RheXNTaG9ydFJlZ2V4KGlzU3RyaWN0KTtcbn0pO1xuYWRkUmVnZXhUb2tlbignZGRkZCcsICAgZnVuY3Rpb24gKGlzU3RyaWN0LCBsb2NhbGUpIHtcbiAgICByZXR1cm4gbG9jYWxlLndlZWtkYXlzUmVnZXgoaXNTdHJpY3QpO1xufSk7XG5cbmFkZFdlZWtQYXJzZVRva2VuKFsnZGQnLCAnZGRkJywgJ2RkZGQnXSwgZnVuY3Rpb24gKGlucHV0LCB3ZWVrLCBjb25maWcsIHRva2VuKSB7XG4gICAgdmFyIHdlZWtkYXkgPSBjb25maWcuX2xvY2FsZS53ZWVrZGF5c1BhcnNlKGlucHV0LCB0b2tlbiwgY29uZmlnLl9zdHJpY3QpO1xuICAgIC8vIGlmIHdlIGRpZG4ndCBnZXQgYSB3ZWVrZGF5IG5hbWUsIG1hcmsgdGhlIGRhdGUgYXMgaW52YWxpZFxuICAgIGlmICh3ZWVrZGF5ICE9IG51bGwpIHtcbiAgICAgICAgd2Vlay5kID0gd2Vla2RheTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5pbnZhbGlkV2Vla2RheSA9IGlucHV0O1xuICAgIH1cbn0pO1xuXG5hZGRXZWVrUGFyc2VUb2tlbihbJ2QnLCAnZScsICdFJ10sIGZ1bmN0aW9uIChpbnB1dCwgd2VlaywgY29uZmlnLCB0b2tlbikge1xuICAgIHdlZWtbdG9rZW5dID0gdG9JbnQoaW5wdXQpO1xufSk7XG5cbi8vIEhFTFBFUlNcblxuZnVuY3Rpb24gcGFyc2VXZWVrZGF5KGlucHV0LCBsb2NhbGUpIHtcbiAgICBpZiAodHlwZW9mIGlucHV0ICE9PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gaW5wdXQ7XG4gICAgfVxuXG4gICAgaWYgKCFpc05hTihpbnB1dCkpIHtcbiAgICAgICAgcmV0dXJuIHBhcnNlSW50KGlucHV0LCAxMCk7XG4gICAgfVxuXG4gICAgaW5wdXQgPSBsb2NhbGUud2Vla2RheXNQYXJzZShpbnB1dCk7XG4gICAgaWYgKHR5cGVvZiBpbnB1dCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgcmV0dXJuIGlucHV0O1xuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xufVxuXG5mdW5jdGlvbiBwYXJzZUlzb1dlZWtkYXkoaW5wdXQsIGxvY2FsZSkge1xuICAgIGlmICh0eXBlb2YgaW5wdXQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiBsb2NhbGUud2Vla2RheXNQYXJzZShpbnB1dCkgJSA3IHx8IDc7XG4gICAgfVxuICAgIHJldHVybiBpc05hTihpbnB1dCkgPyBudWxsIDogaW5wdXQ7XG59XG5cbi8vIExPQ0FMRVNcblxudmFyIGRlZmF1bHRMb2NhbGVXZWVrZGF5cyA9ICdTdW5kYXlfTW9uZGF5X1R1ZXNkYXlfV2VkbmVzZGF5X1RodXJzZGF5X0ZyaWRheV9TYXR1cmRheScuc3BsaXQoJ18nKTtcbmZ1bmN0aW9uIGxvY2FsZVdlZWtkYXlzIChtLCBmb3JtYXQpIHtcbiAgICBpZiAoIW0pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3dlZWtkYXlzO1xuICAgIH1cbiAgICByZXR1cm4gaXNBcnJheSh0aGlzLl93ZWVrZGF5cykgPyB0aGlzLl93ZWVrZGF5c1ttLmRheSgpXSA6XG4gICAgICAgIHRoaXMuX3dlZWtkYXlzW3RoaXMuX3dlZWtkYXlzLmlzRm9ybWF0LnRlc3QoZm9ybWF0KSA/ICdmb3JtYXQnIDogJ3N0YW5kYWxvbmUnXVttLmRheSgpXTtcbn1cblxudmFyIGRlZmF1bHRMb2NhbGVXZWVrZGF5c1Nob3J0ID0gJ1N1bl9Nb25fVHVlX1dlZF9UaHVfRnJpX1NhdCcuc3BsaXQoJ18nKTtcbmZ1bmN0aW9uIGxvY2FsZVdlZWtkYXlzU2hvcnQgKG0pIHtcbiAgICByZXR1cm4gKG0pID8gdGhpcy5fd2Vla2RheXNTaG9ydFttLmRheSgpXSA6IHRoaXMuX3dlZWtkYXlzU2hvcnQ7XG59XG5cbnZhciBkZWZhdWx0TG9jYWxlV2Vla2RheXNNaW4gPSAnU3VfTW9fVHVfV2VfVGhfRnJfU2EnLnNwbGl0KCdfJyk7XG5mdW5jdGlvbiBsb2NhbGVXZWVrZGF5c01pbiAobSkge1xuICAgIHJldHVybiAobSkgPyB0aGlzLl93ZWVrZGF5c01pblttLmRheSgpXSA6IHRoaXMuX3dlZWtkYXlzTWluO1xufVxuXG5mdW5jdGlvbiBoYW5kbGVTdHJpY3RQYXJzZSQxKHdlZWtkYXlOYW1lLCBmb3JtYXQsIHN0cmljdCkge1xuICAgIHZhciBpLCBpaSwgbW9tLCBsbGMgPSB3ZWVrZGF5TmFtZS50b0xvY2FsZUxvd2VyQ2FzZSgpO1xuICAgIGlmICghdGhpcy5fd2Vla2RheXNQYXJzZSkge1xuICAgICAgICB0aGlzLl93ZWVrZGF5c1BhcnNlID0gW107XG4gICAgICAgIHRoaXMuX3Nob3J0V2Vla2RheXNQYXJzZSA9IFtdO1xuICAgICAgICB0aGlzLl9taW5XZWVrZGF5c1BhcnNlID0gW107XG5cbiAgICAgICAgZm9yIChpID0gMDsgaSA8IDc7ICsraSkge1xuICAgICAgICAgICAgbW9tID0gY3JlYXRlVVRDKFsyMDAwLCAxXSkuZGF5KGkpO1xuICAgICAgICAgICAgdGhpcy5fbWluV2Vla2RheXNQYXJzZVtpXSA9IHRoaXMud2Vla2RheXNNaW4obW9tLCAnJykudG9Mb2NhbGVMb3dlckNhc2UoKTtcbiAgICAgICAgICAgIHRoaXMuX3Nob3J0V2Vla2RheXNQYXJzZVtpXSA9IHRoaXMud2Vla2RheXNTaG9ydChtb20sICcnKS50b0xvY2FsZUxvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgdGhpcy5fd2Vla2RheXNQYXJzZVtpXSA9IHRoaXMud2Vla2RheXMobW9tLCAnJykudG9Mb2NhbGVMb3dlckNhc2UoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmIChzdHJpY3QpIHtcbiAgICAgICAgaWYgKGZvcm1hdCA9PT0gJ2RkZGQnKSB7XG4gICAgICAgICAgICBpaSA9IGluZGV4T2YkMS5jYWxsKHRoaXMuX3dlZWtkYXlzUGFyc2UsIGxsYyk7XG4gICAgICAgICAgICByZXR1cm4gaWkgIT09IC0xID8gaWkgOiBudWxsO1xuICAgICAgICB9IGVsc2UgaWYgKGZvcm1hdCA9PT0gJ2RkZCcpIHtcbiAgICAgICAgICAgIGlpID0gaW5kZXhPZiQxLmNhbGwodGhpcy5fc2hvcnRXZWVrZGF5c1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgcmV0dXJuIGlpICE9PSAtMSA/IGlpIDogbnVsbDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlpID0gaW5kZXhPZiQxLmNhbGwodGhpcy5fbWluV2Vla2RheXNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgIHJldHVybiBpaSAhPT0gLTEgPyBpaSA6IG51bGw7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoZm9ybWF0ID09PSAnZGRkZCcpIHtcbiAgICAgICAgICAgIGlpID0gaW5kZXhPZiQxLmNhbGwodGhpcy5fd2Vla2RheXNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgIGlmIChpaSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaWk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpaSA9IGluZGV4T2YkMS5jYWxsKHRoaXMuX3Nob3J0V2Vla2RheXNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgIGlmIChpaSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaWk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpaSA9IGluZGV4T2YkMS5jYWxsKHRoaXMuX21pbldlZWtkYXlzUGFyc2UsIGxsYyk7XG4gICAgICAgICAgICByZXR1cm4gaWkgIT09IC0xID8gaWkgOiBudWxsO1xuICAgICAgICB9IGVsc2UgaWYgKGZvcm1hdCA9PT0gJ2RkZCcpIHtcbiAgICAgICAgICAgIGlpID0gaW5kZXhPZiQxLmNhbGwodGhpcy5fc2hvcnRXZWVrZGF5c1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgaWYgKGlpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlpID0gaW5kZXhPZiQxLmNhbGwodGhpcy5fd2Vla2RheXNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgIGlmIChpaSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaWk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpaSA9IGluZGV4T2YkMS5jYWxsKHRoaXMuX21pbldlZWtkYXlzUGFyc2UsIGxsYyk7XG4gICAgICAgICAgICByZXR1cm4gaWkgIT09IC0xID8gaWkgOiBudWxsO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWkgPSBpbmRleE9mJDEuY2FsbCh0aGlzLl9taW5XZWVrZGF5c1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgaWYgKGlpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlpID0gaW5kZXhPZiQxLmNhbGwodGhpcy5fd2Vla2RheXNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgIGlmIChpaSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaWk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpaSA9IGluZGV4T2YkMS5jYWxsKHRoaXMuX3Nob3J0V2Vla2RheXNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgIHJldHVybiBpaSAhPT0gLTEgPyBpaSA6IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIGxvY2FsZVdlZWtkYXlzUGFyc2UgKHdlZWtkYXlOYW1lLCBmb3JtYXQsIHN0cmljdCkge1xuICAgIHZhciBpLCBtb20sIHJlZ2V4O1xuXG4gICAgaWYgKHRoaXMuX3dlZWtkYXlzUGFyc2VFeGFjdCkge1xuICAgICAgICByZXR1cm4gaGFuZGxlU3RyaWN0UGFyc2UkMS5jYWxsKHRoaXMsIHdlZWtkYXlOYW1lLCBmb3JtYXQsIHN0cmljdCk7XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLl93ZWVrZGF5c1BhcnNlKSB7XG4gICAgICAgIHRoaXMuX3dlZWtkYXlzUGFyc2UgPSBbXTtcbiAgICAgICAgdGhpcy5fbWluV2Vla2RheXNQYXJzZSA9IFtdO1xuICAgICAgICB0aGlzLl9zaG9ydFdlZWtkYXlzUGFyc2UgPSBbXTtcbiAgICAgICAgdGhpcy5fZnVsbFdlZWtkYXlzUGFyc2UgPSBbXTtcbiAgICB9XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgNzsgaSsrKSB7XG4gICAgICAgIC8vIG1ha2UgdGhlIHJlZ2V4IGlmIHdlIGRvbid0IGhhdmUgaXQgYWxyZWFkeVxuXG4gICAgICAgIG1vbSA9IGNyZWF0ZVVUQyhbMjAwMCwgMV0pLmRheShpKTtcbiAgICAgICAgaWYgKHN0cmljdCAmJiAhdGhpcy5fZnVsbFdlZWtkYXlzUGFyc2VbaV0pIHtcbiAgICAgICAgICAgIHRoaXMuX2Z1bGxXZWVrZGF5c1BhcnNlW2ldID0gbmV3IFJlZ0V4cCgnXicgKyB0aGlzLndlZWtkYXlzKG1vbSwgJycpLnJlcGxhY2UoJy4nLCAnXFwuPycpICsgJyQnLCAnaScpO1xuICAgICAgICAgICAgdGhpcy5fc2hvcnRXZWVrZGF5c1BhcnNlW2ldID0gbmV3IFJlZ0V4cCgnXicgKyB0aGlzLndlZWtkYXlzU2hvcnQobW9tLCAnJykucmVwbGFjZSgnLicsICdcXC4/JykgKyAnJCcsICdpJyk7XG4gICAgICAgICAgICB0aGlzLl9taW5XZWVrZGF5c1BhcnNlW2ldID0gbmV3IFJlZ0V4cCgnXicgKyB0aGlzLndlZWtkYXlzTWluKG1vbSwgJycpLnJlcGxhY2UoJy4nLCAnXFwuPycpICsgJyQnLCAnaScpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5fd2Vla2RheXNQYXJzZVtpXSkge1xuICAgICAgICAgICAgcmVnZXggPSAnXicgKyB0aGlzLndlZWtkYXlzKG1vbSwgJycpICsgJ3xeJyArIHRoaXMud2Vla2RheXNTaG9ydChtb20sICcnKSArICd8XicgKyB0aGlzLndlZWtkYXlzTWluKG1vbSwgJycpO1xuICAgICAgICAgICAgdGhpcy5fd2Vla2RheXNQYXJzZVtpXSA9IG5ldyBSZWdFeHAocmVnZXgucmVwbGFjZSgnLicsICcnKSwgJ2knKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB0ZXN0IHRoZSByZWdleFxuICAgICAgICBpZiAoc3RyaWN0ICYmIGZvcm1hdCA9PT0gJ2RkZGQnICYmIHRoaXMuX2Z1bGxXZWVrZGF5c1BhcnNlW2ldLnRlc3Qod2Vla2RheU5hbWUpKSB7XG4gICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgfSBlbHNlIGlmIChzdHJpY3QgJiYgZm9ybWF0ID09PSAnZGRkJyAmJiB0aGlzLl9zaG9ydFdlZWtkYXlzUGFyc2VbaV0udGVzdCh3ZWVrZGF5TmFtZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICB9IGVsc2UgaWYgKHN0cmljdCAmJiBmb3JtYXQgPT09ICdkZCcgJiYgdGhpcy5fbWluV2Vla2RheXNQYXJzZVtpXS50ZXN0KHdlZWtkYXlOYW1lKSkge1xuICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgIH0gZWxzZSBpZiAoIXN0cmljdCAmJiB0aGlzLl93ZWVrZGF5c1BhcnNlW2ldLnRlc3Qod2Vla2RheU5hbWUpKSB7XG4gICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLy8gTU9NRU5UU1xuXG5mdW5jdGlvbiBnZXRTZXREYXlPZldlZWsgKGlucHV0KSB7XG4gICAgaWYgKCF0aGlzLmlzVmFsaWQoKSkge1xuICAgICAgICByZXR1cm4gaW5wdXQgIT0gbnVsbCA/IHRoaXMgOiBOYU47XG4gICAgfVxuICAgIHZhciBkYXkgPSB0aGlzLl9pc1VUQyA/IHRoaXMuX2QuZ2V0VVRDRGF5KCkgOiB0aGlzLl9kLmdldERheSgpO1xuICAgIGlmIChpbnB1dCAhPSBudWxsKSB7XG4gICAgICAgIGlucHV0ID0gcGFyc2VXZWVrZGF5KGlucHV0LCB0aGlzLmxvY2FsZURhdGEoKSk7XG4gICAgICAgIHJldHVybiB0aGlzLmFkZChpbnB1dCAtIGRheSwgJ2QnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZGF5O1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZ2V0U2V0TG9jYWxlRGF5T2ZXZWVrIChpbnB1dCkge1xuICAgIGlmICghdGhpcy5pc1ZhbGlkKCkpIHtcbiAgICAgICAgcmV0dXJuIGlucHV0ICE9IG51bGwgPyB0aGlzIDogTmFOO1xuICAgIH1cbiAgICB2YXIgd2Vla2RheSA9ICh0aGlzLmRheSgpICsgNyAtIHRoaXMubG9jYWxlRGF0YSgpLl93ZWVrLmRvdykgJSA3O1xuICAgIHJldHVybiBpbnB1dCA9PSBudWxsID8gd2Vla2RheSA6IHRoaXMuYWRkKGlucHV0IC0gd2Vla2RheSwgJ2QnKTtcbn1cblxuZnVuY3Rpb24gZ2V0U2V0SVNPRGF5T2ZXZWVrIChpbnB1dCkge1xuICAgIGlmICghdGhpcy5pc1ZhbGlkKCkpIHtcbiAgICAgICAgcmV0dXJuIGlucHV0ICE9IG51bGwgPyB0aGlzIDogTmFOO1xuICAgIH1cblxuICAgIC8vIGJlaGF2ZXMgdGhlIHNhbWUgYXMgbW9tZW50I2RheSBleGNlcHRcbiAgICAvLyBhcyBhIGdldHRlciwgcmV0dXJucyA3IGluc3RlYWQgb2YgMCAoMS03IHJhbmdlIGluc3RlYWQgb2YgMC02KVxuICAgIC8vIGFzIGEgc2V0dGVyLCBzdW5kYXkgc2hvdWxkIGJlbG9uZyB0byB0aGUgcHJldmlvdXMgd2Vlay5cblxuICAgIGlmIChpbnB1dCAhPSBudWxsKSB7XG4gICAgICAgIHZhciB3ZWVrZGF5ID0gcGFyc2VJc29XZWVrZGF5KGlucHV0LCB0aGlzLmxvY2FsZURhdGEoKSk7XG4gICAgICAgIHJldHVybiB0aGlzLmRheSh0aGlzLmRheSgpICUgNyA/IHdlZWtkYXkgOiB3ZWVrZGF5IC0gNyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF5KCkgfHwgNztcbiAgICB9XG59XG5cbnZhciBkZWZhdWx0V2Vla2RheXNSZWdleCA9IG1hdGNoV29yZDtcbmZ1bmN0aW9uIHdlZWtkYXlzUmVnZXggKGlzU3RyaWN0KSB7XG4gICAgaWYgKHRoaXMuX3dlZWtkYXlzUGFyc2VFeGFjdCkge1xuICAgICAgICBpZiAoIWhhc093blByb3AodGhpcywgJ193ZWVrZGF5c1JlZ2V4JykpIHtcbiAgICAgICAgICAgIGNvbXB1dGVXZWVrZGF5c1BhcnNlLmNhbGwodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzU3RyaWN0KSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fd2Vla2RheXNTdHJpY3RSZWdleDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl93ZWVrZGF5c1JlZ2V4O1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKCFoYXNPd25Qcm9wKHRoaXMsICdfd2Vla2RheXNSZWdleCcpKSB7XG4gICAgICAgICAgICB0aGlzLl93ZWVrZGF5c1JlZ2V4ID0gZGVmYXVsdFdlZWtkYXlzUmVnZXg7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX3dlZWtkYXlzU3RyaWN0UmVnZXggJiYgaXNTdHJpY3QgP1xuICAgICAgICAgICAgdGhpcy5fd2Vla2RheXNTdHJpY3RSZWdleCA6IHRoaXMuX3dlZWtkYXlzUmVnZXg7XG4gICAgfVxufVxuXG52YXIgZGVmYXVsdFdlZWtkYXlzU2hvcnRSZWdleCA9IG1hdGNoV29yZDtcbmZ1bmN0aW9uIHdlZWtkYXlzU2hvcnRSZWdleCAoaXNTdHJpY3QpIHtcbiAgICBpZiAodGhpcy5fd2Vla2RheXNQYXJzZUV4YWN0KSB7XG4gICAgICAgIGlmICghaGFzT3duUHJvcCh0aGlzLCAnX3dlZWtkYXlzUmVnZXgnKSkge1xuICAgICAgICAgICAgY29tcHV0ZVdlZWtkYXlzUGFyc2UuY2FsbCh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNTdHJpY3QpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl93ZWVrZGF5c1Nob3J0U3RyaWN0UmVnZXg7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fd2Vla2RheXNTaG9ydFJlZ2V4O1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKCFoYXNPd25Qcm9wKHRoaXMsICdfd2Vla2RheXNTaG9ydFJlZ2V4JykpIHtcbiAgICAgICAgICAgIHRoaXMuX3dlZWtkYXlzU2hvcnRSZWdleCA9IGRlZmF1bHRXZWVrZGF5c1Nob3J0UmVnZXg7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX3dlZWtkYXlzU2hvcnRTdHJpY3RSZWdleCAmJiBpc1N0cmljdCA/XG4gICAgICAgICAgICB0aGlzLl93ZWVrZGF5c1Nob3J0U3RyaWN0UmVnZXggOiB0aGlzLl93ZWVrZGF5c1Nob3J0UmVnZXg7XG4gICAgfVxufVxuXG52YXIgZGVmYXVsdFdlZWtkYXlzTWluUmVnZXggPSBtYXRjaFdvcmQ7XG5mdW5jdGlvbiB3ZWVrZGF5c01pblJlZ2V4IChpc1N0cmljdCkge1xuICAgIGlmICh0aGlzLl93ZWVrZGF5c1BhcnNlRXhhY3QpIHtcbiAgICAgICAgaWYgKCFoYXNPd25Qcm9wKHRoaXMsICdfd2Vla2RheXNSZWdleCcpKSB7XG4gICAgICAgICAgICBjb21wdXRlV2Vla2RheXNQYXJzZS5jYWxsKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc1N0cmljdCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3dlZWtkYXlzTWluU3RyaWN0UmVnZXg7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fd2Vla2RheXNNaW5SZWdleDtcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICghaGFzT3duUHJvcCh0aGlzLCAnX3dlZWtkYXlzTWluUmVnZXgnKSkge1xuICAgICAgICAgICAgdGhpcy5fd2Vla2RheXNNaW5SZWdleCA9IGRlZmF1bHRXZWVrZGF5c01pblJlZ2V4O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl93ZWVrZGF5c01pblN0cmljdFJlZ2V4ICYmIGlzU3RyaWN0ID9cbiAgICAgICAgICAgIHRoaXMuX3dlZWtkYXlzTWluU3RyaWN0UmVnZXggOiB0aGlzLl93ZWVrZGF5c01pblJlZ2V4O1xuICAgIH1cbn1cblxuXG5mdW5jdGlvbiBjb21wdXRlV2Vla2RheXNQYXJzZSAoKSB7XG4gICAgZnVuY3Rpb24gY21wTGVuUmV2KGEsIGIpIHtcbiAgICAgICAgcmV0dXJuIGIubGVuZ3RoIC0gYS5sZW5ndGg7XG4gICAgfVxuXG4gICAgdmFyIG1pblBpZWNlcyA9IFtdLCBzaG9ydFBpZWNlcyA9IFtdLCBsb25nUGllY2VzID0gW10sIG1peGVkUGllY2VzID0gW10sXG4gICAgICAgIGksIG1vbSwgbWlucCwgc2hvcnRwLCBsb25ncDtcbiAgICBmb3IgKGkgPSAwOyBpIDwgNzsgaSsrKSB7XG4gICAgICAgIC8vIG1ha2UgdGhlIHJlZ2V4IGlmIHdlIGRvbid0IGhhdmUgaXQgYWxyZWFkeVxuICAgICAgICBtb20gPSBjcmVhdGVVVEMoWzIwMDAsIDFdKS5kYXkoaSk7XG4gICAgICAgIG1pbnAgPSB0aGlzLndlZWtkYXlzTWluKG1vbSwgJycpO1xuICAgICAgICBzaG9ydHAgPSB0aGlzLndlZWtkYXlzU2hvcnQobW9tLCAnJyk7XG4gICAgICAgIGxvbmdwID0gdGhpcy53ZWVrZGF5cyhtb20sICcnKTtcbiAgICAgICAgbWluUGllY2VzLnB1c2gobWlucCk7XG4gICAgICAgIHNob3J0UGllY2VzLnB1c2goc2hvcnRwKTtcbiAgICAgICAgbG9uZ1BpZWNlcy5wdXNoKGxvbmdwKTtcbiAgICAgICAgbWl4ZWRQaWVjZXMucHVzaChtaW5wKTtcbiAgICAgICAgbWl4ZWRQaWVjZXMucHVzaChzaG9ydHApO1xuICAgICAgICBtaXhlZFBpZWNlcy5wdXNoKGxvbmdwKTtcbiAgICB9XG4gICAgLy8gU29ydGluZyBtYWtlcyBzdXJlIGlmIG9uZSB3ZWVrZGF5IChvciBhYmJyKSBpcyBhIHByZWZpeCBvZiBhbm90aGVyIGl0XG4gICAgLy8gd2lsbCBtYXRjaCB0aGUgbG9uZ2VyIHBpZWNlLlxuICAgIG1pblBpZWNlcy5zb3J0KGNtcExlblJldik7XG4gICAgc2hvcnRQaWVjZXMuc29ydChjbXBMZW5SZXYpO1xuICAgIGxvbmdQaWVjZXMuc29ydChjbXBMZW5SZXYpO1xuICAgIG1peGVkUGllY2VzLnNvcnQoY21wTGVuUmV2KTtcbiAgICBmb3IgKGkgPSAwOyBpIDwgNzsgaSsrKSB7XG4gICAgICAgIHNob3J0UGllY2VzW2ldID0gcmVnZXhFc2NhcGUoc2hvcnRQaWVjZXNbaV0pO1xuICAgICAgICBsb25nUGllY2VzW2ldID0gcmVnZXhFc2NhcGUobG9uZ1BpZWNlc1tpXSk7XG4gICAgICAgIG1peGVkUGllY2VzW2ldID0gcmVnZXhFc2NhcGUobWl4ZWRQaWVjZXNbaV0pO1xuICAgIH1cblxuICAgIHRoaXMuX3dlZWtkYXlzUmVnZXggPSBuZXcgUmVnRXhwKCdeKCcgKyBtaXhlZFBpZWNlcy5qb2luKCd8JykgKyAnKScsICdpJyk7XG4gICAgdGhpcy5fd2Vla2RheXNTaG9ydFJlZ2V4ID0gdGhpcy5fd2Vla2RheXNSZWdleDtcbiAgICB0aGlzLl93ZWVrZGF5c01pblJlZ2V4ID0gdGhpcy5fd2Vla2RheXNSZWdleDtcblxuICAgIHRoaXMuX3dlZWtkYXlzU3RyaWN0UmVnZXggPSBuZXcgUmVnRXhwKCdeKCcgKyBsb25nUGllY2VzLmpvaW4oJ3wnKSArICcpJywgJ2knKTtcbiAgICB0aGlzLl93ZWVrZGF5c1Nob3J0U3RyaWN0UmVnZXggPSBuZXcgUmVnRXhwKCdeKCcgKyBzaG9ydFBpZWNlcy5qb2luKCd8JykgKyAnKScsICdpJyk7XG4gICAgdGhpcy5fd2Vla2RheXNNaW5TdHJpY3RSZWdleCA9IG5ldyBSZWdFeHAoJ14oJyArIG1pblBpZWNlcy5qb2luKCd8JykgKyAnKScsICdpJyk7XG59XG5cbi8vIEZPUk1BVFRJTkdcblxuZnVuY3Rpb24gaEZvcm1hdCgpIHtcbiAgICByZXR1cm4gdGhpcy5ob3VycygpICUgMTIgfHwgMTI7XG59XG5cbmZ1bmN0aW9uIGtGb3JtYXQoKSB7XG4gICAgcmV0dXJuIHRoaXMuaG91cnMoKSB8fCAyNDtcbn1cblxuYWRkRm9ybWF0VG9rZW4oJ0gnLCBbJ0hIJywgMl0sIDAsICdob3VyJyk7XG5hZGRGb3JtYXRUb2tlbignaCcsIFsnaGgnLCAyXSwgMCwgaEZvcm1hdCk7XG5hZGRGb3JtYXRUb2tlbignaycsIFsna2snLCAyXSwgMCwga0Zvcm1hdCk7XG5cbmFkZEZvcm1hdFRva2VuKCdobW0nLCAwLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuICcnICsgaEZvcm1hdC5hcHBseSh0aGlzKSArIHplcm9GaWxsKHRoaXMubWludXRlcygpLCAyKTtcbn0pO1xuXG5hZGRGb3JtYXRUb2tlbignaG1tc3MnLCAwLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuICcnICsgaEZvcm1hdC5hcHBseSh0aGlzKSArIHplcm9GaWxsKHRoaXMubWludXRlcygpLCAyKSArXG4gICAgICAgIHplcm9GaWxsKHRoaXMuc2Vjb25kcygpLCAyKTtcbn0pO1xuXG5hZGRGb3JtYXRUb2tlbignSG1tJywgMCwgMCwgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAnJyArIHRoaXMuaG91cnMoKSArIHplcm9GaWxsKHRoaXMubWludXRlcygpLCAyKTtcbn0pO1xuXG5hZGRGb3JtYXRUb2tlbignSG1tc3MnLCAwLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuICcnICsgdGhpcy5ob3VycygpICsgemVyb0ZpbGwodGhpcy5taW51dGVzKCksIDIpICtcbiAgICAgICAgemVyb0ZpbGwodGhpcy5zZWNvbmRzKCksIDIpO1xufSk7XG5cbmZ1bmN0aW9uIG1lcmlkaWVtICh0b2tlbiwgbG93ZXJjYXNlKSB7XG4gICAgYWRkRm9ybWF0VG9rZW4odG9rZW4sIDAsIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLm1lcmlkaWVtKHRoaXMuaG91cnMoKSwgdGhpcy5taW51dGVzKCksIGxvd2VyY2FzZSk7XG4gICAgfSk7XG59XG5cbm1lcmlkaWVtKCdhJywgdHJ1ZSk7XG5tZXJpZGllbSgnQScsIGZhbHNlKTtcblxuLy8gQUxJQVNFU1xuXG5hZGRVbml0QWxpYXMoJ2hvdXInLCAnaCcpO1xuXG4vLyBQUklPUklUWVxuYWRkVW5pdFByaW9yaXR5KCdob3VyJywgMTMpO1xuXG4vLyBQQVJTSU5HXG5cbmZ1bmN0aW9uIG1hdGNoTWVyaWRpZW0gKGlzU3RyaWN0LCBsb2NhbGUpIHtcbiAgICByZXR1cm4gbG9jYWxlLl9tZXJpZGllbVBhcnNlO1xufVxuXG5hZGRSZWdleFRva2VuKCdhJywgIG1hdGNoTWVyaWRpZW0pO1xuYWRkUmVnZXhUb2tlbignQScsICBtYXRjaE1lcmlkaWVtKTtcbmFkZFJlZ2V4VG9rZW4oJ0gnLCAgbWF0Y2gxdG8yKTtcbmFkZFJlZ2V4VG9rZW4oJ2gnLCAgbWF0Y2gxdG8yKTtcbmFkZFJlZ2V4VG9rZW4oJ0hIJywgbWF0Y2gxdG8yLCBtYXRjaDIpO1xuYWRkUmVnZXhUb2tlbignaGgnLCBtYXRjaDF0bzIsIG1hdGNoMik7XG5cbmFkZFJlZ2V4VG9rZW4oJ2htbScsIG1hdGNoM3RvNCk7XG5hZGRSZWdleFRva2VuKCdobW1zcycsIG1hdGNoNXRvNik7XG5hZGRSZWdleFRva2VuKCdIbW0nLCBtYXRjaDN0bzQpO1xuYWRkUmVnZXhUb2tlbignSG1tc3MnLCBtYXRjaDV0bzYpO1xuXG5hZGRQYXJzZVRva2VuKFsnSCcsICdISCddLCBIT1VSKTtcbmFkZFBhcnNlVG9rZW4oWydhJywgJ0EnXSwgZnVuY3Rpb24gKGlucHV0LCBhcnJheSwgY29uZmlnKSB7XG4gICAgY29uZmlnLl9pc1BtID0gY29uZmlnLl9sb2NhbGUuaXNQTShpbnB1dCk7XG4gICAgY29uZmlnLl9tZXJpZGllbSA9IGlucHV0O1xufSk7XG5hZGRQYXJzZVRva2VuKFsnaCcsICdoaCddLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcpIHtcbiAgICBhcnJheVtIT1VSXSA9IHRvSW50KGlucHV0KTtcbiAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5iaWdIb3VyID0gdHJ1ZTtcbn0pO1xuYWRkUGFyc2VUb2tlbignaG1tJywgZnVuY3Rpb24gKGlucHV0LCBhcnJheSwgY29uZmlnKSB7XG4gICAgdmFyIHBvcyA9IGlucHV0Lmxlbmd0aCAtIDI7XG4gICAgYXJyYXlbSE9VUl0gPSB0b0ludChpbnB1dC5zdWJzdHIoMCwgcG9zKSk7XG4gICAgYXJyYXlbTUlOVVRFXSA9IHRvSW50KGlucHV0LnN1YnN0cihwb3MpKTtcbiAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5iaWdIb3VyID0gdHJ1ZTtcbn0pO1xuYWRkUGFyc2VUb2tlbignaG1tc3MnLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcpIHtcbiAgICB2YXIgcG9zMSA9IGlucHV0Lmxlbmd0aCAtIDQ7XG4gICAgdmFyIHBvczIgPSBpbnB1dC5sZW5ndGggLSAyO1xuICAgIGFycmF5W0hPVVJdID0gdG9JbnQoaW5wdXQuc3Vic3RyKDAsIHBvczEpKTtcbiAgICBhcnJheVtNSU5VVEVdID0gdG9JbnQoaW5wdXQuc3Vic3RyKHBvczEsIDIpKTtcbiAgICBhcnJheVtTRUNPTkRdID0gdG9JbnQoaW5wdXQuc3Vic3RyKHBvczIpKTtcbiAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5iaWdIb3VyID0gdHJ1ZTtcbn0pO1xuYWRkUGFyc2VUb2tlbignSG1tJywgZnVuY3Rpb24gKGlucHV0LCBhcnJheSwgY29uZmlnKSB7XG4gICAgdmFyIHBvcyA9IGlucHV0Lmxlbmd0aCAtIDI7XG4gICAgYXJyYXlbSE9VUl0gPSB0b0ludChpbnB1dC5zdWJzdHIoMCwgcG9zKSk7XG4gICAgYXJyYXlbTUlOVVRFXSA9IHRvSW50KGlucHV0LnN1YnN0cihwb3MpKTtcbn0pO1xuYWRkUGFyc2VUb2tlbignSG1tc3MnLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcpIHtcbiAgICB2YXIgcG9zMSA9IGlucHV0Lmxlbmd0aCAtIDQ7XG4gICAgdmFyIHBvczIgPSBpbnB1dC5sZW5ndGggLSAyO1xuICAgIGFycmF5W0hPVVJdID0gdG9JbnQoaW5wdXQuc3Vic3RyKDAsIHBvczEpKTtcbiAgICBhcnJheVtNSU5VVEVdID0gdG9JbnQoaW5wdXQuc3Vic3RyKHBvczEsIDIpKTtcbiAgICBhcnJheVtTRUNPTkRdID0gdG9JbnQoaW5wdXQuc3Vic3RyKHBvczIpKTtcbn0pO1xuXG4vLyBMT0NBTEVTXG5cbmZ1bmN0aW9uIGxvY2FsZUlzUE0gKGlucHV0KSB7XG4gICAgLy8gSUU4IFF1aXJrcyBNb2RlICYgSUU3IFN0YW5kYXJkcyBNb2RlIGRvIG5vdCBhbGxvdyBhY2Nlc3Npbmcgc3RyaW5ncyBsaWtlIGFycmF5c1xuICAgIC8vIFVzaW5nIGNoYXJBdCBzaG91bGQgYmUgbW9yZSBjb21wYXRpYmxlLlxuICAgIHJldHVybiAoKGlucHV0ICsgJycpLnRvTG93ZXJDYXNlKCkuY2hhckF0KDApID09PSAncCcpO1xufVxuXG52YXIgZGVmYXVsdExvY2FsZU1lcmlkaWVtUGFyc2UgPSAvW2FwXVxcLj9tP1xcLj8vaTtcbmZ1bmN0aW9uIGxvY2FsZU1lcmlkaWVtIChob3VycywgbWludXRlcywgaXNMb3dlcikge1xuICAgIGlmIChob3VycyA+IDExKSB7XG4gICAgICAgIHJldHVybiBpc0xvd2VyID8gJ3BtJyA6ICdQTSc7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGlzTG93ZXIgPyAnYW0nIDogJ0FNJztcbiAgICB9XG59XG5cblxuLy8gTU9NRU5UU1xuXG4vLyBTZXR0aW5nIHRoZSBob3VyIHNob3VsZCBrZWVwIHRoZSB0aW1lLCBiZWNhdXNlIHRoZSB1c2VyIGV4cGxpY2l0bHlcbi8vIHNwZWNpZmllZCB3aGljaCBob3VyIGhlIHdhbnRzLiBTbyB0cnlpbmcgdG8gbWFpbnRhaW4gdGhlIHNhbWUgaG91ciAoaW5cbi8vIGEgbmV3IHRpbWV6b25lKSBtYWtlcyBzZW5zZS4gQWRkaW5nL3N1YnRyYWN0aW5nIGhvdXJzIGRvZXMgbm90IGZvbGxvd1xuLy8gdGhpcyBydWxlLlxudmFyIGdldFNldEhvdXIgPSBtYWtlR2V0U2V0KCdIb3VycycsIHRydWUpO1xuXG4vLyBtb250aHNcbi8vIHdlZWtcbi8vIHdlZWtkYXlzXG4vLyBtZXJpZGllbVxudmFyIGJhc2VDb25maWcgPSB7XG4gICAgY2FsZW5kYXI6IGRlZmF1bHRDYWxlbmRhcixcbiAgICBsb25nRGF0ZUZvcm1hdDogZGVmYXVsdExvbmdEYXRlRm9ybWF0LFxuICAgIGludmFsaWREYXRlOiBkZWZhdWx0SW52YWxpZERhdGUsXG4gICAgb3JkaW5hbDogZGVmYXVsdE9yZGluYWwsXG4gICAgb3JkaW5hbFBhcnNlOiBkZWZhdWx0T3JkaW5hbFBhcnNlLFxuICAgIHJlbGF0aXZlVGltZTogZGVmYXVsdFJlbGF0aXZlVGltZSxcblxuICAgIG1vbnRoczogZGVmYXVsdExvY2FsZU1vbnRocyxcbiAgICBtb250aHNTaG9ydDogZGVmYXVsdExvY2FsZU1vbnRoc1Nob3J0LFxuXG4gICAgd2VlazogZGVmYXVsdExvY2FsZVdlZWssXG5cbiAgICB3ZWVrZGF5czogZGVmYXVsdExvY2FsZVdlZWtkYXlzLFxuICAgIHdlZWtkYXlzTWluOiBkZWZhdWx0TG9jYWxlV2Vla2RheXNNaW4sXG4gICAgd2Vla2RheXNTaG9ydDogZGVmYXVsdExvY2FsZVdlZWtkYXlzU2hvcnQsXG5cbiAgICBtZXJpZGllbVBhcnNlOiBkZWZhdWx0TG9jYWxlTWVyaWRpZW1QYXJzZVxufTtcblxuLy8gaW50ZXJuYWwgc3RvcmFnZSBmb3IgbG9jYWxlIGNvbmZpZyBmaWxlc1xudmFyIGxvY2FsZXMgPSB7fTtcbnZhciBsb2NhbGVGYW1pbGllcyA9IHt9O1xudmFyIGdsb2JhbExvY2FsZTtcblxuZnVuY3Rpb24gbm9ybWFsaXplTG9jYWxlKGtleSkge1xuICAgIHJldHVybiBrZXkgPyBrZXkudG9Mb3dlckNhc2UoKS5yZXBsYWNlKCdfJywgJy0nKSA6IGtleTtcbn1cblxuLy8gcGljayB0aGUgbG9jYWxlIGZyb20gdGhlIGFycmF5XG4vLyB0cnkgWydlbi1hdScsICdlbi1nYiddIGFzICdlbi1hdScsICdlbi1nYicsICdlbicsIGFzIGluIG1vdmUgdGhyb3VnaCB0aGUgbGlzdCB0cnlpbmcgZWFjaFxuLy8gc3Vic3RyaW5nIGZyb20gbW9zdCBzcGVjaWZpYyB0byBsZWFzdCwgYnV0IG1vdmUgdG8gdGhlIG5leHQgYXJyYXkgaXRlbSBpZiBpdCdzIGEgbW9yZSBzcGVjaWZpYyB2YXJpYW50IHRoYW4gdGhlIGN1cnJlbnQgcm9vdFxuZnVuY3Rpb24gY2hvb3NlTG9jYWxlKG5hbWVzKSB7XG4gICAgdmFyIGkgPSAwLCBqLCBuZXh0LCBsb2NhbGUsIHNwbGl0O1xuXG4gICAgd2hpbGUgKGkgPCBuYW1lcy5sZW5ndGgpIHtcbiAgICAgICAgc3BsaXQgPSBub3JtYWxpemVMb2NhbGUobmFtZXNbaV0pLnNwbGl0KCctJyk7XG4gICAgICAgIGogPSBzcGxpdC5sZW5ndGg7XG4gICAgICAgIG5leHQgPSBub3JtYWxpemVMb2NhbGUobmFtZXNbaSArIDFdKTtcbiAgICAgICAgbmV4dCA9IG5leHQgPyBuZXh0LnNwbGl0KCctJykgOiBudWxsO1xuICAgICAgICB3aGlsZSAoaiA+IDApIHtcbiAgICAgICAgICAgIGxvY2FsZSA9IGxvYWRMb2NhbGUoc3BsaXQuc2xpY2UoMCwgaikuam9pbignLScpKTtcbiAgICAgICAgICAgIGlmIChsb2NhbGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbG9jYWxlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG5leHQgJiYgbmV4dC5sZW5ndGggPj0gaiAmJiBjb21wYXJlQXJyYXlzKHNwbGl0LCBuZXh0LCB0cnVlKSA+PSBqIC0gMSkge1xuICAgICAgICAgICAgICAgIC8vdGhlIG5leHQgYXJyYXkgaXRlbSBpcyBiZXR0ZXIgdGhhbiBhIHNoYWxsb3dlciBzdWJzdHJpbmcgb2YgdGhpcyBvbmVcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGotLTtcbiAgICAgICAgfVxuICAgICAgICBpKys7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuXG5mdW5jdGlvbiBsb2FkTG9jYWxlKG5hbWUpIHtcbiAgICB2YXIgb2xkTG9jYWxlID0gbnVsbDtcbiAgICAvLyBUT0RPOiBGaW5kIGEgYmV0dGVyIHdheSB0byByZWdpc3RlciBhbmQgbG9hZCBhbGwgdGhlIGxvY2FsZXMgaW4gTm9kZVxuICAgIGlmICghbG9jYWxlc1tuYW1lXSAmJiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcpICYmXG4gICAgICAgICAgICBtb2R1bGUgJiYgbW9kdWxlLmV4cG9ydHMpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIG9sZExvY2FsZSA9IGdsb2JhbExvY2FsZS5fYWJicjtcbiAgICAgICAgICAgIHJlcXVpcmUoJy4vbG9jYWxlLycgKyBuYW1lKTtcbiAgICAgICAgICAgIC8vIGJlY2F1c2UgZGVmaW5lTG9jYWxlIGN1cnJlbnRseSBhbHNvIHNldHMgdGhlIGdsb2JhbCBsb2NhbGUsIHdlXG4gICAgICAgICAgICAvLyB3YW50IHRvIHVuZG8gdGhhdCBmb3IgbGF6eSBsb2FkZWQgbG9jYWxlc1xuICAgICAgICAgICAgZ2V0U2V0R2xvYmFsTG9jYWxlKG9sZExvY2FsZSk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHsgfVxuICAgIH1cbiAgICByZXR1cm4gbG9jYWxlc1tuYW1lXTtcbn1cblxuLy8gVGhpcyBmdW5jdGlvbiB3aWxsIGxvYWQgbG9jYWxlIGFuZCB0aGVuIHNldCB0aGUgZ2xvYmFsIGxvY2FsZS4gIElmXG4vLyBubyBhcmd1bWVudHMgYXJlIHBhc3NlZCBpbiwgaXQgd2lsbCBzaW1wbHkgcmV0dXJuIHRoZSBjdXJyZW50IGdsb2JhbFxuLy8gbG9jYWxlIGtleS5cbmZ1bmN0aW9uIGdldFNldEdsb2JhbExvY2FsZSAoa2V5LCB2YWx1ZXMpIHtcbiAgICB2YXIgZGF0YTtcbiAgICBpZiAoa2V5KSB7XG4gICAgICAgIGlmIChpc1VuZGVmaW5lZCh2YWx1ZXMpKSB7XG4gICAgICAgICAgICBkYXRhID0gZ2V0TG9jYWxlKGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBkYXRhID0gZGVmaW5lTG9jYWxlKGtleSwgdmFsdWVzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkYXRhKSB7XG4gICAgICAgICAgICAvLyBtb21lbnQuZHVyYXRpb24uX2xvY2FsZSA9IG1vbWVudC5fbG9jYWxlID0gZGF0YTtcbiAgICAgICAgICAgIGdsb2JhbExvY2FsZSA9IGRhdGE7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZ2xvYmFsTG9jYWxlLl9hYmJyO1xufVxuXG5mdW5jdGlvbiBkZWZpbmVMb2NhbGUgKG5hbWUsIGNvbmZpZykge1xuICAgIGlmIChjb25maWcgIT09IG51bGwpIHtcbiAgICAgICAgdmFyIHBhcmVudENvbmZpZyA9IGJhc2VDb25maWc7XG4gICAgICAgIGNvbmZpZy5hYmJyID0gbmFtZTtcbiAgICAgICAgaWYgKGxvY2FsZXNbbmFtZV0gIT0gbnVsbCkge1xuICAgICAgICAgICAgZGVwcmVjYXRlU2ltcGxlKCdkZWZpbmVMb2NhbGVPdmVycmlkZScsXG4gICAgICAgICAgICAgICAgICAgICd1c2UgbW9tZW50LnVwZGF0ZUxvY2FsZShsb2NhbGVOYW1lLCBjb25maWcpIHRvIGNoYW5nZSAnICtcbiAgICAgICAgICAgICAgICAgICAgJ2FuIGV4aXN0aW5nIGxvY2FsZS4gbW9tZW50LmRlZmluZUxvY2FsZShsb2NhbGVOYW1lLCAnICtcbiAgICAgICAgICAgICAgICAgICAgJ2NvbmZpZykgc2hvdWxkIG9ubHkgYmUgdXNlZCBmb3IgY3JlYXRpbmcgYSBuZXcgbG9jYWxlICcgK1xuICAgICAgICAgICAgICAgICAgICAnU2VlIGh0dHA6Ly9tb21lbnRqcy5jb20vZ3VpZGVzLyMvd2FybmluZ3MvZGVmaW5lLWxvY2FsZS8gZm9yIG1vcmUgaW5mby4nKTtcbiAgICAgICAgICAgIHBhcmVudENvbmZpZyA9IGxvY2FsZXNbbmFtZV0uX2NvbmZpZztcbiAgICAgICAgfSBlbHNlIGlmIChjb25maWcucGFyZW50TG9jYWxlICE9IG51bGwpIHtcbiAgICAgICAgICAgIGlmIChsb2NhbGVzW2NvbmZpZy5wYXJlbnRMb2NhbGVdICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBwYXJlbnRDb25maWcgPSBsb2NhbGVzW2NvbmZpZy5wYXJlbnRMb2NhbGVdLl9jb25maWc7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmICghbG9jYWxlRmFtaWxpZXNbY29uZmlnLnBhcmVudExvY2FsZV0pIHtcbiAgICAgICAgICAgICAgICAgICAgbG9jYWxlRmFtaWxpZXNbY29uZmlnLnBhcmVudExvY2FsZV0gPSBbXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbG9jYWxlRmFtaWxpZXNbY29uZmlnLnBhcmVudExvY2FsZV0ucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZzogY29uZmlnXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbG9jYWxlc1tuYW1lXSA9IG5ldyBMb2NhbGUobWVyZ2VDb25maWdzKHBhcmVudENvbmZpZywgY29uZmlnKSk7XG5cbiAgICAgICAgaWYgKGxvY2FsZUZhbWlsaWVzW25hbWVdKSB7XG4gICAgICAgICAgICBsb2NhbGVGYW1pbGllc1tuYW1lXS5mb3JFYWNoKGZ1bmN0aW9uICh4KSB7XG4gICAgICAgICAgICAgICAgZGVmaW5lTG9jYWxlKHgubmFtZSwgeC5jb25maWcpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBiYWNrd2FyZHMgY29tcGF0IGZvciBub3c6IGFsc28gc2V0IHRoZSBsb2NhbGVcbiAgICAgICAgLy8gbWFrZSBzdXJlIHdlIHNldCB0aGUgbG9jYWxlIEFGVEVSIGFsbCBjaGlsZCBsb2NhbGVzIGhhdmUgYmVlblxuICAgICAgICAvLyBjcmVhdGVkLCBzbyB3ZSB3b24ndCBlbmQgdXAgd2l0aCB0aGUgY2hpbGQgbG9jYWxlIHNldC5cbiAgICAgICAgZ2V0U2V0R2xvYmFsTG9jYWxlKG5hbWUpO1xuXG5cbiAgICAgICAgcmV0dXJuIGxvY2FsZXNbbmFtZV07XG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gdXNlZnVsIGZvciB0ZXN0aW5nXG4gICAgICAgIGRlbGV0ZSBsb2NhbGVzW25hbWVdO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZUxvY2FsZShuYW1lLCBjb25maWcpIHtcbiAgICBpZiAoY29uZmlnICE9IG51bGwpIHtcbiAgICAgICAgdmFyIGxvY2FsZSwgcGFyZW50Q29uZmlnID0gYmFzZUNvbmZpZztcbiAgICAgICAgLy8gTUVSR0VcbiAgICAgICAgaWYgKGxvY2FsZXNbbmFtZV0gIT0gbnVsbCkge1xuICAgICAgICAgICAgcGFyZW50Q29uZmlnID0gbG9jYWxlc1tuYW1lXS5fY29uZmlnO1xuICAgICAgICB9XG4gICAgICAgIGNvbmZpZyA9IG1lcmdlQ29uZmlncyhwYXJlbnRDb25maWcsIGNvbmZpZyk7XG4gICAgICAgIGxvY2FsZSA9IG5ldyBMb2NhbGUoY29uZmlnKTtcbiAgICAgICAgbG9jYWxlLnBhcmVudExvY2FsZSA9IGxvY2FsZXNbbmFtZV07XG4gICAgICAgIGxvY2FsZXNbbmFtZV0gPSBsb2NhbGU7XG5cbiAgICAgICAgLy8gYmFja3dhcmRzIGNvbXBhdCBmb3Igbm93OiBhbHNvIHNldCB0aGUgbG9jYWxlXG4gICAgICAgIGdldFNldEdsb2JhbExvY2FsZShuYW1lKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICAvLyBwYXNzIG51bGwgZm9yIGNvbmZpZyB0byB1bnVwZGF0ZSwgdXNlZnVsIGZvciB0ZXN0c1xuICAgICAgICBpZiAobG9jYWxlc1tuYW1lXSAhPSBudWxsKSB7XG4gICAgICAgICAgICBpZiAobG9jYWxlc1tuYW1lXS5wYXJlbnRMb2NhbGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGxvY2FsZXNbbmFtZV0gPSBsb2NhbGVzW25hbWVdLnBhcmVudExvY2FsZTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobG9jYWxlc1tuYW1lXSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlIGxvY2FsZXNbbmFtZV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGxvY2FsZXNbbmFtZV07XG59XG5cbi8vIHJldHVybnMgbG9jYWxlIGRhdGFcbmZ1bmN0aW9uIGdldExvY2FsZSAoa2V5KSB7XG4gICAgdmFyIGxvY2FsZTtcblxuICAgIGlmIChrZXkgJiYga2V5Ll9sb2NhbGUgJiYga2V5Ll9sb2NhbGUuX2FiYnIpIHtcbiAgICAgICAga2V5ID0ga2V5Ll9sb2NhbGUuX2FiYnI7XG4gICAgfVxuXG4gICAgaWYgKCFrZXkpIHtcbiAgICAgICAgcmV0dXJuIGdsb2JhbExvY2FsZTtcbiAgICB9XG5cbiAgICBpZiAoIWlzQXJyYXkoa2V5KSkge1xuICAgICAgICAvL3Nob3J0LWNpcmN1aXQgZXZlcnl0aGluZyBlbHNlXG4gICAgICAgIGxvY2FsZSA9IGxvYWRMb2NhbGUoa2V5KTtcbiAgICAgICAgaWYgKGxvY2FsZSkge1xuICAgICAgICAgICAgcmV0dXJuIGxvY2FsZTtcbiAgICAgICAgfVxuICAgICAgICBrZXkgPSBba2V5XTtcbiAgICB9XG5cbiAgICByZXR1cm4gY2hvb3NlTG9jYWxlKGtleSk7XG59XG5cbmZ1bmN0aW9uIGxpc3RMb2NhbGVzKCkge1xuICAgIHJldHVybiBrZXlzJDEobG9jYWxlcyk7XG59XG5cbmZ1bmN0aW9uIGNoZWNrT3ZlcmZsb3cgKG0pIHtcbiAgICB2YXIgb3ZlcmZsb3c7XG4gICAgdmFyIGEgPSBtLl9hO1xuXG4gICAgaWYgKGEgJiYgZ2V0UGFyc2luZ0ZsYWdzKG0pLm92ZXJmbG93ID09PSAtMikge1xuICAgICAgICBvdmVyZmxvdyA9XG4gICAgICAgICAgICBhW01PTlRIXSAgICAgICA8IDAgfHwgYVtNT05USF0gICAgICAgPiAxMSAgPyBNT05USCA6XG4gICAgICAgICAgICBhW0RBVEVdICAgICAgICA8IDEgfHwgYVtEQVRFXSAgICAgICAgPiBkYXlzSW5Nb250aChhW1lFQVJdLCBhW01PTlRIXSkgPyBEQVRFIDpcbiAgICAgICAgICAgIGFbSE9VUl0gICAgICAgIDwgMCB8fCBhW0hPVVJdICAgICAgICA+IDI0IHx8IChhW0hPVVJdID09PSAyNCAmJiAoYVtNSU5VVEVdICE9PSAwIHx8IGFbU0VDT05EXSAhPT0gMCB8fCBhW01JTExJU0VDT05EXSAhPT0gMCkpID8gSE9VUiA6XG4gICAgICAgICAgICBhW01JTlVURV0gICAgICA8IDAgfHwgYVtNSU5VVEVdICAgICAgPiA1OSAgPyBNSU5VVEUgOlxuICAgICAgICAgICAgYVtTRUNPTkRdICAgICAgPCAwIHx8IGFbU0VDT05EXSAgICAgID4gNTkgID8gU0VDT05EIDpcbiAgICAgICAgICAgIGFbTUlMTElTRUNPTkRdIDwgMCB8fCBhW01JTExJU0VDT05EXSA+IDk5OSA/IE1JTExJU0VDT05EIDpcbiAgICAgICAgICAgIC0xO1xuXG4gICAgICAgIGlmIChnZXRQYXJzaW5nRmxhZ3MobSkuX292ZXJmbG93RGF5T2ZZZWFyICYmIChvdmVyZmxvdyA8IFlFQVIgfHwgb3ZlcmZsb3cgPiBEQVRFKSkge1xuICAgICAgICAgICAgb3ZlcmZsb3cgPSBEQVRFO1xuICAgICAgICB9XG4gICAgICAgIGlmIChnZXRQYXJzaW5nRmxhZ3MobSkuX292ZXJmbG93V2Vla3MgJiYgb3ZlcmZsb3cgPT09IC0xKSB7XG4gICAgICAgICAgICBvdmVyZmxvdyA9IFdFRUs7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGdldFBhcnNpbmdGbGFncyhtKS5fb3ZlcmZsb3dXZWVrZGF5ICYmIG92ZXJmbG93ID09PSAtMSkge1xuICAgICAgICAgICAgb3ZlcmZsb3cgPSBXRUVLREFZO1xuICAgICAgICB9XG5cbiAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKG0pLm92ZXJmbG93ID0gb3ZlcmZsb3c7XG4gICAgfVxuXG4gICAgcmV0dXJuIG07XG59XG5cbi8vIGlzbyA4NjAxIHJlZ2V4XG4vLyAwMDAwLTAwLTAwIDAwMDAtVzAwIG9yIDAwMDAtVzAwLTAgKyBUICsgMDAgb3IgMDA6MDAgb3IgMDA6MDA6MDAgb3IgMDA6MDA6MDAuMDAwICsgKzAwOjAwIG9yICswMDAwIG9yICswMClcbnZhciBleHRlbmRlZElzb1JlZ2V4ID0gL15cXHMqKCg/OlsrLV1cXGR7Nn18XFxkezR9KS0oPzpcXGRcXGQtXFxkXFxkfFdcXGRcXGQtXFxkfFdcXGRcXGR8XFxkXFxkXFxkfFxcZFxcZCkpKD86KFR8ICkoXFxkXFxkKD86OlxcZFxcZCg/OjpcXGRcXGQoPzpbLixdXFxkKyk/KT8pPykoW1xcK1xcLV1cXGRcXGQoPzo6P1xcZFxcZCk/fFxccypaKT8pPyQvO1xudmFyIGJhc2ljSXNvUmVnZXggPSAvXlxccyooKD86WystXVxcZHs2fXxcXGR7NH0pKD86XFxkXFxkXFxkXFxkfFdcXGRcXGRcXGR8V1xcZFxcZHxcXGRcXGRcXGR8XFxkXFxkKSkoPzooVHwgKShcXGRcXGQoPzpcXGRcXGQoPzpcXGRcXGQoPzpbLixdXFxkKyk/KT8pPykoW1xcK1xcLV1cXGRcXGQoPzo6P1xcZFxcZCk/fFxccypaKT8pPyQvO1xuXG52YXIgdHpSZWdleCA9IC9afFsrLV1cXGRcXGQoPzo6P1xcZFxcZCk/LztcblxudmFyIGlzb0RhdGVzID0gW1xuICAgIFsnWVlZWVlZLU1NLUREJywgL1srLV1cXGR7Nn0tXFxkXFxkLVxcZFxcZC9dLFxuICAgIFsnWVlZWS1NTS1ERCcsIC9cXGR7NH0tXFxkXFxkLVxcZFxcZC9dLFxuICAgIFsnR0dHRy1bV11XVy1FJywgL1xcZHs0fS1XXFxkXFxkLVxcZC9dLFxuICAgIFsnR0dHRy1bV11XVycsIC9cXGR7NH0tV1xcZFxcZC8sIGZhbHNlXSxcbiAgICBbJ1lZWVktREREJywgL1xcZHs0fS1cXGR7M30vXSxcbiAgICBbJ1lZWVktTU0nLCAvXFxkezR9LVxcZFxcZC8sIGZhbHNlXSxcbiAgICBbJ1lZWVlZWU1NREQnLCAvWystXVxcZHsxMH0vXSxcbiAgICBbJ1lZWVlNTUREJywgL1xcZHs4fS9dLFxuICAgIC8vIFlZWVlNTSBpcyBOT1QgYWxsb3dlZCBieSB0aGUgc3RhbmRhcmRcbiAgICBbJ0dHR0dbV11XV0UnLCAvXFxkezR9V1xcZHszfS9dLFxuICAgIFsnR0dHR1tXXVdXJywgL1xcZHs0fVdcXGR7Mn0vLCBmYWxzZV0sXG4gICAgWydZWVlZREREJywgL1xcZHs3fS9dXG5dO1xuXG4vLyBpc28gdGltZSBmb3JtYXRzIGFuZCByZWdleGVzXG52YXIgaXNvVGltZXMgPSBbXG4gICAgWydISDptbTpzcy5TU1NTJywgL1xcZFxcZDpcXGRcXGQ6XFxkXFxkXFwuXFxkKy9dLFxuICAgIFsnSEg6bW06c3MsU1NTUycsIC9cXGRcXGQ6XFxkXFxkOlxcZFxcZCxcXGQrL10sXG4gICAgWydISDptbTpzcycsIC9cXGRcXGQ6XFxkXFxkOlxcZFxcZC9dLFxuICAgIFsnSEg6bW0nLCAvXFxkXFxkOlxcZFxcZC9dLFxuICAgIFsnSEhtbXNzLlNTU1MnLCAvXFxkXFxkXFxkXFxkXFxkXFxkXFwuXFxkKy9dLFxuICAgIFsnSEhtbXNzLFNTU1MnLCAvXFxkXFxkXFxkXFxkXFxkXFxkLFxcZCsvXSxcbiAgICBbJ0hIbW1zcycsIC9cXGRcXGRcXGRcXGRcXGRcXGQvXSxcbiAgICBbJ0hIbW0nLCAvXFxkXFxkXFxkXFxkL10sXG4gICAgWydISCcsIC9cXGRcXGQvXVxuXTtcblxudmFyIGFzcE5ldEpzb25SZWdleCA9IC9eXFwvP0RhdGVcXCgoXFwtP1xcZCspL2k7XG5cbi8vIGRhdGUgZnJvbSBpc28gZm9ybWF0XG5mdW5jdGlvbiBjb25maWdGcm9tSVNPKGNvbmZpZykge1xuICAgIHZhciBpLCBsLFxuICAgICAgICBzdHJpbmcgPSBjb25maWcuX2ksXG4gICAgICAgIG1hdGNoID0gZXh0ZW5kZWRJc29SZWdleC5leGVjKHN0cmluZykgfHwgYmFzaWNJc29SZWdleC5leGVjKHN0cmluZyksXG4gICAgICAgIGFsbG93VGltZSwgZGF0ZUZvcm1hdCwgdGltZUZvcm1hdCwgdHpGb3JtYXQ7XG5cbiAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuaXNvID0gdHJ1ZTtcblxuICAgICAgICBmb3IgKGkgPSAwLCBsID0gaXNvRGF0ZXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoaXNvRGF0ZXNbaV1bMV0uZXhlYyhtYXRjaFsxXSkpIHtcbiAgICAgICAgICAgICAgICBkYXRlRm9ybWF0ID0gaXNvRGF0ZXNbaV1bMF07XG4gICAgICAgICAgICAgICAgYWxsb3dUaW1lID0gaXNvRGF0ZXNbaV1bMl0gIT09IGZhbHNlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChkYXRlRm9ybWF0ID09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbmZpZy5faXNWYWxpZCA9IGZhbHNlO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtYXRjaFszXSkge1xuICAgICAgICAgICAgZm9yIChpID0gMCwgbCA9IGlzb1RpbWVzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmIChpc29UaW1lc1tpXVsxXS5leGVjKG1hdGNoWzNdKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBtYXRjaFsyXSBzaG91bGQgYmUgJ1QnIG9yIHNwYWNlXG4gICAgICAgICAgICAgICAgICAgIHRpbWVGb3JtYXQgPSAobWF0Y2hbMl0gfHwgJyAnKSArIGlzb1RpbWVzW2ldWzBdO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGltZUZvcm1hdCA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY29uZmlnLl9pc1ZhbGlkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghYWxsb3dUaW1lICYmIHRpbWVGb3JtYXQgIT0gbnVsbCkge1xuICAgICAgICAgICAgY29uZmlnLl9pc1ZhbGlkID0gZmFsc2U7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1hdGNoWzRdKSB7XG4gICAgICAgICAgICBpZiAodHpSZWdleC5leGVjKG1hdGNoWzRdKSkge1xuICAgICAgICAgICAgICAgIHR6Rm9ybWF0ID0gJ1onO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25maWcuX2lzVmFsaWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uZmlnLl9mID0gZGF0ZUZvcm1hdCArICh0aW1lRm9ybWF0IHx8ICcnKSArICh0ekZvcm1hdCB8fCAnJyk7XG4gICAgICAgIGNvbmZpZ0Zyb21TdHJpbmdBbmRGb3JtYXQoY29uZmlnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBjb25maWcuX2lzVmFsaWQgPSBmYWxzZTtcbiAgICB9XG59XG5cbi8vIGRhdGUgZnJvbSBpc28gZm9ybWF0IG9yIGZhbGxiYWNrXG5mdW5jdGlvbiBjb25maWdGcm9tU3RyaW5nKGNvbmZpZykge1xuICAgIHZhciBtYXRjaGVkID0gYXNwTmV0SnNvblJlZ2V4LmV4ZWMoY29uZmlnLl9pKTtcblxuICAgIGlmIChtYXRjaGVkICE9PSBudWxsKSB7XG4gICAgICAgIGNvbmZpZy5fZCA9IG5ldyBEYXRlKCttYXRjaGVkWzFdKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbmZpZ0Zyb21JU08oY29uZmlnKTtcbiAgICBpZiAoY29uZmlnLl9pc1ZhbGlkID09PSBmYWxzZSkge1xuICAgICAgICBkZWxldGUgY29uZmlnLl9pc1ZhbGlkO1xuICAgICAgICBob29rcy5jcmVhdGVGcm9tSW5wdXRGYWxsYmFjayhjb25maWcpO1xuICAgIH1cbn1cblxuaG9va3MuY3JlYXRlRnJvbUlucHV0RmFsbGJhY2sgPSBkZXByZWNhdGUoXG4gICAgJ3ZhbHVlIHByb3ZpZGVkIGlzIG5vdCBpbiBhIHJlY29nbml6ZWQgSVNPIGZvcm1hdC4gbW9tZW50IGNvbnN0cnVjdGlvbiBmYWxscyBiYWNrIHRvIGpzIERhdGUoKSwgJyArXG4gICAgJ3doaWNoIGlzIG5vdCByZWxpYWJsZSBhY3Jvc3MgYWxsIGJyb3dzZXJzIGFuZCB2ZXJzaW9ucy4gTm9uIElTTyBkYXRlIGZvcm1hdHMgYXJlICcgK1xuICAgICdkaXNjb3VyYWdlZCBhbmQgd2lsbCBiZSByZW1vdmVkIGluIGFuIHVwY29taW5nIG1ham9yIHJlbGVhc2UuIFBsZWFzZSByZWZlciB0byAnICtcbiAgICAnaHR0cDovL21vbWVudGpzLmNvbS9ndWlkZXMvIy93YXJuaW5ncy9qcy1kYXRlLyBmb3IgbW9yZSBpbmZvLicsXG4gICAgZnVuY3Rpb24gKGNvbmZpZykge1xuICAgICAgICBjb25maWcuX2QgPSBuZXcgRGF0ZShjb25maWcuX2kgKyAoY29uZmlnLl91c2VVVEMgPyAnIFVUQycgOiAnJykpO1xuICAgIH1cbik7XG5cbi8vIFBpY2sgdGhlIGZpcnN0IGRlZmluZWQgb2YgdHdvIG9yIHRocmVlIGFyZ3VtZW50cy5cbmZ1bmN0aW9uIGRlZmF1bHRzKGEsIGIsIGMpIHtcbiAgICBpZiAoYSAhPSBudWxsKSB7XG4gICAgICAgIHJldHVybiBhO1xuICAgIH1cbiAgICBpZiAoYiAhPSBudWxsKSB7XG4gICAgICAgIHJldHVybiBiO1xuICAgIH1cbiAgICByZXR1cm4gYztcbn1cblxuZnVuY3Rpb24gY3VycmVudERhdGVBcnJheShjb25maWcpIHtcbiAgICAvLyBob29rcyBpcyBhY3R1YWxseSB0aGUgZXhwb3J0ZWQgbW9tZW50IG9iamVjdFxuICAgIHZhciBub3dWYWx1ZSA9IG5ldyBEYXRlKGhvb2tzLm5vdygpKTtcbiAgICBpZiAoY29uZmlnLl91c2VVVEMpIHtcbiAgICAgICAgcmV0dXJuIFtub3dWYWx1ZS5nZXRVVENGdWxsWWVhcigpLCBub3dWYWx1ZS5nZXRVVENNb250aCgpLCBub3dWYWx1ZS5nZXRVVENEYXRlKCldO1xuICAgIH1cbiAgICByZXR1cm4gW25vd1ZhbHVlLmdldEZ1bGxZZWFyKCksIG5vd1ZhbHVlLmdldE1vbnRoKCksIG5vd1ZhbHVlLmdldERhdGUoKV07XG59XG5cbi8vIGNvbnZlcnQgYW4gYXJyYXkgdG8gYSBkYXRlLlxuLy8gdGhlIGFycmF5IHNob3VsZCBtaXJyb3IgdGhlIHBhcmFtZXRlcnMgYmVsb3dcbi8vIG5vdGU6IGFsbCB2YWx1ZXMgcGFzdCB0aGUgeWVhciBhcmUgb3B0aW9uYWwgYW5kIHdpbGwgZGVmYXVsdCB0byB0aGUgbG93ZXN0IHBvc3NpYmxlIHZhbHVlLlxuLy8gW3llYXIsIG1vbnRoLCBkYXkgLCBob3VyLCBtaW51dGUsIHNlY29uZCwgbWlsbGlzZWNvbmRdXG5mdW5jdGlvbiBjb25maWdGcm9tQXJyYXkgKGNvbmZpZykge1xuICAgIHZhciBpLCBkYXRlLCBpbnB1dCA9IFtdLCBjdXJyZW50RGF0ZSwgeWVhclRvVXNlO1xuXG4gICAgaWYgKGNvbmZpZy5fZCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY3VycmVudERhdGUgPSBjdXJyZW50RGF0ZUFycmF5KGNvbmZpZyk7XG5cbiAgICAvL2NvbXB1dGUgZGF5IG9mIHRoZSB5ZWFyIGZyb20gd2Vla3MgYW5kIHdlZWtkYXlzXG4gICAgaWYgKGNvbmZpZy5fdyAmJiBjb25maWcuX2FbREFURV0gPT0gbnVsbCAmJiBjb25maWcuX2FbTU9OVEhdID09IG51bGwpIHtcbiAgICAgICAgZGF5T2ZZZWFyRnJvbVdlZWtJbmZvKGNvbmZpZyk7XG4gICAgfVxuXG4gICAgLy9pZiB0aGUgZGF5IG9mIHRoZSB5ZWFyIGlzIHNldCwgZmlndXJlIG91dCB3aGF0IGl0IGlzXG4gICAgaWYgKGNvbmZpZy5fZGF5T2ZZZWFyKSB7XG4gICAgICAgIHllYXJUb1VzZSA9IGRlZmF1bHRzKGNvbmZpZy5fYVtZRUFSXSwgY3VycmVudERhdGVbWUVBUl0pO1xuXG4gICAgICAgIGlmIChjb25maWcuX2RheU9mWWVhciA+IGRheXNJblllYXIoeWVhclRvVXNlKSkge1xuICAgICAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuX292ZXJmbG93RGF5T2ZZZWFyID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGRhdGUgPSBjcmVhdGVVVENEYXRlKHllYXJUb1VzZSwgMCwgY29uZmlnLl9kYXlPZlllYXIpO1xuICAgICAgICBjb25maWcuX2FbTU9OVEhdID0gZGF0ZS5nZXRVVENNb250aCgpO1xuICAgICAgICBjb25maWcuX2FbREFURV0gPSBkYXRlLmdldFVUQ0RhdGUoKTtcbiAgICB9XG5cbiAgICAvLyBEZWZhdWx0IHRvIGN1cnJlbnQgZGF0ZS5cbiAgICAvLyAqIGlmIG5vIHllYXIsIG1vbnRoLCBkYXkgb2YgbW9udGggYXJlIGdpdmVuLCBkZWZhdWx0IHRvIHRvZGF5XG4gICAgLy8gKiBpZiBkYXkgb2YgbW9udGggaXMgZ2l2ZW4sIGRlZmF1bHQgbW9udGggYW5kIHllYXJcbiAgICAvLyAqIGlmIG1vbnRoIGlzIGdpdmVuLCBkZWZhdWx0IG9ubHkgeWVhclxuICAgIC8vICogaWYgeWVhciBpcyBnaXZlbiwgZG9uJ3QgZGVmYXVsdCBhbnl0aGluZ1xuICAgIGZvciAoaSA9IDA7IGkgPCAzICYmIGNvbmZpZy5fYVtpXSA9PSBudWxsOyArK2kpIHtcbiAgICAgICAgY29uZmlnLl9hW2ldID0gaW5wdXRbaV0gPSBjdXJyZW50RGF0ZVtpXTtcbiAgICB9XG5cbiAgICAvLyBaZXJvIG91dCB3aGF0ZXZlciB3YXMgbm90IGRlZmF1bHRlZCwgaW5jbHVkaW5nIHRpbWVcbiAgICBmb3IgKDsgaSA8IDc7IGkrKykge1xuICAgICAgICBjb25maWcuX2FbaV0gPSBpbnB1dFtpXSA9IChjb25maWcuX2FbaV0gPT0gbnVsbCkgPyAoaSA9PT0gMiA/IDEgOiAwKSA6IGNvbmZpZy5fYVtpXTtcbiAgICB9XG5cbiAgICAvLyBDaGVjayBmb3IgMjQ6MDA6MDAuMDAwXG4gICAgaWYgKGNvbmZpZy5fYVtIT1VSXSA9PT0gMjQgJiZcbiAgICAgICAgICAgIGNvbmZpZy5fYVtNSU5VVEVdID09PSAwICYmXG4gICAgICAgICAgICBjb25maWcuX2FbU0VDT05EXSA9PT0gMCAmJlxuICAgICAgICAgICAgY29uZmlnLl9hW01JTExJU0VDT05EXSA9PT0gMCkge1xuICAgICAgICBjb25maWcuX25leHREYXkgPSB0cnVlO1xuICAgICAgICBjb25maWcuX2FbSE9VUl0gPSAwO1xuICAgIH1cblxuICAgIGNvbmZpZy5fZCA9IChjb25maWcuX3VzZVVUQyA/IGNyZWF0ZVVUQ0RhdGUgOiBjcmVhdGVEYXRlKS5hcHBseShudWxsLCBpbnB1dCk7XG4gICAgLy8gQXBwbHkgdGltZXpvbmUgb2Zmc2V0IGZyb20gaW5wdXQuIFRoZSBhY3R1YWwgdXRjT2Zmc2V0IGNhbiBiZSBjaGFuZ2VkXG4gICAgLy8gd2l0aCBwYXJzZVpvbmUuXG4gICAgaWYgKGNvbmZpZy5fdHptICE9IG51bGwpIHtcbiAgICAgICAgY29uZmlnLl9kLnNldFVUQ01pbnV0ZXMoY29uZmlnLl9kLmdldFVUQ01pbnV0ZXMoKSAtIGNvbmZpZy5fdHptKTtcbiAgICB9XG5cbiAgICBpZiAoY29uZmlnLl9uZXh0RGF5KSB7XG4gICAgICAgIGNvbmZpZy5fYVtIT1VSXSA9IDI0O1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZGF5T2ZZZWFyRnJvbVdlZWtJbmZvKGNvbmZpZykge1xuICAgIHZhciB3LCB3ZWVrWWVhciwgd2Vlaywgd2Vla2RheSwgZG93LCBkb3ksIHRlbXAsIHdlZWtkYXlPdmVyZmxvdztcblxuICAgIHcgPSBjb25maWcuX3c7XG4gICAgaWYgKHcuR0cgIT0gbnVsbCB8fCB3LlcgIT0gbnVsbCB8fCB3LkUgIT0gbnVsbCkge1xuICAgICAgICBkb3cgPSAxO1xuICAgICAgICBkb3kgPSA0O1xuXG4gICAgICAgIC8vIFRPRE86IFdlIG5lZWQgdG8gdGFrZSB0aGUgY3VycmVudCBpc29XZWVrWWVhciwgYnV0IHRoYXQgZGVwZW5kcyBvblxuICAgICAgICAvLyBob3cgd2UgaW50ZXJwcmV0IG5vdyAobG9jYWwsIHV0YywgZml4ZWQgb2Zmc2V0KS4gU28gY3JlYXRlXG4gICAgICAgIC8vIGEgbm93IHZlcnNpb24gb2YgY3VycmVudCBjb25maWcgKHRha2UgbG9jYWwvdXRjL29mZnNldCBmbGFncywgYW5kXG4gICAgICAgIC8vIGNyZWF0ZSBub3cpLlxuICAgICAgICB3ZWVrWWVhciA9IGRlZmF1bHRzKHcuR0csIGNvbmZpZy5fYVtZRUFSXSwgd2Vla09mWWVhcihjcmVhdGVMb2NhbCgpLCAxLCA0KS55ZWFyKTtcbiAgICAgICAgd2VlayA9IGRlZmF1bHRzKHcuVywgMSk7XG4gICAgICAgIHdlZWtkYXkgPSBkZWZhdWx0cyh3LkUsIDEpO1xuICAgICAgICBpZiAod2Vla2RheSA8IDEgfHwgd2Vla2RheSA+IDcpIHtcbiAgICAgICAgICAgIHdlZWtkYXlPdmVyZmxvdyA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICBkb3cgPSBjb25maWcuX2xvY2FsZS5fd2Vlay5kb3c7XG4gICAgICAgIGRveSA9IGNvbmZpZy5fbG9jYWxlLl93ZWVrLmRveTtcblxuICAgICAgICB2YXIgY3VyV2VlayA9IHdlZWtPZlllYXIoY3JlYXRlTG9jYWwoKSwgZG93LCBkb3kpO1xuXG4gICAgICAgIHdlZWtZZWFyID0gZGVmYXVsdHMody5nZywgY29uZmlnLl9hW1lFQVJdLCBjdXJXZWVrLnllYXIpO1xuXG4gICAgICAgIC8vIERlZmF1bHQgdG8gY3VycmVudCB3ZWVrLlxuICAgICAgICB3ZWVrID0gZGVmYXVsdHMody53LCBjdXJXZWVrLndlZWspO1xuXG4gICAgICAgIGlmICh3LmQgIT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gd2Vla2RheSAtLSBsb3cgZGF5IG51bWJlcnMgYXJlIGNvbnNpZGVyZWQgbmV4dCB3ZWVrXG4gICAgICAgICAgICB3ZWVrZGF5ID0gdy5kO1xuICAgICAgICAgICAgaWYgKHdlZWtkYXkgPCAwIHx8IHdlZWtkYXkgPiA2KSB7XG4gICAgICAgICAgICAgICAgd2Vla2RheU92ZXJmbG93ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICh3LmUgIT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gbG9jYWwgd2Vla2RheSAtLSBjb3VudGluZyBzdGFydHMgZnJvbSBiZWdpbmluZyBvZiB3ZWVrXG4gICAgICAgICAgICB3ZWVrZGF5ID0gdy5lICsgZG93O1xuICAgICAgICAgICAgaWYgKHcuZSA8IDAgfHwgdy5lID4gNikge1xuICAgICAgICAgICAgICAgIHdlZWtkYXlPdmVyZmxvdyA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBkZWZhdWx0IHRvIGJlZ2luaW5nIG9mIHdlZWtcbiAgICAgICAgICAgIHdlZWtkYXkgPSBkb3c7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKHdlZWsgPCAxIHx8IHdlZWsgPiB3ZWVrc0luWWVhcih3ZWVrWWVhciwgZG93LCBkb3kpKSB7XG4gICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLl9vdmVyZmxvd1dlZWtzID0gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKHdlZWtkYXlPdmVyZmxvdyAhPSBudWxsKSB7XG4gICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLl9vdmVyZmxvd1dlZWtkYXkgPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHRlbXAgPSBkYXlPZlllYXJGcm9tV2Vla3Mod2Vla1llYXIsIHdlZWssIHdlZWtkYXksIGRvdywgZG95KTtcbiAgICAgICAgY29uZmlnLl9hW1lFQVJdID0gdGVtcC55ZWFyO1xuICAgICAgICBjb25maWcuX2RheU9mWWVhciA9IHRlbXAuZGF5T2ZZZWFyO1xuICAgIH1cbn1cblxuLy8gY29uc3RhbnQgdGhhdCByZWZlcnMgdG8gdGhlIElTTyBzdGFuZGFyZFxuaG9va3MuSVNPXzg2MDEgPSBmdW5jdGlvbiAoKSB7fTtcblxuLy8gZGF0ZSBmcm9tIHN0cmluZyBhbmQgZm9ybWF0IHN0cmluZ1xuZnVuY3Rpb24gY29uZmlnRnJvbVN0cmluZ0FuZEZvcm1hdChjb25maWcpIHtcbiAgICAvLyBUT0RPOiBNb3ZlIHRoaXMgdG8gYW5vdGhlciBwYXJ0IG9mIHRoZSBjcmVhdGlvbiBmbG93IHRvIHByZXZlbnQgY2lyY3VsYXIgZGVwc1xuICAgIGlmIChjb25maWcuX2YgPT09IGhvb2tzLklTT184NjAxKSB7XG4gICAgICAgIGNvbmZpZ0Zyb21JU08oY29uZmlnKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbmZpZy5fYSA9IFtdO1xuICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmVtcHR5ID0gdHJ1ZTtcblxuICAgIC8vIFRoaXMgYXJyYXkgaXMgdXNlZCB0byBtYWtlIGEgRGF0ZSwgZWl0aGVyIHdpdGggYG5ldyBEYXRlYCBvciBgRGF0ZS5VVENgXG4gICAgdmFyIHN0cmluZyA9ICcnICsgY29uZmlnLl9pLFxuICAgICAgICBpLCBwYXJzZWRJbnB1dCwgdG9rZW5zLCB0b2tlbiwgc2tpcHBlZCxcbiAgICAgICAgc3RyaW5nTGVuZ3RoID0gc3RyaW5nLmxlbmd0aCxcbiAgICAgICAgdG90YWxQYXJzZWRJbnB1dExlbmd0aCA9IDA7XG5cbiAgICB0b2tlbnMgPSBleHBhbmRGb3JtYXQoY29uZmlnLl9mLCBjb25maWcuX2xvY2FsZSkubWF0Y2goZm9ybWF0dGluZ1Rva2VucykgfHwgW107XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgdG9rZW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHRva2VuID0gdG9rZW5zW2ldO1xuICAgICAgICBwYXJzZWRJbnB1dCA9IChzdHJpbmcubWF0Y2goZ2V0UGFyc2VSZWdleEZvclRva2VuKHRva2VuLCBjb25maWcpKSB8fCBbXSlbMF07XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCd0b2tlbicsIHRva2VuLCAncGFyc2VkSW5wdXQnLCBwYXJzZWRJbnB1dCxcbiAgICAgICAgLy8gICAgICAgICAncmVnZXgnLCBnZXRQYXJzZVJlZ2V4Rm9yVG9rZW4odG9rZW4sIGNvbmZpZykpO1xuICAgICAgICBpZiAocGFyc2VkSW5wdXQpIHtcbiAgICAgICAgICAgIHNraXBwZWQgPSBzdHJpbmcuc3Vic3RyKDAsIHN0cmluZy5pbmRleE9mKHBhcnNlZElucHV0KSk7XG4gICAgICAgICAgICBpZiAoc2tpcHBlZC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykudW51c2VkSW5wdXQucHVzaChza2lwcGVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN0cmluZyA9IHN0cmluZy5zbGljZShzdHJpbmcuaW5kZXhPZihwYXJzZWRJbnB1dCkgKyBwYXJzZWRJbnB1dC5sZW5ndGgpO1xuICAgICAgICAgICAgdG90YWxQYXJzZWRJbnB1dExlbmd0aCArPSBwYXJzZWRJbnB1dC5sZW5ndGg7XG4gICAgICAgIH1cbiAgICAgICAgLy8gZG9uJ3QgcGFyc2UgaWYgaXQncyBub3QgYSBrbm93biB0b2tlblxuICAgICAgICBpZiAoZm9ybWF0VG9rZW5GdW5jdGlvbnNbdG9rZW5dKSB7XG4gICAgICAgICAgICBpZiAocGFyc2VkSW5wdXQpIHtcbiAgICAgICAgICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5lbXB0eSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykudW51c2VkVG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYWRkVGltZVRvQXJyYXlGcm9tVG9rZW4odG9rZW4sIHBhcnNlZElucHV0LCBjb25maWcpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGNvbmZpZy5fc3RyaWN0ICYmICFwYXJzZWRJbnB1dCkge1xuICAgICAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykudW51c2VkVG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gYWRkIHJlbWFpbmluZyB1bnBhcnNlZCBpbnB1dCBsZW5ndGggdG8gdGhlIHN0cmluZ1xuICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmNoYXJzTGVmdE92ZXIgPSBzdHJpbmdMZW5ndGggLSB0b3RhbFBhcnNlZElucHV0TGVuZ3RoO1xuICAgIGlmIChzdHJpbmcubGVuZ3RoID4gMCkge1xuICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS51bnVzZWRJbnB1dC5wdXNoKHN0cmluZyk7XG4gICAgfVxuXG4gICAgLy8gY2xlYXIgXzEyaCBmbGFnIGlmIGhvdXIgaXMgPD0gMTJcbiAgICBpZiAoY29uZmlnLl9hW0hPVVJdIDw9IDEyICYmXG4gICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmJpZ0hvdXIgPT09IHRydWUgJiZcbiAgICAgICAgY29uZmlnLl9hW0hPVVJdID4gMCkge1xuICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5iaWdIb3VyID0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLnBhcnNlZERhdGVQYXJ0cyA9IGNvbmZpZy5fYS5zbGljZSgwKTtcbiAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5tZXJpZGllbSA9IGNvbmZpZy5fbWVyaWRpZW07XG4gICAgLy8gaGFuZGxlIG1lcmlkaWVtXG4gICAgY29uZmlnLl9hW0hPVVJdID0gbWVyaWRpZW1GaXhXcmFwKGNvbmZpZy5fbG9jYWxlLCBjb25maWcuX2FbSE9VUl0sIGNvbmZpZy5fbWVyaWRpZW0pO1xuXG4gICAgY29uZmlnRnJvbUFycmF5KGNvbmZpZyk7XG4gICAgY2hlY2tPdmVyZmxvdyhjb25maWcpO1xufVxuXG5cbmZ1bmN0aW9uIG1lcmlkaWVtRml4V3JhcCAobG9jYWxlLCBob3VyLCBtZXJpZGllbSkge1xuICAgIHZhciBpc1BtO1xuXG4gICAgaWYgKG1lcmlkaWVtID09IG51bGwpIHtcbiAgICAgICAgLy8gbm90aGluZyB0byBkb1xuICAgICAgICByZXR1cm4gaG91cjtcbiAgICB9XG4gICAgaWYgKGxvY2FsZS5tZXJpZGllbUhvdXIgIT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gbG9jYWxlLm1lcmlkaWVtSG91cihob3VyLCBtZXJpZGllbSk7XG4gICAgfSBlbHNlIGlmIChsb2NhbGUuaXNQTSAhPSBudWxsKSB7XG4gICAgICAgIC8vIEZhbGxiYWNrXG4gICAgICAgIGlzUG0gPSBsb2NhbGUuaXNQTShtZXJpZGllbSk7XG4gICAgICAgIGlmIChpc1BtICYmIGhvdXIgPCAxMikge1xuICAgICAgICAgICAgaG91ciArPSAxMjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzUG0gJiYgaG91ciA9PT0gMTIpIHtcbiAgICAgICAgICAgIGhvdXIgPSAwO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBob3VyO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIHRoaXMgaXMgbm90IHN1cHBvc2VkIHRvIGhhcHBlblxuICAgICAgICByZXR1cm4gaG91cjtcbiAgICB9XG59XG5cbi8vIGRhdGUgZnJvbSBzdHJpbmcgYW5kIGFycmF5IG9mIGZvcm1hdCBzdHJpbmdzXG5mdW5jdGlvbiBjb25maWdGcm9tU3RyaW5nQW5kQXJyYXkoY29uZmlnKSB7XG4gICAgdmFyIHRlbXBDb25maWcsXG4gICAgICAgIGJlc3RNb21lbnQsXG5cbiAgICAgICAgc2NvcmVUb0JlYXQsXG4gICAgICAgIGksXG4gICAgICAgIGN1cnJlbnRTY29yZTtcblxuICAgIGlmIChjb25maWcuX2YubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmludmFsaWRGb3JtYXQgPSB0cnVlO1xuICAgICAgICBjb25maWcuX2QgPSBuZXcgRGF0ZShOYU4pO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZm9yIChpID0gMDsgaSA8IGNvbmZpZy5fZi5sZW5ndGg7IGkrKykge1xuICAgICAgICBjdXJyZW50U2NvcmUgPSAwO1xuICAgICAgICB0ZW1wQ29uZmlnID0gY29weUNvbmZpZyh7fSwgY29uZmlnKTtcbiAgICAgICAgaWYgKGNvbmZpZy5fdXNlVVRDICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRlbXBDb25maWcuX3VzZVVUQyA9IGNvbmZpZy5fdXNlVVRDO1xuICAgICAgICB9XG4gICAgICAgIHRlbXBDb25maWcuX2YgPSBjb25maWcuX2ZbaV07XG4gICAgICAgIGNvbmZpZ0Zyb21TdHJpbmdBbmRGb3JtYXQodGVtcENvbmZpZyk7XG5cbiAgICAgICAgaWYgKCFpc1ZhbGlkKHRlbXBDb25maWcpKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGlmIHRoZXJlIGlzIGFueSBpbnB1dCB0aGF0IHdhcyBub3QgcGFyc2VkIGFkZCBhIHBlbmFsdHkgZm9yIHRoYXQgZm9ybWF0XG4gICAgICAgIGN1cnJlbnRTY29yZSArPSBnZXRQYXJzaW5nRmxhZ3ModGVtcENvbmZpZykuY2hhcnNMZWZ0T3ZlcjtcblxuICAgICAgICAvL29yIHRva2Vuc1xuICAgICAgICBjdXJyZW50U2NvcmUgKz0gZ2V0UGFyc2luZ0ZsYWdzKHRlbXBDb25maWcpLnVudXNlZFRva2Vucy5sZW5ndGggKiAxMDtcblxuICAgICAgICBnZXRQYXJzaW5nRmxhZ3ModGVtcENvbmZpZykuc2NvcmUgPSBjdXJyZW50U2NvcmU7XG5cbiAgICAgICAgaWYgKHNjb3JlVG9CZWF0ID09IG51bGwgfHwgY3VycmVudFNjb3JlIDwgc2NvcmVUb0JlYXQpIHtcbiAgICAgICAgICAgIHNjb3JlVG9CZWF0ID0gY3VycmVudFNjb3JlO1xuICAgICAgICAgICAgYmVzdE1vbWVudCA9IHRlbXBDb25maWc7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBleHRlbmQoY29uZmlnLCBiZXN0TW9tZW50IHx8IHRlbXBDb25maWcpO1xufVxuXG5mdW5jdGlvbiBjb25maWdGcm9tT2JqZWN0KGNvbmZpZykge1xuICAgIGlmIChjb25maWcuX2QpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBpID0gbm9ybWFsaXplT2JqZWN0VW5pdHMoY29uZmlnLl9pKTtcbiAgICBjb25maWcuX2EgPSBtYXAoW2kueWVhciwgaS5tb250aCwgaS5kYXkgfHwgaS5kYXRlLCBpLmhvdXIsIGkubWludXRlLCBpLnNlY29uZCwgaS5taWxsaXNlY29uZF0sIGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgcmV0dXJuIG9iaiAmJiBwYXJzZUludChvYmosIDEwKTtcbiAgICB9KTtcblxuICAgIGNvbmZpZ0Zyb21BcnJheShjb25maWcpO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVGcm9tQ29uZmlnIChjb25maWcpIHtcbiAgICB2YXIgcmVzID0gbmV3IE1vbWVudChjaGVja092ZXJmbG93KHByZXBhcmVDb25maWcoY29uZmlnKSkpO1xuICAgIGlmIChyZXMuX25leHREYXkpIHtcbiAgICAgICAgLy8gQWRkaW5nIGlzIHNtYXJ0IGVub3VnaCBhcm91bmQgRFNUXG4gICAgICAgIHJlcy5hZGQoMSwgJ2QnKTtcbiAgICAgICAgcmVzLl9uZXh0RGF5ID0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIHJldHVybiByZXM7XG59XG5cbmZ1bmN0aW9uIHByZXBhcmVDb25maWcgKGNvbmZpZykge1xuICAgIHZhciBpbnB1dCA9IGNvbmZpZy5faSxcbiAgICAgICAgZm9ybWF0ID0gY29uZmlnLl9mO1xuXG4gICAgY29uZmlnLl9sb2NhbGUgPSBjb25maWcuX2xvY2FsZSB8fCBnZXRMb2NhbGUoY29uZmlnLl9sKTtcblxuICAgIGlmIChpbnB1dCA9PT0gbnVsbCB8fCAoZm9ybWF0ID09PSB1bmRlZmluZWQgJiYgaW5wdXQgPT09ICcnKSkge1xuICAgICAgICByZXR1cm4gY3JlYXRlSW52YWxpZCh7bnVsbElucHV0OiB0cnVlfSk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBpbnB1dCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgY29uZmlnLl9pID0gaW5wdXQgPSBjb25maWcuX2xvY2FsZS5wcmVwYXJzZShpbnB1dCk7XG4gICAgfVxuXG4gICAgaWYgKGlzTW9tZW50KGlucHV0KSkge1xuICAgICAgICByZXR1cm4gbmV3IE1vbWVudChjaGVja092ZXJmbG93KGlucHV0KSk7XG4gICAgfSBlbHNlIGlmIChpc0RhdGUoaW5wdXQpKSB7XG4gICAgICAgIGNvbmZpZy5fZCA9IGlucHV0O1xuICAgIH0gZWxzZSBpZiAoaXNBcnJheShmb3JtYXQpKSB7XG4gICAgICAgIGNvbmZpZ0Zyb21TdHJpbmdBbmRBcnJheShjb25maWcpO1xuICAgIH0gZWxzZSBpZiAoZm9ybWF0KSB7XG4gICAgICAgIGNvbmZpZ0Zyb21TdHJpbmdBbmRGb3JtYXQoY29uZmlnKTtcbiAgICB9ICBlbHNlIHtcbiAgICAgICAgY29uZmlnRnJvbUlucHV0KGNvbmZpZyk7XG4gICAgfVxuXG4gICAgaWYgKCFpc1ZhbGlkKGNvbmZpZykpIHtcbiAgICAgICAgY29uZmlnLl9kID0gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gY29uZmlnO1xufVxuXG5mdW5jdGlvbiBjb25maWdGcm9tSW5wdXQoY29uZmlnKSB7XG4gICAgdmFyIGlucHV0ID0gY29uZmlnLl9pO1xuICAgIGlmIChpbnB1dCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbmZpZy5fZCA9IG5ldyBEYXRlKGhvb2tzLm5vdygpKTtcbiAgICB9IGVsc2UgaWYgKGlzRGF0ZShpbnB1dCkpIHtcbiAgICAgICAgY29uZmlnLl9kID0gbmV3IERhdGUoaW5wdXQudmFsdWVPZigpKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBpbnB1dCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgY29uZmlnRnJvbVN0cmluZyhjb25maWcpO1xuICAgIH0gZWxzZSBpZiAoaXNBcnJheShpbnB1dCkpIHtcbiAgICAgICAgY29uZmlnLl9hID0gbWFwKGlucHV0LnNsaWNlKDApLCBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VJbnQob2JqLCAxMCk7XG4gICAgICAgIH0pO1xuICAgICAgICBjb25maWdGcm9tQXJyYXkoY29uZmlnKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZihpbnB1dCkgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIGNvbmZpZ0Zyb21PYmplY3QoY29uZmlnKTtcbiAgICB9IGVsc2UgaWYgKGlzTnVtYmVyKGlucHV0KSkge1xuICAgICAgICAvLyBmcm9tIG1pbGxpc2Vjb25kc1xuICAgICAgICBjb25maWcuX2QgPSBuZXcgRGF0ZShpbnB1dCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgaG9va3MuY3JlYXRlRnJvbUlucHV0RmFsbGJhY2soY29uZmlnKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUxvY2FsT3JVVEMgKGlucHV0LCBmb3JtYXQsIGxvY2FsZSwgc3RyaWN0LCBpc1VUQykge1xuICAgIHZhciBjID0ge307XG5cbiAgICBpZiAobG9jYWxlID09PSB0cnVlIHx8IGxvY2FsZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgc3RyaWN0ID0gbG9jYWxlO1xuICAgICAgICBsb2NhbGUgPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgaWYgKChpc09iamVjdChpbnB1dCkgJiYgaXNPYmplY3RFbXB0eShpbnB1dCkpIHx8XG4gICAgICAgICAgICAoaXNBcnJheShpbnB1dCkgJiYgaW5wdXQubGVuZ3RoID09PSAwKSkge1xuICAgICAgICBpbnB1dCA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgLy8gb2JqZWN0IGNvbnN0cnVjdGlvbiBtdXN0IGJlIGRvbmUgdGhpcyB3YXkuXG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL21vbWVudC9tb21lbnQvaXNzdWVzLzE0MjNcbiAgICBjLl9pc0FNb21lbnRPYmplY3QgPSB0cnVlO1xuICAgIGMuX3VzZVVUQyA9IGMuX2lzVVRDID0gaXNVVEM7XG4gICAgYy5fbCA9IGxvY2FsZTtcbiAgICBjLl9pID0gaW5wdXQ7XG4gICAgYy5fZiA9IGZvcm1hdDtcbiAgICBjLl9zdHJpY3QgPSBzdHJpY3Q7XG5cbiAgICByZXR1cm4gY3JlYXRlRnJvbUNvbmZpZyhjKTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlTG9jYWwgKGlucHV0LCBmb3JtYXQsIGxvY2FsZSwgc3RyaWN0KSB7XG4gICAgcmV0dXJuIGNyZWF0ZUxvY2FsT3JVVEMoaW5wdXQsIGZvcm1hdCwgbG9jYWxlLCBzdHJpY3QsIGZhbHNlKTtcbn1cblxudmFyIHByb3RvdHlwZU1pbiA9IGRlcHJlY2F0ZShcbiAgICAnbW9tZW50KCkubWluIGlzIGRlcHJlY2F0ZWQsIHVzZSBtb21lbnQubWF4IGluc3RlYWQuIGh0dHA6Ly9tb21lbnRqcy5jb20vZ3VpZGVzLyMvd2FybmluZ3MvbWluLW1heC8nLFxuICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG90aGVyID0gY3JlYXRlTG9jYWwuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgICAgICAgaWYgKHRoaXMuaXNWYWxpZCgpICYmIG90aGVyLmlzVmFsaWQoKSkge1xuICAgICAgICAgICAgcmV0dXJuIG90aGVyIDwgdGhpcyA/IHRoaXMgOiBvdGhlcjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVJbnZhbGlkKCk7XG4gICAgICAgIH1cbiAgICB9XG4pO1xuXG52YXIgcHJvdG90eXBlTWF4ID0gZGVwcmVjYXRlKFxuICAgICdtb21lbnQoKS5tYXggaXMgZGVwcmVjYXRlZCwgdXNlIG1vbWVudC5taW4gaW5zdGVhZC4gaHR0cDovL21vbWVudGpzLmNvbS9ndWlkZXMvIy93YXJuaW5ncy9taW4tbWF4LycsXG4gICAgZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgb3RoZXIgPSBjcmVhdGVMb2NhbC5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICAgICAgICBpZiAodGhpcy5pc1ZhbGlkKCkgJiYgb3RoZXIuaXNWYWxpZCgpKSB7XG4gICAgICAgICAgICByZXR1cm4gb3RoZXIgPiB0aGlzID8gdGhpcyA6IG90aGVyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUludmFsaWQoKTtcbiAgICAgICAgfVxuICAgIH1cbik7XG5cbi8vIFBpY2sgYSBtb21lbnQgbSBmcm9tIG1vbWVudHMgc28gdGhhdCBtW2ZuXShvdGhlcikgaXMgdHJ1ZSBmb3IgYWxsXG4vLyBvdGhlci4gVGhpcyByZWxpZXMgb24gdGhlIGZ1bmN0aW9uIGZuIHRvIGJlIHRyYW5zaXRpdmUuXG4vL1xuLy8gbW9tZW50cyBzaG91bGQgZWl0aGVyIGJlIGFuIGFycmF5IG9mIG1vbWVudCBvYmplY3RzIG9yIGFuIGFycmF5LCB3aG9zZVxuLy8gZmlyc3QgZWxlbWVudCBpcyBhbiBhcnJheSBvZiBtb21lbnQgb2JqZWN0cy5cbmZ1bmN0aW9uIHBpY2tCeShmbiwgbW9tZW50cykge1xuICAgIHZhciByZXMsIGk7XG4gICAgaWYgKG1vbWVudHMubGVuZ3RoID09PSAxICYmIGlzQXJyYXkobW9tZW50c1swXSkpIHtcbiAgICAgICAgbW9tZW50cyA9IG1vbWVudHNbMF07XG4gICAgfVxuICAgIGlmICghbW9tZW50cy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUxvY2FsKCk7XG4gICAgfVxuICAgIHJlcyA9IG1vbWVudHNbMF07XG4gICAgZm9yIChpID0gMTsgaSA8IG1vbWVudHMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgaWYgKCFtb21lbnRzW2ldLmlzVmFsaWQoKSB8fCBtb21lbnRzW2ldW2ZuXShyZXMpKSB7XG4gICAgICAgICAgICByZXMgPSBtb21lbnRzW2ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXM7XG59XG5cbi8vIFRPRE86IFVzZSBbXS5zb3J0IGluc3RlYWQ/XG5mdW5jdGlvbiBtaW4gKCkge1xuICAgIHZhciBhcmdzID0gW10uc2xpY2UuY2FsbChhcmd1bWVudHMsIDApO1xuXG4gICAgcmV0dXJuIHBpY2tCeSgnaXNCZWZvcmUnLCBhcmdzKTtcbn1cblxuZnVuY3Rpb24gbWF4ICgpIHtcbiAgICB2YXIgYXJncyA9IFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAwKTtcblxuICAgIHJldHVybiBwaWNrQnkoJ2lzQWZ0ZXInLCBhcmdzKTtcbn1cblxudmFyIG5vdyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gRGF0ZS5ub3cgPyBEYXRlLm5vdygpIDogKyhuZXcgRGF0ZSgpKTtcbn07XG5cbmZ1bmN0aW9uIER1cmF0aW9uIChkdXJhdGlvbikge1xuICAgIHZhciBub3JtYWxpemVkSW5wdXQgPSBub3JtYWxpemVPYmplY3RVbml0cyhkdXJhdGlvbiksXG4gICAgICAgIHllYXJzID0gbm9ybWFsaXplZElucHV0LnllYXIgfHwgMCxcbiAgICAgICAgcXVhcnRlcnMgPSBub3JtYWxpemVkSW5wdXQucXVhcnRlciB8fCAwLFxuICAgICAgICBtb250aHMgPSBub3JtYWxpemVkSW5wdXQubW9udGggfHwgMCxcbiAgICAgICAgd2Vla3MgPSBub3JtYWxpemVkSW5wdXQud2VlayB8fCAwLFxuICAgICAgICBkYXlzID0gbm9ybWFsaXplZElucHV0LmRheSB8fCAwLFxuICAgICAgICBob3VycyA9IG5vcm1hbGl6ZWRJbnB1dC5ob3VyIHx8IDAsXG4gICAgICAgIG1pbnV0ZXMgPSBub3JtYWxpemVkSW5wdXQubWludXRlIHx8IDAsXG4gICAgICAgIHNlY29uZHMgPSBub3JtYWxpemVkSW5wdXQuc2Vjb25kIHx8IDAsXG4gICAgICAgIG1pbGxpc2Vjb25kcyA9IG5vcm1hbGl6ZWRJbnB1dC5taWxsaXNlY29uZCB8fCAwO1xuXG4gICAgLy8gcmVwcmVzZW50YXRpb24gZm9yIGRhdGVBZGRSZW1vdmVcbiAgICB0aGlzLl9taWxsaXNlY29uZHMgPSArbWlsbGlzZWNvbmRzICtcbiAgICAgICAgc2Vjb25kcyAqIDFlMyArIC8vIDEwMDBcbiAgICAgICAgbWludXRlcyAqIDZlNCArIC8vIDEwMDAgKiA2MFxuICAgICAgICBob3VycyAqIDEwMDAgKiA2MCAqIDYwOyAvL3VzaW5nIDEwMDAgKiA2MCAqIDYwIGluc3RlYWQgb2YgMzZlNSB0byBhdm9pZCBmbG9hdGluZyBwb2ludCByb3VuZGluZyBlcnJvcnMgaHR0cHM6Ly9naXRodWIuY29tL21vbWVudC9tb21lbnQvaXNzdWVzLzI5NzhcbiAgICAvLyBCZWNhdXNlIG9mIGRhdGVBZGRSZW1vdmUgdHJlYXRzIDI0IGhvdXJzIGFzIGRpZmZlcmVudCBmcm9tIGFcbiAgICAvLyBkYXkgd2hlbiB3b3JraW5nIGFyb3VuZCBEU1QsIHdlIG5lZWQgdG8gc3RvcmUgdGhlbSBzZXBhcmF0ZWx5XG4gICAgdGhpcy5fZGF5cyA9ICtkYXlzICtcbiAgICAgICAgd2Vla3MgKiA3O1xuICAgIC8vIEl0IGlzIGltcG9zc2libGUgdHJhbnNsYXRlIG1vbnRocyBpbnRvIGRheXMgd2l0aG91dCBrbm93aW5nXG4gICAgLy8gd2hpY2ggbW9udGhzIHlvdSBhcmUgYXJlIHRhbGtpbmcgYWJvdXQsIHNvIHdlIGhhdmUgdG8gc3RvcmVcbiAgICAvLyBpdCBzZXBhcmF0ZWx5LlxuICAgIHRoaXMuX21vbnRocyA9ICttb250aHMgK1xuICAgICAgICBxdWFydGVycyAqIDMgK1xuICAgICAgICB5ZWFycyAqIDEyO1xuXG4gICAgdGhpcy5fZGF0YSA9IHt9O1xuXG4gICAgdGhpcy5fbG9jYWxlID0gZ2V0TG9jYWxlKCk7XG5cbiAgICB0aGlzLl9idWJibGUoKTtcbn1cblxuZnVuY3Rpb24gaXNEdXJhdGlvbiAob2JqKSB7XG4gICAgcmV0dXJuIG9iaiBpbnN0YW5jZW9mIER1cmF0aW9uO1xufVxuXG5mdW5jdGlvbiBhYnNSb3VuZCAobnVtYmVyKSB7XG4gICAgaWYgKG51bWJlciA8IDApIHtcbiAgICAgICAgcmV0dXJuIE1hdGgucm91bmQoLTEgKiBudW1iZXIpICogLTE7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIE1hdGgucm91bmQobnVtYmVyKTtcbiAgICB9XG59XG5cbi8vIEZPUk1BVFRJTkdcblxuZnVuY3Rpb24gb2Zmc2V0ICh0b2tlbiwgc2VwYXJhdG9yKSB7XG4gICAgYWRkRm9ybWF0VG9rZW4odG9rZW4sIDAsIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG9mZnNldCA9IHRoaXMudXRjT2Zmc2V0KCk7XG4gICAgICAgIHZhciBzaWduID0gJysnO1xuICAgICAgICBpZiAob2Zmc2V0IDwgMCkge1xuICAgICAgICAgICAgb2Zmc2V0ID0gLW9mZnNldDtcbiAgICAgICAgICAgIHNpZ24gPSAnLSc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNpZ24gKyB6ZXJvRmlsbCh+fihvZmZzZXQgLyA2MCksIDIpICsgc2VwYXJhdG9yICsgemVyb0ZpbGwofn4ob2Zmc2V0KSAlIDYwLCAyKTtcbiAgICB9KTtcbn1cblxub2Zmc2V0KCdaJywgJzonKTtcbm9mZnNldCgnWlonLCAnJyk7XG5cbi8vIFBBUlNJTkdcblxuYWRkUmVnZXhUb2tlbignWicsICBtYXRjaFNob3J0T2Zmc2V0KTtcbmFkZFJlZ2V4VG9rZW4oJ1paJywgbWF0Y2hTaG9ydE9mZnNldCk7XG5hZGRQYXJzZVRva2VuKFsnWicsICdaWiddLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcpIHtcbiAgICBjb25maWcuX3VzZVVUQyA9IHRydWU7XG4gICAgY29uZmlnLl90em0gPSBvZmZzZXRGcm9tU3RyaW5nKG1hdGNoU2hvcnRPZmZzZXQsIGlucHV0KTtcbn0pO1xuXG4vLyBIRUxQRVJTXG5cbi8vIHRpbWV6b25lIGNodW5rZXJcbi8vICcrMTA6MDAnID4gWycxMCcsICAnMDAnXVxuLy8gJy0xNTMwJyAgPiBbJy0xNScsICczMCddXG52YXIgY2h1bmtPZmZzZXQgPSAvKFtcXCtcXC1dfFxcZFxcZCkvZ2k7XG5cbmZ1bmN0aW9uIG9mZnNldEZyb21TdHJpbmcobWF0Y2hlciwgc3RyaW5nKSB7XG4gICAgdmFyIG1hdGNoZXMgPSAoc3RyaW5nIHx8ICcnKS5tYXRjaChtYXRjaGVyKTtcblxuICAgIGlmIChtYXRjaGVzID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHZhciBjaHVuayAgID0gbWF0Y2hlc1ttYXRjaGVzLmxlbmd0aCAtIDFdIHx8IFtdO1xuICAgIHZhciBwYXJ0cyAgID0gKGNodW5rICsgJycpLm1hdGNoKGNodW5rT2Zmc2V0KSB8fCBbJy0nLCAwLCAwXTtcbiAgICB2YXIgbWludXRlcyA9ICsocGFydHNbMV0gKiA2MCkgKyB0b0ludChwYXJ0c1syXSk7XG5cbiAgICByZXR1cm4gbWludXRlcyA9PT0gMCA/XG4gICAgICAwIDpcbiAgICAgIHBhcnRzWzBdID09PSAnKycgPyBtaW51dGVzIDogLW1pbnV0ZXM7XG59XG5cbi8vIFJldHVybiBhIG1vbWVudCBmcm9tIGlucHV0LCB0aGF0IGlzIGxvY2FsL3V0Yy96b25lIGVxdWl2YWxlbnQgdG8gbW9kZWwuXG5mdW5jdGlvbiBjbG9uZVdpdGhPZmZzZXQoaW5wdXQsIG1vZGVsKSB7XG4gICAgdmFyIHJlcywgZGlmZjtcbiAgICBpZiAobW9kZWwuX2lzVVRDKSB7XG4gICAgICAgIHJlcyA9IG1vZGVsLmNsb25lKCk7XG4gICAgICAgIGRpZmYgPSAoaXNNb21lbnQoaW5wdXQpIHx8IGlzRGF0ZShpbnB1dCkgPyBpbnB1dC52YWx1ZU9mKCkgOiBjcmVhdGVMb2NhbChpbnB1dCkudmFsdWVPZigpKSAtIHJlcy52YWx1ZU9mKCk7XG4gICAgICAgIC8vIFVzZSBsb3ctbGV2ZWwgYXBpLCBiZWNhdXNlIHRoaXMgZm4gaXMgbG93LWxldmVsIGFwaS5cbiAgICAgICAgcmVzLl9kLnNldFRpbWUocmVzLl9kLnZhbHVlT2YoKSArIGRpZmYpO1xuICAgICAgICBob29rcy51cGRhdGVPZmZzZXQocmVzLCBmYWxzZSk7XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUxvY2FsKGlucHV0KS5sb2NhbCgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZ2V0RGF0ZU9mZnNldCAobSkge1xuICAgIC8vIE9uIEZpcmVmb3guMjQgRGF0ZSNnZXRUaW1lem9uZU9mZnNldCByZXR1cm5zIGEgZmxvYXRpbmcgcG9pbnQuXG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL21vbWVudC9tb21lbnQvcHVsbC8xODcxXG4gICAgcmV0dXJuIC1NYXRoLnJvdW5kKG0uX2QuZ2V0VGltZXpvbmVPZmZzZXQoKSAvIDE1KSAqIDE1O1xufVxuXG4vLyBIT09LU1xuXG4vLyBUaGlzIGZ1bmN0aW9uIHdpbGwgYmUgY2FsbGVkIHdoZW5ldmVyIGEgbW9tZW50IGlzIG11dGF0ZWQuXG4vLyBJdCBpcyBpbnRlbmRlZCB0byBrZWVwIHRoZSBvZmZzZXQgaW4gc3luYyB3aXRoIHRoZSB0aW1lem9uZS5cbmhvb2tzLnVwZGF0ZU9mZnNldCA9IGZ1bmN0aW9uICgpIHt9O1xuXG4vLyBNT01FTlRTXG5cbi8vIGtlZXBMb2NhbFRpbWUgPSB0cnVlIG1lYW5zIG9ubHkgY2hhbmdlIHRoZSB0aW1lem9uZSwgd2l0aG91dFxuLy8gYWZmZWN0aW5nIHRoZSBsb2NhbCBob3VyLiBTbyA1OjMxOjI2ICswMzAwIC0tW3V0Y09mZnNldCgyLCB0cnVlKV0tLT5cbi8vIDU6MzE6MjYgKzAyMDAgSXQgaXMgcG9zc2libGUgdGhhdCA1OjMxOjI2IGRvZXNuJ3QgZXhpc3Qgd2l0aCBvZmZzZXRcbi8vICswMjAwLCBzbyB3ZSBhZGp1c3QgdGhlIHRpbWUgYXMgbmVlZGVkLCB0byBiZSB2YWxpZC5cbi8vXG4vLyBLZWVwaW5nIHRoZSB0aW1lIGFjdHVhbGx5IGFkZHMvc3VidHJhY3RzIChvbmUgaG91cilcbi8vIGZyb20gdGhlIGFjdHVhbCByZXByZXNlbnRlZCB0aW1lLiBUaGF0IGlzIHdoeSB3ZSBjYWxsIHVwZGF0ZU9mZnNldFxuLy8gYSBzZWNvbmQgdGltZS4gSW4gY2FzZSBpdCB3YW50cyB1cyB0byBjaGFuZ2UgdGhlIG9mZnNldCBhZ2FpblxuLy8gX2NoYW5nZUluUHJvZ3Jlc3MgPT0gdHJ1ZSBjYXNlLCB0aGVuIHdlIGhhdmUgdG8gYWRqdXN0LCBiZWNhdXNlXG4vLyB0aGVyZSBpcyBubyBzdWNoIHRpbWUgaW4gdGhlIGdpdmVuIHRpbWV6b25lLlxuZnVuY3Rpb24gZ2V0U2V0T2Zmc2V0IChpbnB1dCwga2VlcExvY2FsVGltZSkge1xuICAgIHZhciBvZmZzZXQgPSB0aGlzLl9vZmZzZXQgfHwgMCxcbiAgICAgICAgbG9jYWxBZGp1c3Q7XG4gICAgaWYgKCF0aGlzLmlzVmFsaWQoKSkge1xuICAgICAgICByZXR1cm4gaW5wdXQgIT0gbnVsbCA/IHRoaXMgOiBOYU47XG4gICAgfVxuICAgIGlmIChpbnB1dCAhPSBudWxsKSB7XG4gICAgICAgIGlmICh0eXBlb2YgaW5wdXQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBpbnB1dCA9IG9mZnNldEZyb21TdHJpbmcobWF0Y2hTaG9ydE9mZnNldCwgaW5wdXQpO1xuICAgICAgICAgICAgaWYgKGlucHV0ID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoTWF0aC5hYnMoaW5wdXQpIDwgMTYpIHtcbiAgICAgICAgICAgIGlucHV0ID0gaW5wdXQgKiA2MDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuX2lzVVRDICYmIGtlZXBMb2NhbFRpbWUpIHtcbiAgICAgICAgICAgIGxvY2FsQWRqdXN0ID0gZ2V0RGF0ZU9mZnNldCh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9vZmZzZXQgPSBpbnB1dDtcbiAgICAgICAgdGhpcy5faXNVVEMgPSB0cnVlO1xuICAgICAgICBpZiAobG9jYWxBZGp1c3QgIT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5hZGQobG9jYWxBZGp1c3QsICdtJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9mZnNldCAhPT0gaW5wdXQpIHtcbiAgICAgICAgICAgIGlmICgha2VlcExvY2FsVGltZSB8fCB0aGlzLl9jaGFuZ2VJblByb2dyZXNzKSB7XG4gICAgICAgICAgICAgICAgYWRkU3VidHJhY3QodGhpcywgY3JlYXRlRHVyYXRpb24oaW5wdXQgLSBvZmZzZXQsICdtJyksIDEsIGZhbHNlKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIXRoaXMuX2NoYW5nZUluUHJvZ3Jlc3MpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9jaGFuZ2VJblByb2dyZXNzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBob29rcy51cGRhdGVPZmZzZXQodGhpcywgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fY2hhbmdlSW5Qcm9ncmVzcyA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzVVRDID8gb2Zmc2V0IDogZ2V0RGF0ZU9mZnNldCh0aGlzKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGdldFNldFpvbmUgKGlucHV0LCBrZWVwTG9jYWxUaW1lKSB7XG4gICAgaWYgKGlucHV0ICE9IG51bGwpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBpbnB1dCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIGlucHV0ID0gLWlucHV0O1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy51dGNPZmZzZXQoaW5wdXQsIGtlZXBMb2NhbFRpbWUpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiAtdGhpcy51dGNPZmZzZXQoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHNldE9mZnNldFRvVVRDIChrZWVwTG9jYWxUaW1lKSB7XG4gICAgcmV0dXJuIHRoaXMudXRjT2Zmc2V0KDAsIGtlZXBMb2NhbFRpbWUpO1xufVxuXG5mdW5jdGlvbiBzZXRPZmZzZXRUb0xvY2FsIChrZWVwTG9jYWxUaW1lKSB7XG4gICAgaWYgKHRoaXMuX2lzVVRDKSB7XG4gICAgICAgIHRoaXMudXRjT2Zmc2V0KDAsIGtlZXBMb2NhbFRpbWUpO1xuICAgICAgICB0aGlzLl9pc1VUQyA9IGZhbHNlO1xuXG4gICAgICAgIGlmIChrZWVwTG9jYWxUaW1lKSB7XG4gICAgICAgICAgICB0aGlzLnN1YnRyYWN0KGdldERhdGVPZmZzZXQodGhpcyksICdtJyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG59XG5cbmZ1bmN0aW9uIHNldE9mZnNldFRvUGFyc2VkT2Zmc2V0ICgpIHtcbiAgICBpZiAodGhpcy5fdHptICE9IG51bGwpIHtcbiAgICAgICAgdGhpcy51dGNPZmZzZXQodGhpcy5fdHptKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiB0aGlzLl9pID09PSAnc3RyaW5nJykge1xuICAgICAgICB2YXIgdFpvbmUgPSBvZmZzZXRGcm9tU3RyaW5nKG1hdGNoT2Zmc2V0LCB0aGlzLl9pKTtcbiAgICAgICAgaWYgKHRab25lICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMudXRjT2Zmc2V0KHRab25lKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudXRjT2Zmc2V0KDAsIHRydWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xufVxuXG5mdW5jdGlvbiBoYXNBbGlnbmVkSG91ck9mZnNldCAoaW5wdXQpIHtcbiAgICBpZiAoIXRoaXMuaXNWYWxpZCgpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaW5wdXQgPSBpbnB1dCA/IGNyZWF0ZUxvY2FsKGlucHV0KS51dGNPZmZzZXQoKSA6IDA7XG5cbiAgICByZXR1cm4gKHRoaXMudXRjT2Zmc2V0KCkgLSBpbnB1dCkgJSA2MCA9PT0gMDtcbn1cblxuZnVuY3Rpb24gaXNEYXlsaWdodFNhdmluZ1RpbWUgKCkge1xuICAgIHJldHVybiAoXG4gICAgICAgIHRoaXMudXRjT2Zmc2V0KCkgPiB0aGlzLmNsb25lKCkubW9udGgoMCkudXRjT2Zmc2V0KCkgfHxcbiAgICAgICAgdGhpcy51dGNPZmZzZXQoKSA+IHRoaXMuY2xvbmUoKS5tb250aCg1KS51dGNPZmZzZXQoKVxuICAgICk7XG59XG5cbmZ1bmN0aW9uIGlzRGF5bGlnaHRTYXZpbmdUaW1lU2hpZnRlZCAoKSB7XG4gICAgaWYgKCFpc1VuZGVmaW5lZCh0aGlzLl9pc0RTVFNoaWZ0ZWQpKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pc0RTVFNoaWZ0ZWQ7XG4gICAgfVxuXG4gICAgdmFyIGMgPSB7fTtcblxuICAgIGNvcHlDb25maWcoYywgdGhpcyk7XG4gICAgYyA9IHByZXBhcmVDb25maWcoYyk7XG5cbiAgICBpZiAoYy5fYSkge1xuICAgICAgICB2YXIgb3RoZXIgPSBjLl9pc1VUQyA/IGNyZWF0ZVVUQyhjLl9hKSA6IGNyZWF0ZUxvY2FsKGMuX2EpO1xuICAgICAgICB0aGlzLl9pc0RTVFNoaWZ0ZWQgPSB0aGlzLmlzVmFsaWQoKSAmJlxuICAgICAgICAgICAgY29tcGFyZUFycmF5cyhjLl9hLCBvdGhlci50b0FycmF5KCkpID4gMDtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9pc0RTVFNoaWZ0ZWQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5faXNEU1RTaGlmdGVkO1xufVxuXG5mdW5jdGlvbiBpc0xvY2FsICgpIHtcbiAgICByZXR1cm4gdGhpcy5pc1ZhbGlkKCkgPyAhdGhpcy5faXNVVEMgOiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gaXNVdGNPZmZzZXQgKCkge1xuICAgIHJldHVybiB0aGlzLmlzVmFsaWQoKSA/IHRoaXMuX2lzVVRDIDogZmFsc2U7XG59XG5cbmZ1bmN0aW9uIGlzVXRjICgpIHtcbiAgICByZXR1cm4gdGhpcy5pc1ZhbGlkKCkgPyB0aGlzLl9pc1VUQyAmJiB0aGlzLl9vZmZzZXQgPT09IDAgOiBmYWxzZTtcbn1cblxuLy8gQVNQLk5FVCBqc29uIGRhdGUgZm9ybWF0IHJlZ2V4XG52YXIgYXNwTmV0UmVnZXggPSAvXihcXC0pPyg/OihcXGQqKVsuIF0pPyhcXGQrKVxcOihcXGQrKSg/OlxcOihcXGQrKShcXC5cXGQqKT8pPyQvO1xuXG4vLyBmcm9tIGh0dHA6Ly9kb2NzLmNsb3N1cmUtbGlicmFyeS5nb29nbGVjb2RlLmNvbS9naXQvY2xvc3VyZV9nb29nX2RhdGVfZGF0ZS5qcy5zb3VyY2UuaHRtbFxuLy8gc29tZXdoYXQgbW9yZSBpbiBsaW5lIHdpdGggNC40LjMuMiAyMDA0IHNwZWMsIGJ1dCBhbGxvd3MgZGVjaW1hbCBhbnl3aGVyZVxuLy8gYW5kIGZ1cnRoZXIgbW9kaWZpZWQgdG8gYWxsb3cgZm9yIHN0cmluZ3MgY29udGFpbmluZyBib3RoIHdlZWsgYW5kIGRheVxudmFyIGlzb1JlZ2V4ID0gL14oLSk/UCg/OigtP1swLTksLl0qKVkpPyg/OigtP1swLTksLl0qKU0pPyg/OigtP1swLTksLl0qKVcpPyg/OigtP1swLTksLl0qKUQpPyg/OlQoPzooLT9bMC05LC5dKilIKT8oPzooLT9bMC05LC5dKilNKT8oPzooLT9bMC05LC5dKilTKT8pPyQvO1xuXG5mdW5jdGlvbiBjcmVhdGVEdXJhdGlvbiAoaW5wdXQsIGtleSkge1xuICAgIHZhciBkdXJhdGlvbiA9IGlucHV0LFxuICAgICAgICAvLyBtYXRjaGluZyBhZ2FpbnN0IHJlZ2V4cCBpcyBleHBlbnNpdmUsIGRvIGl0IG9uIGRlbWFuZFxuICAgICAgICBtYXRjaCA9IG51bGwsXG4gICAgICAgIHNpZ24sXG4gICAgICAgIHJldCxcbiAgICAgICAgZGlmZlJlcztcblxuICAgIGlmIChpc0R1cmF0aW9uKGlucHV0KSkge1xuICAgICAgICBkdXJhdGlvbiA9IHtcbiAgICAgICAgICAgIG1zIDogaW5wdXQuX21pbGxpc2Vjb25kcyxcbiAgICAgICAgICAgIGQgIDogaW5wdXQuX2RheXMsXG4gICAgICAgICAgICBNICA6IGlucHV0Ll9tb250aHNcbiAgICAgICAgfTtcbiAgICB9IGVsc2UgaWYgKGlzTnVtYmVyKGlucHV0KSkge1xuICAgICAgICBkdXJhdGlvbiA9IHt9O1xuICAgICAgICBpZiAoa2V5KSB7XG4gICAgICAgICAgICBkdXJhdGlvbltrZXldID0gaW5wdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkdXJhdGlvbi5taWxsaXNlY29uZHMgPSBpbnB1dDtcbiAgICAgICAgfVxuICAgIH0gZWxzZSBpZiAoISEobWF0Y2ggPSBhc3BOZXRSZWdleC5leGVjKGlucHV0KSkpIHtcbiAgICAgICAgc2lnbiA9IChtYXRjaFsxXSA9PT0gJy0nKSA/IC0xIDogMTtcbiAgICAgICAgZHVyYXRpb24gPSB7XG4gICAgICAgICAgICB5ICA6IDAsXG4gICAgICAgICAgICBkICA6IHRvSW50KG1hdGNoW0RBVEVdKSAgICAgICAgICAgICAgICAgICAgICAgICAqIHNpZ24sXG4gICAgICAgICAgICBoICA6IHRvSW50KG1hdGNoW0hPVVJdKSAgICAgICAgICAgICAgICAgICAgICAgICAqIHNpZ24sXG4gICAgICAgICAgICBtICA6IHRvSW50KG1hdGNoW01JTlVURV0pICAgICAgICAgICAgICAgICAgICAgICAqIHNpZ24sXG4gICAgICAgICAgICBzICA6IHRvSW50KG1hdGNoW1NFQ09ORF0pICAgICAgICAgICAgICAgICAgICAgICAqIHNpZ24sXG4gICAgICAgICAgICBtcyA6IHRvSW50KGFic1JvdW5kKG1hdGNoW01JTExJU0VDT05EXSAqIDEwMDApKSAqIHNpZ24gLy8gdGhlIG1pbGxpc2Vjb25kIGRlY2ltYWwgcG9pbnQgaXMgaW5jbHVkZWQgaW4gdGhlIG1hdGNoXG4gICAgICAgIH07XG4gICAgfSBlbHNlIGlmICghIShtYXRjaCA9IGlzb1JlZ2V4LmV4ZWMoaW5wdXQpKSkge1xuICAgICAgICBzaWduID0gKG1hdGNoWzFdID09PSAnLScpID8gLTEgOiAxO1xuICAgICAgICBkdXJhdGlvbiA9IHtcbiAgICAgICAgICAgIHkgOiBwYXJzZUlzbyhtYXRjaFsyXSwgc2lnbiksXG4gICAgICAgICAgICBNIDogcGFyc2VJc28obWF0Y2hbM10sIHNpZ24pLFxuICAgICAgICAgICAgdyA6IHBhcnNlSXNvKG1hdGNoWzRdLCBzaWduKSxcbiAgICAgICAgICAgIGQgOiBwYXJzZUlzbyhtYXRjaFs1XSwgc2lnbiksXG4gICAgICAgICAgICBoIDogcGFyc2VJc28obWF0Y2hbNl0sIHNpZ24pLFxuICAgICAgICAgICAgbSA6IHBhcnNlSXNvKG1hdGNoWzddLCBzaWduKSxcbiAgICAgICAgICAgIHMgOiBwYXJzZUlzbyhtYXRjaFs4XSwgc2lnbilcbiAgICAgICAgfTtcbiAgICB9IGVsc2UgaWYgKGR1cmF0aW9uID09IG51bGwpIHsvLyBjaGVja3MgZm9yIG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGR1cmF0aW9uID0ge307XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZHVyYXRpb24gPT09ICdvYmplY3QnICYmICgnZnJvbScgaW4gZHVyYXRpb24gfHwgJ3RvJyBpbiBkdXJhdGlvbikpIHtcbiAgICAgICAgZGlmZlJlcyA9IG1vbWVudHNEaWZmZXJlbmNlKGNyZWF0ZUxvY2FsKGR1cmF0aW9uLmZyb20pLCBjcmVhdGVMb2NhbChkdXJhdGlvbi50bykpO1xuXG4gICAgICAgIGR1cmF0aW9uID0ge307XG4gICAgICAgIGR1cmF0aW9uLm1zID0gZGlmZlJlcy5taWxsaXNlY29uZHM7XG4gICAgICAgIGR1cmF0aW9uLk0gPSBkaWZmUmVzLm1vbnRocztcbiAgICB9XG5cbiAgICByZXQgPSBuZXcgRHVyYXRpb24oZHVyYXRpb24pO1xuXG4gICAgaWYgKGlzRHVyYXRpb24oaW5wdXQpICYmIGhhc093blByb3AoaW5wdXQsICdfbG9jYWxlJykpIHtcbiAgICAgICAgcmV0Ll9sb2NhbGUgPSBpbnB1dC5fbG9jYWxlO1xuICAgIH1cblxuICAgIHJldHVybiByZXQ7XG59XG5cbmNyZWF0ZUR1cmF0aW9uLmZuID0gRHVyYXRpb24ucHJvdG90eXBlO1xuXG5mdW5jdGlvbiBwYXJzZUlzbyAoaW5wLCBzaWduKSB7XG4gICAgLy8gV2UnZCBub3JtYWxseSB1c2Ugfn5pbnAgZm9yIHRoaXMsIGJ1dCB1bmZvcnR1bmF0ZWx5IGl0IGFsc29cbiAgICAvLyBjb252ZXJ0cyBmbG9hdHMgdG8gaW50cy5cbiAgICAvLyBpbnAgbWF5IGJlIHVuZGVmaW5lZCwgc28gY2FyZWZ1bCBjYWxsaW5nIHJlcGxhY2Ugb24gaXQuXG4gICAgdmFyIHJlcyA9IGlucCAmJiBwYXJzZUZsb2F0KGlucC5yZXBsYWNlKCcsJywgJy4nKSk7XG4gICAgLy8gYXBwbHkgc2lnbiB3aGlsZSB3ZSdyZSBhdCBpdFxuICAgIHJldHVybiAoaXNOYU4ocmVzKSA/IDAgOiByZXMpICogc2lnbjtcbn1cblxuZnVuY3Rpb24gcG9zaXRpdmVNb21lbnRzRGlmZmVyZW5jZShiYXNlLCBvdGhlcikge1xuICAgIHZhciByZXMgPSB7bWlsbGlzZWNvbmRzOiAwLCBtb250aHM6IDB9O1xuXG4gICAgcmVzLm1vbnRocyA9IG90aGVyLm1vbnRoKCkgLSBiYXNlLm1vbnRoKCkgK1xuICAgICAgICAob3RoZXIueWVhcigpIC0gYmFzZS55ZWFyKCkpICogMTI7XG4gICAgaWYgKGJhc2UuY2xvbmUoKS5hZGQocmVzLm1vbnRocywgJ00nKS5pc0FmdGVyKG90aGVyKSkge1xuICAgICAgICAtLXJlcy5tb250aHM7XG4gICAgfVxuXG4gICAgcmVzLm1pbGxpc2Vjb25kcyA9ICtvdGhlciAtICsoYmFzZS5jbG9uZSgpLmFkZChyZXMubW9udGhzLCAnTScpKTtcblxuICAgIHJldHVybiByZXM7XG59XG5cbmZ1bmN0aW9uIG1vbWVudHNEaWZmZXJlbmNlKGJhc2UsIG90aGVyKSB7XG4gICAgdmFyIHJlcztcbiAgICBpZiAoIShiYXNlLmlzVmFsaWQoKSAmJiBvdGhlci5pc1ZhbGlkKCkpKSB7XG4gICAgICAgIHJldHVybiB7bWlsbGlzZWNvbmRzOiAwLCBtb250aHM6IDB9O1xuICAgIH1cblxuICAgIG90aGVyID0gY2xvbmVXaXRoT2Zmc2V0KG90aGVyLCBiYXNlKTtcbiAgICBpZiAoYmFzZS5pc0JlZm9yZShvdGhlcikpIHtcbiAgICAgICAgcmVzID0gcG9zaXRpdmVNb21lbnRzRGlmZmVyZW5jZShiYXNlLCBvdGhlcik7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmVzID0gcG9zaXRpdmVNb21lbnRzRGlmZmVyZW5jZShvdGhlciwgYmFzZSk7XG4gICAgICAgIHJlcy5taWxsaXNlY29uZHMgPSAtcmVzLm1pbGxpc2Vjb25kcztcbiAgICAgICAgcmVzLm1vbnRocyA9IC1yZXMubW9udGhzO1xuICAgIH1cblxuICAgIHJldHVybiByZXM7XG59XG5cbi8vIFRPRE86IHJlbW92ZSAnbmFtZScgYXJnIGFmdGVyIGRlcHJlY2F0aW9uIGlzIHJlbW92ZWRcbmZ1bmN0aW9uIGNyZWF0ZUFkZGVyKGRpcmVjdGlvbiwgbmFtZSkge1xuICAgIHJldHVybiBmdW5jdGlvbiAodmFsLCBwZXJpb2QpIHtcbiAgICAgICAgdmFyIGR1ciwgdG1wO1xuICAgICAgICAvL2ludmVydCB0aGUgYXJndW1lbnRzLCBidXQgY29tcGxhaW4gYWJvdXQgaXRcbiAgICAgICAgaWYgKHBlcmlvZCAhPT0gbnVsbCAmJiAhaXNOYU4oK3BlcmlvZCkpIHtcbiAgICAgICAgICAgIGRlcHJlY2F0ZVNpbXBsZShuYW1lLCAnbW9tZW50KCkuJyArIG5hbWUgICsgJyhwZXJpb2QsIG51bWJlcikgaXMgZGVwcmVjYXRlZC4gUGxlYXNlIHVzZSBtb21lbnQoKS4nICsgbmFtZSArICcobnVtYmVyLCBwZXJpb2QpLiAnICtcbiAgICAgICAgICAgICdTZWUgaHR0cDovL21vbWVudGpzLmNvbS9ndWlkZXMvIy93YXJuaW5ncy9hZGQtaW52ZXJ0ZWQtcGFyYW0vIGZvciBtb3JlIGluZm8uJyk7XG4gICAgICAgICAgICB0bXAgPSB2YWw7IHZhbCA9IHBlcmlvZDsgcGVyaW9kID0gdG1wO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFsID0gdHlwZW9mIHZhbCA9PT0gJ3N0cmluZycgPyArdmFsIDogdmFsO1xuICAgICAgICBkdXIgPSBjcmVhdGVEdXJhdGlvbih2YWwsIHBlcmlvZCk7XG4gICAgICAgIGFkZFN1YnRyYWN0KHRoaXMsIGR1ciwgZGlyZWN0aW9uKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbn1cblxuZnVuY3Rpb24gYWRkU3VidHJhY3QgKG1vbSwgZHVyYXRpb24sIGlzQWRkaW5nLCB1cGRhdGVPZmZzZXQpIHtcbiAgICB2YXIgbWlsbGlzZWNvbmRzID0gZHVyYXRpb24uX21pbGxpc2Vjb25kcyxcbiAgICAgICAgZGF5cyA9IGFic1JvdW5kKGR1cmF0aW9uLl9kYXlzKSxcbiAgICAgICAgbW9udGhzID0gYWJzUm91bmQoZHVyYXRpb24uX21vbnRocyk7XG5cbiAgICBpZiAoIW1vbS5pc1ZhbGlkKCkpIHtcbiAgICAgICAgLy8gTm8gb3BcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHVwZGF0ZU9mZnNldCA9IHVwZGF0ZU9mZnNldCA9PSBudWxsID8gdHJ1ZSA6IHVwZGF0ZU9mZnNldDtcblxuICAgIGlmIChtaWxsaXNlY29uZHMpIHtcbiAgICAgICAgbW9tLl9kLnNldFRpbWUobW9tLl9kLnZhbHVlT2YoKSArIG1pbGxpc2Vjb25kcyAqIGlzQWRkaW5nKTtcbiAgICB9XG4gICAgaWYgKGRheXMpIHtcbiAgICAgICAgc2V0JDEobW9tLCAnRGF0ZScsIGdldChtb20sICdEYXRlJykgKyBkYXlzICogaXNBZGRpbmcpO1xuICAgIH1cbiAgICBpZiAobW9udGhzKSB7XG4gICAgICAgIHNldE1vbnRoKG1vbSwgZ2V0KG1vbSwgJ01vbnRoJykgKyBtb250aHMgKiBpc0FkZGluZyk7XG4gICAgfVxuICAgIGlmICh1cGRhdGVPZmZzZXQpIHtcbiAgICAgICAgaG9va3MudXBkYXRlT2Zmc2V0KG1vbSwgZGF5cyB8fCBtb250aHMpO1xuICAgIH1cbn1cblxudmFyIGFkZCAgICAgID0gY3JlYXRlQWRkZXIoMSwgJ2FkZCcpO1xudmFyIHN1YnRyYWN0ID0gY3JlYXRlQWRkZXIoLTEsICdzdWJ0cmFjdCcpO1xuXG5mdW5jdGlvbiBnZXRDYWxlbmRhckZvcm1hdChteU1vbWVudCwgbm93KSB7XG4gICAgdmFyIGRpZmYgPSBteU1vbWVudC5kaWZmKG5vdywgJ2RheXMnLCB0cnVlKTtcbiAgICByZXR1cm4gZGlmZiA8IC02ID8gJ3NhbWVFbHNlJyA6XG4gICAgICAgICAgICBkaWZmIDwgLTEgPyAnbGFzdFdlZWsnIDpcbiAgICAgICAgICAgIGRpZmYgPCAwID8gJ2xhc3REYXknIDpcbiAgICAgICAgICAgIGRpZmYgPCAxID8gJ3NhbWVEYXknIDpcbiAgICAgICAgICAgIGRpZmYgPCAyID8gJ25leHREYXknIDpcbiAgICAgICAgICAgIGRpZmYgPCA3ID8gJ25leHRXZWVrJyA6ICdzYW1lRWxzZSc7XG59XG5cbmZ1bmN0aW9uIGNhbGVuZGFyJDEgKHRpbWUsIGZvcm1hdHMpIHtcbiAgICAvLyBXZSB3YW50IHRvIGNvbXBhcmUgdGhlIHN0YXJ0IG9mIHRvZGF5LCB2cyB0aGlzLlxuICAgIC8vIEdldHRpbmcgc3RhcnQtb2YtdG9kYXkgZGVwZW5kcyBvbiB3aGV0aGVyIHdlJ3JlIGxvY2FsL3V0Yy9vZmZzZXQgb3Igbm90LlxuICAgIHZhciBub3cgPSB0aW1lIHx8IGNyZWF0ZUxvY2FsKCksXG4gICAgICAgIHNvZCA9IGNsb25lV2l0aE9mZnNldChub3csIHRoaXMpLnN0YXJ0T2YoJ2RheScpLFxuICAgICAgICBmb3JtYXQgPSBob29rcy5jYWxlbmRhckZvcm1hdCh0aGlzLCBzb2QpIHx8ICdzYW1lRWxzZSc7XG5cbiAgICB2YXIgb3V0cHV0ID0gZm9ybWF0cyAmJiAoaXNGdW5jdGlvbihmb3JtYXRzW2Zvcm1hdF0pID8gZm9ybWF0c1tmb3JtYXRdLmNhbGwodGhpcywgbm93KSA6IGZvcm1hdHNbZm9ybWF0XSk7XG5cbiAgICByZXR1cm4gdGhpcy5mb3JtYXQob3V0cHV0IHx8IHRoaXMubG9jYWxlRGF0YSgpLmNhbGVuZGFyKGZvcm1hdCwgdGhpcywgY3JlYXRlTG9jYWwobm93KSkpO1xufVxuXG5mdW5jdGlvbiBjbG9uZSAoKSB7XG4gICAgcmV0dXJuIG5ldyBNb21lbnQodGhpcyk7XG59XG5cbmZ1bmN0aW9uIGlzQWZ0ZXIgKGlucHV0LCB1bml0cykge1xuICAgIHZhciBsb2NhbElucHV0ID0gaXNNb21lbnQoaW5wdXQpID8gaW5wdXQgOiBjcmVhdGVMb2NhbChpbnB1dCk7XG4gICAgaWYgKCEodGhpcy5pc1ZhbGlkKCkgJiYgbG9jYWxJbnB1dC5pc1ZhbGlkKCkpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgdW5pdHMgPSBub3JtYWxpemVVbml0cyghaXNVbmRlZmluZWQodW5pdHMpID8gdW5pdHMgOiAnbWlsbGlzZWNvbmQnKTtcbiAgICBpZiAodW5pdHMgPT09ICdtaWxsaXNlY29uZCcpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmFsdWVPZigpID4gbG9jYWxJbnB1dC52YWx1ZU9mKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGxvY2FsSW5wdXQudmFsdWVPZigpIDwgdGhpcy5jbG9uZSgpLnN0YXJ0T2YodW5pdHMpLnZhbHVlT2YoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGlzQmVmb3JlIChpbnB1dCwgdW5pdHMpIHtcbiAgICB2YXIgbG9jYWxJbnB1dCA9IGlzTW9tZW50KGlucHV0KSA/IGlucHV0IDogY3JlYXRlTG9jYWwoaW5wdXQpO1xuICAgIGlmICghKHRoaXMuaXNWYWxpZCgpICYmIGxvY2FsSW5wdXQuaXNWYWxpZCgpKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHVuaXRzID0gbm9ybWFsaXplVW5pdHMoIWlzVW5kZWZpbmVkKHVuaXRzKSA/IHVuaXRzIDogJ21pbGxpc2Vjb25kJyk7XG4gICAgaWYgKHVuaXRzID09PSAnbWlsbGlzZWNvbmQnKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZhbHVlT2YoKSA8IGxvY2FsSW5wdXQudmFsdWVPZigpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNsb25lKCkuZW5kT2YodW5pdHMpLnZhbHVlT2YoKSA8IGxvY2FsSW5wdXQudmFsdWVPZigpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gaXNCZXR3ZWVuIChmcm9tLCB0bywgdW5pdHMsIGluY2x1c2l2aXR5KSB7XG4gICAgaW5jbHVzaXZpdHkgPSBpbmNsdXNpdml0eSB8fCAnKCknO1xuICAgIHJldHVybiAoaW5jbHVzaXZpdHlbMF0gPT09ICcoJyA/IHRoaXMuaXNBZnRlcihmcm9tLCB1bml0cykgOiAhdGhpcy5pc0JlZm9yZShmcm9tLCB1bml0cykpICYmXG4gICAgICAgIChpbmNsdXNpdml0eVsxXSA9PT0gJyknID8gdGhpcy5pc0JlZm9yZSh0bywgdW5pdHMpIDogIXRoaXMuaXNBZnRlcih0bywgdW5pdHMpKTtcbn1cblxuZnVuY3Rpb24gaXNTYW1lIChpbnB1dCwgdW5pdHMpIHtcbiAgICB2YXIgbG9jYWxJbnB1dCA9IGlzTW9tZW50KGlucHV0KSA/IGlucHV0IDogY3JlYXRlTG9jYWwoaW5wdXQpLFxuICAgICAgICBpbnB1dE1zO1xuICAgIGlmICghKHRoaXMuaXNWYWxpZCgpICYmIGxvY2FsSW5wdXQuaXNWYWxpZCgpKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHVuaXRzID0gbm9ybWFsaXplVW5pdHModW5pdHMgfHwgJ21pbGxpc2Vjb25kJyk7XG4gICAgaWYgKHVuaXRzID09PSAnbWlsbGlzZWNvbmQnKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZhbHVlT2YoKSA9PT0gbG9jYWxJbnB1dC52YWx1ZU9mKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgaW5wdXRNcyA9IGxvY2FsSW5wdXQudmFsdWVPZigpO1xuICAgICAgICByZXR1cm4gdGhpcy5jbG9uZSgpLnN0YXJ0T2YodW5pdHMpLnZhbHVlT2YoKSA8PSBpbnB1dE1zICYmIGlucHV0TXMgPD0gdGhpcy5jbG9uZSgpLmVuZE9mKHVuaXRzKS52YWx1ZU9mKCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBpc1NhbWVPckFmdGVyIChpbnB1dCwgdW5pdHMpIHtcbiAgICByZXR1cm4gdGhpcy5pc1NhbWUoaW5wdXQsIHVuaXRzKSB8fCB0aGlzLmlzQWZ0ZXIoaW5wdXQsdW5pdHMpO1xufVxuXG5mdW5jdGlvbiBpc1NhbWVPckJlZm9yZSAoaW5wdXQsIHVuaXRzKSB7XG4gICAgcmV0dXJuIHRoaXMuaXNTYW1lKGlucHV0LCB1bml0cykgfHwgdGhpcy5pc0JlZm9yZShpbnB1dCx1bml0cyk7XG59XG5cbmZ1bmN0aW9uIGRpZmYgKGlucHV0LCB1bml0cywgYXNGbG9hdCkge1xuICAgIHZhciB0aGF0LFxuICAgICAgICB6b25lRGVsdGEsXG4gICAgICAgIGRlbHRhLCBvdXRwdXQ7XG5cbiAgICBpZiAoIXRoaXMuaXNWYWxpZCgpKSB7XG4gICAgICAgIHJldHVybiBOYU47XG4gICAgfVxuXG4gICAgdGhhdCA9IGNsb25lV2l0aE9mZnNldChpbnB1dCwgdGhpcyk7XG5cbiAgICBpZiAoIXRoYXQuaXNWYWxpZCgpKSB7XG4gICAgICAgIHJldHVybiBOYU47XG4gICAgfVxuXG4gICAgem9uZURlbHRhID0gKHRoYXQudXRjT2Zmc2V0KCkgLSB0aGlzLnV0Y09mZnNldCgpKSAqIDZlNDtcblxuICAgIHVuaXRzID0gbm9ybWFsaXplVW5pdHModW5pdHMpO1xuXG4gICAgaWYgKHVuaXRzID09PSAneWVhcicgfHwgdW5pdHMgPT09ICdtb250aCcgfHwgdW5pdHMgPT09ICdxdWFydGVyJykge1xuICAgICAgICBvdXRwdXQgPSBtb250aERpZmYodGhpcywgdGhhdCk7XG4gICAgICAgIGlmICh1bml0cyA9PT0gJ3F1YXJ0ZXInKSB7XG4gICAgICAgICAgICBvdXRwdXQgPSBvdXRwdXQgLyAzO1xuICAgICAgICB9IGVsc2UgaWYgKHVuaXRzID09PSAneWVhcicpIHtcbiAgICAgICAgICAgIG91dHB1dCA9IG91dHB1dCAvIDEyO1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZGVsdGEgPSB0aGlzIC0gdGhhdDtcbiAgICAgICAgb3V0cHV0ID0gdW5pdHMgPT09ICdzZWNvbmQnID8gZGVsdGEgLyAxZTMgOiAvLyAxMDAwXG4gICAgICAgICAgICB1bml0cyA9PT0gJ21pbnV0ZScgPyBkZWx0YSAvIDZlNCA6IC8vIDEwMDAgKiA2MFxuICAgICAgICAgICAgdW5pdHMgPT09ICdob3VyJyA/IGRlbHRhIC8gMzZlNSA6IC8vIDEwMDAgKiA2MCAqIDYwXG4gICAgICAgICAgICB1bml0cyA9PT0gJ2RheScgPyAoZGVsdGEgLSB6b25lRGVsdGEpIC8gODY0ZTUgOiAvLyAxMDAwICogNjAgKiA2MCAqIDI0LCBuZWdhdGUgZHN0XG4gICAgICAgICAgICB1bml0cyA9PT0gJ3dlZWsnID8gKGRlbHRhIC0gem9uZURlbHRhKSAvIDYwNDhlNSA6IC8vIDEwMDAgKiA2MCAqIDYwICogMjQgKiA3LCBuZWdhdGUgZHN0XG4gICAgICAgICAgICBkZWx0YTtcbiAgICB9XG4gICAgcmV0dXJuIGFzRmxvYXQgPyBvdXRwdXQgOiBhYnNGbG9vcihvdXRwdXQpO1xufVxuXG5mdW5jdGlvbiBtb250aERpZmYgKGEsIGIpIHtcbiAgICAvLyBkaWZmZXJlbmNlIGluIG1vbnRoc1xuICAgIHZhciB3aG9sZU1vbnRoRGlmZiA9ICgoYi55ZWFyKCkgLSBhLnllYXIoKSkgKiAxMikgKyAoYi5tb250aCgpIC0gYS5tb250aCgpKSxcbiAgICAgICAgLy8gYiBpcyBpbiAoYW5jaG9yIC0gMSBtb250aCwgYW5jaG9yICsgMSBtb250aClcbiAgICAgICAgYW5jaG9yID0gYS5jbG9uZSgpLmFkZCh3aG9sZU1vbnRoRGlmZiwgJ21vbnRocycpLFxuICAgICAgICBhbmNob3IyLCBhZGp1c3Q7XG5cbiAgICBpZiAoYiAtIGFuY2hvciA8IDApIHtcbiAgICAgICAgYW5jaG9yMiA9IGEuY2xvbmUoKS5hZGQod2hvbGVNb250aERpZmYgLSAxLCAnbW9udGhzJyk7XG4gICAgICAgIC8vIGxpbmVhciBhY3Jvc3MgdGhlIG1vbnRoXG4gICAgICAgIGFkanVzdCA9IChiIC0gYW5jaG9yKSAvIChhbmNob3IgLSBhbmNob3IyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBhbmNob3IyID0gYS5jbG9uZSgpLmFkZCh3aG9sZU1vbnRoRGlmZiArIDEsICdtb250aHMnKTtcbiAgICAgICAgLy8gbGluZWFyIGFjcm9zcyB0aGUgbW9udGhcbiAgICAgICAgYWRqdXN0ID0gKGIgLSBhbmNob3IpIC8gKGFuY2hvcjIgLSBhbmNob3IpO1xuICAgIH1cblxuICAgIC8vY2hlY2sgZm9yIG5lZ2F0aXZlIHplcm8sIHJldHVybiB6ZXJvIGlmIG5lZ2F0aXZlIHplcm9cbiAgICByZXR1cm4gLSh3aG9sZU1vbnRoRGlmZiArIGFkanVzdCkgfHwgMDtcbn1cblxuaG9va3MuZGVmYXVsdEZvcm1hdCA9ICdZWVlZLU1NLUREVEhIOm1tOnNzWic7XG5ob29rcy5kZWZhdWx0Rm9ybWF0VXRjID0gJ1lZWVktTU0tRERUSEg6bW06c3NbWl0nO1xuXG5mdW5jdGlvbiB0b1N0cmluZyAoKSB7XG4gICAgcmV0dXJuIHRoaXMuY2xvbmUoKS5sb2NhbGUoJ2VuJykuZm9ybWF0KCdkZGQgTU1NIEREIFlZWVkgSEg6bW06c3MgW0dNVF1aWicpO1xufVxuXG5mdW5jdGlvbiB0b0lTT1N0cmluZyAoKSB7XG4gICAgdmFyIG0gPSB0aGlzLmNsb25lKCkudXRjKCk7XG4gICAgaWYgKDAgPCBtLnllYXIoKSAmJiBtLnllYXIoKSA8PSA5OTk5KSB7XG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKERhdGUucHJvdG90eXBlLnRvSVNPU3RyaW5nKSkge1xuICAgICAgICAgICAgLy8gbmF0aXZlIGltcGxlbWVudGF0aW9uIGlzIH41MHggZmFzdGVyLCB1c2UgaXQgd2hlbiB3ZSBjYW5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRvRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZm9ybWF0TW9tZW50KG0sICdZWVlZLU1NLUREW1RdSEg6bW06c3MuU1NTW1pdJyk7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZm9ybWF0TW9tZW50KG0sICdZWVlZWVktTU0tRERbVF1ISDptbTpzcy5TU1NbWl0nKTtcbiAgICB9XG59XG5cbi8qKlxuICogUmV0dXJuIGEgaHVtYW4gcmVhZGFibGUgcmVwcmVzZW50YXRpb24gb2YgYSBtb21lbnQgdGhhdCBjYW5cbiAqIGFsc28gYmUgZXZhbHVhdGVkIHRvIGdldCBhIG5ldyBtb21lbnQgd2hpY2ggaXMgdGhlIHNhbWVcbiAqXG4gKiBAbGluayBodHRwczovL25vZGVqcy5vcmcvZGlzdC9sYXRlc3QvZG9jcy9hcGkvdXRpbC5odG1sI3V0aWxfY3VzdG9tX2luc3BlY3RfZnVuY3Rpb25fb25fb2JqZWN0c1xuICovXG5mdW5jdGlvbiBpbnNwZWN0ICgpIHtcbiAgICBpZiAoIXRoaXMuaXNWYWxpZCgpKSB7XG4gICAgICAgIHJldHVybiAnbW9tZW50LmludmFsaWQoLyogJyArIHRoaXMuX2kgKyAnICovKSc7XG4gICAgfVxuICAgIHZhciBmdW5jID0gJ21vbWVudCc7XG4gICAgdmFyIHpvbmUgPSAnJztcbiAgICBpZiAoIXRoaXMuaXNMb2NhbCgpKSB7XG4gICAgICAgIGZ1bmMgPSB0aGlzLnV0Y09mZnNldCgpID09PSAwID8gJ21vbWVudC51dGMnIDogJ21vbWVudC5wYXJzZVpvbmUnO1xuICAgICAgICB6b25lID0gJ1onO1xuICAgIH1cbiAgICB2YXIgcHJlZml4ID0gJ1snICsgZnVuYyArICcoXCJdJztcbiAgICB2YXIgeWVhciA9ICgwIDwgdGhpcy55ZWFyKCkgJiYgdGhpcy55ZWFyKCkgPD0gOTk5OSkgPyAnWVlZWScgOiAnWVlZWVlZJztcbiAgICB2YXIgZGF0ZXRpbWUgPSAnLU1NLUREW1RdSEg6bW06c3MuU1NTJztcbiAgICB2YXIgc3VmZml4ID0gem9uZSArICdbXCIpXSc7XG5cbiAgICByZXR1cm4gdGhpcy5mb3JtYXQocHJlZml4ICsgeWVhciArIGRhdGV0aW1lICsgc3VmZml4KTtcbn1cblxuZnVuY3Rpb24gZm9ybWF0IChpbnB1dFN0cmluZykge1xuICAgIGlmICghaW5wdXRTdHJpbmcpIHtcbiAgICAgICAgaW5wdXRTdHJpbmcgPSB0aGlzLmlzVXRjKCkgPyBob29rcy5kZWZhdWx0Rm9ybWF0VXRjIDogaG9va3MuZGVmYXVsdEZvcm1hdDtcbiAgICB9XG4gICAgdmFyIG91dHB1dCA9IGZvcm1hdE1vbWVudCh0aGlzLCBpbnB1dFN0cmluZyk7XG4gICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLnBvc3Rmb3JtYXQob3V0cHV0KTtcbn1cblxuZnVuY3Rpb24gZnJvbSAodGltZSwgd2l0aG91dFN1ZmZpeCkge1xuICAgIGlmICh0aGlzLmlzVmFsaWQoKSAmJlxuICAgICAgICAgICAgKChpc01vbWVudCh0aW1lKSAmJiB0aW1lLmlzVmFsaWQoKSkgfHxcbiAgICAgICAgICAgICBjcmVhdGVMb2NhbCh0aW1lKS5pc1ZhbGlkKCkpKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVEdXJhdGlvbih7dG86IHRoaXMsIGZyb206IHRpbWV9KS5sb2NhbGUodGhpcy5sb2NhbGUoKSkuaHVtYW5pemUoIXdpdGhvdXRTdWZmaXgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxvY2FsZURhdGEoKS5pbnZhbGlkRGF0ZSgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZnJvbU5vdyAod2l0aG91dFN1ZmZpeCkge1xuICAgIHJldHVybiB0aGlzLmZyb20oY3JlYXRlTG9jYWwoKSwgd2l0aG91dFN1ZmZpeCk7XG59XG5cbmZ1bmN0aW9uIHRvICh0aW1lLCB3aXRob3V0U3VmZml4KSB7XG4gICAgaWYgKHRoaXMuaXNWYWxpZCgpICYmXG4gICAgICAgICAgICAoKGlzTW9tZW50KHRpbWUpICYmIHRpbWUuaXNWYWxpZCgpKSB8fFxuICAgICAgICAgICAgIGNyZWF0ZUxvY2FsKHRpbWUpLmlzVmFsaWQoKSkpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUR1cmF0aW9uKHtmcm9tOiB0aGlzLCB0bzogdGltZX0pLmxvY2FsZSh0aGlzLmxvY2FsZSgpKS5odW1hbml6ZSghd2l0aG91dFN1ZmZpeCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLmludmFsaWREYXRlKCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiB0b05vdyAod2l0aG91dFN1ZmZpeCkge1xuICAgIHJldHVybiB0aGlzLnRvKGNyZWF0ZUxvY2FsKCksIHdpdGhvdXRTdWZmaXgpO1xufVxuXG4vLyBJZiBwYXNzZWQgYSBsb2NhbGUga2V5LCBpdCB3aWxsIHNldCB0aGUgbG9jYWxlIGZvciB0aGlzXG4vLyBpbnN0YW5jZS4gIE90aGVyd2lzZSwgaXQgd2lsbCByZXR1cm4gdGhlIGxvY2FsZSBjb25maWd1cmF0aW9uXG4vLyB2YXJpYWJsZXMgZm9yIHRoaXMgaW5zdGFuY2UuXG5mdW5jdGlvbiBsb2NhbGUgKGtleSkge1xuICAgIHZhciBuZXdMb2NhbGVEYXRhO1xuXG4gICAgaWYgKGtleSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9sb2NhbGUuX2FiYnI7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgbmV3TG9jYWxlRGF0YSA9IGdldExvY2FsZShrZXkpO1xuICAgICAgICBpZiAobmV3TG9jYWxlRGF0YSAhPSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl9sb2NhbGUgPSBuZXdMb2NhbGVEYXRhO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbn1cblxudmFyIGxhbmcgPSBkZXByZWNhdGUoXG4gICAgJ21vbWVudCgpLmxhbmcoKSBpcyBkZXByZWNhdGVkLiBJbnN0ZWFkLCB1c2UgbW9tZW50KCkubG9jYWxlRGF0YSgpIHRvIGdldCB0aGUgbGFuZ3VhZ2UgY29uZmlndXJhdGlvbi4gVXNlIG1vbWVudCgpLmxvY2FsZSgpIHRvIGNoYW5nZSBsYW5ndWFnZXMuJyxcbiAgICBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIGlmIChrZXkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubG9jYWxlKGtleSk7XG4gICAgICAgIH1cbiAgICB9XG4pO1xuXG5mdW5jdGlvbiBsb2NhbGVEYXRhICgpIHtcbiAgICByZXR1cm4gdGhpcy5fbG9jYWxlO1xufVxuXG5mdW5jdGlvbiBzdGFydE9mICh1bml0cykge1xuICAgIHVuaXRzID0gbm9ybWFsaXplVW5pdHModW5pdHMpO1xuICAgIC8vIHRoZSBmb2xsb3dpbmcgc3dpdGNoIGludGVudGlvbmFsbHkgb21pdHMgYnJlYWsga2V5d29yZHNcbiAgICAvLyB0byB1dGlsaXplIGZhbGxpbmcgdGhyb3VnaCB0aGUgY2FzZXMuXG4gICAgc3dpdGNoICh1bml0cykge1xuICAgICAgICBjYXNlICd5ZWFyJzpcbiAgICAgICAgICAgIHRoaXMubW9udGgoMCk7XG4gICAgICAgICAgICAvKiBmYWxscyB0aHJvdWdoICovXG4gICAgICAgIGNhc2UgJ3F1YXJ0ZXInOlxuICAgICAgICBjYXNlICdtb250aCc6XG4gICAgICAgICAgICB0aGlzLmRhdGUoMSk7XG4gICAgICAgICAgICAvKiBmYWxscyB0aHJvdWdoICovXG4gICAgICAgIGNhc2UgJ3dlZWsnOlxuICAgICAgICBjYXNlICdpc29XZWVrJzpcbiAgICAgICAgY2FzZSAnZGF5JzpcbiAgICAgICAgY2FzZSAnZGF0ZSc6XG4gICAgICAgICAgICB0aGlzLmhvdXJzKDApO1xuICAgICAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgICAgICBjYXNlICdob3VyJzpcbiAgICAgICAgICAgIHRoaXMubWludXRlcygwKTtcbiAgICAgICAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICAgICAgY2FzZSAnbWludXRlJzpcbiAgICAgICAgICAgIHRoaXMuc2Vjb25kcygwKTtcbiAgICAgICAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICAgICAgY2FzZSAnc2Vjb25kJzpcbiAgICAgICAgICAgIHRoaXMubWlsbGlzZWNvbmRzKDApO1xuICAgIH1cblxuICAgIC8vIHdlZWtzIGFyZSBhIHNwZWNpYWwgY2FzZVxuICAgIGlmICh1bml0cyA9PT0gJ3dlZWsnKSB7XG4gICAgICAgIHRoaXMud2Vla2RheSgwKTtcbiAgICB9XG4gICAgaWYgKHVuaXRzID09PSAnaXNvV2VlaycpIHtcbiAgICAgICAgdGhpcy5pc29XZWVrZGF5KDEpO1xuICAgIH1cblxuICAgIC8vIHF1YXJ0ZXJzIGFyZSBhbHNvIHNwZWNpYWxcbiAgICBpZiAodW5pdHMgPT09ICdxdWFydGVyJykge1xuICAgICAgICB0aGlzLm1vbnRoKE1hdGguZmxvb3IodGhpcy5tb250aCgpIC8gMykgKiAzKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbn1cblxuZnVuY3Rpb24gZW5kT2YgKHVuaXRzKSB7XG4gICAgdW5pdHMgPSBub3JtYWxpemVVbml0cyh1bml0cyk7XG4gICAgaWYgKHVuaXRzID09PSB1bmRlZmluZWQgfHwgdW5pdHMgPT09ICdtaWxsaXNlY29uZCcpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLy8gJ2RhdGUnIGlzIGFuIGFsaWFzIGZvciAnZGF5Jywgc28gaXQgc2hvdWxkIGJlIGNvbnNpZGVyZWQgYXMgc3VjaC5cbiAgICBpZiAodW5pdHMgPT09ICdkYXRlJykge1xuICAgICAgICB1bml0cyA9ICdkYXknO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLnN0YXJ0T2YodW5pdHMpLmFkZCgxLCAodW5pdHMgPT09ICdpc29XZWVrJyA/ICd3ZWVrJyA6IHVuaXRzKSkuc3VidHJhY3QoMSwgJ21zJyk7XG59XG5cbmZ1bmN0aW9uIHZhbHVlT2YgKCkge1xuICAgIHJldHVybiB0aGlzLl9kLnZhbHVlT2YoKSAtICgodGhpcy5fb2Zmc2V0IHx8IDApICogNjAwMDApO1xufVxuXG5mdW5jdGlvbiB1bml4ICgpIHtcbiAgICByZXR1cm4gTWF0aC5mbG9vcih0aGlzLnZhbHVlT2YoKSAvIDEwMDApO1xufVxuXG5mdW5jdGlvbiB0b0RhdGUgKCkge1xuICAgIHJldHVybiBuZXcgRGF0ZSh0aGlzLnZhbHVlT2YoKSk7XG59XG5cbmZ1bmN0aW9uIHRvQXJyYXkgKCkge1xuICAgIHZhciBtID0gdGhpcztcbiAgICByZXR1cm4gW20ueWVhcigpLCBtLm1vbnRoKCksIG0uZGF0ZSgpLCBtLmhvdXIoKSwgbS5taW51dGUoKSwgbS5zZWNvbmQoKSwgbS5taWxsaXNlY29uZCgpXTtcbn1cblxuZnVuY3Rpb24gdG9PYmplY3QgKCkge1xuICAgIHZhciBtID0gdGhpcztcbiAgICByZXR1cm4ge1xuICAgICAgICB5ZWFyczogbS55ZWFyKCksXG4gICAgICAgIG1vbnRoczogbS5tb250aCgpLFxuICAgICAgICBkYXRlOiBtLmRhdGUoKSxcbiAgICAgICAgaG91cnM6IG0uaG91cnMoKSxcbiAgICAgICAgbWludXRlczogbS5taW51dGVzKCksXG4gICAgICAgIHNlY29uZHM6IG0uc2Vjb25kcygpLFxuICAgICAgICBtaWxsaXNlY29uZHM6IG0ubWlsbGlzZWNvbmRzKClcbiAgICB9O1xufVxuXG5mdW5jdGlvbiB0b0pTT04gKCkge1xuICAgIC8vIG5ldyBEYXRlKE5hTikudG9KU09OKCkgPT09IG51bGxcbiAgICByZXR1cm4gdGhpcy5pc1ZhbGlkKCkgPyB0aGlzLnRvSVNPU3RyaW5nKCkgOiBudWxsO1xufVxuXG5mdW5jdGlvbiBpc1ZhbGlkJDEgKCkge1xuICAgIHJldHVybiBpc1ZhbGlkKHRoaXMpO1xufVxuXG5mdW5jdGlvbiBwYXJzaW5nRmxhZ3MgKCkge1xuICAgIHJldHVybiBleHRlbmQoe30sIGdldFBhcnNpbmdGbGFncyh0aGlzKSk7XG59XG5cbmZ1bmN0aW9uIGludmFsaWRBdCAoKSB7XG4gICAgcmV0dXJuIGdldFBhcnNpbmdGbGFncyh0aGlzKS5vdmVyZmxvdztcbn1cblxuZnVuY3Rpb24gY3JlYXRpb25EYXRhKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGlucHV0OiB0aGlzLl9pLFxuICAgICAgICBmb3JtYXQ6IHRoaXMuX2YsXG4gICAgICAgIGxvY2FsZTogdGhpcy5fbG9jYWxlLFxuICAgICAgICBpc1VUQzogdGhpcy5faXNVVEMsXG4gICAgICAgIHN0cmljdDogdGhpcy5fc3RyaWN0XG4gICAgfTtcbn1cblxuLy8gRk9STUFUVElOR1xuXG5hZGRGb3JtYXRUb2tlbigwLCBbJ2dnJywgMl0sIDAsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy53ZWVrWWVhcigpICUgMTAwO1xufSk7XG5cbmFkZEZvcm1hdFRva2VuKDAsIFsnR0cnLCAyXSwgMCwgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmlzb1dlZWtZZWFyKCkgJSAxMDA7XG59KTtcblxuZnVuY3Rpb24gYWRkV2Vla1llYXJGb3JtYXRUb2tlbiAodG9rZW4sIGdldHRlcikge1xuICAgIGFkZEZvcm1hdFRva2VuKDAsIFt0b2tlbiwgdG9rZW4ubGVuZ3RoXSwgMCwgZ2V0dGVyKTtcbn1cblxuYWRkV2Vla1llYXJGb3JtYXRUb2tlbignZ2dnZycsICAgICAnd2Vla1llYXInKTtcbmFkZFdlZWtZZWFyRm9ybWF0VG9rZW4oJ2dnZ2dnJywgICAgJ3dlZWtZZWFyJyk7XG5hZGRXZWVrWWVhckZvcm1hdFRva2VuKCdHR0dHJywgICdpc29XZWVrWWVhcicpO1xuYWRkV2Vla1llYXJGb3JtYXRUb2tlbignR0dHR0cnLCAnaXNvV2Vla1llYXInKTtcblxuLy8gQUxJQVNFU1xuXG5hZGRVbml0QWxpYXMoJ3dlZWtZZWFyJywgJ2dnJyk7XG5hZGRVbml0QWxpYXMoJ2lzb1dlZWtZZWFyJywgJ0dHJyk7XG5cbi8vIFBSSU9SSVRZXG5cbmFkZFVuaXRQcmlvcml0eSgnd2Vla1llYXInLCAxKTtcbmFkZFVuaXRQcmlvcml0eSgnaXNvV2Vla1llYXInLCAxKTtcblxuXG4vLyBQQVJTSU5HXG5cbmFkZFJlZ2V4VG9rZW4oJ0cnLCAgICAgIG1hdGNoU2lnbmVkKTtcbmFkZFJlZ2V4VG9rZW4oJ2cnLCAgICAgIG1hdGNoU2lnbmVkKTtcbmFkZFJlZ2V4VG9rZW4oJ0dHJywgICAgIG1hdGNoMXRvMiwgbWF0Y2gyKTtcbmFkZFJlZ2V4VG9rZW4oJ2dnJywgICAgIG1hdGNoMXRvMiwgbWF0Y2gyKTtcbmFkZFJlZ2V4VG9rZW4oJ0dHR0cnLCAgIG1hdGNoMXRvNCwgbWF0Y2g0KTtcbmFkZFJlZ2V4VG9rZW4oJ2dnZ2cnLCAgIG1hdGNoMXRvNCwgbWF0Y2g0KTtcbmFkZFJlZ2V4VG9rZW4oJ0dHR0dHJywgIG1hdGNoMXRvNiwgbWF0Y2g2KTtcbmFkZFJlZ2V4VG9rZW4oJ2dnZ2dnJywgIG1hdGNoMXRvNiwgbWF0Y2g2KTtcblxuYWRkV2Vla1BhcnNlVG9rZW4oWydnZ2dnJywgJ2dnZ2dnJywgJ0dHR0cnLCAnR0dHR0cnXSwgZnVuY3Rpb24gKGlucHV0LCB3ZWVrLCBjb25maWcsIHRva2VuKSB7XG4gICAgd2Vla1t0b2tlbi5zdWJzdHIoMCwgMildID0gdG9JbnQoaW5wdXQpO1xufSk7XG5cbmFkZFdlZWtQYXJzZVRva2VuKFsnZ2cnLCAnR0cnXSwgZnVuY3Rpb24gKGlucHV0LCB3ZWVrLCBjb25maWcsIHRva2VuKSB7XG4gICAgd2Vla1t0b2tlbl0gPSBob29rcy5wYXJzZVR3b0RpZ2l0WWVhcihpbnB1dCk7XG59KTtcblxuLy8gTU9NRU5UU1xuXG5mdW5jdGlvbiBnZXRTZXRXZWVrWWVhciAoaW5wdXQpIHtcbiAgICByZXR1cm4gZ2V0U2V0V2Vla1llYXJIZWxwZXIuY2FsbCh0aGlzLFxuICAgICAgICAgICAgaW5wdXQsXG4gICAgICAgICAgICB0aGlzLndlZWsoKSxcbiAgICAgICAgICAgIHRoaXMud2Vla2RheSgpLFxuICAgICAgICAgICAgdGhpcy5sb2NhbGVEYXRhKCkuX3dlZWsuZG93LFxuICAgICAgICAgICAgdGhpcy5sb2NhbGVEYXRhKCkuX3dlZWsuZG95KTtcbn1cblxuZnVuY3Rpb24gZ2V0U2V0SVNPV2Vla1llYXIgKGlucHV0KSB7XG4gICAgcmV0dXJuIGdldFNldFdlZWtZZWFySGVscGVyLmNhbGwodGhpcyxcbiAgICAgICAgICAgIGlucHV0LCB0aGlzLmlzb1dlZWsoKSwgdGhpcy5pc29XZWVrZGF5KCksIDEsIDQpO1xufVxuXG5mdW5jdGlvbiBnZXRJU09XZWVrc0luWWVhciAoKSB7XG4gICAgcmV0dXJuIHdlZWtzSW5ZZWFyKHRoaXMueWVhcigpLCAxLCA0KTtcbn1cblxuZnVuY3Rpb24gZ2V0V2Vla3NJblllYXIgKCkge1xuICAgIHZhciB3ZWVrSW5mbyA9IHRoaXMubG9jYWxlRGF0YSgpLl93ZWVrO1xuICAgIHJldHVybiB3ZWVrc0luWWVhcih0aGlzLnllYXIoKSwgd2Vla0luZm8uZG93LCB3ZWVrSW5mby5kb3kpO1xufVxuXG5mdW5jdGlvbiBnZXRTZXRXZWVrWWVhckhlbHBlcihpbnB1dCwgd2Vlaywgd2Vla2RheSwgZG93LCBkb3kpIHtcbiAgICB2YXIgd2Vla3NUYXJnZXQ7XG4gICAgaWYgKGlucHV0ID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHdlZWtPZlllYXIodGhpcywgZG93LCBkb3kpLnllYXI7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgd2Vla3NUYXJnZXQgPSB3ZWVrc0luWWVhcihpbnB1dCwgZG93LCBkb3kpO1xuICAgICAgICBpZiAod2VlayA+IHdlZWtzVGFyZ2V0KSB7XG4gICAgICAgICAgICB3ZWVrID0gd2Vla3NUYXJnZXQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNldFdlZWtBbGwuY2FsbCh0aGlzLCBpbnB1dCwgd2Vlaywgd2Vla2RheSwgZG93LCBkb3kpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gc2V0V2Vla0FsbCh3ZWVrWWVhciwgd2Vlaywgd2Vla2RheSwgZG93LCBkb3kpIHtcbiAgICB2YXIgZGF5T2ZZZWFyRGF0YSA9IGRheU9mWWVhckZyb21XZWVrcyh3ZWVrWWVhciwgd2Vlaywgd2Vla2RheSwgZG93LCBkb3kpLFxuICAgICAgICBkYXRlID0gY3JlYXRlVVRDRGF0ZShkYXlPZlllYXJEYXRhLnllYXIsIDAsIGRheU9mWWVhckRhdGEuZGF5T2ZZZWFyKTtcblxuICAgIHRoaXMueWVhcihkYXRlLmdldFVUQ0Z1bGxZZWFyKCkpO1xuICAgIHRoaXMubW9udGgoZGF0ZS5nZXRVVENNb250aCgpKTtcbiAgICB0aGlzLmRhdGUoZGF0ZS5nZXRVVENEYXRlKCkpO1xuICAgIHJldHVybiB0aGlzO1xufVxuXG4vLyBGT1JNQVRUSU5HXG5cbmFkZEZvcm1hdFRva2VuKCdRJywgMCwgJ1FvJywgJ3F1YXJ0ZXInKTtcblxuLy8gQUxJQVNFU1xuXG5hZGRVbml0QWxpYXMoJ3F1YXJ0ZXInLCAnUScpO1xuXG4vLyBQUklPUklUWVxuXG5hZGRVbml0UHJpb3JpdHkoJ3F1YXJ0ZXInLCA3KTtcblxuLy8gUEFSU0lOR1xuXG5hZGRSZWdleFRva2VuKCdRJywgbWF0Y2gxKTtcbmFkZFBhcnNlVG9rZW4oJ1EnLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5KSB7XG4gICAgYXJyYXlbTU9OVEhdID0gKHRvSW50KGlucHV0KSAtIDEpICogMztcbn0pO1xuXG4vLyBNT01FTlRTXG5cbmZ1bmN0aW9uIGdldFNldFF1YXJ0ZXIgKGlucHV0KSB7XG4gICAgcmV0dXJuIGlucHV0ID09IG51bGwgPyBNYXRoLmNlaWwoKHRoaXMubW9udGgoKSArIDEpIC8gMykgOiB0aGlzLm1vbnRoKChpbnB1dCAtIDEpICogMyArIHRoaXMubW9udGgoKSAlIDMpO1xufVxuXG4vLyBGT1JNQVRUSU5HXG5cbmFkZEZvcm1hdFRva2VuKCdEJywgWydERCcsIDJdLCAnRG8nLCAnZGF0ZScpO1xuXG4vLyBBTElBU0VTXG5cbmFkZFVuaXRBbGlhcygnZGF0ZScsICdEJyk7XG5cbi8vIFBSSU9ST0lUWVxuYWRkVW5pdFByaW9yaXR5KCdkYXRlJywgOSk7XG5cbi8vIFBBUlNJTkdcblxuYWRkUmVnZXhUb2tlbignRCcsICBtYXRjaDF0bzIpO1xuYWRkUmVnZXhUb2tlbignREQnLCBtYXRjaDF0bzIsIG1hdGNoMik7XG5hZGRSZWdleFRva2VuKCdEbycsIGZ1bmN0aW9uIChpc1N0cmljdCwgbG9jYWxlKSB7XG4gICAgcmV0dXJuIGlzU3RyaWN0ID8gbG9jYWxlLl9vcmRpbmFsUGFyc2UgOiBsb2NhbGUuX29yZGluYWxQYXJzZUxlbmllbnQ7XG59KTtcblxuYWRkUGFyc2VUb2tlbihbJ0QnLCAnREQnXSwgREFURSk7XG5hZGRQYXJzZVRva2VuKCdEbycsIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXkpIHtcbiAgICBhcnJheVtEQVRFXSA9IHRvSW50KGlucHV0Lm1hdGNoKG1hdGNoMXRvMilbMF0sIDEwKTtcbn0pO1xuXG4vLyBNT01FTlRTXG5cbnZhciBnZXRTZXREYXlPZk1vbnRoID0gbWFrZUdldFNldCgnRGF0ZScsIHRydWUpO1xuXG4vLyBGT1JNQVRUSU5HXG5cbmFkZEZvcm1hdFRva2VuKCdEREQnLCBbJ0REREQnLCAzXSwgJ0RERG8nLCAnZGF5T2ZZZWFyJyk7XG5cbi8vIEFMSUFTRVNcblxuYWRkVW5pdEFsaWFzKCdkYXlPZlllYXInLCAnREREJyk7XG5cbi8vIFBSSU9SSVRZXG5hZGRVbml0UHJpb3JpdHkoJ2RheU9mWWVhcicsIDQpO1xuXG4vLyBQQVJTSU5HXG5cbmFkZFJlZ2V4VG9rZW4oJ0RERCcsICBtYXRjaDF0bzMpO1xuYWRkUmVnZXhUb2tlbignRERERCcsIG1hdGNoMyk7XG5hZGRQYXJzZVRva2VuKFsnREREJywgJ0REREQnXSwgZnVuY3Rpb24gKGlucHV0LCBhcnJheSwgY29uZmlnKSB7XG4gICAgY29uZmlnLl9kYXlPZlllYXIgPSB0b0ludChpbnB1dCk7XG59KTtcblxuLy8gSEVMUEVSU1xuXG4vLyBNT01FTlRTXG5cbmZ1bmN0aW9uIGdldFNldERheU9mWWVhciAoaW5wdXQpIHtcbiAgICB2YXIgZGF5T2ZZZWFyID0gTWF0aC5yb3VuZCgodGhpcy5jbG9uZSgpLnN0YXJ0T2YoJ2RheScpIC0gdGhpcy5jbG9uZSgpLnN0YXJ0T2YoJ3llYXInKSkgLyA4NjRlNSkgKyAxO1xuICAgIHJldHVybiBpbnB1dCA9PSBudWxsID8gZGF5T2ZZZWFyIDogdGhpcy5hZGQoKGlucHV0IC0gZGF5T2ZZZWFyKSwgJ2QnKTtcbn1cblxuLy8gRk9STUFUVElOR1xuXG5hZGRGb3JtYXRUb2tlbignbScsIFsnbW0nLCAyXSwgMCwgJ21pbnV0ZScpO1xuXG4vLyBBTElBU0VTXG5cbmFkZFVuaXRBbGlhcygnbWludXRlJywgJ20nKTtcblxuLy8gUFJJT1JJVFlcblxuYWRkVW5pdFByaW9yaXR5KCdtaW51dGUnLCAxNCk7XG5cbi8vIFBBUlNJTkdcblxuYWRkUmVnZXhUb2tlbignbScsICBtYXRjaDF0bzIpO1xuYWRkUmVnZXhUb2tlbignbW0nLCBtYXRjaDF0bzIsIG1hdGNoMik7XG5hZGRQYXJzZVRva2VuKFsnbScsICdtbSddLCBNSU5VVEUpO1xuXG4vLyBNT01FTlRTXG5cbnZhciBnZXRTZXRNaW51dGUgPSBtYWtlR2V0U2V0KCdNaW51dGVzJywgZmFsc2UpO1xuXG4vLyBGT1JNQVRUSU5HXG5cbmFkZEZvcm1hdFRva2VuKCdzJywgWydzcycsIDJdLCAwLCAnc2Vjb25kJyk7XG5cbi8vIEFMSUFTRVNcblxuYWRkVW5pdEFsaWFzKCdzZWNvbmQnLCAncycpO1xuXG4vLyBQUklPUklUWVxuXG5hZGRVbml0UHJpb3JpdHkoJ3NlY29uZCcsIDE1KTtcblxuLy8gUEFSU0lOR1xuXG5hZGRSZWdleFRva2VuKCdzJywgIG1hdGNoMXRvMik7XG5hZGRSZWdleFRva2VuKCdzcycsIG1hdGNoMXRvMiwgbWF0Y2gyKTtcbmFkZFBhcnNlVG9rZW4oWydzJywgJ3NzJ10sIFNFQ09ORCk7XG5cbi8vIE1PTUVOVFNcblxudmFyIGdldFNldFNlY29uZCA9IG1ha2VHZXRTZXQoJ1NlY29uZHMnLCBmYWxzZSk7XG5cbi8vIEZPUk1BVFRJTkdcblxuYWRkRm9ybWF0VG9rZW4oJ1MnLCAwLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIH5+KHRoaXMubWlsbGlzZWNvbmQoKSAvIDEwMCk7XG59KTtcblxuYWRkRm9ybWF0VG9rZW4oMCwgWydTUycsIDJdLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIH5+KHRoaXMubWlsbGlzZWNvbmQoKSAvIDEwKTtcbn0pO1xuXG5hZGRGb3JtYXRUb2tlbigwLCBbJ1NTUycsIDNdLCAwLCAnbWlsbGlzZWNvbmQnKTtcbmFkZEZvcm1hdFRva2VuKDAsIFsnU1NTUycsIDRdLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMubWlsbGlzZWNvbmQoKSAqIDEwO1xufSk7XG5hZGRGb3JtYXRUb2tlbigwLCBbJ1NTU1NTJywgNV0sIDAsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5taWxsaXNlY29uZCgpICogMTAwO1xufSk7XG5hZGRGb3JtYXRUb2tlbigwLCBbJ1NTU1NTUycsIDZdLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMubWlsbGlzZWNvbmQoKSAqIDEwMDA7XG59KTtcbmFkZEZvcm1hdFRva2VuKDAsIFsnU1NTU1NTUycsIDddLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMubWlsbGlzZWNvbmQoKSAqIDEwMDAwO1xufSk7XG5hZGRGb3JtYXRUb2tlbigwLCBbJ1NTU1NTU1NTJywgOF0sIDAsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5taWxsaXNlY29uZCgpICogMTAwMDAwO1xufSk7XG5hZGRGb3JtYXRUb2tlbigwLCBbJ1NTU1NTU1NTUycsIDldLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMubWlsbGlzZWNvbmQoKSAqIDEwMDAwMDA7XG59KTtcblxuXG4vLyBBTElBU0VTXG5cbmFkZFVuaXRBbGlhcygnbWlsbGlzZWNvbmQnLCAnbXMnKTtcblxuLy8gUFJJT1JJVFlcblxuYWRkVW5pdFByaW9yaXR5KCdtaWxsaXNlY29uZCcsIDE2KTtcblxuLy8gUEFSU0lOR1xuXG5hZGRSZWdleFRva2VuKCdTJywgICAgbWF0Y2gxdG8zLCBtYXRjaDEpO1xuYWRkUmVnZXhUb2tlbignU1MnLCAgIG1hdGNoMXRvMywgbWF0Y2gyKTtcbmFkZFJlZ2V4VG9rZW4oJ1NTUycsICBtYXRjaDF0bzMsIG1hdGNoMyk7XG5cbnZhciB0b2tlbjtcbmZvciAodG9rZW4gPSAnU1NTUyc7IHRva2VuLmxlbmd0aCA8PSA5OyB0b2tlbiArPSAnUycpIHtcbiAgICBhZGRSZWdleFRva2VuKHRva2VuLCBtYXRjaFVuc2lnbmVkKTtcbn1cblxuZnVuY3Rpb24gcGFyc2VNcyhpbnB1dCwgYXJyYXkpIHtcbiAgICBhcnJheVtNSUxMSVNFQ09ORF0gPSB0b0ludCgoJzAuJyArIGlucHV0KSAqIDEwMDApO1xufVxuXG5mb3IgKHRva2VuID0gJ1MnOyB0b2tlbi5sZW5ndGggPD0gOTsgdG9rZW4gKz0gJ1MnKSB7XG4gICAgYWRkUGFyc2VUb2tlbih0b2tlbiwgcGFyc2VNcyk7XG59XG4vLyBNT01FTlRTXG5cbnZhciBnZXRTZXRNaWxsaXNlY29uZCA9IG1ha2VHZXRTZXQoJ01pbGxpc2Vjb25kcycsIGZhbHNlKTtcblxuLy8gRk9STUFUVElOR1xuXG5hZGRGb3JtYXRUb2tlbigneicsICAwLCAwLCAnem9uZUFiYnInKTtcbmFkZEZvcm1hdFRva2VuKCd6eicsIDAsIDAsICd6b25lTmFtZScpO1xuXG4vLyBNT01FTlRTXG5cbmZ1bmN0aW9uIGdldFpvbmVBYmJyICgpIHtcbiAgICByZXR1cm4gdGhpcy5faXNVVEMgPyAnVVRDJyA6ICcnO1xufVxuXG5mdW5jdGlvbiBnZXRab25lTmFtZSAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2lzVVRDID8gJ0Nvb3JkaW5hdGVkIFVuaXZlcnNhbCBUaW1lJyA6ICcnO1xufVxuXG52YXIgcHJvdG8gPSBNb21lbnQucHJvdG90eXBlO1xuXG5wcm90by5hZGQgICAgICAgICAgICAgICA9IGFkZDtcbnByb3RvLmNhbGVuZGFyICAgICAgICAgID0gY2FsZW5kYXIkMTtcbnByb3RvLmNsb25lICAgICAgICAgICAgID0gY2xvbmU7XG5wcm90by5kaWZmICAgICAgICAgICAgICA9IGRpZmY7XG5wcm90by5lbmRPZiAgICAgICAgICAgICA9IGVuZE9mO1xucHJvdG8uZm9ybWF0ICAgICAgICAgICAgPSBmb3JtYXQ7XG5wcm90by5mcm9tICAgICAgICAgICAgICA9IGZyb207XG5wcm90by5mcm9tTm93ICAgICAgICAgICA9IGZyb21Ob3c7XG5wcm90by50byAgICAgICAgICAgICAgICA9IHRvO1xucHJvdG8udG9Ob3cgICAgICAgICAgICAgPSB0b05vdztcbnByb3RvLmdldCAgICAgICAgICAgICAgID0gc3RyaW5nR2V0O1xucHJvdG8uaW52YWxpZEF0ICAgICAgICAgPSBpbnZhbGlkQXQ7XG5wcm90by5pc0FmdGVyICAgICAgICAgICA9IGlzQWZ0ZXI7XG5wcm90by5pc0JlZm9yZSAgICAgICAgICA9IGlzQmVmb3JlO1xucHJvdG8uaXNCZXR3ZWVuICAgICAgICAgPSBpc0JldHdlZW47XG5wcm90by5pc1NhbWUgICAgICAgICAgICA9IGlzU2FtZTtcbnByb3RvLmlzU2FtZU9yQWZ0ZXIgICAgID0gaXNTYW1lT3JBZnRlcjtcbnByb3RvLmlzU2FtZU9yQmVmb3JlICAgID0gaXNTYW1lT3JCZWZvcmU7XG5wcm90by5pc1ZhbGlkICAgICAgICAgICA9IGlzVmFsaWQkMTtcbnByb3RvLmxhbmcgICAgICAgICAgICAgID0gbGFuZztcbnByb3RvLmxvY2FsZSAgICAgICAgICAgID0gbG9jYWxlO1xucHJvdG8ubG9jYWxlRGF0YSAgICAgICAgPSBsb2NhbGVEYXRhO1xucHJvdG8ubWF4ICAgICAgICAgICAgICAgPSBwcm90b3R5cGVNYXg7XG5wcm90by5taW4gICAgICAgICAgICAgICA9IHByb3RvdHlwZU1pbjtcbnByb3RvLnBhcnNpbmdGbGFncyAgICAgID0gcGFyc2luZ0ZsYWdzO1xucHJvdG8uc2V0ICAgICAgICAgICAgICAgPSBzdHJpbmdTZXQ7XG5wcm90by5zdGFydE9mICAgICAgICAgICA9IHN0YXJ0T2Y7XG5wcm90by5zdWJ0cmFjdCAgICAgICAgICA9IHN1YnRyYWN0O1xucHJvdG8udG9BcnJheSAgICAgICAgICAgPSB0b0FycmF5O1xucHJvdG8udG9PYmplY3QgICAgICAgICAgPSB0b09iamVjdDtcbnByb3RvLnRvRGF0ZSAgICAgICAgICAgID0gdG9EYXRlO1xucHJvdG8udG9JU09TdHJpbmcgICAgICAgPSB0b0lTT1N0cmluZztcbnByb3RvLmluc3BlY3QgICAgICAgICAgID0gaW5zcGVjdDtcbnByb3RvLnRvSlNPTiAgICAgICAgICAgID0gdG9KU09OO1xucHJvdG8udG9TdHJpbmcgICAgICAgICAgPSB0b1N0cmluZztcbnByb3RvLnVuaXggICAgICAgICAgICAgID0gdW5peDtcbnByb3RvLnZhbHVlT2YgICAgICAgICAgID0gdmFsdWVPZjtcbnByb3RvLmNyZWF0aW9uRGF0YSAgICAgID0gY3JlYXRpb25EYXRhO1xuXG4vLyBZZWFyXG5wcm90by55ZWFyICAgICAgID0gZ2V0U2V0WWVhcjtcbnByb3RvLmlzTGVhcFllYXIgPSBnZXRJc0xlYXBZZWFyO1xuXG4vLyBXZWVrIFllYXJcbnByb3RvLndlZWtZZWFyICAgID0gZ2V0U2V0V2Vla1llYXI7XG5wcm90by5pc29XZWVrWWVhciA9IGdldFNldElTT1dlZWtZZWFyO1xuXG4vLyBRdWFydGVyXG5wcm90by5xdWFydGVyID0gcHJvdG8ucXVhcnRlcnMgPSBnZXRTZXRRdWFydGVyO1xuXG4vLyBNb250aFxucHJvdG8ubW9udGggICAgICAgPSBnZXRTZXRNb250aDtcbnByb3RvLmRheXNJbk1vbnRoID0gZ2V0RGF5c0luTW9udGg7XG5cbi8vIFdlZWtcbnByb3RvLndlZWsgICAgICAgICAgID0gcHJvdG8ud2Vla3MgICAgICAgID0gZ2V0U2V0V2VlaztcbnByb3RvLmlzb1dlZWsgICAgICAgID0gcHJvdG8uaXNvV2Vla3MgICAgID0gZ2V0U2V0SVNPV2VlaztcbnByb3RvLndlZWtzSW5ZZWFyICAgID0gZ2V0V2Vla3NJblllYXI7XG5wcm90by5pc29XZWVrc0luWWVhciA9IGdldElTT1dlZWtzSW5ZZWFyO1xuXG4vLyBEYXlcbnByb3RvLmRhdGUgICAgICAgPSBnZXRTZXREYXlPZk1vbnRoO1xucHJvdG8uZGF5ICAgICAgICA9IHByb3RvLmRheXMgICAgICAgICAgICAgPSBnZXRTZXREYXlPZldlZWs7XG5wcm90by53ZWVrZGF5ICAgID0gZ2V0U2V0TG9jYWxlRGF5T2ZXZWVrO1xucHJvdG8uaXNvV2Vla2RheSA9IGdldFNldElTT0RheU9mV2VlaztcbnByb3RvLmRheU9mWWVhciAgPSBnZXRTZXREYXlPZlllYXI7XG5cbi8vIEhvdXJcbnByb3RvLmhvdXIgPSBwcm90by5ob3VycyA9IGdldFNldEhvdXI7XG5cbi8vIE1pbnV0ZVxucHJvdG8ubWludXRlID0gcHJvdG8ubWludXRlcyA9IGdldFNldE1pbnV0ZTtcblxuLy8gU2Vjb25kXG5wcm90by5zZWNvbmQgPSBwcm90by5zZWNvbmRzID0gZ2V0U2V0U2Vjb25kO1xuXG4vLyBNaWxsaXNlY29uZFxucHJvdG8ubWlsbGlzZWNvbmQgPSBwcm90by5taWxsaXNlY29uZHMgPSBnZXRTZXRNaWxsaXNlY29uZDtcblxuLy8gT2Zmc2V0XG5wcm90by51dGNPZmZzZXQgICAgICAgICAgICA9IGdldFNldE9mZnNldDtcbnByb3RvLnV0YyAgICAgICAgICAgICAgICAgID0gc2V0T2Zmc2V0VG9VVEM7XG5wcm90by5sb2NhbCAgICAgICAgICAgICAgICA9IHNldE9mZnNldFRvTG9jYWw7XG5wcm90by5wYXJzZVpvbmUgICAgICAgICAgICA9IHNldE9mZnNldFRvUGFyc2VkT2Zmc2V0O1xucHJvdG8uaGFzQWxpZ25lZEhvdXJPZmZzZXQgPSBoYXNBbGlnbmVkSG91ck9mZnNldDtcbnByb3RvLmlzRFNUICAgICAgICAgICAgICAgID0gaXNEYXlsaWdodFNhdmluZ1RpbWU7XG5wcm90by5pc0xvY2FsICAgICAgICAgICAgICA9IGlzTG9jYWw7XG5wcm90by5pc1V0Y09mZnNldCAgICAgICAgICA9IGlzVXRjT2Zmc2V0O1xucHJvdG8uaXNVdGMgICAgICAgICAgICAgICAgPSBpc1V0YztcbnByb3RvLmlzVVRDICAgICAgICAgICAgICAgID0gaXNVdGM7XG5cbi8vIFRpbWV6b25lXG5wcm90by56b25lQWJiciA9IGdldFpvbmVBYmJyO1xucHJvdG8uem9uZU5hbWUgPSBnZXRab25lTmFtZTtcblxuLy8gRGVwcmVjYXRpb25zXG5wcm90by5kYXRlcyAgPSBkZXByZWNhdGUoJ2RhdGVzIGFjY2Vzc29yIGlzIGRlcHJlY2F0ZWQuIFVzZSBkYXRlIGluc3RlYWQuJywgZ2V0U2V0RGF5T2ZNb250aCk7XG5wcm90by5tb250aHMgPSBkZXByZWNhdGUoJ21vbnRocyBhY2Nlc3NvciBpcyBkZXByZWNhdGVkLiBVc2UgbW9udGggaW5zdGVhZCcsIGdldFNldE1vbnRoKTtcbnByb3RvLnllYXJzICA9IGRlcHJlY2F0ZSgneWVhcnMgYWNjZXNzb3IgaXMgZGVwcmVjYXRlZC4gVXNlIHllYXIgaW5zdGVhZCcsIGdldFNldFllYXIpO1xucHJvdG8uem9uZSAgID0gZGVwcmVjYXRlKCdtb21lbnQoKS56b25lIGlzIGRlcHJlY2F0ZWQsIHVzZSBtb21lbnQoKS51dGNPZmZzZXQgaW5zdGVhZC4gaHR0cDovL21vbWVudGpzLmNvbS9ndWlkZXMvIy93YXJuaW5ncy96b25lLycsIGdldFNldFpvbmUpO1xucHJvdG8uaXNEU1RTaGlmdGVkID0gZGVwcmVjYXRlKCdpc0RTVFNoaWZ0ZWQgaXMgZGVwcmVjYXRlZC4gU2VlIGh0dHA6Ly9tb21lbnRqcy5jb20vZ3VpZGVzLyMvd2FybmluZ3MvZHN0LXNoaWZ0ZWQvIGZvciBtb3JlIGluZm9ybWF0aW9uJywgaXNEYXlsaWdodFNhdmluZ1RpbWVTaGlmdGVkKTtcblxuZnVuY3Rpb24gY3JlYXRlVW5peCAoaW5wdXQpIHtcbiAgICByZXR1cm4gY3JlYXRlTG9jYWwoaW5wdXQgKiAxMDAwKTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlSW5ab25lICgpIHtcbiAgICByZXR1cm4gY3JlYXRlTG9jYWwuYXBwbHkobnVsbCwgYXJndW1lbnRzKS5wYXJzZVpvbmUoKTtcbn1cblxuZnVuY3Rpb24gcHJlUGFyc2VQb3N0Rm9ybWF0IChzdHJpbmcpIHtcbiAgICByZXR1cm4gc3RyaW5nO1xufVxuXG52YXIgcHJvdG8kMSA9IExvY2FsZS5wcm90b3R5cGU7XG5cbnByb3RvJDEuY2FsZW5kYXIgICAgICAgID0gY2FsZW5kYXI7XG5wcm90byQxLmxvbmdEYXRlRm9ybWF0ICA9IGxvbmdEYXRlRm9ybWF0O1xucHJvdG8kMS5pbnZhbGlkRGF0ZSAgICAgPSBpbnZhbGlkRGF0ZTtcbnByb3RvJDEub3JkaW5hbCAgICAgICAgID0gb3JkaW5hbDtcbnByb3RvJDEucHJlcGFyc2UgICAgICAgID0gcHJlUGFyc2VQb3N0Rm9ybWF0O1xucHJvdG8kMS5wb3N0Zm9ybWF0ICAgICAgPSBwcmVQYXJzZVBvc3RGb3JtYXQ7XG5wcm90byQxLnJlbGF0aXZlVGltZSAgICA9IHJlbGF0aXZlVGltZTtcbnByb3RvJDEucGFzdEZ1dHVyZSAgICAgID0gcGFzdEZ1dHVyZTtcbnByb3RvJDEuc2V0ICAgICAgICAgICAgID0gc2V0O1xuXG4vLyBNb250aFxucHJvdG8kMS5tb250aHMgICAgICAgICAgICA9ICAgICAgICBsb2NhbGVNb250aHM7XG5wcm90byQxLm1vbnRoc1Nob3J0ICAgICAgID0gICAgICAgIGxvY2FsZU1vbnRoc1Nob3J0O1xucHJvdG8kMS5tb250aHNQYXJzZSAgICAgICA9ICAgICAgICBsb2NhbGVNb250aHNQYXJzZTtcbnByb3RvJDEubW9udGhzUmVnZXggICAgICAgPSBtb250aHNSZWdleDtcbnByb3RvJDEubW9udGhzU2hvcnRSZWdleCAgPSBtb250aHNTaG9ydFJlZ2V4O1xuXG4vLyBXZWVrXG5wcm90byQxLndlZWsgPSBsb2NhbGVXZWVrO1xucHJvdG8kMS5maXJzdERheU9mWWVhciA9IGxvY2FsZUZpcnN0RGF5T2ZZZWFyO1xucHJvdG8kMS5maXJzdERheU9mV2VlayA9IGxvY2FsZUZpcnN0RGF5T2ZXZWVrO1xuXG4vLyBEYXkgb2YgV2Vla1xucHJvdG8kMS53ZWVrZGF5cyAgICAgICA9ICAgICAgICBsb2NhbGVXZWVrZGF5cztcbnByb3RvJDEud2Vla2RheXNNaW4gICAgPSAgICAgICAgbG9jYWxlV2Vla2RheXNNaW47XG5wcm90byQxLndlZWtkYXlzU2hvcnQgID0gICAgICAgIGxvY2FsZVdlZWtkYXlzU2hvcnQ7XG5wcm90byQxLndlZWtkYXlzUGFyc2UgID0gICAgICAgIGxvY2FsZVdlZWtkYXlzUGFyc2U7XG5cbnByb3RvJDEud2Vla2RheXNSZWdleCAgICAgICA9ICAgICAgICB3ZWVrZGF5c1JlZ2V4O1xucHJvdG8kMS53ZWVrZGF5c1Nob3J0UmVnZXggID0gICAgICAgIHdlZWtkYXlzU2hvcnRSZWdleDtcbnByb3RvJDEud2Vla2RheXNNaW5SZWdleCAgICA9ICAgICAgICB3ZWVrZGF5c01pblJlZ2V4O1xuXG4vLyBIb3Vyc1xucHJvdG8kMS5pc1BNID0gbG9jYWxlSXNQTTtcbnByb3RvJDEubWVyaWRpZW0gPSBsb2NhbGVNZXJpZGllbTtcblxuZnVuY3Rpb24gZ2V0JDEgKGZvcm1hdCwgaW5kZXgsIGZpZWxkLCBzZXR0ZXIpIHtcbiAgICB2YXIgbG9jYWxlID0gZ2V0TG9jYWxlKCk7XG4gICAgdmFyIHV0YyA9IGNyZWF0ZVVUQygpLnNldChzZXR0ZXIsIGluZGV4KTtcbiAgICByZXR1cm4gbG9jYWxlW2ZpZWxkXSh1dGMsIGZvcm1hdCk7XG59XG5cbmZ1bmN0aW9uIGxpc3RNb250aHNJbXBsIChmb3JtYXQsIGluZGV4LCBmaWVsZCkge1xuICAgIGlmIChpc051bWJlcihmb3JtYXQpKSB7XG4gICAgICAgIGluZGV4ID0gZm9ybWF0O1xuICAgICAgICBmb3JtYXQgPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgZm9ybWF0ID0gZm9ybWF0IHx8ICcnO1xuXG4gICAgaWYgKGluZGV4ICE9IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIGdldCQxKGZvcm1hdCwgaW5kZXgsIGZpZWxkLCAnbW9udGgnKTtcbiAgICB9XG5cbiAgICB2YXIgaTtcbiAgICB2YXIgb3V0ID0gW107XG4gICAgZm9yIChpID0gMDsgaSA8IDEyOyBpKyspIHtcbiAgICAgICAgb3V0W2ldID0gZ2V0JDEoZm9ybWF0LCBpLCBmaWVsZCwgJ21vbnRoJyk7XG4gICAgfVxuICAgIHJldHVybiBvdXQ7XG59XG5cbi8vICgpXG4vLyAoNSlcbi8vIChmbXQsIDUpXG4vLyAoZm10KVxuLy8gKHRydWUpXG4vLyAodHJ1ZSwgNSlcbi8vICh0cnVlLCBmbXQsIDUpXG4vLyAodHJ1ZSwgZm10KVxuZnVuY3Rpb24gbGlzdFdlZWtkYXlzSW1wbCAobG9jYWxlU29ydGVkLCBmb3JtYXQsIGluZGV4LCBmaWVsZCkge1xuICAgIGlmICh0eXBlb2YgbG9jYWxlU29ydGVkID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgaWYgKGlzTnVtYmVyKGZvcm1hdCkpIHtcbiAgICAgICAgICAgIGluZGV4ID0gZm9ybWF0O1xuICAgICAgICAgICAgZm9ybWF0ID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9ybWF0ID0gZm9ybWF0IHx8ICcnO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGZvcm1hdCA9IGxvY2FsZVNvcnRlZDtcbiAgICAgICAgaW5kZXggPSBmb3JtYXQ7XG4gICAgICAgIGxvY2FsZVNvcnRlZCA9IGZhbHNlO1xuXG4gICAgICAgIGlmIChpc051bWJlcihmb3JtYXQpKSB7XG4gICAgICAgICAgICBpbmRleCA9IGZvcm1hdDtcbiAgICAgICAgICAgIGZvcm1hdCA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvcm1hdCA9IGZvcm1hdCB8fCAnJztcbiAgICB9XG5cbiAgICB2YXIgbG9jYWxlID0gZ2V0TG9jYWxlKCksXG4gICAgICAgIHNoaWZ0ID0gbG9jYWxlU29ydGVkID8gbG9jYWxlLl93ZWVrLmRvdyA6IDA7XG5cbiAgICBpZiAoaW5kZXggIT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gZ2V0JDEoZm9ybWF0LCAoaW5kZXggKyBzaGlmdCkgJSA3LCBmaWVsZCwgJ2RheScpO1xuICAgIH1cblxuICAgIHZhciBpO1xuICAgIHZhciBvdXQgPSBbXTtcbiAgICBmb3IgKGkgPSAwOyBpIDwgNzsgaSsrKSB7XG4gICAgICAgIG91dFtpXSA9IGdldCQxKGZvcm1hdCwgKGkgKyBzaGlmdCkgJSA3LCBmaWVsZCwgJ2RheScpO1xuICAgIH1cbiAgICByZXR1cm4gb3V0O1xufVxuXG5mdW5jdGlvbiBsaXN0TW9udGhzIChmb3JtYXQsIGluZGV4KSB7XG4gICAgcmV0dXJuIGxpc3RNb250aHNJbXBsKGZvcm1hdCwgaW5kZXgsICdtb250aHMnKTtcbn1cblxuZnVuY3Rpb24gbGlzdE1vbnRoc1Nob3J0IChmb3JtYXQsIGluZGV4KSB7XG4gICAgcmV0dXJuIGxpc3RNb250aHNJbXBsKGZvcm1hdCwgaW5kZXgsICdtb250aHNTaG9ydCcpO1xufVxuXG5mdW5jdGlvbiBsaXN0V2Vla2RheXMgKGxvY2FsZVNvcnRlZCwgZm9ybWF0LCBpbmRleCkge1xuICAgIHJldHVybiBsaXN0V2Vla2RheXNJbXBsKGxvY2FsZVNvcnRlZCwgZm9ybWF0LCBpbmRleCwgJ3dlZWtkYXlzJyk7XG59XG5cbmZ1bmN0aW9uIGxpc3RXZWVrZGF5c1Nob3J0IChsb2NhbGVTb3J0ZWQsIGZvcm1hdCwgaW5kZXgpIHtcbiAgICByZXR1cm4gbGlzdFdlZWtkYXlzSW1wbChsb2NhbGVTb3J0ZWQsIGZvcm1hdCwgaW5kZXgsICd3ZWVrZGF5c1Nob3J0Jyk7XG59XG5cbmZ1bmN0aW9uIGxpc3RXZWVrZGF5c01pbiAobG9jYWxlU29ydGVkLCBmb3JtYXQsIGluZGV4KSB7XG4gICAgcmV0dXJuIGxpc3RXZWVrZGF5c0ltcGwobG9jYWxlU29ydGVkLCBmb3JtYXQsIGluZGV4LCAnd2Vla2RheXNNaW4nKTtcbn1cblxuZ2V0U2V0R2xvYmFsTG9jYWxlKCdlbicsIHtcbiAgICBvcmRpbmFsUGFyc2U6IC9cXGR7MSwyfSh0aHxzdHxuZHxyZCkvLFxuICAgIG9yZGluYWwgOiBmdW5jdGlvbiAobnVtYmVyKSB7XG4gICAgICAgIHZhciBiID0gbnVtYmVyICUgMTAsXG4gICAgICAgICAgICBvdXRwdXQgPSAodG9JbnQobnVtYmVyICUgMTAwIC8gMTApID09PSAxKSA/ICd0aCcgOlxuICAgICAgICAgICAgKGIgPT09IDEpID8gJ3N0JyA6XG4gICAgICAgICAgICAoYiA9PT0gMikgPyAnbmQnIDpcbiAgICAgICAgICAgIChiID09PSAzKSA/ICdyZCcgOiAndGgnO1xuICAgICAgICByZXR1cm4gbnVtYmVyICsgb3V0cHV0O1xuICAgIH1cbn0pO1xuXG4vLyBTaWRlIGVmZmVjdCBpbXBvcnRzXG5ob29rcy5sYW5nID0gZGVwcmVjYXRlKCdtb21lbnQubGFuZyBpcyBkZXByZWNhdGVkLiBVc2UgbW9tZW50LmxvY2FsZSBpbnN0ZWFkLicsIGdldFNldEdsb2JhbExvY2FsZSk7XG5ob29rcy5sYW5nRGF0YSA9IGRlcHJlY2F0ZSgnbW9tZW50LmxhbmdEYXRhIGlzIGRlcHJlY2F0ZWQuIFVzZSBtb21lbnQubG9jYWxlRGF0YSBpbnN0ZWFkLicsIGdldExvY2FsZSk7XG5cbnZhciBtYXRoQWJzID0gTWF0aC5hYnM7XG5cbmZ1bmN0aW9uIGFicyAoKSB7XG4gICAgdmFyIGRhdGEgICAgICAgICAgID0gdGhpcy5fZGF0YTtcblxuICAgIHRoaXMuX21pbGxpc2Vjb25kcyA9IG1hdGhBYnModGhpcy5fbWlsbGlzZWNvbmRzKTtcbiAgICB0aGlzLl9kYXlzICAgICAgICAgPSBtYXRoQWJzKHRoaXMuX2RheXMpO1xuICAgIHRoaXMuX21vbnRocyAgICAgICA9IG1hdGhBYnModGhpcy5fbW9udGhzKTtcblxuICAgIGRhdGEubWlsbGlzZWNvbmRzICA9IG1hdGhBYnMoZGF0YS5taWxsaXNlY29uZHMpO1xuICAgIGRhdGEuc2Vjb25kcyAgICAgICA9IG1hdGhBYnMoZGF0YS5zZWNvbmRzKTtcbiAgICBkYXRhLm1pbnV0ZXMgICAgICAgPSBtYXRoQWJzKGRhdGEubWludXRlcyk7XG4gICAgZGF0YS5ob3VycyAgICAgICAgID0gbWF0aEFicyhkYXRhLmhvdXJzKTtcbiAgICBkYXRhLm1vbnRocyAgICAgICAgPSBtYXRoQWJzKGRhdGEubW9udGhzKTtcbiAgICBkYXRhLnllYXJzICAgICAgICAgPSBtYXRoQWJzKGRhdGEueWVhcnMpO1xuXG4gICAgcmV0dXJuIHRoaXM7XG59XG5cbmZ1bmN0aW9uIGFkZFN1YnRyYWN0JDEgKGR1cmF0aW9uLCBpbnB1dCwgdmFsdWUsIGRpcmVjdGlvbikge1xuICAgIHZhciBvdGhlciA9IGNyZWF0ZUR1cmF0aW9uKGlucHV0LCB2YWx1ZSk7XG5cbiAgICBkdXJhdGlvbi5fbWlsbGlzZWNvbmRzICs9IGRpcmVjdGlvbiAqIG90aGVyLl9taWxsaXNlY29uZHM7XG4gICAgZHVyYXRpb24uX2RheXMgICAgICAgICArPSBkaXJlY3Rpb24gKiBvdGhlci5fZGF5cztcbiAgICBkdXJhdGlvbi5fbW9udGhzICAgICAgICs9IGRpcmVjdGlvbiAqIG90aGVyLl9tb250aHM7XG5cbiAgICByZXR1cm4gZHVyYXRpb24uX2J1YmJsZSgpO1xufVxuXG4vLyBzdXBwb3J0cyBvbmx5IDIuMC1zdHlsZSBhZGQoMSwgJ3MnKSBvciBhZGQoZHVyYXRpb24pXG5mdW5jdGlvbiBhZGQkMSAoaW5wdXQsIHZhbHVlKSB7XG4gICAgcmV0dXJuIGFkZFN1YnRyYWN0JDEodGhpcywgaW5wdXQsIHZhbHVlLCAxKTtcbn1cblxuLy8gc3VwcG9ydHMgb25seSAyLjAtc3R5bGUgc3VidHJhY3QoMSwgJ3MnKSBvciBzdWJ0cmFjdChkdXJhdGlvbilcbmZ1bmN0aW9uIHN1YnRyYWN0JDEgKGlucHV0LCB2YWx1ZSkge1xuICAgIHJldHVybiBhZGRTdWJ0cmFjdCQxKHRoaXMsIGlucHV0LCB2YWx1ZSwgLTEpO1xufVxuXG5mdW5jdGlvbiBhYnNDZWlsIChudW1iZXIpIHtcbiAgICBpZiAobnVtYmVyIDwgMCkge1xuICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihudW1iZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBNYXRoLmNlaWwobnVtYmVyKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGJ1YmJsZSAoKSB7XG4gICAgdmFyIG1pbGxpc2Vjb25kcyA9IHRoaXMuX21pbGxpc2Vjb25kcztcbiAgICB2YXIgZGF5cyAgICAgICAgID0gdGhpcy5fZGF5cztcbiAgICB2YXIgbW9udGhzICAgICAgID0gdGhpcy5fbW9udGhzO1xuICAgIHZhciBkYXRhICAgICAgICAgPSB0aGlzLl9kYXRhO1xuICAgIHZhciBzZWNvbmRzLCBtaW51dGVzLCBob3VycywgeWVhcnMsIG1vbnRoc0Zyb21EYXlzO1xuXG4gICAgLy8gaWYgd2UgaGF2ZSBhIG1peCBvZiBwb3NpdGl2ZSBhbmQgbmVnYXRpdmUgdmFsdWVzLCBidWJibGUgZG93biBmaXJzdFxuICAgIC8vIGNoZWNrOiBodHRwczovL2dpdGh1Yi5jb20vbW9tZW50L21vbWVudC9pc3N1ZXMvMjE2NlxuICAgIGlmICghKChtaWxsaXNlY29uZHMgPj0gMCAmJiBkYXlzID49IDAgJiYgbW9udGhzID49IDApIHx8XG4gICAgICAgICAgICAobWlsbGlzZWNvbmRzIDw9IDAgJiYgZGF5cyA8PSAwICYmIG1vbnRocyA8PSAwKSkpIHtcbiAgICAgICAgbWlsbGlzZWNvbmRzICs9IGFic0NlaWwobW9udGhzVG9EYXlzKG1vbnRocykgKyBkYXlzKSAqIDg2NGU1O1xuICAgICAgICBkYXlzID0gMDtcbiAgICAgICAgbW9udGhzID0gMDtcbiAgICB9XG5cbiAgICAvLyBUaGUgZm9sbG93aW5nIGNvZGUgYnViYmxlcyB1cCB2YWx1ZXMsIHNlZSB0aGUgdGVzdHMgZm9yXG4gICAgLy8gZXhhbXBsZXMgb2Ygd2hhdCB0aGF0IG1lYW5zLlxuICAgIGRhdGEubWlsbGlzZWNvbmRzID0gbWlsbGlzZWNvbmRzICUgMTAwMDtcblxuICAgIHNlY29uZHMgICAgICAgICAgID0gYWJzRmxvb3IobWlsbGlzZWNvbmRzIC8gMTAwMCk7XG4gICAgZGF0YS5zZWNvbmRzICAgICAgPSBzZWNvbmRzICUgNjA7XG5cbiAgICBtaW51dGVzICAgICAgICAgICA9IGFic0Zsb29yKHNlY29uZHMgLyA2MCk7XG4gICAgZGF0YS5taW51dGVzICAgICAgPSBtaW51dGVzICUgNjA7XG5cbiAgICBob3VycyAgICAgICAgICAgICA9IGFic0Zsb29yKG1pbnV0ZXMgLyA2MCk7XG4gICAgZGF0YS5ob3VycyAgICAgICAgPSBob3VycyAlIDI0O1xuXG4gICAgZGF5cyArPSBhYnNGbG9vcihob3VycyAvIDI0KTtcblxuICAgIC8vIGNvbnZlcnQgZGF5cyB0byBtb250aHNcbiAgICBtb250aHNGcm9tRGF5cyA9IGFic0Zsb29yKGRheXNUb01vbnRocyhkYXlzKSk7XG4gICAgbW9udGhzICs9IG1vbnRoc0Zyb21EYXlzO1xuICAgIGRheXMgLT0gYWJzQ2VpbChtb250aHNUb0RheXMobW9udGhzRnJvbURheXMpKTtcblxuICAgIC8vIDEyIG1vbnRocyAtPiAxIHllYXJcbiAgICB5ZWFycyA9IGFic0Zsb29yKG1vbnRocyAvIDEyKTtcbiAgICBtb250aHMgJT0gMTI7XG5cbiAgICBkYXRhLmRheXMgICA9IGRheXM7XG4gICAgZGF0YS5tb250aHMgPSBtb250aHM7XG4gICAgZGF0YS55ZWFycyAgPSB5ZWFycztcblxuICAgIHJldHVybiB0aGlzO1xufVxuXG5mdW5jdGlvbiBkYXlzVG9Nb250aHMgKGRheXMpIHtcbiAgICAvLyA0MDAgeWVhcnMgaGF2ZSAxNDYwOTcgZGF5cyAodGFraW5nIGludG8gYWNjb3VudCBsZWFwIHllYXIgcnVsZXMpXG4gICAgLy8gNDAwIHllYXJzIGhhdmUgMTIgbW9udGhzID09PSA0ODAwXG4gICAgcmV0dXJuIGRheXMgKiA0ODAwIC8gMTQ2MDk3O1xufVxuXG5mdW5jdGlvbiBtb250aHNUb0RheXMgKG1vbnRocykge1xuICAgIC8vIHRoZSByZXZlcnNlIG9mIGRheXNUb01vbnRoc1xuICAgIHJldHVybiBtb250aHMgKiAxNDYwOTcgLyA0ODAwO1xufVxuXG5mdW5jdGlvbiBhcyAodW5pdHMpIHtcbiAgICB2YXIgZGF5cztcbiAgICB2YXIgbW9udGhzO1xuICAgIHZhciBtaWxsaXNlY29uZHMgPSB0aGlzLl9taWxsaXNlY29uZHM7XG5cbiAgICB1bml0cyA9IG5vcm1hbGl6ZVVuaXRzKHVuaXRzKTtcblxuICAgIGlmICh1bml0cyA9PT0gJ21vbnRoJyB8fCB1bml0cyA9PT0gJ3llYXInKSB7XG4gICAgICAgIGRheXMgICA9IHRoaXMuX2RheXMgICArIG1pbGxpc2Vjb25kcyAvIDg2NGU1O1xuICAgICAgICBtb250aHMgPSB0aGlzLl9tb250aHMgKyBkYXlzVG9Nb250aHMoZGF5cyk7XG4gICAgICAgIHJldHVybiB1bml0cyA9PT0gJ21vbnRoJyA/IG1vbnRocyA6IG1vbnRocyAvIDEyO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGhhbmRsZSBtaWxsaXNlY29uZHMgc2VwYXJhdGVseSBiZWNhdXNlIG9mIGZsb2F0aW5nIHBvaW50IG1hdGggZXJyb3JzIChpc3N1ZSAjMTg2NylcbiAgICAgICAgZGF5cyA9IHRoaXMuX2RheXMgKyBNYXRoLnJvdW5kKG1vbnRoc1RvRGF5cyh0aGlzLl9tb250aHMpKTtcbiAgICAgICAgc3dpdGNoICh1bml0cykge1xuICAgICAgICAgICAgY2FzZSAnd2VlaycgICA6IHJldHVybiBkYXlzIC8gNyAgICAgKyBtaWxsaXNlY29uZHMgLyA2MDQ4ZTU7XG4gICAgICAgICAgICBjYXNlICdkYXknICAgIDogcmV0dXJuIGRheXMgICAgICAgICArIG1pbGxpc2Vjb25kcyAvIDg2NGU1O1xuICAgICAgICAgICAgY2FzZSAnaG91cicgICA6IHJldHVybiBkYXlzICogMjQgICAgKyBtaWxsaXNlY29uZHMgLyAzNmU1O1xuICAgICAgICAgICAgY2FzZSAnbWludXRlJyA6IHJldHVybiBkYXlzICogMTQ0MCAgKyBtaWxsaXNlY29uZHMgLyA2ZTQ7XG4gICAgICAgICAgICBjYXNlICdzZWNvbmQnIDogcmV0dXJuIGRheXMgKiA4NjQwMCArIG1pbGxpc2Vjb25kcyAvIDEwMDA7XG4gICAgICAgICAgICAvLyBNYXRoLmZsb29yIHByZXZlbnRzIGZsb2F0aW5nIHBvaW50IG1hdGggZXJyb3JzIGhlcmVcbiAgICAgICAgICAgIGNhc2UgJ21pbGxpc2Vjb25kJzogcmV0dXJuIE1hdGguZmxvb3IoZGF5cyAqIDg2NGU1KSArIG1pbGxpc2Vjb25kcztcbiAgICAgICAgICAgIGRlZmF1bHQ6IHRocm93IG5ldyBFcnJvcignVW5rbm93biB1bml0ICcgKyB1bml0cyk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8vIFRPRE86IFVzZSB0aGlzLmFzKCdtcycpP1xuZnVuY3Rpb24gdmFsdWVPZiQxICgpIHtcbiAgICByZXR1cm4gKFxuICAgICAgICB0aGlzLl9taWxsaXNlY29uZHMgK1xuICAgICAgICB0aGlzLl9kYXlzICogODY0ZTUgK1xuICAgICAgICAodGhpcy5fbW9udGhzICUgMTIpICogMjU5MmU2ICtcbiAgICAgICAgdG9JbnQodGhpcy5fbW9udGhzIC8gMTIpICogMzE1MzZlNlxuICAgICk7XG59XG5cbmZ1bmN0aW9uIG1ha2VBcyAoYWxpYXMpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hcyhhbGlhcyk7XG4gICAgfTtcbn1cblxudmFyIGFzTWlsbGlzZWNvbmRzID0gbWFrZUFzKCdtcycpO1xudmFyIGFzU2Vjb25kcyAgICAgID0gbWFrZUFzKCdzJyk7XG52YXIgYXNNaW51dGVzICAgICAgPSBtYWtlQXMoJ20nKTtcbnZhciBhc0hvdXJzICAgICAgICA9IG1ha2VBcygnaCcpO1xudmFyIGFzRGF5cyAgICAgICAgID0gbWFrZUFzKCdkJyk7XG52YXIgYXNXZWVrcyAgICAgICAgPSBtYWtlQXMoJ3cnKTtcbnZhciBhc01vbnRocyAgICAgICA9IG1ha2VBcygnTScpO1xudmFyIGFzWWVhcnMgICAgICAgID0gbWFrZUFzKCd5Jyk7XG5cbmZ1bmN0aW9uIGdldCQyICh1bml0cykge1xuICAgIHVuaXRzID0gbm9ybWFsaXplVW5pdHModW5pdHMpO1xuICAgIHJldHVybiB0aGlzW3VuaXRzICsgJ3MnXSgpO1xufVxuXG5mdW5jdGlvbiBtYWtlR2V0dGVyKG5hbWUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGF0YVtuYW1lXTtcbiAgICB9O1xufVxuXG52YXIgbWlsbGlzZWNvbmRzID0gbWFrZUdldHRlcignbWlsbGlzZWNvbmRzJyk7XG52YXIgc2Vjb25kcyAgICAgID0gbWFrZUdldHRlcignc2Vjb25kcycpO1xudmFyIG1pbnV0ZXMgICAgICA9IG1ha2VHZXR0ZXIoJ21pbnV0ZXMnKTtcbnZhciBob3VycyAgICAgICAgPSBtYWtlR2V0dGVyKCdob3VycycpO1xudmFyIGRheXMgICAgICAgICA9IG1ha2VHZXR0ZXIoJ2RheXMnKTtcbnZhciBtb250aHMgICAgICAgPSBtYWtlR2V0dGVyKCdtb250aHMnKTtcbnZhciB5ZWFycyAgICAgICAgPSBtYWtlR2V0dGVyKCd5ZWFycycpO1xuXG5mdW5jdGlvbiB3ZWVrcyAoKSB7XG4gICAgcmV0dXJuIGFic0Zsb29yKHRoaXMuZGF5cygpIC8gNyk7XG59XG5cbnZhciByb3VuZCA9IE1hdGgucm91bmQ7XG52YXIgdGhyZXNob2xkcyA9IHtcbiAgICBzOiA0NSwgIC8vIHNlY29uZHMgdG8gbWludXRlXG4gICAgbTogNDUsICAvLyBtaW51dGVzIHRvIGhvdXJcbiAgICBoOiAyMiwgIC8vIGhvdXJzIHRvIGRheVxuICAgIGQ6IDI2LCAgLy8gZGF5cyB0byBtb250aFxuICAgIE06IDExICAgLy8gbW9udGhzIHRvIHllYXJcbn07XG5cbi8vIGhlbHBlciBmdW5jdGlvbiBmb3IgbW9tZW50LmZuLmZyb20sIG1vbWVudC5mbi5mcm9tTm93LCBhbmQgbW9tZW50LmR1cmF0aW9uLmZuLmh1bWFuaXplXG5mdW5jdGlvbiBzdWJzdGl0dXRlVGltZUFnbyhzdHJpbmcsIG51bWJlciwgd2l0aG91dFN1ZmZpeCwgaXNGdXR1cmUsIGxvY2FsZSkge1xuICAgIHJldHVybiBsb2NhbGUucmVsYXRpdmVUaW1lKG51bWJlciB8fCAxLCAhIXdpdGhvdXRTdWZmaXgsIHN0cmluZywgaXNGdXR1cmUpO1xufVxuXG5mdW5jdGlvbiByZWxhdGl2ZVRpbWUkMSAocG9zTmVnRHVyYXRpb24sIHdpdGhvdXRTdWZmaXgsIGxvY2FsZSkge1xuICAgIHZhciBkdXJhdGlvbiA9IGNyZWF0ZUR1cmF0aW9uKHBvc05lZ0R1cmF0aW9uKS5hYnMoKTtcbiAgICB2YXIgc2Vjb25kcyAgPSByb3VuZChkdXJhdGlvbi5hcygncycpKTtcbiAgICB2YXIgbWludXRlcyAgPSByb3VuZChkdXJhdGlvbi5hcygnbScpKTtcbiAgICB2YXIgaG91cnMgICAgPSByb3VuZChkdXJhdGlvbi5hcygnaCcpKTtcbiAgICB2YXIgZGF5cyAgICAgPSByb3VuZChkdXJhdGlvbi5hcygnZCcpKTtcbiAgICB2YXIgbW9udGhzICAgPSByb3VuZChkdXJhdGlvbi5hcygnTScpKTtcbiAgICB2YXIgeWVhcnMgICAgPSByb3VuZChkdXJhdGlvbi5hcygneScpKTtcblxuICAgIHZhciBhID0gc2Vjb25kcyA8IHRocmVzaG9sZHMucyAmJiBbJ3MnLCBzZWNvbmRzXSAgfHxcbiAgICAgICAgICAgIG1pbnV0ZXMgPD0gMSAgICAgICAgICAgJiYgWydtJ10gICAgICAgICAgIHx8XG4gICAgICAgICAgICBtaW51dGVzIDwgdGhyZXNob2xkcy5tICYmIFsnbW0nLCBtaW51dGVzXSB8fFxuICAgICAgICAgICAgaG91cnMgICA8PSAxICAgICAgICAgICAmJiBbJ2gnXSAgICAgICAgICAgfHxcbiAgICAgICAgICAgIGhvdXJzICAgPCB0aHJlc2hvbGRzLmggJiYgWydoaCcsIGhvdXJzXSAgIHx8XG4gICAgICAgICAgICBkYXlzICAgIDw9IDEgICAgICAgICAgICYmIFsnZCddICAgICAgICAgICB8fFxuICAgICAgICAgICAgZGF5cyAgICA8IHRocmVzaG9sZHMuZCAmJiBbJ2RkJywgZGF5c10gICAgfHxcbiAgICAgICAgICAgIG1vbnRocyAgPD0gMSAgICAgICAgICAgJiYgWydNJ10gICAgICAgICAgIHx8XG4gICAgICAgICAgICBtb250aHMgIDwgdGhyZXNob2xkcy5NICYmIFsnTU0nLCBtb250aHNdICB8fFxuICAgICAgICAgICAgeWVhcnMgICA8PSAxICAgICAgICAgICAmJiBbJ3knXSAgICAgICAgICAgfHwgWyd5eScsIHllYXJzXTtcblxuICAgIGFbMl0gPSB3aXRob3V0U3VmZml4O1xuICAgIGFbM10gPSArcG9zTmVnRHVyYXRpb24gPiAwO1xuICAgIGFbNF0gPSBsb2NhbGU7XG4gICAgcmV0dXJuIHN1YnN0aXR1dGVUaW1lQWdvLmFwcGx5KG51bGwsIGEpO1xufVxuXG4vLyBUaGlzIGZ1bmN0aW9uIGFsbG93cyB5b3UgdG8gc2V0IHRoZSByb3VuZGluZyBmdW5jdGlvbiBmb3IgcmVsYXRpdmUgdGltZSBzdHJpbmdzXG5mdW5jdGlvbiBnZXRTZXRSZWxhdGl2ZVRpbWVSb3VuZGluZyAocm91bmRpbmdGdW5jdGlvbikge1xuICAgIGlmIChyb3VuZGluZ0Z1bmN0aW9uID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHJvdW5kO1xuICAgIH1cbiAgICBpZiAodHlwZW9mKHJvdW5kaW5nRnVuY3Rpb24pID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJvdW5kID0gcm91bmRpbmdGdW5jdGlvbjtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuLy8gVGhpcyBmdW5jdGlvbiBhbGxvd3MgeW91IHRvIHNldCBhIHRocmVzaG9sZCBmb3IgcmVsYXRpdmUgdGltZSBzdHJpbmdzXG5mdW5jdGlvbiBnZXRTZXRSZWxhdGl2ZVRpbWVUaHJlc2hvbGQgKHRocmVzaG9sZCwgbGltaXQpIHtcbiAgICBpZiAodGhyZXNob2xkc1t0aHJlc2hvbGRdID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAobGltaXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gdGhyZXNob2xkc1t0aHJlc2hvbGRdO1xuICAgIH1cbiAgICB0aHJlc2hvbGRzW3RocmVzaG9sZF0gPSBsaW1pdDtcbiAgICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gaHVtYW5pemUgKHdpdGhTdWZmaXgpIHtcbiAgICB2YXIgbG9jYWxlID0gdGhpcy5sb2NhbGVEYXRhKCk7XG4gICAgdmFyIG91dHB1dCA9IHJlbGF0aXZlVGltZSQxKHRoaXMsICF3aXRoU3VmZml4LCBsb2NhbGUpO1xuXG4gICAgaWYgKHdpdGhTdWZmaXgpIHtcbiAgICAgICAgb3V0cHV0ID0gbG9jYWxlLnBhc3RGdXR1cmUoK3RoaXMsIG91dHB1dCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGxvY2FsZS5wb3N0Zm9ybWF0KG91dHB1dCk7XG59XG5cbnZhciBhYnMkMSA9IE1hdGguYWJzO1xuXG5mdW5jdGlvbiB0b0lTT1N0cmluZyQxKCkge1xuICAgIC8vIGZvciBJU08gc3RyaW5ncyB3ZSBkbyBub3QgdXNlIHRoZSBub3JtYWwgYnViYmxpbmcgcnVsZXM6XG4gICAgLy8gICogbWlsbGlzZWNvbmRzIGJ1YmJsZSB1cCB1bnRpbCB0aGV5IGJlY29tZSBob3Vyc1xuICAgIC8vICAqIGRheXMgZG8gbm90IGJ1YmJsZSBhdCBhbGxcbiAgICAvLyAgKiBtb250aHMgYnViYmxlIHVwIHVudGlsIHRoZXkgYmVjb21lIHllYXJzXG4gICAgLy8gVGhpcyBpcyBiZWNhdXNlIHRoZXJlIGlzIG5vIGNvbnRleHQtZnJlZSBjb252ZXJzaW9uIGJldHdlZW4gaG91cnMgYW5kIGRheXNcbiAgICAvLyAodGhpbmsgb2YgY2xvY2sgY2hhbmdlcylcbiAgICAvLyBhbmQgYWxzbyBub3QgYmV0d2VlbiBkYXlzIGFuZCBtb250aHMgKDI4LTMxIGRheXMgcGVyIG1vbnRoKVxuICAgIHZhciBzZWNvbmRzID0gYWJzJDEodGhpcy5fbWlsbGlzZWNvbmRzKSAvIDEwMDA7XG4gICAgdmFyIGRheXMgICAgICAgICA9IGFicyQxKHRoaXMuX2RheXMpO1xuICAgIHZhciBtb250aHMgICAgICAgPSBhYnMkMSh0aGlzLl9tb250aHMpO1xuICAgIHZhciBtaW51dGVzLCBob3VycywgeWVhcnM7XG5cbiAgICAvLyAzNjAwIHNlY29uZHMgLT4gNjAgbWludXRlcyAtPiAxIGhvdXJcbiAgICBtaW51dGVzICAgICAgICAgICA9IGFic0Zsb29yKHNlY29uZHMgLyA2MCk7XG4gICAgaG91cnMgICAgICAgICAgICAgPSBhYnNGbG9vcihtaW51dGVzIC8gNjApO1xuICAgIHNlY29uZHMgJT0gNjA7XG4gICAgbWludXRlcyAlPSA2MDtcblxuICAgIC8vIDEyIG1vbnRocyAtPiAxIHllYXJcbiAgICB5ZWFycyAgPSBhYnNGbG9vcihtb250aHMgLyAxMik7XG4gICAgbW9udGhzICU9IDEyO1xuXG5cbiAgICAvLyBpbnNwaXJlZCBieSBodHRwczovL2dpdGh1Yi5jb20vZG9yZGlsbGUvbW9tZW50LWlzb2R1cmF0aW9uL2Jsb2IvbWFzdGVyL21vbWVudC5pc29kdXJhdGlvbi5qc1xuICAgIHZhciBZID0geWVhcnM7XG4gICAgdmFyIE0gPSBtb250aHM7XG4gICAgdmFyIEQgPSBkYXlzO1xuICAgIHZhciBoID0gaG91cnM7XG4gICAgdmFyIG0gPSBtaW51dGVzO1xuICAgIHZhciBzID0gc2Vjb25kcztcbiAgICB2YXIgdG90YWwgPSB0aGlzLmFzU2Vjb25kcygpO1xuXG4gICAgaWYgKCF0b3RhbCkge1xuICAgICAgICAvLyB0aGlzIGlzIHRoZSBzYW1lIGFzIEMjJ3MgKE5vZGEpIGFuZCBweXRob24gKGlzb2RhdGUpLi4uXG4gICAgICAgIC8vIGJ1dCBub3Qgb3RoZXIgSlMgKGdvb2cuZGF0ZSlcbiAgICAgICAgcmV0dXJuICdQMEQnO1xuICAgIH1cblxuICAgIHJldHVybiAodG90YWwgPCAwID8gJy0nIDogJycpICtcbiAgICAgICAgJ1AnICtcbiAgICAgICAgKFkgPyBZICsgJ1knIDogJycpICtcbiAgICAgICAgKE0gPyBNICsgJ00nIDogJycpICtcbiAgICAgICAgKEQgPyBEICsgJ0QnIDogJycpICtcbiAgICAgICAgKChoIHx8IG0gfHwgcykgPyAnVCcgOiAnJykgK1xuICAgICAgICAoaCA/IGggKyAnSCcgOiAnJykgK1xuICAgICAgICAobSA/IG0gKyAnTScgOiAnJykgK1xuICAgICAgICAocyA/IHMgKyAnUycgOiAnJyk7XG59XG5cbnZhciBwcm90byQyID0gRHVyYXRpb24ucHJvdG90eXBlO1xuXG5wcm90byQyLmFicyAgICAgICAgICAgID0gYWJzO1xucHJvdG8kMi5hZGQgICAgICAgICAgICA9IGFkZCQxO1xucHJvdG8kMi5zdWJ0cmFjdCAgICAgICA9IHN1YnRyYWN0JDE7XG5wcm90byQyLmFzICAgICAgICAgICAgID0gYXM7XG5wcm90byQyLmFzTWlsbGlzZWNvbmRzID0gYXNNaWxsaXNlY29uZHM7XG5wcm90byQyLmFzU2Vjb25kcyAgICAgID0gYXNTZWNvbmRzO1xucHJvdG8kMi5hc01pbnV0ZXMgICAgICA9IGFzTWludXRlcztcbnByb3RvJDIuYXNIb3VycyAgICAgICAgPSBhc0hvdXJzO1xucHJvdG8kMi5hc0RheXMgICAgICAgICA9IGFzRGF5cztcbnByb3RvJDIuYXNXZWVrcyAgICAgICAgPSBhc1dlZWtzO1xucHJvdG8kMi5hc01vbnRocyAgICAgICA9IGFzTW9udGhzO1xucHJvdG8kMi5hc1llYXJzICAgICAgICA9IGFzWWVhcnM7XG5wcm90byQyLnZhbHVlT2YgICAgICAgID0gdmFsdWVPZiQxO1xucHJvdG8kMi5fYnViYmxlICAgICAgICA9IGJ1YmJsZTtcbnByb3RvJDIuZ2V0ICAgICAgICAgICAgPSBnZXQkMjtcbnByb3RvJDIubWlsbGlzZWNvbmRzICAgPSBtaWxsaXNlY29uZHM7XG5wcm90byQyLnNlY29uZHMgICAgICAgID0gc2Vjb25kcztcbnByb3RvJDIubWludXRlcyAgICAgICAgPSBtaW51dGVzO1xucHJvdG8kMi5ob3VycyAgICAgICAgICA9IGhvdXJzO1xucHJvdG8kMi5kYXlzICAgICAgICAgICA9IGRheXM7XG5wcm90byQyLndlZWtzICAgICAgICAgID0gd2Vla3M7XG5wcm90byQyLm1vbnRocyAgICAgICAgID0gbW9udGhzO1xucHJvdG8kMi55ZWFycyAgICAgICAgICA9IHllYXJzO1xucHJvdG8kMi5odW1hbml6ZSAgICAgICA9IGh1bWFuaXplO1xucHJvdG8kMi50b0lTT1N0cmluZyAgICA9IHRvSVNPU3RyaW5nJDE7XG5wcm90byQyLnRvU3RyaW5nICAgICAgID0gdG9JU09TdHJpbmckMTtcbnByb3RvJDIudG9KU09OICAgICAgICAgPSB0b0lTT1N0cmluZyQxO1xucHJvdG8kMi5sb2NhbGUgICAgICAgICA9IGxvY2FsZTtcbnByb3RvJDIubG9jYWxlRGF0YSAgICAgPSBsb2NhbGVEYXRhO1xuXG4vLyBEZXByZWNhdGlvbnNcbnByb3RvJDIudG9Jc29TdHJpbmcgPSBkZXByZWNhdGUoJ3RvSXNvU3RyaW5nKCkgaXMgZGVwcmVjYXRlZC4gUGxlYXNlIHVzZSB0b0lTT1N0cmluZygpIGluc3RlYWQgKG5vdGljZSB0aGUgY2FwaXRhbHMpJywgdG9JU09TdHJpbmckMSk7XG5wcm90byQyLmxhbmcgPSBsYW5nO1xuXG4vLyBTaWRlIGVmZmVjdCBpbXBvcnRzXG5cbi8vIEZPUk1BVFRJTkdcblxuYWRkRm9ybWF0VG9rZW4oJ1gnLCAwLCAwLCAndW5peCcpO1xuYWRkRm9ybWF0VG9rZW4oJ3gnLCAwLCAwLCAndmFsdWVPZicpO1xuXG4vLyBQQVJTSU5HXG5cbmFkZFJlZ2V4VG9rZW4oJ3gnLCBtYXRjaFNpZ25lZCk7XG5hZGRSZWdleFRva2VuKCdYJywgbWF0Y2hUaW1lc3RhbXApO1xuYWRkUGFyc2VUb2tlbignWCcsIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXksIGNvbmZpZykge1xuICAgIGNvbmZpZy5fZCA9IG5ldyBEYXRlKHBhcnNlRmxvYXQoaW5wdXQsIDEwKSAqIDEwMDApO1xufSk7XG5hZGRQYXJzZVRva2VuKCd4JywgZnVuY3Rpb24gKGlucHV0LCBhcnJheSwgY29uZmlnKSB7XG4gICAgY29uZmlnLl9kID0gbmV3IERhdGUodG9JbnQoaW5wdXQpKTtcbn0pO1xuXG4vLyBTaWRlIGVmZmVjdCBpbXBvcnRzXG5cblxuaG9va3MudmVyc2lvbiA9ICcyLjE3LjAnO1xuXG5zZXRIb29rQ2FsbGJhY2soY3JlYXRlTG9jYWwpO1xuXG5ob29rcy5mbiAgICAgICAgICAgICAgICAgICAgPSBwcm90bztcbmhvb2tzLm1pbiAgICAgICAgICAgICAgICAgICA9IG1pbjtcbmhvb2tzLm1heCAgICAgICAgICAgICAgICAgICA9IG1heDtcbmhvb2tzLm5vdyAgICAgICAgICAgICAgICAgICA9IG5vdztcbmhvb2tzLnV0YyAgICAgICAgICAgICAgICAgICA9IGNyZWF0ZVVUQztcbmhvb2tzLnVuaXggICAgICAgICAgICAgICAgICA9IGNyZWF0ZVVuaXg7XG5ob29rcy5tb250aHMgICAgICAgICAgICAgICAgPSBsaXN0TW9udGhzO1xuaG9va3MuaXNEYXRlICAgICAgICAgICAgICAgID0gaXNEYXRlO1xuaG9va3MubG9jYWxlICAgICAgICAgICAgICAgID0gZ2V0U2V0R2xvYmFsTG9jYWxlO1xuaG9va3MuaW52YWxpZCAgICAgICAgICAgICAgID0gY3JlYXRlSW52YWxpZDtcbmhvb2tzLmR1cmF0aW9uICAgICAgICAgICAgICA9IGNyZWF0ZUR1cmF0aW9uO1xuaG9va3MuaXNNb21lbnQgICAgICAgICAgICAgID0gaXNNb21lbnQ7XG5ob29rcy53ZWVrZGF5cyAgICAgICAgICAgICAgPSBsaXN0V2Vla2RheXM7XG5ob29rcy5wYXJzZVpvbmUgICAgICAgICAgICAgPSBjcmVhdGVJblpvbmU7XG5ob29rcy5sb2NhbGVEYXRhICAgICAgICAgICAgPSBnZXRMb2NhbGU7XG5ob29rcy5pc0R1cmF0aW9uICAgICAgICAgICAgPSBpc0R1cmF0aW9uO1xuaG9va3MubW9udGhzU2hvcnQgICAgICAgICAgID0gbGlzdE1vbnRoc1Nob3J0O1xuaG9va3Mud2Vla2RheXNNaW4gICAgICAgICAgID0gbGlzdFdlZWtkYXlzTWluO1xuaG9va3MuZGVmaW5lTG9jYWxlICAgICAgICAgID0gZGVmaW5lTG9jYWxlO1xuaG9va3MudXBkYXRlTG9jYWxlICAgICAgICAgID0gdXBkYXRlTG9jYWxlO1xuaG9va3MubG9jYWxlcyAgICAgICAgICAgICAgID0gbGlzdExvY2FsZXM7XG5ob29rcy53ZWVrZGF5c1Nob3J0ICAgICAgICAgPSBsaXN0V2Vla2RheXNTaG9ydDtcbmhvb2tzLm5vcm1hbGl6ZVVuaXRzICAgICAgICA9IG5vcm1hbGl6ZVVuaXRzO1xuaG9va3MucmVsYXRpdmVUaW1lUm91bmRpbmcgPSBnZXRTZXRSZWxhdGl2ZVRpbWVSb3VuZGluZztcbmhvb2tzLnJlbGF0aXZlVGltZVRocmVzaG9sZCA9IGdldFNldFJlbGF0aXZlVGltZVRocmVzaG9sZDtcbmhvb2tzLmNhbGVuZGFyRm9ybWF0ICAgICAgICA9IGdldENhbGVuZGFyRm9ybWF0O1xuaG9va3MucHJvdG90eXBlICAgICAgICAgICAgID0gcHJvdG87XG5cbnJldHVybiBob29rcztcblxufSkpKTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9tb21lbnQvbW9tZW50LmpzXG4vLyBtb2R1bGUgaWQgPSAzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=