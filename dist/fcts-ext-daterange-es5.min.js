!function(t){function e(r){if(n[r])return n[r].exports;var a=n[r]={exports:{},id:r,loaded:!1};return t[r].call(a.exports,a,a.exports,e),a.loaded=!0,a.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";var r=n(1);FusionCharts.register("extension",["date-range-chooser",function(t){var e=this,n=e.extAPI;n({init:function(t){t("X-Axis","Y-Axis","graphics",function(t,n,r){e.x=t,e.y=n,e.paper=r}),window.dateRange=new r,window.paper=e.paper},placeInCanvas:function(){window.dateRange.range={startDate:12,endDate:23}},draw:function(){var t=e.paper.text(20,22,"From: ");t.attr("font-family","sans-serif"),t.attr("fill","#000");var n=e.paper.rect(50,10,60,25);n.attr("stroke","#000");var r=e.paper.text(63,22,window.dateRange.range.startDate);r.attr("font-family","sans-serif"),r.attr("fill","#000");var a=e.paper.text(170,22,"To: ");a.attr("font-family","sans-serif"),a.attr("fill","#000");var o=e.paper.rect(190,10,60,25);o.attr("stroke","#000");var i=e.paper.text(203,22,window.dateRange.range.endDate);i.attr("font-family","sans-serif"),i.attr("fill","#000")},dispose:function(){}})}])},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(2),i=n(4),s=function(){function t(){r(this,t),this.dateRange={startDate:0,endDate:0}}return a(t,[{key:"swapDates",value:function(){var t=this.dateRange.startDate;this.dateRange.startDate=this.dateRange.endDate,this.dateRange.endDate=t}},{key:"range",get:function(){return this.dateRange},set:function(t){if(t.startDate<=t.endDate){this.dateRange.startDate=t.startDate,this.dateRange.endDate=t.endDate;var e=new o;e.timestamp=this.dateRange.startDate,console.log(e.timestamp);var n=new i;n.timestamp=this.dateRange.endDate,console.log(n.timestamp)}}}]),t}();t.exports=s},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var i=n(3),s=function(t){function e(){return r(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),e}(i);t.exports=s},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function(){function t(){n(this,t),this.time=0}return r(t,[{key:"displayDate",value:function(){}},{key:"timestamp",get:function(){return this.time},set:function(t){this.time=t}}]),t}();t.exports=a},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var i=n(3),s=function(t){function e(){return r(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),e}(i);t.exports=s}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZmN0cy1leHQtZGF0ZXJhbmdlLWVzNS5taW4uanMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svYm9vdHN0cmFwIDc1OGU3MDJiNGIyZGJiMTkzZWE5Iiwid2VicGFjazovLy8uL3NyYy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZmN0cy1leHQtZGF0ZXJhbmdlLmpzIiwid2VicGFjazovLy8uL3NyYy9mY3RzLWV4dC1zdGFydGRhdGVpbnB1dC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZmN0cy1leHQtZGF0ZWlucHV0LmpzIiwid2VicGFjazovLy8uL3NyYy9mY3RzLWV4dC1lbmRkYXRlaW5wdXQuanMiXSwibmFtZXMiOlsibW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImluc3RhbGxlZE1vZHVsZXMiLCJleHBvcnRzIiwibW9kdWxlIiwiaWQiLCJsb2FkZWQiLCJjYWxsIiwibSIsImMiLCJwIiwiRGF0ZVJhbmdlIiwiRnVzaW9uQ2hhcnRzIiwicmVnaXN0ZXIiLCJnbG9iYWwiLCJ0aGlzIiwiZXh0QVBJIiwiaW5pdCIsInJlcXVpcmUiLCJ4IiwieSIsImdyYXBoaWNzIiwicGFwZXIiLCJ3aW5kb3ciLCJkYXRlUmFuZ2UiLCJwbGFjZUluQ2FudmFzIiwicmFuZ2UiLCJzdGFydERhdGUiLCJlbmREYXRlIiwiZHJhdyIsInN0YXJ0TGFiZWwiLCJ0ZXh0IiwiYXR0ciIsInN0YXJ0UmVjdCIsInJlY3QiLCJzdGFydFRleHQiLCJlbmRMYWJlbCIsImVuZFJlY3QiLCJlbmRUZXh0IiwiZGlzcG9zZSIsIl9jbGFzc0NhbGxDaGVjayIsImluc3RhbmNlIiwiQ29uc3RydWN0b3IiLCJUeXBlRXJyb3IiLCJfY3JlYXRlQ2xhc3MiLCJkZWZpbmVQcm9wZXJ0aWVzIiwidGFyZ2V0IiwicHJvcHMiLCJpIiwibGVuZ3RoIiwiZGVzY3JpcHRvciIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5Iiwia2V5IiwicHJvdG9Qcm9wcyIsInN0YXRpY1Byb3BzIiwicHJvdG90eXBlIiwiU3RhcnREYXRlSW5wdXQiLCJFbmREYXRlSW5wdXQiLCJ2YWx1ZSIsInRlbXAiLCJnZXQiLCJzZXQiLCJzZGkiLCJ0aW1lc3RhbXAiLCJjb25zb2xlIiwibG9nIiwiZWRpIiwiX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iLCJzZWxmIiwiUmVmZXJlbmNlRXJyb3IiLCJfaW5oZXJpdHMiLCJzdWJDbGFzcyIsInN1cGVyQ2xhc3MiLCJjcmVhdGUiLCJjb25zdHJ1Y3RvciIsInNldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwiRGF0ZUlucHV0IiwiX0RhdGVJbnB1dCIsImdldFByb3RvdHlwZU9mIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJ0aW1lIiwibXMiXSwibWFwcGluZ3MiOiJDQUFTLFNBQVVBLEdDSW5CLFFBQUFDLEdBQUFDLEdBR0EsR0FBQUMsRUFBQUQsR0FDQSxNQUFBQyxHQUFBRCxHQUFBRSxPQUdBLElBQUFDLEdBQUFGLEVBQUFELElBQ0FFLFdBQ0FFLEdBQUFKLEVBQ0FLLFFBQUEsRUFVQSxPQU5BUCxHQUFBRSxHQUFBTSxLQUFBSCxFQUFBRCxRQUFBQyxJQUFBRCxRQUFBSCxHQUdBSSxFQUFBRSxRQUFBLEVBR0FGLEVBQUFELFFBdkJBLEdBQUFELEtBcUNBLE9BVEFGLEdBQUFRLEVBQUFULEVBR0FDLEVBQUFTLEVBQUFQLEVBR0FGLEVBQUFVLEVBQUEsR0FHQVYsRUFBQSxLRE1NLFNBQVNJLEVBQVFELEVBQVNILEdFNUNoQyxZQUNBLElBQU1XLEdBQVlYLEVBQVEsRUFJMUJZLGNBQWFDLFNBQVMsYUFBYyxxQkFBc0IsU0FBVVIsR0FDbEUsR0FBSVMsR0FBU0MsS0FDVEMsRUFBU0YsRUFBT0UsTUFLcEJBLElBQ0VDLEtBQU0sU0FBVUMsR0FDZEEsRUFBUSxTQUFVLFNBQVUsV0FBWSxTQUFVQyxFQUFHQyxFQUFHQyxHQUN0RFAsRUFBT0ssRUFBSUEsRUFDWEwsRUFBT00s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RkFyQixHQUFnQnpCLEtBQU04QyxHQUVmVSxFQUEyQnhELE1BQU84QyxFQUFhbUIsV0FBYTFCLE9BQU82QixlQUFldEIsSUFBZXVCLE1BQU1yRSxLQUFNc0UsWUFHdEgsTUFSQVgsR0FBVWIsRUFBY3FCLEdBUWpCckIsR01sU2lCb0IsRUFHM0I3RSxHQUFPRCxRQUFVMEQiLCJmaWxlIjoiZmN0cy1leHQtZGF0ZXJhbmdlLWVzNS5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKioqKioqLyAoZnVuY3Rpb24obW9kdWxlcykgeyAvLyB3ZWJwYWNrQm9vdHN0cmFwXG4vKioqKioqLyBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4vKioqKioqLyBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4vKioqKioqLyBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pXG4vKioqKioqLyBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbi8qKioqKiovIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4vKioqKioqLyBcdFx0XHRleHBvcnRzOiB7fSxcbi8qKioqKiovIFx0XHRcdGlkOiBtb2R1bGVJZCxcbi8qKioqKiovIFx0XHRcdGxvYWRlZDogZmFsc2Vcbi8qKioqKiovIFx0XHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbi8qKioqKiovIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuLyoqKioqKi8gXHRcdG1vZHVsZS5sb2FkZWQgPSB0cnVlO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuLyoqKioqKi8gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbi8qKioqKiovIFx0fVxuLyoqKioqKi9cbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuLyoqKioqKi8gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcbi8qKioqKiovIH0pXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKioqKi8gKFtcbi8qIDAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdHZhciBEYXRlUmFuZ2UgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0Ly8gdmFyIGZjID0gbmV3IEZ1c2lvbkNoYXJ0cygpO1xuXHRcblx0RnVzaW9uQ2hhcnRzLnJlZ2lzdGVyKCdleHRlbnNpb24nLCBbJ2RhdGUtcmFuZ2UtY2hvb3NlcicsIGZ1bmN0aW9uIChpZCkge1xuXHQgIHZhciBnbG9iYWwgPSB0aGlzO1xuXHQgIHZhciBleHRBUEkgPSBnbG9iYWwuZXh0QVBJO1xuXHRcblx0ICAvLyB2YXIgb3RoZXJBUEkgPSBGdXNpb25DaGFydHMuZ2V0RXh0Q29tcG9uZW50KGlkLCAnYXBpJywgJ2xlZ2FjeWV4dGFwaScpO1xuXHQgIC8vIHZhciB0b29sQm94QXBpID0gRnVzaW9uQ2hhcnRzLmdldENvbXBvbmVudCgnYXBpJywgJ3Rvb2xib3gnKTtcblx0XG5cdCAgZXh0QVBJKHtcblx0ICAgIGluaXQ6IGZ1bmN0aW9uIGluaXQocmVxdWlyZSkge1xuXHQgICAgICByZXF1aXJlKCdYLUF4aXMnLCAnWS1BeGlzJywgJ2dyYXBoaWNzJywgZnVuY3Rpb24gKHgsIHksIGdyYXBoaWNzKSB7XG5cdCAgICAgICAgZ2xvYmFsLnggPSB4O1xuXHQgICAgICAgIGdsb2JhbC55ID0geTtcblx0ICAgICAgICBnbG9iYWwucGFwZXIgPSBncmFwaGljcztcblx0ICAgICAgfSk7XG5cdCAgICAgIHdpbmRvdy5kYXRlUmFuZ2UgPSBuZXcgRGF0ZVJhbmdlKCk7XG5cdCAgICAgIHdpbmRvdy5wYXBlciA9IGdsb2JhbC5wYXBlcjtcblx0ICAgIH0sXG5cdCAgICBwbGFjZUluQ2FudmFzOiBmdW5jdGlvbiBwbGFjZUluQ2FudmFzKCkge1xuXHQgICAgICAvLyBzcGFjZSBtYW5hZ2VtZW50XG5cdCAgICAgIHdpbmRvdy5kYXRlUmFuZ2UucmFuZ2UgPSB7XG5cdCAgICAgICAgc3RhcnREYXRlOiAxMixcblx0ICAgICAgICBlbmREYXRlOiAyM1xuXHQgICAgICB9O1xuXHQgICAgfSxcblx0ICAgIGRyYXc6IGZ1bmN0aW9uIGRyYXcoKSB7XG5cdCAgICAgIHZhciBzdGFydExhYmVsID0gZ2xvYmFsLnBhcGVyLnRleHQoMjAsIDIyLCAnRnJvbTogJyk7XG5cdCAgICAgIHN0YXJ0TGFiZWwuYXR0cignZm9udC1mYW1pbHknLCAnc2Fucy1zZXJpZicpO1xuXHQgICAgICBzdGFydExhYmVsLmF0dHIoJ2ZpbGwnLCAnIzAwMCcpO1xuXHQgICAgICB2YXIgc3RhcnRSZWN0ID0gZ2xvYmFsLnBhcGVyLnJlY3QoNTAsIDEwLCA2MCwgMjUpO1xuXHQgICAgICBzdGFydFJlY3QuYXR0cignc3Ryb2tlJywgJyMwMDAnKTtcblx0ICAgICAgdmFyIHN0YXJ0VGV4dCA9IGdsb2JhbC5wYXBlci50ZXh0KDYzLCAyMiwgd2luZG93LmRhdGVSYW5nZS5yYW5nZS5zdGFydERhdGUpO1xuXHQgICAgICBzdGFydFRleHQuYXR0cignZm9udC1mYW1pbHknLCAnc2Fucy1zZXJpZicpO1xuXHQgICAgICBzdGFydFRleHQuYXR0cignZmlsbCcsICcjMDAwJyk7XG5cdFxuXHQgICAgICB2YXIgZW5kTGFiZWwgPSBnbG9iYWwucGFwZXIudGV4dCgxNzAsIDIyLCAnVG86ICcpO1xuXHQgICAgICBlbmRMYWJlbC5hdHRyKCdmb250LWZhbWlseScsICdzYW5zLXNlcmlmJyk7XG5cdCAgICAgIGVuZExhYmVsLmF0dHIoJ2ZpbGwnLCAnIzAwMCcpO1xuXHQgICAgICB2YXIgZW5kUmVjdCA9IGdsb2JhbC5wYXBlci5yZWN0KDE5MCwgMTAsIDYwLCAyNSk7XG5cdCAgICAgIGVuZFJlY3QuYXR0cignc3Ryb2tlJywgJyMwMDAnKTtcblx0ICAgICAgdmFyIGVuZFRleHQgPSBnbG9iYWwucGFwZXIudGV4dCgyMDMsIDIyLCB3aW5kb3cuZGF0ZVJhbmdlLnJhbmdlLmVuZERhdGUpO1xuXHQgICAgICBlbmRUZXh0LmF0dHIoJ2ZvbnQtZmFtaWx5JywgJ3NhbnMtc2VyaWYnKTtcblx0ICAgICAgZW5kVGV4dC5hdHRyKCdmaWxsJywgJyMwMDAnKTtcblx0ICAgIH0sXG5cdCAgICBkaXNwb3NlOiBmdW5jdGlvbiBkaXNwb3NlKCkge1xuXHQgICAgICAvLyBkaXNwb3NlIGV4dGVuc2lvblxuXHQgICAgfVxuXHQgIH0pO1xuXHR9XSk7XG5cbi8qKiovIH0sXG4vKiAxICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXHRcblx0ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblx0XG5cdHZhciBTdGFydERhdGVJbnB1dCA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cdHZhciBFbmREYXRlSW5wdXQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXHQvKipcblx0ICogQ2xhc3MgcmVwcmVzZW50aW5nIHRoZSBEYXRlUmFuZ2UuXG5cdCAqL1xuXHRcblx0dmFyIERhdGVSYW5nZSA9IGZ1bmN0aW9uICgpIHtcblx0ICAvKipcblx0ICAgKiBDcmVhdGUgYSBEYXRlUmFuZ2UuXG5cdCAgICogQHR5cGVkZWYge29iamVjdH0gRGF0ZVJhbmdlLnJhbmdlXG5cdCAgICogQHByb3BlcnR5IHtudW1iZXJ9IHN0YXJ0RGF0ZSAtIFRoZSBzdGFydCBkYXRlIG9mIHRoZSBkYXRlIHJhbmdlLlxuXHQgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBlbmREYXRlIC0gVGhlIGVuZCBkYXRlIG9mIHRoZSBkYXRlIHJhbmdlLlxuXHQgICAqL1xuXHQgIGZ1bmN0aW9uIERhdGVSYW5nZSgpIHtcblx0ICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBEYXRlUmFuZ2UpO1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogQHByaXZhdGVcblx0ICAgICAqL1xuXHQgICAgdGhpcy5kYXRlUmFuZ2UgPSB7XG5cdCAgICAgIHN0YXJ0RGF0ZTogMCxcblx0ICAgICAgZW5kRGF0ZTogMFxuXHQgICAgfTtcblx0ICB9XG5cdFxuXHQgIC8qKlxuXHQgICAqIEFuIG9iamVjdCByZXByZXNlbnRpbmcgdGhlIHN0YXJ0IGFuZCBlbmQgZGF0ZXMuXG5cdCAgICogQHR5cGUge0RhdGVSYW5nZS5yYW5nZX1cblx0ICAgKi9cblx0XG5cdFxuXHQgIF9jcmVhdGVDbGFzcyhEYXRlUmFuZ2UsIFt7XG5cdCAgICBrZXk6ICdzd2FwRGF0ZXMnLFxuXHRcblx0XG5cdCAgICAvKipcblx0ICAgICAqIFN3YXBzIHRoZSBzdGFydCBkYXRlIGFuZCB0aGUgZW5kIGRhdGUgb2YgdGhlIGRhdGUgcmFuZ2Vcblx0ICAgICAqL1xuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHN3YXBEYXRlcygpIHtcblx0ICAgICAgdmFyIHRlbXAgPSB0aGlzLmRhdGVSYW5nZS5zdGFydERhdGU7XG5cdCAgICAgIHRoaXMuZGF0ZVJhbmdlLnN0YXJ0RGF0ZSA9IHRoaXMuZGF0ZVJhbmdlLmVuZERhdGU7XG5cdCAgICAgIHRoaXMuZGF0ZVJhbmdlLmVuZERhdGUgPSB0ZW1wO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3JhbmdlJyxcblx0ICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuXHQgICAgICByZXR1cm4gdGhpcy5kYXRlUmFuZ2U7XG5cdCAgICB9LFxuXHQgICAgc2V0OiBmdW5jdGlvbiBzZXQocmFuZ2UpIHtcblx0ICAgICAgaWYgKHJhbmdlLnN0YXJ0RGF0ZSA8PSByYW5nZS5lbmREYXRlKSB7XG5cdCAgICAgICAgdGhpcy5kYXRlUmFuZ2Uuc3RhcnREYXRlID0gcmFuZ2Uuc3RhcnREYXRlO1xuXHQgICAgICAgIHRoaXMuZGF0ZVJhbmdlLmVuZERhdGUgPSByYW5nZS5lbmREYXRlO1xuXHRcblx0ICAgICAgICB2YXIgc2RpID0gbmV3IFN0YXJ0RGF0ZUlucHV0KCk7XG5cdCAgICAgICAgc2RpLnRpbWVzdGFtcCA9IHRoaXMuZGF0ZVJhbmdlLnN0YXJ0RGF0ZTtcblx0ICAgICAgICBjb25zb2xlLmxvZyhzZGkudGltZXN0YW1wKTtcblx0XG5cdCAgICAgICAgdmFyIGVkaSA9IG5ldyBFbmREYXRlSW5wdXQoKTtcblx0ICAgICAgICBlZGkudGltZXN0YW1wID0gdGhpcy5kYXRlUmFuZ2UuZW5kRGF0ZTtcblx0ICAgICAgICBjb25zb2xlLmxvZyhlZGkudGltZXN0YW1wKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH1dKTtcblx0XG5cdCAgcmV0dXJuIERhdGVSYW5nZTtcblx0fSgpO1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBEYXRlUmFuZ2U7XG5cbi8qKiovIH0sXG4vKiAyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXHRcblx0ZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cdFxuXHRmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblx0XG5cdHZhciBEYXRlSW5wdXQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHRcblx0LyoqXG5cdCAqIEEgY29uY3JldGUgcmVwcmVzZW50YXRpb24gb2YgRGF0ZUlucHV0IGZvciB0aGUgc3RhcnQgZGF0ZS5cblx0ICogQGV4dGVuZHMgRGF0ZUlucHV0XG5cdCAqIEBwcml2YXRlXG5cdCAqL1xuXHRcblx0dmFyIFN0YXJ0RGF0ZUlucHV0ID0gZnVuY3Rpb24gKF9EYXRlSW5wdXQpIHtcblx0ICBfaW5oZXJpdHMoU3RhcnREYXRlSW5wdXQsIF9EYXRlSW5wdXQpO1xuXHRcblx0ICBmdW5jdGlvbiBTdGFydERhdGVJbnB1dCgpIHtcblx0ICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTdGFydERhdGVJbnB1dCk7XG5cdFxuXHQgICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChTdGFydERhdGVJbnB1dC5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFN0YXJ0RGF0ZUlucHV0KSkuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG5cdCAgfVxuXHRcblx0ICByZXR1cm4gU3RhcnREYXRlSW5wdXQ7XG5cdH0oRGF0ZUlucHV0KTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gU3RhcnREYXRlSW5wdXQ7XG5cbi8qKiovIH0sXG4vKiAzICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdC8qKlxuXHQgKiBDbGFzcyByZXByZXNlbnRpbmcgYSBhYnN0cmFjdCBEYXRlSW5wdXQuXG5cdCAqIEBhYnN0cmFjdFxuXHQgKiBAcHJpdmF0ZVxuXHQgKi9cblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cdFxuXHRmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXHRcblx0dmFyIERhdGVJbnB1dCA9IGZ1bmN0aW9uICgpIHtcblx0ICBmdW5jdGlvbiBEYXRlSW5wdXQoKSB7XG5cdCAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRGF0ZUlucHV0KTtcblx0XG5cdCAgICAvKipcblx0ICAgICAqIEB0eXBlZGVmIHtvYmplY3R9IERhdGVJbnB1dC5pbnB1dFxuXHQgICAgICogQHByb3BlcnR5IHtudW1iZXJ9IHRpbWVzdGFtcCAtIFRoZSBjdXJyZW50IHRpbWUgc2hvd24gb24gdGhlIGRhdGUgaW5wdXQuXG5cdCAgICAgKi9cblx0ICAgIC8qKlxuXHQgICAgICogQHByaXZhdGVcblx0ICAgICAqL1xuXHQgICAgdGhpcy50aW1lID0gMDtcblx0ICB9XG5cdFxuXHQgIC8qKlxuXHQgICAqIFJlcHJlc2VudHMgdGhlIG51bWVyaWMgdmFsdWUgb2YgdGhlIGRhdGVcblx0ICAgKiBAdHlwZSBudW1iZXJcblx0ICAgKi9cblx0XG5cdFxuXHQgIF9jcmVhdGVDbGFzcyhEYXRlSW5wdXQsIFt7XG5cdCAgICBrZXk6ICdkaXNwbGF5RGF0ZScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZGlzcGxheURhdGUoKSB7XG5cdCAgICAgIDtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICd0aW1lc3RhbXAnLFxuXHQgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG5cdCAgICAgIHJldHVybiB0aGlzLnRpbWU7XG5cdCAgICB9LFxuXHQgICAgc2V0OiBmdW5jdGlvbiBzZXQobXMpIHtcblx0ICAgICAgdGhpcy50aW1lID0gbXM7XG5cdCAgICB9XG5cdCAgfV0pO1xuXHRcblx0ICByZXR1cm4gRGF0ZUlucHV0O1xuXHR9KCk7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IERhdGVJbnB1dDtcblxuLyoqKi8gfSxcbi8qIDQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cdFxuXHRmdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblx0XG5cdGZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXHRcblx0dmFyIERhdGVJbnB1dCA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdFxuXHQvKipcblx0ICogQSBjb25jcmV0ZSByZXByZXNlbnRhdGlvbiBvZiBEYXRlSW5wdXQgZm9yIHRoZSBlbmQgZGF0ZS5cblx0ICogQGV4dGVuZHMgRGF0ZUlucHV0XG5cdCAqIEBwcml2YXRlXG5cdCAqL1xuXHRcblx0dmFyIEVuZERhdGVJbnB1dCA9IGZ1bmN0aW9uIChfRGF0ZUlucHV0KSB7XG5cdCAgX2luaGVyaXRzKEVuZERhdGVJbnB1dCwgX0RhdGVJbnB1dCk7XG5cdFxuXHQgIGZ1bmN0aW9uIEVuZERhdGVJbnB1dCgpIHtcblx0ICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBFbmREYXRlSW5wdXQpO1xuXHRcblx0ICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoRW5kRGF0ZUlucHV0Ll9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoRW5kRGF0ZUlucHV0KSkuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG5cdCAgfVxuXHRcblx0ICByZXR1cm4gRW5kRGF0ZUlucHV0O1xuXHR9KERhdGVJbnB1dCk7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IEVuZERhdGVJbnB1dDtcblxuLyoqKi8gfVxuLyoqKioqKi8gXSk7XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogZmN0cy1leHQtZGF0ZXJhbmdlLWVzNS5taW4uanNcbiAqKi8iLCIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSlcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcblxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0ZXhwb3J0czoge30sXG4gXHRcdFx0aWQ6IG1vZHVsZUlkLFxuIFx0XHRcdGxvYWRlZDogZmFsc2VcbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubG9hZGVkID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIHdlYnBhY2svYm9vdHN0cmFwIDc1OGU3MDJiNGIyZGJiMTkzZWE5XG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuY29uc3QgRGF0ZVJhbmdlID0gcmVxdWlyZSgnLi9mY3RzLWV4dC1kYXRlcmFuZ2UnKTtcblxuLy8gdmFyIGZjID0gbmV3IEZ1c2lvbkNoYXJ0cygpO1xuXG5GdXNpb25DaGFydHMucmVnaXN0ZXIoJ2V4dGVuc2lvbicsIFsnZGF0ZS1yYW5nZS1jaG9vc2VyJywgZnVuY3Rpb24gKGlkKSB7XG4gIHZhciBnbG9iYWwgPSB0aGlzO1xuICB2YXIgZXh0QVBJID0gZ2xvYmFsLmV4dEFQSTtcblxuICAvLyB2YXIgb3RoZXJBUEkgPSBGdXNpb25DaGFydHMuZ2V0RXh0Q29tcG9uZW50KGlkLCAnYXBpJywgJ2xlZ2FjeWV4dGFwaScpO1xuICAvLyB2YXIgdG9vbEJveEFwaSA9IEZ1c2lvbkNoYXJ0cy5nZXRDb21wb25lbnQoJ2FwaScsICd0b29sYm94Jyk7XG5cbiAgZXh0QVBJKHtcbiAgICBpbml0OiBmdW5jdGlvbiAocmVxdWlyZSkge1xuICAgICAgcmVxdWlyZSgnWC1BeGlzJywgJ1ktQXhpcycsICdncmFwaGljcycsIGZ1bmN0aW9uICh4LCB5LCBncmFwaGljcykge1xuICAgICAgICBnbG9iYWwueCA9IHg7XG4gICAgICAgIGdsb2JhbC55ID0geTtcbiAgICAgICAgZ2xvYmFsLnBhcGVyID0gZ3JhcGhpY3M7XG4gICAgICB9KTtcbiAgICAgIHdpbmRvdy5kYXRlUmFuZ2UgPSBuZXcgRGF0ZVJhbmdlKCk7XG4gICAgICB3aW5kb3cucGFwZXIgPSBnbG9iYWwucGFwZXI7XG4gICAgfSxcbiAgICBwbGFjZUluQ2FudmFzOiBmdW5jdGlvbiAoKSB7XG4gICAgICAvLyBzcGFjZSBtYW5hZ2VtZW50XG4gICAgICB3aW5kb3cuZGF0ZVJhbmdlLnJhbmdlID0ge1xuICAgICAgICBzdGFydERhdGU6IDEyLFxuICAgICAgICBlbmREYXRlOiAyM1xuICAgICAgfTtcbiAgICB9LFxuICAgIGRyYXc6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBzdGFydExhYmVsID0gZ2xvYmFsLnBhcGVyLnRleHQoMjAsIDIyLCAnRnJvbTogJyk7XG4gICAgICBzdGFydExhYmVsLmF0dHIoJ2ZvbnQtZmFtaWx5JywgJ3NhbnMtc2VyaWYnKTtcbiAgICAgIHN0YXJ0TGFiZWwuYXR0cignZmlsbCcsICcjMDAwJyk7XG4gICAgICB2YXIgc3RhcnRSZWN0ID0gZ2xvYmFsLnBhcGVyLnJlY3QoNTAsIDEwLCA2MCwgMjUpO1xuICAgICAgc3RhcnRSZWN0LmF0dHIoJ3N0cm9rZScsICcjMDAwJyk7XG4gICAgICB2YXIgc3RhcnRUZXh0ID0gZ2xvYmFsLnBhcGVyLnRleHQoNjMsIDIyLCB3aW5kb3cuZGF0ZVJhbmdlLnJhbmdlLnN0YXJ0RGF0ZSk7XG4gICAgICBzdGFydFRleHQuYXR0cignZm9udC1mYW1pbHknLCAnc2Fucy1zZXJpZicpO1xuICAgICAgc3RhcnRUZXh0LmF0dHIoJ2ZpbGwnLCAnIzAwMCcpO1xuXG4gICAgICB2YXIgZW5kTGFiZWwgPSBnbG9iYWwucGFwZXIudGV4dCgxNzAsIDIyLCAnVG86ICcpO1xuICAgICAgZW5kTGFiZWwuYXR0cignZm9udC1mYW1pbHknLCAnc2Fucy1zZXJpZicpO1xuICAgICAgZW5kTGFiZWwuYXR0cignZmlsbCcsICcjMDAwJyk7XG4gICAgICB2YXIgZW5kUmVjdCA9IGdsb2JhbC5wYXBlci5yZWN0KDE5MCwgMTAsIDYwLCAyNSk7XG4gICAgICBlbmRSZWN0LmF0dHIoJ3N0cm9rZScsICcjMDAwJyk7XG4gICAgICB2YXIgZW5kVGV4dCA9IGdsb2JhbC5wYXBlci50ZXh0KDIwMywgMjIsIHdpbmRvdy5kYXRlUmFuZ2UucmFuZ2UuZW5kRGF0ZSk7XG4gICAgICBlbmRUZXh0LmF0dHIoJ2ZvbnQtZmFtaWx5JywgJ3NhbnMtc2VyaWYnKTtcbiAgICAgIGVuZFRleHQuYXR0cignZmlsbCcsICcjMDAwJyk7XG4gICAgfSxcbiAgICBkaXNwb3NlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAvLyBkaXNwb3NlIGV4dGVuc2lvblxuICAgIH1cbiAgfSk7XG59XSk7XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9pbmRleC5qc1xuICoqLyIsIid1c2Ugc3RyaWN0JztcbnZhciBTdGFydERhdGVJbnB1dCA9IHJlcXVpcmUoJy4vZmN0cy1leHQtc3RhcnRkYXRlaW5wdXQnKTtcbnZhciBFbmREYXRlSW5wdXQgPSByZXF1aXJlKCcuL2ZjdHMtZXh0LWVuZGRhdGVpbnB1dCcpO1xuLyoqXG4gKiBDbGFzcyByZXByZXNlbnRpbmcgdGhlIERhdGVSYW5nZS5cbiAqL1xuY2xhc3MgRGF0ZVJhbmdlIHtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIERhdGVSYW5nZS5cbiAgICogQHR5cGVkZWYge29iamVjdH0gRGF0ZVJhbmdlLnJhbmdlXG4gICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBzdGFydERhdGUgLSBUaGUgc3RhcnQgZGF0ZSBvZiB0aGUgZGF0ZSByYW5nZS5cbiAgICogQHByb3BlcnR5IHtudW1iZXJ9IGVuZERhdGUgLSBUaGUgZW5kIGRhdGUgb2YgdGhlIGRhdGUgcmFuZ2UuXG4gICAqL1xuICBjb25zdHJ1Y3RvciAoKSB7XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLmRhdGVSYW5nZSA9IHtcbiAgICAgIHN0YXJ0RGF0ZTogMCxcbiAgICAgIGVuZERhdGU6IDBcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIEFuIG9iamVjdCByZXByZXNlbnRpbmcgdGhlIHN0YXJ0IGFuZCBlbmQgZGF0ZXMuXG4gICAqIEB0eXBlIHtEYXRlUmFuZ2UucmFuZ2V9XG4gICAqL1xuICBnZXQgcmFuZ2UgKCkge1xuICAgIHJldHVybiB0aGlzLmRhdGVSYW5nZTtcbiAgfVxuXG4gIHNldCByYW5nZSAocmFuZ2UpIHtcbiAgICBpZiAocmFuZ2Uuc3RhcnREYXRlIDw9IHJhbmdlLmVuZERhdGUpIHtcbiAgICAgIHRoaXMuZGF0ZVJhbmdlLnN0YXJ0RGF0ZSA9IHJhbmdlLnN0YXJ0RGF0ZTtcbiAgICAgIHRoaXMuZGF0ZVJhbmdlLmVuZERhdGUgPSByYW5nZS5lbmREYXRlO1xuXG4gICAgICB2YXIgc2RpID0gbmV3IFN0YXJ0RGF0ZUlucHV0KCk7XG4gICAgICBzZGkudGltZXN0YW1wID0gdGhpcy5kYXRlUmFuZ2Uuc3RhcnREYXRlO1xuICAgICAgY29uc29sZS5sb2coc2RpLnRpbWVzdGFtcCk7XG5cbiAgICAgIHZhciBlZGkgPSBuZXcgRW5kRGF0ZUlucHV0KCk7XG4gICAgICBlZGkudGltZXN0YW1wID0gdGhpcy5kYXRlUmFuZ2UuZW5kRGF0ZTtcbiAgICAgIGNvbnNvbGUubG9nKGVkaS50aW1lc3RhbXApO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTd2FwcyB0aGUgc3RhcnQgZGF0ZSBhbmQgdGhlIGVuZCBkYXRlIG9mIHRoZSBkYXRlIHJhbmdlXG4gICAqL1xuICBzd2FwRGF0ZXMgKCkge1xuICAgIGxldCB0ZW1wID0gdGhpcy5kYXRlUmFuZ2Uuc3RhcnREYXRlO1xuICAgIHRoaXMuZGF0ZVJhbmdlLnN0YXJ0RGF0ZSA9IHRoaXMuZGF0ZVJhbmdlLmVuZERhdGU7XG4gICAgdGhpcy5kYXRlUmFuZ2UuZW5kRGF0ZSA9IHRlbXA7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBEYXRlUmFuZ2U7XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9mY3RzLWV4dC1kYXRlcmFuZ2UuanNcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5jb25zdCBEYXRlSW5wdXQgPSByZXF1aXJlKCcuL2ZjdHMtZXh0LWRhdGVpbnB1dCcpO1xuXG4vKipcbiAqIEEgY29uY3JldGUgcmVwcmVzZW50YXRpb24gb2YgRGF0ZUlucHV0IGZvciB0aGUgc3RhcnQgZGF0ZS5cbiAqIEBleHRlbmRzIERhdGVJbnB1dFxuICogQHByaXZhdGVcbiAqL1xuY2xhc3MgU3RhcnREYXRlSW5wdXQgZXh0ZW5kcyBEYXRlSW5wdXQge1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IFN0YXJ0RGF0ZUlucHV0O1xuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvZmN0cy1leHQtc3RhcnRkYXRlaW5wdXQuanNcbiAqKi8iLCIndXNlIHN0cmljdCc7XG4vKipcbiAqIENsYXNzIHJlcHJlc2VudGluZyBhIGFic3RyYWN0IERhdGVJbnB1dC5cbiAqIEBhYnN0cmFjdFxuICogQHByaXZhdGVcbiAqL1xuY2xhc3MgRGF0ZUlucHV0IHtcbiAgY29uc3RydWN0b3IgKCkge1xuICAgIC8qKlxuICAgICAqIEB0eXBlZGVmIHtvYmplY3R9IERhdGVJbnB1dC5pbnB1dFxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB0aW1lc3RhbXAgLSBUaGUgY3VycmVudCB0aW1lIHNob3duIG9uIHRoZSBkYXRlIGlucHV0LlxuICAgICAqL1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy50aW1lID0gMDtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXByZXNlbnRzIHRoZSBudW1lcmljIHZhbHVlIG9mIHRoZSBkYXRlXG4gICAqIEB0eXBlIG51bWJlclxuICAgKi9cbiAgZ2V0IHRpbWVzdGFtcCAoKSB7XG4gICAgcmV0dXJuIHRoaXMudGltZTtcbiAgfVxuXG4gIHNldCB0aW1lc3RhbXAgKG1zKSB7XG4gICAgdGhpcy50aW1lID0gbXM7XG4gIH1cblxuICBkaXNwbGF5RGF0ZSAoKSB7XG4gICAgO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gRGF0ZUlucHV0O1xuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvZmN0cy1leHQtZGF0ZWlucHV0LmpzXG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuY29uc3QgRGF0ZUlucHV0ID0gcmVxdWlyZSgnLi9mY3RzLWV4dC1kYXRlaW5wdXQnKTtcblxuLyoqXG4gKiBBIGNvbmNyZXRlIHJlcHJlc2VudGF0aW9uIG9mIERhdGVJbnB1dCBmb3IgdGhlIGVuZCBkYXRlLlxuICogQGV4dGVuZHMgRGF0ZUlucHV0XG4gKiBAcHJpdmF0ZVxuICovXG5jbGFzcyBFbmREYXRlSW5wdXQgZXh0ZW5kcyBEYXRlSW5wdXQge1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IEVuZERhdGVJbnB1dDtcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2ZjdHMtZXh0LWVuZGRhdGVpbnB1dC5qc1xuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=