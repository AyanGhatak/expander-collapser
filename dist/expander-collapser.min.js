(function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={exports:{},id:d,loaded:!1};return a[d].call(e.exports,e,e.exports,b),e.loaded=!0,e.exports}var c={};return b.m=a,b.c=c,b.p='',b(0)})([function(a,b,c){'use strict';const d=c(1),e=c(2);(function(f,g){'object'==typeof a&&a.exports?a.exports=f.document?g(f):function(h){if(!h.document)throw new Error('Window with document not present');return g(h,!0)}:f.DateRangeChooser=g(f,!0)})('undefined'==typeof window?this:window,function(f){var h=f.FusionCharts,k=f.FusionCalendar;h.register('extension',['private','expander-collapser',function(){var l=this.hcLib.DateTimeFormatter;h.registerComponent('extensions','expander-collapser',d({FusionCharts:h,DateTimeFormatter:l})),h.registerComponent('extensions','expander-collapser2',d({FusionCharts:h,DateTimeFormatter:l})),h.registerComponent('extensions','SidePanel',e({FusionCharts:h,DateTimeFormatter:l}))}])})},function(a){'use strict';a.exports=function(c){return class{constructor(){if('function'==typeof c.FusionCharts)this.toolbox=c.FusionCharts.getComponent('api','toolbox');else throw new Error('Unable to find FusionCharts.');this.btns={contextualObj:{},calculatedObj:{}},this.HorizontalToolbar=this.toolbox.HorizontalToolbar,this.ComponentGroup=this.toolbox.ComponentGroup,this.createObjectAssign()}createObjectAssign(){'function'!=typeof Object.assign&&(Object.assign=function(e){'use strict';if(null==e)throw new TypeError('Cannot convert undefined or null to object');var g=Object(e);for(let k,h=1;h<arguments.length;h++)if(k=arguments[h],null!=k)for(let l in k)Object.prototype.hasOwnProperty.call(k,l)&&(g[l]=k[l]);return g})}createD3Button(e){var g,h,k,l,n,o=this.extData.button,p=this.graphics.paper,q=p.getInstances().d3,r=this;for(l in g=e.text,h=e.config,n=q.button(g).setConfig(h),n.namespace('fusioncharts'),n.appendSelector('standarperiodselector'),r.addCssRules(n.getIndividualClassNames(n.getClassName()),o),k=o.states,k)r.addCssRules(n.getIndividualClassNames(n.config.states[l]),o.states[l]);return e.eventListeners&&n.attachEventHandlers({click:e.eventListeners.click.bind(n)}),n}createD3Label(e){var g,h,k,l=this.extData.label,m=this,o={paper:m.graphics.paper,chart:m.chart,smartLabel:m.smartLabel,chartContainer:m.graphics.container};return g=e.text,h=e.config,k=new m.toolbox.Label(g,o,h),m.addCssRules(k.getIndividualClassNames(k.getClassName()),l),k}init(e){var f=this;return e(['graphics','chart','canvasConfig','MarkerManager','reactiveModel','globalReactiveModel','spaceManagerInstance','smartLabel','extData','chartInstance',function(g,h,k,l,m,n,o,p,q,r){f.graphics=g,f.chart=h,f.markerManager=l,f.canvasConfig=k,f.reactiveModel=m,f.globalReactiveModel=n,f.spaceManagerInstance=o,f.smartLabel=p,f.extDataUser=q,f.chartInstance=r}]),f.extData={disabled:!1,'default-select':'ALL','all-button':!0,'contextual-button':!0,'calculated-button':!0,posWrtCanvas:'top','anchor-align':'right',layout:'inline',position:'top',alignment:'left',orientation:'horizontal',customMultipliers:{millisecond:[1,500],second:[1,5,15,30],minute:[1,5,15,30],hour:[1,3,6,12],day:[1,7,15],month:[1,3,6],year:[1,3,5]},padding:0,button:{height:22,radius:1,className:'standard-period-selector',container:{style:{fill:'#FFFFFF','stroke-width':'1px',stroke:'#CED5D4',labelFill:'#4b4b4b',strokeWidth:'1px'}},text:{style:{fontFamily:'"Lucida Grande", sans-serif','font-size':'13px',fill:'#4b4b4b','line-height':'1px','letter-spacing':'-0.04em'}},states:{hover:{className:'standard-period-selector-state-hover',container:{style:{cursor:'pointer',fill:'#f7f7f7'}}}}},label:{className:'standard-period-selector-label',text:{style:{'font-weight':'bold','font-family':'"Lucida Grande", sans-serif','font-size':'13px',fill:'#4b4b4b'}},container:{height:22}}},f.config=f.extData,Object.assign(f.extData,f.extDataUser),f.measurement={},f.toolbar=f.createToolbar(),f}createToolbar(){window.count||(window.count=0),window.count+=1;var g,k,l,o,e=this,m={paper:e.graphics.paper,chart:e.chart,smartLabel:e.smartLabel,chartContainer:e.graphics.container},n={fill:'#fff',borderThickness:0};g=new e.HorizontalToolbar(m),g.setConfig(n),l=this.group=new e.toolbox.ComponentGroup(m),l.setConfig(n),k={height:22,text:'Zoom:',group:l,config:{height:22}},e.componentArr=[],e.componentArr.push({instance:e.createD3Label(k),priority:1});var n={},p=e.getModuleName();for(let q=0;6>q;q++)o={},o.instance=e.createD3Button({text:'BUTTON'+q,config:{margin:{right:5,left:5}},group:l}),o.id='id',o.priority=2,this.componentArr.push(o);return this.expandButton={instance:e.createD3Button({text:'>>',config:{margin:{right:2,left:2}},group:l,eventListeners:{click:function(){var q=e.fullview,r=e.previousWidth,s=e.maxSpace,t=s.width-r;console.log('diff',t),e.spaceManagerInstance.cacheByName(p).adjustWidth(t)}}})},this.expandButton.logicalSpace=o.instance.getLogicalSpace(),this.expandButton.priority=0,g.addComponent(l),e.toolbar=g,g}addCssRules(e,f){var g,h,k=this.graphics.paper;for(g in e)h=e[g],'container'===g?f.container&&k.cssAddRule('.'+h,f.container.style):'text'===g?f.text&&k.cssAddRule('.'+h,f.text.style):void 0}addSymbols(e){var f,g,h=this.group;for(f=0,g=e.length;f<g;f++)h.addSymbol(e[f].instance)}getLogicalSpace(e,f){var k,l,g=this.buttons,h=[this.expandButton];return this.group.emptyList(),this.addSymbols(h),k=this.toolbar.getLogicalSpace(e,f),console.log('minWidth',k.width),this.group.emptyList(),this.addSymbols(this.componentArr),this.maxSpace=l=this.toolbar.getLogicalSpace(e,f),{width:{max:l.width,min:k.width},height:l.height}}getModuleName(){return'ExpanderCollapser'+window.count}placeInCanvas(){var e=this;e.spaceManagerInstance.add([{name:function(){return e.getModuleName()},ref:function(f){return f[0]},self:function(){return e},priority:function(){return 2},layout:function(f){return f[e.config.layout]},orientation:[{type:function(f){return f[e.config.orientation]},position:[{type:function(f){return f[e.config.position]},alignment:[{type:function(f){return f[e.config.alignment]},dimensions:[function(){var f=this.getParentComponentGroup();return e.getLogicalSpace(f.getWidth(),f.getHeight())}]}]}]}]}])}setDrawingConfiguration(e,f,g,h,k){var l=this.measurement;return l.x=e,l.y=f,l.width=g,l.height=h,this.parentGroup=k,this}getDrawableComponentList(e){var k,l,n,o,u,g=this.componentArr,h=0,m=[],p=this.group,q=this.toolbar,r=p.config.padding,s=p.config.margin,t=q.config.padding,v=t.left+t.right+r.left+r.right+s.left+s.right;for(e-=v,n=0,k=g.length;n<k;n++){if(l=g[n],o=l.instance.getLogicalSpace(),this.previousWidth=h,h+=o.width,h>e){h-=o.width;break}m.push(l.instance)}return o=this.expandButton.instance.getLogicalSpace(),m.length!==k&&(h+=o.width,h>e&&(u=m.pop(),h-=u.getLogicalSpace().width),m.push(this.expandButton.instance)),this.previousWidth=h+v,m}draw(e,f,g,h,k){let o,l=this,m=l.measurement,n=l.toolbar;e=e===void 0?m.x:e,f=f===void 0?m.y:f,g=g===void 0?m.width:g,h=h===void 0?m.height:h,k=k===void 0?l.parentGroup:k,g&&h&&(this.group.emptyList(),o=this.getDrawableComponentList(g,h),this.group.addSymbol(o),n.getLogicalSpace(g,h),n.draw(e,f,k))}}}},function(a){'use strict';a.exports=function(c){return class{constructor(){if('function'==typeof c.FusionCharts)this.toolbox=c.FusionCharts.getComponent('api','toolbox');else throw new Error('Unable to find FusionCharts.');this.btns={contextualObj:{},calculatedObj:{}},this.HorizontalToolbar=this.toolbox.HorizontalToolbar,this.ComponentGroup=this.toolbox.ComponentGroup,this.createObjectAssign()}createObjectAssign(){'function'!=typeof Object.assign&&(Object.assign=function(e){'use strict';if(null==e)throw new TypeError('Cannot convert undefined or null to object');var g=Object(e);for(let k,h=1;h<arguments.length;h++)if(k=arguments[h],null!=k)for(let l in k)Object.prototype.hasOwnProperty.call(k,l)&&(g[l]=k[l]);return g})}createD3Button(e){var g,h,k,l,n,o=this.extData.button,p=this.graphics.paper,q=p.getInstances().d3,r=this;for(l in g=e.text,h=e.config,n=q.button(g).setConfig(h),n.namespace('fusioncharts'),n.appendSelector('standarperiodselector'),r.addCssRules(n.getIndividualClassNames(n.getClassName()),o),k=o.states,k)r.addCssRules(n.getIndividualClassNames(n.config.states[l]),o.states[l]);return e.eventListeners&&n.attachEventHandlers({click:e.eventListeners.click.bind(n)}),n}createD3Label(e){var g,h,k,l=this.extData.label,m=this,o={paper:m.graphics.paper,chart:m.chart,smartLabel:m.smartLabel,chartContainer:m.graphics.container};return g=e.text,h=e.config,k=new m.toolbox.Label(g,o,h),m.addCssRules(k.getIndividualClassNames(k.getClassName()),l),k}init(e){var f=this;return e(['graphics','chart','canvasConfig','MarkerManager','reactiveModel','globalReactiveModel','spaceManagerInstance','smartLabel','extData','chartInstance','dataset',function(g,h,k,l,m,n,o,p,q,r){f.graphics=g,f.chart=h,f.markerManager=l,f.canvasConfig=k,f.reactiveModel=m,f.globalReactiveModel=n,f.spaceManagerInstance=o,f.smartLabel=p,f.extDataUser=q,f.chartInstance=r}]),f.extData={disabled:!1,'default-select':'ALL','all-button':!0,'contextual-button':!0,'calculated-button':!0,posWrtCanvas:'top','anchor-align':'right',layout:'inline',position:'top',alignment:'right',orientation:'horizontal',customMultipliers:{millisecond:[1,500],second:[1,5,15,30],minute:[1,5,15,30],hour:[1,3,6,12],day:[1,7,15],month:[1,3,6],year:[1,3,5]},padding:0,button:{height:22,radius:1,className:'standard-period-selector',container:{style:{fill:'#FFFFFF','stroke-width':'1px',stroke:'#CED5D4',labelFill:'#4b4b4b',strokeWidth:'1px'}},text:{style:{fontFamily:'"Lucida Grande", sans-serif','font-size':'13px',fill:'#4b4b4b','line-height':'1px','letter-spacing':'-0.04em'}},states:{hover:{className:'standard-period-selector-state-hover',container:{style:{cursor:'pointer',fill:'#f7f7f7'}}}}},label:{className:'standard-period-selector-label',text:{style:{'font-weight':'bold','font-family':'"Lucida Grande", sans-serif','font-size':'13px',fill:'#4b4b4b'}},container:{height:22}}},f.config=f.extData,Object.assign(f.extData,f.extDataUser),f.measurement={},f.toolbar=f.createToolbar(),f}createToolbar(){window.count||(window.count=0),window.count+=1;var g,k,l,e=this,m={paper:e.graphics.paper,chart:e.chart,smartLabel:e.smartLabel,chartContainer:e.graphics.container},n={fill:'#fff',borderThickness:0};g=new e.HorizontalToolbar(m),g.setConfig(n),l=this.group=new e.toolbox.ComponentGroup(m),l.setConfig(n),k={height:22,text:'Zoom:',group:l,config:{height:22}},e.componentArr=[];var n={},p=e.getModuleName();return this.componentArr.push({instance:e.createD3Button({text:'Set Min',config:{margin:{right:5,left:5}},group:l,eventListeners:{click:function(){e.showPopup()}}}),id:'id',priority:2},{instance:e.createD3Button({text:'Show KPI',config:{margin:{right:5,left:5}},group:l,eventListeners:{click:function(){e.showKPI=!e.showKPI,tsInstance.resizeTo()}}}),id:'id',priority:2}),d3.select('html').on('click',function(){e.hidePopup()}),g.addComponent(l),e.toolbar=g,g}addCssRules(e,f){var g,h,k=this.graphics.paper;for(g in e)h=e[g],'container'===g?f.container&&k.cssAddRule('.'+h,f.container.style):'text'===g?f.text&&k.cssAddRule('.'+h,f.text.style):void 0}addSymbols(e){var f,g,h=this.group;for(f=0,g=e.length;f<g;f++)h.addSymbol(e[f].instance)}showPopup(){var m,n,o,e=this.graphics.paper,f=e.getInstances().d3,g=this,h=this.graphics.container,k=h.offsetWidth-(this.showKPI?100:0),l=h.offsetHeight;m=this.selection,m||(m=this.selection=f.select(h).append('div')),m.style('display','block'),m.style('position','absolute').style('left','0px').style('top','0px').style('width',k+'px').style('height',l+'px').style('background','#7f7f7f').style('opacity','0.3'),n=m.selectAll('input').data([{text:'Set Min'}]),o=m.selectAll('span').data([{text:'Set Min'}]),f.event.stopPropagation(),n.enter().append('input').merge(n).style('position','absolute').style('top',l/2+'px').style('left',k/2+'px').on('keypress',function(){var p=g.globalReactiveModel,q=g.chartInstance,r=q.apiInstance.getComponentStore(),s=r.getCanvasByIndex(0),t=s.getComposition(),u=t.dataset,v={};13===f.event.keyCode&&(u.forEachSeries(function(w,z,A){var B,C,H,I,D=-(1/0),E=+(1/0),F=0,G=[];for(B=A.start;B<A.end;B++)C=z[B],D=Math.max(D,C),E=Math.min(E,C),F+=C;for(H=F/(A.end-A.start),v.sum=F,B=A.start;B<A.end;B++)C=z[B],G.push(Math.pow(C-H,2));for(F=0,B=0;B<G.length;B++)C=G[B],F+=C;I=F/G.length,v.sd=I,v.max=D,v.min=E,v.mean=H}),console.log(v))}).on('click',function(){f.event.stopPropagation()}),o.enter().append('span').merge(o).html('Set Min').style('position','absolute').style('top',l/2+'px').style('left',k/2-60+'px').style('color','#000000').style('opacity',1),f.event.stopPropagation()}hidePopup(){this.selection&&this.selection.style('display','none')}getLogicalSpace(e,f){var k,l,g=this.buttons,h=this.componentArr;return this.group.emptyList(),this.addSymbols(h),k=this.toolbar.getLogicalSpace(e,f),console.log('minWidth',k.width),this.group.emptyList(),this.addSymbols(this.componentArr),this.maxSpace=l=this.toolbar.getLogicalSpace(e,f),{width:{max:l.width,min:k.width},height:l.height}}getSidePanelSpace(){return{width:this.showKPI?100:0,height:this.showKPI?1:0}}getModuleName(){return'ExpanderCollapser'+window.count}placeInCanvas(){var e=this;e.spaceManagerInstance.add([{name:function(){return e.getModuleName()},ref:function(f){return f[0]},self:function(){return e},priority:function(){return 2},layout:function(f){return f[e.config.layout]},orientation:[{type:function(f){return f[e.config.orientation]},position:[{type:function(f){return f[e.config.position]},alignment:[{type:function(f){return f[e.config.alignment]},dimensions:[function(){var f=this.getParentComponentGroup();return e.getLogicalSpace(f.getWidth(),f.getHeight())}]}]}]}]}]),e.spaceManagerInstance.add([{name:function(){return'sidepanel'},ref:function(f){return f[0]},self:function(){return e},priority:function(){return 2},layout:function(f){return f.block},orientation:[{type:function(f){return f.vertical},position:[{type:function(f){return f.right},alignment:[{type:function(f){return f.middle},dimensions:[function(){var f=this.getParentComponentGroup();return e.getSidePanelSpace(f.getWidth(),f.getHeight())}]}]}]}]}])}setDrawingConfiguration(e,f,g,h,k){var l=this.measurement;return l.x=e,l.y=f,l.width=g,l.height=h,this.parentGroup=k,this}draw(e,f,g,h,k){let l=this,m=l.measurement,n=l.toolbar;e=e===void 0?m.x:e,f=f===void 0?m.y:f,g=g===void 0?m.width:g,h=h===void 0?m.height:h,k=k===void 0?l.parentGroup:k,g&&h&&(n.draw(e,f,k),this.showKPI?this.drawPanel(e+g,f):this.hidePanel())}drawPanel(e,f){function g(s,t,u,v){var w=s.join(':'),z=t.selectAll('.'+u).data([1]);for(var A in z=z.enter().append('div').merge(z).attr('class',u).html(w).style('position','relative'),v)z.style(A,v[A]);return z}var h={left:'10px','font-weight':'normal',padding:'2px'},k={padding:'10px','font-weight':'bold'},l=[{head:{text:['Visible Data'],style:k},style:{margin:'5px'},children:[{text:['Maximum',30],style:h},{text:['Minimum',30],style:h},{text:['Standard Deviation',30],style:h},{text:['Average',30],style:h}]},{head:{text:['Full Data'],style:k},style:{margin:'5px'},children:[{text:['Maximum',30],style:h},{text:['Minimum',30],style:h},{text:['Standard Deviation',30],style:h},{text:['Average',30],style:h}]}],m,n=d3.select(this.graphics.container).selectAll('.test').data([1]);n=n.enter().append('div').merge(n).attr('class','test').style('left',e+'px').style('position','absolute').style('display','block').style('top',f+'px');for(var o=0,p=l.length;o<p;o+=1)if(g([],n,l[o].head.text[0]+'_container',l[o].style),m=g(l[o].head.text,n,l[o].head.text[0],l[o].head.style),l[o].children)for(var q=0,r=l[o].children.length;q<r;q+=1)g(l[o].children[q].text,m,l[o].text+'_'+l[o].children[q].text[0],l[o].children[q].style)}hidePanel(){d3.select(this.graphics.container).select('.test').remove()}}}}]);
//# sourceMappingURL=expander-collapser.min.js.map