!function(t){function e(r){if(o[r])return o[r].exports;var a=o[r]={exports:{},id:r,loaded:!1};return t[r].call(a.exports,a,a.exports,e),a.loaded=!0,a.exports}var o={};return e.m=t,e.c=o,e.p="",e(0)}([function(t,e,o){(function(t){"use strict";var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=o(2);!function(o,r){"object"===e(t)&&t.exports?t.exports=o.document?r(o):function(t){if(!t.document)throw new Error("Window with document not present");return r(t,!0)}:o.DateRangeChooser=r(o,!0)}("undefined"!=typeof window?window:void 0,function(t,e){var o=t.FusionCharts;o.register("extension",["private","date-range-chooser",function(){var t=this.hcLib.DateTimeFormatter;o.registerComponent("extensions","date-range-chooser",r({FusionCharts:o,DateTimeFormatter:t}))}])})}).call(e,o(1)(t))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,e){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function(){function t(t,e){for(var o=0;o<e.length;o++){var r=e[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,o,r){return o&&t(e.prototype,o),r&&t(e,r),e}}();t.exports=function(t){var e=function(){function e(){if(o(this,e),this.startDt=0,this.endDt=0,this.startDataset=0,this.endDataset=0,"function"!=typeof t.FusionCharts)throw new Error("Unable to find FusionCharts.");if(this.toolbox=t.FusionCharts.getComponent("api","toolbox"),"function"!=typeof t.FusionCharts)throw new Error("Unable to find DateTimeFormatter.");this.DateTimeFormatter=t.DateTimeFormatter,this.HorizontalToolbar=this.toolbox.HorizontalToolbar,this.ComponentGroup=this.toolbox.ComponentGroup,this.isDrawn=!1,this.startTooltipErrorMsg="",this.endTooltipErrorMsg="",this.createObjectAssign()}return r(e,[{key:"isBeforeOrEqualTo",value:function(t,e,o){return t<=e||(this.startTooltipErrorMsg='<span style="color: '+this.config.styles["input-error-tooltip-font-color"]+'">Date must be less than end date!</span>',"from"===o&&this.setErrorMsg(this.fromError,"Date must be less than end date!"),!1)}},{key:"isAfterOrEqualTo",value:function(t,e,o){return t>=e||(this.endTooltipErrorMsg='<span style="color: '+this.config.styles["input-error-tooltip-font-color"]+'">Date must be greater than start date!</span>',"to"===o&&this.setErrorMsg(this.toError,"Date must be greater than start date!"),!1)}},{key:"isBetween",value:function(t,e,o,r){return t>=e&&t<=o||(this.startTooltipErrorMsg=this.endTooltipErrorMsg='<span style="color: '+this.config.styles["input-error-tooltip-font-color"]+'">Date out of bounds!</span>',"from"===r?this.setErrorMsg(this.fromError,"Date out of bounds!"):"to"===r&&this.setErrorMsg(this.toError,"Date out of bounds!"),!1)}},{key:"diffIsGreaterThan",value:function(t,e,o){return t>e||(this.startTooltipErrorMsg=this.endTooltipErrorMsg='<span style="color: '+this.config.styles["input-error-tooltip-font-color"]+'">Zoom limit exceeded!</span>',"from"===o?this.setErrorMsg(this.fromError,"Zoom limit exceeded!"):"to"===o&&this.setErrorMsg(this.toError,"Zoom limit exceeded!"),!1)}},{key:"getTimestamp",value:function(e){var o=this.config.dateFormat,r=new t.DateTimeFormatter(o);return+r.getNativeDate(e)}},{key:"getDate",value:function(t){var e=this.config.dateFormat;return this.DateTimeFormatter.formatAs(t,e)}},{key:"setConfig",value:function(t){}},{key:"getConfig",value:function(){return{calendarVisible:"false"}}},{key:"createConfig",value:function(t){var e={},o={inputButton:{width:120,height:22,radius:1,padding:{left:15,right:10},className:"date-range-chooser",container:{style:{fill:"#FFFFFF","stroke-width":1,stroke:"#CED5D4"}},text:{style:{"font-family":'"Lucida Grande", sans-serif',"font-size":"13px",fill:"#4B4B4B"}},states:{selected:{className:"date-range-chooser-state-selected",container:{style:{fill:"#FFFFFF",stroke:"#1E1F1F"}}},errored:{className:"date-range-chooser-state-errored",container:{style:{fill:"#FFFFFF",stroke:"#D25353"}}}}},label:{className:"date-range-chooser-label",text:{style:{"font-family":'"Lucida Grande", sans-serif',"font-size":"13px",fill:"#4B4B4B"}}}};return e.disabled=t.disabled||!1,e.layout=t.layout||"inline",e.orientation=t.orientation||"horizontal",e.position=t.position||"top",e.alignment=t.alignment||"right",e.dateFormat=t.dateFormat||"%d-%m-%Y",e.fromText=t.fromText||"From:",e.fromTooltipText=t.fromTooltipText||"From Date",e.toText=t.toText||"To:",e.toTooltipText=t.toTooltipText||"To Date",e.styles=Object.assign(o,t.styles),e}},{key:"createErrorGroup",value:function(t){}},{key:"setErrorMsg",value:function(t,e){}},{key:"createObjectAssign",value:function(){"function"!=typeof Object.assign&&(Object.assign=function(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var o=Object(t),r=1;r<arguments.length;r++){var a=arguments[r];if(null!=a)for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(o[i]=a[i])}return o})}},{key:"init",value:function(t){var e=this;return t(["xAxis","graphics","chart","dataset","globalReactiveModel","spaceManagerInstance","extData","smartLabel","chartInstance",function(t,o,r,a,i,n,s,l,c){e.xAxis=t,e.graphics=o,e.chart=r,e.dataset=a,e.globalReactiveModel=i,e.spaceManagerInstance=n,e.config=e.createConfig(s),e.smartLabel=l,e.chartInstance=c}]),e.startDt=e.globalReactiveModel.model["x-axis-visible-range-start"],e.endDt=e.globalReactiveModel.model["x-axis-visible-range-end"],e.toolbars=[],e.measurement={},e.toolbars.push(e.createToolbar()),e}},{key:"createToolbar",value:function(){var t,e,o,r,a,i,n,s=this,l=this.config.styles,c=l.inputButton,d=this.graphics.paper,u=d.getInstances().d3,f=function(t,e){var o,r;for(o in t)switch(r=t[o],o){case"container":e.container&&d.cssAddRule("."+r,e.container.style);break;case"input":e.text&&d.cssAddRule("."+r,{color:e.text.style.fill,"font-family":e.text.style["font-family"],"font-size":e.text.style["font-size"]});break;case"text":e.text&&d.cssAddRule("."+r,e.text.style)}},h=function(t){var e,o,r,a,i,n;for(e in t){o=t[e],r=o.text,a=o.config,s[e]=u.inputButton(r).setConfig(a),s[e].namespace("fusioncharts"),s[e].appendSelector("daterange"),f(s[e].getIndividualClassNames(s[e].getClassName()),c),i=a.states;for(n in i)f(s[e].getIndividualClassNames(s[e].config.states[n]),c.states[n]);s[e].attachEventHandlers(o.eventListeners),o.group.addSymbol(s[e])}},m=function(t){var e,o,r,a;for(e in t)o=t[e],r=o.text,a=o.config,s[e]=new s.toolbox.Label(r,g,a),f(s[e].getIndividualClassNames(s[e].getClassName()),o.styles),o.group.addSymbol(s[e])},g={paper:this.graphics.paper,chart:this.chart,smartLabel:this.smartLabel,chartContainer:this.graphics.container},p={click:function(){s.fromDate.setState("selected")},keypress:function(t){var e=t||window.event,o=e.which||e.keyCode;13===o&&(s.startDate=s.fromDate.text(),"errored"!==s.fromDate.state&&s.fromDate.blur())},blur:function(){s.startDate=s.fromDate.text(),"errored"!==s.fromDate.state&&(s.fromDate.blur(),s.fromDate.removeState("selected"))}},v={click:function(){s.toDate.setState("selected")},keypress:function(t){var e=t||window.event,o=e.which||e.keyCode;13===o&&(s.endDate=s.toDate.text(),"errored"!==s.toDate.state&&(s.toDate.blur(),s.toDate.removeState("selected")))},blur:function(){s.endDate=s.toDate.text(),"errored"!==s.toDate.state&&s.toDate.removeState("selected")}};return s.fromDate={},s.toDate={},r=this.getDate(this.startDt),a=this.getDate(this.endDt),t=new this.HorizontalToolbar(g),e=new this.toolbox.ComponentGroup(g),o=new this.toolbox.ComponentGroup(g),i={fromDateLabel:{text:this.config.fromText,config:{className:l.label.className,container:{width:40}},styles:l.label,group:e},toDateLabel:{text:this.config.toText,config:{className:l.label.className,container:{width:40}},styles:l.label,group:o}},n={fromDate:{text:r,config:{width:c.width,height:c.height,padding:c.padding,radius:c.radius,className:c.className,states:{selected:c.states.selected.className,errored:c.states.errored.className}},eventListeners:p,group:e},toDate:{text:a,config:{width:c.width,height:c.height,padding:c.padding,radius:c.radius,className:c.className,states:{selected:c.states.selected.className,errored:c.states.errored.className}},eventListeners:v,group:o}},m(i),h(n),t.addComponent(e),t.addComponent(o),t}},{key:"getLogicalSpace",value:function(t,e){var o=this.toolbars[0].getLogicalSpace(t,e);return this.toolbars[0].width=o.width,this.toolbars[0].height=o.height,{width:o.width,height:o.height}}},{key:"placeInCanvas",value:function(){var t=this;t.spaceManagerInstance.add([{name:function(){return"DateRangeChooserToolbox"},ref:function(t){return t[0]},self:function(){return t},priority:function(){return 2},layout:function(e){return e[t.config.layout]},orientation:[{type:function(e){return e[t.config.orientation]},position:[{type:function(e){return e[t.config.position]},alignment:[{type:function(e){return e[t.config.alignment]},dimensions:[function(){var e=this.getParentComponentGroup();return t.getLogicalSpace(e.getWidth(),e.getHeight())}]}]}]}]}])}},{key:"setDrawingConfiguration",value:function(t,e,o,r,a){var i=this.measurement;return i.x=t,i.y=e,i.width=o,i.height=r,this.parentGroup=a,this}},{key:"draw",value:function(t,e,o,r,a){var i=this,n=i.measurement,s=i.toolbars,l=void 0,c=void 0,d=void 0,u=i.globalReactiveModel;if(t=void 0===t?n.x:t,e=void 0===e?n.y:e,o=void 0===o?n.width:o,r=void 0===r?n.height:r,a=void 0===a?i.parentGroup:a,o&&r){for(i.isDrawn=!0,c=0,l=s.length;c<l;c++)d=s[c],d.draw(t,e,a);u.onPropsChange(["x-axis-visible-range-start","x-axis-visible-range-end"],function(t,e){i.startDt=t[1],i.fromDate.text(i.getDate(t[1])),i.fromDate.removeState("selected"),i.fromDate.removeState("errored"),i.endDt=e[1],i.toDate.text(i.getDate(e[1])),i.toDate.removeState("selected"),i.toDate.removeState("errored")})}"vertical"===i.config.orientation?(i.fromError=i.createErrorGroup(i.toDate),i.toError=i.createErrorGroup(i.toDate)):"horizontal"===i.config.orientation&&(i.fromError=i.createErrorGroup(i.fromDate),i.toError=i.createErrorGroup(i.toDate)),i.startDataset=i.globalReactiveModel.model["x-axis-absolute-range-start"],i.endDataset=i.globalReactiveModel.model["x-axis-absolute-range-end"],i.maxXAxisTicks=i.globalReactiveModel.model["x-axis-maximum-allowed-ticks"],i.maxXAxisTicks=i.globalReactiveModel.model["x-axis-maximum-allowed-ticks"],i.minDatestampDiff=i.globalReactiveModel.model["minimum-consecutive-datestamp-diff"],i.minActiveInterval=i.maxXAxisTicks*i.minDatestampDiff,i.containerRight=i.graphics.container.clientLeft+i.graphics.container.clientWidth,i.containerBottom=i.graphics.container.clientTop+i.graphics.container.clientHeight}},{key:"startDate",get:function(){return this.startDt},set:function(t){var e=this.getTimestamp(t),o=this.getDate(this.startDt),r=this.globalReactiveModel.model["x-axis-absolute-range-start"],a=this.globalReactiveModel.model["x-axis-absolute-range-end"],i=this.minActiveInterval,n=this.endDt-e;o!==t?this.isBetween(e,r,a,"from")&&this.isBeforeOrEqualTo(e,this.endDt,"from")&&this.diffIsGreaterThan(n,i,"from")?(this.startDt=e,this.globalReactiveModel.model["x-axis-visible-range-start"]=this.startDt):(this.fromDate.setState("errored"),this.fromDate.state="errored"):"errored"===this.fromDate.state&&(this.fromDate.removeState("errored"),this.fromDate.state="enabled")}},{key:"endDate",get:function(){return this.endDt},set:function(t){var e=this.getTimestamp(t),o=this.getDate(this.endDt),r=this.globalReactiveModel.model["x-axis-absolute-range-start"],a=this.globalReactiveModel.model["x-axis-absolute-range-end"],i=this.minActiveInterval,n=e-this.startDt;o!==t?this.isBetween(e,r,a,"to")&&this.isAfterOrEqualTo(e,this.startDt,"to")&&this.diffIsGreaterThan(n,i,"to")?(this.endDt=e,this.globalReactiveModel.model["x-axis-visible-range-end"]=this.endDt):(this.toDate.setState("errored"),this.toDate.state="errored"):"errored"===this.toDate.state&&(this.toDate.removeState("errored"),this.toDate.state="enabled")}}]),e}();return e}}]);
//# sourceMappingURL=date-range-chooser-es5.min.js.map