!function(t){function e(r){if(o[r])return o[r].exports;var i=o[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var o={};return e.m=t,e.c=o,e.p="",e(0)}([function(t,e,o){(function(t){"use strict";var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=o(2);!function(o,r){"object"===e(t)&&t.exports?t.exports=o.document?r(o):function(t){if(!t.document)throw new Error("Window with document not present");return r(t,!0)}:o.DateRangeChooser=r(o,!0)}("undefined"!=typeof window?window:void 0,function(t,e){var o=t.FusionCharts;o.register("extension",["private","date-range-chooser",function(){var t=this.hcLib.DateTimeFormatter;o.registerComponent("extensions","date-range-chooser",r({FusionCharts:o,DateTimeFormatter:t}))}])})}).call(e,o(1)(t))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,e){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function(){function t(t,e){for(var o=0;o<e.length;o++){var r=e[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,o,r){return o&&t(e.prototype,o),r&&t(e,r),e}}();t.exports=function(t){var e=function(){function e(){if(o(this,e),this.startDt=0,this.endDt=0,this.startDataset=0,this.endDataset=0,"function"!=typeof t.FusionCharts)throw new Error("Unable to find FusionCharts.");if(this.toolbox=t.FusionCharts.getComponent("api","toolbox"),"function"!=typeof t.FusionCharts)throw new Error("Unable to find DateTimeFormatter.");this.DateTimeFormatter=t.DateTimeFormatter,this.HorizontalToolbar=this.toolbox.HorizontalToolbar,this.ComponentGroup=this.toolbox.ComponentGroup,this.isDrawn=!1,this.startTooltipErrorMsg="",this.endTooltipErrorMsg="",this.createObjectAssign()}return r(e,[{key:"isBeforeOrEqualTo",value:function(t,e,o){return t<=e||(this.startTooltipErrorMsg='<span style="color: '+this.config.styles["input-error-tooltip-font-color"]+'">Date must be less than end date!</span>',"from"===o&&this.setErrorMsg(this.fromError,"Date must be less than end date!"),!1)}},{key:"isAfterOrEqualTo",value:function(t,e,o){return t>=e||(this.endTooltipErrorMsg='<span style="color: '+this.config.styles["input-error-tooltip-font-color"]+'">Date must be greater than start date!</span>',"to"===o&&this.setErrorMsg(this.toError,"Date must be greater than start date!"),!1)}},{key:"isBetween",value:function(t,e,o,r){return t>=e&&t<=o||(this.startTooltipErrorMsg=this.endTooltipErrorMsg='<span style="color: '+this.config.styles["input-error-tooltip-font-color"]+'">Date out of bounds!</span>',"from"===r?this.setErrorMsg(this.fromError,"Date out of bounds!"):"to"===r&&this.setErrorMsg(this.toError,"Date out of bounds!"),!1)}},{key:"diffIsGreaterThan",value:function(t,e,o){return t>e||(this.startTooltipErrorMsg=this.endTooltipErrorMsg='<span style="color: '+this.config.styles["input-error-tooltip-font-color"]+'">Zoom limit exceeded!</span>',"from"===o?this.setErrorMsg(this.fromError,"Zoom limit exceeded!"):"to"===o&&this.setErrorMsg(this.toError,"Zoom limit exceeded!"),!1)}},{key:"getTimestamp",value:function(e){var o=this.config.dateFormat,r=new t.DateTimeFormatter(o);return+r.getNativeDate(e)}},{key:"getDate",value:function(t){var e=this.config.dateFormat;return this.DateTimeFormatter.formatAs(t,e)}},{key:"setConfig",value:function(t){}},{key:"getConfig",value:function(){return{calendarVisible:"false"}}},{key:"createConfig",value:function(t){var e={},o={width:120,height:22,"font-family":'"Lucida Grande", sans-serif',"font-size":13,"font-color":"#4B4B4B","input-fill":"#FFFFFF","input-border-thickness":1,"input-border-color":"#CED5D4","input-border-radius":1,"input-shadow-fill":"#000000","input-shadow-opacity":.35,"input-focus-fill":"#FFFFFF","input-focus-border-thickness":1,"input-focus-border-color":"#1E1F1F","input-error-fill":"#FFEFEF","input-error-border-thickness":1,"input-error-border-color":"#D25353","input-error-tooltip-font-color":"#FF0000"};return e.disabled=t.disabled||!1,e.layout=t.layout||"inline",e.orientation=t.orientation||"horizontal",e.position=t.position||"top",e.alignment=t.alignment||"right",e.dateFormat=t.dateFormat||"%d-%m-%Y",e.fromText=t.fromText||"From:",e.fromTooltipText=t.fromTooltipText||"From Date",e.toText=t.toText||"To:",e.toTooltipText=t.toTooltipText||"To Date",e.styles=Object.assign(o,t.styles),e}},{key:"createErrorGroup",value:function(t){var e=this,o=e.graphics.paper,r=void 0,i=void 0,s=void 0,n=void 0,a=void 0,l=void 0,c=void 0,h=void 0,f=void 0,u=void 0,d=e.config.orientation,g=e.config.position;return"horizontal"===d?"top"===g?(u=t.getBoundElement().getBBox(),l=o.group("error-group"),n=o.rect(u.x,u.y-u.height,20,20,l),f=n.getBBox(),r=o.circle(f.x+5+1,f.y+6+4,6,l),h=r.getBBox(),i=this.getCrossPath(h,4),s=o.path(i,l),a=o.text(h.x+h.width+4,f.y+2,"",l),c=a.getBBox()):"bottom"===g&&(u=t.getBoundElement().getBBox(),l=o.group("error-group"),n=o.rect(u.x,u.y+u.height,20,20,l),f=n.getBBox(),r=o.circle(f.x+5+1,f.y+6+4,6,l),h=r.getBBox(),i=this.getCrossPath(h,4),s=o.path(i,l),a=o.text(h.x+h.width+4,f.y+2,"",l),c=a.getBBox()):"vertical"===d&&(u=t.getBoundElement().getBBox(),l=o.group("error-group"),n=o.rect(u.x,u.y+u.height,20,20,l),f=n.getBBox(),r=o.circle(f.x+5+1,f.y+6+4,6,l),h=r.getBBox(),i=this.getCrossPath(h,4),s=o.path(i,l),a=o.text(h.x+h.width+4,f.y+2,"",l),c=a.getBBox()),r.attr({stroke:"#d71f26","stroke-width":"1",fill:"none"}),s.attr({stroke:"#000000","stroke-width":"1.5"}),a.attr({"text-anchor":"start",y:c.y+c.height,fill:"#D80000","font-family":'"Lucida Grande", sans-serif',"font-size":"12"}),n.attr({fill:"#FFFFFF","fill-opacity":"0.8","stroke-width":"0",width:c.width+h.width}),l.attr({visibility:"hidden"}),{group:l,cross:s,circle:r,rect:n,text:a}}},{key:"getCrossPath",value:function(t,e){var o=Math.round(t.x),r=Math.round(t.y),i=Math.round(t.x2),s=Math.round(t.y2),n=o+4,a=r+2,l=i-4,c=s-3,h="M"+n+","+a+"L"+l+","+c;return h+="M"+n+","+c+"L"+l+","+a}},{key:"setErrorMsg",value:function(t,e){var o=void 0,r=void 0,i=void 0;if(t.text.attr("text")!==e&&(t.text.attr("text",e),t.rect.attr("width",t.text.getBBox().width+8+t.circle.getBBox().width+2),o=t.rect.getBBox().x,r=t.rect.getBBox().width,i=o+r,console.log(i,this.containerRight),i>this.containerRight)){var s=i-this.containerRight;t.rect.attr("x",o-s),t.circle.attr("cx",t.circle.getBBox().x-s+5),t.cross.translate(-s-1,0),t.text.attr("x",t.text.getBBox().x-s)}}},{key:"createObjectAssign",value:function(){"function"!=typeof Object.assign&&(Object.assign=function(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var o=Object(t),r=1;r<arguments.length;r++){var i=arguments[r];if(null!=i)for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(o[s]=i[s])}return o})}},{key:"init",value:function(t){var e=this;return t(["xAxis","graphics","chart","dataset","globalReactiveModel","spaceManagerInstance","extData","smartLabel","chartInstance",function(t,o,r,i,s,n,a,l,c){e.xAxis=t,e.graphics=o,e.chart=r,e.dataset=i,e.globalReactiveModel=s,e.spaceManagerInstance=n,e.config=e.createConfig(a),e.smartLabel=l,e.chartInstance=c}]),e.startDt=e.globalReactiveModel.model["x-axis-visible-range-start"],e.endDt=e.globalReactiveModel.model["x-axis-visible-range-end"],e.toolbars=[],e.measurement={},e.toolbars.push(e.createToolbar()),e}},{key:"createToolbar",value:function(){var t,e,o,r,i,s,n,a=this,l={},c={};return a.fromDate={},a.toDate={},s=this.getDate(this.startDt),n=this.getDate(this.endDt),t=new this.HorizontalToolbar({paper:this.graphics.paper,chart:this.chart,smartLabel:this.smartLabel,chartContainer:this.graphics.container}),t.setConfig({fill:"#FFFFFF",borderThickness:0}),r=new this.toolbox.ComponentGroup({paper:this.graphics.paper,chart:this.chart,smartLabel:this.smartLabel,chartContainer:this.graphics.container}),i=new this.toolbox.ComponentGroup({paper:this.graphics.paper,chart:this.chart,smartLabel:this.smartLabel,chartContainer:this.graphics.container}),r.setConfig({fill:"#FFFFFF",borderThickness:0}),i.setConfig({fill:"#FFFFFF",borderThickness:0}),e=new this.toolbox.Label(this.config.fromText,{smartLabel:this.smartLabel,paper:this.graphics.paper},{text:{style:{"font-size":this.config.styles["font-size"],"font-family":this.config.styles["font-family"],fill:this.config.styles["font-color"]}},container:{width:40}}),o=new this.toolbox.Label(this.config.toText,{smartLabel:this.smartLabel,paper:this.graphics.paper},{text:{style:{"font-size":this.config.styles["font-size"],"font-family":this.config.styles["font-family"],fill:this.config.styles["font-color"],"text-anchor":"start"}},container:{width:40}}),a.fromDate=new this.toolbox.InputTextBoxSymbol({width:this.config.styles.width,height:this.config.styles.height},{paper:this.graphics.paper,chart:this.chart,smartLabel:this.smartLabel,chartContainer:this.graphics.container},{strokeWidth:this.config.styles["input-border-thickness"],fill:this.config.styles["input-fill"],stroke:this.config.styles["input-border-color"],radius:this.config.styles["input-border-radius"],btnTextStyle:{fontFamily:this.config.styles["font-family"],fontSize:this.config.styles["font-size"]},shadow:{fill:this.config.styles["input-shadow-fill"],opacity:this.config.styles["input-shadow-opacity"]},label:s,labelFill:this.config.styles["font-color"]}),a.fromDate.addCustomState("errored",{config:{hover:{fill:this.config.styles["input-error-fill"],"stroke-width":this.config.styles["input-error-border-thickness"],stroke:this.config.styles["input-error-border-color"]},normal:{fill:this.config.styles["input-error-fill"],"stroke-width":this.config.styles["input-error-border-thickness"],stroke:this.config.styles["input-error-border-color"]},pressed:{fill:this.config.styles["input-error-fill"],"stroke-width":this.config.styles["input-error-border-thickness"],stroke:this.config.styles["input-error-border-color"]}}}),a.fromDate.setStateConfig({pressed:{config:{pressed:{fill:this.config.styles["input-focus-fill"],"stroke-width":this.config.styles["input-focus-border-thickness"],stroke:this.config.styles["input-focus-border-color"]},normal:{fill:this.config.styles["input-focus-fill"],"stroke-width":this.config.styles["input-focus-border-thickness"],stroke:this.config.styles["input-focus-border-color"]},hover:{fill:this.config.styles["input-focus-fill"],"stroke-width":this.config.styles["input-focus-border-thickness"],stroke:this.config.styles["input-focus-border-color"]}}},enabled:{config:{pressed:{fill:this.config.styles["input-fill"],"stroke-width":this.config.styles["input-border-thickness"],stroke:this.config.styles["input-border-color"]},normal:{fill:this.config.styles["input-fill"],"stroke-width":this.config.styles["input-border-thickness"],stroke:this.config.styles["input-border-color"]},hover:{fill:this.config.styles["input-fill"],"stroke-width":this.config.styles["input-border-thickness"],stroke:this.config.styles["input-border-color"]}}}}),a.toDate=new this.toolbox.InputTextBoxSymbol({width:this.config.styles.width,height:this.config.styles.height},{paper:this.graphics.paper,chart:this.chart,smartLabel:this.smartLabel,chartContainer:this.graphics.container},{strokeWidth:this.config.styles["input-border-thickness"],fill:this.config.styles["input-fill"],stroke:this.config.styles["input-border-color"],radius:this.config.styles["input-border-radius"],btnTextStyle:{fontFamily:this.config.styles["font-family"],fontSize:this.config.styles["font-size"]},shadow:{fill:this.config.styles["input-shadow-fill"],opacity:this.config.styles["input-shadow-opacity"]},label:n,labelFill:this.config.styles["font-color"]}),a.toDate.addCustomState("errored",{config:{hover:{fill:this.config.styles["input-error-fill"],"stroke-width":this.config.styles["input-error-border-thickness"],stroke:this.config.styles["input-error-border-color"]},normal:{fill:this.config.styles["input-error-fill"],"stroke-width":this.config.styles["input-error-border-thickness"],stroke:this.config.styles["input-error-border-color"]},pressed:{fill:this.config.styles["input-error-fill"],"stroke-width":this.config.styles["input-error-border-thickness"],stroke:this.config.styles["input-error-border-color"]}}}),a.toDate.setStateConfig({pressed:{config:{pressed:{fill:this.config.styles["input-focus-fill"],"stroke-width":this.config.styles["input-focus-border-thickness"],stroke:this.config.styles["input-focus-border-color"]},normal:{fill:this.config.styles["input-focus-fill"],"stroke-width":this.config.styles["input-focus-border-thickness"],stroke:this.config.styles["input-focus-border-color"]},hover:{fill:this.config.styles["input-focus-fill"],"stroke-width":this.config.styles["input-focus-border-thickness"],stroke:this.config.styles["input-focus-border-color"]}},enabled:{config:{pressed:{fill:this.config.styles["input-fill"],"stroke-width":this.config.styles["input-border-thickness"],stroke:this.config.styles["input-border-color"]},normal:{fill:this.config.styles["input-fill"],"stroke-width":this.config.styles["input-border-thickness"],stroke:this.config.styles["input-border-color"]},hover:{fill:this.config.styles["input-fill"],"stroke-width":this.config.styles["input-border-thickness"],stroke:this.config.styles["input-border-color"]}}}}}),l={click:{fn:function(){"errored"===a.fromDate.state&&""!==a.fromError.text.attr("text")&&(a.toError.group.hide(),a.fromError.group.show()),a.fromDate.edit(),a.fromDate.updateVisual("pressed")}},keypress:function(t){var e=t||window.event,o=e.which||e.keyCode;13===o&&(a.startDate=a.fromDate.getText(),"errored"!==a.fromDate.state?(a.fromDate.blur(),a.fromError.group.hide(),a.fromDate.updateVisual("enabled")):a.fromError.group.show())},textOnBlur:function(){a.fromDate.blur(),a.startDate=a.fromDate.getText(),"errored"!==a.fromDate.state?(a.fromDate.blur(),a.fromError.group.hide(),a.fromDate.updateVisual("enabled")):a.fromError.group.show()}},a.fromDate.attachEventHandlers(l),c={click:{fn:function(){"errored"===a.toDate.state&&""!==a.toError.text.attr("text")&&(a.fromError.group.hide(),a.toError.group.show()),a.toDate.edit(),a.toDate.updateVisual("pressed")}},keypress:function(t){var e=t||window.event,o=e.which||e.keyCode;13===o&&(a.endDate=a.toDate.getText(),"errored"!==a.toDate.state?(a.toDate.blur(),a.toError.group.hide(),a.toDate.updateVisual("enabled")):a.toError.group.show())},textOnBlur:function(){a.toDate.blur(),a.endDate=a.toDate.getText(),"errored"!==a.toDate.state?(a.toDate.blur(),a.toError.group.hide(),a.toDate.updateVisual("enabled")):a.toError.group.show()}},a.toDate.attachEventHandlers(c),r.addSymbol(e),r.addSymbol(a.fromDate),i.addSymbol(o),i.addSymbol(a.toDate),t.addComponent(r),t.addComponent(i),t}},{key:"getLogicalSpace",value:function(t,e){var o=this.toolbars[0].getLogicalSpace(t,e);return this.toolbars[0].width=o.width,this.toolbars[0].height=o.height,{width:o.width,height:o.height}}},{key:"placeInCanvas",value:function(){var t=this;t.spaceManagerInstance.add([{name:function(){return"DateRangeChooserToolbox"},ref:function(t){return t[0]},self:function(){return t},priority:function(){return 2},layout:function(e){return e[t.config.layout]},orientation:[{type:function(e){return e[t.config.orientation]},position:[{type:function(e){return e[t.config.position]},alignment:[{type:function(e){return e[t.config.alignment]},dimensions:[function(){var e=this.getParentComponentGroup();return t.getLogicalSpace(e.getWidth(),e.getHeight())}]}]}]}]}])}},{key:"setDrawingConfiguration",value:function(t,e,o,r,i){var s=this.measurement;return s.x=t,s.y=e,s.width=o,s.height=r,this.parentGroup=i,this}},{key:"draw",value:function(t,e,o,r,i){var s=this,n=s.measurement,a=s.toolbars,l=void 0,c=void 0,h=void 0,f=s.globalReactiveModel;if(t=void 0===t?n.x:t,e=void 0===e?n.y:e,o=void 0===o?n.width:o,r=void 0===r?n.height:r,i=void 0===i?s.parentGroup:i,o&&r){for(s.isDrawn=!0,c=0,l=a.length;c<l;c++)h=a[c],h.draw(t,e,i);f.onPropsChange(["x-axis-visible-range-start","x-axis-visible-range-end"],function(t,e){s.startDt=t[1],s.fromDate.blur(s.getDate(t[1])),s.fromError.text.attr("text",""),s.fromError.group.hide(),s.fromDate.updateVisual("enabled"),s.endDt=e[1],s.toDate.blur(s.getDate(e[1])),s.toError.text.attr("text",""),s.toError.group.hide(),s.toDate.updateVisual("enabled")})}"vertical"===s.config.orientation?(s.fromError=s.createErrorGroup(s.toDate),s.toError=s.createErrorGroup(s.toDate)):"horizontal"===s.config.orientation&&(s.fromError=s.createErrorGroup(s.fromDate),s.toError=s.createErrorGroup(s.toDate)),s.startDataset=s.globalReactiveModel.model["x-axis-absolute-range-start"],s.endDataset=s.globalReactiveModel.model["x-axis-absolute-range-end"],s.maxXAxisTicks=s.globalReactiveModel.model["x-axis-maximum-allowed-ticks"],s.maxXAxisTicks=s.globalReactiveModel.model["x-axis-maximum-allowed-ticks"],s.minDatestampDiff=s.globalReactiveModel.model["minimum-consecutive-datestamp-diff"],s.minActiveInterval=s.maxXAxisTicks*s.minDatestampDiff,s.containerRight=s.graphics.container.clientLeft+s.graphics.container.clientWidth,s.containerBottom=s.graphics.container.clientTop+s.graphics.container.clientHeight}},{key:"startDate",get:function(){return this.startDt},set:function(t){var e=this.getTimestamp(t),o=this.getDate(this.startDt),r=this.globalReactiveModel.model["x-axis-absolute-range-start"],i=this.globalReactiveModel.model["x-axis-absolute-range-end"],s=this.minActiveInterval,n=this.endDt-e;o!==t?this.isBetween(e,r,i,"from")&&this.isBeforeOrEqualTo(e,this.endDt,"from")&&this.diffIsGreaterThan(n,s,"from")?(this.startDt=e,this.globalReactiveModel.model["x-axis-visible-range-start"]=this.startDt):(this.toError.group.hide(),this.fromDate.updateVisual("errored")):"errored"===this.fromDate.state&&this.fromDate.updateVisual("enabled")}},{key:"endDate",get:function(){return this.endDt},set:function(t){var e=this.getTimestamp(t),o=this.getDate(this.endDt),r=this.globalReactiveModel.model["x-axis-absolute-range-start"],i=this.globalReactiveModel.model["x-axis-absolute-range-end"],s=this.minActiveInterval,n=e-this.startDt;o!==t?this.isBetween(e,r,i,"to")&&this.isAfterOrEqualTo(e,this.startDt,"to")&&this.diffIsGreaterThan(n,s,"to")?(this.endDt=e,this.globalReactiveModel.model["x-axis-visible-range-end"]=this.endDt):(this.fromError.group.hide(),this.toDate.updateVisual("errored")):"errored"===this.toDate.state&&this.toDate.updateVisual("enabled")}}]),e}();return e}}]);
//# sourceMappingURL=date-range-chooser-es5.min.js.map