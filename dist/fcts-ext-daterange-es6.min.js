(function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId]){return installedModules[moduleId].exports}var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:false };modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.loaded=true;return module.exports;}__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.p="";return __webpack_require__(0);})([function(module,exports,__webpack_require__){module.exports=__webpack_require__(1);},function(module,exports,__webpack_require__){'use strict';const DateRange=__webpack_require__(2);;(function(factory){factory(FusionCharts)})(function(FC){FusionCharts.register('extension',['date-range-chooser',function(id){var global=this;var extAPI=global.extAPI;window.dr=new DateRange();extAPI(window.dr)}])});},function(module,exports,__webpack_require__){'use strict';var StartDateInput=__webpack_require__(3);var EndDateInput=__webpack_require__(5);var FusionCharts=__webpack_require__(6);class DateRange{constructor(){this.dateRange={startDate:0,endDate:0};this.startText={attr:function(){}};this.endText={attr:function(){}}}get range(){return this.dateRange}set range(range){if(range.startDate<=range.endDate){this.dateRange.startDate=range.startDate;var formattedStartDate=this.getFormattedDate(range.startDate);this.startText.attr('text',formattedStartDate);this.dateRange.endDate=range.endDate;var formattedEndDate=this.getFormattedDate(range.endDate);this.endText.attr('text',formattedEndDate);var sdi=new StartDateInput();sdi.timestamp=this.dateRange.startDate;var edi=new EndDateInput();edi.timestamp=this.dateRange.endDate}}init(require){var self=this;if(typeof require==='function'){require('X-Axis','Y-Axis','graphics','chart',function(x,y,graphics,chart){self.x=x;self.y=y;self.paper=graphics;self.chart=chart})}else{self.chart=new FusionCharts()}}placeInCanvas(){this.range={startDate:12,endDate:23}}draw(){var paper=this.paper;var range=this.range;var startLabel=paper.text(20,22,'From: ');startLabel.attr('font-family','sans-serif');startLabel.attr('fill','#000');var startRect=paper.rect(50,10,90,25);startRect.attr('stroke','#000');this.startText=paper.text(95,22,this.getFormattedDate(range.startDate));this.startText.attr('font-family','sans-serif');this.startText.attr('fill','#000');var endLabel=paper.text(170,22,'To: ');endLabel.attr('font-family','sans-serif');endLabel.attr('fill','#000');var endRect=paper.rect(190,10,90,25);endRect.attr('stroke','#000');this.endText=paper.text(235,22,this.getFormattedDate(range.endDate));this.endText.attr('font-family','sans-serif');this.endText.attr('fill','#000')}dispose(){}swapDates(){let temp=this.dateRange.startDate;this.dateRange.startDate=this.dateRange.endDate;this.dateRange.endDate=temp}syncRange(){}getFormattedDate(timestamp){return this.chart.getFormattedDate(timestamp)}getTimestamp(dateString){return this.chart.getTimestamp(dateString)}setConfig(configObj){}getConfig(){return{calendarVisible:'false'}}}module.exports=DateRange;},function(module,exports,__webpack_require__){'use strict';const DateInput=__webpack_require__(4);class StartDateInput extends DateInput{validateDate(timestamp){return true}}module.exports=StartDateInput;},function(module,exports){'use strict';class DateInput{constructor(){this.timestamp=0}get date(){return this.timestamp}set date(ms){this.timestamp=ms}displayDate(){}}module.exports=DateInput;},function(module,exports,__webpack_require__){'use strict';const DateInput=__webpack_require__(4);class EndDateInput extends DateInput{validateDate(timestamp){return true}}module.exports=EndDateInput;},function(module,exports){'use strict';var FusionCharts=function(){};FusionCharts.register=function(ext,arr){var fn=arr[1];fn.bind(this,565)()};FusionCharts.prototype.getFormattedDate=function(timestamp){return new Date(timestamp).toLocaleDateString()};FusionCharts.prototype.getTimestamp=function(date){var dt=new Date(date);return+new Date(dt.toLocaleDateString())};FusionCharts.getComponent=function(componentType,componentName){var toolBox={x:24,y:56,width:100,height:20,index:4};if(componentType==='api'&&componentName==='toolbox'){return toolBox}return null};FusionCharts.extAPI=function(obj){obj.init(function(){var argsToApply=[];var cb=arguments[arguments.length-1];for(var i=0;i<arguments.length-1;i+=1){if(arguments[i]==='X-Axis'){argsToApply.push(156772)}else if(arguments[i]==='Y-Axis'){argsToApply.push(156765)}else if(arguments[i]==='graphics'){var paper=Raphael(10,50,500,500);argsToApply.push(paper)}else if(arguments[i]==='chart'){argsToApply.push(new FusionCharts())}}cb.apply(this,argsToApply)});obj.placeInCanvas();obj.draw();obj.dispose()};if(typeof module!=='undefined'&&typeof module.exports!=='undefined'){module.exports=FusionCharts}else{window.FusionCharts=FusionCharts}}]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAgY2VlMmM2ZTFmYjlmY2ZjNTBmNTIiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9mY3RzLWV4dC1kYXRlcmFuZ2UuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2ZjdHMtZXh0LXN0YXJ0ZGF0ZWlucHV0LmpzIiwid2VicGFjazovLy8uL3NyYy9mY3RzLWV4dC1kYXRlaW5wdXQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2ZjdHMtZXh0LWVuZGRhdGVpbnB1dC5qcyIsIndlYnBhY2s6Ly8vLi9saWIvZnVzaW9uY2hhcnRzLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSx1QkFBZTtBQUNmO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOzs7QUFHQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOzs7Ozs7Ozs7Ozs7OztBQ3RDQTtBQUNBOztBQUVBLEVBQUM7QUFDRDtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsSUFBRztBQUNILEVBQUM7Ozs7Ozs7QUNoQkQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWdCLE9BQU87QUFDdkIsaUJBQWdCLE9BQU87QUFDdkIsaUJBQWdCLE9BQU87QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGFBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFPO0FBQ1AsTUFBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsZUFBYyxPQUFPO0FBQ3JCLGVBQWMsT0FBTztBQUNyQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsZUFBYyxPQUFPO0FBQ3JCLGVBQWMsT0FBTztBQUNyQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsY0FBYSxPQUFPO0FBQ3BCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGVBQWMsT0FBTztBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7Ozs7OztBQzVKQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFjLFFBQVE7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7Ozs7OztBQ2xCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBaUIsT0FBTztBQUN4QixtQkFBa0IsT0FBTztBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7Ozs7OztBQ3JDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFjLFFBQVE7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7Ozs7OztBQ2xCQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsb0JBQW1CLDBCQUEwQjtBQUM3QztBQUNBO0FBQ0EsUUFBTztBQUNQO0FBQ0EsUUFBTztBQUNQO0FBQ0E7QUFDQSxRQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFHOztBQUVIOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBIiwiZmlsZSI6ImZjdHMtZXh0LWRhdGVyYW5nZS1lczYubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pXG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG5cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGV4cG9ydHM6IHt9LFxuIFx0XHRcdGlkOiBtb2R1bGVJZCxcbiBcdFx0XHRsb2FkZWQ6IGZhbHNlXG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmxvYWRlZCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiB3ZWJwYWNrL2Jvb3RzdHJhcCBjZWUyYzZlMWZiOWZjZmM1MGY1MlxuICoqLyIsIid1c2Ugc3RyaWN0JztcbmNvbnN0IERhdGVSYW5nZSA9IHJlcXVpcmUoJy4vZmN0cy1leHQtZGF0ZXJhbmdlJyk7XG5cbjsoZnVuY3Rpb24gKGZhY3RvcnkpIHtcbiAgZmFjdG9yeShGdXNpb25DaGFydHMpO1xufSkoZnVuY3Rpb24gKEZDKSB7XG4gIEZ1c2lvbkNoYXJ0cy5yZWdpc3RlcignZXh0ZW5zaW9uJywgWydkYXRlLXJhbmdlLWNob29zZXInLCBmdW5jdGlvbiAoaWQpIHtcbiAgICB2YXIgZ2xvYmFsID0gdGhpcztcbiAgICB2YXIgZXh0QVBJID0gZ2xvYmFsLmV4dEFQSTtcblxuICAgIC8vIHZhciBvdGhlckFQSSA9IEZ1c2lvbkNoYXJ0cy5nZXRFeHRDb21wb25lbnQoaWQsICdhcGknLCAnbGVnYWN5ZXh0YXBpJyk7XG4gICAgLy8gdmFyIHRvb2xCb3hBcGkgPSBGdXNpb25DaGFydHMuZ2V0Q29tcG9uZW50KCdhcGknLCAndG9vbGJveCcpO1xuXG4gICAgd2luZG93LmRyID0gbmV3IERhdGVSYW5nZSgpO1xuICAgIGV4dEFQSSh3aW5kb3cuZHIpO1xuICB9XSk7XG59KTtcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9zcmMvaW5kZXguanNcbiAqKiBtb2R1bGUgaWQgPSAxXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIndXNlIHN0cmljdCc7XG52YXIgU3RhcnREYXRlSW5wdXQgPSByZXF1aXJlKCcuL2ZjdHMtZXh0LXN0YXJ0ZGF0ZWlucHV0Jyk7XG52YXIgRW5kRGF0ZUlucHV0ID0gcmVxdWlyZSgnLi9mY3RzLWV4dC1lbmRkYXRlaW5wdXQnKTtcbnZhciBGdXNpb25DaGFydHMgPSByZXF1aXJlKCcuLi9saWIvZnVzaW9uY2hhcnRzJyk7XG5cbi8qKlxuICogQ2xhc3MgcmVwcmVzZW50aW5nIHRoZSBEYXRlUmFuZ2UuXG4gKi9cbmNsYXNzIERhdGVSYW5nZSB7XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBEYXRlUmFuZ2UuXG4gICAqIEB0eXBlZGVmICB7b2JqZWN0fSBEYXRlUmFuZ2UucmFuZ2VcbiAgICogQHByb3BlcnR5IHtudW1iZXJ9IHN0YXJ0RGF0ZSAtIFRoZSBzdGFydCBkYXRlIG9mIHRoZSBkYXRlIHJhbmdlLlxuICAgKiBAcHJvcGVydHkge251bWJlcn0gZW5kRGF0ZSAgIC0gVGhlIGVuZCBkYXRlIG9mIHRoZSBkYXRlIHJhbmdlLlxuICAgKi9cbiAgY29uc3RydWN0b3IgKCkge1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5kYXRlUmFuZ2UgPSB7XG4gICAgICBzdGFydERhdGU6IDAsXG4gICAgICBlbmREYXRlOiAwXG4gICAgfTtcbiAgICB0aGlzLnN0YXJ0VGV4dCA9IHtcbiAgICAgIGF0dHI6IGZ1bmN0aW9uICgpIHt9XG4gICAgfTtcbiAgICB0aGlzLmVuZFRleHQgPSB7XG4gICAgICBhdHRyOiBmdW5jdGlvbiAoKSB7fVxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogQW4gb2JqZWN0IHJlcHJlc2VudGluZyB0aGUgc3RhcnQgYW5kIGVuZCBkYXRlcy5cbiAgICogQHR5cGUge0RhdGVSYW5nZS5yYW5nZX1cbiAgICovXG4gIGdldCByYW5nZSAoKSB7XG4gICAgcmV0dXJuIHRoaXMuZGF0ZVJhbmdlO1xuICB9XG5cbiAgc2V0IHJhbmdlIChyYW5nZSkge1xuICAgIGlmIChyYW5nZS5zdGFydERhdGUgPD0gcmFuZ2UuZW5kRGF0ZSkge1xuICAgICAgdGhpcy5kYXRlUmFuZ2Uuc3RhcnREYXRlID0gcmFuZ2Uuc3RhcnREYXRlO1xuICAgICAgdmFyIGZvcm1hdHRlZFN0YXJ0RGF0ZSA9IHRoaXMuZ2V0Rm9ybWF0dGVkRGF0ZShyYW5nZS5zdGFydERhdGUpO1xuICAgICAgdGhpcy5zdGFydFRleHQuYXR0cigndGV4dCcsIGZvcm1hdHRlZFN0YXJ0RGF0ZSk7XG5cbiAgICAgIHRoaXMuZGF0ZVJhbmdlLmVuZERhdGUgPSByYW5nZS5lbmREYXRlO1xuICAgICAgdmFyIGZvcm1hdHRlZEVuZERhdGUgPSB0aGlzLmdldEZvcm1hdHRlZERhdGUocmFuZ2UuZW5kRGF0ZSk7XG4gICAgICB0aGlzLmVuZFRleHQuYXR0cigndGV4dCcsIGZvcm1hdHRlZEVuZERhdGUpO1xuXG4gICAgICB2YXIgc2RpID0gbmV3IFN0YXJ0RGF0ZUlucHV0KCk7XG4gICAgICBzZGkudGltZXN0YW1wID0gdGhpcy5kYXRlUmFuZ2Uuc3RhcnREYXRlO1xuXG4gICAgICB2YXIgZWRpID0gbmV3IEVuZERhdGVJbnB1dCgpO1xuICAgICAgZWRpLnRpbWVzdGFtcCA9IHRoaXMuZGF0ZVJhbmdlLmVuZERhdGU7XG4gICAgfVxuICB9XG5cbiAgaW5pdCAocmVxdWlyZSkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICBpZiAodHlwZW9mIHJlcXVpcmUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJlcXVpcmUoJ1gtQXhpcycsICdZLUF4aXMnLCAnZ3JhcGhpY3MnLCAnY2hhcnQnLCBmdW5jdGlvbiAoeCwgeSwgZ3JhcGhpY3MsIGNoYXJ0KSB7XG4gICAgICAgIHNlbGYueCA9IHg7XG4gICAgICAgIHNlbGYueSA9IHk7XG4gICAgICAgIHNlbGYucGFwZXIgPSBncmFwaGljcztcbiAgICAgICAgc2VsZi5jaGFydCA9IGNoYXJ0O1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNlbGYuY2hhcnQgPSBuZXcgRnVzaW9uQ2hhcnRzKCk7XG4gICAgfVxuICB9XG5cbiAgcGxhY2VJbkNhbnZhcyAoKSB7XG4gICAgdGhpcy5yYW5nZSA9IHtcbiAgICAgIHN0YXJ0RGF0ZTogMTIsXG4gICAgICBlbmREYXRlOiAyM1xuICAgIH07XG4gIH1cblxuICBkcmF3ICgpIHtcbiAgICB2YXIgcGFwZXIgPSB0aGlzLnBhcGVyO1xuICAgIHZhciByYW5nZSA9IHRoaXMucmFuZ2U7XG5cbiAgICB2YXIgc3RhcnRMYWJlbCA9IHBhcGVyLnRleHQoMjAsIDIyLCAnRnJvbTogJyk7XG4gICAgc3RhcnRMYWJlbC5hdHRyKCdmb250LWZhbWlseScsICdzYW5zLXNlcmlmJyk7XG4gICAgc3RhcnRMYWJlbC5hdHRyKCdmaWxsJywgJyMwMDAnKTtcbiAgICB2YXIgc3RhcnRSZWN0ID0gcGFwZXIucmVjdCg1MCwgMTAsIDkwLCAyNSk7XG4gICAgc3RhcnRSZWN0LmF0dHIoJ3N0cm9rZScsICcjMDAwJyk7XG4gICAgdGhpcy5zdGFydFRleHQgPSBwYXBlci50ZXh0KDk1LCAyMiwgdGhpcy5nZXRGb3JtYXR0ZWREYXRlKHJhbmdlLnN0YXJ0RGF0ZSkpO1xuICAgIHRoaXMuc3RhcnRUZXh0LmF0dHIoJ2ZvbnQtZmFtaWx5JywgJ3NhbnMtc2VyaWYnKTtcbiAgICB0aGlzLnN0YXJ0VGV4dC5hdHRyKCdmaWxsJywgJyMwMDAnKTtcblxuICAgIHZhciBlbmRMYWJlbCA9IHBhcGVyLnRleHQoMTcwLCAyMiwgJ1RvOiAnKTtcbiAgICBlbmRMYWJlbC5hdHRyKCdmb250LWZhbWlseScsICdzYW5zLXNlcmlmJyk7XG4gICAgZW5kTGFiZWwuYXR0cignZmlsbCcsICcjMDAwJyk7XG4gICAgdmFyIGVuZFJlY3QgPSBwYXBlci5yZWN0KDE5MCwgMTAsIDkwLCAyNSk7XG4gICAgZW5kUmVjdC5hdHRyKCdzdHJva2UnLCAnIzAwMCcpO1xuICAgIHRoaXMuZW5kVGV4dCA9IHBhcGVyLnRleHQoMjM1LCAyMiwgdGhpcy5nZXRGb3JtYXR0ZWREYXRlKHJhbmdlLmVuZERhdGUpKTtcbiAgICB0aGlzLmVuZFRleHQuYXR0cignZm9udC1mYW1pbHknLCAnc2Fucy1zZXJpZicpO1xuICAgIHRoaXMuZW5kVGV4dC5hdHRyKCdmaWxsJywgJyMwMDAnKTtcbiAgfVxuXG4gIGRpc3Bvc2UgKCkge1xuICAgIC8vIFRPRE86IGRpc3Bvc2UgZXh0ZW5zaW9uXG4gIH1cblxuICAvKipcbiAgICogU3dhcHMgdGhlIHN0YXJ0IGRhdGUgYW5kIHRoZSBlbmQgZGF0ZSBvZiB0aGUgZGF0ZSByYW5nZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgc3dhcERhdGVzICgpIHtcbiAgICBsZXQgdGVtcCA9IHRoaXMuZGF0ZVJhbmdlLnN0YXJ0RGF0ZTtcbiAgICB0aGlzLmRhdGVSYW5nZS5zdGFydERhdGUgPSB0aGlzLmRhdGVSYW5nZS5lbmREYXRlO1xuICAgIHRoaXMuZGF0ZVJhbmdlLmVuZERhdGUgPSB0ZW1wO1xuICB9XG5cbiAgLyoqXG4gICAqIFN5bmNzIHRoZSBkYXRlcmFuZ2Ugc2hvd24gYnkgdGhlIEZ1c2lvbkNoYXJ0cyB0aW1lIHNlcmllcyBjaGFydCBhbmQgdGhlIERhdGUgUmFuZ2UgQ2hvb3NlclxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgc3luY1JhbmdlICgpIHt9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYSBmb3JtYXR0ZWQgZGF0ZSBzdHJpbmcgZnJvbSBGdXNpb25DaGFydHMgd2hlbiBnaXZlbiBhIFVOSVggdGltZXN0YW1wXG4gICAqIEBwYXJhbSAge251bWJlcn0gdGltZXN0YW1wIC0gQSBVTklYIHRpbWVzdGFtcCB0byBiZSBjb252ZXJ0ZWQgdG8gYSBkYXRlIHN0cmluZ1xuICAgKiBAcmV0dXJuIHtzdHJpbmd9IC0gQSBkYXRlIHN0cmluZyB3aGljaCBpcyBlcXVpdmFsZW50IHRvIHRoZSBnaXZlbiB0aW1lc3RhbXBcbiAgICovXG4gIGdldEZvcm1hdHRlZERhdGUgKHRpbWVzdGFtcCkge1xuICAgIHJldHVybiB0aGlzLmNoYXJ0LmdldEZvcm1hdHRlZERhdGUodGltZXN0YW1wKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgVU5JWCB0aW1lc3RhbXAgZnJvbSBGdXNpb25DaGFydHMgd2hlbiBnaXZlbiBhIGZvcm1hdHRlZCBkYXRlIHN0cmluZ1xuICAgKiBAcGFyYW0gIHtzdHJpbmd9IGRhdGVTdHJpbmcgLSBBIGRhdGUgc3RyaW5nIHRvIGJlIGNvbnZlcnRlZCB0byBhIFVOSVggdGltZXN0YW1wXG4gICAqIEByZXR1cm4ge251bWJlcn0gQSBVTklYIHRpbWVzdGFtcCB3aGljaCBpcyBlcXVpdmFsZW50IHRvIHRoZSBnaXZlbiBkYXRlIHN0cmluZ1xuICAgKi9cbiAgZ2V0VGltZXN0YW1wIChkYXRlU3RyaW5nKSB7XG4gICAgcmV0dXJuIHRoaXMuY2hhcnQuZ2V0VGltZXN0YW1wKGRhdGVTdHJpbmcpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIGNvbmZpZ3VyYWJsZSBvcHRpb25zIG9mIHRoZSBleHRlbnNpb24gKGUuZy4gY29zbWV0aWNzKVxuICAgKiBAcGFyYW0ge09iamVjdH0gY29uZmlnT2JqIFRoZSBjb25maWd1cmF0aW9uIG9iamVjdCBjb250YWluaW5nIHZhcmlvdXMgZXh0ZW5zaW9uIG9wdGlvbnNcbiAgICovXG4gIHNldENvbmZpZyAoY29uZmlnT2JqKSB7fVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBjb25maWd1cmFibGUgb3B0aW9ucyBvZiB0aGUgZXh0ZW5zaW9uIChlLmcuIGNvc21ldGljcylcbiAgICogQHJldHVybiB7b2JqZWN0fSBjb25maWdPYmogVGhlIGNvbmZpZ3VyYXRpb24gb2JqZWN0IGNvbnRhaW5pbmcgdmFyaW91cyBleHRlbnNpb24gb3B0aW9uc1xuICAgKi9cbiAgZ2V0Q29uZmlnICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgY2FsZW5kYXJWaXNpYmxlOiAnZmFsc2UnXG4gICAgfTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IERhdGVSYW5nZTtcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9zcmMvZmN0cy1leHQtZGF0ZXJhbmdlLmpzXG4gKiogbW9kdWxlIGlkID0gMlxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuY29uc3QgRGF0ZUlucHV0ID0gcmVxdWlyZSgnLi9mY3RzLWV4dC1kYXRlaW5wdXQnKTtcblxuLyoqXG4gKiBBIGNvbmNyZXRlIHJlcHJlc2VudGF0aW9uIG9mIERhdGVJbnB1dCBmb3IgdGhlIHN0YXJ0IGRhdGUuXG4gKiBAZXh0ZW5kcyBEYXRlSW5wdXRcbiAqIEBwcml2YXRlXG4gKi9cbmNsYXNzIFN0YXJ0RGF0ZUlucHV0IGV4dGVuZHMgRGF0ZUlucHV0IHtcbiAgLyoqXG4gICAqIFZhbGlkYXRlIHRoZSBnaXZlbiB0aW1lc3RhbXBcbiAgICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciB0aGUgZ2l2ZW4gdGltZXN0YW1wIGlzIHZhbGlkIG9yIG5vdFxuICAgKi9cbiAgdmFsaWRhdGVEYXRlICh0aW1lc3RhbXApIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IFN0YXJ0RGF0ZUlucHV0O1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL3NyYy9mY3RzLWV4dC1zdGFydGRhdGVpbnB1dC5qc1xuICoqIG1vZHVsZSBpZCA9IDNcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIid1c2Ugc3RyaWN0Jztcbi8qKlxuICogQ2xhc3MgcmVwcmVzZW50aW5nIGEgYWJzdHJhY3QgRGF0ZUlucHV0LlxuICogQGFic3RyYWN0XG4gKiBAcHJpdmF0ZVxuICovXG5jbGFzcyBEYXRlSW5wdXQge1xuICBjb25zdHJ1Y3RvciAoKSB7XG4gICAgLyoqXG4gICAgICogQHR5cGVkZWYge29iamVjdH0gRGF0ZUlucHV0LmlucHV0XG4gICAgICogQHByb3BlcnR5IHtudW1iZXJ9IHRpbWVzdGFtcCAtIFRoZSBjdXJyZW50IHRpbWUgc2hvd24gb24gdGhlIGRhdGUgaW5wdXQuXG4gICAgICovXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLnRpbWVzdGFtcCA9IDA7XG4gIH1cblxuICAvKipcbiAgICogUmVwcmVzZW50cyB0aGUgbnVtZXJpYyB2YWx1ZSBvZiB0aGUgZGF0ZVxuICAgKiBAdHlwZSBudW1iZXJcbiAgICovXG4gIGdldCBkYXRlICgpIHtcbiAgICByZXR1cm4gdGhpcy50aW1lc3RhbXA7XG4gIH1cblxuICBzZXQgZGF0ZSAobXMpIHtcbiAgICB0aGlzLnRpbWVzdGFtcCA9IG1zO1xuICB9XG5cbiAgLyoqXG4gICAqIERpc3BsYXlzIHRoZSBkYXRlIG9uIHRoZSBkYXRlIGlucHV0XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBkaXNwbGF5RGF0ZSAoKSB7fVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IERhdGVJbnB1dDtcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9zcmMvZmN0cy1leHQtZGF0ZWlucHV0LmpzXG4gKiogbW9kdWxlIGlkID0gNFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuY29uc3QgRGF0ZUlucHV0ID0gcmVxdWlyZSgnLi9mY3RzLWV4dC1kYXRlaW5wdXQnKTtcblxuLyoqXG4gKiBBIGNvbmNyZXRlIHJlcHJlc2VudGF0aW9uIG9mIERhdGVJbnB1dCBmb3IgdGhlIGVuZCBkYXRlLlxuICogQGV4dGVuZHMgRGF0ZUlucHV0XG4gKiBAcHJpdmF0ZVxuICovXG5jbGFzcyBFbmREYXRlSW5wdXQgZXh0ZW5kcyBEYXRlSW5wdXQge1xuICAvKipcbiAgICogVmFsaWRhdGUgdGhlIGdpdmVuIHRpbWVzdGFtcFxuICAgKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIHRoZSBnaXZlbiB0aW1lc3RhbXAgaXMgdmFsaWQgb3Igbm90XG4gICAqL1xuICB2YWxpZGF0ZURhdGUgKHRpbWVzdGFtcCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gRW5kRGF0ZUlucHV0O1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL3NyYy9mY3RzLWV4dC1lbmRkYXRlaW5wdXQuanNcbiAqKiBtb2R1bGUgaWQgPSA1XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIndXNlIHN0cmljdCc7XG52YXIgRnVzaW9uQ2hhcnRzID0gZnVuY3Rpb24gKCkge307XG5cbkZ1c2lvbkNoYXJ0cy5yZWdpc3RlciA9IGZ1bmN0aW9uIChleHQsIGFycikge1xuICAvLyB2YXIgZXh0TmFtZSA9IGFyclswXTtcbiAgdmFyIGZuID0gYXJyWzFdO1xuICBmbi5iaW5kKHRoaXMsIDU2NSkoKTtcbn07XG5cbkZ1c2lvbkNoYXJ0cy5wcm90b3R5cGUuZ2V0Rm9ybWF0dGVkRGF0ZSA9IGZ1bmN0aW9uICh0aW1lc3RhbXApIHtcbiAgcmV0dXJuIG5ldyBEYXRlKHRpbWVzdGFtcCkudG9Mb2NhbGVEYXRlU3RyaW5nKCk7XG59O1xuXG5GdXNpb25DaGFydHMucHJvdG90eXBlLmdldFRpbWVzdGFtcCA9IGZ1bmN0aW9uIChkYXRlKSB7XG4gIHZhciBkdCA9IG5ldyBEYXRlKGRhdGUpO1xuICByZXR1cm4gK25ldyBEYXRlKGR0LnRvTG9jYWxlRGF0ZVN0cmluZygpKTtcbn07XG5cbkZ1c2lvbkNoYXJ0cy5nZXRDb21wb25lbnQgPSBmdW5jdGlvbiAoY29tcG9uZW50VHlwZSwgY29tcG9uZW50TmFtZSkge1xuICB2YXIgdG9vbEJveCA9IHtcbiAgICB4OiAyNCxcbiAgICB5OiA1NixcbiAgICB3aWR0aDogMTAwLFxuICAgIGhlaWdodDogMjAsXG4gICAgaW5kZXg6IDRcbiAgfTtcblxuICBpZiAoY29tcG9uZW50VHlwZSA9PT0gJ2FwaScgJiYgY29tcG9uZW50TmFtZSA9PT0gJ3Rvb2xib3gnKSB7XG4gICAgcmV0dXJuIHRvb2xCb3g7XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn07XG5cbkZ1c2lvbkNoYXJ0cy5leHRBUEkgPSBmdW5jdGlvbiAob2JqKSB7XG4gIG9iai5pbml0KGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgYXJnc1RvQXBwbHkgPSBbXTtcbiAgICB2YXIgY2IgPSBhcmd1bWVudHNbYXJndW1lbnRzLmxlbmd0aCAtIDFdO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoIC0gMTsgaSsrKSB7XG4gICAgICBpZiAoYXJndW1lbnRzW2ldID09PSAnWC1BeGlzJykge1xuICAgICAgICBhcmdzVG9BcHBseS5wdXNoKDE1Njc3Mik7XG4gICAgICB9IGVsc2UgaWYgKGFyZ3VtZW50c1tpXSA9PT0gJ1ktQXhpcycpIHtcbiAgICAgICAgYXJnc1RvQXBwbHkucHVzaCgxNTY3NjUpO1xuICAgICAgfSBlbHNlIGlmIChhcmd1bWVudHNbaV0gPT09ICdncmFwaGljcycpIHtcbiAgICAgICAgdmFyIHBhcGVyID0gUmFwaGFlbCgxMCwgNTAsIDUwMCwgNTAwKTtcbiAgICAgICAgYXJnc1RvQXBwbHkucHVzaChwYXBlcik7XG4gICAgICB9IGVsc2UgaWYgKGFyZ3VtZW50c1tpXSA9PT0gJ2NoYXJ0Jykge1xuICAgICAgICBhcmdzVG9BcHBseS5wdXNoKG5ldyBGdXNpb25DaGFydHMoKSk7XG4gICAgICB9XG4gICAgfVxuICAgIGNiLmFwcGx5KHRoaXMsIGFyZ3NUb0FwcGx5KTtcbiAgfSk7XG5cbiAgb2JqLnBsYWNlSW5DYW52YXMoKTtcblxuICBvYmouZHJhdygpO1xuXG4gIG9iai5kaXNwb3NlKCk7XG59O1xuXG5pZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIG1vZHVsZS5leHBvcnRzICE9PSAndW5kZWZpbmVkJykge1xuICBtb2R1bGUuZXhwb3J0cyA9IEZ1c2lvbkNoYXJ0cztcbn0gZWxzZSB7XG4gIHdpbmRvdy5GdXNpb25DaGFydHMgPSBGdXNpb25DaGFydHM7XG59XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vbGliL2Z1c2lvbmNoYXJ0cy5qc1xuICoqIG1vZHVsZSBpZCA9IDZcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyJdfQ==