(function(a){function b(d){if(c[d])return c[d].exports;var f=c[d]={exports:{},id:d,loaded:!1};return a[d].call(f.exports,f,f.exports,b),f.loaded=!0,f.exports}var c={};return b.m=a,b.c=c,b.p='',b(0)})([function(a,b,c){'use strict';const d=c(1);(function(f,g){'object'==typeof a&&a.exports?a.exports=f.document?g(f):function(h){if(!h.document)throw new Error('Window with document not present');return g(h,!0)}:f.DateRangeChooser=g(f,!0)})('undefined'==typeof window?this:window,function(f){var g=f.FusionCharts;g.register('extension',['private','date-range-chooser',function(){var h=this.hcLib.DateTimeFormatter;g.registerComponent('extensions','date-range-chooser',d({FusionCharts:g,DateTimeFormatter:h}))}])})},function(a){'use strict';a.exports=function(b){class c{constructor(){if(this.startDt=0,this.endDt=0,this.startDataset=0,this.endDataset=0,'function'==typeof b.FusionCharts)this.toolbox=b.FusionCharts.getComponent('api','toolbox');else throw new Error('Unable to find FusionCharts.');if('function'==typeof b.FusionCharts)this.DateTimeFormatter=b.DateTimeFormatter;else throw new Error('Unable to find DateTimeFormatter.');this.HorizontalToolbar=this.toolbox.HorizontalToolbar,this.ComponentGroup=this.toolbox.ComponentGroup,this.isDrawn=!1,this.startTooltipErrorMsg='',this.endTooltipErrorMsg='',this.createObjectAssign()}get startDate(){return this.startDt}set startDate(d){let f=this.getTimestamp(d),g=this.getDate(this.startDt),h=this.globalReactiveModel.model['x-axis-absolute-range-start'],j=this.globalReactiveModel.model['x-axis-absolute-range-end'],k=this.minActiveInterval,l=this.endDt-f;g===d?'errored'===this.fromDate.state&&this.fromDate.updateVisual('enabled'):this.isBetween(f,h,j,'from')&&this.isBeforeOrEqualTo(f,this.endDt,'from')&&this.diffIsGreaterThan(l,k,'from')?(this.startDt=f,this.globalReactiveModel.model['x-axis-visible-range-start']=this.startDt):(this.toError.group.hide(),this.fromDate.updateVisual('errored'))}isBeforeOrEqualTo(d,f,g){return!!(d<=f)||(this.startTooltipErrorMsg='<span style="color: '+this.config.styles['input-error-tooltip-font-color']+'">Date must be less than end date!</span>','from'===g&&this.setErrorMsg(this.fromError,'Date must be less than end date!'),!1)}get endDate(){return this.endDt}set endDate(d){let f=this.getTimestamp(d),g=this.getDate(this.endDt),h=this.globalReactiveModel.model['x-axis-absolute-range-start'],j=this.globalReactiveModel.model['x-axis-absolute-range-end'],k=this.minActiveInterval,l=f-this.startDt;g===d?'errored'===this.toDate.state&&this.toDate.updateVisual('enabled'):this.isBetween(f,h,j,'to')&&this.isAfterOrEqualTo(f,this.startDt,'to')&&this.diffIsGreaterThan(l,k,'to')?(this.endDt=f,this.globalReactiveModel.model['x-axis-visible-range-end']=this.endDt):(this.fromError.group.hide(),this.toDate.updateVisual('errored'))}isAfterOrEqualTo(d,f,g){return!!(d>=f)||(this.endTooltipErrorMsg='<span style="color: '+this.config.styles['input-error-tooltip-font-color']+'">Date must be greater than start date!</span>','to'===g&&this.setErrorMsg(this.toError,'Date must be greater than start date!'),!1)}isBetween(d,f,g,h){return d>=f&&d<=g||(this.startTooltipErrorMsg=this.endTooltipErrorMsg='<span style="color: '+this.config.styles['input-error-tooltip-font-color']+'">Date out of bounds!</span>','from'===h?this.setErrorMsg(this.fromError,'Date out of bounds!'):'to'==h&&this.setErrorMsg(this.toError,'Date out of bounds!'),!1)}diffIsGreaterThan(d,f,g){return!!(d>f)||(this.startTooltipErrorMsg=this.endTooltipErrorMsg='<span style="color: '+this.config.styles['input-error-tooltip-font-color']+'">Zoom limit exceeded!</span>','from'===g?this.setErrorMsg(this.fromError,'Zoom limit exceeded!'):'to'==g&&this.setErrorMsg(this.toError,'Zoom limit exceeded!'),!1)}getTimestamp(d){let f=this.config.dateFormat,g=new b.DateTimeFormatter(f);return+g.getNativeDate(d)}getDate(d){var f=this.config.dateFormat;return this.DateTimeFormatter.formatAs(d,f)}setConfig(){}getConfig(){return{calendarVisible:'false'}}createConfig(d){let f={};return f.disabled=d.disabled||!1,f.layout=d.layout||'inline',f.orientation=d.orientation||'horizontal',f.position=d.position||'top',f.alignment=d.alignment||'right',f.dateFormat=d.dateFormat||'%d-%m-%Y',f.fromText=d.fromText||'From:',f.fromTooltipText=d.fromTooltipText||'From Date',f.toText=d.toText||'To:',f.toTooltipText=d.toTooltipText||'To Date',f.styles=Object.assign({width:120,height:22,'font-family':'"Lucida Grande", sans-serif','font-size':13,'font-color':'#4B4B4B','input-fill':'#FFFFFF','input-border-thickness':1,'input-border-color':'#CED5D4','input-border-radius':1,'input-shadow-fill':'#000000','input-shadow-opacity':0.35,'input-focus-fill':'#FFFFFF','input-focus-border-thickness':1,'input-focus-border-color':'#1E1F1F','input-error-fill':'#FFEFEF','input-error-border-thickness':1,'input-error-border-color':'#D25353','input-error-tooltip-font-color':'#FF0000'},d.styles),f}createErrorGroup(d){let h,j,k,l,m,n,o,p,q,r,f=this,g=f.graphics.paper,s=f.config.orientation,t=f.config.position;return'horizontal'===s?'top'===t?(r=d.getBoundElement().getBBox(),n=g.group('error-group'),l=g.rect(r.x,r.y-r.height,20,20,n),q=l.getBBox(),h=g.circle(q.x+5+1,q.y+6+4,6,n),p=h.getBBox(),j=this.getCrossPath(p,4),k=g.path(j,n),m=g.text(p.x+p.width+4,q.y+2,'',n),o=m.getBBox()):'bottom'===t&&(r=d.getBoundElement().getBBox(),n=g.group('error-group'),l=g.rect(r.x,r.y+r.height,20,20,n),q=l.getBBox(),h=g.circle(q.x+5+1,q.y+6+4,6,n),p=h.getBBox(),j=this.getCrossPath(p,4),k=g.path(j,n),m=g.text(p.x+p.width+4,q.y+2,'',n),o=m.getBBox()):'vertical'===s&&(r=d.getBoundElement().getBBox(),n=g.group('error-group'),l=g.rect(r.x,r.y+r.height,20,20,n),q=l.getBBox(),h=g.circle(q.x+5+1,q.y+6+4,6,n),p=h.getBBox(),j=this.getCrossPath(p,4),k=g.path(j,n),m=g.text(p.x+p.width+4,q.y+2,'',n),o=m.getBBox()),h.attr({stroke:'#D71F26','stroke-width':'1',fill:'none'}),k.attr({stroke:'#000000','stroke-width':'1.5'}),m.attr({'text-anchor':'start',y:o.y+o.height,fill:'#D80000','font-family':'"Lucida Grande", sans-serif','font-size':'12'}),l.attr({fill:'#FFFFFF','fill-opacity':'0.8','stroke-width':'0',width:o.width+p.width}),n.attr({visibility:'hidden'}),{group:n,cross:k,circle:h,rect:l,text:m}}getCrossPath(d){let f=Math.round(d.x),g=Math.round(d.y),h=Math.round(d.x2),j=Math.round(d.y2),k=f+4,l=g+2,m=h-4,n=j-3,o='M'+k+','+l+'L'+m+','+n;return o+='M'+k+','+n+'L'+m+','+l,o}setErrorMsg(d,f){let g,h,j;if(d.text.attr('text')!==f&&(d.text.attr('text',f),d.rect.attr('width',d.text.getBBox().width+8+d.circle.getBBox().width+2),g=d.rect.getBBox().x,h=d.rect.getBBox().width,j=g+h,console.log(j,this.containerRight),j>this.containerRight)){let k=j-this.containerRight;d.rect.attr('x',g-k),d.circle.attr('cx',d.circle.getBBox().x-k+5),d.cross.translate(-k-1,0),d.text.attr('x',d.text.getBBox().x-k)}}createObjectAssign(){'function'!=typeof Object.assign&&(Object.assign=function(d){'use strict';if(null==d)throw new TypeError('Cannot convert undefined or null to object');var f=Object(d);for(let g=1;g<arguments.length;g++){let h=arguments[g];if(null!=h)for(let j in h)Object.prototype.hasOwnProperty.call(h,j)&&(f[j]=h[j])}return f})}init(d){var f=this;return d(['xAxis','graphics','chart','dataset','globalReactiveModel','spaceManagerInstance','extData','smartLabel','chartInstance',function(g,h,j,k,l,m,n,o,p){f.xAxis=g,f.graphics=h,f.chart=j,f.dataset=k,f.globalReactiveModel=l,f.spaceManagerInstance=m,f.config=f.createConfig(n),f.smartLabel=o,f.chartInstance=p}]),f.startDt=f.globalReactiveModel.model['x-axis-visible-range-start'],f.endDt=f.globalReactiveModel.model['x-axis-visible-range-end'],f.toolbars=[],f.measurement={},f.toolbars.push(f.createToolbar()),f}createToolbar(){var d,g,h,j,k,l,m,f=this;let n={},o={};return f.fromDate={},f.toDate={},l=this.getDate(this.startDt),m=this.getDate(this.endDt),d=new this.HorizontalToolbar({paper:this.graphics.paper,chart:this.chart,smartLabel:this.smartLabel,chartContainer:this.graphics.container}),d.setConfig({fill:'#FFFFFF',borderThickness:0}),j=new this.toolbox.ComponentGroup({paper:this.graphics.paper,chart:this.chart,smartLabel:this.smartLabel,chartContainer:this.graphics.container}),k=new this.toolbox.ComponentGroup({paper:this.graphics.paper,chart:this.chart,smartLabel:this.smartLabel,chartContainer:this.graphics.container}),j.setConfig({fill:'#FFFFFF',borderThickness:0}),k.setConfig({fill:'#FFFFFF',borderThickness:0}),g=new this.toolbox.Label(this.config.fromText,{smartLabel:this.smartLabel,paper:this.graphics.paper},{text:{style:{'font-size':this.config.styles['font-size'],'font-family':this.config.styles['font-family'],fill:this.config.styles['font-color']}},container:{width:40}}),h=new this.toolbox.Label(this.config.toText,{smartLabel:this.smartLabel,paper:this.graphics.paper},{text:{style:{'font-size':this.config.styles['font-size'],'font-family':this.config.styles['font-family'],fill:this.config.styles['font-color'],'text-anchor':'start'}},container:{width:40}}),f.fromDate=new this.toolbox.InputTextBoxSymbol({width:this.config.styles.width,height:this.config.styles.height},{paper:this.graphics.paper,chart:this.chart,smartLabel:this.smartLabel,chartContainer:this.graphics.container},{strokeWidth:this.config.styles['input-border-thickness'],fill:this.config.styles['input-fill'],stroke:this.config.styles['input-border-color'],radius:this.config.styles['input-border-radius'],btnTextStyle:{fontFamily:this.config.styles['font-family'],fontSize:this.config.styles['font-size']},shadow:{fill:this.config.styles['input-shadow-fill'],opacity:this.config.styles['input-shadow-opacity']},label:l,labelFill:this.config.styles['font-color']}),f.fromDate.addCustomState('errored',{config:{hover:{fill:this.config.styles['input-error-fill'],'stroke-width':this.config.styles['input-error-border-thickness'],stroke:this.config.styles['input-error-border-color']},normal:{fill:this.config.styles['input-error-fill'],'stroke-width':this.config.styles['input-error-border-thickness'],stroke:this.config.styles['input-error-border-color']},pressed:{fill:this.config.styles['input-error-fill'],'stroke-width':this.config.styles['input-error-border-thickness'],stroke:this.config.styles['input-error-border-color']}}}),f.fromDate.setStateConfig({pressed:{config:{pressed:{fill:this.config.styles['input-focus-fill'],'stroke-width':this.config.styles['input-focus-border-thickness'],stroke:this.config.styles['input-focus-border-color']},normal:{fill:this.config.styles['input-focus-fill'],'stroke-width':this.config.styles['input-focus-border-thickness'],stroke:this.config.styles['input-focus-border-color']},hover:{fill:this.config.styles['input-focus-fill'],'stroke-width':this.config.styles['input-focus-border-thickness'],stroke:this.config.styles['input-focus-border-color']}}},enabled:{config:{pressed:{fill:this.config.styles['input-fill'],'stroke-width':this.config.styles['input-border-thickness'],stroke:this.config.styles['input-border-color']},normal:{fill:this.config.styles['input-fill'],'stroke-width':this.config.styles['input-border-thickness'],stroke:this.config.styles['input-border-color']},hover:{fill:this.config.styles['input-fill'],'stroke-width':this.config.styles['input-border-thickness'],stroke:this.config.styles['input-border-color']}}}}),f.toDate=new this.toolbox.InputTextBoxSymbol({width:this.config.styles.width,height:this.config.styles.height},{paper:this.graphics.paper,chart:this.chart,smartLabel:this.smartLabel,chartContainer:this.graphics.container},{strokeWidth:this.config.styles['input-border-thickness'],fill:this.config.styles['input-fill'],stroke:this.config.styles['input-border-color'],radius:this.config.styles['input-border-radius'],btnTextStyle:{fontFamily:this.config.styles['font-family'],fontSize:this.config.styles['font-size']},shadow:{fill:this.config.styles['input-shadow-fill'],opacity:this.config.styles['input-shadow-opacity']},label:m,labelFill:this.config.styles['font-color']}),f.toDate.addCustomState('errored',{config:{hover:{fill:this.config.styles['input-error-fill'],'stroke-width':this.config.styles['input-error-border-thickness'],stroke:this.config.styles['input-error-border-color']},normal:{fill:this.config.styles['input-error-fill'],'stroke-width':this.config.styles['input-error-border-thickness'],stroke:this.config.styles['input-error-border-color']},pressed:{fill:this.config.styles['input-error-fill'],'stroke-width':this.config.styles['input-error-border-thickness'],stroke:this.config.styles['input-error-border-color']}}}),f.toDate.setStateConfig({pressed:{config:{pressed:{fill:this.config.styles['input-focus-fill'],'stroke-width':this.config.styles['input-focus-border-thickness'],stroke:this.config.styles['input-focus-border-color']},normal:{fill:this.config.styles['input-focus-fill'],'stroke-width':this.config.styles['input-focus-border-thickness'],stroke:this.config.styles['input-focus-border-color']},hover:{fill:this.config.styles['input-focus-fill'],'stroke-width':this.config.styles['input-focus-border-thickness'],stroke:this.config.styles['input-focus-border-color']}},enabled:{config:{pressed:{fill:this.config.styles['input-fill'],'stroke-width':this.config.styles['input-border-thickness'],stroke:this.config.styles['input-border-color']},normal:{fill:this.config.styles['input-fill'],'stroke-width':this.config.styles['input-border-thickness'],stroke:this.config.styles['input-border-color']},hover:{fill:this.config.styles['input-fill'],'stroke-width':this.config.styles['input-border-thickness'],stroke:this.config.styles['input-border-color']}}}}}),n={click:{fn:function(){'errored'===f.fromDate.state&&''!==f.fromError.text.attr('text')&&(f.toError.group.hide(),f.fromError.group.show()),f.fromDate.edit(),f.fromDate.updateVisual('pressed')}},keypress:p=>{let q=p||window.event,r=q.which||q.keyCode;13===r&&(f.startDate=f.fromDate.getText(),'errored'===f.fromDate.state?f.fromError.group.show():(f.fromDate.blur(),f.fromError.group.hide(),f.fromDate.updateVisual('enabled')))},textOnBlur:function(){f.fromDate.blur(),f.startDate=f.fromDate.getText(),'errored'===f.fromDate.state?f.fromError.group.show():(f.fromDate.blur(),f.fromError.group.hide(),f.fromDate.updateVisual('enabled'))}},f.fromDate.attachEventHandlers(n),o={click:{fn:()=>{'errored'===f.toDate.state&&''!==f.toError.text.attr('text')&&(f.fromError.group.hide(),f.toError.group.show()),f.toDate.edit(),f.toDate.updateVisual('pressed')}},keypress:p=>{let q=p||window.event,r=q.which||q.keyCode;13===r&&(f.endDate=f.toDate.getText(),'errored'===f.toDate.state?f.toError.group.show():(f.toDate.blur(),f.toError.group.hide(),f.toDate.updateVisual('enabled')))},textOnBlur:function(){f.toDate.blur(),f.endDate=f.toDate.getText(),'errored'===f.toDate.state?f.toError.group.show():(f.toDate.blur(),f.toError.group.hide(),f.toDate.updateVisual('enabled'))}},f.toDate.attachEventHandlers(o),j.addSymbol(g),j.addSymbol(f.fromDate),k.addSymbol(h),k.addSymbol(f.toDate),d.addComponent(j),d.addComponent(k),d}getLogicalSpace(d,f){var g=this.toolbars[0].getLogicalSpace(d,f);return this.toolbars[0].width=g.width,this.toolbars[0].height=g.height,{width:g.width,height:g.height}}placeInCanvas(){var d=this;d.spaceManagerInstance.add([{name:function(){return'DateRangeChooserToolbox'},ref:function(f){return f['0']},self:function(){return d},priority:function(){return 2},layout:function(f){return f[d.config.layout]},orientation:[{type:function(f){return f[d.config.orientation]},position:[{type:function(f){return f[d.config.position]},alignment:[{type:function(f){return f[d.config.alignment]},dimensions:[function(){var f=this.getParentComponentGroup();return d.getLogicalSpace(f.getWidth(),f.getHeight())}]}]}]}]}])}setDrawingConfiguration(d,f,g,h,j){var k=this.measurement;return k.x=d,k.y=f,k.width=g,k.height=h,this.parentGroup=j,this}draw(d,f,g,h,j){let n,o,p,k=this,l=k.measurement,m=k.toolbars,q=k.globalReactiveModel;if(d=void 0===d?l.x:d,f=void 0===f?l.y:f,g=void 0===g?l.width:g,h=void 0===h?l.height:h,j=void 0===j?k.parentGroup:j,g&&h){for(k.isDrawn=!0,o=0,n=m.length;o<n;o++)p=m[o],p.draw(d,f,j);q.onPropsChange(['x-axis-visible-range-start','x-axis-visible-range-end'],(r,s)=>{k.startDt=r[1],k.fromDate.blur(k.getDate(r[1])),k.fromError.text.attr('text',''),k.fromError.group.hide(),k.fromDate.updateVisual('enabled'),k.endDt=s[1],k.toDate.blur(k.getDate(s[1])),k.toError.text.attr('text',''),k.toError.group.hide(),k.toDate.updateVisual('enabled')})}'vertical'===k.config.orientation?(k.fromError=k.createErrorGroup(k.toDate),k.toError=k.createErrorGroup(k.toDate)):'horizontal'===k.config.orientation&&(k.fromError=k.createErrorGroup(k.fromDate),k.toError=k.createErrorGroup(k.toDate)),k.startDataset=k.globalReactiveModel.model['x-axis-absolute-range-start'],k.endDataset=k.globalReactiveModel.model['x-axis-absolute-range-end'],k.maxXAxisTicks=k.globalReactiveModel.model['x-axis-maximum-allowed-ticks'],k.maxXAxisTicks=k.globalReactiveModel.model['x-axis-maximum-allowed-ticks'],k.minDatestampDiff=k.globalReactiveModel.model['minimum-consecutive-datestamp-diff'],k.minActiveInterval=k.maxXAxisTicks*k.minDatestampDiff,k.containerRight=k.graphics.container.clientLeft+k.graphics.container.clientWidth,k.containerBottom=k.graphics.container.clientTop+k.graphics.container.clientHeight}}return c}}]);
//# sourceMappingURL=date-range-chooser.min.js.map