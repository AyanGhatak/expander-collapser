(function(a){function b(d){if(c[d])return c[d].exports;var f=c[d]={exports:{},id:d,loaded:!1};return a[d].call(f.exports,f,f.exports,b),f.loaded=!0,f.exports}var c={};return b.m=a,b.c=c,b.p='',b(0)})([function(a,b,c){'use strict';const d=c(1);window.dr=new d;(function(f,g){'object'==typeof a&&a.exports?a.exports=f.document?g(f):function(h){if(!h.document)throw new Error('Window with document not present');return g(h,!0)}:f.DateRangeChooser=g(f,!0)})('undefined'==typeof window?this:window,function(f){var g=f.FusionCharts;g.register('extension',['private','date-range-chooser',function(){var h=this.hcLib.DateTimeFormatter;g.registerComponent('extensions','date-range-chooser',d({FusionCharts:g,DateTimeFormatter:h}))}])})},function(a){'use strict';a.exports=function(b){class c{constructor(){if(this.startDt=0,this.endDt=0,this.startDataset=0,this.endDataset=0,'function'==typeof b.FusionCharts)this.toolbox=b.FusionCharts.getComponent('api','toolbox');else throw new Error('Unable to find FusionCharts.');if('function'==typeof b.FusionCharts)this.DateTimeFormatter=b.DateTimeFormatter;else throw new Error('Unable to find DateTimeFormatter.');this.HorizontalToolbar=this.toolbox.HorizontalToolbar,this.ComponentGroup=this.toolbox.ComponentGroup,this.isDrawn=!1,this.startTooltipErrorMsg='',this.endTooltipErrorMsg=''}get startDate(){return this.startDt}set startDate(d){let f=this.getTimestamp(d),g=this.getDate(this.startDt),h=this.globalReactiveModel.model['x-axis-absolute-range-start'],j=this.minActiveInterval,k=this.endDt-f;g===d?'errored'===this.fromDate.state&&this.fromDate.updateVisual('enabled'):this.isBeforeOrEqualTo(f,this.endDt)&&this.isSameOrAfter(f,h)&&this.diffIsGreaterThan(k,j)?(this.startDt=f,this.globalReactiveModel.model['x-axis-visible-range-start']=this.startDt):this.fromDate.updateVisual('errored')}isBeforeOrEqualTo(d,f){return!!(d<=f)||(this.startTooltipErrorMsg='<span style="color: '+this.config.styles['input-error-tooltip-font-color']+'">Date must be less than end date!</span>',!1)}isSameOrAfter(d,f){return!!(d>=f)||(this.startTooltipErrorMsg='<span style="color: '+this.config.styles['input-error-tooltip-font-color']+'">Date out of bounds!</span>',!1)}get endDate(){return this.endDt}set endDate(d){let f=this.getTimestamp(d),g=this.getDate(this.endDt),h=this.globalReactiveModel.model['x-axis-absolute-range-end'],j=this.minActiveInterval,k=f-this.startDt;g===d?'errored'===this.toDate.state&&this.toDate.updateVisual('enabled'):this.isGreaterThanOrEqualTo(f,this.startDt)&&this.isSameOrBefore(f,h)&&this.diffIsGreaterThan(k,j)?(this.endDt=f,this.globalReactiveModel.model['x-axis-visible-range-end']=this.endDt):this.toDate.updateVisual('errored')}isGreaterThanOrEqualTo(d,f){return!!(d>=f)||(this.endTooltipErrorMsg='<span style="color: '+this.config.styles['input-error-tooltip-font-color']+'">Date must be greater than start date!</span>',!1)}isSameOrBefore(d,f){return!!(d<=f)||(this.endTooltipErrorMsg='<span style="color: '+this.config.styles['input-error-tooltip-font-color']+'">Date out of bounds!</span>',!1)}diffIsGreaterThan(d,f){return!!(d>f)||(this.startTooltipErrorMsg=this.endTooltipErrorMsg='<span style="color: '+this.config.styles['input-error-tooltip-font-color']+'">Zoom limit exceeded!</span>',!1)}getTimestamp(d){let f=this.config.dateFormat,g=new b.DateTimeFormatter(f);return+g.getNativeDate(d)}getDate(d){var f=this.config.dateFormat;return this.DateTimeFormatter.formatAs(d,f)}setConfig(){}getConfig(){return{calendarVisible:'false'}}createConfig(d){let f={};return f.disabled=d.disabled||'false',f.layout=d.layout||'inline',f.orientation=d.orientation||'horizontal',f.position=d.position||'top',f.alignment=d.alignment||'right',f.dateFormat=d.dateFormat||'%d-%m-%Y',f.fromText=d.fromText||'From:',f.fromTooltipText=d.fromTooltipText||'From Date',f.toText=d.toText||'To:',f.toTooltipText=d.toTooltipText||'To Date',f.styles=d.styles||{width:120,height:22,'font-family':'"Lucida Grande", sans-serif','font-size':13,'font-color':'#4B4B4B','input-fill':'#FFFFFF','input-border-thickness':1,'input-border-color':'#CED5D4','input-border-radius':1,'input-shadow-fill':'#000000','input-shadow-opacity':0.35,'input-focus-fill':'#FFFFFF','input-focus-border-thickness':1,'input-focus-border-color':'#1E1F1F','input-error-fill':'#FFEFEF','input-error-border-thickness':1,'input-error-border-color':'#D25353','input-error-tooltip-font-color':'#FF0000'},f}init(d){var f=this;return d(['xAxis','graphics','chart','dataset','globalReactiveModel','spaceManagerInstance','extData','smartLabel','chartInstance',function(g,h,j,k,l,m,n,o,p){f.xAxis=g,f.graphics=h,f.chart=j,f.dataset=k,f.globalReactiveModel=l,f.spaceManagerInstance=m,f.config=f.createConfig(n),f.smartLabel=o,f.chartInstance=p}]),f.startDt=f.globalReactiveModel.model['x-axis-visible-range-start'],f.endDt=f.globalReactiveModel.model['x-axis-visible-range-end'],f.toolbars=[],f.measurement={},f.toolbars.push(f.createToolbar()),f}createToolbar(){var d,g,h,j,k,l,m,f=this;let n={},o={};return f.fromDate={},f.toDate={},l=this.getDate(this.startDt),m=this.getDate(this.endDt),d=new this.HorizontalToolbar({paper:this.graphics.paper,chart:this.chart,smartLabel:this.smartLabel,chartContainer:this.graphics.container}),d.setConfig({fill:'#FFFFFF',borderThickness:0}),j=new this.toolbox.ComponentGroup({paper:this.graphics.paper,chart:this.chart,smartLabel:this.smartLabel,chartContainer:this.graphics.container}),k=new this.toolbox.ComponentGroup({paper:this.graphics.paper,chart:this.chart,smartLabel:this.smartLabel,chartContainer:this.graphics.container}),j.setConfig({fill:'#FFFFFF',borderThickness:0}),k.setConfig({fill:'#FFFFFF',borderThickness:0}),g=new this.toolbox.Label(this.config.fromText,{smartLabel:this.smartLabel,paper:this.graphics.paper},{text:{style:{'font-size':this.config.styles['font-size'],'font-family':this.config.styles['font-family'],fill:this.config.styles['font-color']}},container:{width:40}}),h=new this.toolbox.Label(this.config.toText,{smartLabel:this.smartLabel,paper:this.graphics.paper},{text:{style:{'font-size':this.config.styles['font-size'],'font-family':this.config.styles['font-family'],fill:this.config.styles['font-color'],'text-anchor':'start'}},container:{width:40}}),f.fromDate=new this.toolbox.InputTextBoxSymbol({width:this.config.styles.width,height:this.config.styles.height},{paper:this.graphics.paper,chart:this.chart,smartLabel:this.smartLabel,chartContainer:this.graphics.container},{strokeWidth:this.config.styles['input-border-thickness'],fill:this.config.styles['input-fill'],stroke:this.config.styles['input-border-color'],radius:this.config.styles['input-border-radius'],btnTextStyle:{fontFamily:this.config.styles['font-family'],fontSize:this.config.styles['font-size']},shadow:{fill:this.config.styles['input-shadow-fill'],opacity:this.config.styles['input-shadow-opacity']},label:l,labelFill:this.config.styles['font-color']}),f.fromDate.addCustomState('errored',{config:{hover:{fill:this.config.styles['input-error-fill'],'stroke-width':this.config.styles['input-error-border-thickness'],stroke:this.config.styles['input-error-border-color']},normal:{fill:this.config.styles['input-error-fill'],'stroke-width':this.config.styles['input-error-border-thickness'],stroke:this.config.styles['input-error-border-color']},pressed:{fill:this.config.styles['input-error-fill'],'stroke-width':this.config.styles['input-error-border-thickness'],stroke:this.config.styles['input-error-border-color']}}}),f.fromDate.setStateConfig({pressed:{config:{pressed:{fill:this.config.styles['input-focus-fill'],'stroke-width':this.config.styles['input-focus-border-thickness'],stroke:this.config.styles['input-focus-border-color']},normal:{fill:this.config.styles['input-focus-fill'],'stroke-width':this.config.styles['input-focus-border-thickness'],stroke:this.config.styles['input-focus-border-color']},hover:{fill:this.config.styles['input-focus-fill'],'stroke-width':this.config.styles['input-focus-border-thickness'],stroke:this.config.styles['input-focus-border-color']}}},enabled:{config:{pressed:{fill:this.config.styles['input-fill'],'stroke-width':this.config.styles['input-border-thickness'],stroke:this.config.styles['input-border-color']},normal:{fill:this.config.styles['input-fill'],'stroke-width':this.config.styles['input-border-thickness'],stroke:this.config.styles['input-border-color']},hover:{fill:this.config.styles['input-fill'],'stroke-width':this.config.styles['input-border-thickness'],stroke:this.config.styles['input-border-color']}}}}),f.toDate=new this.toolbox.InputTextBoxSymbol({width:this.config.styles.width,height:this.config.styles.height},{paper:this.graphics.paper,chart:this.chart,smartLabel:this.smartLabel,chartContainer:this.graphics.container},{strokeWidth:this.config.styles['input-border-thickness'],fill:this.config.styles['input-fill'],stroke:this.config.styles['input-border-color'],radius:this.config.styles['input-border-radius'],btnTextStyle:{fontFamily:this.config.styles['font-family'],fontSize:this.config.styles['font-size']},shadow:{fill:this.config.styles['input-shadow-fill'],opacity:this.config.styles['input-shadow-opacity']},label:m,labelFill:this.config.styles['font-color']}),f.toDate.addCustomState('errored',{config:{hover:{fill:this.config.styles['input-error-fill'],'stroke-width':this.config.styles['input-error-border-thickness'],stroke:this.config.styles['input-error-border-color']},normal:{fill:this.config.styles['input-error-fill'],'stroke-width':this.config.styles['input-error-border-thickness'],stroke:this.config.styles['input-error-border-color']},pressed:{fill:this.config.styles['input-error-fill'],'stroke-width':this.config.styles['input-error-border-thickness'],stroke:this.config.styles['input-error-border-color']}}}),f.toDate.setStateConfig({pressed:{config:{pressed:{fill:this.config.styles['input-focus-fill'],'stroke-width':this.config.styles['input-focus-border-thickness'],stroke:this.config.styles['input-focus-border-color']},normal:{fill:this.config.styles['input-focus-fill'],'stroke-width':this.config.styles['input-focus-border-thickness'],stroke:this.config.styles['input-focus-border-color']},hover:{fill:this.config.styles['input-focus-fill'],'stroke-width':this.config.styles['input-focus-border-thickness'],stroke:this.config.styles['input-focus-border-color']}},enabled:{config:{pressed:{fill:this.config.styles['input-fill'],'stroke-width':this.config.styles['input-border-thickness'],stroke:this.config.styles['input-border-color']},normal:{fill:this.config.styles['input-fill'],'stroke-width':this.config.styles['input-border-thickness'],stroke:this.config.styles['input-border-color']},hover:{fill:this.config.styles['input-fill'],'stroke-width':this.config.styles['input-border-thickness'],stroke:this.config.styles['input-border-color']}}}}}),n={click:{fn:()=>{f.fromDate.edit(),f.fromDate.updateVisual('pressed')}},tooltext:f.config.fromTooltipText,keypress:p=>{let q=p||window.event,r=q.which||q.keyCode;13===r&&(f.startDate=f.fromDate.getText(),'errored'===f.fromDate.state?f.fromDate.svgElems.node.tooltip(f.startTooltipErrorMsg):(f.fromDate.blur(),f.fromDate.svgElems.node.tooltip(f.config.fromTooltipText),f.fromDate.updateVisual('enabled')))},textOnBlur:function(){f.fromDate.blur(),f.startDate=f.fromDate.getText(),'errored'===f.fromDate.state?f.fromDate.svgElems.node.tooltip(f.startTooltipErrorMsg):(f.fromDate.blur(),f.fromDate.svgElems.node.tooltip(f.config.fromTooltipText),f.fromDate.updateVisual('enabled'))}},f.fromDate.attachEventHandlers(n),o={click:{fn:()=>{f.toDate.edit(),f.toDate.updateVisual('pressed')}},tooltext:f.config.toTooltipText,keypress:p=>{let q=p||window.event,r=q.which||q.keyCode;13===r&&(f.endDate=f.toDate.getText(),'errored'===f.toDate.state?f.toDate.svgElems.node.tooltip(f.endTooltipErrorMsg):(f.toDate.blur(),f.toDate.svgElems.node.tooltip(f.config.toTooltipText),f.toDate.updateVisual('enabled')))},textOnBlur:function(){f.toDate.blur(),f.endDate=f.toDate.getText(),'errored'===f.toDate.state?f.toDate.svgElems.node.tooltip(f.endTooltipErrorMsg):(f.toDate.blur(),f.toDate.svgElems.node.tooltip(f.config.toTooltipText),f.toDate.updateVisual('enabled'))}},f.toDate.attachEventHandlers(o),j.addSymbol(g),j.addSymbol(f.fromDate),k.addSymbol(h),k.addSymbol(f.toDate),d.addComponent(j),d.addComponent(k),d}getLogicalSpace(d,f){var g,k,l,h=0,j=0;for(d/=2,k=0,l=this.toolbars.length;k<l;k++)g=this.toolbars[k].getLogicalSpace(d,f),h=Math.max(g.width,h),j+=g.height,this.toolbars[k].width=g.width,this.toolbars[k].height=g.height;return j+=this.padding,{width:h,height:j}}placeInCanvas(){var d=this;d.padding=5,d.spaceManagerInstance.add([{name:function(){return'DateRangeChooserToolbox'},ref:function(f){return f['0']},self:function(){return d},priority:function(){return 2},layout:function(f){return f[d.config.layout]},orientation:[{type:function(f){return f[d.config.orientation]},position:[{type:function(f){return f[d.config.position]},alignment:[{type:function(f){return f[d.config.alignment]},dimensions:[function(){var f=this.getParentComponentGroup();return d.getLogicalSpace(f.getWidth(),f.getHeight())}]}]}]}]}])}setDrawingConfiguration(d,f,g,h,j){var k=this.measurement;return k.x=d,k.y=f,k.width=g,k.height=h,this.parentGroup=j,this}draw(d,f,g,h,j){let n,o,p,k=this,l=k.measurement,m=k.toolbars,q=k.globalReactiveModel;if(d=void 0===d?l.x:d,f=void 0===f?l.y:f,g=void 0===g?l.width:g,h=void 0===h?l.height:h,j=void 0===j?k.parentGroup:j,g&&h){for(k.isDrawn=!0,o=0,n=m.length;o<n;o++)p=m[o],p.draw(d,f,j);q.onPropsChange(['x-axis-visible-range-start','x-axis-visible-range-end'],(r,s)=>{k.startDt=r[1],k.fromDate.blur(k.getDate(r[1])),k.fromDate.svgElems.node.tooltip(k.config.fromTooltipText),k.fromDate.updateVisual('enabled'),k.endDt=s[1],k.toDate.blur(k.getDate(s[1])),k.toDate.svgElems.node.tooltip(k.config.toTooltipText),k.toDate.updateVisual('enabled')})}k.startDataset=k.globalReactiveModel.model['x-axis-absolute-range-start'],k.endDataset=k.globalReactiveModel.model['x-axis-absolute-range-end'],k.maxXAxisTicks=k.globalReactiveModel.model['x-axis-maximum-allowed-ticks'],k.maxXAxisTicks=k.globalReactiveModel.model['x-axis-maximum-allowed-ticks'],k.minDatestampDiff=k.globalReactiveModel.model['minimum-consecutive-datestamp-diff'],k.minActiveInterval=k.maxXAxisTicks*k.minDatestampDiff}}return c}}]);
//# sourceMappingURL=date-range-chooser.min.js.map