(function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={exports:{},id:d,loaded:!1};return a[d].call(e.exports,e,e.exports,b),e.loaded=!0,e.exports}var c={};return b.m=a,b.c=c,b.p='',b(0)})([function(a,b,c){'use strict';const d=c(1);window.dr=new d;(function(e,f){'object'==typeof a&&a.exports?a.exports=e.document?f(e):function(g){if(!g.document)throw new Error('Window with document not present');return f(g,!0)}:e.DateRangeChooser=f(e,!0)})('undefined'==typeof window?this:window,function(e){var f=e.FusionCharts;f.register('extension',['private','date-range-chooser',function(){var g=this.hcLib.DateTimeFormatter;f.registerComponent('extensions','date-range-chooser',d({FusionCharts:f,DateTimeFormatter:g}))}])})},function(a){'use strict';a.exports=function(b){class c{constructor(){this.startDt=0,this.endDt=0,this.startDataset=0,this.endDataset=0,this.toolbox=b.FusionCharts.getComponent('api','toolbox'),this.DateTimeFormatter=b.DateTimeFormatter,this.HorizontalToolbar=this.toolbox.HorizontalToolbar,this.ComponentGroup=this.toolbox.ComponentGroup,this.SymbolStore=this.toolbox.SymbolStore,this.isDrawn=!1}get startDate(){return this.startDt}set startDate(d){let e=this.getTimestamp(d),f=this.globalReactiveModel.model['x-axis-absolute-range-start'],g=this.minActiveInterval,j=this.endDt-e;e<=this.endDt&&e>=f&&j>g?(this.startDt=e,this.globalReactiveModel.model['x-axis-visible-range-start']=this.startDt):this.fromDate.updateVisual('errored')}get endDate(){return this.endDt}set endDate(d){let e=this.getTimestamp(d),f=this.globalReactiveModel.model['x-axis-absolute-range-end'],g=this.minActiveInterval,j=e-this.startDt;e>=this.startDt&&e<=f&&j>g?(this.endDt=e,this.globalReactiveModel.model['x-axis-visible-range-end']=this.endDt):this.toDate.updateVisual('errored')}getTimestamp(d){let e=this.config.dateFormat,f=new b.DateTimeFormatter(e);return+f.getNativeDate(d)}getDate(d){var e=this.config.dateFormat;return this.DateTimeFormatter.formatAs(d,e)}setConfig(){}getConfig(){return{calendarVisible:'false'}}createExtData(d){let e={};return e.disabled=d.disabled||'false',e.layout=d.layout||'inline',e.orientation=d.orientation||'horizontal',e.position=d.position||'top',e.alignment=d.alignment||'right',e.dateFormat=d.dateFormat||'%d-%m-%Y',e.fromText=d.fromText||'From:',e.toText=d.toText||'To:',e.styles=d.styles||{width:120,height:22,'font-family':'"Lucida Grande", sans-serif','font-size':13,'font-color':'#4B4B4B','input-fill':'#FFFFFF','input-border-thickness':1,'input-border-color':'#CED5D4','input-border-radius':1,'input-focus-fill':'#FFFFFF','input-focus-border-thickness':1,'input-focus-border-color':'#1E1F1F','input-error-fill':'#FFEFEF','input-error-border-thickness':1,'input-error-border-color':'#D25353'},e}init(d){var e=this;return d(['xAxis','graphics','chart','dataset','globalReactiveModel','spaceManagerInstance','extData','smartLabel','chartInstance',function(f,g,j,k,l,m,n,o,p){e.xAxis=f,e.graphics=g,e.chart=j,e.dataset=k,e.globalReactiveModel=l,e.spaceManagerInstance=m,e.config=e.createExtData(n),e.smartLabel=o,e.chartInstance=p}]),e.startDt=e.globalReactiveModel.model['x-axis-visible-range-start'],e.endDt=e.globalReactiveModel.model['x-axis-visible-range-end'],e.toolbars=[],e.measurement={},e.toolbars.push(e.createToolbar()),e}createToolbar(){var d,f,g,j,k,l,e=this;return e.fromDate={},e.toDate={},k=this.getDate(this.startDt),l=this.getDate(this.endDt),d=new this.HorizontalToolbar({paper:this.graphics.paper,chart:this.chart,smartLabel:this.smartLabel,chartContainer:this.graphics.container}),d.setConfig({fill:'#FFFFFF',borderThickness:0}),j=new this.toolbox.ComponentGroup({paper:this.graphics.paper,chart:this.chart,smartLabel:this.smartLabel,chartContainer:this.graphics.container}),j.setConfig({fill:'#FFFFFF',borderThickness:0}),f=new this.toolbox.Label(this.config.fromText,{smartLabel:this.smartLabel,paper:this.graphics.paper},{text:{style:{'font-size':this.config.styles['font-size'],'font-family':this.config.styles['font-family'],fill:this.config.styles['font-color']}}}),g=new this.toolbox.Label(this.config.toText,{smartLabel:this.smartLabel,paper:this.graphics.paper},{text:{style:{'font-size':this.config.styles['font-size'],'font-family':this.config.styles['font-family'],fill:this.config.styles['font-color']}}}),e.fromDate=new this.toolbox.InputTextBoxSymbol({width:this.config.styles.width,height:this.config.styles.height},{paper:this.graphics.paper,chart:this.chart,smartLabel:this.smartLabel,chartContainer:this.graphics.container},{strokeWidth:this.config.styles['input-border-thickness'],fill:this.config.styles['input-fill'],stroke:this.config.styles['input-border-color'],radius:this.config.styles['input-border-radius'],btnTextStyle:{'font-family':this.config.styles['font-family'],fontSize:this.config.styles['font-size']},label:k,labelFill:this.config.styles['font-color']}),e.fromDate.addCustomState('errored',{config:{hover:{fill:this.config.styles['input-error-fill'],'stroke-width':this.config.styles['input-error-border-thickness'],stroke:this.config.styles['input-error-border-color']},normal:{fill:this.config.styles['input-error-fill'],'stroke-width':this.config.styles['input-error-border-thickness'],stroke:this.config.styles['input-error-border-color']},pressed:{fill:this.config.styles['input-error-fill'],'stroke-width':this.config.styles['input-error-border-thickness'],stroke:this.config.styles['input-error-border-color']}}}),e.fromDate.setStateConfig({pressed:{config:{pressed:{fill:this.config.styles['input-focus-fill'],'stroke-width':this.config.styles['input-focus-border-thickness'],stroke:this.config.styles['input-focus-border-color']},normal:{fill:this.config.styles['input-focus-fill'],'stroke-width':this.config.styles['input-focus-border-thickness'],stroke:this.config.styles['input-focus-border-color']},hover:{fill:this.config.styles['input-focus-fill'],'stroke-width':this.config.styles['input-focus-border-thickness'],stroke:this.config.styles['input-focus-border-color']}}},enabled:{config:{pressed:{fill:this.config.styles['input-fill'],'stroke-width':this.config.styles['input-border-thickness'],stroke:this.config.styles['input-border-color']},normal:{fill:this.config.styles['input-fill'],'stroke-width':this.config.styles['input-border-thickness'],stroke:this.config.styles['input-border-color']},hover:{fill:this.config.styles['input-fill'],'stroke-width':this.config.styles['input-border-thickness'],stroke:this.config.styles['input-border-color']}}}}),e.toDate=new this.toolbox.InputTextBoxSymbol({width:this.config.styles.width,height:this.config.styles.height},{paper:this.graphics.paper,chart:this.chart,smartLabel:this.smartLabel,chartContainer:this.graphics.container},{strokeWidth:this.config.styles['input-border-thickness'],fill:this.config.styles['input-fill'],stroke:this.config.styles['input-border-color'],radius:this.config.styles['input-border-radius'],btnTextStyle:{'font-family':this.config.styles['font-family'],fontSize:this.config.styles['font-size']},label:l,labelFill:this.config.styles['font-color']}),e.toDate.addCustomState('errored',{config:{hover:{fill:this.config.styles['input-error-fill'],'stroke-width':this.config.styles['input-error-border-thickness'],stroke:this.config.styles['input-error-border-color']},normal:{fill:this.config.styles['input-error-fill'],'stroke-width':this.config.styles['input-error-border-thickness'],stroke:this.config.styles['input-error-border-color']},pressed:{fill:this.config.styles['input-error-fill'],'stroke-width':this.config.styles['input-error-border-thickness'],stroke:this.config.styles['input-error-border-color']}}}),e.toDate.setStateConfig({pressed:{config:{pressed:{fill:this.config.styles['input-focus-fill'],'stroke-width':this.config.styles['input-focus-border-thickness'],stroke:this.config.styles['input-focus-border-color']},normal:{fill:this.config.styles['input-focus-fill'],'stroke-width':this.config.styles['input-focus-border-thickness'],stroke:this.config.styles['input-focus-border-color']},hover:{fill:this.config.styles['input-focus-fill'],'stroke-width':this.config.styles['input-focus-border-thickness'],stroke:this.config.styles['input-focus-border-color']}},enabled:{config:{pressed:{fill:this.config.styles['input-fill'],'stroke-width':this.config.styles['input-border-thickness'],stroke:this.config.styles['input-border-color']},normal:{fill:this.config.styles['input-fill'],'stroke-width':this.config.styles['input-border-thickness'],stroke:this.config.styles['input-border-color']},hover:{fill:this.config.styles['input-fill'],'stroke-width':this.config.styles['input-border-thickness'],stroke:this.config.styles['input-border-color']}}}}}),e.fromDate.attachEventHandlers({click:{fn:()=>{e.fromDate.edit(),e.fromDate.updateVisual('pressed')}},keypress:{fn:()=>{console.log('Whaaaa!')}},textOnBlur:function(){e.fromDate.blur(),e.startDate=e.fromDate.getText(),'errored'!==e.fromDate.state&&e.fromDate.updateVisual('enabled')}}),e.toDate.attachEventHandlers({click:{fn:()=>{e.toDate.edit(),e.toDate.updateVisual('pressed')}},textOnBlur:function(){e.toDate.blur(),e.endDate=e.toDate.getText(),'errored'!==e.toDate.state&&e.toDate.updateVisual('enabled')}}),this.SymbolStore.register('textBoxIcon',function(m,n,o,p,q,r,s){var t=m-p/2+r/2,u=m+p/2-r/2,v=n-q/2+s/2,z=n+q/2-s/2;return['M',t,v,'L',u,v,'L',u,z,'L',t,z,'Z']}),j.addSymbol(f),j.addSymbol(e.fromDate),j.addSymbol(g),j.addSymbol(e.toDate),d.addComponent(j),d}getLogicalSpace(d,e){var f,k,l,g=0,j=0;for(d/=2,k=0,l=this.toolbars.length;k<l;k++)f=this.toolbars[k].getLogicalSpace(d,e),g=Math.max(f.width,g),j+=f.height,this.toolbars[k].width=f.width,this.toolbars[k].height=f.height;return j+=this.padding,{width:g,height:j}}placeInCanvas(){var d=this;d.padding=5,d.spaceManagerInstance.add([{name:function(){return'DateRangeChooserToolbox'},ref:function(e){return e['0']},self:function(){return d},priority:function(){return 2},layout:function(e){return e[d.config.layout]},orientation:[{type:function(e){return e[d.config.orientation]},position:[{type:function(e){return e[d.config.position]},alignment:[{type:function(e){return e[d.config.alignment]},dimensions:[function(){var e=this.getParentComponentGroup();return d.getLogicalSpace(e.getWidth(),e.getHeight())}]}]}]}]}])}setDrawingConfiguration(d,e,f,g,j){var k=this.measurement;return k.x=d,k.y=e,k.width=f,k.height=g,this.parentGroup=j,this}draw(d,e,f,g,j){let n,o,p,k=this,l=k.measurement,m=k.toolbars,q=k.globalReactiveModel;if(d=void 0===d?l.x:d,e=void 0===e?l.y:e,f=void 0===f?l.width:f,g=void 0===g?l.height:g,j=void 0===j?k.parentGroup:j,f&&g){for(k.isDrawn=!0,o=0,n=m.length;o<n;o++)p=m[o],p.draw(d,e,j);q.onPropsChange(['x-axis-visible-range-start','x-axis-visible-range-end'],(r,s)=>{k.startDt=r[1],k.fromDate.blur(k.getDate(r[1])),k.fromDate.updateVisual('enabled'),k.endDt=s[1],k.toDate.blur(k.getDate(s[1])),k.fromDate.updateVisual('enabled')})}k.startDataset=k.globalReactiveModel.model['x-axis-absolute-range-start'],k.endDataset=k.globalReactiveModel.model['x-axis-absolute-range-end'],k.maxXAxisTicks=k.globalReactiveModel.model['x-axis-maximum-allowed-ticks'],k.maxXAxisTicks=k.globalReactiveModel.model['x-axis-maximum-allowed-ticks'],k.minDatestampDiff=k.globalReactiveModel.model['minimum-consecutive-datestamp-diff'],k.minActiveInterval=k.maxXAxisTicks*k.minDatestampDiff}}return c}}]);
//# sourceMappingURL=date-range-chooser.min.js.map